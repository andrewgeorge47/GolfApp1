/*! For license information please see main.935287ce.js.LICENSE.txt */
(()=>{var e={14:e=>{e.exports=function(){return!1}},143:e=>{var t=/\s/;e.exports=function(e){for(var s=e.length;s--&&t.test(e.charAt(s)););return s}},149:e=>{e.exports=function(e,t){for(var s=-1,a=null==e?0:e.length,r=Array(a);++s<a;)r[s]=t(e[s],s,e);return r}},199:function(e){e.exports=function(){"use strict";return function(e,t,s){var a=t.prototype,r=function(e){return e&&(e.indexOf?e:e.s)},n=function(e,t,s,a,n){var l=e.name?e:e.$locale(),i=r(l[t]),o=r(l[s]),c=i||o.map(function(e){return e.slice(0,a)});if(!n)return c;var d=l.weekStart;return c.map(function(e,t){return c[(t+(d||0))%7]})},l=function(){return s.Ls[s.locale()]},i=function(e,t){return e.formats[t]||function(e){return e.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(e,t,s){return t||s.slice(1)})}(e.formats[t.toUpperCase()])},o=function(){var e=this;return{months:function(t){return t?t.format("MMMM"):n(e,"months")},monthsShort:function(t){return t?t.format("MMM"):n(e,"monthsShort","months",3)},firstDayOfWeek:function(){return e.$locale().weekStart||0},weekdays:function(t){return t?t.format("dddd"):n(e,"weekdays")},weekdaysMin:function(t){return t?t.format("dd"):n(e,"weekdaysMin","weekdays",2)},weekdaysShort:function(t){return t?t.format("ddd"):n(e,"weekdaysShort","weekdays",3)},longDateFormat:function(t){return i(e.$locale(),t)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};a.localeData=function(){return o.bind(this)()},s.localeData=function(){var e=l();return{firstDayOfWeek:function(){return e.weekStart||0},weekdays:function(){return s.weekdays()},weekdaysShort:function(){return s.weekdaysShort()},weekdaysMin:function(){return s.weekdaysMin()},months:function(){return s.months()},monthsShort:function(){return s.monthsShort()},longDateFormat:function(t){return i(e,t)},meridiem:e.meridiem,ordinal:e.ordinal}},s.months=function(){return n(l(),"months")},s.monthsShort=function(){return n(l(),"monthsShort","months",3)},s.weekdays=function(e){return n(l(),"weekdays",null,null,e)},s.weekdaysShort=function(e){return n(l(),"weekdaysShort","weekdays",3,e)},s.weekdaysMin=function(e){return n(l(),"weekdaysMin","weekdays",2,e)}}}()},310:(e,t,s)=>{var a=s(1817),r=s(5990),n=s(6140);e.exports=function(e){return"function"!=typeof e.constructor||n(e)?{}:a(r(e))}},320:e=>{e.exports=function(e,t){var s=e.length;for(e.sort(t);s--;)e[s]=e[s].value;return e}},396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},438:(e,t,s)=>{var a=s(2622);e.exports=function(e){return a(this,e).get(e)}},449:(e,t,s)=>{var a=s(6924),r=s(2761);e.exports=function(e){return r(e)&&"[object Set]"==a(e)}},474:(e,t,s)=>{var a=s(3204),r=s(8122),n=s(6571);e.exports=function(e){return n(e)?a(e,!0):r(e)}},579:(e,t,s)=>{"use strict";e.exports=s(2799)},640:function(e){e.exports=function(){"use strict";var e="minute",t=/[+-]\d\d(?::?\d\d)?/g,s=/([+-]|\d\d)/g;return function(a,r,n){var l=r.prototype;n.utc=function(e){return new r({date:e,utc:!0,args:arguments})},l.utc=function(t){var s=n(this.toDate(),{locale:this.$L,utc:!0});return t?s.add(this.utcOffset(),e):s},l.local=function(){return n(this.toDate(),{locale:this.$L,utc:!1})};var i=l.parse;l.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),i.call(this,e)};var o=l.init;l.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else o.call(this)};var c=l.utcOffset;l.utcOffset=function(a,r){var n=this.$utils().u;if(n(a))return this.$u?0:n(this.$offset)?c.call(this):this.$offset;if("string"==typeof a&&(a=function(e){void 0===e&&(e="");var a=e.match(t);if(!a)return null;var r=(""+a[0]).match(s)||["-",0,0],n=r[0],l=60*+r[1]+ +r[2];return 0===l?0:"+"===n?l:-l}(a),null===a))return this;var l=Math.abs(a)<=16?60*a:a,i=this;if(r)return i.$offset=l,i.$u=0===a,i;if(0!==a){var o=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(i=this.local().add(l+o,e)).$offset=l,i.$x.$localOffset=o}else i=this.utc();return i};var d=l.format;l.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return d.call(this,t)},l.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var u=l.toDate;l.toDate=function(e){return"s"===e&&this.$offset?n(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():u.call(this)};var m=l.diff;l.diff=function(e,t,s){if(e&&this.$u===e.$u)return m.call(this,e,t,s);var a=this.local(),r=n(e).local();return m.call(a,r,t,s)}}}()},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},726:e=>{e.exports=function(e,t){for(var s=-1,a=null==e?0:e.length;++s<a&&!1!==t(e[s],s,e););return e}},755:(e,t,s)=>{var a=s(8895),r=s(7116);e.exports=function e(t,s,n,l,i){var o=-1,c=t.length;for(n||(n=r),i||(i=[]);++o<c;){var d=t[o];s>0&&n(d)?s>1?e(d,s-1,n,l,i):a(i,d):l||(i[i.length]=d)}return i}},793:e=>{e.exports=function(e){var t=this.__data__,s=t.delete(e);return this.size=t.size,s}},801:(e,t,s)=>{var a=s(1141),r=s(6686),n=s(9841),l=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(n(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=a(e);var s=i.test(e);return s||o.test(e)?c(e.slice(2),s?2:8):l.test(e)?NaN:+e}},816:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(2284);function r(e){var t=function(e,t){if("object"!=(0,a.A)(e)||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var r=s.call(e,t||"default");if("object"!=(0,a.A)(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,a.A)(t)?t:t+""}},819:(e,t,s)=>{var a=s(755);e.exports=function(e){return(null==e?0:e.length)?a(e,1):[]}},887:(e,t,s)=>{var a=s(6993),r=s(1791);e.exports=function(e,t,s,n,l){return new r(a().w(e,t,s,n),l||Promise)},e.exports.__esModule=!0,e.exports.default=e.exports},914:(e,t,s)=>{var a=s(9841);e.exports=function(e){if("string"==typeof e||a(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},929:(e,t,s)=>{var a=s(3211),r=s(6571),n=s(9194),l=s(6686);e.exports=function(e,t,s){if(!l(s))return!1;var i=typeof t;return!!("number"==i?r(s)&&n(t,s.length):"string"==i&&t in s)&&a(s[t],e)}},1069:(e,t,s)=>{var a=s(8541);e.exports=function(e){return null==e?"":a(e)}},1104:(e,t,s)=>{var a=s(6614),r=s(8673);e.exports=function(e,t){return e&&a(t,r(t),e)}},1141:(e,t,s)=>{var a=s(143),r=/^\s+/;e.exports=function(e){return e?e.slice(0,a(e)+1).replace(r,""):e}},1143:(e,t,s)=>{var a=s(3028)(Object.keys,Object);e.exports=a},1163:(e,t,s)=>{var a=s(5647),r=s(3211),n=s(929),l=s(474),i=Object.prototype,o=i.hasOwnProperty,c=a(function(e,t){e=Object(e);var s=-1,a=t.length,c=a>2?t[2]:void 0;for(c&&n(t[0],t[1],c)&&(a=1);++s<a;)for(var d=t[s],u=l(d),m=-1,x=u.length;++m<x;){var h=u[m],p=e[h];(void 0===p||r(p,i[h])&&!o.call(e,h))&&(e[h]=d[h])}return e});e.exports=c},1170:e=>{e.exports=function(e,t,s){switch(s.length){case 0:return e.call(t);case 1:return e.call(t,s[0]);case 2:return e.call(t,s[0],s[1]);case 3:return e.call(t,s[0],s[1],s[2])}return e.apply(t,s)}},1268:(e,t,s)=>{var a=s(5428),r=s(7574),n=s(6832),l=n&&n.isTypedArray,i=l?r(l):a;e.exports=i},1295:(e,t,s)=>{var a=s(9812),r=a?a.prototype:void 0,n=r?r.valueOf:void 0;e.exports=function(e){return n?Object(n.call(e)):{}}},1310:e=>{e.exports=function(e,t){return function(s){return null!=s&&(s[e]===t&&(void 0!==t||e in Object(s)))}}},1340:(e,t,s)=>{var a=s(3211);e.exports=function(e,t){for(var s=e.length;s--;)if(a(e[s][0],t))return s;return-1}},1488:(e,t,s)=>{var a=s(149),r=s(7132),n=s(8140),l=s(5324),i=s(6614),o=s(6761),c=s(5857),d=s(8592),u=c(function(e,t){var s={};if(null==e)return s;var c=!1;t=a(t,function(t){return t=l(t,e),c||(c=t.length>1),t}),i(e,d(e),s),c&&(s=r(s,7,o));for(var u=t.length;u--;)n(s,t[u]);return s});e.exports=u},1497:(e,t,s)=>{"use strict";var a=s(3218);function r(){}function n(){}n.resetWarningCache=r,e.exports=function(){function e(e,t,s,r,n,l){if(l!==a){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:n,resetWarningCache:r};return s.PropTypes=s,s}},1516:(e,t,s)=>{var a=s(2929);e.exports=function(e){var t=new e.constructor(e.byteLength);return new a(t).set(new a(e)),t}},1525:function(e){e.exports=function(){"use strict";return function(e,t,s){t.prototype.isBetween=function(e,t,a,r){var n=s(e),l=s(t),i="("===(r=r||"()")[0],o=")"===r[1];return(i?this.isAfter(n,a):!this.isBefore(n,a))&&(o?this.isBefore(l,a):!this.isAfter(l,a))||(i?this.isBefore(n,a):!this.isAfter(n,a))&&(o?this.isAfter(l,a):!this.isBefore(l,a))}}}()},1629:(e,t,s)=>{var a=s(6913),r=s(6686);e.exports=function(e){if(!r(e))return!1;var t=a(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1676:(e,t,s)=>{var a=s(2969),r=s(3871);e.exports=function(e,t){return t.length<2?e:a(e,r(t,0,-1))}},1714:(e,t,s)=>{var a=s(1340);e.exports=function(e,t){var s=this.__data__,r=a(s,e);return r<0?(++this.size,s.push([e,t])):s[r][1]=t,this}},1733:(e,t,s)=>{var a=s(1775),r=s(4664),n=s(9096);e.exports=function(e,t){var s={};return t=n(t,3),r(e,function(e,r,n){a(s,r,t(e,r,n))}),s}},1775:(e,t,s)=>{var a=s(5654);e.exports=function(e,t,s){"__proto__"==t&&a?a(e,t,{configurable:!0,enumerable:!0,value:s,writable:!0}):e[t]=s}},1791:(e,t,s)=>{var a=s(5172),r=s(5546);e.exports=function e(t,s){function n(e,r,l,i){try{var o=t[e](r),c=o.value;return c instanceof a?s.resolve(c.v).then(function(e){n("next",e,l,i)},function(e){n("throw",e,l,i)}):s.resolve(c).then(function(e){o.value=e,l(o)},function(e){return n("throw",e,l,i)})}catch(t){i(t)}}var l;this.next||(r(e.prototype),r(e.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),r(this,"_invoke",function(e,t,a){function r(){return new s(function(t,s){n(e,a,t,s)})}return l=l?l.then(r,r):r()},!0)},e.exports.__esModule=!0,e.exports.default=e.exports},1817:(e,t,s)=>{var a=s(6686),r=Object.create,n=function(){function e(){}return function(t){if(!a(t))return{};if(r)return r(t);e.prototype=t;var s=new e;return e.prototype=void 0,s}}();e.exports=n},1946:(e,t,s)=>{var a=s(1340);e.exports=function(e){return a(this.__data__,e)>-1}},1980:e=>{e.exports=function(e,t){var s=-1,a=e.length;for(t||(t=Array(a));++s<a;)t[s]=e[s];return t}},2070:(e,t,s)=>{var a=s(7937)(s(6552),"Set");e.exports=a},2074:e=>{e.exports=function(e){var t=-1,s=Array(e.size);return e.forEach(function(e){s[++t]=e}),s}},2154:(e,t,s)=>{var a=s(5575),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(a){var s=t[e];return"__lodash_hash_undefined__"===s?void 0:s}return r.call(t,e)?t[e]:void 0}},2284:(e,t,s)=>{"use strict";function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}s.d(t,{A:()=>a})},2322:(e,t,s)=>{var a=s(6913),r=s(5990),n=s(2761),l=Function.prototype,i=Object.prototype,o=l.toString,c=i.hasOwnProperty,d=o.call(Object);e.exports=function(e){if(!n(e)||"[object Object]"!=a(e))return!1;var t=r(e);if(null===t)return!0;var s=c.call(t,"constructor")&&t.constructor;return"function"==typeof s&&s instanceof s&&o.call(s)==d}},2520:(e,t,s)=>{var a=s(5816),r=s(9096),n=s(9140),l=Math.max;e.exports=function(e,t,s){var i=null==e?0:e.length;if(!i)return-1;var o=null==s?0:n(s);return o<0&&(o=l(i+o,0)),a(e,r(t,3),o)}},2536:(e,t,s)=>{var a=s(149),r=s(2969),n=s(9096),l=s(8883),i=s(320),o=s(7574),c=s(5893),d=s(3279),u=s(4052);e.exports=function(e,t,s){t=t.length?a(t,function(e){return u(e)?function(t){return r(t,1===e.length?e[0]:e)}:e}):[d];var m=-1;t=a(t,o(n));var x=l(e,function(e,s,r){return{criteria:a(t,function(t){return t(e)}),index:++m,value:e}});return i(x,function(e,t){return c(e,t,s)})}},2541:e=>{e.exports=function(e){return function(){return e}}},2587:e=>{e.exports=function(e,t){for(var s=-1,a=null==e?0:e.length;++s<a;)if(t(e[s],s,e))return!0;return!1}},2597:(e,t,s)=>{var a=s(4052),r=s(9841),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/;e.exports=function(e,t){if(a(e))return!1;var s=typeof e;return!("number"!=s&&"symbol"!=s&&"boolean"!=s&&null!=e&&!r(e))||(l.test(e)||!n.test(e)||null!=t&&e in Object(t))}},2622:(e,t,s)=>{var a=s(705);e.exports=function(e,t){var s=e.__data__;return a(t)?s["string"==typeof t?"string":"hash"]:s.map}},2662:(e,t,s)=>{var a=s(5575);e.exports=function(e,t){var s=this.__data__;return this.size+=this.has(e)?0:1,s[e]=a&&void 0===t?"__lodash_hash_undefined__":t,this}},2717:(e,t,s)=>{var a=s(726),r=s(1817),n=s(4664),l=s(9096),i=s(5990),o=s(4052),c=s(4543),d=s(1629),u=s(6686),m=s(1268);e.exports=function(e,t,s){var x=o(e),h=x||c(e)||m(e);if(t=l(t,4),null==s){var p=e&&e.constructor;s=h?x?new p:[]:u(e)&&d(p)?r(i(e)):{}}return(h?a:n)(e,function(e,a,r){return t(s,e,a,r)}),s}},2740:e=>{"use strict";e.exports=function(e,t,s,a,r,n,l,i){if(!e){var o;if(void 0===t)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[s,a,r,n,l,i],d=0;(o=new Error(t.replace(/%s/g,function(){return c[d++]}))).name="Invariant Violation"}throw o.framesToPop=1,o}}},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2777:(e,t,s)=>{var a=s(5193),r=s(2761),n=Object.prototype,l=n.hasOwnProperty,i=n.propertyIsEnumerable,o=a(function(){return arguments}())?a:function(e){return r(e)&&l.call(e,"callee")&&!i.call(e,"callee")};e.exports=o},2799:(e,t)=>{"use strict";var s=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function r(e,t,a){var r=null;if(void 0!==a&&(r=""+a),void 0!==t.key&&(r=""+t.key),"key"in t)for(var n in a={},t)"key"!==n&&(a[n]=t[n]);else a=t;return t=a.ref,{$$typeof:s,type:e,key:r,ref:void 0!==t?t:null,props:a}}t.Fragment=a,t.jsx=r,t.jsxs=r},2866:(e,t,s)=>{var a=s(2969);e.exports=function(e){return function(t){return a(t,e)}}},2929:(e,t,s)=>{var a=s(6552).Uint8Array;e.exports=a},2960:(e,t,s)=>{var a=s(3738).default;e.exports=function(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],s=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}}}throw new TypeError(a(e)+" is not iterable")},e.exports.__esModule=!0,e.exports.default=e.exports},2969:(e,t,s)=>{var a=s(5324),r=s(914);e.exports=function(e,t){for(var s=0,n=(t=a(t,e)).length;null!=e&&s<n;)e=e[r(t[s++])];return s&&s==n?e:void 0}},3028:e=>{e.exports=function(e,t){return function(s){return e(t(s))}}},3097:(e,t,s)=>{var a=s(2969);e.exports=function(e,t,s){var r=null==e?void 0:a(e,t);return void 0===r?s:r}},3204:(e,t,s)=>{var a=s(3343),r=s(2777),n=s(4052),l=s(4543),i=s(9194),o=s(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var s=n(e),d=!s&&r(e),u=!s&&!d&&l(e),m=!s&&!d&&!u&&o(e),x=s||d||u||m,h=x?a(e.length,String):[],p=h.length;for(var g in e)!t&&!c.call(e,g)||x&&("length"==g||u&&("offset"==g||"parent"==g)||m&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||i(g,p))||h.push(g);return h}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3270:function(e){e.exports=function(){"use strict";return function(e,t){t.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}}()},3279:e=>{e.exports=function(e){return e}},3331:(e,t,s)=>{var a=s(9676),r=s(929),n=s(7303);e.exports=function(e){return function(t,s,l){return l&&"number"!=typeof l&&r(t,s,l)&&(s=l=void 0),t=n(t),void 0===s?(s=t,t=0):s=n(s),l=void 0===l?t<s?1:-1:n(l),a(t,s,l,e)}}},3343:e=>{e.exports=function(e,t){for(var s=-1,a=Array(e);++s<e;)a[s]=t(s);return a}},3366:(e,t,s)=>{var a=s(7894),r=s(9057);e.exports=function(e,t){return null!=e&&r(e,t,a)}},3440:(e,t,s)=>{var a=s(6552)["__core-js_shared__"];e.exports=a},3516:e=>{e.exports=function(e){var t=[];if(null!=e)for(var s in Object(e))t.push(s);return t}},3668:(e,t,s)=>{var a=s(8902),r=s(2587),n=s(8114);e.exports=function(e,t,s,l,i,o){var c=1&s,d=e.length,u=t.length;if(d!=u&&!(c&&u>d))return!1;var m=o.get(e),x=o.get(t);if(m&&x)return m==t&&x==e;var h=-1,p=!0,g=2&s?new a:void 0;for(o.set(e,t),o.set(t,e);++h<d;){var f=e[h],b=t[h];if(l)var v=c?l(b,f,h,t,e,o):l(f,b,h,e,t,o);if(void 0!==v){if(v)continue;p=!1;break}if(g){if(!r(t,function(e,t){if(!n(g,t)&&(f===e||i(f,e,s,l,o)))return g.push(t)})){p=!1;break}}else if(f!==b&&!i(f,b,s,l,o)){p=!1;break}}return o.delete(e),o.delete(t),p}},3713:(e,t,s)=>{var a=s(6140),r=s(1143),n=Object.prototype.hasOwnProperty;e.exports=function(e){if(!a(e))return r(e);var t=[];for(var s in Object(e))n.call(e,s)&&"constructor"!=s&&t.push(s);return t}},3738:e=>{function t(s){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(s)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3781:(e,t,s)=>{var a=s(9417),r=s(8673);e.exports=function(e){for(var t=r(e),s=t.length;s--;){var n=t[s],l=e[n];t[s]=[n,l,a(l)]}return t}},3871:e=>{e.exports=function(e,t,s){var a=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(s=s>r?r:s)<0&&(s+=r),r=t>s?0:s-t>>>0,t>>>=0;for(var n=Array(r);++a<r;)n[a]=e[a+t];return n}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},3932:(e,t,s)=>{var a=s(396),r=s(2866),n=s(2597),l=s(914);e.exports=function(e){return n(e)?a(l(e)):r(e)}},4052:e=>{var t=Array.isArray;e.exports=t},4065:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},4079:(e,t,s)=>{var a=s(8259),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,l=a(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,function(e,s,a,r){t.push(a?r.replace(n,"$1"):s||e)}),t});e.exports=l},4160:e=>{e.exports=function(e){var t=-1,s=Array(e.size);return e.forEach(function(e,a){s[++t]=[a,e]}),s}},4190:(e,t,s)=>{var a=s(1340);e.exports=function(e){var t=this.__data__,s=a(t,e);return s<0?void 0:t[s][1]}},4258:(e,t,s)=>{var a=s(5906)();e.exports=a},4262:(e,t,s)=>{var a=s(8895),r=s(4052);e.exports=function(e,t,s){var n=t(e);return r(e)?n:a(n,s(e))}},4288:(e,t)=>{"use strict";var s=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,f={};function b(e,t,s){this.props=e,this.context=t,this.refs=f,this.updater=s||p}function v(){}function y(e,t,s){this.props=e,this.context=t,this.refs=f,this.updater=s||p}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=b.prototype;var j=y.prototype=new v;j.constructor=y,g(j,b.prototype),j.isPureReactComponent=!0;var N=Array.isArray;function w(){}var _={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function S(e,t,a){var r=a.ref;return{$$typeof:s,type:e,key:t,ref:void 0!==r?r:null,props:a}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===s}var A=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function T(e,t,r,n,l){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var o,c,d=!1;if(null===e)d=!0;else switch(i){case"bigint":case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case s:case a:d=!0;break;case m:return T((d=e._init)(e._payload),t,r,n,l)}}if(d)return l=l(e),d=""===n?"."+E(e,0):n,N(l)?(r="",null!=d&&(r=d.replace(A,"$&/")+"/"),T(l,t,r,"",function(e){return e})):null!=l&&(C(l)&&(o=l,c=r+(null==l.key||e&&e.key===l.key?"":(""+l.key).replace(A,"$&/")+"/")+d,l=S(o.type,c,o.props)),t.push(l)),1;d=0;var u,x=""===n?".":n+":";if(N(e))for(var p=0;p<e.length;p++)d+=T(n=e[p],t,r,i=x+E(n,p),l);else if("function"===typeof(p=null===(u=e)||"object"!==typeof u?null:"function"===typeof(u=h&&u[h]||u["@@iterator"])?u:null))for(e=p.call(e),p=0;!(n=e.next()).done;)d+=T(n=n.value,t,r,i=x+E(n,p++),l);else if("object"===i){if("function"===typeof e.then)return T(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(w,w):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,r,n,l);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return d}function P(e,t,s){if(null==e)return e;var a=[],r=0;return T(e,a,"","",function(e){return t.call(s,e,r++)}),a}function D(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},R={map:P,forEach:function(e,t,s){P(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=x,t.Children=R,t.Component=b,t.Fragment=r,t.Profiler=l,t.PureComponent=y,t.StrictMode=n,t.Suspense=d,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return _.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,s){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var a=g({},e.props),r=e.key;if(null!=t)for(n in void 0!==t.key&&(r=""+t.key),t)!k.call(t,n)||"key"===n||"__self"===n||"__source"===n||"ref"===n&&void 0===t.ref||(a[n]=t[n]);var n=arguments.length-2;if(1===n)a.children=s;else if(1<n){for(var l=Array(n),i=0;i<n;i++)l[i]=arguments[i+2];a.children=l}return S(e.type,r,a)},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:i,_context:e},e},t.createElement=function(e,t,s){var a,r={},n=null;if(null!=t)for(a in void 0!==t.key&&(n=""+t.key),t)k.call(t,a)&&"key"!==a&&"__self"!==a&&"__source"!==a&&(r[a]=t[a]);var l=arguments.length-2;if(1===l)r.children=s;else if(1<l){for(var i=Array(l),o=0;o<l;o++)i[o]=arguments[o+2];r.children=i}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===r[a]&&(r[a]=l[a]);return S(e,n,r)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=_.T,s={};_.T=s;try{var a=e(),r=_.S;null!==r&&r(s,a),"object"===typeof a&&null!==a&&"function"===typeof a.then&&a.then(w,M)}catch(n){M(n)}finally{null!==t&&null!==s.types&&(t.types=s.types),_.T=t}},t.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},t.use=function(e){return _.H.use(e)},t.useActionState=function(e,t,s){return _.H.useActionState(e,t,s)},t.useCallback=function(e,t){return _.H.useCallback(e,t)},t.useContext=function(e){return _.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return _.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return _.H.useEffect(e,t)},t.useEffectEvent=function(e){return _.H.useEffectEvent(e)},t.useId=function(){return _.H.useId()},t.useImperativeHandle=function(e,t,s){return _.H.useImperativeHandle(e,t,s)},t.useInsertionEffect=function(e,t){return _.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return _.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return _.H.useMemo(e,t)},t.useOptimistic=function(e,t){return _.H.useOptimistic(e,t)},t.useReducer=function(e,t,s){return _.H.useReducer(e,t,s)},t.useRef=function(e){return _.H.useRef(e)},t.useState=function(e){return _.H.useState(e)},t.useSyncExternalStore=function(e,t,s){return _.H.useSyncExternalStore(e,t,s)},t.useTransition=function(){return _.H.useTransition()},t.version="19.2.0"},4353:(e,t,s)=>{e=s.nmd(e);var a=s(6552),r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,l=n&&n.exports===r?a.Buffer:void 0,i=l?l.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var s=e.length,a=i?i(s):new e.constructor(s);return e.copy(a),a}},4373:e=>{e.exports=function(e){var t=Object(e),s=[];for(var a in t)s.unshift(a);return function e(){for(;s.length;)if((a=s.pop())in t)return e.value=a,e.done=!1,e;return e.done=!0,e}},e.exports.__esModule=!0,e.exports.default=e.exports},4391:(e,t,s)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=s(7004)},4443:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(t,s,a){var r=s.prototype,n=r.format;a.en.formats=e,r.format=function(t){void 0===t&&(t="YYYY-MM-DDTHH:mm:ssZ");var s=this.$locale().formats,a=function(t,s){return t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(t,a,r){var n=r&&r.toUpperCase();return a||s[r]||e[r]||s[n].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(e,t,s){return t||s.slice(1)})})}(t,void 0===s?{}:s);return n.call(this,a)}}}()},4462:function(e){e.exports=function(){"use strict";return function(e,t){t.prototype.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)}}}()},4467:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(816);function r(e,t,s){return(t=(0,a.A)(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}},4543:(e,t,s)=>{e=s.nmd(e);var a=s(6552),r=s(14),n=t&&!t.nodeType&&t,l=n&&e&&!e.nodeType&&e,i=l&&l.exports===n?a.Buffer:void 0,o=(i?i.isBuffer:void 0)||r;e.exports=o},4545:(e,t,s)=>{var a=s(7160);e.exports=function(){this.__data__=new a,this.size=0}},4552:(e,t,s)=>{var a=s(9812),r=Object.prototype,n=r.hasOwnProperty,l=r.toString,i=a?a.toStringTag:void 0;e.exports=function(e){var t=n.call(e,i),s=e[i];try{e[i]=void 0;var a=!0}catch(o){}var r=l.call(e);return a&&(t?e[i]=s:delete e[i]),r}},4633:(e,t,s)=>{var a=s(5172),r=s(6993),n=s(5869),l=s(887),i=s(1791),o=s(4373),c=s(2960);function d(){"use strict";var t=r(),s=t.m(d),u=(Object.getPrototypeOf?Object.getPrototypeOf(s):s.__proto__).constructor;function m(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===u||"GeneratorFunction"===(t.displayName||t.name))}var x={throw:1,return:2,break:3,continue:3};function h(e){var t,s;return function(a){t||(t={stop:function(){return s(a.a,2)},catch:function(){return a.v},abrupt:function(e,t){return s(a.a,x[e],t)},delegateYield:function(e,r,n){return t.resultName=r,s(a.d,c(e),n)},finish:function(e){return s(a.f,e)}},s=function(e,s,r){a.p=t.prev,a.n=t.next;try{return e(s,r)}finally{t.next=a.n}}),t.resultName&&(t[t.resultName]=a.v,t.resultName=void 0),t.sent=a.v,t.next=a.n;try{return e.call(this,t)}finally{a.p=t.prev,a.n=t.next}}}return(e.exports=d=function(){return{wrap:function(e,s,a,r){return t.w(h(e),s,a,r&&r.reverse())},isGeneratorFunction:m,mark:t.m,awrap:function(e,t){return new a(e,t)},AsyncIterator:i,async:function(e,t,s,a,r){return(m(t)?l:n)(h(e),t,s,a,r)},keys:o,values:c}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=d,e.exports.__esModule=!0,e.exports.default=e.exports},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4664:(e,t,s)=>{var a=s(4258),r=s(8673);e.exports=function(e,t){return e&&a(e,t,r)}},4756:(e,t,s)=>{var a=s(4633)();e.exports=a;try{regeneratorRuntime=a}catch(r){"object"===typeof globalThis?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}},4816:(e,t,s)=>{var a=s(7251),r=s(7159),n=s(438),l=s(9394),i=s(6874);function o(e){var t=-1,s=null==e?0:e.length;for(this.clear();++t<s;){var a=e[t];this.set(a[0],a[1])}}o.prototype.clear=a,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=l,o.prototype.set=i,e.exports=o},5029:(e,t,s)=>{var a=s(6989),r=s(3097),n=s(3366),l=s(2597),i=s(9417),o=s(1310),c=s(914);e.exports=function(e,t){return l(e)&&i(t)?o(c(e),t):function(s){var l=r(s,e);return void 0===l&&l===t?n(s,e):a(t,l,3)}}},5043:(e,t,s)=>{"use strict";e.exports=s(4288)},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},5119:(e,t,s)=>{var a=s(6614),r=s(474);e.exports=function(e,t){return e&&a(t,r(t),e)}},5172:e=>{e.exports=function(e,t){this.v=e,this.k=t},e.exports.__esModule=!0,e.exports.default=e.exports},5173:(e,t,s)=>{e.exports=s(1497)()},5193:(e,t,s)=>{var a=s(6913),r=s(2761);e.exports=function(e){return r(e)&&"[object Arguments]"==a(e)}},5204:(e,t,s)=>{var a=s(7937)(s(6552),"Map");e.exports=a},5324:(e,t,s)=>{var a=s(4052),r=s(2597),n=s(4079),l=s(1069);e.exports=function(e,t){return a(e)?e:r(e,t)?[e]:n(l(e))}},5387:(e,t,s)=>{var a=s(7937)(s(6552),"Promise");e.exports=a},5428:(e,t,s)=>{var a=s(6913),r=s(6173),n=s(2761),l={};l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l["[object Arguments]"]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object Boolean]"]=l["[object DataView]"]=l["[object Date]"]=l["[object Error]"]=l["[object Function]"]=l["[object Map]"]=l["[object Number]"]=l["[object Object]"]=l["[object RegExp]"]=l["[object Set]"]=l["[object String]"]=l["[object WeakMap]"]=!1,e.exports=function(e){return n(e)&&r(e.length)&&!!l[a(e)]}},5538:(e,t,s)=>{var a=s(7160),r=s(4545),n=s(793),l=s(7760),i=s(3892),o=s(6788);function c(e){var t=this.__data__=new a(e);this.size=t.size}c.prototype.clear=r,c.prototype.delete=n,c.prototype.get=l,c.prototype.has=i,c.prototype.set=o,e.exports=c},5546:e=>{function t(s,a,r,n){var l=Object.defineProperty;try{l({},"",{})}catch(s){l=0}e.exports=t=function(e,s,a,r){function n(s,a){t(e,s,function(e){return this._invoke(s,a,e)})}s?l?l(e,s,{value:a,enumerable:!r,configurable:!r,writable:!r}):e[s]=a:(n("next",0),n("throw",1),n("return",2))},e.exports.__esModule=!0,e.exports.default=e.exports,t(s,a,r,n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},5575:(e,t,s)=>{var a=s(7937)(Object,"create");e.exports=a},5636:(e,t,s)=>{var a=s(1170),r=Math.max;e.exports=function(e,t,s){return t=r(void 0===t?e.length-1:t,0),function(){for(var n=arguments,l=-1,i=r(n.length-t,0),o=Array(i);++l<i;)o[l]=n[t+l];l=-1;for(var c=Array(t+1);++l<t;)c[l]=n[l];return c[t]=s(o),a(e,this,c)}}},5647:(e,t,s)=>{var a=s(3279),r=s(5636),n=s(6350);e.exports=function(e,t){return n(r(e,t,a),e+"")}},5652:(e,t,s)=>{var a=s(4664),r=s(6516)(a);e.exports=r},5654:(e,t,s)=>{var a=s(7937),r=function(){try{var e=a(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=r},5752:(e,t,s)=>{var a=s(9395),r=Object.prototype.hasOwnProperty;e.exports=function(e,t,s,n,l,i){var o=1&s,c=a(e),d=c.length;if(d!=a(t).length&&!o)return!1;for(var u=d;u--;){var m=c[u];if(!(o?m in t:r.call(t,m)))return!1}var x=i.get(e),h=i.get(t);if(x&&h)return x==t&&h==e;var p=!0;i.set(e,t),i.set(t,e);for(var g=o;++u<d;){var f=e[m=c[u]],b=t[m];if(n)var v=o?n(b,f,m,t,e,i):n(f,b,m,e,t,i);if(!(void 0===v?f===b||l(f,b,s,n,i):v)){p=!1;break}g||(g="constructor"==m)}if(p&&!g){var y=e.constructor,j=t.constructor;y==j||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof j&&j instanceof j||(p=!1)}return i.delete(e),i.delete(t),p}},5791:(e,t,s)=>{var a=s(6924),r=s(2761);e.exports=function(e){return r(e)&&"[object Map]"==a(e)}},5797:(e,t,s)=>{var a=s(4816);function r(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var s=function(){var a=arguments,r=t?t.apply(this,a):a[0],n=s.cache;if(n.has(r))return n.get(r);var l=e.apply(this,a);return s.cache=n.set(r,l)||n,l};return s.cache=new(r.Cache||a),s}r.Cache=a,e.exports=r},5816:e=>{e.exports=function(e,t,s,a){for(var r=e.length,n=s+(a?1:-1);a?n--:++n<r;)if(t(e[n],n,e))return n;return-1}},5857:(e,t,s)=>{var a=s(819),r=s(5636),n=s(6350);e.exports=function(e){return n(r(e,void 0,a),e+"")}},5869:(e,t,s)=>{var a=s(887);e.exports=function(e,t,s,r,n){var l=a(e,t,s,r,n);return l.next().then(function(e){return e.done?e.value:l.next()})},e.exports.__esModule=!0,e.exports.default=e.exports},5872:(e,t,s)=>{"use strict";s.d(t,{Lo:()=>i,cA:()=>l});const a=!1,r=!0,n=()=>{if("undefined"!==typeof window){const e=window.location.hostname;window.location.port;if("localhost"===e||"127.0.0.1"===e)return"http://100.114.25.42:3002/api";if("100.114.25.42"===e)return"http://100.114.25.42:3002/api";if("play.nngolf.co"===e||"trackmansucks.com"===e||"www.trackmansucks.com"===e)return"https://golfapp1.onrender.com/api"}return"https://golfapp1.onrender.com/api"},l={apiBaseUrl:n(),isDevelopment:a,isProduction:r,appName:"Golf League App"},i=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:"".concat(n().replace(/\/api$/,"")).concat(e):""},5893:(e,t,s)=>{var a=s(6599);e.exports=function(e,t,s){for(var r=-1,n=e.criteria,l=t.criteria,i=n.length,o=s.length;++r<i;){var c=a(n[r],l[r]);if(c)return r>=o?c:c*("desc"==s[r]?-1:1)}return e.index-t.index}},5896:(e,t)=>{"use strict";function s(e,t){var s=e.length;e.push(t);e:for(;0<s;){var a=s-1>>>1,r=e[a];if(!(0<n(r,t)))break e;e[a]=t,e[s]=r,s=a}}function a(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],s=e.pop();if(s!==t){e[0]=s;e:for(var a=0,r=e.length,l=r>>>1;a<l;){var i=2*(a+1)-1,o=e[i],c=i+1,d=e[c];if(0>n(o,s))c<r&&0>n(d,o)?(e[a]=d,e[c]=s,a=c):(e[a]=o,e[i]=s,a=i);else{if(!(c<r&&0>n(d,s)))break e;e[a]=d,e[c]=s,a=c}}}return t}function n(e,t){var s=e.sortIndex-t.sortIndex;return 0!==s?s:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var c=[],d=[],u=1,m=null,x=3,h=!1,p=!1,g=!1,f=!1,b="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function j(e){for(var t=a(d);null!==t;){if(null===t.callback)r(d);else{if(!(t.startTime<=e))break;r(d),t.sortIndex=t.expirationTime,s(c,t)}t=a(d)}}function N(e){if(g=!1,j(e),!p)if(null!==a(c))p=!0,_||(_=!0,w());else{var t=a(d);null!==t&&D(N,t.startTime-e)}}var w,_=!1,k=-1,S=5,C=-1;function A(){return!!f||!(t.unstable_now()-C<S)}function E(){if(f=!1,_){var e=t.unstable_now();C=e;var s=!0;try{e:{p=!1,g&&(g=!1,v(k),k=-1),h=!0;var n=x;try{t:{for(j(e),m=a(c);null!==m&&!(m.expirationTime>e&&A());){var l=m.callback;if("function"===typeof l){m.callback=null,x=m.priorityLevel;var i=l(m.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof i){m.callback=i,j(e),s=!0;break t}m===a(c)&&r(c),j(e)}else r(c);m=a(c)}if(null!==m)s=!0;else{var o=a(d);null!==o&&D(N,o.startTime-e),s=!1}}break e}finally{m=null,x=n,h=!1}s=void 0}}finally{s?w():_=!1}}}if("function"===typeof y)w=function(){y(E)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,P=T.port2;T.port1.onmessage=E,w=function(){P.postMessage(null)}}else w=function(){b(E,0)};function D(e,s){k=b(function(){e(t.unstable_now())},s)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(e){switch(x){case 1:case 2:case 3:var t=3;break;default:t=x}var s=x;x=t;try{return e()}finally{x=s}},t.unstable_requestPaint=function(){f=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var s=x;x=e;try{return t()}finally{x=s}},t.unstable_scheduleCallback=function(e,r,n){var l=t.unstable_now();switch("object"===typeof n&&null!==n?n="number"===typeof(n=n.delay)&&0<n?l+n:l:n=l,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:u++,callback:r,priorityLevel:e,startTime:n,expirationTime:i=n+i,sortIndex:-1},n>l?(e.sortIndex=n,s(d,e),null===a(c)&&e===a(d)&&(g?(v(k),k=-1):g=!0,D(N,n-l))):(e.sortIndex=i,s(c,e),p||h||(p=!0,_||(_=!0,w()))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=x;return function(){var s=x;x=t;try{return e.apply(this,arguments)}finally{x=s}}}},5906:e=>{e.exports=function(e){return function(t,s,a){for(var r=-1,n=Object(t),l=a(t),i=l.length;i--;){var o=l[e?i:++r];if(!1===s(n[o],o,n))break}return t}}},5921:(e,t,s)=>{var a=s(449),r=s(7574),n=s(6832),l=n&&n.isSet,i=l?r(l):a;e.exports=i},5990:(e,t,s)=>{var a=s(3028)(Object.getPrototypeOf,Object);e.exports=a},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6140:e=>{var t=Object.prototype;e.exports=function(e){var s=e&&e.constructor;return e===("function"==typeof s&&s.prototype||t)}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6291:(e,t,s)=>{"use strict";s.d(t,{$8m:()=>U,$LN:()=>ss,$QX:()=>hs,$eo:()=>q,$vD:()=>He,A21:()=>Xt,A7I:()=>as,AAz:()=>Bt,AIU:()=>Oe,AKA:()=>Nt,Adc:()=>Ns,ApS:()=>S,Ay$:()=>As,B01:()=>et,B6f:()=>Je,B9o:()=>Fe,BUI:()=>mt,BkY:()=>nt,CfM:()=>$,Cvj:()=>Be,D4n:()=>rs,DBi:()=>ke,DKP:()=>p,DS5:()=>Lt,Dfr:()=>Ue,DqU:()=>f,E6Y:()=>Qt,EOX:()=>ft,F15:()=>tt,F2_:()=>C,F4m:()=>Kt,FSS:()=>qt,FcG:()=>It,Fkg:()=>Qe,Fv0:()=>V,G2_:()=>k,G9$:()=>M,GTW:()=>ne,Gk7:()=>ys,GlI:()=>Re,HGu:()=>Gt,HWG:()=>ie,Jat:()=>ot,K6q:()=>Ft,KZp:()=>_s,KiS:()=>gs,LUf:()=>Mt,LdG:()=>Ut,Lig:()=>I,LtE:()=>Wt,M8e:()=>ps,M9V:()=>B,MB9:()=>j,MEL:()=>L,MsJ:()=>be,N5v:()=>x,NB7:()=>_,NIO:()=>zt,Nlt:()=>F,Nt4:()=>Rt,Nt7:()=>Ht,O0z:()=>xt,O1W:()=>vt,ONX:()=>_t,ONl:()=>d,OUn:()=>me,Oh2:()=>Ae,PNr:()=>Ce,PcF:()=>ge,PhA:()=>xs,Q0G:()=>_e,QUg:()=>h,Qk7:()=>te,Qso:()=>Ie,Qyz:()=>O,RcG:()=>Ye,Rje:()=>b,Ro1:()=>re,S0g:()=>gt,TE_:()=>At,TKu:()=>c,To6:()=>Me,UGj:()=>de,UlC:()=>bt,UoH:()=>pe,V2y:()=>ve,VE_:()=>ht,VMk:()=>Q,Vq_:()=>kt,WJf:()=>Pt,WVP:()=>y,Y7O:()=>vs,YvE:()=>ns,ZDT:()=>yt,ZLM:()=>us,ZMu:()=>it,ZNw:()=>Pe,ZeA:()=>Ot,ZjU:()=>rt,ZjX:()=>wt,aGb:()=>K,aWC:()=>Dt,azp:()=>E,bEt:()=>v,cDt:()=>Ss,cZT:()=>Vt,cll:()=>Ze,d2U:()=>qe,dIH:()=>ws,dWB:()=>at,daj:()=>es,de9:()=>m,drn:()=>P,e7u:()=>js,ebi:()=>Jt,edq:()=>J,f4f:()=>ye,fI$:()=>bs,fIB:()=>R,fPY:()=>T,fQY:()=>oe,fuQ:()=>Ge,fvp:()=>St,g2E:()=>w,gZ3:()=>ks,giF:()=>ls,gjM:()=>Te,h7P:()=>he,hEq:()=>X,hMd:()=>ze,hVF:()=>Zt,hcu:()=>$t,i3:()=>D,iDC:()=>ae,ieO:()=>Ne,jjx:()=>Le,k2I:()=>jt,k6k:()=>ds,k97:()=>g,kP3:()=>Ee,kgp:()=>o,lo1:()=>ue,loF:()=>i,m5P:()=>ct,n7z:()=>De,nA8:()=>je,nIZ:()=>lt,nTv:()=>Se,nYY:()=>ee,oT4:()=>We,pJP:()=>st,pP9:()=>fs,pXK:()=>$e,pzJ:()=>se,q$0:()=>cs,qJe:()=>Et,qM8:()=>xe,qgM:()=>H,qqG:()=>A,rIi:()=>dt,rTZ:()=>Xe,rdY:()=>pt,rxf:()=>G,s5f:()=>Ct,sM$:()=>ts,shr:()=>Y,t9n:()=>is,tAv:()=>fe,tNK:()=>ut,tNu:()=>we,tTF:()=>W,tiG:()=>N,u7U:()=>ms,uRu:()=>Ve,ugE:()=>ce,vD:()=>Ke,verifyShot:()=>Yt,wlU:()=>Tt,xwE:()=>le,yBI:()=>u,ynX:()=>os,z6N:()=>Z,zoA:()=>z,ztm:()=>Cs});var a=s(9722),r=s(5872);const n=e=>{if(!e)return"";if(/^\d{4}-\d{2}-\d{2}$/.test(e))return e;try{return new Date(e).toISOString().split("T")[0]}catch(t){return e.split("T")[0]||""}},l=a.A.create({baseURL:r.cA.apiBaseUrl,headers:{"Content-Type":"application/json"}});l.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>(console.error("API Request Error:",e),Promise.reject(e))),l.interceptors.response.use(e=>e,e=>{var t,s,a;if(console.error("API Response Error:",null===(t=e.response)||void 0===t?void 0:t.status,null===(s=e.config)||void 0===s?void 0:s.url,e.message),401===(null===(a=e.response)||void 0===a?void 0:a.status)){["/user/national-championship-matches"].some(t=>{var s,a;return null===(s=e.config)||void 0===s||null===(a=s.url)||void 0===a?void 0:a.includes(t)})||(localStorage.removeItem("token"),window.location.href="#/login")}return Promise.reject(e)});const i=()=>l.get("/users"),o=e=>l.post("/users",e),c=(e,t)=>l.put("/users/".concat(e),t),d=e=>l.get("/users/".concat(e,"/sim-stats")),u=e=>l.get("/users/".concat(e,"/combined-stats")),m=e=>l.get("/user-course-records/".concat(e)),x=e=>l.get("/users/".concat(e,"/shot-stats")),h=e=>l.get("/users/".concat(e,"/recent-simulator-rounds")),p=e=>{const t=new FormData;return t.append("profilePhoto",e),l.post("/users/profile-photo",t,{headers:{"Content-Type":"multipart/form-data"}})},g=e=>{const t=new FormData;return t.append("scorecardPhoto",e),l.post("/tournaments/scorecard-photo",t,{headers:{"Content-Type":"multipart/form-data"}})},f=()=>l.get("/players"),b=()=>l.get("/league/settings"),v=e=>l.get("/leagues",{params:e}),y=e=>l.get("/leagues/".concat(e)),j=e=>l.post("/leagues",e),N=(e,t)=>l.put("/leagues/".concat(e),t),w=e=>l.get("/leagues/".concat(e,"/divisions")),_=(e,t)=>l.post("/leagues/".concat(e,"/divisions"),t),k=(e,t)=>l.delete("/leagues/".concat(e,"/divisions/").concat(t)),S=e=>l.get("/leagues/".concat(e,"/teams")),C=(e,t)=>l.post("/leagues/".concat(e,"/teams"),t),A=(e,t,s)=>l.put("/leagues/".concat(e,"/teams/").concat(t),s),E=(e,t)=>l.delete("/leagues/".concat(e,"/teams/").concat(t)),T=e=>l.get("/teams/".concat(e,"/members")),P=(e,t)=>l.post("/teams/".concat(e,"/members"),{user_id:t}),D=(e,t)=>l.delete("/teams/".concat(e,"/members/").concat(t)),M=(e,t)=>l.post("/leagues/".concat(e,"/schedule/generate"),t),R=e=>l.get("/leagues/".concat(e,"/schedule")),L=(e,t)=>l.post("/leagues/".concat(e,"/matchups/generate"),t),F=(e,t)=>l.get("/leagues/".concat(e,"/matchups"),{params:t}),O=e=>l.delete("/matchups/".concat(e)),I=(e,t)=>l.get("/leagues/".concat(e,"/standings"),{params:t}),z=e=>l.get("/leagues/".concat(e,"/signup-links")),B=(e,t)=>l.post("/leagues/".concat(e,"/signup-links"),t),U=(e,t)=>l.delete("/leagues/".concat(e,"/signup-links/").concat(t)),H=(e,t)=>l.get("/leagues/".concat(e,"/signups/").concat(t,"/registrations")),W=(e,t)=>l.patch("/leagues/".concat(e,"/signup-links/").concat(t,"/sync")),q=(e,t)=>l.get("/captain/team/".concat(e,"/dashboard"),{params:{league_id:t}}),V=(e,t)=>l.post("/teams/".concat(e,"/availability"),t),G=(e,t,s)=>l.get("/teams/".concat(e,"/availability/week/").concat(t),{params:{league_id:s}}),Y=()=>l.get("/matches"),$=e=>l.post("/matches",e),Q=e=>l.get("/user-profiles/".concat(e)),K=e=>l.post("/scorecards",e),J=(e,t)=>l.post("/tournaments/".concat(e,"/strokeplay-score"),t),X=e=>l.get("/tournaments/".concat(e,"/strokeplay-scores")),Z=e=>l.get("/tournaments/".concat(e,"/scores")),ee=async()=>l.get("/global-leaderboard"),te=async e=>l.get("/club-leaderboard/".concat(encodeURIComponent(e))),se=async()=>l.get("/clubs"),ae=(e,t)=>l.post("/auth/login",{email:e,password:t}),re=e=>l.post("/auth/check-email",{email:e}),ne=(e,t)=>l.post("/auth/claim-account",{email:e,password:t}),le=(e,t)=>l.post("/auth/reset-password",{email:e,password:t}),ie=e=>l.get("/auth/me",{headers:{Authorization:"Bearer ".concat(e)}}),oe=e=>l.post("/auth/setup-password",{password:e}),ce=e=>l.get("/users/".concat(e,"/permissions")),de=e=>l.post("/tournaments",e),ue=()=>l.get("/tournaments"),me=e=>l.get("/tournaments/".concat(e)),xe=e=>l.get("/tournaments/user/".concat(e)),he=()=>l.get("/user/teams-leagues"),pe=()=>l.get("/tournaments/available"),ge=(e,t)=>l.put("/tournaments/".concat(e),t),fe=e=>l.delete("/tournaments/".concat(e)),be=e=>l.get("/tournaments/".concat(e,"/participants")),ve=(e,t)=>l.post("/tournaments/".concat(e,"/register"),{user_id:t}),ye=(e,t,s)=>l.post("/tournaments/".concat(e,"/register-with-form"),{user_id:t,form_data:s}),je=(e,t)=>l.delete("/tournaments/".concat(e,"/unregister/").concat(t)),Ne=e=>l.get("/tournaments/".concat(e,"/check-ins")),we=(e,t,s)=>l.post("/tournaments/".concat(e,"/check-in"),{user_id:t,notes:s}),_e=(e,t)=>l.put("/tournaments/".concat(e,"/check-out/").concat(t)),ke=(e,t)=>l.get("/tournaments/".concat(e,"/payment-status/").concat(t)),Se=e=>l.get("/users/".concat(e,"/check-in-statuses")),Ce=e=>l.get("/tournaments/".concat(e,"/matches")),Ae=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;return l.post("/tournaments/".concat(e,"/generate-matches"),{format:t,minMatchesPerPlayer:s})},Ee=(e,t,s)=>l.put("/tournaments/".concat(e,"/matches/").concat(t),s),Te=(e,t)=>l.post("/tournaments/".concat(e,"/teams"),t),Pe=e=>l.get("/tournaments/".concat(e,"/teams")),De=(e,t,s)=>l.put("/tournaments/".concat(e,"/teams/").concat(t),s),Me=(e,t)=>l.delete("/tournaments/".concat(e,"/teams/").concat(t)),Re=(e,t,s)=>l.post("/tournaments/".concat(e,"/teams/").concat(t,"/score"),s),Le=e=>l.get("/tournaments/".concat(e,"/team-scores")),Fe=(e,t,s)=>{const a=new URLSearchParams;return e&&a.append("search",e),t&&a.append("platform",t),s&&a.append("limit",s.toString()),l.get("/simulator-courses?".concat(a.toString()))},Oe=e=>l.get("/simulator-courses/".concat(e)),Ie=(e,t)=>l.put("/simulator-courses/".concat(e,"/par-values"),{par_values:t}),ze=(e,t)=>l.put("/simulator-courses/".concat(e,"/hole-indexes"),{hole_indexes:t}),Be=(e,t,s,a)=>l.put("/simulator-courses/".concat(e,"/teebox-data"),{teebox:t,course_rating:s,course_slope:a}),Ue=e=>l.get("/simulator-courses/".concat(e,"/teebox-data")),He=(e,t)=>l.get("/tournaments/".concat(e,"/user-course/").concat(t)),We=()=>l.get("/admin/user-tracking-stats"),qe=e=>l.get("/admin/user-tracking-details",{params:e}),Ve=(e,t)=>l.post("/tournaments/".concat(e,"/weekly-scorecard"),t),Ge=(e,t)=>l.get("/tournaments/".concat(e,"/weekly-leaderboard?week_start_date=").concat(n(t))),Ye=(e,t,s)=>l.get("/tournaments/".concat(e,"/weekly-matches/").concat(t,"?week_start_date=").concat(n(s))),$e=(e,t)=>l.get("/tournaments/".concat(e,"/weekly-field-stats?week_start_date=").concat(n(t))),Qe=(e,t,s)=>l.get("/tournaments/".concat(e,"/weekly-scorecard/current?week_start_date=").concat(n(t),"&fallback_date=").concat(n(s))),Ke=(e,t)=>l.get("/tournaments/".concat(e,"/weekly-scorecards?week_start_date=").concat(n(t))),Je=(e,t,s)=>l.get("/tournaments/".concat(e,"/weekly-hole-points/").concat(t,"?week_start_date=").concat(n(s))),Xe=(e,t)=>{const s=t?"?override_week=".concat(t):"";return l.post("/tournaments/".concat(e,"/calculate-matches").concat(s))},Ze=(e,t)=>{const s=t?"?override_week=".concat(t):"";return l.post("/tournaments/".concat(e,"/update-leaderboard").concat(s))},et=e=>l.post("/tournaments/".concat(e,"/cleanup-duplicates")),tt=e=>l.post("/tournaments/".concat(e,"/fix-week-date")),st=(e,t)=>{const s=t?"?week_start_date=".concat(n(t)):"";return l.get("/tournaments/".concat(e,"/admin/scorecards").concat(s))},at=(e,t,s)=>l.put("/tournaments/".concat(e,"/admin/scorecards/").concat(t),s),rt=(e,t)=>l.delete("/tournaments/".concat(e,"/admin/scorecards/").concat(t)),nt=e=>l.get("/tournaments/".concat(e,"/admin/strokeplay-scorecards")),lt=(e,t,s)=>l.put("/tournaments/".concat(e,"/admin/strokeplay-scorecards/").concat(t),s),it=(e,t)=>l.delete("/tournaments/".concat(e,"/admin/strokeplay-scorecards/").concat(t)),ot=e=>l.post("/admin/scorecards",e),ct=e=>l.get("/tournaments/".concat(e,"/admin/matchplay-matches")),dt=(e,t,s)=>l.put("/tournaments/".concat(e,"/admin/matchplay-matches/").concat(t),s),ut=e=>{const t=e?"?club=".concat(encodeURIComponent(e)):"";return l.get("/club-pro/handicaps".concat(t))},mt=e=>{const t=e?"?club=".concat(encodeURIComponent(e)):"";return l.get("/club-pro/player-tournaments".concat(t))},xt=()=>l.get("/admin/roles"),ht=()=>l.get("/admin/permissions"),pt=e=>l.post("/admin/roles",e),gt=(e,t)=>l.put("/admin/roles/".concat(e),t),ft=e=>l.delete("/admin/roles/".concat(e)),bt=(e,t)=>l.put("/admin/roles/".concat(e,"/permissions"),{permissions:t}),vt=(e,t)=>{const s=new URLSearchParams;return e&&s.append("search",e),t&&s.append("club",t),l.get("/admin/users-with-roles?".concat(s.toString()))},yt=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return l.post("/admin/users/".concat(e,"/roles"),{role_id:t,is_primary:s})},jt=(e,t)=>l.delete("/admin/users/".concat(e,"/roles/").concat(t)),Nt=(e,t)=>l.put("/admin/users/".concat(e,"/primary-role"),{role_id:t}),wt=()=>l.get("/challenges/pot"),_t=e=>l.post("/challenges",e),kt=(e,t)=>l.put("/challenges/".concat(e),t),St=e=>l.get("/challenges",{params:e}),Ct=e=>l.get("/challenges/".concat(e)),At=e=>l.delete("/challenges/".concat(e)),Et=(e,t)=>l.post("/challenges/".concat(e,"/enter"),t),Tt=e=>l.get("/challenges/".concat(e,"/entries")),Pt=e=>l.get("/challenges/".concat(e,"/my-entry")),Dt=(e,t)=>{const s=new FormData;return s.append("prizePhoto",e),s.append("prizePosition",t),l.post("/challenges/prize-photo",s,{headers:{"Content-Type":"multipart/form-data"}})},Mt=(e,t)=>l.put("/challenges/".concat(e,"/entries/").concat(t,"/photo/verify"),{}),Rt=(e,t,s)=>l.put("/challenges/".concat(e,"/entries/").concat(t,"/verify"),s),Lt=e=>l.get("/challenges/".concat(e,"/leaderboard")),Ft=(e,t)=>l.post("/challenges/".concat(e,"/finalize"),{payout_notes:t}),Ot=(e,t)=>l.post("/challenges/".concat(e,"/payout-complete"),{payout_notes:t}),It=()=>l.get("/challenges/types"),zt=()=>l.get("/challenges/hio-jackpot"),Bt=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return l.post("/challenges/".concat(e,"/create-payment-intent"),{is_reup:t})},Ut=(e,t)=>l.post("/challenges/".concat(e,"/confirm-stripe-payment"),t),Ht=(e,t,s,a)=>{const r=new FormData;return r.append("groupScreenshot",s),a&&r.append("screenshot_date",a),l.post("/challenges/".concat(e,"/groups/").concat(t,"/screenshot"),r,{headers:{"Content-Type":"multipart/form-data"}})},Wt=(e,t,s)=>l.post("/challenges/".concat(e,"/groups/").concat(t,"/shots"),{shots:s}),qt=(e,t,s)=>{const a=new FormData;return a.append("shotDetail",s),l.post("/challenges/".concat(e,"/shots/").concat(t,"/detail"),a,{headers:{"Content-Type":"multipart/form-data"}})},Vt=e=>l.get("/challenges/".concat(e,"/leaderboard/ctp")),Gt=e=>l.get("/challenges/".concat(e,"/leaderboard/hio")),Yt=(e,t,s)=>l.put("/challenges/".concat(e,"/shots/").concat(t,"/verify"),s||{}),$t=()=>l.get("/courses/ctp-eligible"),Qt=e=>l.get("/courses/".concat(e,"/hole-details")),Kt=e=>l.get("/registration-templates",{params:e}),Jt=()=>l.get("/registration-templates/public"),Xt=e=>l.post("/registration-templates",e),Zt=(e,t)=>l.put("/registration-templates/".concat(e),t),es=e=>l.delete("/registration-templates/".concat(e)),ts=e=>l.get("/users/club-members",{params:e?{club:e}:void 0}),ss=e=>l.post("/signups",e),as=e=>l.get("/signups",{params:e}),rs=e=>l.get("/signups/".concat(e)),ns=(e,t)=>l.put("/signups/".concat(e),t),ls=e=>l.delete("/signups/".concat(e)),is=(e,t)=>l.get("/signups/".concat(e,"/registrations"),{params:t}),os=e=>l.get("/signups/".concat(e,"/stats")),cs=(e,t,s)=>l.post("/signups/".concat(e,"/registrations/").concat(t,"/verify-payment"),{admin_notes:s}),ds=(e,t,s)=>l.post("/signups/".concat(e,"/registrations/").concat(t,"/refund"),{reason:s}),us=(e,t)=>l.delete("/signups/".concat(e,"/registrations/").concat(t)),ms=(e,t)=>l.post("/signups/".concat(e,"/registrations/manual"),t),xs=(e,t,s)=>l.put("/signups/".concat(e,"/registrations/").concat(t),s),hs=()=>l.get("/signups/public"),ps=e=>l.get("/signups/".concat(e,"/public")),gs=e=>l.get("/signups/".concat(e,"/my-registration")),fs=(e,t)=>l.post("/signups/".concat(e,"/register"),{registration_data:t}),bs=e=>l.post("/signups/".concat(e,"/create-payment-intent")),vs=(e,t)=>l.post("/signups/".concat(e,"/confirm-stripe-payment"),{payment_intent_id:t}),ys=(e,t)=>l.post("/signups/".concat(e,"/submit-venmo-payment"),{venmo_reference:t}),js=()=>l.get("/user/registrations"),Ns=()=>l.get("/feature-testing"),ws=e=>l.post("/feature-testing",e),_s=(e,t)=>l.put("/feature-testing/".concat(e),t),ks=e=>l.delete("/feature-testing/".concat(e)),Ss=()=>l.get("/user/onboarding-status"),Cs=()=>l.post("/user/onboarding/ctp-tutorial"),As=l},6326:(e,t,s)=>{var a=s(8895),r=s(5990),n=s(9621),l=s(7828),i=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)a(t,n(e)),e=r(e);return t}:l;e.exports=i},6350:(e,t,s)=>{var a=s(8325),r=s(6578)(a);e.exports=r},6399:(e,t,s)=>{var a=s(5538),r=s(3668),n=s(9987),l=s(5752),i=s(6924),o=s(4052),c=s(4543),d=s(1268),u="[object Arguments]",m="[object Array]",x="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,s,p,g,f){var b=o(e),v=o(t),y=b?m:i(e),j=v?m:i(t),N=(y=y==u?x:y)==x,w=(j=j==u?x:j)==x,_=y==j;if(_&&c(e)){if(!c(t))return!1;b=!0,N=!1}if(_&&!N)return f||(f=new a),b||d(e)?r(e,t,s,p,g,f):n(e,t,y,s,p,g,f);if(!(1&s)){var k=N&&h.call(e,"__wrapped__"),S=w&&h.call(t,"__wrapped__");if(k||S){var C=k?e.value():e,A=S?t.value():t;return f||(f=new a),g(C,A,s,p,f)}}return!!_&&(f||(f=new a),l(e,t,s,p,g,f))}},6440:e=>{"use strict";var t=function(){};e.exports=t},6516:(e,t,s)=>{var a=s(6571);e.exports=function(e,t){return function(s,r){if(null==s)return s;if(!a(s))return e(s,r);for(var n=s.length,l=t?n:-1,i=Object(s);(t?l--:++l<n)&&!1!==r(i[l],l,i););return s}}},6532:(e,t,s)=>{var a=s(5538),r=s(6989);e.exports=function(e,t,s,n){var l=s.length,i=l,o=!n;if(null==e)return!i;for(e=Object(e);l--;){var c=s[l];if(o&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++l<i;){var d=(c=s[l])[0],u=e[d],m=c[1];if(o&&c[2]){if(void 0===u&&!(d in e))return!1}else{var x=new a;if(n)var h=n(u,m,d,e,t,x);if(!(void 0===h?r(m,u,3,n,x):h))return!1}}return!0}},6552:(e,t,s)=>{var a=s(7105),r="object"==typeof self&&self&&self.Object===Object&&self,n=a||r||Function("return this")();e.exports=n},6571:(e,t,s)=>{var a=s(1629),r=s(6173);e.exports=function(e){return null!=e&&r(e.length)&&!a(e)}},6578:e=>{var t=Date.now;e.exports=function(e){var s=0,a=0;return function(){var r=t(),n=16-(r-a);if(a=r,n>0){if(++s>=800)return arguments[0]}else s=0;return e.apply(void 0,arguments)}}},6599:(e,t,s)=>{var a=s(9841);e.exports=function(e,t){if(e!==t){var s=void 0!==e,r=null===e,n=e===e,l=a(e),i=void 0!==t,o=null===t,c=t===t,d=a(t);if(!o&&!d&&!l&&e>t||l&&i&&c&&!o&&!d||r&&i&&c||!s&&c||!n)return 1;if(!r&&!l&&!d&&e<t||d&&s&&n&&!r&&!l||o&&s&&n||!i&&n||!c)return-1}return 0}},6600:(e,t,s)=>{var a=s(7937)(s(6552),"WeakMap");e.exports=a},6604:(e,t,s)=>{var a=s(3331)();e.exports=a},6614:(e,t,s)=>{var a=s(8420),r=s(1775);e.exports=function(e,t,s,n){var l=!s;s||(s={});for(var i=-1,o=t.length;++i<o;){var c=t[i],d=n?n(s[c],e[c],c,s,e):void 0;void 0===d&&(d=e[c]),l?r(s,c,d):a(s,c,d)}return s}},6672:(e,t,s)=>{"use strict";var a=s(5043);function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var l={d:{f:n,r:function(){throw Error(r(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");var o=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,t.createPortal=function(e,t){var s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(r(299));return function(e,t,s){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:i,key:null==a?null:""+a,children:e,containerInfo:t,implementation:s}}(e,t,null,s)},t.flushSync=function(e){var t=o.T,s=l.p;try{if(o.T=null,l.p=2,e)return e()}finally{o.T=t,l.p=s,l.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,l.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&l.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var s=t.as,a=c(s,t.crossOrigin),r="string"===typeof t.integrity?t.integrity:void 0,n="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===s?l.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:a,integrity:r,fetchPriority:n}):"script"===s&&l.d.X(e,{crossOrigin:a,integrity:r,fetchPriority:n,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var s=c(t.as,t.crossOrigin);l.d.M(e,{crossOrigin:s,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&l.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var s=t.as,a=c(s,t.crossOrigin);l.d.L(e,s,{crossOrigin:a,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var s=c(t.as,t.crossOrigin);l.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:s,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else l.d.m(e)},t.requestFormReset=function(e){l.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,s){return o.H.useFormState(e,t,s)},t.useFormStatus=function(){return o.H.useHostTransitionStatus()},t.version="19.2.0"},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6761:(e,t,s)=>{var a=s(2322);e.exports=function(e){return a(e)?void 0:e}},6788:(e,t,s)=>{var a=s(7160),r=s(5204),n=s(4816);e.exports=function(e,t){var s=this.__data__;if(s instanceof a){var l=s.__data__;if(!r||l.length<199)return l.push([e,t]),this.size=++s.size,this;s=this.__data__=new n(l)}return s.set(e,t),this.size=s.size,this}},6806:(e,t,s)=>{var a=s(1516);e.exports=function(e,t){var s=t?a(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.byteLength)}},6832:(e,t,s)=>{e=s.nmd(e);var a=s(7105),r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,l=n&&n.exports===r&&a.process,i=function(){try{var e=n&&n.require&&n.require("util").types;return e||l&&l.binding&&l.binding("util")}catch(t){}}();e.exports=i},6874:(e,t,s)=>{var a=s(2622);e.exports=function(e,t){var s=a(this,e),r=s.size;return s.set(e,t),this.size+=s.size==r?0:1,this}},6913:(e,t,s)=>{var a=s(9812),r=s(4552),n=s(6095),l=a?a.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":l&&l in Object(e)?r(e):n(e)}},6924:(e,t,s)=>{var a=s(7685),r=s(5204),n=s(5387),l=s(2070),i=s(6600),o=s(6913),c=s(6996),d="[object Map]",u="[object Promise]",m="[object Set]",x="[object WeakMap]",h="[object DataView]",p=c(a),g=c(r),f=c(n),b=c(l),v=c(i),y=o;(a&&y(new a(new ArrayBuffer(1)))!=h||r&&y(new r)!=d||n&&y(n.resolve())!=u||l&&y(new l)!=m||i&&y(new i)!=x)&&(y=function(e){var t=o(e),s="[object Object]"==t?e.constructor:void 0,a=s?c(s):"";if(a)switch(a){case p:return h;case g:return d;case f:return u;case b:return m;case v:return x}return t}),e.exports=y},6954:(e,t,s)=>{var a=s(1629),r=s(7857),n=s(6686),l=s(6996),i=/^\[object .+?Constructor\]$/,o=Function.prototype,c=Object.prototype,d=o.toString,u=c.hasOwnProperty,m=RegExp("^"+d.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!n(e)||r(e))&&(a(e)?m:i).test(l(e))}},6989:(e,t,s)=>{var a=s(6399),r=s(2761);e.exports=function e(t,s,n,l,i){return t===s||(null==t||null==s||!r(t)&&!r(s)?t!==t&&s!==s:a(t,s,n,l,e,i))}},6993:(e,t,s)=>{var a=s(5546);function r(){var t,s,n="function"==typeof Symbol?Symbol:{},l=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function o(e,r,n,l){var i=r&&r.prototype instanceof d?r:d,o=Object.create(i.prototype);return a(o,"_invoke",function(e,a,r){var n,l,i,o=0,d=r||[],u=!1,m={p:0,n:0,v:t,a:x,f:x.bind(t,4),d:function(e,s){return n=e,l=0,i=t,m.n=s,c}};function x(e,a){for(l=e,i=a,s=0;!u&&o&&!r&&s<d.length;s++){var r,n=d[s],x=m.p,h=n[2];e>3?(r=h===a)&&(i=n[(l=n[4])?5:(l=3,3)],n[4]=n[5]=t):n[0]<=x&&((r=e<2&&x<n[1])?(l=0,m.v=a,m.n=n[1]):x<h&&(r=e<3||n[0]>a||a>h)&&(n[4]=e,n[5]=a,m.n=h,l=0))}if(r||e>1)return c;throw u=!0,a}return function(r,d,h){if(o>1)throw TypeError("Generator is already running");for(u&&1===d&&x(d,h),l=d,i=h;(s=l<2?t:i)||!u;){n||(l?l<3?(l>1&&(m.n=-1),x(l,i)):m.n=i:m.v=i);try{if(o=2,n){if(l||(r="next"),s=n[r]){if(!(s=s.call(n,i)))throw TypeError("iterator result is not an object");if(!s.done)return s;i=s.value,l<2&&(l=0)}else 1===l&&(s=n.return)&&s.call(n),l<2&&(i=TypeError("The iterator does not provide a '"+r+"' method"),l=1);n=t}else if((s=(u=m.n<0)?i:e.call(a,m))!==c)break}catch(s){n=t,l=1,i=s}finally{o=1}}return{value:s,done:u}}}(e,n,l),!0),o}var c={};function d(){}function u(){}function m(){}s=Object.getPrototypeOf;var x=[][l]?s(s([][l]())):(a(s={},l,function(){return this}),s),h=m.prototype=d.prototype=Object.create(x);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,a(e,i,"GeneratorFunction")),e.prototype=Object.create(h),e}return u.prototype=m,a(h,"constructor",m),a(m,"constructor",u),u.displayName="GeneratorFunction",a(m,i,"GeneratorFunction"),a(h),a(h,i,"Generator"),a(h,l,function(){return this}),a(h,"toString",function(){return"[object Generator]"}),(e.exports=r=function(){return{w:o,m:p}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(s){}try{return e+""}catch(s){}}return""}},7004:(e,t,s)=>{"use strict";var a=s(8853),r=s(5043),n=s(7950);function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function o(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(s=t.return),e=t.return}while(e)}return 3===t.tag?s:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(o(e)!==e)throw Error(l(188))}function m(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=m(e)))return t;e=e.sibling}return null}var x=Object.assign,h=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),y=Symbol.for("react.consumer"),j=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),S=Symbol.for("react.lazy");Symbol.for("react.scope");var C=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var A=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var E=Symbol.iterator;function T(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=E&&e[E]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference");function D(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===P?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case f:return"Fragment";case v:return"Profiler";case b:return"StrictMode";case w:return"Suspense";case _:return"SuspenseList";case C:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case j:return e.displayName||"Context";case y:return(e._context.displayName||"Context")+".Consumer";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case k:return null!==(t=e.displayName||null)?t:D(e.type)||"Memo";case S:t=e._payload,e=e._init;try{return D(e(t))}catch(s){}}return null}var M=Array.isArray,R=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},O=[],I=-1;function z(e){return{current:e}}function B(e){0>I||(e.current=O[I],O[I]=null,I--)}function U(e,t){I++,O[I]=e.current,e.current=t}var H,W,q=z(null),V=z(null),G=z(null),Y=z(null);function $(e,t){switch(U(G,t),U(V,e),U(q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?fu(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=bu(t=fu(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(q),U(q,e)}function Q(){B(q),B(V),B(G)}function K(e){null!==e.memoizedState&&U(Y,e);var t=q.current,s=bu(t,e.type);t!==s&&(U(V,e),U(q,s))}function J(e){V.current===e&&(B(q),B(V)),Y.current===e&&(B(Y),dm._currentValue=F)}function X(e){if(void 0===H)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);H=t&&t[1]||"",W=-1<s.stack.indexOf("\n    at")?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+H+e+W}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var s=function(){throw Error()};if(Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(s,[])}catch(r){var a=r}Reflect.construct(e,[],s)}else{try{s.call()}catch(n){a=n}e.call(s.prototype)}}else{try{throw Error()}catch(l){a=l}(s=e())&&"function"===typeof s.catch&&s.catch(function(){})}}catch(i){if(i&&a&&"string"===typeof i.stack)return[i.stack,a.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var n=a.DetermineComponentFrameRoot(),l=n[0],i=n[1];if(l&&i){var o=l.split("\n"),c=i.split("\n");for(r=a=0;a<o.length&&!o[a].includes("DetermineComponentFrameRoot");)a++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(a===o.length||r===c.length)for(a=o.length-1,r=c.length-1;1<=a&&0<=r&&o[a]!==c[r];)r--;for(;1<=a&&0<=r;a--,r--)if(o[a]!==c[r]){if(1!==a||1!==r)do{if(a--,0>--r||o[a]!==c[r]){var d="\n"+o[a].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=a&&0<=r);break}}}finally{Z=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?X(s):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return X(e.type);case 16:return X("Lazy");case 13:return e.child!==t&&null!==t?X("Suspense Fallback"):X("Suspense");case 19:return X("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return X("Activity");default:return""}}function se(e){try{var t="",s=null;do{t+=te(e,s),s=e,e=e.return}while(e);return t}catch(a){return"\nError generating stack: "+a.message+"\n"+a.stack}}var ae=Object.prototype.hasOwnProperty,re=a.unstable_scheduleCallback,ne=a.unstable_cancelCallback,le=a.unstable_shouldYield,ie=a.unstable_requestPaint,oe=a.unstable_now,ce=a.unstable_getCurrentPriorityLevel,de=a.unstable_ImmediatePriority,ue=a.unstable_UserBlockingPriority,me=a.unstable_NormalPriority,xe=a.unstable_LowPriority,he=a.unstable_IdlePriority,pe=a.log,ge=a.unstable_setDisableYieldValue,fe=null,be=null;function ve(e){if("function"===typeof pe&&ge(e),be&&"function"===typeof be.setStrictMode)try{be.setStrictMode(fe,e)}catch(t){}}var ye=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(je(e)/Ne|0)|0},je=Math.log,Ne=Math.LN2;var we=256,_e=262144,ke=4194304;function Se(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ce(e,t,s){var a=e.pendingLanes;if(0===a)return 0;var r=0,n=e.suspendedLanes,l=e.pingedLanes;e=e.warmLanes;var i=134217727&a;return 0!==i?0!==(a=i&~n)?r=Se(a):0!==(l&=i)?r=Se(l):s||0!==(s=i&~e)&&(r=Se(s)):0!==(i=a&~n)?r=Se(i):0!==l?r=Se(l):s||0!==(s=a&~e)&&(r=Se(s)),0===r?0:0!==t&&t!==r&&0===(t&n)&&((n=r&-r)>=(s=t&-t)||32===n&&0!==(4194048&s))?t:r}function Ae(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ee(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Te(){var e=ke;return 0===(62914560&(ke<<=1))&&(ke=4194304),e}function Pe(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function De(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Me(e,t,s){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-ye(t);e.entangledLanes|=t,e.entanglements[a]=1073741824|e.entanglements[a]|261930&s}function Re(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var a=31-ye(s),r=1<<a;r&t|e[a]&t&&(e[a]|=t),s&=~r}}function Le(e,t){var s=t&-t;return 0!==((s=0!==(42&s)?1:Fe(s))&(e.suspendedLanes|t))?0:s}function Fe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Oe(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ie(){var e=L.p;return 0!==e?e:void 0===(e=window.event)?32:Sm(e.type)}function ze(e,t){var s=L.p;try{return L.p=e,t()}finally{L.p=s}}var Be=Math.random().toString(36).slice(2),Ue="__reactFiber$"+Be,He="__reactProps$"+Be,We="__reactContainer$"+Be,qe="__reactEvents$"+Be,Ve="__reactListeners$"+Be,Ge="__reactHandles$"+Be,Ye="__reactResources$"+Be,$e="__reactMarker$"+Be;function Qe(e){delete e[Ue],delete e[He],delete e[qe],delete e[Ve],delete e[Ge]}function Ke(e){var t=e[Ue];if(t)return t;for(var s=e.parentNode;s;){if(t=s[We]||s[Ue]){if(s=t.alternate,null!==t.child||null!==s&&null!==s.child)for(e=Fu(e);null!==e;){if(s=e[Ue])return s;e=Fu(e)}return t}s=(e=s).parentNode}return null}function Je(e){if(e=e[Ue]||e[We]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Xe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(l(33))}function Ze(e){var t=e[Ye];return t||(t=e[Ye]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[$e]=!0}var tt=new Set,st={};function at(e,t){rt(e,t),rt(e+"Capture",t)}function rt(e,t){for(st[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var nt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lt={},it={};function ot(e,t,s){if(r=t,ae.call(it,r)||!ae.call(lt,r)&&(nt.test(r)?it[r]=!0:(lt[r]=!0,0)))if(null===s)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var a=t.toLowerCase().slice(0,5);if("data-"!==a&&"aria-"!==a)return void e.removeAttribute(t)}e.setAttribute(t,""+s)}var r}function ct(e,t,s){if(null===s)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+s)}}function dt(e,t,s,a){if(null===a)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(s)}e.setAttributeNS(t,s,""+a)}}function ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function mt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function xt(e){if(!e._valueTracker){var t=mt(e)?"checked":"value";e._valueTracker=function(e,t,s){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof a&&"function"===typeof a.get&&"function"===typeof a.set){var r=a.get,n=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){s=""+e,n.call(this,e)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return s},setValue:function(e){s=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),a="";return e&&(a=mt(e)?e.checked?"true":"false":e.value),(e=a)!==s&&(t.setValue(e),!0)}function pt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function ft(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function bt(e,t,s,a,r,n,l,i){e.name="",null!=l&&"function"!==typeof l&&"symbol"!==typeof l&&"boolean"!==typeof l?e.type=l:e.removeAttribute("type"),null!=t?"number"===l?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ut(t)):e.value!==""+ut(t)&&(e.value=""+ut(t)):"submit"!==l&&"reset"!==l||e.removeAttribute("value"),null!=t?yt(e,l,ut(t)):null!=s?yt(e,l,ut(s)):null!=a&&e.removeAttribute("value"),null==r&&null!=n&&(e.defaultChecked=!!n),null!=r&&(e.checked=r&&"function"!==typeof r&&"symbol"!==typeof r),null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.name=""+ut(i):e.removeAttribute("name")}function vt(e,t,s,a,r,n,l,i){if(null!=n&&"function"!==typeof n&&"symbol"!==typeof n&&"boolean"!==typeof n&&(e.type=n),null!=t||null!=s){if(!("submit"!==n&&"reset"!==n||void 0!==t&&null!==t))return void xt(e);s=null!=s?""+ut(s):"",t=null!=t?""+ut(t):s,i||t===e.value||(e.value=t),e.defaultValue=t}a="function"!==typeof(a=null!=a?a:r)&&"symbol"!==typeof a&&!!a,e.checked=i?e.checked:!!a,e.defaultChecked=!!a,null!=l&&"function"!==typeof l&&"symbol"!==typeof l&&"boolean"!==typeof l&&(e.name=l),xt(e)}function yt(e,t,s){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function jt(e,t,s,a){if(e=e.options,t){t={};for(var r=0;r<s.length;r++)t["$"+s[r]]=!0;for(s=0;s<e.length;s++)r=t.hasOwnProperty("$"+e[s].value),e[s].selected!==r&&(e[s].selected=r),r&&a&&(e[s].defaultSelected=!0)}else{for(s=""+ut(s),t=null,r=0;r<e.length;r++){if(e[r].value===s)return e[r].selected=!0,void(a&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function Nt(e,t,s){null==t||((t=""+ut(t))!==e.value&&(e.value=t),null!=s)?e.defaultValue=null!=s?""+ut(s):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,s,a){if(null==t){if(null!=a){if(null!=s)throw Error(l(92));if(M(a)){if(1<a.length)throw Error(l(93));a=a[0]}s=a}null==s&&(s=""),t=s}s=ut(t),e.defaultValue=s,(a=e.textContent)===s&&""!==a&&null!==a&&(e.value=a),xt(e)}function _t(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&3===s.nodeType)return void(s.nodeValue=t)}e.textContent=t}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function St(e,t,s){var a=0===t.indexOf("--");null==s||"boolean"===typeof s||""===s?a?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":a?e.setProperty(t,s):"number"!==typeof s||0===s||kt.has(t)?"float"===t?e.cssFloat=s:e[t]=(""+s).trim():e[t]=s+"px"}function Ct(e,t,s){if(null!=t&&"object"!==typeof t)throw Error(l(62));if(e=e.style,null!=s){for(var a in s)!s.hasOwnProperty(a)||null!=t&&t.hasOwnProperty(a)||(0===a.indexOf("--")?e.setProperty(a,""):"float"===a?e.cssFloat="":e[a]="");for(var r in t)a=t[r],t.hasOwnProperty(r)&&s[r]!==a&&St(e,r,a)}else for(var n in t)t.hasOwnProperty(n)&&St(e,n,t[n])}function At(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Et=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return Tt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Dt(){}var Mt=null;function Rt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Lt=null,Ft=null;function Ot(e){var t=Je(e);if(t&&(e=t.stateNode)){var s=e[He]||null;e:switch(e=t.stateNode,t.type){case"input":if(bt(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),t=s.name,"radio"===s.type&&null!=t){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+ft(""+t)+'"][type="radio"]'),t=0;t<s.length;t++){var a=s[t];if(a!==e&&a.form===e.form){var r=a[He]||null;if(!r)throw Error(l(90));bt(a,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<s.length;t++)(a=s[t]).form===e.form&&ht(a)}break e;case"textarea":Nt(e,s.value,s.defaultValue);break e;case"select":null!=(t=s.value)&&jt(e,!!s.multiple,t,!1)}}}var It=!1;function zt(e,t,s){if(It)return e(t,s);It=!0;try{return e(t)}finally{if(It=!1,(null!==Lt||null!==Ft)&&(Zc(),Lt&&(t=Lt,e=Ft,Ft=Lt=null,Ot(t),e)))for(t=0;t<e.length;t++)Ot(e[t])}}function Bt(e,t){var s=e.stateNode;if(null===s)return null;var a=s[He]||null;if(null===a)return null;s=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(s&&"function"!==typeof s)throw Error(l(231,t,typeof s));return s}var Ut=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ht=!1;if(Ut)try{var Wt={};Object.defineProperty(Wt,"passive",{get:function(){Ht=!0}}),window.addEventListener("test",Wt,Wt),window.removeEventListener("test",Wt,Wt)}catch(Jm){Ht=!1}var qt=null,Vt=null,Gt=null;function Yt(){if(Gt)return Gt;var e,t,s=Vt,a=s.length,r="value"in qt?qt.value:qt.textContent,n=r.length;for(e=0;e<a&&s[e]===r[e];e++);var l=a-e;for(t=1;t<=l&&s[a-t]===r[n-t];t++);return Gt=r.slice(e,1<t?1-t:void 0)}function $t(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Qt(){return!0}function Kt(){return!1}function Jt(e){function t(t,s,a,r,n){for(var l in this._reactName=t,this._targetInst=a,this.type=s,this.nativeEvent=r,this.target=n,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(r):r[l]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?Qt:Kt,this.isPropagationStopped=Kt,this}return x(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Qt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Qt)},persist:function(){},isPersistent:Qt}),t}var Xt,Zt,es,ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ss=Jt(ts),as=x({},ts,{view:0,detail:0}),rs=Jt(as),ns=x({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gs,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==es&&(es&&"mousemove"===e.type?(Xt=e.screenX-es.screenX,Zt=e.screenY-es.screenY):Zt=Xt=0,es=e),Xt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),ls=Jt(ns),is=Jt(x({},ns,{dataTransfer:0})),os=Jt(x({},as,{relatedTarget:0})),cs=Jt(x({},ts,{animationName:0,elapsedTime:0,pseudoElement:0})),ds=Jt(x({},ts,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),us=Jt(x({},ts,{data:0})),ms={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ps(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hs[e])&&!!t[e]}function gs(){return ps}var fs=Jt(x({},as,{key:function(e){if(e.key){var t=ms[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=$t(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xs[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gs,charCode:function(e){return"keypress"===e.type?$t(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?$t(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),bs=Jt(x({},ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),vs=Jt(x({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gs})),ys=Jt(x({},ts,{propertyName:0,elapsedTime:0,pseudoElement:0})),js=Jt(x({},ns,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Ns=Jt(x({},ts,{newState:0,oldState:0})),ws=[9,13,27,32],_s=Ut&&"CompositionEvent"in window,ks=null;Ut&&"documentMode"in document&&(ks=document.documentMode);var Ss=Ut&&"TextEvent"in window&&!ks,Cs=Ut&&(!_s||ks&&8<ks&&11>=ks),As=String.fromCharCode(32),Es=!1;function Ts(e,t){switch(e){case"keyup":return-1!==ws.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ps(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ds=!1;var Ms={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ms[e.type]:"textarea"===t}function Ls(e,t,s,a){Lt?Ft?Ft.push(a):Ft=[a]:Lt=a,0<(t=au(t,"onChange")).length&&(s=new ss("onChange","change",null,s,a),e.push({event:s,listeners:t}))}var Fs=null,Os=null;function Is(e){Qd(e,0)}function zs(e){if(ht(Xe(e)))return e}function Bs(e,t){if("change"===e)return t}var Us=!1;if(Ut){var Hs;if(Ut){var Ws="oninput"in document;if(!Ws){var qs=document.createElement("div");qs.setAttribute("oninput","return;"),Ws="function"===typeof qs.oninput}Hs=Ws}else Hs=!1;Us=Hs&&(!document.documentMode||9<document.documentMode)}function Vs(){Fs&&(Fs.detachEvent("onpropertychange",Gs),Os=Fs=null)}function Gs(e){if("value"===e.propertyName&&zs(Os)){var t=[];Ls(t,Os,e,Rt(e)),zt(Is,t)}}function Ys(e,t,s){"focusin"===e?(Vs(),Os=s,(Fs=t).attachEvent("onpropertychange",Gs)):"focusout"===e&&Vs()}function $s(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return zs(Os)}function Qs(e,t){if("click"===e)return zs(t)}function Ks(e,t){if("input"===e||"change"===e)return zs(t)}var Js="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Xs(e,t){if(Js(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var r=s[a];if(!ae.call(t,r)||!Js(e[r],t[r]))return!1}return!0}function Zs(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ea(e,t){var s,a=Zs(e);for(e=0;a;){if(3===a.nodeType){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Zs(a)}}function ta(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ta(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function sa(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var s="string"===typeof t.contentWindow.location.href}catch(a){s=!1}if(!s)break;t=pt((e=t.contentWindow).document)}return t}function aa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ra=Ut&&"documentMode"in document&&11>=document.documentMode,na=null,la=null,ia=null,oa=!1;function ca(e,t,s){var a=s.window===s?s.document:9===s.nodeType?s:s.ownerDocument;oa||null==na||na!==pt(a)||("selectionStart"in(a=na)&&aa(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},ia&&Xs(ia,a)||(ia=a,0<(a=au(la,"onSelect")).length&&(t=new ss("onSelect","select",null,t,s),e.push({event:t,listeners:a}),t.target=na)))}function da(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var ua={animationend:da("Animation","AnimationEnd"),animationiteration:da("Animation","AnimationIteration"),animationstart:da("Animation","AnimationStart"),transitionrun:da("Transition","TransitionRun"),transitionstart:da("Transition","TransitionStart"),transitioncancel:da("Transition","TransitionCancel"),transitionend:da("Transition","TransitionEnd")},ma={},xa={};function ha(e){if(ma[e])return ma[e];if(!ua[e])return e;var t,s=ua[e];for(t in s)if(s.hasOwnProperty(t)&&t in xa)return ma[e]=s[t];return e}Ut&&(xa=document.createElement("div").style,"AnimationEvent"in window||(delete ua.animationend.animation,delete ua.animationiteration.animation,delete ua.animationstart.animation),"TransitionEvent"in window||delete ua.transitionend.transition);var pa=ha("animationend"),ga=ha("animationiteration"),fa=ha("animationstart"),ba=ha("transitionrun"),va=ha("transitionstart"),ya=ha("transitioncancel"),ja=ha("transitionend"),Na=new Map,wa="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _a(e,t){Na.set(e,t),at(t,[e])}wa.push("scrollEnd");var ka="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Sa=[],Ca=0,Aa=0;function Ea(){for(var e=Ca,t=Aa=Ca=0;t<e;){var s=Sa[t];Sa[t++]=null;var a=Sa[t];Sa[t++]=null;var r=Sa[t];Sa[t++]=null;var n=Sa[t];if(Sa[t++]=null,null!==a&&null!==r){var l=a.pending;null===l?r.next=r:(r.next=l.next,l.next=r),a.pending=r}0!==n&&Ma(s,r,n)}}function Ta(e,t,s,a){Sa[Ca++]=e,Sa[Ca++]=t,Sa[Ca++]=s,Sa[Ca++]=a,Aa|=a,e.lanes|=a,null!==(e=e.alternate)&&(e.lanes|=a)}function Pa(e,t,s,a){return Ta(e,t,s,a),Ra(e)}function Da(e,t){return Ta(e,null,null,t),Ra(e)}function Ma(e,t,s){e.lanes|=s;var a=e.alternate;null!==a&&(a.lanes|=s);for(var r=!1,n=e.return;null!==n;)n.childLanes|=s,null!==(a=n.alternate)&&(a.childLanes|=s),22===n.tag&&(null===(e=n.stateNode)||1&e._visibility||(r=!0)),e=n,n=n.return;return 3===e.tag?(n=e.stateNode,r&&null!==t&&(r=31-ye(s),null===(a=(e=n.hiddenUpdates)[r])?e[r]=[t]:a.push(t),t.lane=536870912|s),n):null}function Ra(e){if(50<qc)throw qc=0,Vc=null,Error(l(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var La={};function Fa(e,t,s,a){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oa(e,t,s,a){return new Fa(e,t,s,a)}function Ia(e){return!(!(e=e.prototype)||!e.isReactComponent)}function za(e,t){var s=e.alternate;return null===s?((s=Oa(e.tag,t,e.key,e.mode)).elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=65011712&e.flags,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Ba(e,t){e.flags&=65011714;var s=e.alternate;return null===s?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,t=s.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ua(e,t,s,a,r,n){var i=0;if(a=e,"function"===typeof e)Ia(e)&&(i=1);else if("string"===typeof e)i=function(e,t,s){if(1===s||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,s,q.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=Oa(31,s,t,r)).elementType=C,e.lanes=n,e;case f:return Ha(s.children,r,n,t);case b:i=8,r|=24;break;case v:return(e=Oa(12,s,t,2|r)).elementType=v,e.lanes=n,e;case w:return(e=Oa(13,s,t,r)).elementType=w,e.lanes=n,e;case _:return(e=Oa(19,s,t,r)).elementType=_,e.lanes=n,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case j:i=10;break e;case y:i=9;break e;case N:i=11;break e;case k:i=14;break e;case S:i=16,a=null;break e}i=29,s=Error(l(130,null===e?"null":typeof e,"")),a=null}return(t=Oa(i,s,t,r)).elementType=e,t.type=a,t.lanes=n,t}function Ha(e,t,s,a){return(e=Oa(7,e,a,t)).lanes=s,e}function Wa(e,t,s){return(e=Oa(6,e,null,t)).lanes=s,e}function qa(e){var t=Oa(18,null,null,0);return t.stateNode=e,t}function Va(e,t,s){return(t=Oa(4,null!==e.children?e.children:[],e.key,t)).lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ga=new WeakMap;function Ya(e,t){if("object"===typeof e&&null!==e){var s=Ga.get(e);return void 0!==s?s:(t={value:e,source:t,stack:se(t)},Ga.set(e,t),t)}return{value:e,source:t,stack:se(t)}}var $a=[],Qa=0,Ka=null,Ja=0,Xa=[],Za=0,er=null,tr=1,sr="";function ar(e,t){$a[Qa++]=Ja,$a[Qa++]=Ka,Ka=e,Ja=t}function rr(e,t,s){Xa[Za++]=tr,Xa[Za++]=sr,Xa[Za++]=er,er=e;var a=tr;e=sr;var r=32-ye(a)-1;a&=~(1<<r),s+=1;var n=32-ye(t)+r;if(30<n){var l=r-r%5;n=(a&(1<<l)-1).toString(32),a>>=l,r-=l,tr=1<<32-ye(t)+r|s<<r|a,sr=n+e}else tr=1<<n|s<<r|a,sr=e}function nr(e){null!==e.return&&(ar(e,1),rr(e,1,0))}function lr(e){for(;e===Ka;)Ka=$a[--Qa],$a[Qa]=null,Ja=$a[--Qa],$a[Qa]=null;for(;e===er;)er=Xa[--Za],Xa[Za]=null,sr=Xa[--Za],Xa[Za]=null,tr=Xa[--Za],Xa[Za]=null}function ir(e,t){Xa[Za++]=tr,Xa[Za++]=sr,Xa[Za++]=er,tr=t.id,sr=t.overflow,er=e}var or=null,cr=null,dr=!1,ur=null,mr=!1,xr=Error(l(519));function hr(e){throw yr(Ya(Error(l(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),xr}function pr(e){var t=e.stateNode,s=e.type,a=e.memoizedProps;switch(t[Ue]=e,t[He]=a,s){case"dialog":Kd("cancel",t),Kd("close",t);break;case"iframe":case"object":case"embed":Kd("load",t);break;case"video":case"audio":for(s=0;s<Yd.length;s++)Kd(Yd[s],t);break;case"source":Kd("error",t);break;case"img":case"image":case"link":Kd("error",t),Kd("load",t);break;case"details":Kd("toggle",t);break;case"input":Kd("invalid",t),vt(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Kd("invalid",t);break;case"textarea":Kd("invalid",t),wt(t,a.value,a.defaultValue,a.children)}"string"!==typeof(s=a.children)&&"number"!==typeof s&&"bigint"!==typeof s||t.textContent===""+s||!0===a.suppressHydrationWarning||cu(t.textContent,s)?(null!=a.popover&&(Kd("beforetoggle",t),Kd("toggle",t)),null!=a.onScroll&&Kd("scroll",t),null!=a.onScrollEnd&&Kd("scrollend",t),null!=a.onClick&&(t.onclick=Dt),t=!0):t=!1,t||hr(e,!0)}function gr(e){for(or=e.return;or;)switch(or.tag){case 5:case 31:case 13:return void(mr=!1);case 27:case 3:return void(mr=!0);default:or=or.return}}function fr(e){if(e!==or)return!1;if(!dr)return gr(e),dr=!0,!1;var t,s=e.tag;if((t=3!==s&&27!==s)&&((t=5===s)&&(t=!("form"!==(t=e.type)&&"button"!==t)||vu(e.type,e.memoizedProps)),t=!t),t&&cr&&hr(e),gr(e),13===s){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(l(317));cr=Lu(e)}else if(31===s){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(l(317));cr=Lu(e)}else 27===s?(s=cr,Su(e.type)?(e=Ru,Ru=null,cr=e):cr=s):cr=or?Mu(e.stateNode.nextSibling):null;return!0}function br(){cr=or=null,dr=!1}function vr(){var e=ur;return null!==e&&(null===Tc?Tc=e:Tc.push.apply(Tc,e),ur=null),e}function yr(e){null===ur?ur=[e]:ur.push(e)}var jr=z(null),Nr=null,wr=null;function _r(e,t,s){U(jr,t._currentValue),t._currentValue=s}function kr(e){e._currentValue=jr.current,B(jr)}function Sr(e,t,s){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===s)break;e=e.return}}function Cr(e,t,s,a){var r=e.child;for(null!==r&&(r.return=e);null!==r;){var n=r.dependencies;if(null!==n){var i=r.child;n=n.firstContext;e:for(;null!==n;){var o=n;n=r;for(var c=0;c<t.length;c++)if(o.context===t[c]){n.lanes|=s,null!==(o=n.alternate)&&(o.lanes|=s),Sr(n.return,s,e),a||(i=null);break e}n=o.next}}else if(18===r.tag){if(null===(i=r.return))throw Error(l(341));i.lanes|=s,null!==(n=i.alternate)&&(n.lanes|=s),Sr(i,s,e),i=null}else i=r.child;if(null!==i)i.return=r;else for(i=r;null!==i;){if(i===e){i=null;break}if(null!==(r=i.sibling)){r.return=i.return,i=r;break}i=i.return}r=i}}function Ar(e,t,s,a){e=null;for(var r=t,n=!1;null!==r;){if(!n)if(0!==(524288&r.flags))n=!0;else if(0!==(262144&r.flags))break;if(10===r.tag){var i=r.alternate;if(null===i)throw Error(l(387));if(null!==(i=i.memoizedProps)){var o=r.type;Js(r.pendingProps.value,i.value)||(null!==e?e.push(o):e=[o])}}else if(r===Y.current){if(null===(i=r.alternate))throw Error(l(387));i.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(null!==e?e.push(dm):e=[dm])}r=r.return}null!==e&&Cr(t,e,s,a),t.flags|=262144}function Er(e){for(e=e.firstContext;null!==e;){if(!Js(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Tr(e){Nr=e,wr=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Pr(e){return Mr(Nr,e)}function Dr(e,t){return null===Nr&&Tr(e),Mr(e,t)}function Mr(e,t){var s=t._currentValue;if(t={context:t,memoizedValue:s,next:null},null===wr){if(null===e)throw Error(l(308));wr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else wr=wr.next=t;return s}var Rr="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Lr=a.unstable_scheduleCallback,Fr=a.unstable_NormalPriority,Or={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ir(){return{controller:new Rr,data:new Map,refCount:0}}function zr(e){e.refCount--,0===e.refCount&&Lr(Fr,function(){e.controller.abort()})}var Br=null,Ur=0,Hr=0,Wr=null;function qr(){if(0===--Ur&&null!==Br){null!==Wr&&(Wr.status="fulfilled");var e=Br;Br=null,Hr=0,Wr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Vr=R.S;R.S=function(e,t){Mc=oe(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Br){var s=Br=[];Ur=0,Hr=Hd(),Wr={status:"pending",value:void 0,then:function(e){s.push(e)}}}Ur++,t.then(qr,qr)}(0,t),null!==Vr&&Vr(e,t)};var Gr=z(null);function Yr(){var e=Gr.current;return null!==e?e:hc.pooledCache}function $r(e,t){U(Gr,null===t?Gr.current:t.pool)}function Qr(){var e=Yr();return null===e?null:{parent:Or._currentValue,pool:e}}var Kr=Error(l(460)),Jr=Error(l(474)),Xr=Error(l(542)),Zr={then:function(){}};function en(e){return"fulfilled"===(e=e.status)||"rejected"===e}function tn(e,t,s){switch(void 0===(s=e[s])?e.push(t):s!==t&&(t.then(Dt,Dt),t=s),t.status){case"fulfilled":return t.value;case"rejected":throw nn(e=t.reason),e;default:if("string"===typeof t.status)t.then(Dt,Dt);else{if(null!==(e=hc)&&100<e.shellSuspendCounter)throw Error(l(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var s=t;s.status="fulfilled",s.value=e}},function(e){if("pending"===t.status){var s=t;s.status="rejected",s.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw nn(e=t.reason),e}throw an=t,Kr}}function sn(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw an=t,Kr;throw t}}var an=null;function rn(){if(null===an)throw Error(l(459));var e=an;return an=null,e}function nn(e){if(e===Kr||e===Xr)throw Error(l(483))}var ln=null,on=0;function cn(e){var t=on;return on+=1,null===ln&&(ln=[]),tn(ln,e,t)}function dn(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function un(e,t){if(t.$$typeof===h)throw Error(l(525));throw e=Object.prototype.toString.call(t),Error(l(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function mn(e){function t(t,s){if(e){var a=t.deletions;null===a?(t.deletions=[s],t.flags|=16):a.push(s)}}function s(s,a){if(!e)return null;for(;null!==a;)t(s,a),a=a.sibling;return null}function a(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(e,t){return(e=za(e,t)).index=0,e.sibling=null,e}function n(t,s,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<s?(t.flags|=67108866,s):a:(t.flags|=67108866,s):(t.flags|=1048576,s)}function i(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function o(e,t,s,a){return null===t||6!==t.tag?((t=Wa(s,e.mode,a)).return=e,t):((t=r(t,s)).return=e,t)}function c(e,t,s,a){var n=s.type;return n===f?u(e,t,s.props.children,a,s.key):null!==t&&(t.elementType===n||"object"===typeof n&&null!==n&&n.$$typeof===S&&sn(n)===t.type)?(dn(t=r(t,s.props),s),t.return=e,t):(dn(t=Ua(s.type,s.key,s.props,null,e.mode,a),s),t.return=e,t)}function d(e,t,s,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==s.containerInfo||t.stateNode.implementation!==s.implementation?((t=Va(s,e.mode,a)).return=e,t):((t=r(t,s.children||[])).return=e,t)}function u(e,t,s,a,n){return null===t||7!==t.tag?((t=Ha(s,e.mode,a,n)).return=e,t):((t=r(t,s)).return=e,t)}function m(e,t,s){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Wa(""+t,e.mode,s)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return dn(s=Ua(t.type,t.key,t.props,null,e.mode,s),t),s.return=e,s;case g:return(t=Va(t,e.mode,s)).return=e,t;case S:return m(e,t=sn(t),s)}if(M(t)||T(t))return(t=Ha(t,e.mode,s,null)).return=e,t;if("function"===typeof t.then)return m(e,cn(t),s);if(t.$$typeof===j)return m(e,Dr(e,t),s);un(e,t)}return null}function x(e,t,s,a){var r=null!==t?t.key:null;if("string"===typeof s&&""!==s||"number"===typeof s||"bigint"===typeof s)return null!==r?null:o(e,t,""+s,a);if("object"===typeof s&&null!==s){switch(s.$$typeof){case p:return s.key===r?c(e,t,s,a):null;case g:return s.key===r?d(e,t,s,a):null;case S:return x(e,t,s=sn(s),a)}if(M(s)||T(s))return null!==r?null:u(e,t,s,a,null);if("function"===typeof s.then)return x(e,t,cn(s),a);if(s.$$typeof===j)return x(e,t,Dr(e,s),a);un(e,s)}return null}function h(e,t,s,a,r){if("string"===typeof a&&""!==a||"number"===typeof a||"bigint"===typeof a)return o(t,e=e.get(s)||null,""+a,r);if("object"===typeof a&&null!==a){switch(a.$$typeof){case p:return c(t,e=e.get(null===a.key?s:a.key)||null,a,r);case g:return d(t,e=e.get(null===a.key?s:a.key)||null,a,r);case S:return h(e,t,s,a=sn(a),r)}if(M(a)||T(a))return u(t,e=e.get(s)||null,a,r,null);if("function"===typeof a.then)return h(e,t,s,cn(a),r);if(a.$$typeof===j)return h(e,t,s,Dr(t,a),r);un(t,a)}return null}function b(o,c,d,u){if("object"===typeof d&&null!==d&&d.type===f&&null===d.key&&(d=d.props.children),"object"===typeof d&&null!==d){switch(d.$$typeof){case p:e:{for(var v=d.key;null!==c;){if(c.key===v){if((v=d.type)===f){if(7===c.tag){s(o,c.sibling),(u=r(c,d.props.children)).return=o,o=u;break e}}else if(c.elementType===v||"object"===typeof v&&null!==v&&v.$$typeof===S&&sn(v)===c.type){s(o,c.sibling),dn(u=r(c,d.props),d),u.return=o,o=u;break e}s(o,c);break}t(o,c),c=c.sibling}d.type===f?((u=Ha(d.props.children,o.mode,u,d.key)).return=o,o=u):(dn(u=Ua(d.type,d.key,d.props,null,o.mode,u),d),u.return=o,o=u)}return i(o);case g:e:{for(v=d.key;null!==c;){if(c.key===v){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){s(o,c.sibling),(u=r(c,d.children||[])).return=o,o=u;break e}s(o,c);break}t(o,c),c=c.sibling}(u=Va(d,o.mode,u)).return=o,o=u}return i(o);case S:return b(o,c,d=sn(d),u)}if(M(d))return function(r,l,i,o){for(var c=null,d=null,u=l,p=l=0,g=null;null!==u&&p<i.length;p++){u.index>p?(g=u,u=null):g=u.sibling;var f=x(r,u,i[p],o);if(null===f){null===u&&(u=g);break}e&&u&&null===f.alternate&&t(r,u),l=n(f,l,p),null===d?c=f:d.sibling=f,d=f,u=g}if(p===i.length)return s(r,u),dr&&ar(r,p),c;if(null===u){for(;p<i.length;p++)null!==(u=m(r,i[p],o))&&(l=n(u,l,p),null===d?c=u:d.sibling=u,d=u);return dr&&ar(r,p),c}for(u=a(u);p<i.length;p++)null!==(g=h(u,r,p,i[p],o))&&(e&&null!==g.alternate&&u.delete(null===g.key?p:g.key),l=n(g,l,p),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach(function(e){return t(r,e)}),dr&&ar(r,p),c}(o,c,d,u);if(T(d)){if("function"!==typeof(v=T(d)))throw Error(l(150));return function(r,i,o,c){if(null==o)throw Error(l(151));for(var d=null,u=null,p=i,g=i=0,f=null,b=o.next();null!==p&&!b.done;g++,b=o.next()){p.index>g?(f=p,p=null):f=p.sibling;var v=x(r,p,b.value,c);if(null===v){null===p&&(p=f);break}e&&p&&null===v.alternate&&t(r,p),i=n(v,i,g),null===u?d=v:u.sibling=v,u=v,p=f}if(b.done)return s(r,p),dr&&ar(r,g),d;if(null===p){for(;!b.done;g++,b=o.next())null!==(b=m(r,b.value,c))&&(i=n(b,i,g),null===u?d=b:u.sibling=b,u=b);return dr&&ar(r,g),d}for(p=a(p);!b.done;g++,b=o.next())null!==(b=h(p,r,g,b.value,c))&&(e&&null!==b.alternate&&p.delete(null===b.key?g:b.key),i=n(b,i,g),null===u?d=b:u.sibling=b,u=b);return e&&p.forEach(function(e){return t(r,e)}),dr&&ar(r,g),d}(o,c,d=v.call(d),u)}if("function"===typeof d.then)return b(o,c,cn(d),u);if(d.$$typeof===j)return b(o,c,Dr(o,d),u);un(o,d)}return"string"===typeof d&&""!==d||"number"===typeof d||"bigint"===typeof d?(d=""+d,null!==c&&6===c.tag?(s(o,c.sibling),(u=r(c,d)).return=o,o=u):(s(o,c),(u=Wa(d,o.mode,u)).return=o,o=u),i(o)):s(o,c)}return function(e,t,s,a){try{on=0;var r=b(e,t,s,a);return ln=null,r}catch(l){if(l===Kr||l===Xr)throw l;var n=Oa(29,l,null,e.mode);return n.lanes=a,n.return=e,n}}}var xn=mn(!0),hn=mn(!1),pn=!1;function gn(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function bn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function vn(e,t,s){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&xc)){var r=a.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),a.pending=t,t=Ra(e),Ma(e,null,s),t}return Ta(e,a,t,s),Ra(e)}function yn(e,t,s){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&s))){var a=t.lanes;s|=a&=e.pendingLanes,t.lanes=s,Re(e,s)}}function jn(e,t){var s=e.updateQueue,a=e.alternate;if(null!==a&&s===(a=a.updateQueue)){var r=null,n=null;if(null!==(s=s.firstBaseUpdate)){do{var l={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};null===n?r=n=l:n=n.next=l,s=s.next}while(null!==s);null===n?r=n=t:n=n.next=t}else r=n=t;return s={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:n,shared:a.shared,callbacks:a.callbacks},void(e.updateQueue=s)}null===(e=s.lastBaseUpdate)?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}var Nn=!1;function wn(){if(Nn){if(null!==Wr)throw Wr}}function _n(e,t,s,a){Nn=!1;var r=e.updateQueue;pn=!1;var n=r.firstBaseUpdate,l=r.lastBaseUpdate,i=r.shared.pending;if(null!==i){r.shared.pending=null;var o=i,c=o.next;o.next=null,null===l?n=c:l.next=c,l=o;var d=e.alternate;null!==d&&((i=(d=d.updateQueue).lastBaseUpdate)!==l&&(null===i?d.firstBaseUpdate=c:i.next=c,d.lastBaseUpdate=o))}if(null!==n){var u=r.baseState;for(l=0,d=c=o=null,i=n;;){var m=-536870913&i.lane,h=m!==i.lane;if(h?(gc&m)===m:(a&m)===m){0!==m&&m===Hr&&(Nn=!0),null!==d&&(d=d.next={lane:0,tag:i.tag,payload:i.payload,callback:null,next:null});e:{var p=e,g=i;m=t;var f=s;switch(g.tag){case 1:if("function"===typeof(p=g.payload)){u=p.call(f,u,m);break e}u=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(m="function"===typeof(p=g.payload)?p.call(f,u,m):p)||void 0===m)break e;u=x({},u,m);break e;case 2:pn=!0}}null!==(m=i.callback)&&(e.flags|=64,h&&(e.flags|=8192),null===(h=r.callbacks)?r.callbacks=[m]:h.push(m))}else h={lane:m,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(c=d=h,o=u):d=d.next=h,l|=m;if(null===(i=i.next)){if(null===(i=r.shared.pending))break;i=(h=i).next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}null===d&&(o=u),r.baseState=o,r.firstBaseUpdate=c,r.lastBaseUpdate=d,null===n&&(r.shared.lanes=0),_c|=l,e.lanes=l,e.memoizedState=u}}function kn(e,t){if("function"!==typeof e)throw Error(l(191,e));e.call(t)}function Sn(e,t){var s=e.callbacks;if(null!==s)for(e.callbacks=null,e=0;e<s.length;e++)kn(s[e],t)}var Cn=z(null),An=z(0);function En(e,t){U(An,e=Nc),U(Cn,t),Nc=e|t.baseLanes}function Tn(){U(An,Nc),U(Cn,Cn.current)}function Pn(){Nc=An.current,B(Cn),B(An)}var Dn=z(null),Mn=null;function Rn(e){var t=e.alternate;U(zn,1&zn.current),U(Dn,e),null===Mn&&(null===t||null!==Cn.current||null!==t.memoizedState)&&(Mn=e)}function Ln(e){U(zn,zn.current),U(Dn,e),null===Mn&&(Mn=e)}function Fn(e){22===e.tag?(U(zn,zn.current),U(Dn,e),null===Mn&&(Mn=e)):On()}function On(){U(zn,zn.current),U(Dn,Dn.current)}function In(e){B(Dn),Mn===e&&(Mn=null),B(zn)}var zn=z(0);function Bn(e){for(var t=e;null!==t;){if(13===t.tag){var s=t.memoizedState;if(null!==s&&(null===(s=s.dehydrated)||Pu(s)||Du(s)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Un=0,Hn=null,Wn=null,qn=null,Vn=!1,Gn=!1,Yn=!1,$n=0,Qn=0,Kn=null,Jn=0;function Xn(){throw Error(l(321))}function Zn(e,t){if(null===t)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Js(e[s],t[s]))return!1;return!0}function el(e,t,s,a,r,n){return Un=n,Hn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=null===e||null===e.memoizedState?pi:gi,Yn=!1,n=s(a,r),Yn=!1,Gn&&(n=sl(t,s,a,r)),tl(e),n}function tl(e){R.H=hi;var t=null!==Wn&&null!==Wn.next;if(Un=0,qn=Wn=Hn=null,Vn=!1,Qn=0,Kn=null,t)throw Error(l(300));null===e||Di||null!==(e=e.dependencies)&&Er(e)&&(Di=!0)}function sl(e,t,s,a){Hn=e;var r=0;do{if(Gn&&(Kn=null),Qn=0,Gn=!1,25<=r)throw Error(l(301));if(r+=1,qn=Wn=null,null!=e.updateQueue){var n=e.updateQueue;n.lastEffect=null,n.events=null,n.stores=null,null!=n.memoCache&&(n.memoCache.index=0)}R.H=fi,n=t(s,a)}while(Gn);return n}function al(){var e=R.H,t=e.useState()[0];return t="function"===typeof t.then?cl(t):t,e=e.useState()[0],(null!==Wn?Wn.memoizedState:null)!==e&&(Hn.flags|=1024),t}function rl(){var e=0!==$n;return $n=0,e}function nl(e,t,s){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s}function ll(e){if(Vn){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Vn=!1}Un=0,qn=Wn=Hn=null,Gn=!1,Qn=$n=0,Kn=null}function il(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===qn?Hn.memoizedState=qn=e:qn=qn.next=e,qn}function ol(){if(null===Wn){var e=Hn.alternate;e=null!==e?e.memoizedState:null}else e=Wn.next;var t=null===qn?Hn.memoizedState:qn.next;if(null!==t)qn=t,Wn=e;else{if(null===e){if(null===Hn.alternate)throw Error(l(467));throw Error(l(310))}e={memoizedState:(Wn=e).memoizedState,baseState:Wn.baseState,baseQueue:Wn.baseQueue,queue:Wn.queue,next:null},null===qn?Hn.memoizedState=qn=e:qn=qn.next=e}return qn}function cl(e){var t=Qn;return Qn+=1,null===Kn&&(Kn=[]),e=tn(Kn,e,t),t=Hn,null===(null===qn?t.memoizedState:qn.next)&&(t=t.alternate,R.H=null===t||null===t.memoizedState?pi:gi),e}function dl(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return cl(e);if(e.$$typeof===j)return Pr(e)}throw Error(l(438,String(e)))}function ul(e){var t=null,s=Hn.updateQueue;if(null!==s&&(t=s.memoCache),null==t){var a=Hn.alternate;null!==a&&(null!==(a=a.updateQueue)&&(null!=(a=a.memoCache)&&(t={data:a.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===s&&(s={lastEffect:null,events:null,stores:null,memoCache:null},Hn.updateQueue=s),s.memoCache=t,void 0===(s=t.data[t.index]))for(s=t.data[t.index]=Array(e),a=0;a<e;a++)s[a]=A;return t.index++,s}function ml(e,t){return"function"===typeof t?t(e):t}function xl(e){return hl(ol(),Wn,e)}function hl(e,t,s){var a=e.queue;if(null===a)throw Error(l(311));a.lastRenderedReducer=s;var r=e.baseQueue,n=a.pending;if(null!==n){if(null!==r){var i=r.next;r.next=n.next,n.next=i}t.baseQueue=r=n,a.pending=null}if(n=e.baseState,null===r)e.memoizedState=n;else{var o=i=null,c=null,d=t=r.next,u=!1;do{var m=-536870913&d.lane;if(m!==d.lane?(gc&m)===m:(Un&m)===m){var x=d.revertLane;if(0===x)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),m===Hr&&(u=!0);else{if((Un&x)===x){d=d.next,x===Hr&&(u=!0);continue}m={lane:0,revertLane:d.revertLane,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(o=c=m,i=n):c=c.next=m,Hn.lanes|=x,_c|=x}m=d.action,Yn&&s(n,m),n=d.hasEagerState?d.eagerState:s(n,m)}else x={lane:m,revertLane:d.revertLane,gesture:d.gesture,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(o=c=x,i=n):c=c.next=x,Hn.lanes|=m,_c|=m;d=d.next}while(null!==d&&d!==t);if(null===c?i=n:c.next=o,!Js(n,e.memoizedState)&&(Di=!0,u&&null!==(s=Wr)))throw s;e.memoizedState=n,e.baseState=i,e.baseQueue=c,a.lastRenderedState=n}return null===r&&(a.lanes=0),[e.memoizedState,a.dispatch]}function pl(e){var t=ol(),s=t.queue;if(null===s)throw Error(l(311));s.lastRenderedReducer=e;var a=s.dispatch,r=s.pending,n=t.memoizedState;if(null!==r){s.pending=null;var i=r=r.next;do{n=e(n,i.action),i=i.next}while(i!==r);Js(n,t.memoizedState)||(Di=!0),t.memoizedState=n,null===t.baseQueue&&(t.baseState=n),s.lastRenderedState=n}return[n,a]}function gl(e,t,s){var a=Hn,r=ol(),n=dr;if(n){if(void 0===s)throw Error(l(407));s=s()}else s=t();var i=!Js((Wn||r).memoizedState,s);if(i&&(r.memoizedState=s,Di=!0),r=r.queue,Ul(vl.bind(null,a,r,e),[e]),r.getSnapshot!==t||i||null!==qn&&1&qn.memoizedState.tag){if(a.flags|=2048,Fl(9,{destroy:void 0},bl.bind(null,a,r,s,t),null),null===hc)throw Error(l(349));n||0!==(127&Un)||fl(a,t,s)}return s}function fl(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},null===(t=Hn.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Hn.updateQueue=t,t.stores=[e]):null===(s=t.stores)?t.stores=[e]:s.push(e)}function bl(e,t,s,a){t.value=s,t.getSnapshot=a,yl(t)&&jl(e)}function vl(e,t,s){return s(function(){yl(t)&&jl(e)})}function yl(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Js(e,s)}catch(a){return!0}}function jl(e){var t=Da(e,2);null!==t&&$c(t,e,2)}function Nl(e){var t=il();if("function"===typeof e){var s=e;if(e=s(),Yn){ve(!0);try{s()}finally{ve(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:e},t}function wl(e,t,s,a){return e.baseState=s,hl(e,Wn,"function"===typeof a?a:ml)}function _l(e,t,s,a,r){if(ui(e))throw Error(l(485));if(null!==(e=t.action)){var n={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){n.listeners.push(e)}};null!==R.T?s(!0):n.isTransition=!1,a(n),null===(s=t.pending)?(n.next=t.pending=n,kl(t,n)):(n.next=s.next,t.pending=s.next=n)}}function kl(e,t){var s=t.action,a=t.payload,r=e.state;if(t.isTransition){var n=R.T,l={};R.T=l;try{var i=s(r,a),o=R.S;null!==o&&o(l,i),Sl(e,t,i)}catch(c){Al(e,t,c)}finally{null!==n&&null!==l.types&&(n.types=l.types),R.T=n}}else try{Sl(e,t,n=s(r,a))}catch(d){Al(e,t,d)}}function Sl(e,t,s){null!==s&&"object"===typeof s&&"function"===typeof s.then?s.then(function(s){Cl(e,t,s)},function(s){return Al(e,t,s)}):Cl(e,t,s)}function Cl(e,t,s){t.status="fulfilled",t.value=s,El(t),e.state=s,null!==(t=e.pending)&&((s=t.next)===t?e.pending=null:(s=s.next,t.next=s,kl(e,s)))}function Al(e,t,s){var a=e.pending;if(e.pending=null,null!==a){a=a.next;do{t.status="rejected",t.reason=s,El(t),t=t.next}while(t!==a)}e.action=null}function El(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Tl(e,t){return t}function Pl(e,t){if(dr){var s=hc.formState;if(null!==s){e:{var a=Hn;if(dr){if(cr){t:{for(var r=cr,n=mr;8!==r.nodeType;){if(!n){r=null;break t}if(null===(r=Mu(r.nextSibling))){r=null;break t}}r="F!"===(n=r.data)||"F"===n?r:null}if(r){cr=Mu(r.nextSibling),a="F!"===r.data;break e}}hr(a)}a=!1}a&&(t=s[0])}}return(s=il()).memoizedState=s.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tl,lastRenderedState:t},s.queue=a,s=oi.bind(null,Hn,a),a.dispatch=s,a=Nl(!1),n=di.bind(null,Hn,!1,a.queue),r={state:t,dispatch:null,action:e,pending:null},(a=il()).queue=r,s=_l.bind(null,Hn,r,n,s),r.dispatch=s,a.memoizedState=e,[t,s,!1]}function Dl(e){return Ml(ol(),Wn,e)}function Ml(e,t,s){if(t=hl(e,t,Tl)[0],e=xl(ml)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var a=cl(t)}catch(l){if(l===Kr)throw Xr;throw l}else a=t;var r=(t=ol()).queue,n=r.dispatch;return s!==t.memoizedState&&(Hn.flags|=2048,Fl(9,{destroy:void 0},Rl.bind(null,r,s),null)),[a,n,e]}function Rl(e,t){e.action=t}function Ll(e){var t=ol(),s=Wn;if(null!==s)return Ml(t,s,e);ol(),t=t.memoizedState;var a=(s=ol()).queue.dispatch;return s.memoizedState=e,[t,a,!1]}function Fl(e,t,s,a){return e={tag:e,create:s,deps:a,inst:t,next:null},null===(t=Hn.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Hn.updateQueue=t),null===(s=t.lastEffect)?t.lastEffect=e.next=e:(a=s.next,s.next=e,e.next=a,t.lastEffect=e),e}function Ol(){return ol().memoizedState}function Il(e,t,s,a){var r=il();Hn.flags|=e,r.memoizedState=Fl(1|t,{destroy:void 0},s,void 0===a?null:a)}function zl(e,t,s,a){var r=ol();a=void 0===a?null:a;var n=r.memoizedState.inst;null!==Wn&&null!==a&&Zn(a,Wn.memoizedState.deps)?r.memoizedState=Fl(t,n,s,a):(Hn.flags|=e,r.memoizedState=Fl(1|t,n,s,a))}function Bl(e,t){Il(8390656,8,e,t)}function Ul(e,t){zl(2048,8,e,t)}function Hl(e){var t=ol().memoizedState;return function(e){Hn.flags|=4;var t=Hn.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Hn.updateQueue=t,t.events=[e];else{var s=t.events;null===s?t.events=[e]:s.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&xc))throw Error(l(440));return t.impl.apply(void 0,arguments)}}function Wl(e,t){return zl(4,2,e,t)}function ql(e,t){return zl(4,4,e,t)}function Vl(e,t){if("function"===typeof t){e=e();var s=t(e);return function(){"function"===typeof s?s():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Gl(e,t,s){s=null!==s&&void 0!==s?s.concat([e]):null,zl(4,4,Vl.bind(null,t,e),s)}function Yl(){}function $l(e,t){var s=ol();t=void 0===t?null:t;var a=s.memoizedState;return null!==t&&Zn(t,a[1])?a[0]:(s.memoizedState=[e,t],e)}function Ql(e,t){var s=ol();t=void 0===t?null:t;var a=s.memoizedState;if(null!==t&&Zn(t,a[1]))return a[0];if(a=e(),Yn){ve(!0);try{e()}finally{ve(!1)}}return s.memoizedState=[a,t],a}function Kl(e,t,s){return void 0===s||0!==(1073741824&Un)&&0===(261930&gc)?e.memoizedState=t:(e.memoizedState=s,e=Yc(),Hn.lanes|=e,_c|=e,s)}function Jl(e,t,s,a){return Js(s,t)?s:null!==Cn.current?(e=Kl(e,s,a),Js(e,t)||(Di=!0),e):0===(42&Un)||0!==(1073741824&Un)&&0===(261930&gc)?(Di=!0,e.memoizedState=s):(e=Yc(),Hn.lanes|=e,_c|=e,t)}function Xl(e,t,s,a,r){var n=L.p;L.p=0!==n&&8>n?n:8;var l=R.T,i={};R.T=i,di(e,!1,t,s);try{var o=r(),c=R.S;if(null!==c&&c(i,o),null!==o&&"object"===typeof o&&"function"===typeof o.then)ci(e,t,function(e,t){var s=[],a={status:"pending",value:null,reason:null,then:function(e){s.push(e)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var e=0;e<s.length;e++)(0,s[e])(t)},function(e){for(a.status="rejected",a.reason=e,e=0;e<s.length;e++)(0,s[e])(void 0)}),a}(o,a),Gc());else ci(e,t,a,Gc())}catch(d){ci(e,t,{then:function(){},status:"rejected",reason:d},Gc())}finally{L.p=n,null!==l&&null!==i.types&&(l.types=i.types),R.T=l}}function Zl(){}function ei(e,t,s,a){if(5!==e.tag)throw Error(l(476));var r=ti(e).queue;Xl(e,r,t,F,null===s?Zl:function(){return si(e),s(a)})}function ti(e){var t=e.memoizedState;if(null!==t)return t;var s={};return(t={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:F},next:null}).next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:s},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function si(e){var t=ti(e);null===t.next&&(t=e.alternate.memoizedState),ci(e,t.next.queue,{},Gc())}function ai(){return Pr(dm)}function ri(){return ol().memoizedState}function ni(){return ol().memoizedState}function li(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var s=Gc(),a=vn(t,e=bn(s),s);return null!==a&&($c(a,t,s),yn(a,t,s)),t={cache:Ir()},void(e.payload=t)}t=t.return}}function ii(e,t,s){var a=Gc();s={lane:a,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ui(e)?mi(t,s):null!==(s=Pa(e,t,s,a))&&($c(s,e,a),xi(s,t,a))}function oi(e,t,s){ci(e,t,s,Gc())}function ci(e,t,s,a){var r={lane:a,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(ui(e))mi(t,r);else{var n=e.alternate;if(0===e.lanes&&(null===n||0===n.lanes)&&null!==(n=t.lastRenderedReducer))try{var l=t.lastRenderedState,i=n(l,s);if(r.hasEagerState=!0,r.eagerState=i,Js(i,l))return Ta(e,t,r,0),null===hc&&Ea(),!1}catch(o){}if(null!==(s=Pa(e,t,r,a)))return $c(s,e,a),xi(s,t,a),!0}return!1}function di(e,t,s,a){if(a={lane:2,revertLane:Hd(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ui(e)){if(t)throw Error(l(479))}else null!==(t=Pa(e,s,a,2))&&$c(t,e,2)}function ui(e){var t=e.alternate;return e===Hn||null!==t&&t===Hn}function mi(e,t){Gn=Vn=!0;var s=e.pending;null===s?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function xi(e,t,s){if(0!==(4194048&s)){var a=t.lanes;s|=a&=e.pendingLanes,t.lanes=s,Re(e,s)}}var hi={readContext:Pr,use:dl,useCallback:Xn,useContext:Xn,useEffect:Xn,useImperativeHandle:Xn,useLayoutEffect:Xn,useInsertionEffect:Xn,useMemo:Xn,useReducer:Xn,useRef:Xn,useState:Xn,useDebugValue:Xn,useDeferredValue:Xn,useTransition:Xn,useSyncExternalStore:Xn,useId:Xn,useHostTransitionStatus:Xn,useFormState:Xn,useActionState:Xn,useOptimistic:Xn,useMemoCache:Xn,useCacheRefresh:Xn};hi.useEffectEvent=Xn;var pi={readContext:Pr,use:dl,useCallback:function(e,t){return il().memoizedState=[e,void 0===t?null:t],e},useContext:Pr,useEffect:Bl,useImperativeHandle:function(e,t,s){s=null!==s&&void 0!==s?s.concat([e]):null,Il(4194308,4,Vl.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Il(4194308,4,e,t)},useInsertionEffect:function(e,t){Il(4,2,e,t)},useMemo:function(e,t){var s=il();t=void 0===t?null:t;var a=e();if(Yn){ve(!0);try{e()}finally{ve(!1)}}return s.memoizedState=[a,t],a},useReducer:function(e,t,s){var a=il();if(void 0!==s){var r=s(t);if(Yn){ve(!0);try{s(t)}finally{ve(!1)}}}else r=t;return a.memoizedState=a.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},a.queue=e,e=e.dispatch=ii.bind(null,Hn,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},il().memoizedState=e},useState:function(e){var t=(e=Nl(e)).queue,s=oi.bind(null,Hn,t);return t.dispatch=s,[e.memoizedState,s]},useDebugValue:Yl,useDeferredValue:function(e,t){return Kl(il(),e,t)},useTransition:function(){var e=Nl(!1);return e=Xl.bind(null,Hn,e.queue,!0,!1),il().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,s){var a=Hn,r=il();if(dr){if(void 0===s)throw Error(l(407));s=s()}else{if(s=t(),null===hc)throw Error(l(349));0!==(127&gc)||fl(a,t,s)}r.memoizedState=s;var n={value:s,getSnapshot:t};return r.queue=n,Bl(vl.bind(null,a,n,e),[e]),a.flags|=2048,Fl(9,{destroy:void 0},bl.bind(null,a,n,s,t),null),s},useId:function(){var e=il(),t=hc.identifierPrefix;if(dr){var s=sr;t="_"+t+"R_"+(s=(tr&~(1<<32-ye(tr)-1)).toString(32)+s),0<(s=$n++)&&(t+="H"+s.toString(32)),t+="_"}else t="_"+t+"r_"+(s=Jn++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ai,useFormState:Pl,useActionState:Pl,useOptimistic:function(e){var t=il();t.memoizedState=t.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=s,t=di.bind(null,Hn,!0,s),s.dispatch=t,[e,t]},useMemoCache:ul,useCacheRefresh:function(){return il().memoizedState=li.bind(null,Hn)},useEffectEvent:function(e){var t=il(),s={impl:e};return t.memoizedState=s,function(){if(0!==(2&xc))throw Error(l(440));return s.impl.apply(void 0,arguments)}}},gi={readContext:Pr,use:dl,useCallback:$l,useContext:Pr,useEffect:Ul,useImperativeHandle:Gl,useInsertionEffect:Wl,useLayoutEffect:ql,useMemo:Ql,useReducer:xl,useRef:Ol,useState:function(){return xl(ml)},useDebugValue:Yl,useDeferredValue:function(e,t){return Jl(ol(),Wn.memoizedState,e,t)},useTransition:function(){var e=xl(ml)[0],t=ol().memoizedState;return["boolean"===typeof e?e:cl(e),t]},useSyncExternalStore:gl,useId:ri,useHostTransitionStatus:ai,useFormState:Dl,useActionState:Dl,useOptimistic:function(e,t){return wl(ol(),0,e,t)},useMemoCache:ul,useCacheRefresh:ni};gi.useEffectEvent=Hl;var fi={readContext:Pr,use:dl,useCallback:$l,useContext:Pr,useEffect:Ul,useImperativeHandle:Gl,useInsertionEffect:Wl,useLayoutEffect:ql,useMemo:Ql,useReducer:pl,useRef:Ol,useState:function(){return pl(ml)},useDebugValue:Yl,useDeferredValue:function(e,t){var s=ol();return null===Wn?Kl(s,e,t):Jl(s,Wn.memoizedState,e,t)},useTransition:function(){var e=pl(ml)[0],t=ol().memoizedState;return["boolean"===typeof e?e:cl(e),t]},useSyncExternalStore:gl,useId:ri,useHostTransitionStatus:ai,useFormState:Ll,useActionState:Ll,useOptimistic:function(e,t){var s=ol();return null!==Wn?wl(s,0,e,t):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:ul,useCacheRefresh:ni};function bi(e,t,s,a){s=null===(s=s(a,t=e.memoizedState))||void 0===s?t:x({},t,s),e.memoizedState=s,0===e.lanes&&(e.updateQueue.baseState=s)}fi.useEffectEvent=Hl;var vi={enqueueSetState:function(e,t,s){e=e._reactInternals;var a=Gc(),r=bn(a);r.payload=t,void 0!==s&&null!==s&&(r.callback=s),null!==(t=vn(e,r,a))&&($c(t,e,a),yn(t,e,a))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var a=Gc(),r=bn(a);r.tag=1,r.payload=t,void 0!==s&&null!==s&&(r.callback=s),null!==(t=vn(e,r,a))&&($c(t,e,a),yn(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Gc(),a=bn(s);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=vn(e,a,s))&&($c(t,e,s),yn(t,e,s))}};function yi(e,t,s,a,r,n,l){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,n,l):!t.prototype||!t.prototype.isPureReactComponent||(!Xs(s,a)||!Xs(r,n))}function ji(e,t,s,a){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(s,a),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(s,a),t.state!==e&&vi.enqueueReplaceState(t,t.state,null)}function Ni(e,t){var s=t;if("ref"in t)for(var a in s={},t)"ref"!==a&&(s[a]=t[a]);if(e=e.defaultProps)for(var r in s===t&&(s=x({},s)),e)void 0===s[r]&&(s[r]=e[r]);return s}function wi(e){ka(e)}function _i(e){console.error(e)}function ki(e){ka(e)}function Si(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Ci(e,t,s){try{(0,e.onCaughtError)(s.value,{componentStack:s.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function Ai(e,t,s){return(s=bn(s)).tag=3,s.payload={element:null},s.callback=function(){Si(e,t)},s}function Ei(e){return(e=bn(e)).tag=3,e}function Ti(e,t,s,a){var r=s.type.getDerivedStateFromError;if("function"===typeof r){var n=a.value;e.payload=function(){return r(n)},e.callback=function(){Ci(t,s,a)}}var l=s.stateNode;null!==l&&"function"===typeof l.componentDidCatch&&(e.callback=function(){Ci(t,s,a),"function"!==typeof r&&(null===Fc?Fc=new Set([this]):Fc.add(this));var e=a.stack;this.componentDidCatch(a.value,{componentStack:null!==e?e:""})})}var Pi=Error(l(461)),Di=!1;function Mi(e,t,s,a){t.child=null===e?hn(t,null,s,a):xn(t,e.child,s,a)}function Ri(e,t,s,a,r){s=s.render;var n=t.ref;if("ref"in a){var l={};for(var i in a)"ref"!==i&&(l[i]=a[i])}else l=a;return Tr(t),a=el(e,t,s,l,n,r),i=rl(),null===e||Di?(dr&&i&&nr(t),t.flags|=1,Mi(e,t,a,r),t.child):(nl(e,t,r),ao(e,t,r))}function Li(e,t,s,a,r){if(null===e){var n=s.type;return"function"!==typeof n||Ia(n)||void 0!==n.defaultProps||null!==s.compare?((e=Ua(s.type,null,a,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=n,Fi(e,t,n,a,r))}if(n=e.child,!ro(e,r)){var l=n.memoizedProps;if((s=null!==(s=s.compare)?s:Xs)(l,a)&&e.ref===t.ref)return ao(e,t,r)}return t.flags|=1,(e=za(n,a)).ref=t.ref,e.return=t,t.child=e}function Fi(e,t,s,a,r){if(null!==e){var n=e.memoizedProps;if(Xs(n,a)&&e.ref===t.ref){if(Di=!1,t.pendingProps=a=n,!ro(e,r))return t.lanes=e.lanes,ao(e,t,r);0!==(131072&e.flags)&&(Di=!0)}}return Wi(e,t,s,a,r)}function Oi(e,t,s,a){var r=a.children,n=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===a.mode){if(0!==(128&t.flags)){if(n=null!==n?n.baseLanes|s:s,null!==e){for(a=t.child=e.child,r=0;null!==a;)r=r|a.lanes|a.childLanes,a=a.sibling;a=r&~n}else a=0,t.child=null;return zi(e,t,n,s,a)}if(0===(536870912&s))return a=t.lanes=536870912,zi(e,t,null!==n?n.baseLanes|s:s,s,a);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&$r(0,null!==n?n.cachePool:null),null!==n?En(t,n):Tn(),Fn(t)}else null!==n?($r(0,n.cachePool),En(t,n),On(),t.memoizedState=null):(null!==e&&$r(0,null),Tn(),On());return Mi(e,t,r,s),t.child}function Ii(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function zi(e,t,s,a,r){var n=Yr();return n=null===n?null:{parent:Or._currentValue,pool:n},t.memoizedState={baseLanes:s,cachePool:n},null!==e&&$r(0,null),Tn(),Fn(t),null!==e&&Ar(e,t,a,!0),t.childLanes=r,null}function Bi(e,t){return(t=Xi({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Ui(e,t,s){return xn(t,e.child,null,s),(e=Bi(t,t.pendingProps)).flags|=2,In(t),t.memoizedState=null,e}function Hi(e,t){var s=t.ref;if(null===s)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof s&&"object"!==typeof s)throw Error(l(284));null!==e&&e.ref===s||(t.flags|=4194816)}}function Wi(e,t,s,a,r){return Tr(t),s=el(e,t,s,a,void 0,r),a=rl(),null===e||Di?(dr&&a&&nr(t),t.flags|=1,Mi(e,t,s,r),t.child):(nl(e,t,r),ao(e,t,r))}function qi(e,t,s,a,r,n){return Tr(t),t.updateQueue=null,s=sl(t,a,s,r),tl(e),a=rl(),null===e||Di?(dr&&a&&nr(t),t.flags|=1,Mi(e,t,s,n),t.child):(nl(e,t,n),ao(e,t,n))}function Vi(e,t,s,a,r){if(Tr(t),null===t.stateNode){var n=La,l=s.contextType;"object"===typeof l&&null!==l&&(n=Pr(l)),n=new s(a,n),t.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,n.updater=vi,t.stateNode=n,n._reactInternals=t,(n=t.stateNode).props=a,n.state=t.memoizedState,n.refs={},gn(t),l=s.contextType,n.context="object"===typeof l&&null!==l?Pr(l):La,n.state=t.memoizedState,"function"===typeof(l=s.getDerivedStateFromProps)&&(bi(t,s,l,a),n.state=t.memoizedState),"function"===typeof s.getDerivedStateFromProps||"function"===typeof n.getSnapshotBeforeUpdate||"function"!==typeof n.UNSAFE_componentWillMount&&"function"!==typeof n.componentWillMount||(l=n.state,"function"===typeof n.componentWillMount&&n.componentWillMount(),"function"===typeof n.UNSAFE_componentWillMount&&n.UNSAFE_componentWillMount(),l!==n.state&&vi.enqueueReplaceState(n,n.state,null),_n(t,a,n,r),wn(),n.state=t.memoizedState),"function"===typeof n.componentDidMount&&(t.flags|=4194308),a=!0}else if(null===e){n=t.stateNode;var i=t.memoizedProps,o=Ni(s,i);n.props=o;var c=n.context,d=s.contextType;l=La,"object"===typeof d&&null!==d&&(l=Pr(d));var u=s.getDerivedStateFromProps;d="function"===typeof u||"function"===typeof n.getSnapshotBeforeUpdate,i=t.pendingProps!==i,d||"function"!==typeof n.UNSAFE_componentWillReceiveProps&&"function"!==typeof n.componentWillReceiveProps||(i||c!==l)&&ji(t,n,a,l),pn=!1;var m=t.memoizedState;n.state=m,_n(t,a,n,r),wn(),c=t.memoizedState,i||m!==c||pn?("function"===typeof u&&(bi(t,s,u,a),c=t.memoizedState),(o=pn||yi(t,s,o,a,m,c,l))?(d||"function"!==typeof n.UNSAFE_componentWillMount&&"function"!==typeof n.componentWillMount||("function"===typeof n.componentWillMount&&n.componentWillMount(),"function"===typeof n.UNSAFE_componentWillMount&&n.UNSAFE_componentWillMount()),"function"===typeof n.componentDidMount&&(t.flags|=4194308)):("function"===typeof n.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),n.props=a,n.state=c,n.context=l,a=o):("function"===typeof n.componentDidMount&&(t.flags|=4194308),a=!1)}else{n=t.stateNode,fn(e,t),d=Ni(s,l=t.memoizedProps),n.props=d,u=t.pendingProps,m=n.context,c=s.contextType,o=La,"object"===typeof c&&null!==c&&(o=Pr(c)),(c="function"===typeof(i=s.getDerivedStateFromProps)||"function"===typeof n.getSnapshotBeforeUpdate)||"function"!==typeof n.UNSAFE_componentWillReceiveProps&&"function"!==typeof n.componentWillReceiveProps||(l!==u||m!==o)&&ji(t,n,a,o),pn=!1,m=t.memoizedState,n.state=m,_n(t,a,n,r),wn();var x=t.memoizedState;l!==u||m!==x||pn||null!==e&&null!==e.dependencies&&Er(e.dependencies)?("function"===typeof i&&(bi(t,s,i,a),x=t.memoizedState),(d=pn||yi(t,s,d,a,m,x,o)||null!==e&&null!==e.dependencies&&Er(e.dependencies))?(c||"function"!==typeof n.UNSAFE_componentWillUpdate&&"function"!==typeof n.componentWillUpdate||("function"===typeof n.componentWillUpdate&&n.componentWillUpdate(a,x,o),"function"===typeof n.UNSAFE_componentWillUpdate&&n.UNSAFE_componentWillUpdate(a,x,o)),"function"===typeof n.componentDidUpdate&&(t.flags|=4),"function"===typeof n.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof n.componentDidUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof n.getSnapshotBeforeUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=x),n.props=a,n.state=x,n.context=o,a=d):("function"!==typeof n.componentDidUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof n.getSnapshotBeforeUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),a=!1)}return n=a,Hi(e,t),a=0!==(128&t.flags),n||a?(n=t.stateNode,s=a&&"function"!==typeof s.getDerivedStateFromError?null:n.render(),t.flags|=1,null!==e&&a?(t.child=xn(t,e.child,null,r),t.child=xn(t,null,s,r)):Mi(e,t,s,r),t.memoizedState=n.state,e=t.child):e=ao(e,t,r),e}function Gi(e,t,s,a){return br(),t.flags|=256,Mi(e,t,s,a),t.child}var Yi={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $i(e){return{baseLanes:e,cachePool:Qr()}}function Qi(e,t,s){return e=null!==e?e.childLanes&~s:0,t&&(e|=Cc),e}function Ki(e,t,s){var a,r=t.pendingProps,n=!1,i=0!==(128&t.flags);if((a=i)||(a=(null===e||null!==e.memoizedState)&&0!==(2&zn.current)),a&&(n=!0,t.flags&=-129),a=0!==(32&t.flags),t.flags&=-33,null===e){if(dr){if(n?Rn(t):On(),(e=cr)?null!==(e=null!==(e=Tu(e,mr))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==er?{id:tr,overflow:sr}:null,retryLane:536870912,hydrationErrors:null},(s=qa(e)).return=t,t.child=s,or=t,cr=null):e=null,null===e)throw hr(t);return Du(e)?t.lanes=32:t.lanes=536870912,null}var o=r.children;return r=r.fallback,n?(On(),o=Xi({mode:"hidden",children:o},n=t.mode),r=Ha(r,n,s,null),o.return=t,r.return=t,o.sibling=r,t.child=o,(r=t.child).memoizedState=$i(s),r.childLanes=Qi(e,a,s),t.memoizedState=Yi,Ii(null,r)):(Rn(t),Ji(t,o))}var c=e.memoizedState;if(null!==c&&null!==(o=c.dehydrated)){if(i)256&t.flags?(Rn(t),t.flags&=-257,t=Zi(e,t,s)):null!==t.memoizedState?(On(),t.child=e.child,t.flags|=128,t=null):(On(),o=r.fallback,n=t.mode,r=Xi({mode:"visible",children:r.children},n),(o=Ha(o,n,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,xn(t,e.child,null,s),(r=t.child).memoizedState=$i(s),r.childLanes=Qi(e,a,s),t.memoizedState=Yi,t=Ii(null,r));else if(Rn(t),Du(o)){if(a=o.nextSibling&&o.nextSibling.dataset)var d=a.dgst;a=d,(r=Error(l(419))).stack="",r.digest=a,yr({value:r,source:null,stack:null}),t=Zi(e,t,s)}else if(Di||Ar(e,t,s,!1),a=0!==(s&e.childLanes),Di||a){if(null!==(a=hc)&&(0!==(r=Le(a,s))&&r!==c.retryLane))throw c.retryLane=r,Da(e,r),$c(a,e,r),Pi;Pu(o)||ld(),t=Zi(e,t,s)}else Pu(o)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,cr=Mu(o.nextSibling),or=t,dr=!0,ur=null,mr=!1,null!==e&&ir(t,e),(t=Ji(t,r.children)).flags|=4096);return t}return n?(On(),o=r.fallback,n=t.mode,d=(c=e.child).sibling,(r=za(c,{mode:"hidden",children:r.children})).subtreeFlags=65011712&c.subtreeFlags,null!==d?o=za(d,o):(o=Ha(o,n,s,null)).flags|=2,o.return=t,r.return=t,r.sibling=o,t.child=r,Ii(null,r),r=t.child,null===(o=e.child.memoizedState)?o=$i(s):(null!==(n=o.cachePool)?(c=Or._currentValue,n=n.parent!==c?{parent:c,pool:c}:n):n=Qr(),o={baseLanes:o.baseLanes|s,cachePool:n}),r.memoizedState=o,r.childLanes=Qi(e,a,s),t.memoizedState=Yi,Ii(e.child,r)):(Rn(t),e=(s=e.child).sibling,(s=za(s,{mode:"visible",children:r.children})).return=t,s.sibling=null,null!==e&&(null===(a=t.deletions)?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=s,t.memoizedState=null,s)}function Ji(e,t){return(t=Xi({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Xi(e,t){return(e=Oa(22,e,null,t)).lanes=0,e}function Zi(e,t,s){return xn(t,e.child,null,s),(e=Ji(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function eo(e,t,s){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),Sr(e.return,t,s)}function to(e,t,s,a,r,n){var l=e.memoizedState;null===l?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:r,treeForkCount:n}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=a,l.tail=s,l.tailMode=r,l.treeForkCount=n)}function so(e,t,s){var a=t.pendingProps,r=a.revealOrder,n=a.tail;a=a.children;var l=zn.current,i=0!==(2&l);if(i?(l=1&l|2,t.flags|=128):l&=1,U(zn,l),Mi(e,t,a,s),a=dr?Ja:0,!i&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&eo(e,s,t);else if(19===e.tag)eo(e,s,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(s=t.child,r=null;null!==s;)null!==(e=s.alternate)&&null===Bn(e)&&(r=s),s=s.sibling;null===(s=r)?(r=t.child,t.child=null):(r=s.sibling,s.sibling=null),to(t,!1,r,s,n,a);break;case"backwards":case"unstable_legacy-backwards":for(s=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===Bn(e)){t.child=r;break}e=r.sibling,r.sibling=s,s=r,r=e}to(t,!0,s,null,n,a);break;case"together":to(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function ao(e,t,s){if(null!==e&&(t.dependencies=e.dependencies),_c|=t.lanes,0===(s&t.childLanes)){if(null===e)return null;if(Ar(e,t,s,!1),0===(s&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(l(153));if(null!==t.child){for(s=za(e=t.child,e.pendingProps),t.child=s,s.return=t;null!==e.sibling;)e=e.sibling,(s=s.sibling=za(e,e.pendingProps)).return=t;s.sibling=null}return t.child}function ro(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Er(e))}function no(e,t,s){if(null!==e)if(e.memoizedProps!==t.pendingProps)Di=!0;else{if(!ro(e,s)&&0===(128&t.flags))return Di=!1,function(e,t,s){switch(t.tag){case 3:$(t,t.stateNode.containerInfo),_r(0,Or,e.memoizedState.cache),br();break;case 27:case 5:K(t);break;case 4:$(t,t.stateNode.containerInfo);break;case 10:_r(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Ln(t),null;break;case 13:var a=t.memoizedState;if(null!==a)return null!==a.dehydrated?(Rn(t),t.flags|=128,null):0!==(s&t.child.childLanes)?Ki(e,t,s):(Rn(t),null!==(e=ao(e,t,s))?e.sibling:null);Rn(t);break;case 19:var r=0!==(128&e.flags);if((a=0!==(s&t.childLanes))||(Ar(e,t,s,!1),a=0!==(s&t.childLanes)),r){if(a)return so(e,t,s);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),U(zn,zn.current),a)break;return null;case 22:return t.lanes=0,Oi(e,t,s,t.pendingProps);case 24:_r(0,Or,e.memoizedState.cache)}return ao(e,t,s)}(e,t,s);Di=0!==(131072&e.flags)}else Di=!1,dr&&0!==(1048576&t.flags)&&rr(t,Ja,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=sn(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var r=e.$$typeof;if(r===N){t.tag=11,t=Ri(null,t,e,a,s);break e}if(r===k){t.tag=14,t=Li(null,t,e,a,s);break e}}throw t=D(e)||e,Error(l(306,t,""))}Ia(e)?(a=Ni(e,a),t.tag=1,t=Vi(null,t,e,a,s)):(t.tag=0,t=Wi(null,t,e,a,s))}return t;case 0:return Wi(e,t,t.type,t.pendingProps,s);case 1:return Vi(e,t,a=t.type,r=Ni(a,t.pendingProps),s);case 3:e:{if($(t,t.stateNode.containerInfo),null===e)throw Error(l(387));a=t.pendingProps;var n=t.memoizedState;r=n.element,fn(e,t),_n(t,a,null,s);var i=t.memoizedState;if(a=i.cache,_r(0,Or,a),a!==n.cache&&Cr(t,[Or],s,!0),wn(),a=i.element,n.isDehydrated){if(n={element:a,isDehydrated:!1,cache:i.cache},t.updateQueue.baseState=n,t.memoizedState=n,256&t.flags){t=Gi(e,t,a,s);break e}if(a!==r){yr(r=Ya(Error(l(424)),t)),t=Gi(e,t,a,s);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(cr=Mu(e.firstChild),or=t,dr=!0,ur=null,mr=!0,s=hn(t,null,a,s),t.child=s;s;)s.flags=-3&s.flags|4096,s=s.sibling}else{if(br(),a===r){t=ao(e,t,s);break e}Mi(e,t,a,s)}t=t.child}return t;case 26:return Hi(e,t),null===e?(s=Vu(t.type,null,t.pendingProps,null))?t.memoizedState=s:dr||(s=t.type,e=t.pendingProps,(a=gu(G.current).createElement(s))[Ue]=t,a[He]=e,mu(a,s,e),et(a),t.stateNode=a):t.memoizedState=Vu(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return K(t),null===e&&dr&&(a=t.stateNode=Ou(t.type,t.pendingProps,G.current),or=t,mr=!0,r=cr,Su(t.type)?(Ru=r,cr=Mu(a.firstChild)):cr=r),Mi(e,t,t.pendingProps.children,s),Hi(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&dr&&((r=a=cr)&&(null!==(a=function(e,t,s,a){for(;1===e.nodeType;){var r=s;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(a){if(!e[$e])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(n=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(n!==r.rel||e.getAttribute("href")!==(null==r.href||""===r.href?null:r.href)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin)||e.getAttribute("title")!==(null==r.title?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((n=e.getAttribute("src"))!==(null==r.src?null:r.src)||e.getAttribute("type")!==(null==r.type?null:r.type)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin))&&n&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var n=null==r.name?null:""+r.name;if("hidden"===r.type&&e.getAttribute("name")===n)return e}if(null===(e=Mu(e.nextSibling)))break}return null}(a,t.type,t.pendingProps,mr))?(t.stateNode=a,or=t,cr=Mu(a.firstChild),mr=!1,r=!0):r=!1),r||hr(t)),K(t),r=t.type,n=t.pendingProps,i=null!==e?e.memoizedProps:null,a=n.children,vu(r,n)?a=null:null!==i&&vu(r,i)&&(t.flags|=32),null!==t.memoizedState&&(r=el(e,t,al,null,null,s),dm._currentValue=r),Hi(e,t),Mi(e,t,a,s),t.child;case 6:return null===e&&dr&&((e=s=cr)&&(null!==(s=function(e,t,s){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!s)return null;if(null===(e=Mu(e.nextSibling)))return null}return e}(s,t.pendingProps,mr))?(t.stateNode=s,or=t,cr=null,e=!0):e=!1),e||hr(t)),null;case 13:return Ki(e,t,s);case 4:return $(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=xn(t,null,a,s):Mi(e,t,a,s),t.child;case 11:return Ri(e,t,t.type,t.pendingProps,s);case 7:return Mi(e,t,t.pendingProps,s),t.child;case 8:case 12:return Mi(e,t,t.pendingProps.children,s),t.child;case 10:return a=t.pendingProps,_r(0,t.type,a.value),Mi(e,t,a.children,s),t.child;case 9:return r=t.type._context,a=t.pendingProps.children,Tr(t),a=a(r=Pr(r)),t.flags|=1,Mi(e,t,a,s),t.child;case 14:return Li(e,t,t.type,t.pendingProps,s);case 15:return Fi(e,t,t.type,t.pendingProps,s);case 19:return so(e,t,s);case 31:return function(e,t,s){var a=t.pendingProps,r=0!==(128&t.flags);if(t.flags&=-129,null===e){if(dr){if("hidden"===a.mode)return e=Bi(t,a),t.lanes=536870912,Ii(null,e);if(Ln(t),(e=cr)?null!==(e=null!==(e=Tu(e,mr))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==er?{id:tr,overflow:sr}:null,retryLane:536870912,hydrationErrors:null},(s=qa(e)).return=t,t.child=s,or=t,cr=null):e=null,null===e)throw hr(t);return t.lanes=536870912,null}return Bi(t,a)}var n=e.memoizedState;if(null!==n){var i=n.dehydrated;if(Ln(t),r)if(256&t.flags)t.flags&=-257,t=Ui(e,t,s);else{if(null===t.memoizedState)throw Error(l(558));t.child=e.child,t.flags|=128,t=null}else if(Di||Ar(e,t,s,!1),r=0!==(s&e.childLanes),Di||r){if(null!==(a=hc)&&0!==(i=Le(a,s))&&i!==n.retryLane)throw n.retryLane=i,Da(e,i),$c(a,e,i),Pi;ld(),t=Ui(e,t,s)}else e=n.treeContext,cr=Mu(i.nextSibling),or=t,dr=!0,ur=null,mr=!1,null!==e&&ir(t,e),(t=Bi(t,a)).flags|=4096;return t}return(e=za(e.child,{mode:a.mode,children:a.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,s);case 22:return Oi(e,t,s,t.pendingProps);case 24:return Tr(t),a=Pr(Or),null===e?(null===(r=Yr())&&(r=hc,n=Ir(),r.pooledCache=n,n.refCount++,null!==n&&(r.pooledCacheLanes|=s),r=n),t.memoizedState={parent:a,cache:r},gn(t),_r(0,Or,r)):(0!==(e.lanes&s)&&(fn(e,t),_n(t,null,null,s),wn()),r=e.memoizedState,n=t.memoizedState,r.parent!==a?(r={parent:a,cache:a},t.memoizedState=r,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=r),_r(0,Or,a)):(a=n.cache,_r(0,Or,a),a!==r.cache&&Cr(t,[Or],s,!0))),Mi(e,t,t.pendingProps.children,s),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function lo(e){e.flags|=4}function io(e,t,s,a,r){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&r)===r)if(e.stateNode.complete)e.flags|=8192;else{if(!ad())throw an=Zr,Jr;e.flags|=8192}}else e.flags&=-16777217}function oo(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!rm(t)){if(!ad())throw an=Zr,Jr;e.flags|=8192}}function co(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Te():536870912,e.lanes|=t,Ac|=t)}function uo(e,t){if(!dr)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;null!==t;)null!==t.alternate&&(s=t),t=t.sibling;null===s?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var a=null;null!==s;)null!==s.alternate&&(a=s),s=s.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function mo(e){var t=null!==e.alternate&&e.alternate.child===e.child,s=0,a=0;if(t)for(var r=e.child;null!==r;)s|=r.lanes|r.childLanes,a|=65011712&r.subtreeFlags,a|=65011712&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)s|=r.lanes|r.childLanes,a|=r.subtreeFlags,a|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=a,e.childLanes=s,t}function xo(e,t,s){var a=t.pendingProps;switch(lr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return mo(t),null;case 3:return s=t.stateNode,a=null,null!==e&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),kr(Or),Q(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),null!==e&&null!==e.child||(fr(t)?lo(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,vr())),mo(t),null;case 26:var r=t.type,n=t.memoizedState;return null===e?(lo(t),null!==n?(mo(t),oo(t,n)):(mo(t),io(t,r,0,0,s))):n?n!==e.memoizedState?(lo(t),mo(t),oo(t,n)):(mo(t),t.flags&=-16777217):((e=e.memoizedProps)!==a&&lo(t),mo(t),io(t,r,0,0,s)),null;case 27:if(J(t),s=G.current,r=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==a&&lo(t);else{if(!a){if(null===t.stateNode)throw Error(l(166));return mo(t),null}e=q.current,fr(t)?pr(t):(e=Ou(r,a,s),t.stateNode=e,lo(t))}return mo(t),null;case 5:if(J(t),r=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==a&&lo(t);else{if(!a){if(null===t.stateNode)throw Error(l(166));return mo(t),null}if(n=q.current,fr(t))pr(t);else{var i=gu(G.current);switch(n){case 1:n=i.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:n=i.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":n=i.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":n=i.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":(n=i.createElement("div")).innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n="string"===typeof a.is?i.createElement("select",{is:a.is}):i.createElement("select"),a.multiple?n.multiple=!0:a.size&&(n.size=a.size);break;default:n="string"===typeof a.is?i.createElement(r,{is:a.is}):i.createElement(r)}}n[Ue]=t,n[He]=a;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)n.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=n;e:switch(mu(n,r,a),r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&lo(t)}}return mo(t),io(t,t.type,null===e||e.memoizedProps,t.pendingProps,s),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==a&&lo(t);else{if("string"!==typeof a&&null===t.stateNode)throw Error(l(166));if(e=G.current,fr(t)){if(e=t.stateNode,s=t.memoizedProps,a=null,null!==(r=or))switch(r.tag){case 27:case 5:a=r.memoizedProps}e[Ue]=t,(e=!!(e.nodeValue===s||null!==a&&!0===a.suppressHydrationWarning||cu(e.nodeValue,s)))||hr(t,!0)}else(e=gu(e).createTextNode(a))[Ue]=t,t.stateNode=e}return mo(t),null;case 31:if(s=t.memoizedState,null===e||null!==e.memoizedState){if(a=fr(t),null!==s){if(null===e){if(!a)throw Error(l(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(l(557));e[Ue]=t}else br(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;mo(t),e=!1}else s=vr(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return 256&t.flags?(In(t),t):(In(t),null);if(0!==(128&t.flags))throw Error(l(558))}return mo(t),null;case 13:if(a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(r=fr(t),null!==a&&null!==a.dehydrated){if(null===e){if(!r)throw Error(l(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(l(317));r[Ue]=t}else br(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;mo(t),r=!1}else r=vr(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return 256&t.flags?(In(t),t):(In(t),null)}return In(t),0!==(128&t.flags)?(t.lanes=s,t):(s=null!==a,e=null!==e&&null!==e.memoizedState,s&&(r=null,null!==(a=t.child).alternate&&null!==a.alternate.memoizedState&&null!==a.alternate.memoizedState.cachePool&&(r=a.alternate.memoizedState.cachePool.pool),n=null,null!==a.memoizedState&&null!==a.memoizedState.cachePool&&(n=a.memoizedState.cachePool.pool),n!==r&&(a.flags|=2048)),s!==e&&s&&(t.child.flags|=8192),co(t,t.updateQueue),mo(t),null);case 4:return Q(),null===e&&Zd(t.stateNode.containerInfo),mo(t),null;case 10:return kr(t.type),mo(t),null;case 19:if(B(zn),null===(a=t.memoizedState))return mo(t),null;if(r=0!==(128&t.flags),null===(n=a.rendering))if(r)uo(a,!1);else{if(0!==wc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(n=Bn(e))){for(t.flags|=128,uo(a,!1),e=n.updateQueue,t.updateQueue=e,co(t,e),t.subtreeFlags=0,e=s,s=t.child;null!==s;)Ba(s,e),s=s.sibling;return U(zn,1&zn.current|2),dr&&ar(t,a.treeForkCount),t.child}e=e.sibling}null!==a.tail&&oe()>Rc&&(t.flags|=128,r=!0,uo(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Bn(n))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,co(t,e),uo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!n.alternate&&!dr)return mo(t),null}else 2*oe()-a.renderingStartTime>Rc&&536870912!==s&&(t.flags|=128,r=!0,uo(a,!1),t.lanes=4194304);a.isBackwards?(n.sibling=t.child,t.child=n):(null!==(e=a.last)?e.sibling=n:t.child=n,a.last=n)}return null!==a.tail?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=oe(),e.sibling=null,s=zn.current,U(zn,r?1&s|2:1&s),dr&&ar(t,a.treeForkCount),e):(mo(t),null);case 22:case 23:return In(t),Pn(),a=null!==t.memoizedState,null!==e?null!==e.memoizedState!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?0!==(536870912&s)&&0===(128&t.flags)&&(mo(t),6&t.subtreeFlags&&(t.flags|=8192)):mo(t),null!==(s=t.updateQueue)&&co(t,s.retryQueue),s=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(s=e.memoizedState.cachePool.pool),a=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(a=t.memoizedState.cachePool.pool),a!==s&&(t.flags|=2048),null!==e&&B(Gr),null;case 24:return s=null,null!==e&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),kr(Or),mo(t),null;case 25:case 30:return null}throw Error(l(156,t.tag))}function ho(e,t){switch(lr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return kr(Or),Q(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return J(t),null;case 31:if(null!==t.memoizedState){if(In(t),null===t.alternate)throw Error(l(340));br()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(In(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(l(340));br()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return B(zn),null;case 4:return Q(),null;case 10:return kr(t.type),null;case 22:case 23:return In(t),Pn(),null!==e&&B(Gr),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return kr(Or),null;default:return null}}function po(e,t){switch(lr(t),t.tag){case 3:kr(Or),Q();break;case 26:case 27:case 5:J(t);break;case 4:Q();break;case 31:null!==t.memoizedState&&In(t);break;case 13:In(t);break;case 19:B(zn);break;case 10:kr(t.type);break;case 22:case 23:In(t),Pn(),null!==e&&B(Gr);break;case 24:kr(Or)}}function go(e,t){try{var s=t.updateQueue,a=null!==s?s.lastEffect:null;if(null!==a){var r=a.next;s=r;do{if((s.tag&e)===e){a=void 0;var n=s.create,l=s.inst;a=n(),l.destroy=a}s=s.next}while(s!==r)}}catch(i){wd(t,t.return,i)}}function fo(e,t,s){try{var a=t.updateQueue,r=null!==a?a.lastEffect:null;if(null!==r){var n=r.next;a=n;do{if((a.tag&e)===e){var l=a.inst,i=l.destroy;if(void 0!==i){l.destroy=void 0,r=t;var o=s,c=i;try{c()}catch(d){wd(r,o,d)}}}a=a.next}while(a!==n)}}catch(d){wd(t,t.return,d)}}function bo(e){var t=e.updateQueue;if(null!==t){var s=e.stateNode;try{Sn(t,s)}catch(a){wd(e,e.return,a)}}}function vo(e,t,s){s.props=Ni(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(a){wd(e,t,a)}}function yo(e,t){try{var s=e.ref;if(null!==s){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;default:a=e.stateNode}"function"===typeof s?e.refCleanup=s(a):s.current=a}}catch(r){wd(e,t,r)}}function jo(e,t){var s=e.ref,a=e.refCleanup;if(null!==s)if("function"===typeof a)try{a()}catch(r){wd(e,t,r)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof s)try{s(null)}catch(n){wd(e,t,n)}else s.current=null}function No(e){var t=e.type,s=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":s.autoFocus&&a.focus();break e;case"img":s.src?a.src=s.src:s.srcSet&&(a.srcset=s.srcSet)}}catch(r){wd(e,e.return,r)}}function wo(e,t,s){try{var a=e.stateNode;!function(e,t,s,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,n=null,i=null,o=null,c=null,d=null,u=null;for(h in s){var m=s[h];if(s.hasOwnProperty(h)&&null!=m)switch(h){case"checked":case"value":break;case"defaultValue":c=m;default:a.hasOwnProperty(h)||du(e,t,h,null,a,m)}}for(var x in a){var h=a[x];if(m=s[x],a.hasOwnProperty(x)&&(null!=h||null!=m))switch(x){case"type":n=h;break;case"name":r=h;break;case"checked":d=h;break;case"defaultChecked":u=h;break;case"value":i=h;break;case"defaultValue":o=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(l(137,t));break;default:h!==m&&du(e,t,x,h,a,m)}}return void bt(e,i,o,c,d,u,n,r);case"select":for(n in h=i=o=x=null,s)if(c=s[n],s.hasOwnProperty(n)&&null!=c)switch(n){case"value":break;case"multiple":h=c;default:a.hasOwnProperty(n)||du(e,t,n,null,a,c)}for(r in a)if(n=a[r],c=s[r],a.hasOwnProperty(r)&&(null!=n||null!=c))switch(r){case"value":x=n;break;case"defaultValue":o=n;break;case"multiple":i=n;default:n!==c&&du(e,t,r,n,a,c)}return t=o,s=i,a=h,void(null!=x?jt(e,!!s,x,!1):!!a!==!!s&&(null!=t?jt(e,!!s,t,!0):jt(e,!!s,s?[]:"",!1)));case"textarea":for(o in h=x=null,s)if(r=s[o],s.hasOwnProperty(o)&&null!=r&&!a.hasOwnProperty(o))switch(o){case"value":case"children":break;default:du(e,t,o,null,a,r)}for(i in a)if(r=a[i],n=s[i],a.hasOwnProperty(i)&&(null!=r||null!=n))switch(i){case"value":x=r;break;case"defaultValue":h=r;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=r)throw Error(l(91));break;default:r!==n&&du(e,t,i,r,a,n)}return void Nt(e,x,h);case"option":for(var p in s)if(x=s[p],s.hasOwnProperty(p)&&null!=x&&!a.hasOwnProperty(p))if("selected"===p)e.selected=!1;else du(e,t,p,null,a,x);for(c in a)if(x=a[c],h=s[c],a.hasOwnProperty(c)&&x!==h&&(null!=x||null!=h))if("selected"===c)e.selected=x&&"function"!==typeof x&&"symbol"!==typeof x;else du(e,t,c,x,a,h);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in s)x=s[g],s.hasOwnProperty(g)&&null!=x&&!a.hasOwnProperty(g)&&du(e,t,g,null,a,x);for(d in a)if(x=a[d],h=s[d],a.hasOwnProperty(d)&&x!==h&&(null!=x||null!=h))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=x)throw Error(l(137,t));break;default:du(e,t,d,x,a,h)}return;default:if(At(t)){for(var f in s)x=s[f],s.hasOwnProperty(f)&&void 0!==x&&!a.hasOwnProperty(f)&&uu(e,t,f,void 0,a,x);for(u in a)x=a[u],h=s[u],!a.hasOwnProperty(u)||x===h||void 0===x&&void 0===h||uu(e,t,u,x,a,h);return}}for(var b in s)x=s[b],s.hasOwnProperty(b)&&null!=x&&!a.hasOwnProperty(b)&&du(e,t,b,null,a,x);for(m in a)x=a[m],h=s[m],!a.hasOwnProperty(m)||x===h||null==x&&null==h||du(e,t,m,x,a,h)}(a,e.type,s,t),a[He]=t}catch(r){wd(e,e.return,r)}}function _o(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Su(e.type)||4===e.tag}function ko(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||_o(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Su(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function So(e,t,s){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?(9===s.nodeType?s.body:"HTML"===s.nodeName?s.ownerDocument.body:s).insertBefore(e,t):((t=9===s.nodeType?s.body:"HTML"===s.nodeName?s.ownerDocument.body:s).appendChild(e),null!==(s=s._reactRootContainer)&&void 0!==s||null!==t.onclick||(t.onclick=Dt));else if(4!==a&&(27===a&&Su(e.type)&&(s=e.stateNode,t=null),null!==(e=e.child)))for(So(e,t,s),e=e.sibling;null!==e;)So(e,t,s),e=e.sibling}function Co(e,t,s){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(4!==a&&(27===a&&Su(e.type)&&(s=e.stateNode),null!==(e=e.child)))for(Co(e,t,s),e=e.sibling;null!==e;)Co(e,t,s),e=e.sibling}function Ao(e){var t=e.stateNode,s=e.memoizedProps;try{for(var a=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);mu(t,a,s),t[Ue]=e,t[He]=s}catch(n){wd(e,e.return,n)}}var Eo=!1,To=!1,Po=!1,Do="function"===typeof WeakSet?WeakSet:Set,Mo=null;function Ro(e,t,s){var a=s.flags;switch(s.tag){case 0:case 11:case 15:$o(e,s),4&a&&go(5,s);break;case 1:if($o(e,s),4&a)if(e=s.stateNode,null===t)try{e.componentDidMount()}catch(l){wd(s,s.return,l)}else{var r=Ni(s.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(i){wd(s,s.return,i)}}64&a&&bo(s),512&a&&yo(s,s.return);break;case 3:if($o(e,s),64&a&&null!==(e=s.updateQueue)){if(t=null,null!==s.child)switch(s.child.tag){case 27:case 5:case 1:t=s.child.stateNode}try{Sn(e,t)}catch(l){wd(s,s.return,l)}}break;case 27:null===t&&4&a&&Ao(s);case 26:case 5:$o(e,s),null===t&&4&a&&No(s),512&a&&yo(s,s.return);break;case 12:$o(e,s);break;case 31:$o(e,s),4&a&&Bo(e,s);break;case 13:$o(e,s),4&a&&Uo(e,s),64&a&&(null!==(e=s.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var s=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==s.readyState)t();else{var a=function(){t(),s.removeEventListener("DOMContentLoaded",a)};s.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}(e,s=Cd.bind(null,s))));break;case 22:if(!(a=null!==s.memoizedState||Eo)){t=null!==t&&null!==t.memoizedState||To,r=Eo;var n=To;Eo=a,(To=t)&&!n?Ko(e,s,0!==(8772&s.subtreeFlags)):$o(e,s),Eo=r,To=n}break;case 30:break;default:$o(e,s)}}function Lo(e){var t=e.alternate;null!==t&&(e.alternate=null,Lo(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Qe(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Fo=null,Oo=!1;function Io(e,t,s){for(s=s.child;null!==s;)zo(e,t,s),s=s.sibling}function zo(e,t,s){if(be&&"function"===typeof be.onCommitFiberUnmount)try{be.onCommitFiberUnmount(fe,s)}catch(n){}switch(s.tag){case 26:To||jo(s,t),Io(e,t,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode).parentNode.removeChild(s);break;case 27:To||jo(s,t);var a=Fo,r=Oo;Su(s.type)&&(Fo=s.stateNode,Oo=!1),Io(e,t,s),Iu(s.stateNode),Fo=a,Oo=r;break;case 5:To||jo(s,t);case 6:if(a=Fo,r=Oo,Fo=null,Io(e,t,s),Oo=r,null!==(Fo=a))if(Oo)try{(9===Fo.nodeType?Fo.body:"HTML"===Fo.nodeName?Fo.ownerDocument.body:Fo).removeChild(s.stateNode)}catch(l){wd(s,t,l)}else try{Fo.removeChild(s.stateNode)}catch(l){wd(s,t,l)}break;case 18:null!==Fo&&(Oo?(Cu(9===(e=Fo).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,s.stateNode),qm(e)):Cu(Fo,s.stateNode));break;case 4:a=Fo,r=Oo,Fo=s.stateNode.containerInfo,Oo=!0,Io(e,t,s),Fo=a,Oo=r;break;case 0:case 11:case 14:case 15:fo(2,s,t),To||fo(4,s,t),Io(e,t,s);break;case 1:To||(jo(s,t),"function"===typeof(a=s.stateNode).componentWillUnmount&&vo(s,t,a)),Io(e,t,s);break;case 21:Io(e,t,s);break;case 22:To=(a=To)||null!==s.memoizedState,Io(e,t,s),To=a;break;default:Io(e,t,s)}}function Bo(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{qm(e)}catch(s){wd(t,t.return,s)}}}function Uo(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{qm(e)}catch(s){wd(t,t.return,s)}}function Ho(e,t){var s=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Do),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Do),t;default:throw Error(l(435,e.tag))}}(e);t.forEach(function(t){if(!s.has(t)){s.add(t);var a=Ad.bind(null,e,t);t.then(a,a)}})}function Wo(e,t){var s=t.deletions;if(null!==s)for(var a=0;a<s.length;a++){var r=s[a],n=e,i=t,o=i;e:for(;null!==o;){switch(o.tag){case 27:if(Su(o.type)){Fo=o.stateNode,Oo=!1;break e}break;case 5:Fo=o.stateNode,Oo=!1;break e;case 3:case 4:Fo=o.stateNode.containerInfo,Oo=!0;break e}o=o.return}if(null===Fo)throw Error(l(160));zo(n,i,r),Fo=null,Oo=!1,null!==(n=r.alternate)&&(n.return=null),r.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Vo(t,e),t=t.sibling}var qo=null;function Vo(e,t){var s=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Wo(t,e),Go(e),4&a&&(fo(3,e,e.return),go(3,e),fo(5,e,e.return));break;case 1:Wo(t,e),Go(e),512&a&&(To||null===s||jo(s,s.return)),64&a&&Eo&&(null!==(e=e.updateQueue)&&(null!==(a=e.callbacks)&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===s?a:s.concat(a))));break;case 26:var r=qo;if(Wo(t,e),Go(e),512&a&&(To||null===s||jo(s,s.return)),4&a){var n=null!==s?s.memoizedState:null;if(a=e.memoizedState,null===s)if(null===a)if(null===e.stateNode){e:{a=e.type,s=e.memoizedProps,r=r.ownerDocument||r;t:switch(a){case"title":(!(n=r.getElementsByTagName("title")[0])||n[$e]||n[Ue]||"http://www.w3.org/2000/svg"===n.namespaceURI||n.hasAttribute("itemprop"))&&(n=r.createElement(a),r.head.insertBefore(n,r.querySelector("head > title"))),mu(n,a,s),n[Ue]=e,et(n),a=n;break e;case"link":var i=sm("link","href",r).get(a+(s.href||""));if(i)for(var o=0;o<i.length;o++)if((n=i[o]).getAttribute("href")===(null==s.href||""===s.href?null:s.href)&&n.getAttribute("rel")===(null==s.rel?null:s.rel)&&n.getAttribute("title")===(null==s.title?null:s.title)&&n.getAttribute("crossorigin")===(null==s.crossOrigin?null:s.crossOrigin)){i.splice(o,1);break t}mu(n=r.createElement(a),a,s),r.head.appendChild(n);break;case"meta":if(i=sm("meta","content",r).get(a+(s.content||"")))for(o=0;o<i.length;o++)if((n=i[o]).getAttribute("content")===(null==s.content?null:""+s.content)&&n.getAttribute("name")===(null==s.name?null:s.name)&&n.getAttribute("property")===(null==s.property?null:s.property)&&n.getAttribute("http-equiv")===(null==s.httpEquiv?null:s.httpEquiv)&&n.getAttribute("charset")===(null==s.charSet?null:s.charSet)){i.splice(o,1);break t}mu(n=r.createElement(a),a,s),r.head.appendChild(n);break;default:throw Error(l(468,a))}n[Ue]=e,et(n),a=n}e.stateNode=a}else am(r,e.type,e.stateNode);else e.stateNode=Ju(r,a,e.memoizedProps);else n!==a?(null===n?null!==s.stateNode&&(s=s.stateNode).parentNode.removeChild(s):n.count--,null===a?am(r,e.type,e.stateNode):Ju(r,a,e.memoizedProps)):null===a&&null!==e.stateNode&&wo(e,e.memoizedProps,s.memoizedProps)}break;case 27:Wo(t,e),Go(e),512&a&&(To||null===s||jo(s,s.return)),null!==s&&4&a&&wo(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Wo(t,e),Go(e),512&a&&(To||null===s||jo(s,s.return)),32&e.flags){r=e.stateNode;try{_t(r,"")}catch(p){wd(e,e.return,p)}}4&a&&null!=e.stateNode&&wo(e,r=e.memoizedProps,null!==s?s.memoizedProps:r),1024&a&&(Po=!0);break;case 6:if(Wo(t,e),Go(e),4&a){if(null===e.stateNode)throw Error(l(162));a=e.memoizedProps,s=e.stateNode;try{s.nodeValue=a}catch(p){wd(e,e.return,p)}}break;case 3:if(tm=null,r=qo,qo=Uu(t.containerInfo),Wo(t,e),qo=r,Go(e),4&a&&null!==s&&s.memoizedState.isDehydrated)try{qm(t.containerInfo)}catch(p){wd(e,e.return,p)}Po&&(Po=!1,Yo(e));break;case 4:a=qo,qo=Uu(e.stateNode.containerInfo),Wo(t,e),Go(e),qo=a;break;case 12:default:Wo(t,e),Go(e);break;case 31:case 19:Wo(t,e),Go(e),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,Ho(e,a)));break;case 13:Wo(t,e),Go(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==s&&null!==s.memoizedState)&&(Dc=oe()),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,Ho(e,a)));break;case 22:r=null!==e.memoizedState;var c=null!==s&&null!==s.memoizedState,d=Eo,u=To;if(Eo=d||r,To=u||c,Wo(t,e),To=u,Eo=d,Go(e),8192&a)e:for(t=e.stateNode,t._visibility=r?-2&t._visibility:1|t._visibility,r&&(null===s||c||Eo||To||Qo(e)),s=null,t=e;;){if(5===t.tag||26===t.tag){if(null===s){c=s=t;try{if(n=c.stateNode,r)"function"===typeof(i=n.style).setProperty?i.setProperty("display","none","important"):i.display="none";else{o=c.stateNode;var m=c.memoizedProps.style,x=void 0!==m&&null!==m&&m.hasOwnProperty("display")?m.display:null;o.style.display=null==x||"boolean"===typeof x?"":(""+x).trim()}}catch(p){wd(c,c.return,p)}}}else if(6===t.tag){if(null===s){c=t;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(p){wd(c,c.return,p)}}}else if(18===t.tag){if(null===s){c=t;try{var h=c.stateNode;r?Au(h,!0):Au(c.stateNode,!1)}catch(p){wd(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;s===t&&(s=null),t=t.return}s===t&&(s=null),t.sibling.return=t.return,t=t.sibling}4&a&&(null!==(a=e.updateQueue)&&(null!==(s=a.retryQueue)&&(a.retryQueue=null,Ho(e,s))));case 30:case 21:}}function Go(e){var t=e.flags;if(2&t){try{for(var s,a=e.return;null!==a;){if(_o(a)){s=a;break}a=a.return}if(null==s)throw Error(l(160));switch(s.tag){case 27:var r=s.stateNode;Co(e,ko(e),r);break;case 5:var n=s.stateNode;32&s.flags&&(_t(n,""),s.flags&=-33),Co(e,ko(e),n);break;case 3:case 4:var i=s.stateNode.containerInfo;So(e,ko(e),i);break;default:throw Error(l(161))}}catch(o){wd(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Yo(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Yo(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function $o(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Ro(e,t.alternate,t),t=t.sibling}function Qo(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:fo(4,t,t.return),Qo(t);break;case 1:jo(t,t.return);var s=t.stateNode;"function"===typeof s.componentWillUnmount&&vo(t,t.return,s),Qo(t);break;case 27:Iu(t.stateNode);case 26:case 5:jo(t,t.return),Qo(t);break;case 22:null===t.memoizedState&&Qo(t);break;default:Qo(t)}e=e.sibling}}function Ko(e,t,s){for(s=s&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var a=t.alternate,r=e,n=t,l=n.flags;switch(n.tag){case 0:case 11:case 15:Ko(r,n,s),go(4,n);break;case 1:if(Ko(r,n,s),"function"===typeof(r=(a=n).stateNode).componentDidMount)try{r.componentDidMount()}catch(c){wd(a,a.return,c)}if(null!==(r=(a=n).updateQueue)){var i=a.stateNode;try{var o=r.shared.hiddenCallbacks;if(null!==o)for(r.shared.hiddenCallbacks=null,r=0;r<o.length;r++)kn(o[r],i)}catch(c){wd(a,a.return,c)}}s&&64&l&&bo(n),yo(n,n.return);break;case 27:Ao(n);case 26:case 5:Ko(r,n,s),s&&null===a&&4&l&&No(n),yo(n,n.return);break;case 12:Ko(r,n,s);break;case 31:Ko(r,n,s),s&&4&l&&Bo(r,n);break;case 13:Ko(r,n,s),s&&4&l&&Uo(r,n);break;case 22:null===n.memoizedState&&Ko(r,n,s),yo(n,n.return);break;case 30:break;default:Ko(r,n,s)}t=t.sibling}}function Jo(e,t){var s=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(s=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==s&&(null!=e&&e.refCount++,null!=s&&zr(s))}function Xo(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&zr(e))}function Zo(e,t,s,a){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ec(e,t,s,a),t=t.sibling}function ec(e,t,s,a){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Zo(e,t,s,a),2048&r&&go(9,t);break;case 1:case 31:case 13:default:Zo(e,t,s,a);break;case 3:Zo(e,t,s,a),2048&r&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&zr(e)));break;case 12:if(2048&r){Zo(e,t,s,a),e=t.stateNode;try{var n=t.memoizedProps,l=n.id,i=n.onPostCommit;"function"===typeof i&&i(l,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(o){wd(t,t.return,o)}}else Zo(e,t,s,a);break;case 23:break;case 22:n=t.stateNode,l=t.alternate,null!==t.memoizedState?2&n._visibility?Zo(e,t,s,a):sc(e,t):2&n._visibility?Zo(e,t,s,a):(n._visibility|=2,tc(e,t,s,a,0!==(10256&t.subtreeFlags)||!1)),2048&r&&Jo(l,t);break;case 24:Zo(e,t,s,a),2048&r&&Xo(t.alternate,t)}}function tc(e,t,s,a,r){for(r=r&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var n=e,l=t,i=s,o=a,c=l.flags;switch(l.tag){case 0:case 11:case 15:tc(n,l,i,o,r),go(8,l);break;case 23:break;case 22:var d=l.stateNode;null!==l.memoizedState?2&d._visibility?tc(n,l,i,o,r):sc(n,l):(d._visibility|=2,tc(n,l,i,o,r)),r&&2048&c&&Jo(l.alternate,l);break;case 24:tc(n,l,i,o,r),r&&2048&c&&Xo(l.alternate,l);break;default:tc(n,l,i,o,r)}t=t.sibling}}function sc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var s=e,a=t,r=a.flags;switch(a.tag){case 22:sc(s,a),2048&r&&Jo(a.alternate,a);break;case 24:sc(s,a),2048&r&&Xo(a.alternate,a);break;default:sc(s,a)}t=t.sibling}}var ac=8192;function rc(e,t,s){if(e.subtreeFlags&ac)for(e=e.child;null!==e;)nc(e,t,s),e=e.sibling}function nc(e,t,s){switch(e.tag){case 26:rc(e,t,s),e.flags&ac&&null!==e.memoizedState&&function(e,t,s,a){if("stylesheet"===s.type&&("string"!==typeof a.media||!1!==matchMedia(a.media).matches)&&0===(4&s.state.loading)){if(null===s.instance){var r=Gu(a.href),n=t.querySelector(Yu(r));if(n)return null!==(t=n._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=lm.bind(e),t.then(e,e)),s.state.loading|=4,s.instance=n,void et(n);n=t.ownerDocument||t,a=$u(a),(r=zu.get(r))&&Zu(a,r),et(n=n.createElement("link"));var l=n;l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),mu(n,"link",a),s.instance=n}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(s,t),(t=s.state.preload)&&0===(3&s.state.loading)&&(e.count++,s=lm.bind(e),t.addEventListener("load",s),t.addEventListener("error",s))}}(s,qo,e.memoizedState,e.memoizedProps);break;case 5:default:rc(e,t,s);break;case 3:case 4:var a=qo;qo=Uu(e.stateNode.containerInfo),rc(e,t,s),qo=a;break;case 22:null===e.memoizedState&&(null!==(a=e.alternate)&&null!==a.memoizedState?(a=ac,ac=16777216,rc(e,t,s),ac=a):rc(e,t,s))}}function lc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function ic(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var s=0;s<t.length;s++){var a=t[s];Mo=a,dc(a,e)}lc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)oc(e),e=e.sibling}function oc(e){switch(e.tag){case 0:case 11:case 15:ic(e),2048&e.flags&&fo(9,e,e.return);break;case 3:case 12:default:ic(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,cc(e)):ic(e)}}function cc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var s=0;s<t.length;s++){var a=t[s];Mo=a,dc(a,e)}lc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:fo(8,t,t.return),cc(t);break;case 22:2&(s=t.stateNode)._visibility&&(s._visibility&=-3,cc(t));break;default:cc(t)}e=e.sibling}}function dc(e,t){for(;null!==Mo;){var s=Mo;switch(s.tag){case 0:case 11:case 15:fo(8,s,t);break;case 23:case 22:if(null!==s.memoizedState&&null!==s.memoizedState.cachePool){var a=s.memoizedState.cachePool.pool;null!=a&&a.refCount++}break;case 24:zr(s.memoizedState.cache)}if(null!==(a=s.child))a.return=s,Mo=a;else e:for(s=e;null!==Mo;){var r=(a=Mo).sibling,n=a.return;if(Lo(a),a===s){Mo=null;break e}if(null!==r){r.return=n,Mo=r;break e}Mo=n}}}var uc={getCacheForType:function(e){var t=Pr(Or),s=t.data.get(e);return void 0===s&&(s=e(),t.data.set(e,s)),s},cacheSignal:function(){return Pr(Or).controller.signal}},mc="function"===typeof WeakMap?WeakMap:Map,xc=0,hc=null,pc=null,gc=0,fc=0,bc=null,vc=!1,yc=!1,jc=!1,Nc=0,wc=0,_c=0,kc=0,Sc=0,Cc=0,Ac=0,Ec=null,Tc=null,Pc=!1,Dc=0,Mc=0,Rc=1/0,Lc=null,Fc=null,Oc=0,Ic=null,zc=null,Bc=0,Uc=0,Hc=null,Wc=null,qc=0,Vc=null;function Gc(){return 0!==(2&xc)&&0!==gc?gc&-gc:null!==R.T?Hd():Ie()}function Yc(){if(0===Cc)if(0===(536870912&gc)||dr){var e=_e;0===(3932160&(_e<<=1))&&(_e=262144),Cc=e}else Cc=536870912;return null!==(e=Dn.current)&&(e.flags|=32),Cc}function $c(e,t,s){(e!==hc||2!==fc&&9!==fc)&&null===e.cancelPendingCommit||(td(e,0),Xc(e,gc,Cc,!1)),De(e,s),0!==(2&xc)&&e===hc||(e===hc&&(0===(2&xc)&&(kc|=s),4===wc&&Xc(e,gc,Cc,!1)),Ld(e))}function Qc(e,t,s){if(0!==(6&xc))throw Error(l(327));for(var a=!s&&0===(127&t)&&0===(t&e.expiredLanes)||Ae(e,t),r=a?function(e,t){var s=xc;xc|=2;var a=rd(),r=nd();hc!==e||gc!==t?(Lc=null,Rc=oe()+500,td(e,t)):yc=Ae(e,t);e:for(;;)try{if(0!==fc&&null!==pc){t=pc;var n=bc;t:switch(fc){case 1:fc=0,bc=null,md(e,t,n,1);break;case 2:case 9:if(en(n)){fc=0,bc=null,ud(t);break}t=function(){2!==fc&&9!==fc||hc!==e||(fc=7),Ld(e)},n.then(t,t);break e;case 3:fc=7;break e;case 4:fc=5;break e;case 7:en(n)?(fc=0,bc=null,ud(t)):(fc=0,bc=null,md(e,t,n,7));break;case 5:var i=null;switch(pc.tag){case 26:i=pc.memoizedState;case 5:case 27:var o=pc;if(i?rm(i):o.stateNode.complete){fc=0,bc=null;var c=o.sibling;if(null!==c)pc=c;else{var d=o.return;null!==d?(pc=d,xd(d)):pc=null}break t}}fc=0,bc=null,md(e,t,n,5);break;case 6:fc=0,bc=null,md(e,t,n,6);break;case 8:ed(),wc=6;break e;default:throw Error(l(462))}}cd();break}catch(u){sd(e,u)}return wr=Nr=null,R.H=a,R.A=r,xc=s,null!==pc?0:(hc=null,gc=0,Ea(),wc)}(e,t):id(e,t,!0),n=a;;){if(0===r){yc&&!a&&Xc(e,t,0,!1);break}if(s=e.current.alternate,!n||Jc(s)){if(2===r){if(n=t,e.errorRecoveryDisabledLanes&n)var i=0;else i=0!==(i=-536870913&e.pendingLanes)?i:536870912&i?536870912:0;if(0!==i){t=i;e:{var o=e;r=Ec;var c=o.current.memoizedState.isDehydrated;if(c&&(td(o,i).flags|=256),2!==(i=id(o,i,!1))){if(jc&&!c){o.errorRecoveryDisabledLanes|=n,kc|=n,r=4;break e}n=Tc,Tc=r,null!==n&&(null===Tc?Tc=n:Tc.push.apply(Tc,n))}r=i}if(n=!1,2!==r)continue}}if(1===r){td(e,0),Xc(e,t,0,!0);break}e:{switch(a=e,n=r){case 0:case 1:throw Error(l(345));case 4:if((4194048&t)!==t)break;case 6:Xc(a,t,Cc,!vc);break e;case 2:Tc=null;break;case 3:case 5:break;default:throw Error(l(329))}if((62914560&t)===t&&10<(r=Dc+300-oe())){if(Xc(a,t,Cc,!vc),0!==Ce(a,0,!0))break e;Bc=t,a.timeoutHandle=ju(Kc.bind(null,a,s,Tc,Lc,Pc,t,Cc,kc,Ac,vc,n,"Throttled",-0,0),r)}else Kc(a,s,Tc,Lc,Pc,t,Cc,kc,Ac,vc,n,null,-0,0)}break}r=id(e,t,!1),n=!1}Ld(e)}function Kc(e,t,s,a,r,n,l,i,o,c,d,u,m,x){if(e.timeoutHandle=-1,8192&(u=t.subtreeFlags)||16785408===(16785408&u)){nc(t,n,u={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Dt});var h=(62914560&n)===n?Dc-oe():(4194048&n)===n?Mc-oe():0;if(null!==(h=function(e,t){return e.stylesheets&&0===e.count&&om(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var a=setTimeout(function(){if(e.stylesheets&&om(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===nm&&(nm=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,s=performance.getEntriesByType("resource"),a=0;a<s.length;a++){var r=s[a],n=r.transferSize,l=r.initiatorType,i=r.duration;if(n&&i&&xu(l)){for(l=0,i=r.responseEnd,a+=1;a<s.length;a++){var o=s[a],c=o.startTime;if(c>i)break;var d=o.transferSize,u=o.initiatorType;d&&xu(u)&&(l+=d*((o=o.responseEnd)<i?1:(i-c)/(o-c)))}if(--a,t+=8*(n+l)/(r.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var r=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&om(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>nm?50:800)+t);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(r)}}:null}(u,h)))return Bc=n,e.cancelPendingCommit=h(pd.bind(null,e,t,n,s,a,r,l,i,o,d,u,null,m,x)),void Xc(e,n,l,!c)}pd(e,t,n,s,a,r,l,i,o)}function Jc(e){for(var t=e;;){var s=t.tag;if((0===s||11===s||15===s)&&16384&t.flags&&(null!==(s=t.updateQueue)&&null!==(s=s.stores)))for(var a=0;a<s.length;a++){var r=s[a],n=r.getSnapshot;r=r.value;try{if(!Js(n(),r))return!1}catch(l){return!1}}if(s=t.child,16384&t.subtreeFlags&&null!==s)s.return=t,t=s;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xc(e,t,s,a){t&=~Sc,t&=~kc,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var r=t;0<r;){var n=31-ye(r),l=1<<n;a[n]=-1,r&=~l}0!==s&&Me(e,s,t)}function Zc(){return 0!==(6&xc)||(Fd(0,!1),!1)}function ed(){if(null!==pc){if(0===fc)var e=pc.return;else wr=Nr=null,ll(e=pc),ln=null,on=0,e=pc;for(;null!==e;)po(e.alternate,e),e=e.return;pc=null}}function td(e,t){var s=e.timeoutHandle;-1!==s&&(e.timeoutHandle=-1,Nu(s)),null!==(s=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,s()),Bc=0,ed(),hc=e,pc=s=za(e.current,null),gc=t,fc=0,bc=null,vc=!1,yc=Ae(e,t),jc=!1,Ac=Cc=Sc=kc=_c=wc=0,Tc=Ec=null,Pc=!1,0!==(8&t)&&(t|=32&t);var a=e.entangledLanes;if(0!==a)for(e=e.entanglements,a&=t;0<a;){var r=31-ye(a),n=1<<r;t|=e[r],a&=~n}return Nc=t,Ea(),s}function sd(e,t){Hn=null,R.H=hi,t===Kr||t===Xr?(t=rn(),fc=3):t===Jr?(t=rn(),fc=4):fc=t===Pi?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,bc=t,null===pc&&(wc=1,Si(e,Ya(t,e.current)))}function ad(){var e=Dn.current;return null===e||((4194048&gc)===gc?null===Mn:((62914560&gc)===gc||0!==(536870912&gc))&&e===Mn)}function rd(){var e=R.H;return R.H=hi,null===e?hi:e}function nd(){var e=R.A;return R.A=uc,e}function ld(){wc=4,vc||(4194048&gc)!==gc&&null!==Dn.current||(yc=!0),0===(134217727&_c)&&0===(134217727&kc)||null===hc||Xc(hc,gc,Cc,!1)}function id(e,t,s){var a=xc;xc|=2;var r=rd(),n=nd();hc===e&&gc===t||(Lc=null,td(e,t)),t=!1;var l=wc;e:for(;;)try{if(0!==fc&&null!==pc){var i=pc,o=bc;switch(fc){case 8:ed(),l=6;break e;case 3:case 2:case 9:case 6:null===Dn.current&&(t=!0);var c=fc;if(fc=0,bc=null,md(e,i,o,c),s&&yc){l=0;break e}break;default:c=fc,fc=0,bc=null,md(e,i,o,c)}}od(),l=wc;break}catch(d){sd(e,d)}return t&&e.shellSuspendCounter++,wr=Nr=null,xc=a,R.H=r,R.A=n,null===pc&&(hc=null,gc=0,Ea()),l}function od(){for(;null!==pc;)dd(pc)}function cd(){for(;null!==pc&&!le();)dd(pc)}function dd(e){var t=no(e.alternate,e,Nc);e.memoizedProps=e.pendingProps,null===t?xd(e):pc=t}function ud(e){var t=e,s=t.alternate;switch(t.tag){case 15:case 0:t=qi(s,t,t.pendingProps,t.type,void 0,gc);break;case 11:t=qi(s,t,t.pendingProps,t.type.render,t.ref,gc);break;case 5:ll(t);default:po(s,t),t=no(s,t=pc=Ba(t,Nc),Nc)}e.memoizedProps=e.pendingProps,null===t?xd(e):pc=t}function md(e,t,s,a){wr=Nr=null,ll(t),ln=null,on=0;var r=t.return;try{if(function(e,t,s,a,r){if(s.flags|=32768,null!==a&&"object"===typeof a&&"function"===typeof a.then){if(null!==(t=s.alternate)&&Ar(t,s,r,!0),null!==(s=Dn.current)){switch(s.tag){case 31:case 13:return null===Mn?ld():null===s.alternate&&0===wc&&(wc=3),s.flags&=-257,s.flags|=65536,s.lanes=r,a===Zr?s.flags|=16384:(null===(t=s.updateQueue)?s.updateQueue=new Set([a]):t.add(a),_d(e,a,r)),!1;case 22:return s.flags|=65536,a===Zr?s.flags|=16384:(null===(t=s.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},s.updateQueue=t):null===(s=t.retryQueue)?t.retryQueue=new Set([a]):s.add(a),_d(e,a,r)),!1}throw Error(l(435,s.tag))}return _d(e,a,r),ld(),!1}if(dr)return null!==(t=Dn.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=r,a!==xr&&yr(Ya(e=Error(l(422),{cause:a}),s))):(a!==xr&&yr(Ya(t=Error(l(423),{cause:a}),s)),(e=e.current.alternate).flags|=65536,r&=-r,e.lanes|=r,a=Ya(a,s),jn(e,r=Ai(e.stateNode,a,r)),4!==wc&&(wc=2)),!1;var n=Error(l(520),{cause:a});if(n=Ya(n,s),null===Ec?Ec=[n]:Ec.push(n),4!==wc&&(wc=2),null===t)return!0;a=Ya(a,s),s=t;do{switch(s.tag){case 3:return s.flags|=65536,e=r&-r,s.lanes|=e,jn(s,e=Ai(s.stateNode,a,e)),!1;case 1:if(t=s.type,n=s.stateNode,0===(128&s.flags)&&("function"===typeof t.getDerivedStateFromError||null!==n&&"function"===typeof n.componentDidCatch&&(null===Fc||!Fc.has(n))))return s.flags|=65536,r&=-r,s.lanes|=r,Ti(r=Ei(r),e,s,a),jn(s,r),!1}s=s.return}while(null!==s);return!1}(e,r,t,s,gc))return wc=1,Si(e,Ya(s,e.current)),void(pc=null)}catch(n){if(null!==r)throw pc=r,n;return wc=1,Si(e,Ya(s,e.current)),void(pc=null)}32768&t.flags?(dr||1===a?e=!0:yc||0!==(536870912&gc)?e=!1:(vc=e=!0,(2===a||9===a||3===a||6===a)&&(null!==(a=Dn.current)&&13===a.tag&&(a.flags|=16384))),hd(t,e)):xd(t)}function xd(e){var t=e;do{if(0!==(32768&t.flags))return void hd(t,vc);e=t.return;var s=xo(t.alternate,t,Nc);if(null!==s)return void(pc=s);if(null!==(t=t.sibling))return void(pc=t);pc=t=e}while(null!==t);0===wc&&(wc=5)}function hd(e,t){do{var s=ho(e.alternate,e);if(null!==s)return s.flags&=32767,void(pc=s);if(null!==(s=e.return)&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!t&&null!==(e=e.sibling))return void(pc=e);pc=e=s}while(null!==e);wc=6,pc=null}function pd(e,t,s,a,r,n,i,o,c){e.cancelPendingCommit=null;do{yd()}while(0!==Oc);if(0!==(6&xc))throw Error(l(327));if(null!==t){if(t===e.current)throw Error(l(177));if(n=t.lanes|t.childLanes,function(e,t,s,a,r,n){var l=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var i=e.entanglements,o=e.expirationTimes,c=e.hiddenUpdates;for(s=l&~s;0<s;){var d=31-ye(s),u=1<<d;i[d]=0,o[d]=-1;var m=c[d];if(null!==m)for(c[d]=null,d=0;d<m.length;d++){var x=m[d];null!==x&&(x.lane&=-536870913)}s&=~u}0!==a&&Me(e,a,0),0!==n&&0===r&&0!==e.tag&&(e.suspendedLanes|=n&~(l&~t))}(e,s,n|=Aa,i,o,c),e===hc&&(pc=hc=null,gc=0),zc=t,Ic=e,Bc=s,Uc=n,Hc=r,Wc=a,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,re(me,function(){return jd(),null})):(e.callbackNode=null,e.callbackPriority=0),a=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||a){a=R.T,R.T=null,r=L.p,L.p=2,i=xc,xc|=4;try{!function(e,t){if(e=e.containerInfo,hu=vm,aa(e=sa(e))){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(s=(s=e.ownerDocument)&&s.defaultView||window).getSelection&&s.getSelection();if(a&&0!==a.rangeCount){s=a.anchorNode;var r=a.anchorOffset,n=a.focusNode;a=a.focusOffset;try{s.nodeType,n.nodeType}catch(g){s=null;break e}var i=0,o=-1,c=-1,d=0,u=0,m=e,x=null;t:for(;;){for(var h;m!==s||0!==r&&3!==m.nodeType||(o=i+r),m!==n||0!==a&&3!==m.nodeType||(c=i+a),3===m.nodeType&&(i+=m.nodeValue.length),null!==(h=m.firstChild);)x=m,m=h;for(;;){if(m===e)break t;if(x===s&&++d===r&&(o=i),x===n&&++u===a&&(c=i),null!==(h=m.nextSibling))break;x=(m=x).parentNode}m=h}s=-1===o||-1===c?null:{start:o,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(pu={focusedElem:e,selectionRange:s},vm=!1,Mo=t;null!==Mo;)if(e=(t=Mo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Mo=e;else for(;null!==Mo;){switch(n=(t=Mo).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(s=0;s<e.length;s++)(r=e[s]).ref.impl=r.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==n){e=void 0,s=t,r=n.memoizedProps,n=n.memoizedState,a=s.stateNode;try{var p=Ni(s.type,r);e=a.getSnapshotBeforeUpdate(p,n),a.__reactInternalSnapshotBeforeUpdate=e}catch(f){wd(s,s.return,f)}}break;case 3:if(0!==(1024&e))if(9===(s=(e=t.stateNode.containerInfo).nodeType))Eu(e);else if(1===s)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Eu(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(l(163))}if(null!==(e=t.sibling)){e.return=t.return,Mo=e;break}Mo=t.return}}(e,t)}finally{xc=i,L.p=r,R.T=a}}Oc=1,gd(),fd(),bd()}}function gd(){if(1===Oc){Oc=0;var e=Ic,t=zc,s=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||s){s=R.T,R.T=null;var a=L.p;L.p=2;var r=xc;xc|=4;try{Vo(t,e);var n=pu,l=sa(e.containerInfo),i=n.focusedElem,o=n.selectionRange;if(l!==i&&i&&i.ownerDocument&&ta(i.ownerDocument.documentElement,i)){if(null!==o&&aa(i)){var c=o.start,d=o.end;if(void 0===d&&(d=c),"selectionStart"in i)i.selectionStart=c,i.selectionEnd=Math.min(d,i.value.length);else{var u=i.ownerDocument||document,m=u&&u.defaultView||window;if(m.getSelection){var x=m.getSelection(),h=i.textContent.length,p=Math.min(o.start,h),g=void 0===o.end?p:Math.min(o.end,h);!x.extend&&p>g&&(l=g,g=p,p=l);var f=ea(i,p),b=ea(i,g);if(f&&b&&(1!==x.rangeCount||x.anchorNode!==f.node||x.anchorOffset!==f.offset||x.focusNode!==b.node||x.focusOffset!==b.offset)){var v=u.createRange();v.setStart(f.node,f.offset),x.removeAllRanges(),p>g?(x.addRange(v),x.extend(b.node,b.offset)):(v.setEnd(b.node,b.offset),x.addRange(v))}}}}for(u=[],x=i;x=x.parentNode;)1===x.nodeType&&u.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"===typeof i.focus&&i.focus(),i=0;i<u.length;i++){var y=u[i];y.element.scrollLeft=y.left,y.element.scrollTop=y.top}}vm=!!hu,pu=hu=null}finally{xc=r,L.p=a,R.T=s}}e.current=t,Oc=2}}function fd(){if(2===Oc){Oc=0;var e=Ic,t=zc,s=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||s){s=R.T,R.T=null;var a=L.p;L.p=2;var r=xc;xc|=4;try{Ro(e,t.alternate,t)}finally{xc=r,L.p=a,R.T=s}}Oc=3}}function bd(){if(4===Oc||3===Oc){Oc=0,ie();var e=Ic,t=zc,s=Bc,a=Wc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Oc=5:(Oc=0,zc=Ic=null,vd(e,e.pendingLanes));var r=e.pendingLanes;if(0===r&&(Fc=null),Oe(s),t=t.stateNode,be&&"function"===typeof be.onCommitFiberRoot)try{be.onCommitFiberRoot(fe,t,void 0,128===(128&t.current.flags))}catch(o){}if(null!==a){t=R.T,r=L.p,L.p=2,R.T=null;try{for(var n=e.onRecoverableError,l=0;l<a.length;l++){var i=a[l];n(i.value,{componentStack:i.stack})}}finally{R.T=t,L.p=r}}0!==(3&Bc)&&yd(),Ld(e),r=e.pendingLanes,0!==(261930&s)&&0!==(42&r)?e===Vc?qc++:(qc=0,Vc=e):qc=0,Fd(0,!1)}}function vd(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,zr(t)))}function yd(){return gd(),fd(),bd(),jd()}function jd(){if(5!==Oc)return!1;var e=Ic,t=Uc;Uc=0;var s=Oe(Bc),a=R.T,r=L.p;try{L.p=32>s?32:s,R.T=null,s=Hc,Hc=null;var n=Ic,i=Bc;if(Oc=0,zc=Ic=null,Bc=0,0!==(6&xc))throw Error(l(331));var o=xc;if(xc|=4,oc(n.current),ec(n,n.current,i,s),xc=o,Fd(0,!1),be&&"function"===typeof be.onPostCommitFiberRoot)try{be.onPostCommitFiberRoot(fe,n)}catch(c){}return!0}finally{L.p=r,R.T=a,vd(e,t)}}function Nd(e,t,s){t=Ya(s,t),null!==(e=vn(e,t=Ai(e.stateNode,t,2),2))&&(De(e,2),Ld(e))}function wd(e,t,s){if(3===e.tag)Nd(e,e,s);else for(;null!==t;){if(3===t.tag){Nd(t,e,s);break}if(1===t.tag){var a=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===Fc||!Fc.has(a))){e=Ya(s,e),null!==(a=vn(t,s=Ei(2),2))&&(Ti(s,a,t,e),De(a,2),Ld(a));break}}t=t.return}}function _d(e,t,s){var a=e.pingCache;if(null===a){a=e.pingCache=new mc;var r=new Set;a.set(t,r)}else void 0===(r=a.get(t))&&(r=new Set,a.set(t,r));r.has(s)||(jc=!0,r.add(s),e=kd.bind(null,e,t,s),t.then(e,e))}function kd(e,t,s){var a=e.pingCache;null!==a&&a.delete(t),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,hc===e&&(gc&s)===s&&(4===wc||3===wc&&(62914560&gc)===gc&&300>oe()-Dc?0===(2&xc)&&td(e,0):Sc|=s,Ac===gc&&(Ac=0)),Ld(e)}function Sd(e,t){0===t&&(t=Te()),null!==(e=Da(e,t))&&(De(e,t),Ld(e))}function Cd(e){var t=e.memoizedState,s=0;null!==t&&(s=t.retryLane),Sd(e,s)}function Ad(e,t){var s=0;switch(e.tag){case 31:case 13:var a=e.stateNode,r=e.memoizedState;null!==r&&(s=r.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(l(314))}null!==a&&a.delete(t),Sd(e,s)}var Ed=null,Td=null,Pd=!1,Dd=!1,Md=!1,Rd=0;function Ld(e){e!==Td&&null===e.next&&(null===Td?Ed=Td=e:Td=Td.next=e),Dd=!0,Pd||(Pd=!0,_u(function(){0!==(6&xc)?re(de,Od):Id()}))}function Fd(e,t){if(!Md&&Dd){Md=!0;do{for(var s=!1,a=Ed;null!==a;){if(!t)if(0!==e){var r=a.pendingLanes;if(0===r)var n=0;else{var l=a.suspendedLanes,i=a.pingedLanes;n=(1<<31-ye(42|e)+1)-1,n=201326741&(n&=r&~(l&~i))?201326741&n|1:n?2|n:0}0!==n&&(s=!0,Ud(a,n))}else n=gc,0===(3&(n=Ce(a,a===hc?n:0,null!==a.cancelPendingCommit||-1!==a.timeoutHandle)))||Ae(a,n)||(s=!0,Ud(a,n));a=a.next}}while(s);Md=!1}}function Od(){Id()}function Id(){Dd=Pd=!1;var e=0;0!==Rd&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==yu&&(yu=e,!0);return yu=null,!1}()&&(e=Rd);for(var t=oe(),s=null,a=Ed;null!==a;){var r=a.next,n=zd(a,t);0===n?(a.next=null,null===s?Ed=r:s.next=r,null===r&&(Td=s)):(s=a,(0!==e||0!==(3&n))&&(Dd=!0)),a=r}0!==Oc&&5!==Oc||Fd(e,!1),0!==Rd&&(Rd=0)}function zd(e,t){for(var s=e.suspendedLanes,a=e.pingedLanes,r=e.expirationTimes,n=-62914561&e.pendingLanes;0<n;){var l=31-ye(n),i=1<<l,o=r[l];-1===o?0!==(i&s)&&0===(i&a)||(r[l]=Ee(i,t)):o<=t&&(e.expiredLanes|=i),n&=~i}if(s=gc,s=Ce(e,e===(t=hc)?s:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),a=e.callbackNode,0===s||e===t&&(2===fc||9===fc)||null!==e.cancelPendingCommit)return null!==a&&null!==a&&ne(a),e.callbackNode=null,e.callbackPriority=0;if(0===(3&s)||Ae(e,s)){if((t=s&-s)===e.callbackPriority)return t;switch(null!==a&&ne(a),Oe(s)){case 2:case 8:s=ue;break;case 32:default:s=me;break;case 268435456:s=he}return a=Bd.bind(null,e),s=re(s,a),e.callbackPriority=t,e.callbackNode=s,t}return null!==a&&null!==a&&ne(a),e.callbackPriority=2,e.callbackNode=null,2}function Bd(e,t){if(0!==Oc&&5!==Oc)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(yd()&&e.callbackNode!==s)return null;var a=gc;return 0===(a=Ce(e,e===hc?a:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Qc(e,a,t),zd(e,oe()),null!=e.callbackNode&&e.callbackNode===s?Bd.bind(null,e):null)}function Ud(e,t){if(yd())return null;Qc(e,t,!0)}function Hd(){if(0===Rd){var e=Hr;0===e&&(e=we,0===(261888&(we<<=1))&&(we=256)),Rd=e}return Rd}function Wd(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Pt(""+e)}function qd(e,t){var s=t.ownerDocument.createElement("input");return s.name=t.name,s.value=t.value,e.id&&s.setAttribute("form",e.id),t.parentNode.insertBefore(s,t),e=new FormData(e),s.parentNode.removeChild(s),e}for(var Vd=0;Vd<wa.length;Vd++){var Gd=wa[Vd];_a(Gd.toLowerCase(),"on"+(Gd[0].toUpperCase()+Gd.slice(1)))}_a(pa,"onAnimationEnd"),_a(ga,"onAnimationIteration"),_a(fa,"onAnimationStart"),_a("dblclick","onDoubleClick"),_a("focusin","onFocus"),_a("focusout","onBlur"),_a(ba,"onTransitionRun"),_a(va,"onTransitionStart"),_a(ya,"onTransitionCancel"),_a(ja,"onTransitionEnd"),rt("onMouseEnter",["mouseout","mouseover"]),rt("onMouseLeave",["mouseout","mouseover"]),rt("onPointerEnter",["pointerout","pointerover"]),rt("onPointerLeave",["pointerout","pointerover"]),at("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),at("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),at("onBeforeInput",["compositionend","keypress","textInput","paste"]),at("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),at("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),at("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$d=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yd));function Qd(e,t){t=0!==(4&t);for(var s=0;s<e.length;s++){var a=e[s],r=a.event;a=a.listeners;e:{var n=void 0;if(t)for(var l=a.length-1;0<=l;l--){var i=a[l],o=i.instance,c=i.currentTarget;if(i=i.listener,o!==n&&r.isPropagationStopped())break e;n=i,r.currentTarget=c;try{n(r)}catch(d){ka(d)}r.currentTarget=null,n=o}else for(l=0;l<a.length;l++){if(o=(i=a[l]).instance,c=i.currentTarget,i=i.listener,o!==n&&r.isPropagationStopped())break e;n=i,r.currentTarget=c;try{n(r)}catch(d){ka(d)}r.currentTarget=null,n=o}}}}function Kd(e,t){var s=t[qe];void 0===s&&(s=t[qe]=new Set);var a=e+"__bubble";s.has(a)||(eu(t,e,2,!1),s.add(a))}function Jd(e,t,s){var a=0;t&&(a|=4),eu(s,e,a,t)}var Xd="_reactListening"+Math.random().toString(36).slice(2);function Zd(e){if(!e[Xd]){e[Xd]=!0,tt.forEach(function(t){"selectionchange"!==t&&($d.has(t)||Jd(t,!1,e),Jd(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Xd]||(t[Xd]=!0,Jd("selectionchange",!1,t))}}function eu(e,t,s,a){switch(Sm(t)){case 2:var r=ym;break;case 8:r=jm;break;default:r=Nm}s=r.bind(null,t,s,e),r=void 0,!Ht||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),a?void 0!==r?e.addEventListener(t,s,{capture:!0,passive:r}):e.addEventListener(t,s,!0):void 0!==r?e.addEventListener(t,s,{passive:r}):e.addEventListener(t,s,!1)}function tu(e,t,s,a,r){var n=a;if(0===(1&t)&&0===(2&t)&&null!==a)e:for(;;){if(null===a)return;var l=a.tag;if(3===l||4===l){var i=a.stateNode.containerInfo;if(i===r)break;if(4===l)for(l=a.return;null!==l;){var c=l.tag;if((3===c||4===c)&&l.stateNode.containerInfo===r)return;l=l.return}for(;null!==i;){if(null===(l=Ke(i)))return;if(5===(c=l.tag)||6===c||26===c||27===c){a=n=l;continue e}i=i.parentNode}}a=a.return}zt(function(){var a=n,r=Rt(s),l=[];e:{var i=Na.get(e);if(void 0!==i){var c=ss,d=e;switch(e){case"keypress":if(0===$t(s))break e;case"keydown":case"keyup":c=fs;break;case"focusin":d="focus",c=os;break;case"focusout":d="blur",c=os;break;case"beforeblur":case"afterblur":c=os;break;case"click":if(2===s.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=ls;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=is;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=vs;break;case pa:case ga:case fa:c=cs;break;case ja:c=ys;break;case"scroll":case"scrollend":c=rs;break;case"wheel":c=js;break;case"copy":case"cut":case"paste":c=ds;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=bs;break;case"toggle":case"beforetoggle":c=Ns}var u=0!==(4&t),m=!u&&("scroll"===e||"scrollend"===e),x=u?null!==i?i+"Capture":null:i;u=[];for(var h,p=a;null!==p;){var g=p;if(h=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===h||null===x||null!=(g=Bt(p,x))&&u.push(su(p,g,h)),m)break;p=p.return}0<u.length&&(i=new c(i,d,null,s,r),l.push({event:i,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||s===Mt||!(d=s.relatedTarget||s.fromElement)||!Ke(d)&&!d[We])&&(c||i)&&(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,c?(c=a,null!==(d=(d=s.relatedTarget||s.toElement)?Ke(d):null)&&(m=o(d),u=d.tag,d!==m||5!==u&&27!==u&&6!==u)&&(d=null)):(c=null,d=a),c!==d)){if(u=ls,g="onMouseLeave",x="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=bs,g="onPointerLeave",x="onPointerEnter",p="pointer"),m=null==c?i:Xe(c),h=null==d?i:Xe(d),(i=new u(g,p+"leave",c,s,r)).target=m,i.relatedTarget=h,g=null,Ke(r)===a&&((u=new u(x,p+"enter",d,s,r)).target=h,u.relatedTarget=m,g=u),m=g,c&&d)e:{for(u=ru,p=d,h=0,g=x=c;g;g=u(g))h++;g=0;for(var f=p;f;f=u(f))g++;for(;0<h-g;)x=u(x),h--;for(;0<g-h;)p=u(p),g--;for(;h--;){if(x===p||null!==p&&x===p.alternate){u=x;break e}x=u(x),p=u(p)}u=null}else u=null;null!==c&&nu(l,i,c,u,!1),null!==d&&null!==m&&nu(l,m,d,u,!0)}if("select"===(c=(i=a?Xe(a):window).nodeName&&i.nodeName.toLowerCase())||"input"===c&&"file"===i.type)var b=Bs;else if(Rs(i))if(Us)b=Ks;else{b=$s;var v=Ys}else!(c=i.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==i.type&&"radio"!==i.type?a&&At(a.elementType)&&(b=Bs):b=Qs;switch(b&&(b=b(e,a))?Ls(l,b,s,r):(v&&v(e,i,a),"focusout"===e&&a&&"number"===i.type&&null!=a.memoizedProps.value&&yt(i,"number",i.value)),v=a?Xe(a):window,e){case"focusin":(Rs(v)||"true"===v.contentEditable)&&(na=v,la=a,ia=null);break;case"focusout":ia=la=na=null;break;case"mousedown":oa=!0;break;case"contextmenu":case"mouseup":case"dragend":oa=!1,ca(l,s,r);break;case"selectionchange":if(ra)break;case"keydown":case"keyup":ca(l,s,r)}var y;if(_s)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Ds?Ts(e,s)&&(j="onCompositionEnd"):"keydown"===e&&229===s.keyCode&&(j="onCompositionStart");j&&(Cs&&"ko"!==s.locale&&(Ds||"onCompositionStart"!==j?"onCompositionEnd"===j&&Ds&&(y=Yt()):(Vt="value"in(qt=r)?qt.value:qt.textContent,Ds=!0)),0<(v=au(a,j)).length&&(j=new us(j,e,null,s,r),l.push({event:j,listeners:v}),y?j.data=y:null!==(y=Ps(s))&&(j.data=y))),(y=Ss?function(e,t){switch(e){case"compositionend":return Ps(t);case"keypress":return 32!==t.which?null:(Es=!0,As);case"textInput":return(e=t.data)===As&&Es?null:e;default:return null}}(e,s):function(e,t){if(Ds)return"compositionend"===e||!_s&&Ts(e,t)?(e=Yt(),Gt=Vt=qt=null,Ds=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cs&&"ko"!==t.locale?null:t.data}}(e,s))&&(0<(j=au(a,"onBeforeInput")).length&&(v=new us("onBeforeInput","beforeinput",null,s,r),l.push({event:v,listeners:j}),v.data=y)),function(e,t,s,a,r){if("submit"===t&&s&&s.stateNode===r){var n=Wd((r[He]||null).action),l=a.submitter;l&&null!==(t=(t=l[He]||null)?Wd(t.formAction):l.getAttribute("formAction"))&&(n=t,l=null);var i=new ss("action","action",null,a,r);e.push({event:i,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(0!==Rd){var e=l?qd(r,l):new FormData(r);ei(s,{pending:!0,data:e,method:r.method,action:n},null,e)}}else"function"===typeof n&&(i.preventDefault(),e=l?qd(r,l):new FormData(r),ei(s,{pending:!0,data:e,method:r.method,action:n},n,e))},currentTarget:r}]})}}(l,e,a,s,r)}Qd(l,t)})}function su(e,t,s){return{instance:e,listener:t,currentTarget:s}}function au(e,t){for(var s=t+"Capture",a=[];null!==e;){var r=e,n=r.stateNode;if(5!==(r=r.tag)&&26!==r&&27!==r||null===n||(null!=(r=Bt(e,s))&&a.unshift(su(e,r,n)),null!=(r=Bt(e,t))&&a.push(su(e,r,n))),3===e.tag)return a;e=e.return}return[]}function ru(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function nu(e,t,s,a,r){for(var n=t._reactName,l=[];null!==s&&s!==a;){var i=s,o=i.alternate,c=i.stateNode;if(i=i.tag,null!==o&&o===a)break;5!==i&&26!==i&&27!==i||null===c||(o=c,r?null!=(c=Bt(s,n))&&l.unshift(su(s,c,o)):r||null!=(c=Bt(s,n))&&l.push(su(s,c,o))),s=s.return}0!==l.length&&e.push({event:t,listeners:l})}var lu=/\r\n?/g,iu=/\u0000|\uFFFD/g;function ou(e){return("string"===typeof e?e:""+e).replace(lu,"\n").replace(iu,"")}function cu(e,t){return t=ou(t),ou(e)===t}function du(e,t,s,a,r,n){switch(s){case"children":"string"===typeof a?"body"===t||"textarea"===t&&""===a||_t(e,a):("number"===typeof a||"bigint"===typeof a)&&"body"!==t&&_t(e,""+a);break;case"className":ct(e,"class",a);break;case"tabIndex":ct(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,s,a);break;case"style":Ct(e,a,n);break;case"data":if("object"!==t){ct(e,"data",a);break}case"src":case"href":if(""===a&&("a"!==t||"href"!==s)){e.removeAttribute(s);break}if(null==a||"function"===typeof a||"symbol"===typeof a||"boolean"===typeof a){e.removeAttribute(s);break}a=Pt(""+a),e.setAttribute(s,a);break;case"action":case"formAction":if("function"===typeof a){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof n&&("formAction"===s?("input"!==t&&du(e,t,"name",r.name,r,null),du(e,t,"formEncType",r.formEncType,r,null),du(e,t,"formMethod",r.formMethod,r,null),du(e,t,"formTarget",r.formTarget,r,null)):(du(e,t,"encType",r.encType,r,null),du(e,t,"method",r.method,r,null),du(e,t,"target",r.target,r,null))),null==a||"symbol"===typeof a||"boolean"===typeof a){e.removeAttribute(s);break}a=Pt(""+a),e.setAttribute(s,a);break;case"onClick":null!=a&&(e.onclick=Dt);break;case"onScroll":null!=a&&Kd("scroll",e);break;case"onScrollEnd":null!=a&&Kd("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!==typeof a||!("__html"in a))throw Error(l(61));if(null!=(s=a.__html)){if(null!=r.children)throw Error(l(60));e.innerHTML=s}}break;case"multiple":e.multiple=a&&"function"!==typeof a&&"symbol"!==typeof a;break;case"muted":e.muted=a&&"function"!==typeof a&&"symbol"!==typeof a;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==a||"function"===typeof a||"boolean"===typeof a||"symbol"===typeof a){e.removeAttribute("xlink:href");break}s=Pt(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=a&&"function"!==typeof a&&"symbol"!==typeof a?e.setAttribute(s,""+a):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&"function"!==typeof a&&"symbol"!==typeof a?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":!0===a?e.setAttribute(s,""):!1!==a&&null!=a&&"function"!==typeof a&&"symbol"!==typeof a?e.setAttribute(s,a):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&!isNaN(a)&&1<=a?e.setAttribute(s,a):e.removeAttribute(s);break;case"rowSpan":case"start":null==a||"function"===typeof a||"symbol"===typeof a||isNaN(a)?e.removeAttribute(s):e.setAttribute(s,a);break;case"popover":Kd("beforetoggle",e),Kd("toggle",e),ot(e,"popover",a);break;case"xlinkActuate":dt(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":dt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":dt(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":dt(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":dt(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":dt(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":dt(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":dt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":dt(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":ot(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<s.length)||"o"!==s[0]&&"O"!==s[0]||"n"!==s[1]&&"N"!==s[1])&&ot(e,s=Et.get(s)||s,a)}}function uu(e,t,s,a,r,n){switch(s){case"style":Ct(e,a,n);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!==typeof a||!("__html"in a))throw Error(l(61));if(null!=(s=a.__html)){if(null!=r.children)throw Error(l(60));e.innerHTML=s}}break;case"children":"string"===typeof a?_t(e,a):("number"===typeof a||"bigint"===typeof a)&&_t(e,""+a);break;case"onScroll":null!=a&&Kd("scroll",e);break;case"onScrollEnd":null!=a&&Kd("scrollend",e);break;case"onClick":null!=a&&(e.onclick=Dt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:st.hasOwnProperty(s)||("o"!==s[0]||"n"!==s[1]||(r=s.endsWith("Capture"),t=s.slice(2,r?s.length-7:void 0),"function"===typeof(n=null!=(n=e[He]||null)?n[s]:null)&&e.removeEventListener(t,n,r),"function"!==typeof a)?s in e?e[s]=a:!0===a?e.setAttribute(s,""):ot(e,s,a):("function"!==typeof n&&null!==n&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(t,a,r)))}}function mu(e,t,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Kd("error",e),Kd("load",e);var a,r=!1,n=!1;for(a in s)if(s.hasOwnProperty(a)){var i=s[a];if(null!=i)switch(a){case"src":r=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:du(e,t,a,i,s,null)}}return n&&du(e,t,"srcSet",s.srcSet,s,null),void(r&&du(e,t,"src",s.src,s,null));case"input":Kd("invalid",e);var o=a=i=n=null,c=null,d=null;for(r in s)if(s.hasOwnProperty(r)){var u=s[r];if(null!=u)switch(r){case"name":n=u;break;case"type":i=u;break;case"checked":c=u;break;case"defaultChecked":d=u;break;case"value":a=u;break;case"defaultValue":o=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(l(137,t));break;default:du(e,t,r,u,s,null)}}return void vt(e,a,o,c,d,i,n,!1);case"select":for(n in Kd("invalid",e),r=i=a=null,s)if(s.hasOwnProperty(n)&&null!=(o=s[n]))switch(n){case"value":a=o;break;case"defaultValue":i=o;break;case"multiple":r=o;default:du(e,t,n,o,s,null)}return t=a,s=i,e.multiple=!!r,void(null!=t?jt(e,!!r,t,!1):null!=s&&jt(e,!!r,s,!0));case"textarea":for(i in Kd("invalid",e),a=n=r=null,s)if(s.hasOwnProperty(i)&&null!=(o=s[i]))switch(i){case"value":r=o;break;case"defaultValue":n=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(l(91));break;default:du(e,t,i,o,s,null)}return void wt(e,r,n,a);case"option":for(c in s)if(s.hasOwnProperty(c)&&null!=(r=s[c]))if("selected"===c)e.selected=r&&"function"!==typeof r&&"symbol"!==typeof r;else du(e,t,c,r,s,null);return;case"dialog":Kd("beforetoggle",e),Kd("toggle",e),Kd("cancel",e),Kd("close",e);break;case"iframe":case"object":Kd("load",e);break;case"video":case"audio":for(r=0;r<Yd.length;r++)Kd(Yd[r],e);break;case"image":Kd("error",e),Kd("load",e);break;case"details":Kd("toggle",e);break;case"embed":case"source":case"link":Kd("error",e),Kd("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in s)if(s.hasOwnProperty(d)&&null!=(r=s[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:du(e,t,d,r,s,null)}return;default:if(At(t)){for(u in s)s.hasOwnProperty(u)&&(void 0!==(r=s[u])&&uu(e,t,u,r,s,void 0));return}}for(o in s)s.hasOwnProperty(o)&&(null!=(r=s[o])&&du(e,t,o,r,s,null))}function xu(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var hu=null,pu=null;function gu(e){return 9===e.nodeType?e:e.ownerDocument}function fu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bu(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function vu(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var yu=null;var ju="function"===typeof setTimeout?setTimeout:void 0,Nu="function"===typeof clearTimeout?clearTimeout:void 0,wu="function"===typeof Promise?Promise:void 0,_u="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof wu?function(e){return wu.resolve(null).then(e).catch(ku)}:ju;function ku(e){setTimeout(function(){throw e})}function Su(e){return"head"===e}function Cu(e,t){var s=t,a=0;do{var r=s.nextSibling;if(e.removeChild(s),r&&8===r.nodeType)if("/$"===(s=r.data)||"/&"===s){if(0===a)return e.removeChild(r),void qm(t);a--}else if("$"===s||"$?"===s||"$~"===s||"$!"===s||"&"===s)a++;else if("html"===s)Iu(e.ownerDocument.documentElement);else if("head"===s){Iu(s=e.ownerDocument.head);for(var n=s.firstChild;n;){var l=n.nextSibling,i=n.nodeName;n[$e]||"SCRIPT"===i||"STYLE"===i||"LINK"===i&&"stylesheet"===n.rel.toLowerCase()||s.removeChild(n),n=l}}else"body"===s&&Iu(e.ownerDocument.body);s=r}while(s);qm(t)}function Au(e,t){var s=e;e=0;do{var a=s.nextSibling;if(1===s.nodeType?t?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",""===s.getAttribute("style")&&s.removeAttribute("style")):3===s.nodeType&&(t?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),a&&8===a.nodeType)if("/$"===(s=a.data)){if(0===e)break;e--}else"$"!==s&&"$?"!==s&&"$~"!==s&&"$!"!==s||e++;s=a}while(s)}function Eu(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var s=t;switch(t=t.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Eu(s),Qe(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===s.rel.toLowerCase())continue}e.removeChild(s)}}function Tu(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Mu(e.nextSibling)))return null}return e}function Pu(e){return"$?"===e.data||"$~"===e.data}function Du(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Mu(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Ru=null;function Lu(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var s=e.data;if("/$"===s||"/&"===s){if(0===t)return Mu(e.nextSibling);t--}else"$"!==s&&"$!"!==s&&"$?"!==s&&"$~"!==s&&"&"!==s||t++}e=e.nextSibling}return null}function Fu(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var s=e.data;if("$"===s||"$!"===s||"$?"===s||"$~"===s||"&"===s){if(0===t)return e;t--}else"/$"!==s&&"/&"!==s||t++}e=e.previousSibling}return null}function Ou(e,t,s){switch(t=gu(s),e){case"html":if(!(e=t.documentElement))throw Error(l(452));return e;case"head":if(!(e=t.head))throw Error(l(453));return e;case"body":if(!(e=t.body))throw Error(l(454));return e;default:throw Error(l(451))}}function Iu(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Qe(e)}var zu=new Map,Bu=new Set;function Uu(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Hu=L.d;L.d={f:function(){var e=Hu.f(),t=Zc();return e||t},r:function(e){var t=Je(e);null!==t&&5===t.tag&&"form"===t.type?si(t):Hu.r(e)},D:function(e){Hu.D(e),qu("dns-prefetch",e,null)},C:function(e,t){Hu.C(e,t),qu("preconnect",e,t)},L:function(e,t,s){Hu.L(e,t,s);var a=Wu;if(a&&e&&t){var r='link[rel="preload"][as="'+ft(t)+'"]';"image"===t&&s&&s.imageSrcSet?(r+='[imagesrcset="'+ft(s.imageSrcSet)+'"]',"string"===typeof s.imageSizes&&(r+='[imagesizes="'+ft(s.imageSizes)+'"]')):r+='[href="'+ft(e)+'"]';var n=r;switch(t){case"style":n=Gu(e);break;case"script":n=Qu(e)}zu.has(n)||(e=x({rel:"preload",href:"image"===t&&s&&s.imageSrcSet?void 0:e,as:t},s),zu.set(n,e),null!==a.querySelector(r)||"style"===t&&a.querySelector(Yu(n))||"script"===t&&a.querySelector(Ku(n))||(mu(t=a.createElement("link"),"link",e),et(t),a.head.appendChild(t)))}},m:function(e,t){Hu.m(e,t);var s=Wu;if(s&&e){var a=t&&"string"===typeof t.as?t.as:"script",r='link[rel="modulepreload"][as="'+ft(a)+'"][href="'+ft(e)+'"]',n=r;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":n=Qu(e)}if(!zu.has(n)&&(e=x({rel:"modulepreload",href:e},t),zu.set(n,e),null===s.querySelector(r))){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Ku(n)))return}mu(a=s.createElement("link"),"link",e),et(a),s.head.appendChild(a)}}},X:function(e,t){Hu.X(e,t);var s=Wu;if(s&&e){var a=Ze(s).hoistableScripts,r=Qu(e),n=a.get(r);n||((n=s.querySelector(Ku(r)))||(e=x({src:e,async:!0},t),(t=zu.get(r))&&em(e,t),et(n=s.createElement("script")),mu(n,"link",e),s.head.appendChild(n)),n={type:"script",instance:n,count:1,state:null},a.set(r,n))}},S:function(e,t,s){Hu.S(e,t,s);var a=Wu;if(a&&e){var r=Ze(a).hoistableStyles,n=Gu(e);t=t||"default";var l=r.get(n);if(!l){var i={loading:0,preload:null};if(l=a.querySelector(Yu(n)))i.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":t},s),(s=zu.get(n))&&Zu(e,s);var o=l=a.createElement("link");et(o),mu(o,"link",e),o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),o.addEventListener("load",function(){i.loading|=1}),o.addEventListener("error",function(){i.loading|=2}),i.loading|=4,Xu(l,t,a)}l={type:"stylesheet",instance:l,count:1,state:i},r.set(n,l)}}},M:function(e,t){Hu.M(e,t);var s=Wu;if(s&&e){var a=Ze(s).hoistableScripts,r=Qu(e),n=a.get(r);n||((n=s.querySelector(Ku(r)))||(e=x({src:e,async:!0,type:"module"},t),(t=zu.get(r))&&em(e,t),et(n=s.createElement("script")),mu(n,"link",e),s.head.appendChild(n)),n={type:"script",instance:n,count:1,state:null},a.set(r,n))}}};var Wu="undefined"===typeof document?null:document;function qu(e,t,s){var a=Wu;if(a&&"string"===typeof t&&t){var r=ft(t);r='link[rel="'+e+'"][href="'+r+'"]',"string"===typeof s&&(r+='[crossorigin="'+s+'"]'),Bu.has(r)||(Bu.add(r),e={rel:e,crossOrigin:s,href:t},null===a.querySelector(r)&&(mu(t=a.createElement("link"),"link",e),et(t),a.head.appendChild(t)))}}function Vu(e,t,s,a){var r,n,i,o,c=(c=G.current)?Uu(c):null;if(!c)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof s.precedence&&"string"===typeof s.href?(t=Gu(s.href),(a=(s=Ze(c).hoistableStyles).get(t))||(a={type:"style",instance:null,count:0,state:null},s.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===s.rel&&"string"===typeof s.href&&"string"===typeof s.precedence){e=Gu(s.href);var d=Ze(c).hoistableStyles,u=d.get(e);if(u||(c=c.ownerDocument||c,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,u),(d=c.querySelector(Yu(e)))&&!d._p&&(u.instance=d,u.state.loading=5),zu.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},zu.set(e,s),d||(r=c,n=e,i=s,o=u.state,r.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=r.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),mu(n,"link",i),et(n),r.head.appendChild(n))))),t&&null===a)throw Error(l(528,""));return u}if(t&&null!==a)throw Error(l(529,""));return null;case"script":return t=s.async,"string"===typeof(s=s.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Qu(s),(a=(s=Ze(c).hoistableScripts).get(t))||(a={type:"script",instance:null,count:0,state:null},s.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Gu(e){return'href="'+ft(e)+'"'}function Yu(e){return'link[rel="stylesheet"]['+e+"]"}function $u(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function Qu(e){return'[src="'+ft(e)+'"]'}function Ku(e){return"script[async]"+e}function Ju(e,t,s){if(t.count++,null===t.instance)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+ft(s.href)+'"]');if(a)return t.instance=a,et(a),a;var r=x({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return et(a=(e.ownerDocument||e).createElement("style")),mu(a,"style",r),Xu(a,s.precedence,e),t.instance=a;case"stylesheet":r=Gu(s.href);var n=e.querySelector(Yu(r));if(n)return t.state.loading|=4,t.instance=n,et(n),n;a=$u(s),(r=zu.get(r))&&Zu(a,r),et(n=(e.ownerDocument||e).createElement("link"));var i=n;return i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),mu(n,"link",a),t.state.loading|=4,Xu(n,s.precedence,e),t.instance=n;case"script":return n=Qu(s.src),(r=e.querySelector(Ku(n)))?(t.instance=r,et(r),r):(a=s,(r=zu.get(n))&&em(a=x({},s),r),et(r=(e=e.ownerDocument||e).createElement("script")),mu(r,"link",a),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(l(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(a=t.instance,t.state.loading|=4,Xu(a,s.precedence,e));return t.instance}function Xu(e,t,s){for(var a=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=a.length?a[a.length-1]:null,n=r,l=0;l<a.length;l++){var i=a[l];if(i.dataset.precedence===t)n=i;else if(n!==r)break}n?n.parentNode.insertBefore(e,n.nextSibling):(t=9===s.nodeType?s.head:s).insertBefore(e,t.firstChild)}function Zu(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function em(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var tm=null;function sm(e,t,s){if(null===tm){var a=new Map,r=tm=new Map;r.set(s,a)}else(a=(r=tm).get(s))||(a=new Map,r.set(s,a));if(a.has(e))return a;for(a.set(e,null),s=s.getElementsByTagName(e),r=0;r<s.length;r++){var n=s[r];if(!(n[$e]||n[Ue]||"link"===e&&"stylesheet"===n.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==n.namespaceURI){var l=n.getAttribute(t)||"";l=e+l;var i=a.get(l);i?i.push(n):a.set(l,[n])}}return a}function am(e,t,s){(e=e.ownerDocument||e).head.insertBefore(s,"title"===t?e.querySelector("head > title"):null)}function rm(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var nm=0;function lm(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)om(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var im=null;function om(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,im=new Map,t.forEach(cm,e),im=null,lm.call(e))}function cm(e,t){if(!(4&t.state.loading)){var s=im.get(e);if(s)var a=s.get(null);else{s=new Map,im.set(e,s);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),n=0;n<r.length;n++){var l=r[n];"LINK"!==l.nodeName&&"not all"===l.getAttribute("media")||(s.set(l.dataset.precedence,l),a=l)}a&&s.set(null,a)}l=(r=t.instance).getAttribute("data-precedence"),(n=s.get(l)||a)===a&&s.set(null,r),s.set(l,r),this.count++,a=lm.bind(this),r.addEventListener("load",a),r.addEventListener("error",a),n?n.parentNode.insertBefore(r,n.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(r,e.firstChild),t.state.loading|=4}}var dm={$$typeof:j,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function um(e,t,s,a,r,n,l,i,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pe(0),this.hiddenUpdates=Pe(null),this.identifierPrefix=a,this.onUncaughtError=r,this.onCaughtError=n,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function mm(e,t,s,a,r,n,l,i,o,c,d,u){return e=new um(e,t,s,l,o,c,d,u,i),t=1,!0===n&&(t|=24),n=Oa(3,null,null,t),e.current=n,n.stateNode=e,(t=Ir()).refCount++,e.pooledCache=t,t.refCount++,n.memoizedState={element:a,isDehydrated:s,cache:t},gn(n),e}function xm(e){return e?e=La:La}function hm(e,t,s,a,r,n){r=xm(r),null===a.context?a.context=r:a.pendingContext=r,(a=bn(t)).payload={element:s},null!==(n=void 0===n?null:n)&&(a.callback=n),null!==(s=vn(e,a,t))&&($c(s,0,t),yn(s,e,t))}function pm(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var s=e.retryLane;e.retryLane=0!==s&&s<t?s:t}}function gm(e,t){pm(e,t),(e=e.alternate)&&pm(e,t)}function fm(e){if(13===e.tag||31===e.tag){var t=Da(e,67108864);null!==t&&$c(t,0,67108864),gm(e,67108864)}}function bm(e){if(13===e.tag||31===e.tag){var t=Gc(),s=Da(e,t=Fe(t));null!==s&&$c(s,0,t),gm(e,t)}}var vm=!0;function ym(e,t,s,a){var r=R.T;R.T=null;var n=L.p;try{L.p=2,Nm(e,t,s,a)}finally{L.p=n,R.T=r}}function jm(e,t,s,a){var r=R.T;R.T=null;var n=L.p;try{L.p=8,Nm(e,t,s,a)}finally{L.p=n,R.T=r}}function Nm(e,t,s,a){if(vm){var r=wm(a);if(null===r)tu(e,t,a,_m,s),Lm(e,a);else if(function(e,t,s,a,r){switch(t){case"focusin":return Am=Fm(Am,e,t,s,a,r),!0;case"dragenter":return Em=Fm(Em,e,t,s,a,r),!0;case"mouseover":return Tm=Fm(Tm,e,t,s,a,r),!0;case"pointerover":var n=r.pointerId;return Pm.set(n,Fm(Pm.get(n)||null,e,t,s,a,r)),!0;case"gotpointercapture":return n=r.pointerId,Dm.set(n,Fm(Dm.get(n)||null,e,t,s,a,r)),!0}return!1}(r,e,t,s,a))a.stopPropagation();else if(Lm(e,a),4&t&&-1<Rm.indexOf(e)){for(;null!==r;){var n=Je(r);if(null!==n)switch(n.tag){case 3:if((n=n.stateNode).current.memoizedState.isDehydrated){var l=Se(n.pendingLanes);if(0!==l){var i=n;for(i.pendingLanes|=2,i.entangledLanes|=2;l;){var o=1<<31-ye(l);i.entanglements[1]|=o,l&=~o}Ld(n),0===(6&xc)&&(Rc=oe()+500,Fd(0,!1))}}break;case 31:case 13:null!==(i=Da(n,2))&&$c(i,0,2),Zc(),gm(n,2)}if(null===(n=wm(a))&&tu(e,t,a,_m,s),n===r)break;r=n}null!==r&&a.stopPropagation()}else tu(e,t,a,null,s)}}function wm(e){return km(e=Rt(e))}var _m=null;function km(e){if(_m=null,null!==(e=Ke(e))){var t=o(e);if(null===t)e=null;else{var s=t.tag;if(13===s){if(null!==(e=c(t)))return e;e=null}else if(31===s){if(null!==(e=d(t)))return e;e=null}else if(3===s){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return _m=e,null}function Sm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case de:return 2;case ue:return 8;case me:case xe:return 32;case he:return 268435456;default:return 32}default:return 32}}var Cm=!1,Am=null,Em=null,Tm=null,Pm=new Map,Dm=new Map,Mm=[],Rm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lm(e,t){switch(e){case"focusin":case"focusout":Am=null;break;case"dragenter":case"dragleave":Em=null;break;case"mouseover":case"mouseout":Tm=null;break;case"pointerover":case"pointerout":Pm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dm.delete(t.pointerId)}}function Fm(e,t,s,a,r,n){return null===e||e.nativeEvent!==n?(e={blockedOn:t,domEventName:s,eventSystemFlags:a,nativeEvent:n,targetContainers:[r]},null!==t&&(null!==(t=Je(t))&&fm(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Om(e){var t=Ke(e.target);if(null!==t){var s=o(t);if(null!==s)if(13===(t=s.tag)){if(null!==(t=c(s)))return e.blockedOn=t,void ze(e.priority,function(){bm(s)})}else if(31===t){if(null!==(t=d(s)))return e.blockedOn=t,void ze(e.priority,function(){bm(s)})}else if(3===t&&s.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===s.tag?s.stateNode.containerInfo:null)}e.blockedOn=null}function Im(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var s=wm(e.nativeEvent);if(null!==s)return null!==(t=Je(s))&&fm(t),e.blockedOn=s,!1;var a=new(s=e.nativeEvent).constructor(s.type,s);Mt=a,s.target.dispatchEvent(a),Mt=null,t.shift()}return!0}function zm(e,t,s){Im(e)&&s.delete(t)}function Bm(){Cm=!1,null!==Am&&Im(Am)&&(Am=null),null!==Em&&Im(Em)&&(Em=null),null!==Tm&&Im(Tm)&&(Tm=null),Pm.forEach(zm),Dm.forEach(zm)}function Um(e,t){e.blockedOn===t&&(e.blockedOn=null,Cm||(Cm=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Bm)))}var Hm=null;function Wm(e){Hm!==e&&(Hm=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Hm===e&&(Hm=null);for(var t=0;t<e.length;t+=3){var s=e[t],a=e[t+1],r=e[t+2];if("function"!==typeof a){if(null===km(a||s))continue;break}var n=Je(s);null!==n&&(e.splice(t,3),t-=3,ei(n,{pending:!0,data:r,method:s.method,action:a},a,r))}}))}function qm(e){function t(t){return Um(t,e)}null!==Am&&Um(Am,e),null!==Em&&Um(Em,e),null!==Tm&&Um(Tm,e),Pm.forEach(t),Dm.forEach(t);for(var s=0;s<Mm.length;s++){var a=Mm[s];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Mm.length&&null===(s=Mm[0]).blockedOn;)Om(s),null===s.blockedOn&&Mm.shift();if(null!=(s=(e.ownerDocument||e).$$reactFormReplay))for(a=0;a<s.length;a+=3){var r=s[a],n=s[a+1],l=r[He]||null;if("function"===typeof n)l||Wm(s);else if(l){var i=null;if(n&&n.hasAttribute("formAction")){if(r=n,l=n[He]||null)i=l.formAction;else if(null!==km(r))continue}else i=l.action;"function"===typeof i?s[a+1]=i:(s.splice(a,3),a-=3),Wm(s)}}}function Vm(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return r=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==r&&(r(),r=null),a||setTimeout(s,20)}function s(){if(!a&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var a=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(s,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==r&&(r(),r=null)}}}function Gm(e){this._internalRoot=e}function Ym(e){this._internalRoot=e}Ym.prototype.render=Gm.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(l(409));hm(t.current,Gc(),e,t,null,null)},Ym.prototype.unmount=Gm.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hm(e.current,2,null,e,null,null),Zc(),t[We]=null}},Ym.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ie();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Mm.length&&0!==t&&t<Mm[s].priority;s++);Mm.splice(s,0,e),0===s&&Om(e)}};var $m=r.version;if("19.2.0"!==$m)throw Error(l(527,$m,"19.2.0"));L.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(l(188));throw e=Object.keys(e).join(","),Error(l(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=o(e)))throw Error(l(188));return t!==e?null:e}for(var s=e,a=t;;){var r=s.return;if(null===r)break;var n=r.alternate;if(null===n){if(null!==(a=r.return)){s=a;continue}break}if(r.child===n.child){for(n=r.child;n;){if(n===s)return u(r),e;if(n===a)return u(r),t;n=n.sibling}throw Error(l(188))}if(s.return!==a.return)s=r,a=n;else{for(var i=!1,c=r.child;c;){if(c===s){i=!0,s=r,a=n;break}if(c===a){i=!0,a=r,s=n;break}c=c.sibling}if(!i){for(c=n.child;c;){if(c===s){i=!0,s=n,a=r;break}if(c===a){i=!0,a=n,s=r;break}c=c.sibling}if(!i)throw Error(l(189))}}if(s.alternate!==a)throw Error(l(190))}if(3!==s.tag)throw Error(l(188));return s.stateNode.current===s?e:t}(t),e=null===(e=null!==e?m(e):null)?null:e.stateNode};var Qm={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Km=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Km.isDisabled&&Km.supportsFiber)try{fe=Km.inject(Qm),be=Km}catch(Xm){}}t.createRoot=function(e,t){if(!i(e))throw Error(l(299));var s=!1,a="",r=wi,n=_i,o=ki;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(s=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onUncaughtError&&(r=t.onUncaughtError),void 0!==t.onCaughtError&&(n=t.onCaughtError),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=mm(e,1,!1,null,0,s,a,null,r,n,o,Vm),e[We]=t.current,Zd(e),new Gm(t)},t.hydrateRoot=function(e,t,s){if(!i(e))throw Error(l(299));var a=!1,r="",n=wi,o=_i,c=ki,d=null;return null!==s&&void 0!==s&&(!0===s.unstable_strictMode&&(a=!0),void 0!==s.identifierPrefix&&(r=s.identifierPrefix),void 0!==s.onUncaughtError&&(n=s.onUncaughtError),void 0!==s.onCaughtError&&(o=s.onCaughtError),void 0!==s.onRecoverableError&&(c=s.onRecoverableError),void 0!==s.formState&&(d=s.formState)),(t=mm(e,1,!0,t,0,a,r,d,n,o,c,Vm)).context=xm(null),s=t.current,(r=bn(a=Fe(a=Gc()))).callback=null,vn(s,r,a),s=a,t.current.lanes=s,De(t,s),Ld(t),e[We]=t.current,Zd(e),new Ym(t)},t.version="19.2.0"},7084:(e,t,s)=>{var a=s(3871),r=s(929),n=s(9140),l=Math.ceil,i=Math.max;e.exports=function(e,t,s){t=(s?r(e,t,s):void 0===t)?1:i(n(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var c=0,d=0,u=Array(l(o/t));c<o;)u[d++]=a(e,c,c+=t);return u}},7105:(e,t,s)=>{var a="object"==typeof s.g&&s.g&&s.g.Object===Object&&s.g;e.exports=a},7116:(e,t,s)=>{var a=s(9812),r=s(2777),n=s(4052),l=a?a.isConcatSpreadable:void 0;e.exports=function(e){return n(e)||r(e)||!!(l&&e&&e[l])}},7132:(e,t,s)=>{var a=s(5538),r=s(726),n=s(8420),l=s(1104),i=s(5119),o=s(4353),c=s(1980),d=s(8124),u=s(9075),m=s(9395),x=s(8592),h=s(6924),p=s(8268),g=s(8630),f=s(310),b=s(4052),v=s(4543),y=s(7887),j=s(6686),N=s(5921),w=s(8673),_=s(474),k="[object Arguments]",S="[object Function]",C="[object Object]",A={};A[k]=A["[object Array]"]=A["[object ArrayBuffer]"]=A["[object DataView]"]=A["[object Boolean]"]=A["[object Date]"]=A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Map]"]=A["[object Number]"]=A[C]=A["[object RegExp]"]=A["[object Set]"]=A["[object String]"]=A["[object Symbol]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A["[object Error]"]=A[S]=A["[object WeakMap]"]=!1,e.exports=function e(t,s,E,T,P,D){var M,R=1&s,L=2&s,F=4&s;if(E&&(M=P?E(t,T,P,D):E(t)),void 0!==M)return M;if(!j(t))return t;var O=b(t);if(O){if(M=p(t),!R)return c(t,M)}else{var I=h(t),z=I==S||"[object GeneratorFunction]"==I;if(v(t))return o(t,R);if(I==C||I==k||z&&!P){if(M=L||z?{}:f(t),!R)return L?u(t,i(M,t)):d(t,l(M,t))}else{if(!A[I])return P?t:{};M=g(t,I,R)}}D||(D=new a);var B=D.get(t);if(B)return B;D.set(t,M),N(t)?t.forEach(function(a){M.add(e(a,s,E,a,t,D))}):y(t)&&t.forEach(function(a,r){M.set(r,e(a,s,E,r,t,D))});var U=O?void 0:(F?L?x:m:L?_:w)(t);return r(U||t,function(a,r){U&&(a=t[r=a]),n(M,r,e(a,s,E,r,t,D))}),M}},7159:(e,t,s)=>{var a=s(2622);e.exports=function(e){var t=a(this,e).delete(e);return this.size-=t?1:0,t}},7160:(e,t,s)=>{var a=s(7563),r=s(9935),n=s(4190),l=s(1946),i=s(1714);function o(e){var t=-1,s=null==e?0:e.length;for(this.clear();++t<s;){var a=e[t];this.set(a[0],a[1])}}o.prototype.clear=a,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=l,o.prototype.set=i,e.exports=o},7227:function(e){e.exports=function(){"use strict";return function(e,t,s){var a=function(e,t){if(!t||!t.length||1===t.length&&!t[0]||1===t.length&&Array.isArray(t[0])&&!t[0].length)return null;var s;1===t.length&&t[0].length>0&&(t=t[0]),s=(t=t.filter(function(e){return e}))[0];for(var a=1;a<t.length;a+=1)t[a].isValid()&&!t[a][e](s)||(s=t[a]);return s};s.max=function(){var e=[].slice.call(arguments,0);return a("isAfter",e)},s.min=function(){var e=[].slice.call(arguments,0);return a("isBefore",e)}}}()},7251:(e,t,s)=>{var a=s(8724),r=s(7160),n=s(5204);e.exports=function(){this.size=0,this.__data__={hash:new a,map:new(n||r),string:new a}}},7303:(e,t,s)=>{var a=s(801),r=1/0;e.exports=function(e){return e?(e=a(e))===r||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},7424:(e,t,s)=>{var a=s(755),r=s(2536),n=s(5647),l=s(929),i=n(function(e,t){if(null==e)return[];var s=t.length;return s>1&&l(e,t[0],t[1])?t=[]:s>2&&l(t[0],t[1],t[2])&&(t=[t[0]]),r(e,a(t,1),[])});e.exports=i},7529:e=>{e.exports=function(e,t){for(var s=-1,a=null==e?0:e.length,r=0,n=[];++s<a;){var l=e[s];t(l,s,e)&&(n[r++]=l)}return n}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},7615:(e,t,s)=>{var a=s(5575);e.exports=function(){this.__data__=a?a(null):{},this.size=0}},7685:(e,t,s)=>{var a=s(7937)(s(6552),"DataView");e.exports=a},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},7828:e=>{e.exports=function(){return[]}},7857:(e,t,s)=>{var a=s(3440),r=function(){var e=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!r&&r in e}},7887:(e,t,s)=>{var a=s(5791),r=s(7574),n=s(6832),l=n&&n.isMap,i=l?r(l):a;e.exports=i},7894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},7937:(e,t,s)=>{var a=s(6954),r=s(4657);e.exports=function(e,t){var s=r(e,t);return a(s)?s:void 0}},7950:(e,t,s)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=s(6672)},8114:e=>{e.exports=function(e,t){return e.has(t)}},8122:(e,t,s)=>{var a=s(6686),r=s(6140),n=s(3516),l=Object.prototype.hasOwnProperty;e.exports=function(e){if(!a(e))return n(e);var t=r(e),s=[];for(var i in e)("constructor"!=i||!t&&l.call(e,i))&&s.push(i);return s}},8124:(e,t,s)=>{var a=s(6614),r=s(9621);e.exports=function(e,t){return a(e,r(e),t)}},8140:(e,t,s)=>{var a=s(5324),r=s(4065),n=s(1676),l=s(914);e.exports=function(e,t){return t=a(t,e),null==(e=n(e,t))||delete e[l(r(t))]}},8259:(e,t,s)=>{var a=s(5797);e.exports=function(e){var t=a(e,function(e){return 500===s.size&&s.clear(),e}),s=t.cache;return t}},8268:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var s=e.length,a=new e.constructor(s);return s&&"string"==typeof e[0]&&t.call(e,"index")&&(a.index=e.index,a.input=e.input),a}},8325:(e,t,s)=>{var a=s(2541),r=s(5654),n=s(3279),l=r?function(e,t){return r(e,"toString",{configurable:!0,enumerable:!1,value:a(t),writable:!0})}:n;e.exports=l},8392:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/en-US.c3a6319ea4f219498e6f.cjs"},8420:(e,t,s)=>{var a=s(1775),r=s(3211),n=Object.prototype.hasOwnProperty;e.exports=function(e,t,s){var l=e[t];n.call(e,t)&&r(l,s)&&(void 0!==s||t in e)||a(e,t,s)}},8541:(e,t,s)=>{var a=s(9812),r=s(149),n=s(4052),l=s(9841),i=a?a.prototype:void 0,o=i?i.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(n(t))return r(t,e)+"";if(l(t))return o?o.call(t):"";var s=t+"";return"0"==s&&1/t==-1/0?"-0":s}},8592:(e,t,s)=>{var a=s(4262),r=s(6326),n=s(474);e.exports=function(e){return a(e,n,r)}},8630:(e,t,s)=>{var a=s(1516),r=s(6806),n=s(8962),l=s(1295),i=s(8710);e.exports=function(e,t,s){var o=e.constructor;switch(t){case"[object ArrayBuffer]":return a(e);case"[object Boolean]":case"[object Date]":return new o(+e);case"[object DataView]":return r(e,s);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return i(e,s);case"[object Map]":case"[object Set]":return new o;case"[object Number]":case"[object String]":return new o(e);case"[object RegExp]":return n(e);case"[object Symbol]":return l(e)}}},8673:(e,t,s)=>{var a=s(3204),r=s(3713),n=s(6571);e.exports=function(e){return n(e)?a(e):r(e)}},8710:(e,t,s)=>{var a=s(1516);e.exports=function(e,t){var s=t?a(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.length)}},8724:(e,t,s)=>{var a=s(7615),r=s(5051),n=s(2154),l=s(8734),i=s(2662);function o(e){var t=-1,s=null==e?0:e.length;for(this.clear();++t<s;){var a=e[t];this.set(a[0],a[1])}}o.prototype.clear=a,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=l,o.prototype.set=i,e.exports=o},8734:(e,t,s)=>{var a=s(5575),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return a?void 0!==t[e]:r.call(t,e)}},8853:(e,t,s)=>{"use strict";e.exports=s(5896)},8883:(e,t,s)=>{var a=s(5652),r=s(6571);e.exports=function(e,t){var s=-1,n=r(e)?Array(e.length):[];return a(e,function(e,a,r){n[++s]=t(e,a,r)}),n}},8895:e=>{e.exports=function(e,t){for(var s=-1,a=t.length,r=e.length;++s<a;)e[r+s]=t[s];return e}},8902:(e,t,s)=>{var a=s(4816),r=s(6179),n=s(6704);function l(e){var t=-1,s=null==e?0:e.length;for(this.__data__=new a;++t<s;)this.add(e[t])}l.prototype.add=l.prototype.push=r,l.prototype.has=n,e.exports=l},8933:function(e){e.exports=function(){"use strict";return function(e,t){t.prototype.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)}}}()},8962:e=>{var t=/\w*$/;e.exports=function(e){var s=new e.constructor(e.source,t.exec(e));return s.lastIndex=e.lastIndex,s}},9057:(e,t,s)=>{var a=s(5324),r=s(2777),n=s(4052),l=s(9194),i=s(6173),o=s(914);e.exports=function(e,t,s){for(var c=-1,d=(t=a(t,e)).length,u=!1;++c<d;){var m=o(t[c]);if(!(u=null!=e&&s(e,m)))break;e=e[m]}return u||++c!=d?u:!!(d=null==e?0:e.length)&&i(d)&&l(m,d)&&(n(e)||r(e))}},9075:(e,t,s)=>{var a=s(6614),r=s(6326);e.exports=function(e,t){return a(e,r(e),t)}},9096:(e,t,s)=>{var a=s(9256),r=s(5029),n=s(3279),l=s(4052),i=s(3932);e.exports=function(e){return"function"==typeof e?e:null==e?n:"object"==typeof e?l(e)?r(e[0],e[1]):a(e):i(e)}},9140:(e,t,s)=>{var a=s(7303);e.exports=function(e){var t=a(e),s=t%1;return t===t?s?t-s:t:0}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,s){var a=typeof e;return!!(s=null==s?9007199254740991:s)&&("number"==a||"symbol"!=a&&t.test(e))&&e>-1&&e%1==0&&e<s}},9256:(e,t,s)=>{var a=s(6532),r=s(3781),n=s(1310);e.exports=function(e){var t=r(e);return 1==t.length&&t[0][2]?n(t[0][0],t[0][1]):function(s){return s===e||a(s,e,t)}}},9379:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var a=s(4467);function r(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}function n(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?r(Object(s),!0).forEach(function(t){(0,a.A)(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):r(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}},9394:(e,t,s)=>{var a=s(2622);e.exports=function(e){return a(this,e).has(e)}},9395:(e,t,s)=>{var a=s(4262),r=s(9621),n=s(8673);e.exports=function(e){return a(e,n,r)}},9417:(e,t,s)=>{var a=s(6686);e.exports=function(e){return e===e&&!a(e)}},9621:(e,t,s)=>{var a=s(7529),r=s(7828),n=Object.prototype.propertyIsEnumerable,l=Object.getOwnPropertySymbols,i=l?function(e){return null==e?[]:(e=Object(e),a(l(e),function(t){return n.call(e,t)}))}:r;e.exports=i},9676:e=>{var t=Math.ceil,s=Math.max;e.exports=function(e,a,r,n){for(var l=-1,i=s(t((a-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++l]=e,e+=r;return o}},9722:(e,t,s)=>{"use strict";s.d(t,{A:()=>Ct});var a={};function r(e,t){return function(){return e.apply(t,arguments)}}s.r(a),s.d(a,{hasBrowserEnv:()=>de,hasStandardBrowserEnv:()=>me,hasStandardBrowserWebWorkerEnv:()=>xe,navigator:()=>ue,origin:()=>he});const{toString:n}=Object.prototype,{getPrototypeOf:l}=Object,{iterator:i,toStringTag:o}=Symbol,c=(d=Object.create(null),e=>{const t=n.call(e);return d[t]||(d[t]=t.slice(8,-1).toLowerCase())});var d;const u=e=>(e=e.toLowerCase(),t=>c(t)===e),m=e=>t=>typeof t===e,{isArray:x}=Array,h=m("undefined");function p(e){return null!==e&&!h(e)&&null!==e.constructor&&!h(e.constructor)&&b(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const g=u("ArrayBuffer");const f=m("string"),b=m("function"),v=m("number"),y=e=>null!==e&&"object"===typeof e,j=e=>{if("object"!==c(e))return!1;const t=l(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(o in e)&&!(i in e)},N=u("Date"),w=u("File"),_=u("Blob"),k=u("FileList"),S=u("URLSearchParams"),[C,A,E,T]=["ReadableStream","Request","Response","Headers"].map(u);function P(e,t){let s,a,{allOwnKeys:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),x(e))for(s=0,a=e.length;s<a;s++)t.call(null,e[s],s,e);else{if(p(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),n=a.length;let l;for(s=0;s<n;s++)l=a[s],t.call(null,e[l],l,e)}}function D(e,t){if(p(e))return null;t=t.toLowerCase();const s=Object.keys(e);let a,r=s.length;for(;r-- >0;)if(a=s[r],t===a.toLowerCase())return a;return null}const M="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,R=e=>!h(e)&&e!==M;const L=(F="undefined"!==typeof Uint8Array&&l(Uint8Array),e=>F&&e instanceof F);var F;const O=u("HTMLFormElement"),I=(e=>{let{hasOwnProperty:t}=e;return(e,s)=>t.call(e,s)})(Object.prototype),z=u("RegExp"),B=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),a={};P(s,(s,r)=>{let n;!1!==(n=t(s,r,e))&&(a[r]=n||s)}),Object.defineProperties(e,a)};const U=u("AsyncFunction"),H=((e,t)=>{return e?setImmediate:t?(s="axios@".concat(Math.random()),a=[],M.addEventListener("message",e=>{let{source:t,data:r}=e;t===M&&r===s&&a.length&&a.shift()()},!1),e=>{a.push(e),M.postMessage(s,"*")}):e=>setTimeout(e);var s,a})("function"===typeof setImmediate,b(M.postMessage)),W="undefined"!==typeof queueMicrotask?queueMicrotask.bind(M):"undefined"!==typeof process&&process.nextTick||H,q={isArray:x,isArrayBuffer:g,isBuffer:p,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||b(e.append)&&("formdata"===(t=c(e))||"object"===t&&b(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&g(e.buffer),t},isString:f,isNumber:v,isBoolean:e=>!0===e||!1===e,isObject:y,isPlainObject:j,isEmptyObject:e=>{if(!y(e)||p(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(t){return!1}},isReadableStream:C,isRequest:A,isResponse:E,isHeaders:T,isUndefined:h,isDate:N,isFile:w,isBlob:_,isRegExp:z,isFunction:b,isStream:e=>y(e)&&b(e.pipe),isURLSearchParams:S,isTypedArray:L,isFileList:k,forEach:P,merge:function e(){const{caseless:t,skipUndefined:s}=R(this)&&this||{},a={},r=(r,n)=>{const l=t&&D(a,n)||n;j(a[l])&&j(r)?a[l]=e(a[l],r):j(r)?a[l]=e({},r):x(r)?a[l]=r.slice():s&&h(r)||(a[l]=r)};for(let n=0,l=arguments.length;n<l;n++)arguments[n]&&P(arguments[n],r);return a},extend:function(e,t,s){let{allOwnKeys:a}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return P(t,(t,a)=>{s&&b(t)?e[a]=r(t,s):e[a]=t},{allOwnKeys:a}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,s,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},toFlatObject:(e,t,s,a)=>{let r,n,i;const o={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),n=r.length;n-- >0;)i=r[n],a&&!a(i,e,t)||o[i]||(t[i]=e[i],o[i]=!0);e=!1!==s&&l(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},kindOf:c,kindOfTest:u,endsWith:(e,t,s)=>{e=String(e),(void 0===s||s>e.length)&&(s=e.length),s-=t.length;const a=e.indexOf(t,s);return-1!==a&&a===s},toArray:e=>{if(!e)return null;if(x(e))return e;let t=e.length;if(!v(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},forEachEntry:(e,t)=>{const s=(e&&e[i]).call(e);let a;for(;(a=s.next())&&!a.done;){const s=a.value;t.call(e,s[0],s[1])}},matchAll:(e,t)=>{let s;const a=[];for(;null!==(s=e.exec(t));)a.push(s);return a},isHTMLForm:O,hasOwnProperty:I,hasOwnProp:I,reduceDescriptors:B,freezeMethods:e=>{B(e,(t,s)=>{if(b(e)&&-1!==["arguments","caller","callee"].indexOf(s))return!1;const a=e[s];b(a)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")}))})},toObjectSet:(e,t)=>{const s={},a=e=>{e.forEach(e=>{s[e]=!0})};return x(e)?a(e):a(String(e).split(t)),s},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,s){return t.toUpperCase()+s}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:D,global:M,isContextDefined:R,isSpecCompliantForm:function(e){return!!(e&&b(e.append)&&"FormData"===e[o]&&e[i])},toJSONObject:e=>{const t=new Array(10),s=(e,a)=>{if(y(e)){if(t.indexOf(e)>=0)return;if(p(e))return e;if(!("toJSON"in e)){t[a]=e;const r=x(e)?[]:{};return P(e,(e,t)=>{const n=s(e,a+1);!h(n)&&(r[t]=n)}),t[a]=void 0,r}}return e};return s(e,0)},isAsyncFn:U,isThenable:e=>e&&(y(e)||b(e))&&b(e.then)&&b(e.catch),setImmediate:H,asap:W,isIterable:e=>null!=e&&b(e[i])};function V(e,t,s,a,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),a&&(this.request=a),r&&(this.response=r,this.status=r.status?r.status:null)}q.inherits(V,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:q.toJSONObject(this.config),code:this.code,status:this.status}}});const G=V.prototype,Y={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Y[e]={value:e}}),Object.defineProperties(V,Y),Object.defineProperty(G,"isAxiosError",{value:!0}),V.from=(e,t,s,a,r,n)=>{const l=Object.create(G);q.toFlatObject(e,l,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const i=e&&e.message?e.message:"Error",o=null==t&&e?e.code:t;return V.call(l,i,o,s,a,r),e&&null==l.cause&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",n&&Object.assign(l,n),l};const $=V;function Q(e){return q.isPlainObject(e)||q.isArray(e)}function K(e){return q.endsWith(e,"[]")?e.slice(0,-2):e}function J(e,t,s){return e?e.concat(t).map(function(e,t){return e=K(e),!s&&t?"["+e+"]":e}).join(s?".":""):t}const X=q.toFlatObject(q,{},null,function(e){return/^is[A-Z]/.test(e)});const Z=function(e,t,s){if(!q.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const a=(s=q.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!q.isUndefined(t[e])})).metaTokens,r=s.visitor||c,n=s.dots,l=s.indexes,i=(s.Blob||"undefined"!==typeof Blob&&Blob)&&q.isSpecCompliantForm(t);if(!q.isFunction(r))throw new TypeError("visitor must be a function");function o(e){if(null===e)return"";if(q.isDate(e))return e.toISOString();if(q.isBoolean(e))return e.toString();if(!i&&q.isBlob(e))throw new $("Blob is not supported. Use a Buffer instead.");return q.isArrayBuffer(e)||q.isTypedArray(e)?i&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,s,r){let i=e;if(e&&!r&&"object"===typeof e)if(q.endsWith(s,"{}"))s=a?s:s.slice(0,-2),e=JSON.stringify(e);else if(q.isArray(e)&&function(e){return q.isArray(e)&&!e.some(Q)}(e)||(q.isFileList(e)||q.endsWith(s,"[]"))&&(i=q.toArray(e)))return s=K(s),i.forEach(function(e,a){!q.isUndefined(e)&&null!==e&&t.append(!0===l?J([s],a,n):null===l?s:s+"[]",o(e))}),!1;return!!Q(e)||(t.append(J(r,s,n),o(e)),!1)}const d=[],u=Object.assign(X,{defaultVisitor:c,convertValue:o,isVisitable:Q});if(!q.isObject(e))throw new TypeError("data must be an object");return function e(s,a){if(!q.isUndefined(s)){if(-1!==d.indexOf(s))throw Error("Circular reference detected in "+a.join("."));d.push(s),q.forEach(s,function(s,n){!0===(!(q.isUndefined(s)||null===s)&&r.call(t,s,q.isString(n)?n.trim():n,a,u))&&e(s,a?a.concat(n):[n])}),d.pop()}}(e),t};function ee(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function te(e,t){this._pairs=[],e&&Z(e,this,t)}const se=te.prototype;se.append=function(e,t){this._pairs.push([e,t])},se.toString=function(e){const t=e?function(t){return e.call(this,t,ee)}:ee;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const ae=te;function re(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function ne(e,t,s){if(!t)return e;const a=s&&s.encode||re;q.isFunction(s)&&(s={serialize:s});const r=s&&s.serialize;let n;if(n=r?r(t,s):q.isURLSearchParams(t)?t.toString():new ae(t,s).toString(a),n){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e}const le=class{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!s&&s.synchronous,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){q.forEach(this.handlers,function(t){null!==t&&e(t)})}},ie={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var oe=s(9379);const ce={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:ae,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},de="undefined"!==typeof window&&"undefined"!==typeof document,ue="object"===typeof navigator&&navigator||void 0,me=de&&(!ue||["ReactNative","NativeScript","NS"].indexOf(ue.product)<0),xe="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,he=de&&window.location.href||"http://localhost",pe=(0,oe.A)((0,oe.A)({},a),ce);const ge=function(e){function t(e,s,a,r){let n=e[r++];if("__proto__"===n)return!0;const l=Number.isFinite(+n),i=r>=e.length;if(n=!n&&q.isArray(a)?a.length:n,i)return q.hasOwnProp(a,n)?a[n]=[a[n],s]:a[n]=s,!l;a[n]&&q.isObject(a[n])||(a[n]=[]);return t(e,s,a[n],r)&&q.isArray(a[n])&&(a[n]=function(e){const t={},s=Object.keys(e);let a;const r=s.length;let n;for(a=0;a<r;a++)n=s[a],t[n]=e[n];return t}(a[n])),!l}if(q.isFormData(e)&&q.isFunction(e.entries)){const s={};return q.forEachEntry(e,(e,a)=>{t(function(e){return q.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),a,s,0)}),s}return null};const fe={transitional:ie,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",a=s.indexOf("application/json")>-1,r=q.isObject(e);r&&q.isHTMLForm(e)&&(e=new FormData(e));if(q.isFormData(e))return a?JSON.stringify(ge(e)):e;if(q.isArrayBuffer(e)||q.isBuffer(e)||q.isStream(e)||q.isFile(e)||q.isBlob(e)||q.isReadableStream(e))return e;if(q.isArrayBufferView(e))return e.buffer;if(q.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let n;if(r){if(s.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Z(e,new pe.classes.URLSearchParams,(0,oe.A)({visitor:function(e,t,s,a){return pe.isNode&&q.isBuffer(e)?(this.append(t,e.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=q.isFileList(e))||s.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Z(n?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||a?(t.setContentType("application/json",!1),function(e,t,s){if(q.isString(e))try{return(t||JSON.parse)(e),q.trim(e)}catch(a){if("SyntaxError"!==a.name)throw a}return(s||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||fe.transitional,s=t&&t.forcedJSONParsing,a="json"===this.responseType;if(q.isResponse(e)||q.isReadableStream(e))return e;if(e&&q.isString(e)&&(s&&!this.responseType||a)){const s=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e,this.parseReviver)}catch(r){if(s){if("SyntaxError"===r.name)throw $.from(r,$.ERR_BAD_RESPONSE,this,null,this.response);throw r}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:pe.classes.FormData,Blob:pe.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};q.forEach(["delete","get","head","post","put","patch"],e=>{fe.headers[e]={}});const be=fe,ve=q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ye=Symbol("internals");function je(e){return e&&String(e).trim().toLowerCase()}function Ne(e){return!1===e||null==e?e:q.isArray(e)?e.map(Ne):String(e)}function we(e,t,s,a,r){return q.isFunction(a)?a.call(this,t,s):(r&&(t=s),q.isString(t)?q.isString(a)?-1!==t.indexOf(a):q.isRegExp(a)?a.test(t):void 0:void 0)}class _e{constructor(e){e&&this.set(e)}set(e,t,s){const a=this;function r(e,t,s){const r=je(t);if(!r)throw new Error("header name must be a non-empty string");const n=q.findKey(a,r);(!n||void 0===a[n]||!0===s||void 0===s&&!1!==a[n])&&(a[n||t]=Ne(e))}const n=(e,t)=>q.forEach(e,(e,s)=>r(e,s,t));if(q.isPlainObject(e)||e instanceof this.constructor)n(e,t);else if(q.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))n((e=>{const t={};let s,a,r;return e&&e.split("\n").forEach(function(e){r=e.indexOf(":"),s=e.substring(0,r).trim().toLowerCase(),a=e.substring(r+1).trim(),!s||t[s]&&ve[s]||("set-cookie"===s?t[s]?t[s].push(a):t[s]=[a]:t[s]=t[s]?t[s]+", "+a:a)}),t})(e),t);else if(q.isObject(e)&&q.isIterable(e)){let s,a,r={};for(const t of e){if(!q.isArray(t))throw TypeError("Object iterator must return a key-value pair");r[a=t[0]]=(s=r[a])?q.isArray(s)?[...s,t[1]]:[s,t[1]]:t[1]}n(r,t)}else null!=e&&r(t,e,s);return this}get(e,t){if(e=je(e)){const s=q.findKey(this,e);if(s){const e=this[s];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=s.exec(e);)t[a[1]]=a[2];return t}(e);if(q.isFunction(t))return t.call(this,e,s);if(q.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=je(e)){const s=q.findKey(this,e);return!(!s||void 0===this[s]||t&&!we(0,this[s],s,t))}return!1}delete(e,t){const s=this;let a=!1;function r(e){if(e=je(e)){const r=q.findKey(s,e);!r||t&&!we(0,s[r],r,t)||(delete s[r],a=!0)}}return q.isArray(e)?e.forEach(r):r(e),a}clear(e){const t=Object.keys(this);let s=t.length,a=!1;for(;s--;){const r=t[s];e&&!we(0,this[r],r,e,!0)||(delete this[r],a=!0)}return a}normalize(e){const t=this,s={};return q.forEach(this,(a,r)=>{const n=q.findKey(s,r);if(n)return t[n]=Ne(a),void delete t[r];const l=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}(r):String(r).trim();l!==r&&delete t[r],t[l]=Ne(a),s[l]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return q.forEach(this,(s,a)=>{null!=s&&!1!==s&&(t[a]=e&&q.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,s]=e;return t+": "+s}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var s=arguments.length,a=new Array(s>1?s-1:0),r=1;r<s;r++)a[r-1]=arguments[r];return a.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[ye]=this[ye]={accessors:{}}).accessors,s=this.prototype;function a(e){const a=je(e);t[a]||(!function(e,t){const s=q.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+s,{value:function(e,s,r){return this[a].call(this,t,e,s,r)},configurable:!0})})}(s,e),t[a]=!0)}return q.isArray(e)?e.forEach(a):a(e),this}}_e.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),q.reduceDescriptors(_e.prototype,(e,t)=>{let{value:s}=e,a=t[0].toUpperCase()+t.slice(1);return{get:()=>s,set(e){this[a]=e}}}),q.freezeMethods(_e);const ke=_e;function Se(e,t){const s=this||be,a=t||s,r=ke.from(a.headers);let n=a.data;return q.forEach(e,function(e){n=e.call(s,n,r.normalize(),t?t.status:void 0)}),r.normalize(),n}function Ce(e){return!(!e||!e.__CANCEL__)}function Ae(e,t,s){$.call(this,null==e?"canceled":e,$.ERR_CANCELED,t,s),this.name="CanceledError"}q.inherits(Ae,$,{__CANCEL__:!0});const Ee=Ae;function Te(e,t,s){const a=s.config.validateStatus;s.status&&a&&!a(s.status)?t(new $("Request failed with status code "+s.status,[$.ERR_BAD_REQUEST,$.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s)):e(s)}const Pe=function(e,t){e=e||10;const s=new Array(e),a=new Array(e);let r,n=0,l=0;return t=void 0!==t?t:1e3,function(i){const o=Date.now(),c=a[l];r||(r=o),s[n]=i,a[n]=o;let d=l,u=0;for(;d!==n;)u+=s[d++],d%=e;if(n=(n+1)%e,n===l&&(l=(l+1)%e),o-r<t)return;const m=c&&o-c;return m?Math.round(1e3*u/m):void 0}};const De=function(e,t){let s,a,r=0,n=1e3/t;const l=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();r=n,s=null,a&&(clearTimeout(a),a=null),e(...t)};return[function(){const e=Date.now(),t=e-r;for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];t>=n?l(o,e):(s=o,a||(a=setTimeout(()=>{a=null,l(s)},n-t)))},()=>s&&l(s)]},Me=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,a=0;const r=Pe(50,250);return De(s=>{const n=s.loaded,l=s.lengthComputable?s.total:void 0,i=n-a,o=r(i);a=n;e({loaded:n,total:l,progress:l?n/l:void 0,bytes:i,rate:o||void 0,estimated:o&&l&&n<=l?(l-n)/o:void 0,event:s,lengthComputable:null!=l,[t?"download":"upload"]:!0})},s)},Re=(e,t)=>{const s=null!=e;return[a=>t[0]({lengthComputable:s,total:e,loaded:a}),t[1]]},Le=e=>function(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return q.asap(()=>e(...s))},Fe=pe.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,pe.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(pe.origin),pe.navigator&&/(msie|trident)/i.test(pe.navigator.userAgent)):()=>!0,Oe=pe.hasStandardBrowserEnv?{write(e,t,s,a,r,n){const l=[e+"="+encodeURIComponent(t)];q.isNumber(s)&&l.push("expires="+new Date(s).toGMTString()),q.isString(a)&&l.push("path="+a),q.isString(r)&&l.push("domain="+r),!0===n&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Ie(e,t,s){let a=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(a||0==s)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const ze=e=>e instanceof ke?(0,oe.A)({},e):e;function Be(e,t){t=t||{};const s={};function a(e,t,s,a){return q.isPlainObject(e)&&q.isPlainObject(t)?q.merge.call({caseless:a},e,t):q.isPlainObject(t)?q.merge({},t):q.isArray(t)?t.slice():t}function r(e,t,s,r){return q.isUndefined(t)?q.isUndefined(e)?void 0:a(void 0,e,0,r):a(e,t,0,r)}function n(e,t){if(!q.isUndefined(t))return a(void 0,t)}function l(e,t){return q.isUndefined(t)?q.isUndefined(e)?void 0:a(void 0,e):a(void 0,t)}function i(s,r,n){return n in t?a(s,r):n in e?a(void 0,s):void 0}const o={url:n,method:n,data:n,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:i,headers:(e,t,s)=>r(ze(e),ze(t),0,!0)};return q.forEach(Object.keys((0,oe.A)((0,oe.A)({},e),t)),function(a){const n=o[a]||r,l=n(e[a],t[a],a);q.isUndefined(l)&&n!==i||(s[a]=l)}),s}const Ue=e=>{const t=Be({},e);let{data:s,withXSRFToken:a,xsrfHeaderName:r,xsrfCookieName:n,headers:l,auth:i}=t;if(t.headers=l=ke.from(l),t.url=ne(Ie(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),i&&l.set("Authorization","Basic "+btoa((i.username||"")+":"+(i.password?unescape(encodeURIComponent(i.password)):""))),q.isFormData(s))if(pe.hasStandardBrowserEnv||pe.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(q.isFunction(s.getHeaders)){const e=s.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[s,a]=e;t.includes(s.toLowerCase())&&l.set(s,a)})}if(pe.hasStandardBrowserEnv&&(a&&q.isFunction(a)&&(a=a(t)),a||!1!==a&&Fe(t.url))){const e=r&&n&&Oe.read(n);e&&l.set(r,e)}return t},He="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,s){const a=Ue(e);let r=a.data;const n=ke.from(a.headers).normalize();let l,i,o,c,d,{responseType:u,onUploadProgress:m,onDownloadProgress:x}=a;function h(){c&&c(),d&&d(),a.cancelToken&&a.cancelToken.unsubscribe(l),a.signal&&a.signal.removeEventListener("abort",l)}let p=new XMLHttpRequest;function g(){if(!p)return;const a=ke.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders());Te(function(e){t(e),h()},function(e){s(e),h()},{data:u&&"text"!==u&&"json"!==u?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:a,config:e,request:p}),p=null}p.open(a.method.toUpperCase(),a.url,!0),p.timeout=a.timeout,"onloadend"in p?p.onloadend=g:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(g)},p.onabort=function(){p&&(s(new $("Request aborted",$.ECONNABORTED,e,p)),p=null)},p.onerror=function(t){const a=t&&t.message?t.message:"Network Error",r=new $(a,$.ERR_NETWORK,e,p);r.event=t||null,s(r),p=null},p.ontimeout=function(){let t=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const r=a.transitional||ie;a.timeoutErrorMessage&&(t=a.timeoutErrorMessage),s(new $(t,r.clarifyTimeoutError?$.ETIMEDOUT:$.ECONNABORTED,e,p)),p=null},void 0===r&&n.setContentType(null),"setRequestHeader"in p&&q.forEach(n.toJSON(),function(e,t){p.setRequestHeader(t,e)}),q.isUndefined(a.withCredentials)||(p.withCredentials=!!a.withCredentials),u&&"json"!==u&&(p.responseType=a.responseType),x&&([o,d]=Me(x,!0),p.addEventListener("progress",o)),m&&p.upload&&([i,c]=Me(m),p.upload.addEventListener("progress",i),p.upload.addEventListener("loadend",c)),(a.cancelToken||a.signal)&&(l=t=>{p&&(s(!t||t.type?new Ee(null,e,p):t),p.abort(),p=null)},a.cancelToken&&a.cancelToken.subscribe(l),a.signal&&(a.signal.aborted?l():a.signal.addEventListener("abort",l)));const f=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(a.url);f&&-1===pe.protocols.indexOf(f)?s(new $("Unsupported protocol "+f+":",$.ERR_BAD_REQUEST,e)):p.send(r||null)})},We=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let s,a=new AbortController;const r=function(e){if(!s){s=!0,l();const t=e instanceof Error?e:this.reason;a.abort(t instanceof $?t:new Ee(t instanceof Error?t.message:t))}};let n=t&&setTimeout(()=>{n=null,r(new $("timeout ".concat(t," of ms exceeded"),$.ETIMEDOUT))},t);const l=()=>{e&&(n&&clearTimeout(n),n=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(r):e.removeEventListener("abort",r)}),e=null)};e.forEach(e=>e.addEventListener("abort",r));const{signal:i}=a;return i.unsubscribe=()=>q.asap(l),i}};function qe(e,t){this.v=e,this.k=t}function Ve(e){return function(){return new Ge(e.apply(this,arguments))}}function Ge(e){var t,s;function a(t,s){try{var n=e[t](s),l=n.value,i=l instanceof qe;Promise.resolve(i?l.v:l).then(function(s){if(i){var o="return"===t?"return":"next";if(!l.k||s.done)return a(o,s);s=e[o](s).value}r(n.done?"return":"normal",s)},function(e){a("throw",e)})}catch(e){r("throw",e)}}function r(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?a(t.key,t.arg):s=null}this._invoke=function(e,r){return new Promise(function(n,l){var i={key:e,arg:r,resolve:n,reject:l,next:null};s?s=s.next=i:(t=s=i,a(e,r))})},"function"!=typeof e.return&&(this.return=void 0)}function Ye(e){return new qe(e,0)}function $e(e){var t={},s=!1;function a(t,a){return s=!0,a=new Promise(function(s){s(e[t](a))}),{done:!1,value:new qe(a,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return s?(s=!1,e):a("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(s)throw s=!1,e;return a("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return s?(s=!1,e):a("return",e)}),t}function Qe(e){var t,s,a,r=2;for("undefined"!=typeof Symbol&&(s=Symbol.asyncIterator,a=Symbol.iterator);r--;){if(s&&null!=(t=e[s]))return t.call(e);if(a&&null!=(t=e[a]))return new Ke(t.call(e));s="@@asyncIterator",a="@@iterator"}throw new TypeError("Object is not async iterable")}function Ke(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return Ke=function(e){this.s=e,this.n=e.next},Ke.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var s=this.s.return;return void 0===s?Promise.resolve({value:e,done:!0}):t(s.apply(this.s,arguments))},throw:function(e){var s=this.s.return;return void 0===s?Promise.reject(e):t(s.apply(this.s,arguments))}},new Ke(e)}Ge.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Ge.prototype.next=function(e){return this._invoke("next",e)},Ge.prototype.throw=function(e){return this._invoke("throw",e)},Ge.prototype.return=function(e){return this._invoke("return",e)};const Je=function*(e,t){let s=e.byteLength;if(!t||s<t)return void(yield e);let a,r=0;for(;r<s;)a=r+t,yield e.slice(r,a),r=a},Xe=function(){var e=Ve(function*(e,t){var s,a=!1,r=!1;try{for(var n,l=Qe(Ze(e));a=!(n=yield Ye(l.next())).done;a=!1){const e=n.value;yield*$e(Qe(Je(e,t)))}}catch(i){r=!0,s=i}finally{try{a&&null!=l.return&&(yield Ye(l.return()))}finally{if(r)throw s}}});return function(t,s){return e.apply(this,arguments)}}(),Ze=function(){var e=Ve(function*(e){if(e[Symbol.asyncIterator])return void(yield*$e(Qe(e)));const t=e.getReader();try{for(;;){const{done:e,value:s}=yield Ye(t.read());if(e)break;yield s}}finally{yield Ye(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),et=(e,t,s,a)=>{const r=Xe(e,t);let n,l=0,i=e=>{n||(n=!0,a&&a(e))};return new ReadableStream({async pull(e){try{const{done:t,value:a}=await r.next();if(t)return i(),void e.close();let n=a.byteLength;if(s){let e=l+=n;s(e)}e.enqueue(new Uint8Array(a))}catch(t){throw i(t),t}},cancel:e=>(i(e),r.return())},{highWaterMark:2})},{isFunction:tt}=q,st=(e=>{let{Request:t,Response:s}=e;return{Request:t,Response:s}})(q.global),{ReadableStream:at,TextEncoder:rt}=q.global,nt=function(e){try{for(var t=arguments.length,s=new Array(t>1?t-1:0),a=1;a<t;a++)s[a-1]=arguments[a];return!!e(...s)}catch(r){return!1}},lt=e=>{e=q.merge.call({skipUndefined:!0},st,e);const{fetch:t,Request:s,Response:a}=e,r=t?tt(t):"function"===typeof fetch,n=tt(s),l=tt(a);if(!r)return!1;const i=r&&tt(at),o=r&&("function"===typeof rt?(c=new rt,e=>c.encode(e)):async e=>new Uint8Array(await new s(e).arrayBuffer()));var c;const d=n&&i&&nt(()=>{let e=!1;const t=new s(pe.origin,{body:new at,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),u=l&&i&&nt(()=>q.isReadableStream(new a("").body)),m={stream:u&&(e=>e.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!m[e]&&(m[e]=(t,s)=>{let a=t&&t[e];if(a)return a.call(t);throw new $("Response type '".concat(e,"' is not supported"),$.ERR_NOT_SUPPORT,s)})});const x=async(e,t)=>{const a=q.toFiniteNumber(e.getContentLength());return null==a?(async e=>{if(null==e)return 0;if(q.isBlob(e))return e.size;if(q.isSpecCompliantForm(e)){const t=new s(pe.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return q.isArrayBufferView(e)||q.isArrayBuffer(e)?e.byteLength:(q.isURLSearchParams(e)&&(e+=""),q.isString(e)?(await o(e)).byteLength:void 0)})(t):a};return async e=>{let{url:r,method:l,data:i,signal:o,cancelToken:c,timeout:h,onDownloadProgress:p,onUploadProgress:g,responseType:f,headers:b,withCredentials:v="same-origin",fetchOptions:y}=Ue(e),j=t||fetch;f=f?(f+"").toLowerCase():"text";let N=We([o,c&&c.toAbortSignal()],h),w=null;const _=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let k;try{if(g&&d&&"get"!==l&&"head"!==l&&0!==(k=await x(b,i))){let e,t=new s(r,{method:"POST",body:i,duplex:"half"});if(q.isFormData(i)&&(e=t.headers.get("content-type"))&&b.setContentType(e),t.body){const[e,s]=Re(k,Me(Le(g)));i=et(t.body,65536,e,s)}}q.isString(v)||(v=v?"include":"omit");const t=n&&"credentials"in s.prototype,o=(0,oe.A)((0,oe.A)({},y),{},{signal:N,method:l.toUpperCase(),headers:b.normalize().toJSON(),body:i,duplex:"half",credentials:t?v:void 0});w=n&&new s(r,o);let c=await(n?j(w,y):j(r,o));const h=u&&("stream"===f||"response"===f);if(u&&(p||h&&_)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=c[t]});const t=q.toFiniteNumber(c.headers.get("content-length")),[s,r]=p&&Re(t,Me(Le(p),!0))||[];c=new a(et(c.body,65536,s,()=>{r&&r(),_&&_()}),e)}f=f||"text";let S=await m[q.findKey(m,f)||"text"](c,e);return!h&&_&&_(),await new Promise((t,s)=>{Te(t,s,{data:S,headers:ke.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:w})})}catch(S){if(_&&_(),S&&"TypeError"===S.name&&/Load failed|fetch/i.test(S.message))throw Object.assign(new $("Network Error",$.ERR_NETWORK,e,w),{cause:S.cause||S});throw $.from(S,S&&S.code,e,w)}}},it=new Map,ot=e=>{let t=e?e.env:{};const{fetch:s,Request:a,Response:r}=t,n=[a,r,s];let l,i,o=n.length,c=it;for(;o--;)l=n[o],i=c.get(l),void 0===i&&c.set(l,i=o?new Map:lt(t)),c=i;return i},ct=(ot(),{http:null,xhr:He,fetch:{get:ot}});q.forEach(ct,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(s){}Object.defineProperty(e,"adapterName",{value:t})}});const dt=e=>"- ".concat(e),ut=e=>q.isFunction(e)||null===e||!1===e,mt=(e,t)=>{e=q.isArray(e)?e:[e];const{length:s}=e;let a,r;const n={};for(let l=0;l<s;l++){let s;if(a=e[l],r=a,!ut(a)&&(r=ct[(s=String(a)).toLowerCase()],void 0===r))throw new $("Unknown adapter '".concat(s,"'"));if(r&&(q.isFunction(r)||(r=r.get(t))))break;n[s||"#"+l]=r}if(!r){const e=Object.entries(n).map(e=>{let[t,s]=e;return"adapter ".concat(t," ")+(!1===s?"is not supported by the environment":"is not available in the build")});let t=s?e.length>1?"since :\n"+e.map(dt).join("\n"):" "+dt(e[0]):"as no adapter specified";throw new $("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return r};function xt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ee(null,e)}function ht(e){xt(e),e.headers=ke.from(e.headers),e.data=Se.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return mt(e.adapter||be.adapter,e)(e).then(function(t){return xt(e),t.data=Se.call(e,e.transformResponse,t),t.headers=ke.from(t.headers),t},function(t){return Ce(t)||(xt(e),t&&t.response&&(t.response.data=Se.call(e,e.transformResponse,t.response),t.response.headers=ke.from(t.response.headers))),Promise.reject(t)})}const pt="1.12.2",gt={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{gt[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const ft={};gt.transitional=function(e,t,s){function a(e,t){return"[Axios v"+pt+"] Transitional option '"+e+"'"+t+(s?". "+s:"")}return(s,r,n)=>{if(!1===e)throw new $(a(r," has been removed"+(t?" in "+t:"")),$.ERR_DEPRECATED);return t&&!ft[r]&&(ft[r]=!0,console.warn(a(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(s,r,n)}},gt.spelling=function(e){return(t,s)=>(console.warn("".concat(s," is likely a misspelling of ").concat(e)),!0)};const bt={assertOptions:function(e,t,s){if("object"!==typeof e)throw new $("options must be an object",$.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let r=a.length;for(;r-- >0;){const n=a[r],l=t[n];if(l){const t=e[n],s=void 0===t||l(t,n,e);if(!0!==s)throw new $("option "+n+" must be "+s,$.ERR_BAD_OPTION_VALUE);continue}if(!0!==s)throw new $("Unknown option "+n,$.ERR_BAD_OPTION)}},validators:gt},vt=bt.validators;class yt{constructor(e){this.defaults=e||{},this.interceptors={request:new le,response:new le}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{s.stack?t&&!String(s.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(s.stack+="\n"+t):s.stack=t}catch(a){}}throw s}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Be(this.defaults,t);const{transitional:s,paramsSerializer:a,headers:r}=t;void 0!==s&&bt.assertOptions(s,{silentJSONParsing:vt.transitional(vt.boolean),forcedJSONParsing:vt.transitional(vt.boolean),clarifyTimeoutError:vt.transitional(vt.boolean)},!1),null!=a&&(q.isFunction(a)?t.paramsSerializer={serialize:a}:bt.assertOptions(a,{encode:vt.function,serialize:vt.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),bt.assertOptions(t,{baseUrl:vt.spelling("baseURL"),withXsrfToken:vt.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let n=r&&q.merge(r.common,r[t.method]);r&&q.forEach(["delete","get","head","post","put","patch","common"],e=>{delete r[e]}),t.headers=ke.concat(n,r);const l=[];let i=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,l.unshift(e.fulfilled,e.rejected))});const o=[];let c;this.interceptors.response.forEach(function(e){o.push(e.fulfilled,e.rejected)});let d,u=0;if(!i){const e=[ht.bind(this),void 0];for(e.unshift(...l),e.push(...o),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=l.length;let m=t;for(;u<d;){const e=l[u++],t=l[u++];try{m=e(m)}catch(x){t.call(this,x);break}}try{c=ht.call(this,m)}catch(x){return Promise.reject(x)}for(u=0,d=o.length;u<d;)c=c.then(o[u++],o[u++]);return c}getUri(e){return ne(Ie((e=Be(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}q.forEach(["delete","get","head","options"],function(e){yt.prototype[e]=function(t,s){return this.request(Be(s||{},{method:e,url:t,data:(s||{}).data}))}}),q.forEach(["post","put","patch"],function(e){function t(t){return function(s,a,r){return this.request(Be(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}yt.prototype[e]=t(),yt.prototype[e+"Form"]=t(!0)});const jt=yt;class Nt{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const s=this;this.promise.then(e=>{if(!s._listeners)return;let t=s._listeners.length;for(;t-- >0;)s._listeners[t](e);s._listeners=null}),this.promise.then=e=>{let t;const a=new Promise(e=>{s.subscribe(e),t=e}).then(e);return a.cancel=function(){s.unsubscribe(t)},a},e(function(e,a,r){s.reason||(s.reason=new Ee(e,a,r),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Nt(function(t){e=t}),cancel:e}}}const wt=Nt;const _t={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(_t).forEach(e=>{let[t,s]=e;_t[s]=t});const kt=_t;const St=function e(t){const s=new jt(t),a=r(jt.prototype.request,s);return q.extend(a,jt.prototype,s,{allOwnKeys:!0}),q.extend(a,s,null,{allOwnKeys:!0}),a.create=function(s){return e(Be(t,s))},a}(be);St.Axios=jt,St.CanceledError=Ee,St.CancelToken=wt,St.isCancel=Ce,St.VERSION=pt,St.toFormData=Z,St.AxiosError=$,St.Cancel=St.CanceledError,St.all=function(e){return Promise.all(e)},St.spread=function(e){return function(t){return e.apply(null,t)}},St.isAxiosError=function(e){return q.isObject(e)&&!0===e.isAxiosError},St.mergeConfig=Be,St.AxiosHeaders=ke,St.formToJSON=e=>ge(q.isHTMLForm(e)?new FormData(e):e),St.getAdapter=mt,St.HttpStatusCode=kt,St.default=St;const Ct=St},9812:(e,t,s)=>{var a=s(6552).Symbol;e.exports=a},9841:(e,t,s)=>{var a=s(6913),r=s(2761);e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==a(e)}},9853:(e,t,s)=>{var a=s(6989);e.exports=function(e,t){return a(e,t)}},9935:(e,t,s)=>{var a=s(1340),r=Array.prototype.splice;e.exports=function(e){var t=this.__data__,s=a(t,e);return!(s<0)&&(s==t.length-1?t.pop():r.call(t,s,1),--this.size,!0)}},9987:(e,t,s)=>{var a=s(9812),r=s(2929),n=s(3211),l=s(3668),i=s(4160),o=s(2074),c=a?a.prototype:void 0,d=c?c.valueOf:void 0;e.exports=function(e,t,s,a,c,u,m){switch(s){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!u(new r(e),new r(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return n(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var x=i;case"[object Set]":var h=1&a;if(x||(x=o),e.size!=t.size&&!h)return!1;var p=m.get(e);if(p)return p==t;a|=2,m.set(e,t);var g=l(x(e),x(t),a,c,u,m);return m.delete(e),g;case"[object Symbol]":if(d)return d.call(e)==d.call(t)}return!1}}},t={};function s(a){var r=t[a];if(void 0!==r)return r.exports;var n=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.m=e,s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;s.t=function(a,r){if(1&r&&(a=this(a)),8&r)return a;if("object"===typeof a&&a){if(4&r&&a.__esModule)return a;if(16&r&&"function"===typeof a.then)return a}var n=Object.create(null);s.r(n);var l={};e=e||[null,t({}),t([]),t(t)];for(var i=2&r&&a;("object"==typeof i||"function"==typeof i)&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach(e=>l[e]=()=>a[e]);return l.default=()=>a,s.d(n,l),n}})(),s.d=(e,t)=>{for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce((t,a)=>(s.f[a](e,t),t),[])),s.u=e=>"static/js/"+e+".d456ce70.chunk.js",s.miniCssF=e=>{},s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="client:";s.l=(a,r,n,l)=>{if(e[a])e[a].push(r);else{var i,o;if(void 0!==n)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==a||u.getAttribute("data-webpack")==t+n){i=u;break}}i||(o=!0,(i=document.createElement("script")).charset="utf-8",s.nc&&i.setAttribute("nonce",s.nc),i.setAttribute("data-webpack",t+n),i.src=a),e[a]=[r];var m=(t,s)=>{i.onerror=i.onload=null,clearTimeout(x);var r=e[a];if(delete e[a],i.parentNode&&i.parentNode.removeChild(i),r&&r.forEach(e=>e(s)),t)return t(s)},x=setTimeout(m.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=m.bind(null,i.onerror),i.onload=m.bind(null,i.onload),o&&document.head.appendChild(i)}}})(),s.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),s.p="/",(()=>{var e={792:0};s.f.j=(t,a)=>{var r=s.o(e,t)?e[t]:void 0;if(0!==r)if(r)a.push(r[2]);else{var n=new Promise((s,a)=>r=e[t]=[s,a]);a.push(r[2]=n);var l=s.p+s.u(t),i=new Error;s.l(l,a=>{if(s.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var n=a&&("load"===a.type?"missing":a.type),l=a&&a.target&&a.target.src;i.message="Loading chunk "+t+" failed.\n("+n+": "+l+")",i.name="ChunkLoadError",i.type=n,i.request=l,r[1](i)}},"chunk-"+t,t)}};var t=(t,a)=>{var r,n,[l,i,o]=a,c=0;if(l.some(t=>0!==e[t])){for(r in i)s.o(i,r)&&(s.m[r]=i[r]);if(o)o(s)}for(t&&t(a);c<l.length;c++)n=l[c],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0},a=self.webpackChunkclient=self.webpackChunkclient||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})(),(()=>{"use strict";var e={};s.r(e),s.d(e,{add:()=>Oi,century:()=>no,date:()=>to,day:()=>eo,decade:()=>ro,diff:()=>io,endOf:()=>Bi,eq:()=>Ui,gt:()=>Wi,gte:()=>qi,hours:()=>Zi,inRange:()=>Qi,lt:()=>Vi,lte:()=>Gi,max:()=>$i,milliseconds:()=>Ki,min:()=>Yi,minutes:()=>Xi,month:()=>so,neq:()=>Hi,seconds:()=>Ji,startOf:()=>zi,subtract:()=>Ii,weekday:()=>lo,year:()=>ao});var t,a=s(5043),r=s.t(a,2),n=s(4391);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const i="popstate";function o(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function c(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Zp){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function u(e,t,s,a){return void 0===s&&(s=null),l({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?x(t):t,{state:s,key:t&&t.key||a||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:s="",hash:a=""}=e;return s&&"?"!==s&&(t+="?"===s.charAt(0)?s:"?"+s),a&&"#"!==a&&(t+="#"===a.charAt(0)?a:"#"+a),t}function x(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function h(e,s,a,r){void 0===r&&(r={});let{window:n=document.defaultView,v5Compat:c=!1}=r,x=n.history,h=t.Pop,p=null,g=f();function f(){return(x.state||{idx:null}).idx}function b(){h=t.Pop;let e=f(),s=null==e?null:e-g;g=e,p&&p({action:h,location:y.location,delta:s})}function v(e){let t="null"!==n.location.origin?n.location.origin:n.location.href,s="string"===typeof e?e:m(e);return s=s.replace(/ $/,"%20"),o(t,"No window.location.(origin|href) available to create URL for href: "+s),new URL(s,t)}null==g&&(g=0,x.replaceState(l({},x.state,{idx:g}),""));let y={get action(){return h},get location(){return e(n,x)},listen(e){if(p)throw new Error("A history only accepts one active listener");return n.addEventListener(i,b),p=e,()=>{n.removeEventListener(i,b),p=null}},createHref:e=>s(n,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,s){h=t.Push;let r=u(y.location,e,s);a&&a(r,e),g=f()+1;let l=d(r,g),i=y.createHref(r);try{x.pushState(l,"",i)}catch(o){if(o instanceof DOMException&&"DataCloneError"===o.name)throw o;n.location.assign(i)}c&&p&&p({action:h,location:y.location,delta:1})},replace:function(e,s){h=t.Replace;let r=u(y.location,e,s);a&&a(r,e),g=f();let n=d(r,g),l=y.createHref(r);x.replaceState(n,"",l),c&&p&&p({action:h,location:y.location,delta:0})},go:e=>x.go(e)};return y}var p;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(p||(p={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function g(e,t,s){return void 0===s&&(s="/"),f(e,t,s,!1)}function f(e,t,s,a){let r=P(("string"===typeof t?x(t):t).pathname||"/",s);if(null==r)return null;let n=b(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let s=e.length===t.length&&e.slice(0,-1).every((e,s)=>e===t[s]);return s?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(n);let l=null;for(let i=0;null==l&&i<n.length;++i){let e=T(r);l=A(n[i],e,a)}return l}function b(e,t,s,a){void 0===t&&(t=[]),void 0===s&&(s=[]),void 0===a&&(a="");let r=(e,r,n)=>{let l={relativePath:void 0===n?e.path||"":n,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};l.relativePath.startsWith("/")&&(o(l.relativePath.startsWith(a),'Absolute route path "'+l.relativePath+'" nested under path "'+a+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),l.relativePath=l.relativePath.slice(a.length));let i=F([a,l.relativePath]),c=s.concat(l);e.children&&e.children.length>0&&(o(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+i+'".'),b(e.children,t,c,i)),(null!=e.path||e.index)&&t.push({path:i,score:C(i,e.index),routesMeta:c})};return e.forEach((e,t)=>{var s;if(""!==e.path&&null!=(s=e.path)&&s.includes("?"))for(let a of v(e.path))r(e,t,a);else r(e,t)}),t}function v(e){let t=e.split("/");if(0===t.length)return[];let[s,...a]=t,r=s.endsWith("?"),n=s.replace(/\?$/,"");if(0===a.length)return r?[n,""]:[n];let l=v(a.join("/")),i=[];return i.push(...l.map(e=>""===e?n:[n,e].join("/"))),r&&i.push(...l),i.map(t=>e.startsWith("/")&&""===t?"/":t)}const y=/^:[\w-]+$/,j=3,N=2,w=1,_=10,k=-2,S=e=>"*"===e;function C(e,t){let s=e.split("/"),a=s.length;return s.some(S)&&(a+=k),t&&(a+=N),s.filter(e=>!S(e)).reduce((e,t)=>e+(y.test(t)?j:""===t?w:_),a)}function A(e,t,s){void 0===s&&(s=!1);let{routesMeta:a}=e,r={},n="/",l=[];for(let i=0;i<a.length;++i){let e=a[i],o=i===a.length-1,c="/"===n?t:t.slice(n.length)||"/",d=E({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},c),u=e.route;if(!d&&o&&s&&!a[a.length-1].route.index&&(d=E({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(r,d.params),l.push({params:r,pathname:F([n,d.pathname]),pathnameBase:O(F([n,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(n=F([n,d.pathnameBase]))}return l}function E(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[s,a]=function(e,t,s){void 0===t&&(t=!1);void 0===s&&(s=!0);c("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let a=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,s)=>(a.push({paramName:t,isOptional:null!=s}),s?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(a.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");let n=new RegExp(r,t?void 0:"i");return[n,a]}(e.path,e.caseSensitive,e.end),r=t.match(s);if(!r)return null;let n=r[0],l=n.replace(/(.)\/+$/,"$1"),i=r.slice(1);return{params:a.reduce((e,t,s)=>{let{paramName:a,isOptional:r}=t;if("*"===a){let e=i[s]||"";l=n.slice(0,n.length-e.length).replace(/(.)\/+$/,"$1")}const o=i[s];return e[a]=r&&!o?void 0:(o||"").replace(/%2F/g,"/"),e},{}),pathname:n,pathnameBase:l,pattern:e}}function T(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return c(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,a=e.charAt(s);return a&&"/"!==a?null:e.slice(s)||"/"}function D(e,t,s,a){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the `to."+s+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function M(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function R(e,t){let s=M(e);return t?s.map((e,t)=>t===s.length-1?e.pathname:e.pathnameBase):s.map(e=>e.pathnameBase)}function L(e,t,s,a){let r;void 0===a&&(a=!1),"string"===typeof e?r=x(e):(r=l({},e),o(!r.pathname||!r.pathname.includes("?"),D("?","pathname","search",r)),o(!r.pathname||!r.pathname.includes("#"),D("#","pathname","hash",r)),o(!r.search||!r.search.includes("#"),D("#","search","hash",r)));let n,i=""===e||""===r.pathname,c=i?"/":r.pathname;if(null==c)n=s;else{let e=t.length-1;if(!a&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}n=e>=0?t[e]:"/"}let d=function(e,t){void 0===t&&(t="/");let{pathname:s,search:a="",hash:r=""}="string"===typeof e?x(e):e,n=s?s.startsWith("/")?s:function(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?s.length>1&&s.pop():"."!==e&&s.push(e)}),s.length>1?s.join("/"):"/"}(s,t):t;return{pathname:n,search:I(a),hash:z(r)}}(r,n),u=c&&"/"!==c&&c.endsWith("/"),m=(i||"."===c)&&s.endsWith("/");return d.pathname.endsWith("/")||!u&&!m||(d.pathname+="/"),d}const F=e=>e.join("/").replace(/\/\/+/g,"/"),O=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),I=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function B(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const U=["post","put","patch","delete"],H=(new Set(U),["get",...U]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},W.apply(this,arguments)}const q=a.createContext(null);const V=a.createContext(null);const G=a.createContext(null);const Y=a.createContext(null);const $=a.createContext({outlet:null,matches:[],isDataRoute:!1});const Q=a.createContext(null);function K(){return null!=a.useContext(Y)}function J(){return K()||o(!1),a.useContext(Y).location}function X(e){a.useContext(G).static||a.useLayoutEffect(e)}function Z(){let{isDataRoute:e}=a.useContext($);return e?function(){let{router:e}=de(oe.UseNavigateStable),t=me(ce.UseNavigateStable),s=a.useRef(!1);X(()=>{s.current=!0});let r=a.useCallback(function(a,r){void 0===r&&(r={}),s.current&&("number"===typeof a?e.navigate(a):e.navigate(a,W({fromRouteId:t},r)))},[e,t]);return r}():function(){K()||o(!1);let e=a.useContext(q),{basename:t,future:s,navigator:r}=a.useContext(G),{matches:n}=a.useContext($),{pathname:l}=J(),i=JSON.stringify(R(n,s.v7_relativeSplatPath)),c=a.useRef(!1);X(()=>{c.current=!0});let d=a.useCallback(function(s,a){if(void 0===a&&(a={}),!c.current)return;if("number"===typeof s)return void r.go(s);let n=L(s,JSON.parse(i),l,"path"===a.relative);null==e&&"/"!==t&&(n.pathname="/"===n.pathname?t:F([t,n.pathname])),(a.replace?r.replace:r.push)(n,a.state,a)},[t,r,i,l,e]);return d}()}function ee(){let{matches:e}=a.useContext($),t=e[e.length-1];return t?t.params:{}}function te(e,t){let{relative:s}=void 0===t?{}:t,{future:r}=a.useContext(G),{matches:n}=a.useContext($),{pathname:l}=J(),i=JSON.stringify(R(n,r.v7_relativeSplatPath));return a.useMemo(()=>L(e,JSON.parse(i),l,"path"===s),[e,i,l,s])}function se(e,s,r,n){K()||o(!1);let{navigator:l}=a.useContext(G),{matches:i}=a.useContext($),c=i[i.length-1],d=c?c.params:{},u=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let m,h=J();if(s){var p;let e="string"===typeof s?x(s):s;"/"===u||(null==(p=e.pathname)?void 0:p.startsWith(u))||o(!1),m=e}else m=h;let f=m.pathname||"/",b=f;if("/"!==u){let e=u.replace(/^\//,"").split("/");b="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=g(e,{pathname:b});let y=ie(v&&v.map(e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:F([u,l.encodeLocation?l.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:F([u,l.encodeLocation?l.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),i,r,n);return s&&y?a.createElement(Y.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:t.Pop}},y):y}function ae(){let e=function(){var e;let t=a.useContext(Q),s=ue(ce.UseRouteError),r=me(ce.UseRouteError);if(void 0!==t)return t;return null==(e=s.errors)?void 0:e[r]}(),t=B(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",n={padding:"0.5rem",backgroundColor:r};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),s?a.createElement("pre",{style:n},s):null,null)}const re=a.createElement(ae,null);class ne extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?a.createElement($.Provider,{value:this.props.routeContext},a.createElement(Q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function le(e){let{routeContext:t,match:s,children:r}=e,n=a.useContext(q);return n&&n.static&&n.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=s.route.id),a.createElement($.Provider,{value:t},r)}function ie(e,t,s,r){var n;if(void 0===t&&(t=[]),void 0===s&&(s=null),void 0===r&&(r=null),null==e){var l;if(!s)return null;if(s.errors)e=s.matches;else{if(!(null!=(l=r)&&l.v7_partialHydration&&0===t.length&&!s.initialized&&s.matches.length>0))return null;e=s.matches}}let i=e,c=null==(n=s)?void 0:n.errors;if(null!=c){let e=i.findIndex(e=>e.route.id&&void 0!==(null==c?void 0:c[e.route.id]));e>=0||o(!1),i=i.slice(0,Math.min(i.length,e+1))}let d=!1,u=-1;if(s&&r&&r.v7_partialHydration)for(let a=0;a<i.length;a++){let e=i[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=a),e.route.id){let{loaderData:t,errors:a}=s,r=e.route.loader&&void 0===t[e.route.id]&&(!a||void 0===a[e.route.id]);if(e.route.lazy||r){d=!0,i=u>=0?i.slice(0,u+1):[i[0]];break}}}return i.reduceRight((e,r,n)=>{let l,o=!1,m=null,x=null;var h;s&&(l=c&&r.route.id?c[r.route.id]:void 0,m=r.route.errorElement||re,d&&(u<0&&0===n?(h="route-fallback",!1||xe[h]||(xe[h]=!0),o=!0,x=null):u===n&&(o=!0,x=r.route.hydrateFallbackElement||null)));let p=t.concat(i.slice(0,n+1)),g=()=>{let t;return t=l?m:o?x:r.route.Component?a.createElement(r.route.Component,null):r.route.element?r.route.element:e,a.createElement(le,{match:r,routeContext:{outlet:e,matches:p,isDataRoute:null!=s},children:t})};return s&&(r.route.ErrorBoundary||r.route.errorElement||0===n)?a.createElement(ne,{location:s.location,revalidation:s.revalidation,component:m,error:l,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}var oe=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(oe||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function de(e){let t=a.useContext(q);return t||o(!1),t}function ue(e){let t=a.useContext(V);return t||o(!1),t}function me(e){let t=function(){let e=a.useContext($);return e||o(!1),e}(),s=t.matches[t.matches.length-1];return s.route.id||o(!1),s.route.id}const xe={};function he(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}r.startTransition;function pe(e){let{to:t,replace:s,state:r,relative:n}=e;K()||o(!1);let{future:l,static:i}=a.useContext(G),{matches:c}=a.useContext($),{pathname:d}=J(),u=Z(),m=L(t,R(c,l.v7_relativeSplatPath),d,"path"===n),x=JSON.stringify(m);return a.useEffect(()=>u(JSON.parse(x),{replace:s,state:r,relative:n}),[u,x,n,s,r]),null}function ge(e){o(!1)}function fe(e){let{basename:s="/",children:r=null,location:n,navigationType:l=t.Pop,navigator:i,static:c=!1,future:d}=e;K()&&o(!1);let u=s.replace(/^\/*/,"/"),m=a.useMemo(()=>({basename:u,navigator:i,static:c,future:W({v7_relativeSplatPath:!1},d)}),[u,d,i,c]);"string"===typeof n&&(n=x(n));let{pathname:h="/",search:p="",hash:g="",state:f=null,key:b="default"}=n,v=a.useMemo(()=>{let e=P(h,u);return null==e?null:{location:{pathname:e,search:p,hash:g,state:f,key:b},navigationType:l}},[u,h,p,g,f,b,l]);return null==v?null:a.createElement(G.Provider,{value:m},a.createElement(Y.Provider,{children:r,value:v}))}function be(e){let{children:t,location:s}=e;return se(ve(t),s)}new Promise(()=>{});a.Component;function ve(e,t){void 0===t&&(t=[]);let s=[];return a.Children.forEach(e,(e,r)=>{if(!a.isValidElement(e))return;let n=[...t,r];if(e.type===a.Fragment)return void s.push.apply(s,ve(e.props.children,n));e.type!==ge&&o(!1),e.props.index&&e.props.children&&o(!1);let l={id:e.props.id||n.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(l.children=ve(e.props.children,n)),s.push(l)}),s}var ye=s(7950),je=s.t(ye,2);function Ne(){return Ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Ne.apply(this,arguments)}function we(e,t){if(null==e)return{};var s,a,r={},n=Object.keys(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||(r[s]=e[s]);return r}function _e(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,s)=>{let a=e[s];return t.concat(Array.isArray(a)?a.map(e=>[s,e]):[[s,a]])},[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const ke=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Zp){}new Map;const Se=r.startTransition;je.flushSync,r.useId;function Ce(e){let{basename:t,children:s,future:r,window:n}=e,l=a.useRef();null==l.current&&(l.current=function(e){return void 0===e&&(e={}),h(function(e,t){let{pathname:s="/",search:a="",hash:r=""}=x(e.location.hash.substr(1));return s.startsWith("/")||s.startsWith(".")||(s="/"+s),u("",{pathname:s,search:a,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let s=e.document.querySelector("base"),a="";if(s&&s.getAttribute("href")){let t=e.location.href,s=t.indexOf("#");a=-1===s?t:t.slice(0,s)}return a+"#"+("string"===typeof t?t:m(t))},function(e,t){c("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")},e)}({window:n,v5Compat:!0}));let i=l.current,[o,d]=a.useState({action:i.action,location:i.location}),{v7_startTransition:p}=r||{},g=a.useCallback(e=>{p&&Se?Se(()=>d(e)):d(e)},[d,p]);return a.useLayoutEffect(()=>i.listen(g),[i,g]),a.useEffect(()=>he(r),[r]),a.createElement(fe,{basename:t,children:s,location:o.location,navigationType:o.action,navigator:i,future:r})}const Ae="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Te=a.forwardRef(function(e,t){let s,{onClick:r,relative:n,reloadDocument:l,replace:i,state:c,target:d,to:u,preventScrollReset:x,viewTransition:h}=e,p=we(e,ke),{basename:g}=a.useContext(G),f=!1;if("string"===typeof u&&Ee.test(u)&&(s=u,Ae))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),s=P(t.pathname,g);t.origin===e.origin&&null!=s?u=s+t.search+t.hash:f=!0}catch(Zp){}let b=function(e,t){let{relative:s}=void 0===t?{}:t;K()||o(!1);let{basename:r,navigator:n}=a.useContext(G),{hash:l,pathname:i,search:c}=te(e,{relative:s}),d=i;return"/"!==r&&(d="/"===i?r:F([r,i])),n.createHref({pathname:d,search:c,hash:l})}(u,{relative:n}),v=function(e,t){let{target:s,replace:r,state:n,preventScrollReset:l,relative:i,viewTransition:o}=void 0===t?{}:t,c=Z(),d=J(),u=te(e,{relative:i});return a.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,s)){t.preventDefault();let s=void 0!==r?r:m(d)===m(u);c(e,{replace:s,state:n,preventScrollReset:l,relative:i,viewTransition:o})}},[d,c,u,r,n,s,e,l,i,o])}(u,{replace:i,state:c,target:d,preventScrollReset:x,relative:n,viewTransition:h});return a.createElement("a",Ne({},p,{href:s||b,onClick:f||l?r:function(e){r&&r(e),e.defaultPrevented||v(e)},ref:t,target:d}))});var Pe,De;function Me(e){let t=a.useRef(_e(e)),s=a.useRef(!1),r=J(),n=a.useMemo(()=>function(e,t){let s=_e(e);return t&&t.forEach((e,a)=>{s.has(a)||t.getAll(a).forEach(e=>{s.append(a,e)})}),s}(r.search,s.current?null:t.current),[r.search]),l=Z(),i=a.useCallback((e,t)=>{const a=_e("function"===typeof e?e(n):e);s.current=!0,l("?"+a,t)},[l,n]);return[n,i]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Pe||(Pe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(De||(De={}));var Re=s(9379);function Le(e,t){if(null==e)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;s[a]=e[a]}return s}function Fe(e,t){if(null==e)return{};var s,a,r=Le(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)s=n[a],-1===t.indexOf(s)&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}const Oe=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Ie=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>Boolean(e)&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()};var ze={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Be=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],Ue=(0,a.forwardRef)((e,t)=>{let{color:s="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:l,className:i="",children:o,iconNode:c}=e,d=Fe(e,Be);return(0,a.createElement)("svg",(0,Re.A)((0,Re.A)((0,Re.A)({ref:t},ze),{},{width:r,height:r,stroke:s,strokeWidth:l?24*Number(n)/Number(r):n,className:Ie("lucide",i)},!o&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(d)&&{"aria-hidden":"true"}),d),[...c.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(o)?o:[o]])}),He=["className"],We=(e,t)=>{const s=(0,a.forwardRef)((s,r)=>{let{className:n}=s,l=Fe(s,He);return(0,a.createElement)(Ue,(0,Re.A)({ref:r,iconNode:t,className:Ie("lucide-".concat((i=Oe(e),i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),n)},l));var i});return s.displayName=Oe(e),s},qe=We("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]]),Ve=We("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),Ge=We("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Ye=We("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),$e=We("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Qe=We("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ke=We("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]]),Je=We("flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]),Xe=We("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),Ze=We("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),et=We("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var tt=s(6291);let st=function(e){return e.MEMBER="Member",e.ADMIN="Admin",e.CLUB_PRO="Club Pro",e.AMBASSADOR="Ambassador",e.DEACTIVATED="Deactivated",e}({});const at={admin:st.ADMIN,"super admin":st.ADMIN,super_admin:st.ADMIN,clubpro:st.CLUB_PRO,"club pro":st.CLUB_PRO,member:st.MEMBER,ambassador:st.AMBASSADOR,deactivated:st.DEACTIVATED};function rt(e){if(!e)return null;const t=e.trim().toLowerCase();return at[t]||null}function nt(e){if(!e||!e.role)return!1;return rt(e.role)===st.ADMIN}function lt(e){if(!e||!e.role)return!1;return rt(e.role)===st.CLUB_PRO}function it(e){return nt(e)||lt(e)||function(e){return!(!e||!e.role)&&rt(e.role)===st.AMBASSADOR}(e)}function ot(e){switch(rt(e)){case st.ADMIN:return"bg-red-100 text-red-800";case st.AMBASSADOR:return"bg-purple-100 text-purple-800";case st.CLUB_PRO:return"bg-blue-100 text-blue-800";case st.DEACTIVATED:return"bg-gray-100 text-gray-500";case st.MEMBER:default:return"bg-neutral-100 text-neutral-700"}}var ct=s(579);const dt=(0,a.createContext)(void 0),ut=e=>{let{children:t}=e;const[s,r]=(0,a.useState)(null),[n,l]=(0,a.useState)(()=>localStorage.getItem("token")),[i,o]=(0,a.useState)(!0),[c,d]=(0,a.useState)({isActive:!1,originalUser:null,viewAsPermissions:[],viewAsRoles:[],viewAsPrimaryRole:"",viewAsClub:""}),u=nt(s);(0,a.useEffect)(()=>{(async()=>{if(n)try{const t=(await(0,tt.HWG)(n)).data.user;try{const e=await(0,tt.ugE)(t.member_id);r((0,Re.A)((0,Re.A)({},t),{},{roles:e.data.roles,permissions:e.data.permissions,primary_role:e.data.primary_role}))}catch(e){console.error("AuthContext: Failed to fetch permissions:",e),r(t)}}catch(t){console.error("AuthContext: Token validation failed:",t),r(null),l(null),localStorage.removeItem("token")}else r(null);o(!1)})()},[n]);return(0,ct.jsx)(dt.Provider,{value:{user:s,token:n,login:async(e,t)=>{o(!0);try{const a=await(0,tt.iDC)(e,t);l(a.data.token),localStorage.setItem("token",a.data.token);const n=a.data.user;try{const e=await(0,tt.ugE)(n.member_id);r((0,Re.A)((0,Re.A)({},n),{},{roles:e.data.roles,permissions:e.data.permissions,primary_role:e.data.primary_role}))}catch(s){console.error("AuthContext: Failed to fetch permissions:",s),r(n)}}catch(a){throw console.error("AuthContext: Login failed:",a),a}finally{o(!1)}},logout:()=>{r(null),l(null),localStorage.removeItem("token")},loading:i,refreshUser:async()=>{if(n)try{const t=(await(0,tt.HWG)(n)).data.user;try{const e=await(0,tt.ugE)(t.member_id);r((0,Re.A)((0,Re.A)({},t),{},{roles:e.data.roles,permissions:e.data.permissions,primary_role:e.data.primary_role}))}catch(e){console.error("AuthContext: Failed to fetch permissions:",e),r(t)}}catch(t){console.error("AuthContext: Error refreshing user data:",t)}},viewAsMode:c,enterViewAsMode:(e,t,a,n)=>{if(!u)return void console.error("Only admins can enter view-as mode");const l=s,i=(0,Re.A)((0,Re.A)({},l),{},{permissions:e,roles:t,primary_role:a,club:n});d({isActive:!0,originalUser:l,viewAsPermissions:e,viewAsRoles:t,viewAsPrimaryRole:a,viewAsClub:n}),r(i)},exitViewAsMode:()=>{c.isActive&&c.originalUser&&(r(c.originalUser),d({isActive:!1,originalUser:null,viewAsPermissions:[],viewAsRoles:[],viewAsPrimaryRole:"",viewAsClub:""}))},isAdmin:u},children:t})},mt=()=>{const e=(0,a.useContext)(dt);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},xt=()=>{var e,t;const{user:s}=mt();return(0,ct.jsxs)("div",{className:"min-h-screen flex items-center justify-center relative overflow-hidden px-4 py-6 sm:py-8",children:[(0,ct.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,ct.jsx)("div",{className:"absolute top-10 left-4 w-12 h-12 sm:w-16 sm:h-16 md:w-20 md:h-20 bg-brand-neon-green/20 rounded-full animate-pulse"}),(0,ct.jsx)("div",{className:"absolute top-20 right-4 w-8 h-8 sm:w-12 sm:h-12 md:w-16 md:h-16 bg-white/10 rounded-full animate-bounce",style:{animationDelay:"1s"}}),(0,ct.jsx)("div",{className:"absolute bottom-16 left-1/4 w-6 h-6 sm:w-8 sm:h-8 md:w-12 md:h-12 bg-brand-neon-green/30 rounded-full animate-pulse",style:{animationDelay:"2s"}}),(0,ct.jsx)("div",{className:"absolute bottom-24 right-1/3 w-12 h-12 sm:w-16 sm:h-16 md:w-24 md:h-24 bg-white/5 rounded-full animate-pulse",style:{animationDelay:"0.5s"}})]}),(0,ct.jsx)("div",{className:"relative z-10 max-w-5xl mx-auto w-full",children:(0,ct.jsxs)("div",{className:"text-center mb-6 sm:mb-8 md:mb-12",children:[(0,ct.jsx)("div",{className:"mb-4 sm:mb-6 md:mb-8 transform hover:scale-105 transition-transform duration-300",children:(0,ct.jsx)("img",{src:"/logo_full_Light.png",alt:"Neighborhood National Logo",className:"h-16 w-auto sm:h-20 md:h-28 mx-auto drop-shadow-2xl"})}),(0,ct.jsx)("h1",{className:"text-3xl sm:text-4xl md:text-6xl lg:text-7xl font-black text-white mb-3 sm:mb-4 md:mb-6 leading-tight px-2",children:(0,ct.jsx)("span",{className:"bg-gradient-to-r from-brand-neon-green via-white to-brand-neon-green bg-clip-text text-transparent",children:"Player Portal"})}),(0,ct.jsxs)("p",{className:"text-base sm:text-lg md:text-2xl lg:text-3xl text-white/80 mb-4 sm:mb-6 md:mb-8 max-w-3xl mx-auto leading-relaxed px-4",children:["Your ",(0,ct.jsx)("span",{className:"text-brand-neon-green font-bold",children:"simulator rounds"})," now have a home.",(0,ct.jsx)("br",{className:"hidden sm:block"}),"Track, compete, and connect across all clubs."]}),(0,ct.jsxs)("div",{className:"flex flex-col sm:flex-row md:grid md:grid-cols-3 gap-3 sm:gap-4 md:gap-6 mb-6 sm:mb-8 md:mb-12 max-w-4xl mx-auto px-4",children:[(0,ct.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 sm:p-6 border border-white/20 hover:bg-white/15 transition-all duration-300 group",children:[(0,ct.jsx)(Je,{className:"w-6 h-6 sm:w-8 sm:h-8 md:w-12 md:h-12 text-brand-neon-green mx-auto mb-2 sm:mb-3 md:mb-4 group-hover:scale-110 transition-transform"}),(0,ct.jsx)("h3",{className:"text-white font-bold text-sm sm:text-base md:text-lg mb-1 sm:mb-2",children:"Track Rounds"}),(0,ct.jsx)("p",{className:"text-white/70 text-xs sm:text-sm",children:"Log every simulator session with detailed scoring"})]}),(0,ct.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 sm:p-6 border border-white/20 hover:bg-white/15 transition-all duration-300 group",children:[(0,ct.jsx)(Ye,{className:"w-6 h-6 sm:w-8 sm:h-8 md:w-12 md:h-12 text-brand-neon-green mx-auto mb-2 sm:mb-3 md:mb-4 group-hover:scale-110 transition-transform"}),(0,ct.jsx)("h3",{className:"text-white font-bold text-sm sm:text-base md:text-lg mb-1 sm:mb-2",children:"Club Activity"}),(0,ct.jsx)("p",{className:"text-white/70 text-xs sm:text-sm",children:"See what's happening across all locations"})]}),(0,ct.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 sm:p-6 border border-white/20 hover:bg-white/15 transition-all duration-300 group",children:[(0,ct.jsx)(Xe,{className:"w-6 h-6 sm:w-8 sm:h-8 md:w-12 md:h-12 text-brand-neon-green mx-auto mb-2 sm:mb-3 md:mb-4 group-hover:scale-110 transition-transform"}),(0,ct.jsx)("h3",{className:"text-white font-bold text-sm sm:text-base md:text-lg mb-1 sm:mb-2",children:"Stay Connected"}),(0,ct.jsx)("p",{className:"text-white/70 text-xs sm:text-sm",children:"Compete and socialize with fellow members"})]})]}),(0,ct.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 md:gap-6 justify-center items-center px-4",children:[(0,ct.jsx)(Te,{to:s?"/profile":"/claim-account",className:"group transform hover:scale-105 transition-all duration-300 w-full sm:w-auto",children:(0,ct.jsxs)("div",{className:"bg-gradient-to-r from-brand-neon-green to-emerald-400 hover:from-emerald-400 hover:to-brand-neon-green text-brand-black px-4 py-3 sm:px-6 sm:py-4 md:px-10 md:py-5 rounded-xl sm:rounded-2xl font-bold text-base sm:text-lg md:text-xl shadow-2xl hover:shadow-brand-neon-green/25 transition-all duration-300 flex items-center justify-center min-h-[44px] w-full",children:[s?(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)(Ze,{className:"w-5 h-5 sm:w-6 sm:h-6 md:w-7 md:h-7 mr-2 sm:mr-2 md:mr-3"}),"Go to Profile"]}):(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)(Ze,{className:"w-5 h-5 sm:w-6 sm:h-6 md:w-7 md:h-7 mr-2 sm:mr-2 md:mr-3"}),"Claim Account"]}),(0,ct.jsx)(et,{className:"w-4 h-4 sm:w-5 sm:h-5 md:w-6 md:h-6 ml-2 sm:ml-2 md:ml-3 group-hover:translate-x-2 transition-transform"})]})}),(0,ct.jsx)(Te,{to:"/leaderboard",className:"group transform hover:scale-105 transition-all duration-300 w-full sm:w-auto",children:(0,ct.jsxs)("div",{className:"bg-white/15 hover:bg-white/25 backdrop-blur-sm text-white border-2 border-white/30 hover:border-white/50 px-4 py-3 sm:px-6 sm:py-4 md:px-10 md:py-5 rounded-xl sm:rounded-2xl font-bold text-base sm:text-lg md:text-xl transition-all duration-300 flex items-center justify-center min-h-[44px] w-full",children:[(0,ct.jsx)(qe,{className:"w-5 h-5 sm:w-6 sm:h-6 md:w-7 md:h-7 mr-2 sm:mr-2 md:mr-3"}),"View Leaderboard",(0,ct.jsx)(et,{className:"w-4 h-4 sm:w-5 sm:h-5 md:w-6 md:h-6 ml-2 sm:ml-2 md:ml-3 group-hover:translate-x-2 transition-transform"})]})})]}),s&&("admin"===(null===(e=s.role)||void 0===e?void 0:e.toLowerCase())||"super_admin"===(null===(t=s.role)||void 0===t?void 0:t.toLowerCase()))&&(0,ct.jsx)("div",{className:"mt-4 sm:mt-6 flex justify-center",children:(0,ct.jsx)(Te,{to:"/user-tracking",className:"group transform hover:scale-105 transition-all duration-300",children:(0,ct.jsxs)("div",{className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-3 sm:px-6 sm:py-4 rounded-xl sm:rounded-2xl font-bold text-base sm:text-lg transition-all duration-300 flex items-center justify-center min-h-[44px] shadow-lg hover:shadow-purple-500/25",children:[(0,ct.jsx)(Ye,{className:"w-5 h-5 sm:w-6 sm:h-6 mr-2 sm:mr-3"}),"User Management",(0,ct.jsx)(et,{className:"w-4 h-4 sm:w-5 sm:h-5 ml-2 sm:ml-3 group-hover:translate-x-2 transition-transform"})]})})}),(0,ct.jsxs)("div",{className:"mt-6 sm:mt-8 md:mt-12 text-center px-4",children:[(0,ct.jsx)("p",{className:"text-white/60 text-xs sm:text-sm mb-2 sm:mb-3 md:mb-4",children:"Trusted by members across all Neighborhood National locations"}),(0,ct.jsxs)("div",{className:"flex flex-col sm:flex-row justify-center space-y-2 sm:space-y-0 sm:space-x-4 md:space-x-8 opacity-60",children:[(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("div",{className:"text-base sm:text-lg md:text-2xl font-bold text-brand-neon-green",children:"200+"}),(0,ct.jsx)("div",{className:"text-white/70 text-xs",children:"Active Members"})]}),(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("div",{className:"text-base sm:text-lg md:text-2xl font-bold text-brand-neon-green",children:"450+"}),(0,ct.jsx)("div",{className:"text-white/70 text-xs",children:"Rounds Tracked"})]}),(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("div",{className:"text-base sm:text-lg md:text-2xl font-bold text-brand-neon-green",children:"9"}),(0,ct.jsx)("div",{className:"text-white/70 text-xs",children:"Club Locations"})]})]})]})]})})]})},ht=We("medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]),pt=We("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),gt=We("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),ft=We("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),bt=We("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),vt=We("building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),yt=We("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),jt=We("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),Nt=We("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),wt=We("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);function _t(){var e,t;const{user:s}=mt();return{hasPermission:e=>{var t,a;return null!==(t=null===s||void 0===s||null===(a=s.permissions)||void 0===a?void 0:a.includes(e))&&void 0!==t&&t},hasAnyPermission:e=>!(null===s||void 0===s||!s.permissions)&&e.some(e=>s.permissions.includes(e)),hasAllPermissions:e=>!(null===s||void 0===s||!s.permissions)&&e.every(e=>s.permissions.includes(e)),hasRole:e=>{var t,a;return null!==(t=null===s||void 0===s||null===(a=s.roles)||void 0===a?void 0:a.some(t=>t.role_key===e))&&void 0!==t&&t},hasAnyRole:e=>!(null===s||void 0===s||!s.roles)&&e.some(e=>s.roles.some(t=>t.role_key===e)),getPrimaryRole:()=>{var e,t;return null!==(e=null!==(t=null===s||void 0===s?void 0:s.primary_role)&&void 0!==t?t:null===s||void 0===s?void 0:s.role)&&void 0!==e?e:"Member"},permissions:null!==(e=null===s||void 0===s?void 0:s.permissions)&&void 0!==e?e:[],roles:null!==(t=null===s||void 0===s?void 0:s.roles)&&void 0!==t?t:[]}}const kt=e=>{let{onTabChange:t,activeTab:s="club",clubData:r,loading:n=!1,error:l=null,timeFrame:i,onTimeFrameChange:o}=e;const{user:c}=mt(),[d,u]=(0,a.useState)("courseRecords"),m=e=>1===e?"\ud83e\udd47":2===e?"\ud83e\udd48":3===e?"\ud83e\udd49":e,x=()=>{if(!r)return[];switch(d){case"courseRecords":return r.playerRankings.courseRecords["monthly"===i?"monthly":"allTime"];case"roundsLogged":return r.playerRankings.roundsLogged["monthly"===i?"monthly":"allTime"];case"averageScore":return r.playerRankings.averageScore["monthly"===i?"monthly":"allTime"];default:return[]}},h=e=>{switch(d){case"courseRecords":return e.record_count||0;case"roundsLogged":return e.rounds_count||0;case"averageScore":return e.avg_score||0;default:return""}},p=()=>{switch(d){case"courseRecords":return"records";case"roundsLogged":return"rounds";default:return""}};return n?(0,ct.jsx)("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:(0,ct.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,ct.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-12 text-center",children:[(0,ct.jsx)(ft,{className:"w-12 h-12 text-gray-400 mx-auto mb-4 animate-spin"}),(0,ct.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Loading Club Leaderboard"}),(0,ct.jsx)("p",{className:"text-gray-500",children:"Fetching player rankings..."})]})})}):l?(0,ct.jsx)("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:(0,ct.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,ct.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-12 text-center",children:[(0,ct.jsx)(ft,{className:"w-12 h-12 text-red-400 mx-auto mb-4"}),(0,ct.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Data"}),(0,ct.jsx)("p",{className:"text-gray-500",children:l})]})})}):r?(0,ct.jsxs)("div",{className:"space-y-6 sm:space-y-8",children:[(0,ct.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4",children:[(0,ct.jsx)("div",{className:"bg-white p-3 sm:p-4 rounded-lg border border-gray-200",children:(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)(Ye,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-500 mr-2 sm:mr-3"}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:r.clubStats.total_players}),(0,ct.jsx)("p",{className:"text-xs sm:text-sm text-gray-500",children:"Club Members"})]})]})}),(0,ct.jsx)("div",{className:"bg-white p-3 sm:p-4 rounded-lg border border-gray-200",children:(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)(pt,{className:"w-5 h-5 sm:w-6 sm:h-6 text-purple-500 mr-2 sm:mr-3"}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:r.clubStats.total_rounds}),(0,ct.jsx)("p",{className:"text-xs sm:text-sm text-gray-500",children:"Total Rounds"})]})]})}),(0,ct.jsx)("div",{className:"bg-white p-3 sm:p-4 rounded-lg border border-gray-200",children:(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)(qe,{className:"w-5 h-5 sm:w-6 sm:h-6 text-yellow-500 mr-2 sm:mr-3"}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:r.clubStats.total_records}),(0,ct.jsx)("p",{className:"text-xs sm:text-sm text-gray-500",children:"Club Records"})]})]})})]}),(0,ct.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm",children:[(0,ct.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsx)("div",{className:"flex items-center",children:(0,ct.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Player Rankings"})}),(0,ct.jsxs)("div",{className:"relative inline-flex bg-gray-100 rounded-lg p-1",children:[(0,ct.jsx)("button",{onClick:()=>o("allTime"),className:"px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 ".concat("allTime"===i?"bg-brand-neon-green text-white shadow-sm":"text-gray-600 hover:text-gray-900"),children:"All Time"}),(0,ct.jsx)("button",{onClick:()=>o("monthly"),className:"px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 ".concat("monthly"===i?"bg-brand-neon-green text-white shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Monthly"})]})]}),(0,ct.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"monthly"===i?"Last 30 Days":"All Time"})]}),(0,ct.jsx)("div",{className:"lg:hidden border-b border-gray-200",children:(0,ct.jsxs)("div",{className:"flex p-1",children:[(0,ct.jsxs)("button",{onClick:()=>u("courseRecords"),className:"flex-1 py-3 px-3 sm:px-4 text-sm font-medium rounded-md transition-colors ".concat("courseRecords"===d?"bg-brand-neon-green text-white":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:[(0,ct.jsx)(qe,{className:"w-4 h-4 inline mr-1 sm:mr-2"}),(0,ct.jsx)("span",{className:"hidden sm:inline",children:"Records"}),(0,ct.jsx)("span",{className:"sm:hidden",children:"Rec"})]}),(0,ct.jsxs)("button",{onClick:()=>u("roundsLogged"),className:"flex-1 py-3 px-3 sm:px-4 text-sm font-medium rounded-md transition-colors ".concat("roundsLogged"===d?"bg-brand-neon-green text-white":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:[(0,ct.jsx)(pt,{className:"w-4 h-4 inline mr-1 sm:mr-2"}),(0,ct.jsx)("span",{className:"hidden sm:inline",children:"Rounds"}),(0,ct.jsx)("span",{className:"sm:hidden",children:"Rnd"})]}),(0,ct.jsxs)("button",{onClick:()=>u("averageScore"),className:"flex-1 py-3 px-3 sm:px-4 text-sm font-medium rounded-md transition-colors ".concat("averageScore"===d?"bg-brand-neon-green text-white":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:[(0,ct.jsx)(gt,{className:"w-4 h-4 inline mr-1 sm:mr-2"}),(0,ct.jsx)("span",{className:"hidden sm:inline",children:"Average"}),(0,ct.jsx)("span",{className:"sm:hidden",children:"Avg"})]})]})}),(0,ct.jsx)("div",{className:"lg:hidden space-y-3 p-6",children:x().length>0?x().map((e,t)=>(0,ct.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-4 hover:shadow-md transition-shadow",children:(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)("div",{className:"flex items-center justify-center w-10 h-10 bg-gray-100 rounded-full flex-shrink-0",children:m(t+1)}),(0,ct.jsx)("div",{className:"flex-1 min-w-0",children:(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)("h3",{className:"font-semibold text-gray-900 text-base truncate",children:e.player_name}),e.player_id===(null===c||void 0===c?void 0:c.id)&&(0,ct.jsx)("span",{className:"ml-2 bg-brand-neon-green/10 text-brand-neon-green text-xs font-medium px-2 py-0.5 rounded-full border border-brand-neon-green/20 flex-shrink-0",children:"You"})]})})]}),(0,ct.jsxs)("div",{className:"text-right flex-shrink-0",children:[(0,ct.jsxs)("div",{className:"text-lg font-bold text-gray-900",children:[h(e),p()&&(0,ct.jsx)("span",{className:"text-sm text-gray-500 ml-1",children:p()})]}),"averageScore"===d&&"rounds_count"in e&&(0,ct.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["(",e.rounds_count," rounds)"]})]})]})},e.player_id)):(0,ct.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-8 text-center",children:[(0,ct.jsx)(ft,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,ct.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Data Available"}),(0,ct.jsx)("p",{className:"text-gray-500",children:"No players have data for this category and time frame."})]})}),(0,ct.jsx)("div",{className:"hidden lg:block",children:(0,ct.jsxs)("div",{className:"grid grid-cols-3 gap-6 p-6",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ct.jsx)(qe,{className:"w-5 h-5 text-yellow-500 mr-2"}),(0,ct.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Course Records"})]}),(0,ct.jsx)("div",{className:"space-y-3",children:r.playerRankings.courseRecords["monthly"===i?"monthly":"allTime"].map((e,t)=>(0,ct.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)("div",{className:"flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full",children:m(t+1)}),(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)("div",{className:"font-medium text-gray-900",children:e.player_name}),e.player_id===(null===c||void 0===c?void 0:c.id)&&(0,ct.jsx)("span",{className:"ml-2 bg-brand-neon-green/10 text-brand-neon-green text-xs font-medium px-2 py-0.5 rounded border border-brand-neon-green/20",children:"You"})]})]}),(0,ct.jsx)("div",{className:"text-right",children:(0,ct.jsxs)("div",{className:"text-lg font-semibold text-gray-900",children:[e.record_count||0," records"]})})]},e.player_id))})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ct.jsx)(pt,{className:"w-5 h-5 text-purple-500 mr-2"}),(0,ct.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Rounds Logged"})]}),(0,ct.jsx)("div",{className:"space-y-3",children:r.playerRankings.roundsLogged["monthly"===i?"monthly":"allTime"].map((e,t)=>(0,ct.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)("div",{className:"flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full",children:m(t+1)}),(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)("div",{className:"font-medium text-gray-900",children:e.player_name}),e.player_id===(null===c||void 0===c?void 0:c.id)&&(0,ct.jsx)("span",{className:"ml-2 bg-brand-neon-green/10 text-brand-neon-green text-xs font-medium px-2 py-0.5 rounded border border-brand-neon-green/20",children:"You"})]})]}),(0,ct.jsx)("div",{className:"text-right",children:(0,ct.jsxs)("div",{className:"text-lg font-semibold text-gray-900",children:[e.rounds_count||0," rounds"]})})]},e.player_id))})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ct.jsx)(gt,{className:"w-5 h-5 text-blue-500 mr-2"}),(0,ct.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Average Score"})]}),(0,ct.jsx)("div",{className:"space-y-3",children:r.playerRankings.averageScore["monthly"===i?"monthly":"allTime"].map((e,t)=>(0,ct.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)("div",{className:"flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full",children:m(t+1)}),(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)("div",{className:"font-medium text-gray-900",children:e.player_name}),e.player_id===(null===c||void 0===c?void 0:c.id)&&(0,ct.jsx)("span",{className:"ml-2 bg-brand-neon-green/10 text-brand-neon-green text-xs font-medium px-2 py-0.5 rounded border border-brand-neon-green/20",children:"You"})]})]}),(0,ct.jsxs)("div",{className:"text-right",children:[(0,ct.jsx)("div",{className:"text-lg font-semibold text-gray-900",children:e.avg_score||0}),(0,ct.jsxs)("div",{className:"text-sm text-gray-500",children:["(",e.rounds_count||0," rounds)"]})]})]},e.player_id))})]})]})})]})]}):(0,ct.jsx)("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:(0,ct.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,ct.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-12 text-center",children:[(0,ct.jsx)(Ye,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,ct.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Club Data"}),(0,ct.jsx)("p",{className:"text-gray-500",children:"Unable to load club leaderboard data."})]})})})},St=We("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),Ct=We("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]),At=e=>{switch(e){case"eagle":return"bg-yellow-200 text-yellow-900";case"birdie":return"bg-green-200 text-green-900";case"bogey":return"bg-red-200 text-red-900";case"double":return"bg-blue-200 text-blue-900";default:return""}},Et=e=>{var t,s;let{teamScore:a,courseData:r,tournamentSettings:n,onClose:l}=e;const{holeCount:i,startHole:o}=(()=>{const e=(null===n||void 0===n?void 0:n.holeConfiguration)||"18";return"9"===e||"9_front"===e?{holeCount:9,startHole:1}:"9_back"===e?{holeCount:9,startHole:10}:{holeCount:18,startHole:1}})(),c=(null===r||void 0===r||null===(t=r.par_values)||void 0===t?void 0:t.slice(o-1,o-1+i))||Array(i).fill(4),d=Array.from({length:i},(e,t)=>{var s;return(null===(s=a.hole_scores)||void 0===s?void 0:s[o+t])||0}),u=c.slice(0,9).reduce((e,t)=>e+t,0),m=c.slice(9,18).reduce((e,t)=>e+t,0),x=c.reduce((e,t)=>e+t,0),h=d.slice(0,9).reduce((e,t)=>e+t,0),p=d.slice(9,18).reduce((e,t)=>e+t,0),g=d.reduce((e,t)=>e+t,0),f=d.map((e,t)=>((e,t)=>0===e?"":e===t-2?"eagle":e===t-1?"birdie":e===t?"par":e===t+1?"bogey":e>=t+2?"double":"")(e,c[t]));return(0,ct.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,ct.jsxs)("div",{className:"bg-white rounded-2xl p-6 w-full max-w-5xl max-h-[90vh] overflow-y-auto",children:[(0,ct.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ct.jsxs)("h3",{className:"text-2xl font-bold text-brand-black",children:["Detailed Scorecard - ",a.team_name]}),(0,ct.jsx)("button",{onClick:l,className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:(0,ct.jsx)(Qe,{className:"w-6 h-6"})})]}),(0,ct.jsxs)("div",{className:"bg-neutral-50 rounded-lg p-4 mb-6",children:[(0,ct.jsx)("h4",{className:"text-lg font-semibold text-brand-black mb-3",children:"Players"}),(0,ct.jsx)("div",{className:"space-y-1",children:null===(s=a.players)||void 0===s?void 0:s.map((e,t)=>(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsxs)("span",{className:"text-sm text-neutral-600",children:[e.first_name," ",e.last_name]}),e.is_captain&&(0,ct.jsx)(Ct,{className:"w-3 h-3 text-yellow-500"}),(0,ct.jsxs)("span",{className:"text-xs text-neutral-500",children:["(",e.club,")"]})]},e.user_member_id))})]}),(0,ct.jsx)("div",{className:"overflow-x-auto",children:(0,ct.jsxs)("table",{className:"w-full text-center border-separate border-spacing-0",children:[(0,ct.jsx)("thead",{children:(0,ct.jsxs)("tr",{children:[(0,ct.jsx)("th",{className:"border-b px-2 py-1 text-xs font-bold text-neutral-600",children:"HOLE"}),Array.from({length:9},(e,t)=>(0,ct.jsx)("th",{className:"border-b px-2 py-1 text-xs font-bold text-neutral-600",children:t+1},t)),(0,ct.jsx)("th",{className:"border-b px-2 py-1 text-xs font-bold text-neutral-600",children:"OUT"}),i>9&&Array.from({length:9},(e,t)=>(0,ct.jsx)("th",{className:"border-b px-2 py-1 text-xs font-bold text-neutral-600",children:t+10},t+9)),i>9&&(0,ct.jsx)("th",{className:"border-b px-2 py-1 text-xs font-bold text-neutral-600",children:"IN"}),(0,ct.jsx)("th",{className:"border-b px-2 py-1 text-xs font-bold text-neutral-600",children:"TOT"})]})}),(0,ct.jsxs)("tbody",{children:[(0,ct.jsxs)("tr",{children:[(0,ct.jsx)("td",{className:"font-bold text-neutral-600",children:"Par"}),c.slice(0,9).map((e,t)=>(0,ct.jsx)("td",{className:"font-medium text-neutral-700",children:e},t)),(0,ct.jsx)("td",{className:"font-bold text-neutral-700",children:u}),i>9&&c.slice(9,18).map((e,t)=>(0,ct.jsx)("td",{className:"font-medium text-neutral-700",children:e},t+9)),i>9&&(0,ct.jsx)("td",{className:"font-bold text-neutral-700",children:m}),(0,ct.jsx)("td",{className:"font-bold text-neutral-900",children:x})]}),(0,ct.jsxs)("tr",{children:[(0,ct.jsx)("td",{className:"font-bold text-neutral-600",children:"Score"}),d.slice(0,9).map((e,t)=>(0,ct.jsx)("td",{className:"font-bold rounded ".concat(At(f[t])),children:e>0?e:""},t)),(0,ct.jsx)("td",{className:"font-bold text-neutral-900",children:h}),i>9&&d.slice(9,18).map((e,t)=>(0,ct.jsx)("td",{className:"font-bold rounded ".concat(At(f[t+9])),children:e>0?e:""},t+9)),i>9&&(0,ct.jsx)("td",{className:"font-bold text-neutral-900",children:p}),(0,ct.jsx)("td",{className:"font-bold text-neutral-900",children:g})]})]})]})}),(0,ct.jsxs)("div",{className:"flex flex-wrap items-center gap-4 mt-6 text-xs",children:[(0,ct.jsxs)("div",{className:"flex items-center gap-1",children:[(0,ct.jsx)("span",{className:"inline-block w-4 h-4 bg-yellow-200 border border-yellow-400 mr-1"})," EAGLE"]}),(0,ct.jsxs)("div",{className:"flex items-center gap-1",children:[(0,ct.jsx)("span",{className:"inline-block w-4 h-4 bg-green-200 border border-green-400 mr-1"})," BIRDIE"]}),(0,ct.jsxs)("div",{className:"flex items-center gap-1",children:[(0,ct.jsx)("span",{className:"inline-block w-4 h-4 bg-red-200 border border-red-400 mr-1"})," BOGEY"]}),(0,ct.jsxs)("div",{className:"flex items-center gap-1",children:[(0,ct.jsx)("span",{className:"inline-block w-4 h-4 bg-blue-200 border border-blue-400 mr-1"})," DBL BOGEY OR MORE"]})]})]})})},Tt=e=>{let{tournamentId:t,tournamentFormat:s,onRefresh:r,courseId:n,tournamentSettings:l,tournamentInfo:i}=e;const[o,c]=(0,a.useState)([]),[d,u]=(0,a.useState)([]),[m,x]=(0,a.useState)(!1),[h,p]=(0,a.useState)(null),[g,f]=(0,a.useState)(null),[b,v]=(0,a.useState)(!1),y=async()=>{try{x(!0);const e=await(0,tt.jjx)(t);c(e.data||[])}catch(e){console.error("Error fetching team scores:",e)}finally{x(!1)}},j=async()=>{try{const e=await(0,tt.MsJ)(t);u(e.data||[])}catch(e){console.error("Error fetching tournament participants:",e)}},N=e=>{if(null===h||void 0===h||!h.par_values)return{relative:"".concat(e),total:"",color:"text-brand-black"};const t=(null===l||void 0===l?void 0:l.holeConfiguration)||"18";let s=1,a=18;"9"===t||"9_front"===t?(s=1,a=9):"9_back"===t?(s=10,a=9):(s=1,a=18);const r=e-h.par_values.slice(s-1,s-1+a).reduce((e,t)=>e+t,0);return 0===r?{relative:"E",total:"(".concat(e,")"),color:"text-neutral-900"}:r>0?{relative:"+".concat(r),total:"(".concat(e,")"),color:"text-blue-600"}:{relative:"".concat(r),total:"(".concat(e,")"),color:"text-red-600"}};(0,a.useEffect)(()=>{y(),j()},[t]),(0,a.useEffect)(()=>{(async()=>{if(n)try{const e=await(0,tt.AIU)(n);e.data&&p(e.data)}catch(e){console.error("Error fetching course data:",e)}})()},[n]);const w=e=>{switch(e){case 1:return(0,ct.jsx)(qe,{className:"w-5 h-5 text-yellow-500"});case 2:return(0,ct.jsx)(ht,{className:"w-5 h-5 text-gray-400"});case 3:return(0,ct.jsx)(St,{className:"w-5 h-5 text-amber-600"});default:return(0,ct.jsx)("span",{className:"w-5 h-5 text-neutral-400 text-sm font-medium",children:e})}},_=e=>{if(!e)return"Unknown";try{const t="string"===typeof e?e.split("T")[0]:e;return new Date(t).toLocaleDateString()}catch(t){return"Invalid Date"}},k=e=>{f(e),v(!0)},S=[...o].sort((e,t)=>e.total_score-t.total_score),C=(()=>{const e=new Set;return o.forEach(t=>{t.players.forEach(t=>{e.add(t.user_member_id)})}),d.filter(t=>!e.has(t.user_member_id))})();return m?(0,ct.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,ct.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-neon-green"})}):(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"bg-white rounded-xl border border-neutral-200 p-6",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)(qe,{className:"w-6 h-6 text-brand-neon-green"}),(0,ct.jsx)("h3",{className:"text-xl font-bold text-brand-black",children:"Team Leaderboard"})]}),(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsx)("button",{onClick:()=>{y(),j()},className:"px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors",children:"Refresh"}),(0,ct.jsx)("button",{onClick:()=>{const e="".concat(window.location.origin,"/#/leaderboard/tournament/").concat(t);navigator.share?navigator.share({title:"".concat((null===i||void 0===i?void 0:i.name)||"Tournament"," Leaderboard"),text:"Check out the leaderboard for ".concat((null===i||void 0===i?void 0:i.name)||"this tournament","!"),url:e}).catch(()=>{navigator.clipboard.writeText(e)}):navigator.clipboard.writeText(e)},className:"px-4 py-2 bg-neutral-100 text-neutral-700 rounded-lg font-medium hover:bg-neutral-200 transition-colors",children:(0,ct.jsx)(jt,{className:"w-4 h-4"})})]})]}),i&&(0,ct.jsxs)("div",{className:"mt-2 text-neutral-600",children:[(0,ct.jsx)("p",{className:"font-medium",children:i.name}),i.course_name&&(0,ct.jsx)("p",{className:"text-sm",children:i.course_name})]})]}),o.length>0&&(0,ct.jsxs)("div",{className:"bg-white rounded-xl border border-neutral-200 overflow-hidden",children:[(0,ct.jsx)("div",{className:"px-6 py-4 border-b border-neutral-200",children:(0,ct.jsx)("h4",{className:"text-lg font-semibold text-neutral-900",children:"Submitted Scores"})}),(0,ct.jsx)("div",{className:"hidden lg:block overflow-x-auto",children:(0,ct.jsxs)("table",{className:"w-full",children:[(0,ct.jsx)("thead",{className:"bg-neutral-50",children:(0,ct.jsxs)("tr",{children:[(0,ct.jsx)("th",{className:"px-6 py-4 text-left font-medium text-neutral-600",children:"Position"}),(0,ct.jsx)("th",{className:"px-6 py-4 text-left font-medium text-neutral-600",children:"Team"}),(0,ct.jsx)("th",{className:"px-6 py-4 text-left font-medium text-neutral-600",children:"Players"}),(0,ct.jsx)("th",{className:"px-6 py-4 text-center font-medium text-neutral-600",children:"Total Score"}),(0,ct.jsx)("th",{className:"px-6 py-4 text-center font-medium text-neutral-600",children:"To Par"}),(0,ct.jsx)("th",{className:"px-6 py-4 text-center font-medium text-neutral-600",children:"Submitted"}),(0,ct.jsx)("th",{className:"px-6 py-4 text-center font-medium text-neutral-600",children:"Details"})]})}),(0,ct.jsx)("tbody",{className:"divide-y divide-neutral-200",children:S.map((e,t)=>{var s;return(0,ct.jsxs)("tr",{className:"hover:bg-neutral-50 transition-colors",children:[(0,ct.jsx)("td",{className:"px-6 py-4",children:(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[w(t+1),(0,ct.jsx)("span",{className:"text-sm font-medium text-neutral-600",children:t+1})]})}),(0,ct.jsx)("td",{className:"px-6 py-4",children:(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsx)("span",{className:"font-semibold text-brand-black",children:e.team_name}),0===t&&(0,ct.jsx)(Ct,{className:"w-4 h-4 text-yellow-500"})]})}),(0,ct.jsx)("td",{className:"px-6 py-4",children:(0,ct.jsx)("div",{className:"space-y-1",children:null===(s=e.players)||void 0===s?void 0:s.map((e,t)=>(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsxs)("span",{className:"text-sm text-neutral-900",children:[e.first_name," ",e.last_name]}),e.is_captain&&(0,ct.jsx)(Ct,{className:"w-3 h-3 text-yellow-500"}),(0,ct.jsxs)("span",{className:"text-xs text-neutral-500",children:["(",e.club,")"]})]},e.user_member_id))})}),(0,ct.jsx)("td",{className:"px-6 py-4 text-center",children:(0,ct.jsx)("span",{className:"text-2xl font-bold text-brand-neon-green",children:e.total_score})}),(0,ct.jsx)("td",{className:"px-6 py-4 text-center",children:(()=>{const t=N(e.total_score);return(0,ct.jsx)("span",{className:"text-lg font-semibold ".concat(t.color),children:t.relative})})()}),(0,ct.jsx)("td",{className:"px-6 py-4 text-center",children:(0,ct.jsx)("span",{className:"text-sm text-neutral-600",children:_(e.submitted_at)})}),(0,ct.jsx)("td",{className:"px-6 py-4 text-center",children:(0,ct.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,ct.jsx)("button",{onClick:t=>{t.stopPropagation(),k(e)},className:"text-brand-neon-green hover:text-green-400 transition-colors",title:"View detailed scorecard",children:(0,ct.jsx)(wt,{className:"w-4 h-4"})}),(0,ct.jsx)(yt,{className:"w-4 h-4 text-neutral-400"})]})})]},e.id)})})]})}),(0,ct.jsx)("div",{className:"lg:hidden",children:(0,ct.jsxs)("table",{className:"w-full",children:[(0,ct.jsx)("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:(0,ct.jsxs)("tr",{children:[(0,ct.jsx)("th",{className:"px-3 py-3 text-left text-xs font-semibold text-neutral-600",children:"Pos"}),(0,ct.jsx)("th",{className:"px-3 py-3 text-left text-xs font-semibold text-neutral-600",children:"Team"}),(0,ct.jsx)("th",{className:"px-3 py-3 text-center text-xs font-semibold text-neutral-600",children:"Score"})]})}),(0,ct.jsx)("tbody",{className:"divide-y divide-neutral-200",children:S.map((e,t)=>(0,ct.jsxs)("tr",{className:"hover:bg-neutral-50 transition-colors cursor-pointer",onClick:()=>k(e),children:[(0,ct.jsx)("td",{className:"px-3 py-3",children:(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[w(t+1),(0,ct.jsx)("span",{className:"text-sm font-medium text-neutral-600",children:t+1})]})}),(0,ct.jsx)("td",{className:"px-3 py-3",children:(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsx)("span",{className:"font-semibold text-brand-black text-sm",children:e.team_name}),0===t&&(0,ct.jsx)(Ct,{className:"w-3 h-3 text-yellow-500"})]})}),(0,ct.jsx)("td",{className:"px-3 py-3 text-center",children:(0,ct.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(()=>{const t=N(e.total_score);return(0,ct.jsxs)("span",{className:"flex items-center justify-center gap-1 text-lg",children:[(0,ct.jsx)("span",{className:"font-bold ".concat(t.color),children:t.relative}),(0,ct.jsx)("span",{className:"text-neutral-600 text-sm",children:t.total})]})})(),(0,ct.jsx)(yt,{className:"w-4 h-4 text-neutral-400"})]})})]},e.id))})]})})]}),0===o.length&&(0,ct.jsx)("div",{className:"bg-white rounded-xl border border-neutral-200 p-6",children:(0,ct.jsxs)("div",{className:"text-center py-8",children:[(0,ct.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-neutral-100 rounded-full flex items-center justify-center",children:(0,ct.jsx)(qe,{className:"w-8 h-8 text-neutral-400"})}),(0,ct.jsx)("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"No scores submitted yet"}),(0,ct.jsx)("p",{className:"text-neutral-600",children:"Team captains need to submit their scores to see the leaderboard."})]})}),C.length>0&&(0,ct.jsxs)("div",{className:"bg-white rounded-xl border border-neutral-200 overflow-hidden",children:[(0,ct.jsx)("div",{className:"px-6 py-4 border-b border-neutral-200",children:(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsx)(Ye,{className:"w-5 h-5 text-neutral-600"}),(0,ct.jsx)("h4",{className:"text-lg font-semibold text-neutral-900",children:"Registered Participants"}),(0,ct.jsxs)("span",{className:"text-sm text-neutral-500",children:["(",C.length," waiting to submit scores)"]})]})}),(0,ct.jsx)("div",{className:"hidden lg:block overflow-x-auto",children:(0,ct.jsxs)("table",{className:"w-full",children:[(0,ct.jsx)("thead",{className:"bg-neutral-50",children:(0,ct.jsxs)("tr",{children:[(0,ct.jsx)("th",{className:"px-6 py-4 text-left font-medium text-neutral-600",children:"Name"}),(0,ct.jsx)("th",{className:"px-6 py-4 text-left font-medium text-neutral-600",children:"Club"}),(0,ct.jsx)("th",{className:"px-6 py-4 text-center font-medium text-neutral-600",children:"Status"})]})}),(0,ct.jsx)("tbody",{className:"divide-y divide-neutral-200",children:C.map(e=>(0,ct.jsxs)("tr",{className:"hover:bg-neutral-50 transition-colors",children:[(0,ct.jsx)("td",{className:"px-6 py-4",children:(0,ct.jsxs)("span",{className:"font-medium text-neutral-900",children:[e.first_name," ",e.last_name]})}),(0,ct.jsx)("td",{className:"px-6 py-4",children:(0,ct.jsx)("span",{className:"text-sm text-neutral-600",children:e.club})}),(0,ct.jsx)("td",{className:"px-6 py-4 text-center",children:(0,ct.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Waiting to Submit"})})]},e.user_member_id))})]})}),(0,ct.jsx)("div",{className:"lg:hidden",children:(0,ct.jsxs)("table",{className:"w-full",children:[(0,ct.jsx)("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:(0,ct.jsxs)("tr",{children:[(0,ct.jsx)("th",{className:"px-3 py-3 text-left text-xs font-semibold text-neutral-600",children:"Name"}),(0,ct.jsx)("th",{className:"px-3 py-3 text-left text-xs font-semibold text-neutral-600",children:"Club"}),(0,ct.jsx)("th",{className:"px-3 py-3 text-center text-xs font-semibold text-neutral-600",children:"Status"})]})}),(0,ct.jsx)("tbody",{className:"divide-y divide-neutral-200",children:C.map(e=>(0,ct.jsxs)("tr",{className:"hover:bg-neutral-50 transition-colors",children:[(0,ct.jsx)("td",{className:"px-3 py-3",children:(0,ct.jsxs)("span",{className:"font-medium text-neutral-900 text-sm",children:[e.first_name," ",e.last_name]})}),(0,ct.jsx)("td",{className:"px-3 py-3",children:(0,ct.jsx)("span",{className:"text-xs text-neutral-600",children:e.club})}),(0,ct.jsx)("td",{className:"px-3 py-3 text-center",children:(0,ct.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Waiting"})})]},e.user_member_id))})]})})]}),b&&g&&(0,ct.jsx)(Et,{teamScore:g,courseData:h,tournamentSettings:l,onClose:()=>{v(!1),f(null)}})]})},Pt=e=>{let{tournamentId:t,tournamentFormat:s,onRefresh:r,tournamentInfo:n}=e;const[l,i]=(0,a.useState)([]),[o,c]=(0,a.useState)([]),[d,u]=(0,a.useState)(!1),[m,x]=(0,a.useState)([]),h=async()=>{try{u(!0);const e=await(0,tt.PNr)(t);i(e.data||[])}catch(e){console.error("Error fetching tournament matches:",e)}finally{u(!1)}},p=async()=>{try{const e=await(0,tt.MsJ)(t);c(e.data||[])}catch(e){console.error("Error fetching tournament participants:",e)}};(0,a.useEffect)(()=>{h(),p()},[t]),(0,a.useEffect)(()=>{(()=>{const e=new Map;console.log("Processing matches for leaderboard:",l),l.forEach(t=>{e.has(t.player1_id)||e.set(t.player1_id,{player_id:t.player1_id,first_name:t.player1_first_name,last_name:t.player1_last_name,matches_played:0,wins:0,losses:0,ties:0,points:0,win_rate:0}),e.has(t.player2_id)||e.set(t.player2_id,{player_id:t.player2_id,first_name:t.player2_first_name,last_name:t.player2_last_name,matches_played:0,wins:0,losses:0,ties:0,points:0,win_rate:0})}),l.forEach(t=>{if("completed"===t.status&&t.winner_id){const s=e.get(t.player1_id),a=e.get(t.player2_id);s.matches_played++,a.matches_played++,t.winner_id===t.player1_id?(s.wins++,a.losses++,s.points+=3,a.points+=0):t.winner_id===t.player2_id?(a.wins++,s.losses++,a.points+=3,s.points+=0):(s.ties++,a.ties++,s.points+=1,a.points+=1),s.win_rate=s.wins/s.matches_played*100,a.win_rate=a.wins/a.matches_played*100}});const t=Array.from(e.values()).sort((e,t)=>t.points!==e.points?t.points-e.points:t.win_rate-e.win_rate);x(t)})()},[l]);const g=e=>{switch(e){case 1:return(0,ct.jsx)(qe,{className:"w-5 h-5 text-yellow-500"});case 2:return(0,ct.jsx)(ht,{className:"w-5 h-5 text-gray-400"});case 3:return(0,ct.jsx)(St,{className:"w-5 h-5 text-amber-600"});default:return(0,ct.jsx)("span",{className:"w-5 h-5 text-neutral-400 text-sm font-medium",children:e})}},f=(()=>{const e=new Set;return l.forEach(t=>{e.add(t.player1_id),e.add(t.player2_id)}),o.filter(t=>!e.has(t.user_member_id))})();return d?(0,ct.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,ct.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-neon-green"})}):(0,ct.jsxs)("div",{className:"space-y-6",children:[n&&(0,ct.jsx)("div",{className:"bg-white rounded-xl border border-neutral-200 p-6",children:(0,ct.jsx)("div",{className:"flex items-start justify-between",children:(0,ct.jsxs)("div",{className:"flex-1",children:[(0,ct.jsx)("h2",{className:"text-2xl font-bold text-brand-black mb-2",children:n.name}),n.description&&(0,ct.jsx)("p",{className:"text-neutral-600 mb-3",children:n.description}),(0,ct.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-neutral-500",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ct.jsx)(qe,{className:"w-4 h-4"}),(0,ct.jsx)("span",{children:(e=>e.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase()))(s)})]}),n.course_name&&(0,ct.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ct.jsx)("span",{children:"\ud83c\udfcc\ufe0f"}),(0,ct.jsx)("span",{children:n.course_name})]}),n.start_date&&(0,ct.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ct.jsx)("span",{children:"\ud83d\udcc5"}),(0,ct.jsx)("span",{children:new Date(n.start_date).toLocaleDateString()})]})]})]})})}),(0,ct.jsxs)("div",{className:"bg-white rounded-xl border border-neutral-200 p-6",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)(qe,{className:"w-6 h-6 text-brand-neon-green"}),(0,ct.jsx)("h3",{className:"text-xl font-bold text-brand-black",children:"Matchplay Leaderboard"})]}),(0,ct.jsx)("button",{onClick:()=>{h(),p()},className:"px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors",children:"Refresh"})]}),m.length>0&&(0,ct.jsxs)("div",{className:"bg-white rounded-xl border border-neutral-200 overflow-hidden mt-6",children:[(0,ct.jsx)("div",{className:"px-6 py-4 border-b border-neutral-200",children:(0,ct.jsx)("h4",{className:"text-lg font-semibold text-neutral-900",children:"Match Results"})}),(0,ct.jsx)("div",{className:"hidden lg:block overflow-x-auto",children:(0,ct.jsxs)("table",{className:"w-full",children:[(0,ct.jsx)("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:(0,ct.jsxs)("tr",{children:[(0,ct.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-neutral-600",children:"Position"}),(0,ct.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-neutral-600",children:"Player"}),(0,ct.jsx)("th",{className:"px-6 py-4 text-center text-sm font-semibold text-neutral-600",children:"Points"}),(0,ct.jsx)("th",{className:"px-6 py-4 text-center text-sm font-semibold text-neutral-600",children:"Matches"}),(0,ct.jsx)("th",{className:"px-6 py-4 text-center text-sm font-semibold text-neutral-600",children:"Wins"}),(0,ct.jsx)("th",{className:"px-6 py-4 text-center text-sm font-semibold text-neutral-600",children:"Losses"}),(0,ct.jsx)("th",{className:"px-6 py-4 text-center text-sm font-semibold text-neutral-600",children:"Ties"}),(0,ct.jsx)("th",{className:"px-6 py-4 text-center text-sm font-semibold text-neutral-600",children:"Win Rate"})]})}),(0,ct.jsx)("tbody",{className:"divide-y divide-neutral-200",children:m.map((e,t)=>(0,ct.jsxs)("tr",{className:"hover:bg-neutral-50 transition-colors",children:[(0,ct.jsx)("td",{className:"px-6 py-4",children:(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[g(t+1),(0,ct.jsx)("span",{className:"text-sm font-medium text-neutral-600",children:t+1})]})}),(0,ct.jsx)("td",{className:"px-6 py-4",children:(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsxs)("span",{className:"font-semibold text-brand-black",children:[e.first_name," ",e.last_name]}),0===t&&(0,ct.jsx)(Ct,{className:"w-4 h-4 text-yellow-500"})]})}),(0,ct.jsx)("td",{className:"px-6 py-4 text-center",children:(0,ct.jsx)("span",{className:"text-2xl font-bold text-brand-neon-green",children:e.points})}),(0,ct.jsx)("td",{className:"px-6 py-4 text-center",children:(0,ct.jsx)("span",{className:"text-neutral-900 font-medium",children:e.matches_played})}),(0,ct.jsx)("td",{className:"px-6 py-4 text-center",children:(0,ct.jsx)("span",{className:"text-green-600 font-medium",children:e.wins})}),(0,ct.jsx)("td",{className:"px-6 py-4 text-center",children:(0,ct.jsx)("span",{className:"text-red-600 font-medium",children:e.losses})}),(0,ct.jsx)("td",{className:"px-6 py-4 text-center",children:(0,ct.jsx)("span",{className:"text-neutral-600 font-medium",children:e.ties})}),(0,ct.jsx)("td",{className:"px-6 py-4 text-center",children:(0,ct.jsxs)("span",{className:"text-neutral-900 font-medium",children:[e.win_rate.toFixed(1),"%"]})})]},e.player_id))})]})}),(0,ct.jsx)("div",{className:"lg:hidden",children:(0,ct.jsxs)("table",{className:"w-full",children:[(0,ct.jsx)("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:(0,ct.jsxs)("tr",{children:[(0,ct.jsx)("th",{className:"px-3 py-3 text-left text-xs font-semibold text-neutral-600",children:"Pos"}),(0,ct.jsx)("th",{className:"px-3 py-3 text-left text-xs font-semibold text-neutral-600",children:"Player"}),(0,ct.jsx)("th",{className:"px-3 py-3 text-center text-xs font-semibold text-neutral-600",children:"Pts"}),(0,ct.jsx)("th",{className:"px-3 py-3 text-center text-xs font-semibold text-neutral-600",children:"W/L/T"})]})}),(0,ct.jsx)("tbody",{className:"divide-y divide-neutral-200",children:m.map((e,t)=>(0,ct.jsxs)("tr",{className:"hover:bg-neutral-50 transition-colors",children:[(0,ct.jsx)("td",{className:"px-3 py-3",children:(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[g(t+1),(0,ct.jsx)("span",{className:"text-sm font-medium text-neutral-600",children:t+1})]})}),(0,ct.jsx)("td",{className:"px-3 py-3",children:(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsxs)("span",{className:"font-semibold text-brand-black text-sm",children:[e.first_name," ",e.last_name]}),0===t&&(0,ct.jsx)(Ct,{className:"w-3 h-3 text-yellow-500"})]})}),(0,ct.jsx)("td",{className:"px-3 py-3 text-center",children:(0,ct.jsx)("span",{className:"text-lg font-bold text-brand-neon-green",children:e.points})}),(0,ct.jsx)("td",{className:"px-3 py-3 text-center",children:(0,ct.jsxs)("span",{className:"text-sm text-neutral-900",children:[e.wins,"/",e.losses,"/",e.ties]})})]},e.player_id))})]})})]}),0===m.length&&(0,ct.jsx)("div",{className:"bg-white rounded-xl border border-neutral-200 p-6 mt-6",children:(0,ct.jsxs)("div",{className:"text-center py-8",children:[(0,ct.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-neutral-100 rounded-full flex items-center justify-center",children:(0,ct.jsx)(qe,{className:"w-8 h-8 text-neutral-400"})}),(0,ct.jsx)("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"No matches completed yet"}),(0,ct.jsx)("p",{className:"text-neutral-600",children:"Complete some matches to see the leaderboard."})]})}),f.length>0&&(0,ct.jsxs)("div",{className:"bg-white rounded-xl border border-neutral-200 overflow-hidden mt-6",children:[(0,ct.jsx)("div",{className:"px-6 py-4 border-b border-neutral-200",children:(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsx)(Ye,{className:"w-5 h-5 text-neutral-600"}),(0,ct.jsx)("h4",{className:"text-lg font-semibold text-neutral-900",children:"Registered Participants"}),(0,ct.jsxs)("span",{className:"text-sm text-neutral-500",children:["(",f.length," waiting to play matches)"]})]})}),(0,ct.jsx)("div",{className:"hidden lg:block overflow-x-auto",children:(0,ct.jsxs)("table",{className:"w-full",children:[(0,ct.jsx)("thead",{className:"bg-neutral-50",children:(0,ct.jsxs)("tr",{children:[(0,ct.jsx)("th",{className:"px-6 py-4 text-left font-medium text-neutral-600",children:"Name"}),(0,ct.jsx)("th",{className:"px-6 py-4 text-left font-medium text-neutral-600",children:"Club"}),(0,ct.jsx)("th",{className:"px-6 py-4 text-center font-medium text-neutral-600",children:"Status"})]})}),(0,ct.jsx)("tbody",{className:"divide-y divide-neutral-200",children:f.map(e=>(0,ct.jsxs)("tr",{className:"hover:bg-neutral-50 transition-colors",children:[(0,ct.jsx)("td",{className:"px-6 py-4",children:(0,ct.jsxs)("span",{className:"font-medium text-neutral-900",children:[e.first_name," ",e.last_name]})}),(0,ct.jsx)("td",{className:"px-6 py-4",children:(0,ct.jsx)("span",{className:"text-sm text-neutral-600",children:e.club})}),(0,ct.jsx)("td",{className:"px-6 py-4 text-center",children:(0,ct.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Waiting to Play"})})]},e.user_member_id))})]})}),(0,ct.jsx)("div",{className:"lg:hidden",children:(0,ct.jsxs)("table",{className:"w-full",children:[(0,ct.jsx)("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:(0,ct.jsxs)("tr",{children:[(0,ct.jsx)("th",{className:"px-3 py-3 text-left text-xs font-semibold text-neutral-600",children:"Name"}),(0,ct.jsx)("th",{className:"px-3 py-3 text-left text-xs font-semibold text-neutral-600",children:"Club"}),(0,ct.jsx)("th",{className:"px-3 py-3 text-center text-xs font-semibold text-neutral-600",children:"Status"})]})}),(0,ct.jsx)("tbody",{className:"divide-y divide-neutral-200",children:f.map(e=>(0,ct.jsxs)("tr",{className:"hover:bg-neutral-50 transition-colors",children:[(0,ct.jsx)("td",{className:"px-3 py-3",children:(0,ct.jsxs)("span",{className:"font-medium text-neutral-900 text-sm",children:[e.first_name," ",e.last_name]})}),(0,ct.jsx)("td",{className:"px-3 py-3",children:(0,ct.jsx)("span",{className:"text-xs text-neutral-600",children:e.club})}),(0,ct.jsx)("td",{className:"px-3 py-3 text-center",children:(0,ct.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Waiting"})})]},e.user_member_id))})]})})]})]})]})},Dt=We("camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Mt=e=>{switch(e){case"eagle":return"bg-yellow-200 text-yellow-900";case"birdie":return"bg-green-200 text-green-900";case"bogey":return"bg-red-200 text-red-900";case"double":return"bg-blue-200 text-blue-900";default:return""}},Rt=e=>{var t;let{playerScore:s,courseData:a,tournamentSettings:r,onClose:n}=e;const{holeCount:l,startHole:i}=(()=>{const e=(null===r||void 0===r?void 0:r.holeConfiguration)||"18";return"9"===e||"9_front"===e?{holeCount:9,startHole:1}:"9_back"===e?{holeCount:9,startHole:10}:{holeCount:18,startHole:1}})(),o=(null===a||void 0===a||null===(t=a.par_values)||void 0===t?void 0:t.slice(i-1,i-1+l))||Array(l).fill(4),c=Array.from({length:l},(e,t)=>{var a,r;const n=i+t;let l=null;return s.holes&&Array.isArray(s.holes)&&(l=s.holes.find(e=>e.hole===n)),l||!s.holes||"object"!==typeof s.holes||Array.isArray(s.holes)||(l={score:s.holes[n]}),!l&&null!==(a=s.holes)&&void 0!==a&&a.hole_scores&&(l={score:s.holes.hole_scores[n]}),(null===(r=l)||void 0===r?void 0:r.score)||0}),d=o.slice(0,9).reduce((e,t)=>e+t,0),u=o.slice(9,18).reduce((e,t)=>e+t,0),m=o.reduce((e,t)=>e+t,0),x=c.slice(0,9).reduce((e,t)=>e+t,0),h=c.slice(9,18).reduce((e,t)=>e+t,0),p=c.reduce((e,t)=>e+t,0),g=c.map((e,t)=>((e,t)=>0===e?"":e===t-2?"eagle":e===t-1?"birdie":e===t?"par":e===t+1?"bogey":e>=t+2?"double":"")(e,o[t]));return(0,ct.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,ct.jsxs)("div",{className:"bg-white rounded-2xl p-6 w-full max-w-5xl max-h-[90vh] overflow-y-auto",children:[(0,ct.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ct.jsxs)("h3",{className:"text-2xl font-bold text-brand-black",children:["Detailed Scorecard - ",s.first_name," ",s.last_name]}),(0,ct.jsx)("button",{onClick:n,className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:(0,ct.jsx)(Qe,{className:"w-6 h-6"})})]}),(0,ct.jsxs)("div",{className:"bg-neutral-50 rounded-lg p-4 mb-6",children:[(0,ct.jsx)("h4",{className:"text-lg font-semibold text-brand-black mb-3",children:"Player Information"}),(0,ct.jsxs)("div",{className:"space-y-1",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsxs)("span",{className:"text-sm text-neutral-600",children:[s.first_name," ",s.last_name]}),(0,ct.jsxs)("span",{className:"text-xs text-neutral-500",children:["(",s.club,")"]})]}),(0,ct.jsxs)("div",{className:"text-sm text-neutral-600",children:["Submitted: ",(e=>{if(!e)return"Unknown";try{const t=e.replace(/\.\d+$/,"");return new Date(t).toLocaleString()}catch(t){return"Invalid Date"}})(s.submitted_at)]}),(0,ct.jsxs)("div",{className:"text-sm text-neutral-600",children:["Total Score: ",(0,ct.jsx)("span",{className:"font-semibold text-brand-neon-green",children:s.total_score}),void 0!==s.score_to_par&&(0,ct.jsxs)("span",{className:"ml-2",children:["(",s.score_to_par>0?"+":"",s.score_to_par,")"]})]})]})]}),s.scorecard_photo_url&&(0,ct.jsxs)("div",{className:"mb-6",children:[(0,ct.jsx)("h4",{className:"text-lg font-semibold text-brand-black mb-3",children:"Scorecard Photo"}),(0,ct.jsxs)("div",{className:"relative",children:[(0,ct.jsx)("img",{src:s.scorecard_photo_url,alt:"Scorecard",className:"w-full max-w-md rounded-lg border border-neutral-200"}),(0,ct.jsx)("button",{onClick:()=>window.open(s.scorecard_photo_url,"_blank"),className:"absolute top-2 right-2 bg-white bg-opacity-90 rounded-full p-2 hover:bg-opacity-100 transition-colors",title:"View full size",children:(0,ct.jsx)(Dt,{className:"w-4 h-4 text-neutral-600"})})]})]}),(0,ct.jsx)("div",{className:"overflow-x-auto",children:(0,ct.jsxs)("table",{className:"w-full text-center border-separate border-spacing-0",children:[(0,ct.jsx)("thead",{children:(0,ct.jsxs)("tr",{children:[(0,ct.jsx)("th",{className:"border-b px-2 py-1 text-xs font-bold text-neutral-600",children:"HOLE"}),Array.from({length:9},(e,t)=>(0,ct.jsx)("th",{className:"border-b px-2 py-1 text-xs font-bold text-neutral-600",children:t+1},t)),(0,ct.jsx)("th",{className:"border-b px-2 py-1 text-xs font-bold text-neutral-600",children:"OUT"}),l>9&&Array.from({length:9},(e,t)=>(0,ct.jsx)("th",{className:"border-b px-2 py-1 text-xs font-bold text-neutral-600",children:t+10},t+9)),l>9&&(0,ct.jsx)("th",{className:"border-b px-2 py-1 text-xs font-bold text-neutral-600",children:"IN"}),(0,ct.jsx)("th",{className:"border-b px-2 py-1 text-xs font-bold text-neutral-600",children:"TOT"})]})}),(0,ct.jsxs)("tbody",{children:[(0,ct.jsxs)("tr",{children:[(0,ct.jsx)("td",{className:"font-bold text-neutral-600",children:"Par"}),o.slice(0,9).map((e,t)=>(0,ct.jsx)("td",{className:"font-medium text-neutral-700",children:e},t)),(0,ct.jsx)("td",{className:"font-bold text-neutral-700",children:d}),l>9&&o.slice(9,18).map((e,t)=>(0,ct.jsx)("td",{className:"font-medium text-neutral-700",children:e},t+9)),l>9&&(0,ct.jsx)("td",{className:"font-bold text-neutral-700",children:u}),(0,ct.jsx)("td",{className:"font-bold text-neutral-900",children:m})]}),(0,ct.jsxs)("tr",{children:[(0,ct.jsx)("td",{className:"font-bold text-neutral-600",children:"Score"}),c.slice(0,9).map((e,t)=>(0,ct.jsx)("td",{className:"font-bold rounded ".concat(Mt(g[t])),children:e>0?e:""},t)),(0,ct.jsx)("td",{className:"font-bold text-neutral-900",children:x}),l>9&&c.slice(9,18).map((e,t)=>(0,ct.jsx)("td",{className:"font-bold rounded ".concat(Mt(g[t+9])),children:e>0?e:""},t+9)),l>9&&(0,ct.jsx)("td",{className:"font-bold text-neutral-900",children:h}),(0,ct.jsx)("td",{className:"font-bold text-neutral-900",children:p})]})]})]})}),(0,ct.jsxs)("div",{className:"flex flex-wrap items-center gap-4 mt-6 text-xs",children:[(0,ct.jsxs)("div",{className:"flex items-center gap-1",children:[(0,ct.jsx)("span",{className:"inline-block w-4 h-4 bg-yellow-200 border border-yellow-400 mr-1"})," EAGLE"]}),(0,ct.jsxs)("div",{className:"flex items-center gap-1",children:[(0,ct.jsx)("span",{className:"inline-block w-4 h-4 bg-green-200 border border-green-400 mr-1"})," BIRDIE"]}),(0,ct.jsxs)("div",{className:"flex items-center gap-1",children:[(0,ct.jsx)("span",{className:"inline-block w-4 h-4 bg-red-200 border border-red-400 mr-1"})," BOGEY"]}),(0,ct.jsxs)("div",{className:"flex items-center gap-1",children:[(0,ct.jsx)("span",{className:"inline-block w-4 h-4 bg-blue-200 border border-blue-400 mr-1"})," DBL BOGEY OR MORE"]})]})]})})},Lt=e=>{let{tournamentId:t,tournamentFormat:s,onRefresh:r,courseId:n,tournamentInfo:l,tournamentSettings:i}=e;const[o,c]=(0,a.useState)([]),[d,u]=(0,a.useState)([]),[m,x]=(0,a.useState)(!1),[h,p]=(0,a.useState)([]),[g,f]=(0,a.useState)(null),[b,v]=(0,a.useState)(!1),[y,j]=(0,a.useState)(null),N=async()=>{try{x(!0);const e=await(0,tt.hEq)(t);c(e.data||[])}catch(e){console.error("Error fetching strokeplay data:",e)}finally{x(!1)}},w=async()=>{try{const e=await(0,tt.MsJ)(t);u(e.data||[])}catch(e){console.error("Error fetching tournament participants:",e)}};(0,a.useEffect)(()=>{N(),w()},[t]),(0,a.useEffect)(()=>{(async()=>{if(n)try{const e=await(0,tt.AIU)(n);e.data&&j(e.data)}catch(e){console.error("Error fetching course data:",e)}})()},[n]),(0,a.useEffect)(()=>{(()=>{const e=[];o.forEach((t,s)=>{const a={player_id:t.user_id,first_name:t.first_name,last_name:t.last_name,club:t.club,total_score:t.total_strokes,submitted_at:t.created_at,holes:t.scores};if(null!==y&&void 0!==y&&y.par_values&&t.scores){const e=(null===i||void 0===i?void 0:i.holeConfiguration)||"18";let s=1,r=18;"9"===e||"9_front"===e?(s=1,r=9):"9_back"===e?(s=10,r=9):(s=1,r=18);const n=y.par_values.slice(s-1,s-1+r).reduce((e,t)=>e+t,0);a.score_to_par=t.total_strokes-n}e.push(a)}),e.sort((e,t)=>e.total_score-t.total_score),p(e)})()},[o,y,i]);const _=e=>{switch(e){case 1:return(0,ct.jsx)(qe,{className:"w-5 h-5 text-yellow-500"});case 2:return(0,ct.jsx)(ht,{className:"w-5 h-5 text-gray-400"});case 3:return(0,ct.jsx)(St,{className:"w-5 h-5 text-amber-600"});default:return(0,ct.jsx)("span",{className:"w-5 h-5 text-neutral-400 text-sm font-medium",children:e})}},k=e=>{if(!e)return"Unknown";try{const t=e.replace(/\.\d+$/,"");return new Date(t).toLocaleDateString()}catch(t){return"Invalid Date"}},S=e=>0===e?"E":e>0?"+".concat(e):"".concat(e),C=e=>e<0?"text-red-600":0===e?"text-neutral-900":"text-blue-600",A=e=>{f(e),v(!0)},E=(()=>{const e=new Set;return h.forEach(t=>{e.add(t.player_id)}),d.filter(t=>!e.has(t.user_member_id))})();return m?(0,ct.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,ct.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-neon-green"})}):(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"bg-white rounded-xl border border-neutral-200 p-6",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)(qe,{className:"w-6 h-6 text-brand-neon-green"}),(0,ct.jsx)("h3",{className:"text-xl font-bold text-brand-black",children:"Strokeplay Leaderboard"})]}),(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsx)("button",{onClick:()=>{N(),w()},className:"px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors",children:"Refresh"}),(0,ct.jsx)("button",{onClick:()=>{const e="".concat(window.location.origin,"/#/leaderboard/tournament/").concat(t);navigator.share?navigator.share({title:"".concat((null===l||void 0===l?void 0:l.name)||"Tournament"," Leaderboard"),text:"Check out the leaderboard for ".concat((null===l||void 0===l?void 0:l.name)||"this tournament","!"),url:e}).catch(()=>{navigator.clipboard.writeText(e)}):navigator.clipboard.writeText(e)},className:"px-4 py-2 bg-neutral-100 text-neutral-700 rounded-lg font-medium hover:bg-neutral-200 transition-colors",children:(0,ct.jsx)(jt,{className:"w-4 h-4"})})]})]}),l&&(0,ct.jsxs)("div",{className:"mt-2 text-neutral-600",children:[(0,ct.jsx)("p",{className:"font-medium",children:l.name}),l.course_name&&(0,ct.jsx)("p",{className:"text-sm",children:l.course_name})]})]}),h.length>0&&(0,ct.jsxs)("div",{className:"bg-white rounded-xl border border-neutral-200 overflow-hidden",children:[(0,ct.jsx)("div",{className:"px-6 py-4 border-b border-neutral-200",children:(0,ct.jsx)("h4",{className:"text-lg font-semibold text-neutral-900",children:"Submitted Scores"})}),(0,ct.jsx)("div",{className:"hidden lg:block overflow-x-auto",children:(0,ct.jsxs)("table",{className:"w-full",children:[(0,ct.jsx)("thead",{className:"bg-neutral-50",children:(0,ct.jsxs)("tr",{children:[(0,ct.jsx)("th",{className:"px-6 py-4 text-left font-medium text-neutral-600",children:"Position"}),(0,ct.jsx)("th",{className:"px-6 py-4 text-left font-medium text-neutral-600",children:"Player"}),(0,ct.jsx)("th",{className:"px-6 py-4 text-center font-medium text-neutral-600",children:"Total Score"}),(0,ct.jsx)("th",{className:"px-6 py-4 text-center font-medium text-neutral-600",children:"To Par"}),(0,ct.jsx)("th",{className:"px-6 py-4 text-center font-medium text-neutral-600",children:"Submitted"}),(0,ct.jsx)("th",{className:"px-6 py-4 text-center font-medium text-neutral-600",children:"Details"})]})}),(0,ct.jsx)("tbody",{className:"divide-y divide-neutral-200",children:h.map((e,t)=>(0,ct.jsxs)("tr",{className:"hover:bg-neutral-50 transition-colors",children:[(0,ct.jsx)("td",{className:"px-6 py-4",children:(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[_(t+1),(0,ct.jsx)("span",{className:"text-sm font-medium text-neutral-600",children:t+1})]})}),(0,ct.jsxs)("td",{className:"px-6 py-4",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsxs)("span",{className:"font-semibold text-brand-black",children:[e.first_name," ",e.last_name]}),0===t&&(0,ct.jsx)(Ct,{className:"w-4 h-4 text-yellow-500"})]}),(0,ct.jsx)("div",{className:"text-sm text-neutral-600",children:e.club})]}),(0,ct.jsx)("td",{className:"px-6 py-4 text-center",children:(0,ct.jsx)("span",{className:"text-2xl font-bold text-brand-neon-green",children:e.total_score})}),(0,ct.jsx)("td",{className:"px-6 py-4 text-center",children:void 0!==e.score_to_par&&(0,ct.jsx)("span",{className:"text-lg font-semibold ".concat(C(e.score_to_par)),children:S(e.score_to_par)})}),(0,ct.jsx)("td",{className:"px-6 py-4 text-center",children:(0,ct.jsx)("span",{className:"text-sm text-neutral-600",children:k(e.submitted_at)})}),(0,ct.jsx)("td",{className:"px-6 py-4 text-center",children:(0,ct.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,ct.jsx)("button",{onClick:t=>{t.stopPropagation(),A(e)},className:"text-brand-neon-green hover:text-green-400 transition-colors",title:"View detailed scorecard",children:(0,ct.jsx)(wt,{className:"w-4 h-4"})}),e.scorecard_photo_url&&(0,ct.jsx)("button",{className:"text-blue-500 hover:text-blue-600 transition-colors",title:"View scorecard photo",onClick:()=>window.open(e.scorecard_photo_url,"_blank"),children:(0,ct.jsx)(Dt,{className:"w-4 h-4"})}),(0,ct.jsx)(yt,{className:"w-4 h-4 text-neutral-400"})]})})]},e.player_id))})]})}),(0,ct.jsx)("div",{className:"lg:hidden",children:(0,ct.jsxs)("table",{className:"w-full",children:[(0,ct.jsx)("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:(0,ct.jsxs)("tr",{children:[(0,ct.jsx)("th",{className:"px-3 py-3 text-left text-xs font-semibold text-neutral-600",children:"Pos"}),(0,ct.jsx)("th",{className:"px-3 py-3 text-left text-xs font-semibold text-neutral-600",children:"Player"}),(0,ct.jsx)("th",{className:"px-3 py-3 text-center text-xs font-semibold text-neutral-600",children:"Score"})]})}),(0,ct.jsx)("tbody",{className:"divide-y divide-neutral-200",children:h.map((e,t)=>(0,ct.jsxs)("tr",{className:"hover:bg-neutral-50 transition-colors cursor-pointer",onClick:()=>A(e),children:[(0,ct.jsx)("td",{className:"px-3 py-3",children:(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[_(t+1),(0,ct.jsx)("span",{className:"text-sm font-medium text-neutral-600",children:t+1})]})}),(0,ct.jsxs)("td",{className:"px-3 py-3",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsxs)("span",{className:"font-semibold text-brand-black text-sm",children:[e.first_name," ",e.last_name]}),0===t&&(0,ct.jsx)(Ct,{className:"w-3 h-3 text-yellow-500"})]}),(0,ct.jsx)("div",{className:"text-xs text-neutral-600",children:e.club})]}),(0,ct.jsx)("td",{className:"px-3 py-3 text-center",children:(0,ct.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,ct.jsx)("span",{className:"text-lg font-bold text-brand-neon-green",children:e.total_score}),void 0!==e.score_to_par&&(0,ct.jsxs)("span",{className:"text-sm font-semibold ".concat(C(e.score_to_par)),children:["(",S(e.score_to_par),")"]}),(0,ct.jsx)(yt,{className:"w-4 h-4 text-neutral-400"})]})})]},e.player_id))})]})})]}),0===h.length&&(0,ct.jsx)("div",{className:"bg-white rounded-xl border border-neutral-200 p-6",children:(0,ct.jsxs)("div",{className:"text-center py-8",children:[(0,ct.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-neutral-100 rounded-full flex items-center justify-center",children:(0,ct.jsx)(qe,{className:"w-8 h-8 text-neutral-400"})}),(0,ct.jsx)("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"No scores submitted yet"}),(0,ct.jsx)("p",{className:"text-neutral-600",children:"Players need to submit their scores to see the leaderboard."})]})}),E.length>0&&(0,ct.jsxs)("div",{className:"bg-white rounded-xl border border-neutral-200 overflow-hidden",children:[(0,ct.jsx)("div",{className:"px-6 py-4 border-b border-neutral-200",children:(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsx)(Ye,{className:"w-5 h-5 text-neutral-600"}),(0,ct.jsx)("h4",{className:"text-lg font-semibold text-neutral-900",children:"Registered Participants"}),(0,ct.jsxs)("span",{className:"text-sm text-neutral-500",children:["(",E.length," waiting to submit scores)"]})]})}),(0,ct.jsx)("div",{className:"hidden lg:block overflow-x-auto",children:(0,ct.jsxs)("table",{className:"w-full",children:[(0,ct.jsx)("thead",{className:"bg-neutral-50",children:(0,ct.jsxs)("tr",{children:[(0,ct.jsx)("th",{className:"px-6 py-4 text-left font-medium text-neutral-600",children:"Name"}),(0,ct.jsx)("th",{className:"px-6 py-4 text-left font-medium text-neutral-600",children:"Club"}),(0,ct.jsx)("th",{className:"px-6 py-4 text-center font-medium text-neutral-600",children:"Status"})]})}),(0,ct.jsx)("tbody",{className:"divide-y divide-neutral-200",children:E.map(e=>(0,ct.jsxs)("tr",{className:"hover:bg-neutral-50 transition-colors",children:[(0,ct.jsx)("td",{className:"px-6 py-4",children:(0,ct.jsxs)("span",{className:"font-medium text-neutral-900",children:[e.first_name," ",e.last_name]})}),(0,ct.jsx)("td",{className:"px-6 py-4",children:(0,ct.jsx)("span",{className:"text-sm text-neutral-600",children:e.club})}),(0,ct.jsx)("td",{className:"px-6 py-4 text-center",children:(0,ct.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Waiting to Submit"})})]},e.user_member_id))})]})}),(0,ct.jsx)("div",{className:"lg:hidden",children:(0,ct.jsxs)("table",{className:"w-full",children:[(0,ct.jsx)("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:(0,ct.jsxs)("tr",{children:[(0,ct.jsx)("th",{className:"px-3 py-3 text-left text-xs font-semibold text-neutral-600",children:"Name"}),(0,ct.jsx)("th",{className:"px-3 py-3 text-left text-xs font-semibold text-neutral-600",children:"Club"}),(0,ct.jsx)("th",{className:"px-3 py-3 text-center text-xs font-semibold text-neutral-600",children:"Status"})]})}),(0,ct.jsx)("tbody",{className:"divide-y divide-neutral-200",children:E.map(e=>(0,ct.jsxs)("tr",{className:"hover:bg-neutral-50 transition-colors",children:[(0,ct.jsx)("td",{className:"px-3 py-3",children:(0,ct.jsxs)("span",{className:"font-medium text-neutral-900 text-sm",children:[e.first_name," ",e.last_name]})}),(0,ct.jsx)("td",{className:"px-3 py-3",children:(0,ct.jsx)("span",{className:"text-xs text-neutral-600",children:e.club})}),(0,ct.jsx)("td",{className:"px-3 py-3 text-center",children:(0,ct.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Waiting"})})]},e.user_member_id))})]})})]}),b&&g&&(0,ct.jsx)(Rt,{playerScore:g,courseData:y,tournamentSettings:i,onClose:()=>{v(!1),f(null)}})]})},Ft=We("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),Ot=We("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),It=We("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),zt=We("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Bt=e=>{let{tournamentId:t,tournamentName:s,weekStartDate:r,tournamentStartDate:n,tournamentEndDate:l}=e;const[i,o]=(0,a.useState)([]),[c,d]=(0,a.useState)(!0),[u,m]=(0,a.useState)(null),[x,h]=(0,a.useState)(null),[p,g]=(0,a.useState)([]),[f,b]=(0,a.useState)(!1),[v,y]=(0,a.useState)(!1),j=(()=>{if(r)return r;if(n){return new Date(n).toISOString().split("T")[0]}const e=(new Date).toISOString().split("T")[0];return console.log("No tournament dates available, using current date:",e),e})();console.log("\ud83d\udcc5 currentWeek value:",j),(0,a.useEffect)(()=>{const e=()=>{y(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,a.useEffect)(()=>{if(console.log("\ud83d\udd04 useEffect triggered - tournamentId:",t,"currentWeek:",j),!t||t<=0)return console.log("\u274c Invalid tournament ID"),void m("Invalid tournament ID");console.log("\ud83d\ude80 Calling fetchLeaderboard..."),N()},[t,j]);const N=async()=>{console.log("\ud83c\udfc6 fetchLeaderboard called with tournamentId:",t,"currentWeek:",j);try{d(!0),m(null),console.log("\ud83d\udce1 Calling getWeeklyLeaderboard API...");const e=await(0,tt.fuQ)(t,j);console.log("\ud83d\udce5 Leaderboard API Response:",e),e.data&&Array.isArray(e.data)?(console.log("\u2705 Setting leaderboard with",e.data.length,"players"),o(e.data)):(console.log("\u26a0\ufe0f Invalid response format from server"),m("Invalid response format from server"))}catch(a){var e,s;console.error("\u274c Error fetching leaderboard:",a),m((null===(e=a.response)||void 0===e||null===(s=e.data)||void 0===s?void 0:s.error)||"Failed to fetch leaderboard")}finally{d(!1)}},w=async e=>{x===e?(h(null),g([])):(h(e),await(async e=>{try{b(!0);const s=await(0,tt.RcG)(t,e,j);g(s.data)}catch(s){}finally{b(!1)}})(e))},_=(e,t)=>(e.player1_id,e.match_winner_id===t?"W":null===e.match_winner_id?"T":"L"),k=e=>{switch(e){case"W":return"text-green-600 bg-green-100";case"L":return"text-red-600 bg-red-100";case"T":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}};return c?(0,ct.jsx)("div",{className:"max-w-6xl mx-auto p-4 md:p-6",children:(0,ct.jsxs)("div",{className:"animate-pulse",children:[(0,ct.jsx)("div",{className:"h-8 bg-gray-200 rounded mb-4"}),(0,ct.jsx)("div",{className:"space-y-3",children:Array.from({length:5},(e,t)=>(0,ct.jsx)("div",{className:"h-16 bg-gray-200 rounded"},t))})]})}):u?(0,ct.jsx)("div",{className:"max-w-6xl mx-auto p-4 md:p-6",children:(0,ct.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,ct.jsx)("p",{className:"text-red-800",children:u})})}):(0,ct.jsxs)("div",{className:"max-w-6xl mx-auto p-4 md:p-6",children:[(0,ct.jsxs)("div",{className:"mb-6",children:[(0,ct.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,ct.jsxs)("h2",{className:"text-xl md:text-2xl font-bold text-gray-900",children:["Weekly Leaderboard - ",s]}),v?(0,ct.jsx)(Ft,{className:"w-5 h-5 text-blue-600"}):(0,ct.jsx)(Ot,{className:"w-5 h-5 text-gray-600"})]}),(0,ct.jsxs)("p",{className:"text-sm md:text-base text-gray-600",children:["Current Week: ",new Date(j).toLocaleDateString()]}),(0,ct.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"\ud83d\udca1 Click on any player row to view their detailed match results"}),(()=>{if(l){new Date(l),new Date;const e=new Date(l);e.setHours(23,59,59,999);const t=new Date;t.setHours(0,0,0,0),console.log("\ud83d\udd0d Tournament End Date Check:"),console.log("  End date (end of day):",e.toLocaleString()),console.log("  Current date (start of day):",t.toLocaleDateString()),console.log("  Tournament ended:",e<t)}if(!l)return null;const e=new Date(l);e.setHours(23,59,59,999);const t=new Date;t.setHours(0,0,0,0);return e<t?(0,ct.jsx)("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,ct.jsx)("p",{className:"text-sm text-yellow-800",children:"\ud83d\udcc5 This tournament has ended. You're viewing historical data from the tournament period."})}):null})()]}),0===i.length?(0,ct.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 md:p-6 text-center",children:[(0,ct.jsx)(qe,{className:"w-8 h-8 md:w-12 md:h-12 text-yellow-600 mx-auto mb-4"}),(0,ct.jsx)("h3",{className:"text-base md:text-lg font-semibold text-yellow-900 mb-2",children:"No Scores Submitted Yet"}),(0,ct.jsx)("p",{className:"text-sm md:text-base text-yellow-800",children:"Be the first to submit your 9-hole scorecard for this week!"})]}):(0,ct.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[!v&&(0,ct.jsx)("div",{className:"hidden md:block bg-gray-50 px-6 py-4 border-b",children:(0,ct.jsxs)("div",{className:"grid grid-cols-10 gap-4 text-sm font-medium text-gray-700",children:[(0,ct.jsx)("div",{className:"col-span-1",children:"Rank"}),(0,ct.jsx)("div",{className:"col-span-3",children:"Player"}),(0,ct.jsx)("div",{className:"col-span-1 text-center",children:"Hole Pts"}),(0,ct.jsx)("div",{className:"col-span-1 text-center",children:"Round Pts"}),(0,ct.jsx)("div",{className:"col-span-1 text-center",children:"Total"}),(0,ct.jsx)("div",{className:"col-span-2 text-center",children:"Record"}),(0,ct.jsx)("div",{className:"col-span-1 text-center",children:"Details"})]})}),(0,ct.jsx)("div",{className:"divide-y divide-gray-200",children:i.map((e,t)=>(0,ct.jsxs)("div",{children:[!v&&(0,ct.jsx)("div",{className:"hidden md:block px-6 py-4 hover:bg-gray-50 transition-colors cursor-pointer group border-l-4 border-l-transparent hover:border-l-blue-200",onClick:()=>w(e.user_id),children:(0,ct.jsxs)("div",{className:"grid grid-cols-10 gap-4 items-center",children:[(0,ct.jsx)("div",{className:"col-span-1",children:(0,ct.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ".concat(0===t?"bg-yellow-100 text-yellow-800":1===t?"bg-gray-100 text-gray-800":2===t?"bg-orange-100 text-orange-800":"bg-gray-50 text-gray-600"),children:t+1})}),(0,ct.jsxs)("div",{className:"col-span-3",children:[(0,ct.jsxs)("div",{className:"font-semibold text-gray-900",children:[e.first_name," ",e.last_name]}),(0,ct.jsx)("div",{className:"text-sm text-gray-500",children:e.club})]}),(0,ct.jsx)("div",{className:"col-span-1 text-center",children:(0,ct.jsx)("div",{className:"text-lg font-semibold text-blue-600",children:Number(e.total_hole_points||0).toFixed(1)})}),(0,ct.jsx)("div",{className:"col-span-1 text-center",children:(0,ct.jsx)("div",{className:"text-lg font-semibold text-green-600",children:Number(e.total_round_points||0).toFixed(1)})}),(0,ct.jsx)("div",{className:"col-span-1 text-center",children:(0,ct.jsx)("div",{className:"text-xl font-bold text-gray-900",children:Number(e.total_score||0).toFixed(1)})}),(0,ct.jsxs)("div",{className:"col-span-2 text-center",children:[(0,ct.jsxs)("div",{className:"text-sm",children:[(0,ct.jsxs)("span",{className:"font-semibold",children:[Number(e.matches_won||0),"W"]}),(0,ct.jsx)("span",{className:"text-gray-500",children:"-"}),(0,ct.jsxs)("span",{className:"font-semibold",children:[Number(e.matches_tied||0),"T"]}),(0,ct.jsx)("span",{className:"text-gray-500",children:"-"}),(0,ct.jsxs)("span",{className:"font-semibold",children:[Number(e.matches_lost||0),"L"]})]}),(0,ct.jsxs)("div",{className:"text-xs text-gray-500",children:["(",Number(e.matches_played||0)," played)"]})]}),(0,ct.jsx)("div",{className:"col-span-1 text-center",children:(0,ct.jsx)("button",{onClick:t=>{t.stopPropagation(),w(e.user_id)},className:"p-2 hover:bg-blue-100 rounded-lg transition-all duration-200 group-hover:bg-blue-50 transform hover:scale-105",title:x===e.user_id?"Hide match details":"View match details",children:x===e.user_id?(0,ct.jsx)(It,{className:"w-5 h-5 text-blue-600"}):(0,ct.jsx)(zt,{className:"w-5 h-5 text-gray-500 group-hover:text-blue-600 transition-colors"})})})]})}),v&&(0,ct.jsxs)("div",{className:"md:hidden p-4 hover:bg-gray-50",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ct.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ct.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold ".concat(0===t?"bg-yellow-100 text-yellow-800":1===t?"bg-gray-100 text-gray-800":2===t?"bg-orange-100 text-orange-800":"bg-gray-50 text-gray-600"),children:t+1}),(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("div",{className:"font-semibold text-gray-900 text-base",children:[e.first_name," ",e.last_name]}),(0,ct.jsx)("div",{className:"text-sm text-gray-500",children:e.club})]})]}),(0,ct.jsx)("button",{onClick:()=>w(e.user_id),className:"p-2 hover:bg-blue-100 rounded-lg transition-colors",title:x===e.user_id?"Hide match details":"View match details",children:x===e.user_id?(0,ct.jsx)(It,{className:"w-6 h-6 text-blue-600"}):(0,ct.jsx)(zt,{className:"w-6 h-6 text-gray-500 hover:text-blue-600 transition-colors"})})]}),(0,ct.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-3",children:[(0,ct.jsxs)("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[(0,ct.jsx)("div",{className:"text-xs text-blue-600 font-medium mb-1",children:"Hole Pts"}),(0,ct.jsx)("div",{className:"text-lg font-bold text-blue-700",children:Number(e.total_hole_points||0).toFixed(1)})]}),(0,ct.jsxs)("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[(0,ct.jsx)("div",{className:"text-xs text-green-600 font-medium mb-1",children:"Round Pts"}),(0,ct.jsx)("div",{className:"text-lg font-bold text-green-700",children:Number(e.total_round_points||0).toFixed(1)})]}),(0,ct.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[(0,ct.jsx)("div",{className:"text-xs text-gray-600 font-medium mb-1",children:"Total"}),(0,ct.jsx)("div",{className:"text-xl font-bold text-gray-800",children:Number(e.total_score||0).toFixed(1)})]})]}),(0,ct.jsx)("div",{className:"flex items-center justify-between text-sm",children:(0,ct.jsxs)("div",{className:"flex items-center gap-4",children:[(0,ct.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ct.jsxs)("span",{className:"font-semibold text-green-600",children:[Number(e.matches_won||0),"W"]}),(0,ct.jsx)("span",{className:"text-gray-400",children:"-"}),(0,ct.jsxs)("span",{className:"font-semibold text-yellow-600",children:[Number(e.matches_tied||0),"T"]}),(0,ct.jsx)("span",{className:"text-gray-400",children:"-"}),(0,ct.jsxs)("span",{className:"font-semibold text-red-600",children:[Number(e.matches_lost||0),"L"]})]}),(0,ct.jsxs)("span",{className:"text-gray-500",children:["(",Number(e.matches_played||0)," played)"]})]})}),(0,ct.jsx)("div",{className:"mt-3 text-center",children:(0,ct.jsx)("button",{onClick:()=>w(e.user_id),className:"flex items-center justify-center gap-2 w-full py-2 px-4 bg-blue-50 hover:bg-blue-100 rounded-lg transition-all duration-200 text-sm text-blue-700 font-medium transform hover:scale-105",title:x===e.user_id?"Hide match details":"View match details",children:x===e.user_id?(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)(It,{className:"w-4 h-4"}),"Hide Match Details"]}):(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)(zt,{className:"w-4 h-4"}),"View Match Details"]})})})]}),x===e.user_id&&(0,ct.jsx)("div",{className:"bg-gray-50 px-4 md:px-6 py-4 border-t",children:f?(0,ct.jsx)("div",{className:"text-center py-4",children:(0,ct.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"})}):p.length>0?(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h4",{className:"font-semibold text-gray-900 mb-4 text-base md:text-lg",children:"Match Comparison Matrix"}),v?(0,ct.jsx)("div",{className:"space-y-4",children:p.map((t,s)=>{const a=t.player1_id===e.user_id,r=a?"".concat(t.player2_first_name," ").concat(t.player2_last_name):"".concat(t.player1_first_name," ").concat(t.player1_last_name),n=a?t.player2_id:t.player1_id,l=i.find(e=>e.user_id===n),o=(null===l||void 0===l?void 0:l.club)||"Unknown Club",c=_(t,e.user_id);return(0,ct.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("div",{className:"font-semibold text-gray-900",children:r}),(0,ct.jsxs)("div",{className:"text-sm text-gray-500",children:[o," Club"]})]}),(0,ct.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-bold ".concat(k(c)),children:c})]}),(0,ct.jsx)("div",{className:"grid grid-cols-3 gap-2 mb-3",children:Array.from({length:9},(e,s)=>{var r,n;const l=Number((null===(r=a?t.player1_scores:t.player2_scores)||void 0===r?void 0:r[s])||0),i=Number((null===(n=a?t.player2_scores:t.player1_scores)||void 0===n?void 0:n[s])||0);if(0===l&&0===i)return null;let o="bg-gray-100",c="text-gray-700";return l>0&&i>0&&(l<i?(o="bg-green-200",c="text-green-900"):l>i?(o="bg-red-200",c="text-red-900"):(o="bg-yellow-200",c="text-yellow-900")),(0,ct.jsxs)("div",{className:"text-center p-2 rounded ".concat(o),children:[(0,ct.jsxs)("div",{className:"text-xs text-gray-500 mb-1",children:["Hole ",s+1]}),(0,ct.jsx)("div",{className:"text-sm font-bold ".concat(c),children:i>0?i:"-"})]},s)})}),(0,ct.jsx)("div",{className:"grid grid-cols-3 gap-2",children:[{name:"R1 (1-3)",playerScore:Number(a?t.round1_points_player1||0:t.round1_points_player2||0),opponentScore:Number(a?t.round1_points_player2||0:t.round1_points_player1||0)},{name:"R2 (4-6)",playerScore:Number(a?t.round2_points_player1||0:t.round2_points_player2||0),opponentScore:Number(a?t.round2_points_player2||0:t.round2_points_player1||0)},{name:"R3 (7-9)",playerScore:Number(a?t.round3_points_player1||0:t.round3_points_player2||0),opponentScore:Number(a?t.round3_points_player2||0:t.round3_points_player1||0)}].map((e,t)=>{let s="T",a="text-yellow-700";return e.playerScore>e.opponentScore?(s="W",a="text-green-700"):e.playerScore<e.opponentScore&&(s="L",a="text-red-700"),(0,ct.jsxs)("div",{className:"text-center p-2 bg-gray-100 rounded",children:[(0,ct.jsx)("div",{className:"text-xs text-gray-600 mb-1",children:e.name}),(0,ct.jsx)("div",{className:"text-lg font-bold ".concat(a),children:s})]},t)})})]},t.id)})}):(0,ct.jsx)("div",{className:"overflow-x-auto",children:(0,ct.jsxs)("table",{className:"w-full text-center border-collapse",children:[(0,ct.jsxs)("thead",{children:[(0,ct.jsxs)("tr",{className:"border-b border-gray-300",children:[(0,ct.jsx)("th",{className:"px-2 py-1 text-xs font-bold text-gray-700 bg-gray-100 sticky left-0 z-10 min-w-[120px]",children:"Player"}),(0,ct.jsx)("th",{colSpan:3,className:"px-1 py-1 text-xs font-bold text-gray-700 bg-blue-50 border-l-2 border-blue-200",children:"R1 (Holes 1-3)"}),(0,ct.jsx)("th",{colSpan:3,className:"px-1 py-1 text-xs font-bold text-gray-700 bg-green-50 border-l-2 border-green-200",children:"R2 (Holes 4-6)"}),(0,ct.jsx)("th",{colSpan:3,className:"px-1 py-1 text-xs font-bold text-gray-700 bg-purple-50 border-l-2 border-purple-200",children:"R3 (Holes 7-9)"}),(0,ct.jsx)("th",{className:"px-1 py-1 text-xs font-bold text-gray-700 bg-gray-100 border-l-2 border-gray-200",children:"H"}),(0,ct.jsx)("th",{className:"px-1 py-1 text-xs font-bold text-gray-700 bg-gray-100",children:"R"}),(0,ct.jsx)("th",{className:"px-1 py-1 text-xs font-bold text-gray-700 bg-gray-100",children:"Result"})]}),(0,ct.jsxs)("tr",{className:"border-b-2 border-gray-300",children:[(0,ct.jsx)("th",{className:"px-2 py-2 text-xs font-bold text-gray-700 bg-gray-100 sticky left-0 z-10 min-w-[120px]"}),Array.from({length:9},(e,t)=>(0,ct.jsx)("th",{className:"px-1 py-2 text-xs font-bold text-gray-700 bg-gray-100 min-w-[40px] ".concat(0===t?"border-l-2 border-blue-200":3===t?"border-l-2 border-green-200":6===t?"border-l-2 border-purple-200":""),children:t+1},t)),(0,ct.jsx)("th",{className:"px-1 py-2 text-xs font-bold text-gray-700 bg-gray-100 border-l-2 border-gray-200"}),(0,ct.jsx)("th",{className:"px-1 py-2 text-xs font-bold text-gray-700 bg-gray-100"}),(0,ct.jsx)("th",{className:"px-1 py-2 text-xs font-bold text-gray-700 bg-gray-100"})]})]}),(0,ct.jsxs)("tbody",{children:[(0,ct.jsxs)("tr",{className:"border-b border-gray-200 bg-blue-50",children:[(0,ct.jsxs)("td",{className:"px-2 py-2 text-sm font-bold text-blue-900 sticky left-0 z-10 bg-blue-50",children:[e.first_name," ",e.last_name]}),Array.from({length:9},(t,s)=>{const a=p.find(t=>t.player1_id===e.user_id||t.player2_id===e.user_id);if(!a)return"";const r=a.player1_id===e.user_id?a.player1_scores:a.player2_scores,n=Number((null===r||void 0===r?void 0:r[s])||0);return(0,ct.jsx)("td",{className:"px-1 py-2 text-sm font-bold text-blue-900",children:n>0?n:""},s)}),(0,ct.jsx)("td",{className:"px-1 py-2 text-sm font-bold text-blue-600",children:Number(e.total_hole_points||0).toFixed(1)}),(0,ct.jsx)("td",{className:"px-1 py-2 text-sm font-bold text-green-600",children:Number(e.total_round_points||0).toFixed(1)}),(0,ct.jsx)("td",{className:"px-1 py-2 text-sm font-bold text-gray-900",children:"-"})]}),p.map(t=>{const s=t.player1_id===e.user_id,a=s?"".concat(t.player2_first_name," ").concat(t.player2_last_name):"".concat(t.player1_first_name," ").concat(t.player1_last_name),r=s?t.player2_id:t.player1_id,n=i.find(e=>e.user_id===r),l=(null===n||void 0===n?void 0:n.club)||"Unknown Club",o=s?t.player2_scores:t.player1_scores,c=(Number(s?t.hole_points_player2||0:t.hole_points_player1||0),s?(Number(t.round1_points_player2||0),Number(t.round2_points_player2||0),Number(t.round3_points_player2||0)):(Number(t.round1_points_player1||0),Number(t.round2_points_player1||0),Number(t.round3_points_player1||0)),_(t,e.user_id));return[(0,ct.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[(0,ct.jsxs)("td",{className:"px-2 py-2 text-sm font-semibold text-gray-900 sticky left-0 z-10 bg-white",children:[(0,ct.jsx)("div",{children:a}),(0,ct.jsxs)("div",{className:"text-xs text-gray-500",children:[l," Club"]})]}),Array.from({length:9},(s,a)=>{const r=t.player1_id===e.user_id?t.player1_scores:t.player2_scores,n=Number((null===r||void 0===r?void 0:r[a])||0),l=Number((null===o||void 0===o?void 0:o[a])||0);let i="",c="";return n>0&&l>0&&(n<l?(i="bg-green-200",c="text-green-900"):n>l?(i="bg-red-200",c="text-red-900"):(i="bg-yellow-200",c="text-yellow-900")),(0,ct.jsx)("td",{className:"px-1 py-2 text-sm font-bold ".concat(i," ").concat(c),children:l>0?l:""},a)}),(0,ct.jsx)("td",{className:"px-1 py-2 text-sm font-semibold text-blue-600",children:s?Number(t.hole_points_player1||0).toFixed(1):Number(t.hole_points_player2||0).toFixed(1)}),(0,ct.jsx)("td",{className:"px-1 py-2 text-sm font-semibold text-green-600",children:s?(Number(t.round1_points_player1||0)+Number(t.round2_points_player1||0)+Number(t.round3_points_player1||0)).toFixed(1):(Number(t.round1_points_player2||0)+Number(t.round2_points_player2||0)+Number(t.round3_points_player2||0)).toFixed(1)}),(0,ct.jsx)("td",{className:"px-1 py-2",children:(0,ct.jsx)("span",{className:"px-2 py-1 rounded text-xs font-bold ".concat(k(c)),children:c})})]},"".concat(t.id,"-opponent")),(0,ct.jsxs)("tr",{className:"border-b border-gray-200 bg-gray-100",children:[(0,ct.jsx)("td",{className:"px-2 py-2 text-xs font-semibold text-gray-700 sticky left-0 z-10 bg-gray-100",children:"Round Results"}),(0,ct.jsx)("td",{colSpan:3,className:"px-1 py-2 text-xs font-bold text-center bg-blue-50",children:(()=>{const e=Number(s?t.round1_points_player1||0:t.round1_points_player2||0),a=Number(s?t.round1_points_player2||0:t.round1_points_player1||0);return e>a?(0,ct.jsx)("span",{className:"text-green-700 font-bold text-lg",children:"W"}):e<a?(0,ct.jsx)("span",{className:"text-red-700 font-bold text-lg",children:"L"}):(0,ct.jsx)("span",{className:"text-yellow-700 font-bold text-lg",children:"T"})})()}),(0,ct.jsx)("td",{colSpan:3,className:"px-1 py-2 text-xs font-bold text-center bg-green-50",children:(()=>{const e=Number(s?t.round2_points_player1||0:t.round2_points_player2||0),a=Number(s?t.round2_points_player2||0:t.round2_points_player1||0);return e>a?(0,ct.jsx)("span",{className:"text-green-700 font-bold text-lg",children:"W"}):e<a?(0,ct.jsx)("span",{className:"text-red-700 font-bold text-lg",children:"L"}):(0,ct.jsx)("span",{className:"text-yellow-700 font-bold text-lg",children:"T"})})()}),(0,ct.jsx)("td",{colSpan:3,className:"px-1 py-2 text-xs font-bold text-center bg-purple-50",children:(()=>{const e=Number(s?t.round3_points_player1||0:t.round3_points_player2||0),a=Number(s?t.round3_points_player2||0:t.round3_points_player1||0);return e>a?(0,ct.jsx)("span",{className:"text-green-700 font-bold text-lg",children:"W"}):e<a?(0,ct.jsx)("span",{className:"text-red-700 font-bold text-lg",children:"L"}):(0,ct.jsx)("span",{className:"text-yellow-700 font-bold text-lg",children:"T"})})()}),(0,ct.jsx)("td",{className:"px-1 py-2 text-xs text-gray-500 bg-gray-100",children:"-"}),(0,ct.jsx)("td",{className:"px-1 py-2 text-xs text-gray-500 bg-gray-100",children:"-"}),(0,ct.jsx)("td",{className:"px-1 py-2 text-xs text-gray-500 bg-gray-100",children:"-"})]},"".concat(t.id,"-rounds"))]})]})]})}),(0,ct.jsxs)("div",{className:"flex flex-wrap items-center gap-3 mt-3 text-xs",children:[(0,ct.jsxs)("div",{className:"flex items-center gap-1",children:[(0,ct.jsx)("span",{className:"inline-block w-3 h-3 bg-green-200 border border-green-400"})," Win"]}),(0,ct.jsxs)("div",{className:"flex items-center gap-1",children:[(0,ct.jsx)("span",{className:"inline-block w-3 h-3 bg-yellow-200 border border-yellow-400"})," Tie"]}),(0,ct.jsxs)("div",{className:"flex items-center gap-1",children:[(0,ct.jsx)("span",{className:"inline-block w-3 h-3 bg-red-200 border border-red-400"})," Loss"]}),(0,ct.jsx)("div",{className:"text-gray-500",children:"H = Hole Points, R = Round Points"}),(0,ct.jsx)("div",{className:"text-gray-500",children:"Numbers 1-9 = Individual hole scores"}),(0,ct.jsx)("div",{className:"text-gray-500",children:"R1 = Holes 1-3, R2 = Holes 4-6, R3 = Holes 7-9"}),(0,ct.jsx)("div",{className:"text-gray-500",children:"Round Results row shows W/T/L for each round"})]})]}):(0,ct.jsx)("div",{className:"text-center py-4 text-gray-500",children:"No matches found for this player"})})]},e.user_id))})]}),(0,ct.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[(0,ct.jsx)("h3",{className:"font-semibold text-blue-900 mb-3",children:"Scoring System"}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h4",{className:"font-medium text-blue-800 mb-2",children:"Point Breakdown:"}),(0,ct.jsxs)("ul",{className:"space-y-1 text-blue-700",children:[(0,ct.jsxs)("li",{children:["\u2022 ",(0,ct.jsx)("strong",{children:"Hole Points:"})," 0.5 per hole won"]}),(0,ct.jsxs)("li",{children:["\u2022 ",(0,ct.jsx)("strong",{children:"Round Points:"})," 1.0 per round won (holes 1-3, 4-6, 7-9)"]})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h4",{className:"font-medium text-blue-800 mb-2",children:"Match Results:"}),(0,ct.jsxs)("ul",{className:"space-y-1 text-blue-700",children:[(0,ct.jsxs)("li",{children:["\u2022 ",(0,ct.jsx)("strong",{children:"Win:"})," Win 2+ rounds OR win 1 round + tie 2"]}),(0,ct.jsxs)("li",{children:["\u2022 ",(0,ct.jsx)("strong",{children:"Tie:"})," Each player wins 1 round + 1 tied OR all 3 tied"]}),(0,ct.jsxs)("li",{children:["\u2022 ",(0,ct.jsx)("strong",{children:"Loss:"})," Otherwise"]})]})]})]})]})]})},Ut=We("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Ht=We("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Wt=e=>{let{tournamentId:t,standings:s,isAdmin:r=!1}=e;const[n,l]=(0,a.useState)([]),[i,o]=(0,a.useState)([]),[c,d]=(0,a.useState)(!0),[u,m]=(0,a.useState)(null),[x,h]=(0,a.useState)({}),p=()=>{const e=[];s.forEach(t=>{if(t.participants.length>0){const s=t.participants[0];e.push({user_id:s.user_id,first_name:s.first_name,last_name:s.last_name,club:s.club,group_name:t.group_name,position:1,match_wins:s.match_wins,match_losses:s.match_losses,match_ties:s.match_ties,total_matches:s.total_matches,tiebreaker_points:s.tiebreaker_points,total_holes_won:s.total_holes_won,total_holes_lost:s.total_holes_lost,net_holes:s.net_holes})}});const t=[];s.forEach(e=>{e.participants.slice(1).forEach((s,a)=>{t.push({user_id:s.user_id,first_name:s.first_name,last_name:s.last_name,club:s.club,group_name:e.group_name,position:a+2,match_wins:s.match_wins,match_losses:s.match_losses,match_ties:s.match_ties,total_matches:s.total_matches,tiebreaker_points:s.tiebreaker_points,total_holes_won:s.total_holes_won,total_holes_lost:s.total_holes_lost,net_holes:s.net_holes})})}),t.sort((e,t)=>t.match_wins!==e.match_wins?t.match_wins-e.match_wins:t.tiebreaker_points!==e.tiebreaker_points?t.tiebreaker_points-e.tiebreaker_points:t.net_holes-e.net_holes);const a=8-e.length,r=t.slice(0,a);return e.push(...r),e.slice(0,8)},g=e=>{if(8!==e.length)return[];const t=e.slice(0,4),s=e.slice(4,8),a=[];return a.push({id:"east-qf-1",round:1,match_number:1,player1:t[0],player2:t[3],division:"east"}),a.push({id:"east-qf-2",round:1,match_number:2,player1:t[1],player2:s[2],division:"east"}),a.push({id:"west-qf-1",round:1,match_number:3,player1:s[0],player2:t[2],division:"west"}),a.push({id:"west-qf-2",round:1,match_number:4,player1:s[1],player2:s[3],division:"west"}),a.push({id:"east-sf-1",round:2,match_number:5,division:"east"}),a.push({id:"west-sf-1",round:2,match_number:6,division:"west"}),a.push({id:"championship",round:3,match_number:1,division:"east"}),a};(0,a.useEffect)(()=>{(async()=>{try{const e=await tt.Ay$.get("/tournaments/".concat(t));h(e.data)}catch(u){console.error("Error fetching tournament data:",u)}})()},[t]),(0,a.useEffect)(()=>{(async()=>{try{d(!0);const e=(await tt.Ay$.get("/tournaments/".concat(t,"/championship-matches"))).data.filter(e=>"national_championship"===e.match_type);if(console.log("Fetched national championship matches from database:",e.length),0===e.length){const e=p();return l(e),o(g(e)),void d(!1)}const s=e.map(e=>{const t=-1!==e.player1_id&&e.player1_name?{user_id:e.player1_id,first_name:e.player1_name||"",last_name:e.player1_last_name||"",club:e.player1_club||"",group_name:"",position:0,match_wins:0,match_losses:0,match_ties:0,total_matches:0,tiebreaker_points:0,total_holes_won:0,total_holes_lost:0,net_holes:0}:null,s=-1!==e.player2_id&&e.player2_name?{user_id:e.player2_id,first_name:e.player2_name||"",last_name:e.player2_last_name||"",club:e.player2_club||"",group_name:"",position:0,match_wins:0,match_losses:0,match_ties:0,total_matches:0,tiebreaker_points:0,total_holes_won:0,total_holes_lost:0,net_holes:0}:null;let a="east";1===e.round_number?3!==e.match_number&&4!==e.match_number||(a="west"):2===e.round_number&&6===e.match_number&&(a="west");const r=e.winner_id&&-1!==e.winner_id?{user_id:e.winner_id,first_name:"",last_name:"",club:"",group_name:"",position:0,match_wins:0,match_losses:0,match_ties:0,total_matches:0,tiebreaker_points:0,total_holes_won:0,total_holes_lost:0,net_holes:0}:void 0;return{id:"round-".concat(e.round_number,"-match-").concat(e.match_number),round:e.round_number,match_number:e.match_number,player1:t,player2:s,winner:r,division:a}});o(s),d(!1)}catch(u){console.error("Error fetching bracket data:",u),m("Failed to load bracket"),d(!1)}})()},[t,s]);return c?(0,ct.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:(0,ct.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,ct.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-neon-green"}),(0,ct.jsx)("span",{className:"ml-3 text-gray-600",children:"Loading bracket..."})]})}):u?(0,ct.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:(0,ct.jsxs)("div",{className:"text-center py-8",children:[(0,ct.jsx)(qe,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,ct.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Bracket"}),(0,ct.jsx)("p",{className:"text-gray-500 text-sm mb-4",children:u})]})}):(0,ct.jsx)("div",{className:"space-y-6",children:(0,ct.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,ct.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)(qe,{className:"w-6 h-6 text-brand-neon-green"}),(0,ct.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"National Championship Bracket"})]})}),!r&&(0,ct.jsx)("div",{className:"mb-6 bg-blue-50 p-4 rounded-lg border border-blue-200",children:(0,ct.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[1,2,3].map(e=>{const t=(e=>({name:x["round_".concat(e,"_course")],teebox:x["round_".concat(e,"_teebox")],notes:x["round_".concat(e,"_notes")]}))(e);return t.name?(0,ct.jsxs)("div",{className:"bg-white p-3 rounded-lg border border-blue-200",children:[(0,ct.jsxs)("div",{className:"text-xs font-semibold text-blue-800 mb-1",children:["Round ",e]}),(0,ct.jsx)("div",{className:"text-sm font-medium text-gray-900",children:t.name}),t.teebox&&(0,ct.jsxs)("div",{className:"text-xs text-gray-600 mt-1",children:["Teebox: ",t.teebox]})]},e):null})})}),(0,ct.jsxs)("div",{className:"overflow-x-auto",children:[(0,ct.jsxs)("div",{className:"hidden lg:flex min-w-max space-x-8 py-4",children:[(0,ct.jsxs)("div",{className:"flex flex-col space-y-8",children:[(0,ct.jsx)("div",{className:"text-center",children:(0,ct.jsx)("h4",{className:"text-sm font-semibold text-gray-700 mb-4",children:"Quarterfinals"})}),(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsx)("div",{className:"text-center",children:(0,ct.jsxs)("div",{className:"inline-flex items-center space-x-1 px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:[(0,ct.jsx)(Ge,{className:"w-3 h-3"}),(0,ct.jsx)("span",{children:"East"})]})}),i.filter(e=>1===e.round&&"east"===e.division).map((e,t)=>(0,ct.jsx)("div",{className:"w-64",children:(0,ct.jsxs)("div",{className:"bg-white border-2 border-gray-200 rounded-lg overflow-hidden",children:[(0,ct.jsx)("div",{className:"px-3 py-2 bg-gray-50 border-b border-gray-200",children:(0,ct.jsxs)("div",{className:"text-xs font-medium text-gray-600 text-center",children:["Match ",e.match_number]})}),(0,ct.jsxs)("div",{className:"divide-y divide-gray-200",children:[(0,ct.jsxs)("div",{className:"px-3 py-3 hover:bg-gray-50",children:[(0,ct.jsx)("div",{className:"font-medium text-gray-900 text-center",children:e.player1?"".concat(e.player1.first_name," ").concat(e.player1.last_name):"TBD"}),e.player1&&(0,ct.jsx)("div",{className:"text-xs text-gray-500 mt-1 text-center",children:e.player1.club})]}),(0,ct.jsxs)("div",{className:"px-3 py-3 hover:bg-gray-50",children:[(0,ct.jsx)("div",{className:"font-medium text-gray-900 text-center",children:e.player2?"".concat(e.player2.first_name," ").concat(e.player2.last_name):"TBD"}),e.player2&&(0,ct.jsx)("div",{className:"text-xs text-gray-500 mt-1 text-center",children:e.player2.club})]})]})]})},e.id))]}),(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsx)("div",{className:"text-center",children:(0,ct.jsxs)("div",{className:"inline-flex items-center space-x-1 px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm font-medium",children:[(0,ct.jsx)(Ge,{className:"w-3 h-3"}),(0,ct.jsx)("span",{children:"West"})]})}),i.filter(e=>1===e.round&&"west"===e.division).map((e,t)=>(0,ct.jsx)("div",{className:"w-64",children:(0,ct.jsxs)("div",{className:"bg-white border-2 border-gray-200 rounded-lg overflow-hidden",children:[(0,ct.jsx)("div",{className:"px-3 py-2 bg-gray-50 border-b border-gray-200",children:(0,ct.jsxs)("div",{className:"text-xs font-medium text-gray-600 text-center",children:["Match ",e.match_number]})}),(0,ct.jsxs)("div",{className:"divide-y divide-gray-200",children:[(0,ct.jsxs)("div",{className:"px-3 py-3 hover:bg-gray-50",children:[(0,ct.jsx)("div",{className:"font-medium text-gray-900 text-center",children:e.player1?"".concat(e.player1.first_name," ").concat(e.player1.last_name):"TBD"}),e.player1&&(0,ct.jsx)("div",{className:"text-xs text-gray-500 mt-1 text-center",children:e.player1.club})]}),(0,ct.jsxs)("div",{className:"px-3 py-3 hover:bg-gray-50",children:[(0,ct.jsx)("div",{className:"font-medium text-gray-900 text-center",children:e.player2?"".concat(e.player2.first_name," ").concat(e.player2.last_name):"TBD"}),e.player2&&(0,ct.jsx)("div",{className:"text-xs text-gray-500 mt-1 text-center",children:e.player2.club})]})]})]})},e.id))]})]}),(0,ct.jsxs)("div",{className:"flex flex-col justify-center space-y-8",children:[(0,ct.jsx)("div",{className:"text-center",children:(0,ct.jsx)("h4",{className:"text-sm font-semibold text-gray-700 mb-4",children:"Semifinals"})}),(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsx)("div",{className:"text-center",children:(0,ct.jsxs)("div",{className:"inline-flex items-center space-x-1 px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:[(0,ct.jsx)(Ge,{className:"w-3 h-3"}),(0,ct.jsx)("span",{children:"East Final"})]})}),i.filter(e=>2===e.round&&"east"===e.division).map(e=>(0,ct.jsx)("div",{className:"w-64",children:(0,ct.jsxs)("div",{className:"bg-white border-2 border-gray-200 rounded-lg overflow-hidden",children:[(0,ct.jsx)("div",{className:"px-3 py-2 bg-gray-50 border-b border-gray-200",children:(0,ct.jsx)("div",{className:"text-xs font-medium text-gray-600 text-center",children:"East Semifinal"})}),(0,ct.jsxs)("div",{className:"divide-y divide-gray-200",children:[(0,ct.jsxs)("div",{className:"px-3 py-3",children:[(0,ct.jsx)("div",{className:"font-medium text-gray-900 text-center",children:e.player1?"".concat(e.player1.first_name," ").concat(e.player1.last_name):"TBD"}),e.player1&&(0,ct.jsx)("div",{className:"text-xs text-gray-500 mt-1 text-center",children:e.player1.club})]}),(0,ct.jsxs)("div",{className:"px-3 py-3",children:[(0,ct.jsx)("div",{className:"font-medium text-gray-900 text-center",children:e.player2?"".concat(e.player2.first_name," ").concat(e.player2.last_name):"TBD"}),e.player2&&(0,ct.jsx)("div",{className:"text-xs text-gray-500 mt-1 text-center",children:e.player2.club})]})]})]})},e.id))]}),(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsx)("div",{className:"text-center",children:(0,ct.jsxs)("div",{className:"inline-flex items-center space-x-1 px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm font-medium",children:[(0,ct.jsx)(Ge,{className:"w-3 h-3"}),(0,ct.jsx)("span",{children:"West Final"})]})}),i.filter(e=>2===e.round&&"west"===e.division).map(e=>(0,ct.jsx)("div",{className:"w-64",children:(0,ct.jsxs)("div",{className:"bg-white border-2 border-gray-200 rounded-lg overflow-hidden",children:[(0,ct.jsx)("div",{className:"px-3 py-2 bg-gray-50 border-b border-gray-200",children:(0,ct.jsx)("div",{className:"text-xs font-medium text-gray-600 text-center",children:"West Semifinal"})}),(0,ct.jsxs)("div",{className:"divide-y divide-gray-200",children:[(0,ct.jsxs)("div",{className:"px-3 py-3",children:[(0,ct.jsx)("div",{className:"font-medium text-gray-900 text-center",children:e.player1?"".concat(e.player1.first_name," ").concat(e.player1.last_name):"TBD"}),e.player1&&(0,ct.jsx)("div",{className:"text-xs text-gray-500 mt-1 text-center",children:e.player1.club})]}),(0,ct.jsxs)("div",{className:"px-3 py-3",children:[(0,ct.jsx)("div",{className:"font-medium text-gray-900 text-center",children:e.player2?"".concat(e.player2.first_name," ").concat(e.player2.last_name):"TBD"}),e.player2&&(0,ct.jsx)("div",{className:"text-xs text-gray-500 mt-1 text-center",children:e.player2.club})]})]})]})},e.id))]})]}),(0,ct.jsxs)("div",{className:"flex flex-col justify-center",children:[(0,ct.jsx)("div",{className:"text-center",children:(0,ct.jsx)("h4",{className:"text-sm font-semibold text-gray-700 mb-4",children:"Championship"})}),i.filter(e=>3===e.round).map(e=>(0,ct.jsx)("div",{className:"w-64",children:(0,ct.jsxs)("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 border-2 border-yellow-300 rounded-lg overflow-hidden",children:[(0,ct.jsx)("div",{className:"px-3 py-2 bg-yellow-200 border-b border-yellow-300",children:(0,ct.jsxs)("div",{className:"text-xs font-medium text-yellow-800 text-center flex items-center justify-center space-x-1",children:[(0,ct.jsx)(qe,{className:"w-3 h-3"}),(0,ct.jsx)("span",{children:"National Championship"})]})}),(0,ct.jsxs)("div",{className:"divide-y divide-yellow-200",children:[(0,ct.jsxs)("div",{className:"px-3 py-4",children:[(0,ct.jsx)("div",{className:"font-medium text-gray-900 text-center",children:e.player1?"".concat(e.player1.first_name," ").concat(e.player1.last_name):"TBD"}),e.player1&&(0,ct.jsx)("div",{className:"text-xs text-gray-600 mt-1 text-center",children:e.player1.club})]}),(0,ct.jsxs)("div",{className:"px-3 py-4",children:[(0,ct.jsx)("div",{className:"font-medium text-gray-900 text-center",children:e.player2?"".concat(e.player2.first_name," ").concat(e.player2.last_name):"TBD"}),e.player2&&(0,ct.jsx)("div",{className:"text-xs text-gray-600 mt-1 text-center",children:e.player2.club})]})]})]})},e.id))]})]}),(0,ct.jsxs)("div",{className:"lg:hidden space-y-6",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Quarterfinals"}),(0,ct.jsxs)("div",{className:"mb-6",children:[(0,ct.jsx)("div",{className:"text-center mb-4",children:(0,ct.jsxs)("div",{className:"inline-flex items-center space-x-2 px-4 py-2 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:[(0,ct.jsx)(Ge,{className:"w-4 h-4"}),(0,ct.jsx)("span",{children:"East Division"})]})}),(0,ct.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:i.filter(e=>1===e.round&&"east"===e.division).map(e=>(0,ct.jsxs)("div",{className:"bg-white border-2 border-gray-200 rounded-lg overflow-hidden",children:[(0,ct.jsx)("div",{className:"px-4 py-3 bg-gray-50 border-b border-gray-200",children:(0,ct.jsxs)("div",{className:"text-sm font-medium text-gray-600 text-center",children:["Match ",e.match_number]})}),(0,ct.jsxs)("div",{className:"divide-y divide-gray-200",children:[(0,ct.jsxs)("div",{className:"px-4 py-4",children:[(0,ct.jsx)("div",{className:"font-medium text-gray-900 text-center",children:e.player1?"".concat(e.player1.first_name," ").concat(e.player1.last_name):"TBD"}),e.player1&&(0,ct.jsx)("div",{className:"text-xs text-gray-500 mt-1 text-center",children:e.player1.club})]}),(0,ct.jsxs)("div",{className:"px-4 py-4",children:[(0,ct.jsx)("div",{className:"font-medium text-gray-900 text-center",children:e.player2?"".concat(e.player2.first_name," ").concat(e.player2.last_name):"TBD"}),e.player2&&(0,ct.jsx)("div",{className:"text-xs text-gray-500 mt-1 text-center",children:e.player2.club})]})]})]},e.id))})]}),(0,ct.jsxs)("div",{className:"mb-6",children:[(0,ct.jsx)("div",{className:"text-center mb-4",children:(0,ct.jsxs)("div",{className:"inline-flex items-center space-x-2 px-4 py-2 bg-red-100 text-red-800 rounded-full text-sm font-medium",children:[(0,ct.jsx)(Ge,{className:"w-4 h-4"}),(0,ct.jsx)("span",{children:"West Division"})]})}),(0,ct.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:i.filter(e=>1===e.round&&"west"===e.division).map(e=>(0,ct.jsxs)("div",{className:"bg-white border-2 border-gray-200 rounded-lg overflow-hidden",children:[(0,ct.jsx)("div",{className:"px-4 py-3 bg-gray-50 border-b border-gray-200",children:(0,ct.jsxs)("div",{className:"text-sm font-medium text-gray-600 text-center",children:["Match ",e.match_number]})}),(0,ct.jsxs)("div",{className:"divide-y divide-gray-200",children:[(0,ct.jsxs)("div",{className:"px-4 py-4",children:[(0,ct.jsx)("div",{className:"font-medium text-gray-900 text-center",children:e.player1?"".concat(e.player1.first_name," ").concat(e.player1.last_name):"TBD"}),e.player1&&(0,ct.jsx)("div",{className:"text-xs text-gray-500 mt-1 text-center",children:e.player1.club})]}),(0,ct.jsxs)("div",{className:"px-4 py-4",children:[(0,ct.jsx)("div",{className:"font-medium text-gray-900 text-center",children:e.player2?"".concat(e.player2.first_name," ").concat(e.player2.last_name):"TBD"}),e.player2&&(0,ct.jsx)("div",{className:"text-xs text-gray-500 mt-1 text-center",children:e.player2.club})]})]})]},e.id))})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Semifinals"}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("div",{className:"text-center mb-3",children:(0,ct.jsxs)("div",{className:"inline-flex items-center space-x-2 px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:[(0,ct.jsx)(Ge,{className:"w-3 h-3"}),(0,ct.jsx)("span",{children:"East Final"})]})}),i.filter(e=>2===e.round&&"east"===e.division).map(e=>(0,ct.jsxs)("div",{className:"bg-white border-2 border-gray-200 rounded-lg overflow-hidden",children:[(0,ct.jsx)("div",{className:"px-4 py-3 bg-gray-50 border-b border-gray-200",children:(0,ct.jsx)("div",{className:"text-sm font-medium text-gray-600 text-center",children:"East Semifinal"})}),(0,ct.jsxs)("div",{className:"divide-y divide-gray-200",children:[(0,ct.jsxs)("div",{className:"px-4 py-4",children:[(0,ct.jsx)("div",{className:"font-medium text-gray-900 text-center text-sm",children:e.player1?"".concat(e.player1.first_name," ").concat(e.player1.last_name):"TBD"}),e.player1&&(0,ct.jsx)("div",{className:"text-xs text-gray-500 mt-1 text-center",children:e.player1.club})]}),(0,ct.jsxs)("div",{className:"px-4 py-4",children:[(0,ct.jsx)("div",{className:"font-medium text-gray-900 text-center text-sm",children:e.player2?"".concat(e.player2.first_name," ").concat(e.player2.last_name):"TBD"}),e.player2&&(0,ct.jsx)("div",{className:"text-xs text-gray-500 mt-1 text-center",children:e.player2.club})]})]})]},e.id))]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("div",{className:"text-center mb-3",children:(0,ct.jsxs)("div",{className:"inline-flex items-center space-x-2 px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm font-medium",children:[(0,ct.jsx)(Ge,{className:"w-3 h-3"}),(0,ct.jsx)("span",{children:"West Final"})]})}),i.filter(e=>2===e.round&&"west"===e.division).map(e=>(0,ct.jsxs)("div",{className:"bg-white border-2 border-gray-200 rounded-lg overflow-hidden",children:[(0,ct.jsx)("div",{className:"px-4 py-3 bg-gray-50 border-b border-gray-200",children:(0,ct.jsx)("div",{className:"text-sm font-medium text-gray-600 text-center",children:"West Semifinal"})}),(0,ct.jsxs)("div",{className:"divide-y divide-gray-200",children:[(0,ct.jsxs)("div",{className:"px-4 py-4",children:[(0,ct.jsx)("div",{className:"font-medium text-gray-900 text-center text-sm",children:e.player1?"".concat(e.player1.first_name," ").concat(e.player1.last_name):"TBD"}),e.player1&&(0,ct.jsx)("div",{className:"text-xs text-gray-500 mt-1 text-center",children:e.player1.club})]}),(0,ct.jsxs)("div",{className:"px-4 py-4",children:[(0,ct.jsx)("div",{className:"font-medium text-gray-900 text-center text-sm",children:e.player2?"".concat(e.player2.first_name," ").concat(e.player2.last_name):"TBD"}),e.player2&&(0,ct.jsx)("div",{className:"text-xs text-gray-500 mt-1 text-center",children:e.player2.club})]})]})]},e.id))]})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Championship"}),(0,ct.jsx)("div",{className:"flex justify-center",children:i.filter(e=>3===e.round).map(e=>{var t,s,a,r,n,l,i,o;return(0,ct.jsx)("div",{className:"w-full max-w-sm",children:(0,ct.jsxs)("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 border-2 border-yellow-300 rounded-lg overflow-hidden",children:[(0,ct.jsx)("div",{className:"px-4 py-3 bg-yellow-200 border-b border-yellow-300",children:(0,ct.jsxs)("div",{className:"text-sm font-medium text-yellow-800 text-center flex items-center justify-center space-x-2",children:[(0,ct.jsx)(qe,{className:"w-4 h-4"}),(0,ct.jsx)("span",{children:"National Championship"})]})}),(0,ct.jsxs)("div",{className:"divide-y divide-yellow-200",children:[(0,ct.jsxs)("div",{className:"px-4 py-4 ".concat((null===(t=e.winner)||void 0===t?void 0:t.user_id)===(null===(s=e.player1)||void 0===s?void 0:s.user_id)?"bg-green-50":""),children:[(0,ct.jsx)("div",{className:"font-medium text-gray-900 text-center",children:e.player1?"".concat(e.player1.first_name," ").concat(e.player1.last_name):"TBD"}),e.player1&&(0,ct.jsx)("div",{className:"text-xs text-gray-600 mt-1 text-center",children:e.player1.club}),(null===(a=e.winner)||void 0===a?void 0:a.user_id)===(null===(r=e.player1)||void 0===r?void 0:r.user_id)&&(0,ct.jsx)("div",{className:"flex justify-center mt-1",children:(0,ct.jsx)(qe,{className:"w-4 h-4 text-yellow-600"})})]}),(0,ct.jsxs)("div",{className:"px-4 py-4 ".concat((null===(n=e.winner)||void 0===n?void 0:n.user_id)===(null===(l=e.player2)||void 0===l?void 0:l.user_id)?"bg-green-50":""),children:[(0,ct.jsx)("div",{className:"font-medium text-gray-900 text-center",children:e.player2?"".concat(e.player2.first_name," ").concat(e.player2.last_name):"TBD"}),e.player2&&(0,ct.jsx)("div",{className:"text-xs text-gray-600 mt-1 text-center",children:e.player2.club}),(null===(i=e.winner)||void 0===i?void 0:i.user_id)===(null===(o=e.player2)||void 0===o?void 0:o.user_id)&&(0,ct.jsx)("div",{className:"flex justify-center mt-1",children:(0,ct.jsx)(qe,{className:"w-4 h-4 text-yellow-600"})})]})]})]})},e.id)})})]})]})]})]})})},qt=e=>{let{tournamentId:t,tournamentName:s,onRefresh:r,isAdmin:n=!1}=e;const[l,i]=(0,a.useState)([]),[o,c]=(0,a.useState)(!0),[d,u]=(0,a.useState)(null),[m,x]=(0,a.useState)("standings"),h=async()=>{try{c(!0),u(null);const e=await tt.Ay$.get("/tournaments/".concat(t,"/championship-standings"));i(e.data)}catch(e){console.error("Error fetching championship standings:",e),u("Failed to load championship standings")}finally{c(!1)}};(0,a.useEffect)(()=>{h()},[t]);const p=e=>{switch(e){case 1:return(0,ct.jsx)(qe,{className:"w-5 h-5 text-yellow-500"});case 2:return(0,ct.jsx)(ht,{className:"w-5 h-5 text-gray-400"});case 3:return(0,ct.jsx)(ht,{className:"w-5 h-5 text-amber-600"});default:return(0,ct.jsx)("span",{className:"text-sm font-semibold text-gray-500",children:e})}},g=(e,t)=>0===t?"0%":"".concat(Math.round(e/t*100),"%");return o?(0,ct.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:(0,ct.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,ct.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-neon-green"}),(0,ct.jsx)("span",{className:"ml-3 text-gray-600",children:"Loading championship standings..."})]})}):d?(0,ct.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:(0,ct.jsxs)("div",{className:"text-center py-8",children:[(0,ct.jsx)(qe,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,ct.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Standings"}),(0,ct.jsx)("p",{className:"text-gray-500 text-sm mb-4",children:d}),(0,ct.jsxs)("button",{onClick:h,className:"flex items-center space-x-2 text-brand-neon-green hover:text-green-600 transition-colors mx-auto",children:[(0,ct.jsx)(Ut,{className:"w-4 h-4"}),(0,ct.jsx)("span",{children:"Try Again"})]})]})}):(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)(qe,{className:"w-6 h-6 text-brand-neon-green"}),(0,ct.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Championship Standings"})]}),(0,ct.jsxs)("button",{onClick:()=>{h(),null===r||void 0===r||r()},className:"flex items-center space-x-2 px-4 py-2 bg-brand-neon-green text-white rounded-lg hover:bg-green-600 transition-colors",children:[(0,ct.jsx)(Ut,{className:"w-4 h-4"}),(0,ct.jsx)("span",{children:"Refresh"})]})]}),(0,ct.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,ct.jsxs)("p",{children:[(0,ct.jsx)("strong",{children:"Tournament:"})," ",s]}),(0,ct.jsxs)("p",{children:[(0,ct.jsx)("strong",{children:"Format:"})," Match Play Championship"]})]})]}),(0,ct.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:(0,ct.jsx)("div",{className:"border-b border-gray-200",children:(0,ct.jsxs)("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:[(0,ct.jsx)("button",{onClick:()=>x("standings"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("standings"===m?"border-brand-neon-green text-brand-neon-green":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsx)(qe,{className:"w-4 h-4"}),(0,ct.jsx)("span",{children:"Club Standings"})]})}),(0,ct.jsx)("button",{onClick:()=>x("bracket"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("bracket"===m?"border-brand-neon-green text-brand-neon-green":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsx)(Ht,{className:"w-4 h-4"}),(0,ct.jsx)("span",{children:"National Championship Bracket"})]})})]})})}),"standings"===m?(0,ct.jsx)(ct.Fragment,{children:0===l.length?(0,ct.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:(0,ct.jsxs)("div",{className:"text-center py-8",children:[(0,ct.jsx)(Ye,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,ct.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Groups Found"}),(0,ct.jsx)("p",{className:"text-gray-500 text-sm",children:"No championship groups have been created yet."})]})}):(0,ct.jsx)("div",{className:"space-y-6",children:l.map(e=>(0,ct.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[(0,ct.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-xl",children:(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)(St,{className:"w-5 h-5 text-brand-neon-green"}),(0,ct.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:e.group_name}),(0,ct.jsxs)("span",{className:"text-sm text-gray-500",children:["(",e.participants.length," participants)"]})]})}),(0,ct.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,ct.jsxs)("table",{className:"w-full",children:[(0,ct.jsx)("thead",{className:"bg-gray-50",children:(0,ct.jsxs)("tr",{children:[(0,ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Position"}),(0,ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player"}),(0,ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Club"}),(0,ct.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"W-L-T"}),(0,ct.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),(0,ct.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Holes Won"}),(0,ct.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Net Holes"}),(0,ct.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tiebreaker"})]})}),(0,ct.jsx)("tbody",{className:"divide-y divide-gray-200",children:e.participants.map((e,t)=>(0,ct.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,ct.jsx)("td",{className:"px-6 py-4",children:(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[p(t+1),(0,ct.jsx)("span",{className:"text-sm font-medium text-gray-600",children:t+1})]})}),(0,ct.jsx)("td",{className:"px-6 py-4",children:(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsxs)("span",{className:"font-semibold text-gray-900",children:[e.first_name," ",e.last_name]}),0===t&&(0,ct.jsx)(qe,{className:"w-4 h-4 text-yellow-500"})]})}),(0,ct.jsx)("td",{className:"px-6 py-4",children:(0,ct.jsx)("span",{className:"text-sm text-gray-600",children:e.club})}),(0,ct.jsx)("td",{className:"px-6 py-4 text-center",children:(0,ct.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:[e.match_wins,"-",e.match_losses,"-",e.match_ties]})}),(0,ct.jsx)("td",{className:"px-6 py-4 text-center",children:(0,ct.jsx)("span",{className:"text-sm font-medium text-gray-900",children:g(e.match_wins,e.total_matches)})}),(0,ct.jsx)("td",{className:"px-6 py-4 text-center",children:(0,ct.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.total_holes_won})}),(0,ct.jsx)("td",{className:"px-6 py-4 text-center",children:(0,ct.jsxs)("span",{className:"text-sm font-medium ".concat(e.net_holes>0?"text-green-600":e.net_holes<0?"text-red-600":"text-gray-900"),children:[e.net_holes>0?"+":"",e.net_holes]})}),(0,ct.jsx)("td",{className:"px-6 py-4 text-center",children:(0,ct.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.tiebreaker_points})})]},e.user_id))})]})}),(0,ct.jsx)("div",{className:"md:hidden space-y-3",children:e.participants.map((e,t)=>(0,ct.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:bg-gray-50",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[p(t+1),(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsxs)("span",{className:"font-semibold text-gray-900",children:[e.first_name," ",e.last_name]}),0===t&&(0,ct.jsx)(qe,{className:"w-4 h-4 text-yellow-500"})]}),(0,ct.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:e.club})]})]}),(0,ct.jsxs)("div",{className:"text-right",children:[(0,ct.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.match_wins,"-",e.match_losses,"-",e.match_ties]}),(0,ct.jsx)("div",{className:"text-xs text-gray-500",children:g(e.match_wins,e.total_matches)})]})]}),(0,ct.jsxs)("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"Tiebreaker Points"}),(0,ct.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.tiebreaker_points})]})]},e.user_id))})]},e.group_id))})}):(0,ct.jsx)(Wt,{tournamentId:t,standings:l,isAdmin:n})]})},Vt=()=>{var e,t,s;const{user:r,isAdmin:n}=mt(),l=J(),i=ee(),o=Z(),[c,d]=(0,a.useState)(null),[u,m]=(0,a.useState)(null),[x,h]=(0,a.useState)(!0),[p,g]=(0,a.useState)(!1),[f,b]=(0,a.useState)(null),[v,y]=(0,a.useState)("global"),[j,N]=(0,a.useState)("allTime"),[w,_]=(0,a.useState)("courseRecords"),[k,S]=(0,a.useState)([]),[C,A]=(0,a.useState)(!1),[E,T]=(0,a.useState)(null),[P,D]=(0,a.useState)(null),{hasPermission:M}=_t(),R=M("access_admin_panel");(0,a.useEffect)(()=>{if(i.tournamentId){y("tournaments");const e=k.find(e=>e.id.toString()===i.tournamentId);if(e&&(T(e),e.course_id)){(async()=>{try{const t=await(0,tt.AIU)(e.course_id);t.data&&D(t.data)}catch(t){console.error("Error fetching course data:",t)}})()}}},[i.tournamentId,k]),(0,a.useEffect)(()=>{"tournaments"===v&&(async()=>{A(!0);try{const e=(await(0,tt.lo1)()).data||[];if(S(e),i.tournamentId){const t=e.find(e=>e.id.toString()===i.tournamentId);t&&T(t)}}catch(e){console.error("Error fetching tournaments:",e)}finally{A(!1)}})()},[v,i.tournamentId]);const L=e=>{y(e),o("/leaderboard")},F=()=>{T(null),D(null),o("/leaderboard")},O=e=>{if(navigator.clipboard)navigator.clipboard.writeText(e).then(()=>{I("Link copied to clipboard!")}).catch(()=>{const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),I("Link copied to clipboard!")});else{const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),I("Link copied to clipboard!")}},I=e=>{const t=document.createElement("div");t.className="fixed top-4 right-4 bg-brand-neon-green text-brand-black px-4 py-2 rounded-lg shadow-lg z-50",t.textContent=e,document.body.appendChild(t),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t)},3e3)};(0,a.useEffect)(()=>{(async()=>{try{h(!0);const e=await(0,tt.nYY)();d(e.data)}catch(e){console.error("Error fetching leaderboard data:",e)}finally{h(!1)}})()},[null===r||void 0===r?void 0:r.club,R,l.pathname]),(0,a.useEffect)(()=>{"club"===v&&null!==r&&void 0!==r&&r.club&&(async()=>{if(null!==r&&void 0!==r&&r.club){g(!0),b(null);try{const e=await tt.Ay$.get("/leaderboard/club/".concat(encodeURIComponent(r.club),"?timeFrame=").concat(j));m(e.data)}catch(e){console.error("Error fetching club leaderboard data:",e),b("Failed to load club leaderboard data")}finally{g(!1)}}})()},[null===r||void 0===r?void 0:r.club,v,j]);if(x)return(0,ct.jsx)("div",{className:"flex items-center justify-center min-h-64",children:(0,ct.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-neon-green"})});if(!c)return(0,ct.jsx)("div",{className:"text-center py-8",children:(0,ct.jsx)("p",{className:"text-neutral-600",children:"Failed to load leaderboard data."})});const z=e=>{switch(e){case 1:return(0,ct.jsx)(qe,{className:"w-5 h-5 text-yellow-500"});case 2:return(0,ct.jsx)(ht,{className:"w-5 h-5 text-gray-400"});case 3:return(0,ct.jsx)(ht,{className:"w-5 h-5 text-amber-600"});default:return(0,ct.jsx)("span",{className:"text-sm font-semibold text-gray-500",children:e})}},B=()=>{const e=()=>{const e=c.clubStandings;switch(w){case"courseRecords":return"monthly"===j?e.courseRecords.monthly:e.courseRecords.allTime;case"roundsLogged":return"monthly"===j?e.roundsLogged.monthly:e.roundsLogged.allTime;case"averageScore":return"monthly"===j?e.averageScore.monthly:e.averageScore.allTime;default:return[]}},t=e=>{switch(w){case"courseRecords":return e.record_count;case"roundsLogged":return e.rounds_count;case"averageScore":return e.avg_score;default:return""}},s=()=>{switch(w){case"courseRecords":return"records";case"roundsLogged":return"rounds";default:return""}};return(0,ct.jsx)("div",{className:"space-y-6 sm:space-y-8",children:(0,ct.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm",children:[(0,ct.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsx)("div",{className:"flex items-center",children:(0,ct.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Club Rankings"})}),(0,ct.jsxs)("div",{className:"relative inline-flex bg-gray-100 rounded-lg p-1",children:[(0,ct.jsx)("button",{onClick:()=>N("allTime"),className:"px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 ".concat("allTime"===j?"bg-brand-neon-green text-white shadow-sm":"text-gray-600 hover:text-gray-900"),children:"All Time"}),(0,ct.jsx)("button",{onClick:()=>N("monthly"),className:"px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 ".concat("monthly"===j?"bg-brand-neon-green text-white shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Monthly"})]})]}),(0,ct.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"monthly"===j?"Last 30 Days":"All Time"})]}),(0,ct.jsx)("div",{className:"lg:hidden border-b border-gray-200",children:(0,ct.jsxs)("div",{className:"flex p-1",children:[(0,ct.jsxs)("button",{onClick:()=>_("courseRecords"),className:"flex-1 py-3 px-3 sm:px-4 text-sm font-medium rounded-md transition-colors ".concat("courseRecords"===w?"bg-brand-neon-green text-white":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:[(0,ct.jsx)(qe,{className:"w-4 h-4 inline mr-1 sm:mr-2"}),(0,ct.jsx)("span",{className:"hidden sm:inline",children:"Records"}),(0,ct.jsx)("span",{className:"sm:hidden",children:"Rec"})]}),(0,ct.jsxs)("button",{onClick:()=>_("roundsLogged"),className:"flex-1 py-3 px-3 sm:px-4 text-sm font-medium rounded-md transition-colors ".concat("roundsLogged"===w?"bg-brand-neon-green text-white":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:[(0,ct.jsx)(pt,{className:"w-4 h-4 inline mr-1 sm:mr-2"}),(0,ct.jsx)("span",{className:"hidden sm:inline",children:"Rounds"}),(0,ct.jsx)("span",{className:"sm:hidden",children:"Rnd"})]}),(0,ct.jsxs)("button",{onClick:()=>_("averageScore"),className:"flex-1 py-3 px-3 sm:px-4 text-sm font-medium rounded-md transition-colors ".concat("averageScore"===w?"bg-brand-neon-green text-white":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:[(0,ct.jsx)(gt,{className:"w-4 h-4 inline mr-1 sm:mr-2"}),(0,ct.jsx)("span",{className:"hidden sm:inline",children:"Average"}),(0,ct.jsx)("span",{className:"sm:hidden",children:"Avg"})]})]})}),(0,ct.jsx)("div",{className:"lg:hidden space-y-3",children:e().length>0?e().map((e,a)=>(0,ct.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-4 hover:shadow-md transition-shadow",children:(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)("div",{className:"flex items-center justify-center w-10 h-10 bg-gray-100 rounded-full flex-shrink-0",children:z(a+1)}),(0,ct.jsx)("div",{className:"flex-1 min-w-0",children:(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)("h3",{className:"font-semibold text-gray-900 text-base truncate",children:e.club}),e.club===(null===r||void 0===r?void 0:r.club)&&(0,ct.jsx)("span",{className:"ml-2 bg-brand-neon-green/10 text-brand-neon-green text-xs font-medium px-2 py-0.5 rounded-full border border-brand-neon-green/20 flex-shrink-0",children:"My Club"})]})})]}),(0,ct.jsxs)("div",{className:"text-right flex-shrink-0",children:[(0,ct.jsxs)("div",{className:"text-lg font-bold text-gray-900",children:[t(e),s()&&(0,ct.jsx)("span",{className:"text-sm text-gray-500 ml-1",children:s()})]}),"averageScore"===w&&"rounds_count"in e&&(0,ct.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["(",e.rounds_count," rounds)"]})]})]})},e.club)):(0,ct.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-8 text-center",children:[(0,ct.jsx)(ft,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,ct.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Data Available"}),(0,ct.jsx)("p",{className:"text-gray-500",children:"No clubs have data for this category and time frame."})]})}),(0,ct.jsx)("div",{className:"hidden lg:block",children:(0,ct.jsxs)("div",{className:"grid grid-cols-3 gap-6 p-6",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ct.jsx)(qe,{className:"w-5 h-5 text-yellow-500 mr-2"}),(0,ct.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Course Records"})]}),(0,ct.jsx)("div",{className:"space-y-3",children:c.clubStandings.courseRecords["monthly"===j?"monthly":"allTime"].map((e,t)=>(0,ct.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)("div",{className:"flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full",children:z(t+1)}),(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)("div",{className:"font-medium text-gray-900",children:e.club}),e.club===(null===r||void 0===r?void 0:r.club)&&(0,ct.jsx)("span",{className:"ml-2 bg-brand-neon-green/10 text-brand-neon-green text-xs font-medium px-2 py-0.5 rounded border border-brand-neon-green/20",children:"My Club"})]})]}),(0,ct.jsx)("div",{className:"text-right",children:(0,ct.jsxs)("div",{className:"text-lg font-semibold text-gray-900",children:[e.record_count," records"]})})]},e.club))})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ct.jsx)(pt,{className:"w-5 h-5 text-purple-500 mr-2"}),(0,ct.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Rounds Logged"})]}),(0,ct.jsx)("div",{className:"space-y-3",children:c.clubStandings.roundsLogged["monthly"===j?"monthly":"allTime"].map((e,t)=>(0,ct.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)("div",{className:"flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full",children:z(t+1)}),(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)("div",{className:"font-medium text-gray-900",children:e.club}),e.club===(null===r||void 0===r?void 0:r.club)&&(0,ct.jsx)("span",{className:"ml-2 bg-brand-neon-green/10 text-brand-neon-green text-xs font-medium px-2 py-0.5 rounded border border-brand-neon-green/20",children:"My Club"})]})]}),(0,ct.jsx)("div",{className:"text-right",children:(0,ct.jsxs)("div",{className:"text-lg font-semibold text-gray-900",children:[e.rounds_count," rounds"]})})]},e.club))})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ct.jsx)(gt,{className:"w-5 h-5 text-blue-500 mr-2"}),(0,ct.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Average Score"})]}),(0,ct.jsx)("div",{className:"space-y-3",children:c.clubStandings.averageScore["monthly"===j?"monthly":"allTime"].map((e,t)=>(0,ct.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)("div",{className:"flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full",children:z(t+1)}),(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)("div",{className:"font-medium text-gray-900",children:e.club}),e.club===(null===r||void 0===r?void 0:r.club)&&(0,ct.jsx)("span",{className:"ml-2 bg-brand-neon-green/10 text-brand-neon-green text-xs font-medium px-2 py-0.5 rounded border border-brand-neon-green/20",children:"My Club"})]})]}),(0,ct.jsxs)("div",{className:"text-right",children:[(0,ct.jsx)("div",{className:"text-lg font-semibold text-gray-900",children:e.avg_score}),(0,ct.jsxs)("div",{className:"text-sm text-gray-500",children:["(",e.rounds_count," rounds)"]})]})]},e.club))})]})]})})]})})};return(0,ct.jsx)("div",{className:"min-h-screen bg-gray-50 py-4 sm:py-8 px-4",children:(0,ct.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6 sm:space-y-8",children:[(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:"Neighborhood National Community Leaderboard"}),(0,ct.jsx)("p",{className:"text-gray-600 text-sm sm:text-base",children:"See where your club stacks up!"})]}),(0,ct.jsxs)("div",{className:"flex flex-wrap gap-2 justify-center",children:[(0,ct.jsxs)("button",{onClick:()=>L("global"),className:"inline-flex items-center px-3 sm:px-4 py-2 rounded-full text-sm font-medium transition-colors ".concat("global"===v?"bg-brand-neon-green text-white shadow-sm":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"),children:[(0,ct.jsx)(bt,{className:"w-4 h-4 mr-2"}),"NN Community"]}),(null===r||void 0===r?void 0:r.club)&&(0,ct.jsxs)("button",{onClick:()=>L("club"),className:"inline-flex items-center px-3 sm:px-4 py-2 rounded-full text-sm font-medium transition-colors ".concat("club"===v?"bg-brand-neon-green text-white shadow-sm":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"),children:[(0,ct.jsx)(vt,{className:"w-4 h-4 mr-2"}),"My Club"]}),(0,ct.jsxs)("button",{onClick:()=>L("tournaments"),className:"inline-flex items-center px-3 sm:px-4 py-2 rounded-full text-sm font-medium transition-colors ".concat("tournaments"===v?"bg-brand-neon-green text-white shadow-sm":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"),children:[(0,ct.jsx)(qe,{className:"w-4 h-4 mr-2"}),"Tournaments"]})]}),"global"===v&&(0,ct.jsx)(B,{}),"club"===v&&(null===r||void 0===r?void 0:r.club)&&(0,ct.jsx)(kt,{activeTab:v,onTabChange:L,clubData:u,loading:p,error:f,timeFrame:j,onTimeFrameChange:N}),"tournaments"===v&&(0,ct.jsx)("div",{className:"space-y-6",children:E?(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ct.jsxs)("button",{onClick:F,className:"flex items-center space-x-2 text-brand-neon-green hover:text-green-600 transition-colors",children:[(0,ct.jsx)(yt,{className:"w-4 h-4 rotate-180"}),(0,ct.jsx)("span",{children:"Back to Tournaments"})]}),(0,ct.jsxs)("button",{onClick:()=>{if(E){const e="".concat(window.location.origin,"/#/leaderboard/tournament/").concat(E.id);navigator.share?navigator.share({title:"".concat(E.name," Leaderboard"),text:"Check out the leaderboard for ".concat(E.name,"!"),url:e}).catch(t=>{console.log("Share was canceled or failed:",t),O(e)}):O(e)}},className:"flex items-center space-x-2 text-brand-neon-green hover:text-green-600 transition-colors",children:[(0,ct.jsx)(jt,{className:"w-4 h-4"}),(0,ct.jsx)("span",{children:"Share Leaderboard"})]})]}),"club_championship"===E.type||"national_championship"===E.type?(0,ct.jsx)(qt,{tournamentId:E.id,tournamentName:E.name,onRefresh:()=>{},isAdmin:n}):"match_play"===E.tournament_format?(0,ct.jsx)(Pt,{tournamentId:E.id,tournamentFormat:E.tournament_format,tournamentInfo:{name:E.name,description:E.description,start_date:E.start_date,course_name:(null===P||void 0===P?void 0:P.name)||E.course_name||(null===(e=E.course_id)||void 0===e?void 0:e.toString())}}):"par3_match_play"===E.tournament_format?(0,ct.jsx)(Bt,{tournamentId:E.id,tournamentName:E.name,weekStartDate:E.week_start_date,tournamentStartDate:E.start_date,tournamentEndDate:E.end_date}):"stroke_play"===E.tournament_format?(0,ct.jsx)(Lt,{tournamentId:E.id,tournamentFormat:E.tournament_format,courseId:E.course_id,tournamentInfo:{name:E.name,description:E.description,start_date:E.start_date,course_name:(null===P||void 0===P?void 0:P.name)||E.course_name||(null===(t=E.course_id)||void 0===t?void 0:t.toString())},tournamentSettings:{holeConfiguration:E.hole_configuration||"18",tee:E.tee||"Red",pins:E.pins||"Friday",puttingGimme:E.putting_gimme||"8"}}):"weekly"===E.tournament_format?(0,ct.jsx)(Bt,{tournamentId:E.id,tournamentName:E.name,weekStartDate:E.week_start_date,tournamentStartDate:E.start_date,tournamentEndDate:E.end_date}):(0,ct.jsx)(Tt,{tournamentId:E.id,tournamentFormat:E.tournament_format,courseId:E.course_id,tournamentInfo:{name:E.name,description:E.description,start_date:E.start_date,course_name:(null===P||void 0===P?void 0:P.name)||E.course_name||(null===(s=E.course_id)||void 0===s?void 0:s.toString())},tournamentSettings:{holeConfiguration:E.hole_configuration||"18",tee:E.tee||"Red",pins:E.pins||"Friday",puttingGimme:E.putting_gimme||"8"}})]}):i.tournamentId&&C?(0,ct.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:(0,ct.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,ct.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-neon-green"}),(0,ct.jsx)("span",{className:"ml-3 text-gray-600",children:"Loading tournament..."})]})}):i.tournamentId&&!C?(0,ct.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:(0,ct.jsxs)("div",{className:"text-center py-8",children:[(0,ct.jsx)(qe,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,ct.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Tournament Not Found"}),(0,ct.jsx)("p",{className:"text-gray-500 text-sm mb-4",children:"The tournament you're looking for doesn't exist or is no longer available."}),(0,ct.jsxs)("button",{onClick:F,className:"flex items-center space-x-2 text-brand-neon-green hover:text-green-600 transition-colors mx-auto",children:[(0,ct.jsx)(yt,{className:"w-4 h-4 rotate-180"}),(0,ct.jsx)("span",{children:"Back to Tournaments"})]})]})}):(0,ct.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,ct.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)(qe,{className:"w-6 h-6 text-brand-neon-green"}),(0,ct.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Tournament Leaderboards"})]})}),C?(0,ct.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,ct.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-neon-green"})}):k.length>0?(0,ct.jsx)("div",{className:"space-y-4",children:k.map(e=>{var t;return(0,ct.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 hover:bg-gray-100 transition-colors cursor-pointer border border-gray-200",onClick:()=>(async e=>{if(T(e),o("/leaderboard/tournament/".concat(e.id)),e.course_id)try{const t=await(0,tt.AIU)(e.course_id);t.data&&D(t.data)}catch(t){console.error("Error fetching course data:",t)}})(e),children:(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{className:"flex-1",children:[(0,ct.jsx)("h4",{className:"font-semibold text-gray-900 mb-1",children:e.name}),(0,ct.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),(0,ct.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[(0,ct.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,ct.jsx)(Nt,{className:"w-3 h-3"}),(0,ct.jsx)("span",{children:new Date(e.start_date).toLocaleDateString()})]}),(0,ct.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,ct.jsx)(Ye,{className:"w-3 h-3"}),(0,ct.jsx)("span",{children:(null===(t=e.tournament_format)||void 0===t?void 0:t.replace("_"," "))||"Unknown"})]})]})]}),(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsx)(wt,{className:"w-4 h-4 text-gray-400"}),(0,ct.jsx)(yt,{className:"w-4 h-4 text-gray-400"})]})]})},e.id)})}):(0,ct.jsxs)("div",{className:"text-center py-8",children:[(0,ct.jsx)(qe,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,ct.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Tournaments Available"}),(0,ct.jsx)("p",{className:"text-gray-500 text-sm",children:"There are no tournaments available to view at this time."})]})]})})]})})},Gt=We("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Yt=We("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);function $t(e){var t,s,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(s=$t(e[t]))&&(a&&(a+=" "),a+=s)}else for(s in e)e[s]&&(a&&(a+=" "),a+=s);return a}const Qt=function(){for(var e,t,s=0,a="",r=arguments.length;s<r;s++)(e=arguments[s])&&(t=$t(e))&&(a&&(a+=" "),a+=t);return a},Kt=["theme","type","isLoading"];!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t.firstChild?t.insertBefore(s,t.firstChild):t.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}(':root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\n');var Jt=e=>"number"==typeof e&&!isNaN(e),Xt=e=>"string"==typeof e,Zt=e=>"function"==typeof e,es=e=>Xt(e)||Zt(e)?e:null,ts=(e,t)=>!1===e||Jt(e)&&e>0?e:t,ss=e=>(0,a.isValidElement)(e)||Xt(e)||Zt(e)||Jt(e);function as(e){let{enter:t,exit:s,appendPosition:r=!1,collapse:n=!0,collapseDuration:l=300}=e;return function(e){let{children:i,position:o,preventExitTransition:c,done:d,nodeRef:u,isIn:m,playToast:x}=e,h=r?"".concat(t,"--").concat(o):t,p=r?"".concat(s,"--").concat(o):s,g=(0,a.useRef)(0);return(0,a.useLayoutEffect)(()=>{let e=u.current,t=h.split(" "),s=a=>{a.target===u.current&&(x(),e.removeEventListener("animationend",s),e.removeEventListener("animationcancel",s),0===g.current&&"animationcancel"!==a.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",s),e.addEventListener("animationcancel",s)},[]),(0,a.useEffect)(()=>{let e=u.current,t=()=>{e.removeEventListener("animationend",t),n?function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,{scrollHeight:a,style:r}=e;requestAnimationFrame(()=>{r.minHeight="initial",r.height=a+"px",r.transition="all ".concat(s,"ms"),requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(t,s)})})}(e,d,l):d()};m||(c?t():(g.current=1,e.className+=" ".concat(p),e.addEventListener("animationend",t)))},[m]),a.createElement(a.Fragment,null,i)}}function rs(e,t){return{content:ns(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function ns(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,a.isValidElement)(e)&&!Xt(e.type)?(0,a.cloneElement)(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:s}):Zt(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:s}):e}function ls(e){let{delay:t,isRunning:s,closeToast:r,type:n="default",hide:l,className:i,controlledProgress:o,progress:c,rtl:d,isIn:u,theme:m}=e,x=l||o&&0===c,h={animationDuration:"".concat(t,"ms"),animationPlayState:s?"running":"paused"};o&&(h.transform="scaleX(".concat(c,")"));let p=Qt("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--".concat(m),"Toastify__progress-bar--".concat(n),{"Toastify__progress-bar--rtl":d}),g=Zt(i)?i({rtl:d,type:n,defaultClassName:p}):Qt(p,i),f={[o&&c>=1?"onTransitionEnd":"onAnimationEnd"]:o&&c<1?null:()=>{u&&r()}};return a.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":x},a.createElement("div",{className:"Toastify__progress-bar--bg Toastify__progress-bar-theme--".concat(m," Toastify__progress-bar--").concat(n)}),a.createElement("div",(0,Re.A)({role:"progressbar","aria-hidden":x?"true":"false","aria-label":"notification timer",className:g,style:h},f)))}var is=1,os=()=>"".concat(is++);function cs(e,t,s){let a=1,r=0,n=[],l=[],i=t,o=new Map,c=new Set,d=()=>{l=Array.from(o.values()),c.forEach(e=>e())},u=e=>{var t,s;null==(s=null==(t=e.props)?void 0:t.onClose)||s.call(t,e.removalReason),e.isActive=!1},m=e=>{if(null==e)o.forEach(u);else{let t=o.get(e);t&&u(t)}d()},x=e=>{var t,a;let{toastId:r,updateId:n}=e.props,l=null==n;e.staleId&&o.delete(e.staleId),e.isActive=!0,o.set(r,e),d(),s(rs(e,l?"added":"updated")),l&&(null==(a=(t=e.props).onOpen)||a.call(t))};return{id:e,props:i,observe:e=>(c.add(e),()=>c.delete(e)),toggle:(e,t)=>{o.forEach(s=>{var a;(null==t||t===s.props.toastId)&&(null==(a=s.toggle)||a.call(s,e))})},removeToast:m,toasts:o,clearQueue:()=>{r-=n.length,n=[]},buildToast:(t,l)=>{if((t=>{let{containerId:s,toastId:a,updateId:r}=t,n=s?s!==e:1!==e,l=o.has(a)&&null==r;return n||l})(l))return;let{toastId:c,updateId:u,data:h,staleId:p,delay:g}=l,f=null==u;f&&r++;let b=(0,Re.A)((0,Re.A)((0,Re.A)({},i),{},{style:i.toastStyle,key:a++},Object.fromEntries(Object.entries(l).filter(e=>{let[t,s]=e;return null!=s}))),{},{toastId:c,updateId:u,data:h,isIn:!1,className:es(l.className||i.toastClassName),progressClassName:es(l.progressClassName||i.progressClassName),autoClose:!l.isLoading&&ts(l.autoClose,i.autoClose),closeToast(e){o.get(c).removalReason=e,m(c)},deleteToast(){let e=o.get(c);if(null!=e){if(s(rs(e,"removed")),o.delete(c),r--,r<0&&(r=0),n.length>0)return void x(n.shift());d()}}});b.closeButton=i.closeButton,!1===l.closeButton||ss(l.closeButton)?b.closeButton=l.closeButton:!0===l.closeButton&&(b.closeButton=!ss(i.closeButton)||i.closeButton);let v={content:t,props:b,staleId:p};i.limit&&i.limit>0&&r>i.limit&&f?n.push(v):Jt(g)?setTimeout(()=>{x(v)},g):x(v)},setProps(e){i=e},setToggle:(e,t)=>{let s=o.get(e);s&&(s.toggle=t)},isToastActive:e=>{var t;return null==(t=o.get(e))?void 0:t.isActive},getSnapshot:()=>l}}var ds=new Map,us=[],ms=new Set,xs=e=>ms.forEach(t=>t(e)),hs=()=>ds.size>0;function ps(e,t){var s;if(t)return!(null==(s=ds.get(t))||!s.isToastActive(e));let a=!1;return ds.forEach(t=>{t.isToastActive(e)&&(a=!0)}),a}function gs(e){if(hs()){if(null==e||(e=>Xt(e)||Jt(e))(e))ds.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=ds.get(e.containerId);t?t.removeToast(e.id):ds.forEach(t=>{t.removeToast(e.id)})}}else us=us.filter(t=>null!=e&&t.options.toastId!==e)}function fs(e,t){ss(e)&&(hs()||us.push({content:e,options:t}),ds.forEach(s=>{s.buildToast(e,t)}))}function bs(e,t){ds.forEach(s=>{(null==t||null==t||!t.containerId||(null==t?void 0:t.containerId)===s.id)&&s.toggle(e,null==t?void 0:t.id)})}function vs(e){let t=e.containerId||1;return{subscribe(s){let a=cs(t,e,xs);ds.set(t,a);let r=a.observe(s);return us.forEach(e=>fs(e.content,e.options)),us=[],()=>{r(),ds.delete(t)}},setProps(e){var s;null==(s=ds.get(t))||s.setProps(e)},getSnapshot(){var e;return null==(e=ds.get(t))?void 0:e.getSnapshot()}}}function ys(e){return e&&(Xt(e.toastId)||Jt(e.toastId))?e.toastId:os()}function js(e,t){return fs(e,t),t.toastId}function Ns(e,t){return(0,Re.A)((0,Re.A)({},t),{},{type:t&&t.type||e,toastId:ys(t)})}function ws(e){return(t,s)=>js(t,Ns(e,s))}function _s(e,t){return js(e,Ns("default",t))}function ks(e){let[t,s]=(0,a.useState)(!1),[r,n]=(0,a.useState)(!1),l=(0,a.useRef)(null),i=(0,a.useRef)({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:o,pauseOnHover:c,closeToast:d,onClick:u,closeOnClick:m}=e;function x(){s(!0)}function h(){s(!1)}function p(s){let a=l.current;if(i.canDrag&&a){i.didMove=!0,t&&h(),"x"===e.draggableDirection?i.delta=s.clientX-i.start:i.delta=s.clientY-i.start,i.start!==s.clientX&&(i.canCloseOnClick=!1);let r="x"===e.draggableDirection?"".concat(i.delta,"px, var(--y)"):"0, calc(".concat(i.delta,"px + var(--y))");a.style.transform="translate3d(".concat(r,",0)"),a.style.opacity="".concat(1-Math.abs(i.delta/i.removalDistance))}}function g(){document.removeEventListener("pointermove",p),document.removeEventListener("pointerup",g);let t=l.current;if(i.canDrag&&i.didMove&&t){if(i.canDrag=!1,Math.abs(i.delta)>i.removalDistance)return n(!0),e.closeToast(!0),void e.collapseAll();t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}(function(e){var t;null==(t=ds.get(e.containerId||1))||t.setToggle(e.id,e.fn)})({id:e.toastId,containerId:e.containerId,fn:s}),(0,a.useEffect)(()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||h(),window.addEventListener("focus",x),window.addEventListener("blur",h),()=>{window.removeEventListener("focus",x),window.removeEventListener("blur",h)}},[e.pauseOnFocusLoss]);let f={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){i.didMove=!1,document.addEventListener("pointermove",p),document.addEventListener("pointerup",g);let s=l.current;i.canCloseOnClick=!0,i.canDrag=!0,s.style.transition="none","x"===e.draggableDirection?(i.start=t.clientX,i.removalDistance=s.offsetWidth*(e.draggablePercent/100)):(i.start=t.clientY,i.removalDistance=s.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){let{top:s,bottom:a,left:r,right:n}=l.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=r&&t.clientX<=n&&t.clientY>=s&&t.clientY<=a?h():x()}};return o&&c&&(f.onMouseEnter=h,e.stacked||(f.onMouseLeave=x)),m&&(f.onClick=e=>{u&&u(e),i.canCloseOnClick&&d(!0)}),{playToast:x,pauseToast:h,isRunning:t,preventExitTransition:r,toastRef:l,eventHandlers:f}}_s.loading=(e,t)=>js(e,Ns("default",(0,Re.A)({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t))),_s.promise=function(e,t,s){let a,{pending:r,error:n,success:l}=t;r&&(a=Xt(r)?_s.loading(r,s):_s.loading(r.render,(0,Re.A)((0,Re.A)({},s),r)));let i={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},o=(e,t,r)=>{if(null==t)return void _s.dismiss(a);let n=(0,Re.A)((0,Re.A)((0,Re.A)({type:e},i),s),{},{data:r}),l=Xt(t)?{render:t}:t;return a?_s.update(a,(0,Re.A)((0,Re.A)({},n),l)):_s(l.render,(0,Re.A)((0,Re.A)({},n),l)),r},c=Zt(e)?e():e;return c.then(e=>o("success",l,e)).catch(e=>o("error",n,e)),c},_s.success=ws("success"),_s.info=ws("info"),_s.error=ws("error"),_s.warning=ws("warning"),_s.warn=_s.warning,_s.dark=(e,t)=>js(e,Ns("default",(0,Re.A)({theme:"dark"},t))),_s.dismiss=function(e){gs(e)},_s.clearWaitingQueue=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ds.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})},_s.isActive=ps,_s.update=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=((e,t)=>{let{containerId:s}=t;var a;return null==(a=ds.get(s||1))?void 0:a.toasts.get(e)})(e,t);if(s){let{props:a,content:r}=s,n=(0,Re.A)((0,Re.A)((0,Re.A)({delay:100},a),t),{},{toastId:t.toastId||e,updateId:os()});n.toastId!==e&&(n.staleId=e);let l=n.render||r;delete n.render,js(l,n)}},_s.done=e=>{_s.update(e,{progress:1})},_s.onChange=function(e){return ms.add(e),()=>{ms.delete(e)}},_s.play=e=>bs(!0,e),_s.pause=e=>bs(!1,e);var Ss="undefined"!=typeof window?a.useLayoutEffect:a.useEffect,Cs=e=>{let{theme:t,type:s,isLoading:r}=e,n=Fe(e,Kt);return a.createElement("svg",(0,Re.A)({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":"var(--toastify-icon-color-".concat(s,")")},n))};var As={info:function(e){return a.createElement(Cs,(0,Re.A)({},e),a.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return a.createElement(Cs,(0,Re.A)({},e),a.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return a.createElement(Cs,(0,Re.A)({},e),a.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return a.createElement(Cs,(0,Re.A)({},e),a.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return a.createElement("div",{className:"Toastify__spinner"})}};function Es(e){let{theme:t,type:s,isLoading:r,icon:n}=e,l=null,i={theme:t,type:s};return!1===n||(Zt(n)?l=n((0,Re.A)((0,Re.A)({},i),{},{isLoading:r})):(0,a.isValidElement)(n)?l=(0,a.cloneElement)(n,i):r?l=As.spinner():(e=>e in As)(s)&&(l=As[s](i))),l}var Ts=e=>{let{isRunning:t,preventExitTransition:s,toastRef:r,eventHandlers:n,playToast:l}=ks(e),{closeButton:i,children:o,autoClose:c,onClick:d,type:u,hideProgressBar:m,closeToast:x,transition:h,position:p,className:g,style:f,progressClassName:b,updateId:v,role:y,progress:j,rtl:N,toastId:w,deleteToast:_,isIn:k,isLoading:S,closeOnClick:C,theme:A,ariaLabel:E}=e,T=Qt("Toastify__toast","Toastify__toast-theme--".concat(A),"Toastify__toast--".concat(u),{"Toastify__toast--rtl":N},{"Toastify__toast--close-on-click":C}),P=Zt(g)?g({rtl:N,position:p,type:u,defaultClassName:T}):Qt(T,g),D=Es(e),M=!!j||!c,R={closeToast:x,type:u,theme:A},L=null;return!1===i||(L=Zt(i)?i(R):(0,a.isValidElement)(i)?(0,a.cloneElement)(i,R):function(e){let{closeToast:t,theme:s,ariaLabel:r="close"}=e;return a.createElement("button",{className:"Toastify__close-button Toastify__close-button--".concat(s),type:"button",onClick:e=>{e.stopPropagation(),t(!0)},"aria-label":r},a.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},a.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(R)),a.createElement(h,{isIn:k,done:_,position:p,preventExitTransition:s,nodeRef:r,playToast:l},a.createElement("div",(0,Re.A)((0,Re.A)({id:w,tabIndex:0,onClick:d,"data-in":k,className:P},n),{},{style:f,ref:r},k&&{role:y,"aria-label":E}),null!=D&&a.createElement("div",{className:Qt("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!S})},D),ns(o,e,!t),L,!e.customProgressBar&&a.createElement(ls,(0,Re.A)((0,Re.A)({},v&&!M?{key:"p-".concat(v)}:{}),{},{rtl:N,theme:A,delay:c,isRunning:t,isIn:k,closeToast:x,hide:m,type:u,className:b,controlledProgress:M,progress:j||0}))))},Ps=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}},Ds=as(Ps("bounce",!0)),Ms=(as(Ps("slide",!0)),as(Ps("zoom")),as(Ps("flip")),{position:"top-right",transition:Ds,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&"KeyT"===e.code});function Rs(e){let t=(0,Re.A)((0,Re.A)({},Ms),e),s=e.stacked,[r,n]=(0,a.useState)(!0),l=(0,a.useRef)(null),{getToastToRender:i,isToastActive:o,count:c}=function(e){var t;let{subscribe:s,getSnapshot:r,setProps:n}=(0,a.useRef)(vs(e)).current;n(e);let l=null==(t=(0,a.useSyncExternalStore)(s,r,r))?void 0:t.slice();return{getToastToRender:function(t){if(!l)return[];let s=new Map;return e.newestOnTop&&l.reverse(),l.forEach(e=>{let{position:t}=e.props;s.has(t)||s.set(t,[]),s.get(t).push(e)}),Array.from(s,e=>t(e[0],e[1]))},isToastActive:ps,count:null==l?void 0:l.length}}(t),{className:d,style:u,rtl:m,containerId:x,hotKeys:h}=t;function p(e){let t=Qt("Toastify__toast-container","Toastify__toast-container--".concat(e),{"Toastify__toast-container--rtl":m});return Zt(d)?d({position:e,rtl:m,defaultClassName:t}):Qt(t,es(d))}function g(){s&&(n(!0),_s.play())}return Ss(()=>{var e;if(s){let s=l.current.querySelectorAll('[data-in="true"]'),a=12,n=null==(e=t.position)?void 0:e.includes("top"),i=0,o=0;Array.from(s).reverse().forEach((e,t)=>{let s=e;s.classList.add("Toastify__toast--stacked"),t>0&&(s.dataset.collapsed="".concat(r)),s.dataset.pos||(s.dataset.pos=n?"top":"bot");let l=i*(r?.2:1)+(r?0:a*t);s.style.setProperty("--y","".concat(n?l:-1*l,"px")),s.style.setProperty("--g","".concat(a)),s.style.setProperty("--s","".concat(1-(r?o:0))),i+=s.offsetHeight,o+=.025})}},[r,c,s]),(0,a.useEffect)(()=>{function e(e){var t;let s=l.current;h(e)&&(null==(t=s.querySelector('[tabIndex="0"]'))||t.focus(),n(!1),_s.pause()),"Escape"===e.key&&(document.activeElement===s||null!=s&&s.contains(document.activeElement))&&(n(!0),_s.play())}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[h]),a.createElement("section",{ref:l,className:"Toastify",id:x,onMouseEnter:()=>{s&&(n(!1),_s.pause())},onMouseLeave:g,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},i((e,t)=>{let r=t.length?(0,Re.A)({},u):(0,Re.A)((0,Re.A)({},u),{},{pointerEvents:"none"});return a.createElement("div",{tabIndex:-1,className:p(e),"data-stacked":s,style:r,key:"c-".concat(e)},t.map(e=>{let{content:t,props:r}=e;return a.createElement(Ts,(0,Re.A)((0,Re.A)({},r),{},{stacked:s,collapseAll:g,isIn:o(r.toastId,r.containerId),key:"t-".concat(r.key)}),t)}))}))}const Ls=()=>{var e,t,s;const[r,n]=(0,a.useState)([]),[l,i]=(0,a.useState)(null),[o,c]=(0,a.useState)([]),[d,u]=(0,a.useState)([]),[m,x]=(0,a.useState)(null),[h,p]=(0,a.useState)(null),[g,f]=(0,a.useState)("tournament"),[b,v]=(0,a.useState)(!0),[y,j]=(0,a.useState)(!1),[N,w]=(0,a.useState)(""),[_,k]=(0,a.useState)(""),[S,C]=(0,a.useState)({player1:{hole1:"",hole2:"",hole3:""},player2:{hole1:"",hole2:"",hole3:""}}),[A,E]=(0,a.useState)((new Date).toISOString().split("T")[0]);(0,a.useEffect)(()=>{(async()=>{try{const[e,t,s]=await Promise.all([(0,tt.DqU)(),(0,tt.Rje)(),(0,tt.lo1)()]);n(e.data),i(t.data),c(s.data)}catch(e){console.error("Error fetching scoring data:",e)}finally{v(!1)}})()},[]),(0,a.useEffect)(()=>{if(m){(async()=>{try{const e=await(0,tt.PNr)(m.id);u(e.data)}catch(e){console.error("Error loading tournament matches:",e)}})()}},[m]);const T=(e,t,s)=>{C(a=>(0,Re.A)((0,Re.A)({},a),{},{[e]:(0,Re.A)((0,Re.A)({},a[e]),{},{[t]:s})}))},P=()=>{let e=0,t=0;for(let s=1;s<=3;s++){const a="hole".concat(s),r=parseInt(S.player1[a])||0,n=parseInt(S.player2[a])||0;r<n?e++:n<r&&t++}return e>t?"player1":t>e?"player2":"tie"},D=()=>{w(""),k(""),C({player1:{hole1:"",hole2:"",hole3:""},player2:{hole1:"",hole2:"",hole3:""}}),E((new Date).toISOString().split("T")[0])};return b?(0,ct.jsx)("div",{className:"flex items-center justify-center min-h-64",children:(0,ct.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-neon-green"})}):(0,ct.jsxs)("div",{className:"space-y-8",children:[(0,ct.jsx)(Rs,{position:"top-center",autoClose:3e3,hideProgressBar:!0,newestOnTop:!0,closeOnClick:!0,pauseOnFocusLoss:!1,pauseOnHover:!1}),(0,ct.jsxs)("div",{className:"text-center bg-white/95 rounded-2xl p-8 shadow-lg",children:[(0,ct.jsx)("img",{src:"/logo-color.svg",alt:"Golf League Logo",className:"h-20 w-auto mx-auto mb-4"}),(0,ct.jsx)("h1",{className:"text-4xl font-bold text-brand-black mb-4",children:"Match Scoring"}),(0,ct.jsx)("p",{className:"text-xl text-neutral-600",children:"Score tournament matches or create manual matches"})]}),(0,ct.jsxs)("div",{className:"bg-white/95 rounded-2xl shadow-lg",children:[(0,ct.jsx)("div",{className:"border-b border-neutral-200",children:(0,ct.jsxs)("nav",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-8 px-6",children:[(0,ct.jsxs)("button",{onClick:()=>f("tournament"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("tournament"===g?"border-brand-neon-green text-brand-black":"border-transparent text-neutral-600 hover:text-neutral-800"),children:[(0,ct.jsx)(qe,{className:"w-5 h-5 inline mr-2"}),"Tournament Matches"]}),(0,ct.jsxs)("button",{onClick:()=>f("manual"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("manual"===g?"border-brand-neon-green text-brand-black":"border-transparent text-neutral-600 hover:text-neutral-800"),children:[(0,ct.jsx)(Gt,{className:"w-5 h-5 inline mr-2"}),"Manual Scoring"]})]})}),(0,ct.jsxs)("div",{className:"p-4 sm:p-6",children:["tournament"===g&&(0,ct.jsx)("div",{className:"space-y-6",children:(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h2",{className:"text-2xl font-bold text-brand-black mb-4",children:"Tournament Matches"}),o.length>0?(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(e=>(0,ct.jsxs)("div",{onClick:()=>(e=>{x(e),p(null),D()})(e),className:"p-4 rounded-lg border cursor-pointer transition-colors ".concat((null===m||void 0===m?void 0:m.id)===e.id?"border-brand-neon-green bg-brand-neon-green/10":"border-neutral-300 hover:border-neutral-400 bg-white"),children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ct.jsx)("h3",{className:"font-semibold text-brand-black",children:e.name}),(0,ct.jsx)(qe,{className:"w-5 h-5 text-brand-neon-green"})]}),(0,ct.jsx)("p",{className:"text-sm text-neutral-600 mb-2",children:e.type}),e.start_date&&(0,ct.jsx)("p",{className:"text-xs text-neutral-500",children:new Date(e.start_date).toLocaleDateString()}),e.notes&&(0,ct.jsx)("p",{className:"text-xs text-neutral-600 mt-2 line-clamp-2",children:e.notes})]},e.id))}),m&&(0,ct.jsxs)("div",{className:"bg-neutral-50 rounded-lg p-4",children:[(0,ct.jsxs)("h3",{className:"text-lg font-semibold text-brand-black mb-3",children:["Matches for ",m.name]}),h?(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between space-y-2 sm:space-y-0",children:[(0,ct.jsxs)("h4",{className:"text-lg font-semibold text-brand-black",children:["Score Match #",h.match_number]}),(0,ct.jsxs)("button",{onClick:()=>{p(null),D()},className:"flex items-center px-3 py-1 text-sm border border-neutral-300 rounded text-neutral-600 hover:bg-neutral-50 transition-colors w-full sm:w-auto justify-center",children:[(0,ct.jsx)(Qe,{className:"w-4 h-4 mr-1"}),"Back to Queue"]})]}),(0,ct.jsx)("div",{className:"bg-white rounded-lg p-4 sm:p-6 border border-neutral-200",children:(0,ct.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!h||!m)return void _s.error("Please select a tournament match");if(Object.values(S.player1).some(e=>""!==e)||Object.values(S.player2).some(e=>""!==e)){j(!0);try{const e=P(),t=(r.find(e=>e.member_id===N),r.find(e=>e.member_id===_),{winner_id:"player1"===e?N:"player2"===e?_:null,scores:S,status:"completed"});await(0,tt.kP3)(m.id,h.id,t);const s=await(0,tt.PNr)(m.id);u(s.data),p(null),D(),_s.success("Tournament match scored successfully!")}catch(t){console.error("Error scoring tournament match:",t),_s.error("Error scoring match. Please try again.")}finally{j(!1)}}else _s.error("Please enter at least some scores")},className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-2",children:"Player 1"}),(0,ct.jsx)("input",{type:"text",value:"".concat(h.player1_first_name," ").concat(h.player1_last_name),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg bg-neutral-100",disabled:!0})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-2",children:"Player 2"}),(0,ct.jsx)("input",{type:"text",value:"".concat(h.player2_first_name," ").concat(h.player2_last_name),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg bg-neutral-100",disabled:!0})]})]}),(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsx)("h3",{className:"font-medium text-brand-black",children:"Hole Scores"}),[1,2,3].map(e=>(0,ct.jsxs)("div",{className:"bg-neutral-50 rounded-lg p-4",children:[(0,ct.jsxs)("h4",{className:"font-medium text-brand-black mb-3",children:["Hole ",e]}),(0,ct.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:h.player1_first_name}),(0,ct.jsx)("input",{type:"number",min:"1",value:S.player1["hole".concat(e)],onChange:t=>T("player1","hole".concat(e),t.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",placeholder:"Score"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:h.player2_first_name}),(0,ct.jsx)("input",{type:"number",min:"1",value:S.player2["hole".concat(e)],onChange:t=>T("player2","hole".concat(e),t.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",placeholder:"Score"})]})]})]},e))]}),(0,ct.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4",children:[(0,ct.jsxs)("button",{type:"button",onClick:()=>{p(null),D()},className:"flex items-center justify-center px-4 py-2 border border-neutral-300 rounded-lg text-neutral-600 hover:bg-neutral-50 transition-colors",children:[(0,ct.jsx)(Qe,{className:"w-4 h-4 mr-2"}),"Cancel"]}),(0,ct.jsxs)("button",{type:"submit",disabled:y,className:"flex items-center justify-center px-6 py-2 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors disabled:opacity-50",children:[y?(0,ct.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-brand-black mr-2"}):(0,ct.jsx)(Yt,{className:"w-4 h-4 mr-2"}),y?"Saving...":"Save Score"]})]})]})})]}):d.length>0?(0,ct.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:d.map(e=>(0,ct.jsxs)("div",{onClick:()=>(e=>{p(e),w(e.player1_id),k(e.player2_id),C({player1:{hole1:"",hole2:"",hole3:""},player2:{hole1:"",hole2:"",hole3:""}})})(e),className:"p-4 rounded-lg border cursor-pointer transition-all duration-200 ".concat("completed"===e.status?"border-green-300 bg-green-50 opacity-75":"border-neutral-300 hover:border-neutral-400 bg-white hover:shadow-md"),children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ct.jsxs)("h4",{className:"font-semibold text-brand-black",children:["Match #",e.match_number]}),(0,ct.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat("completed"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.status})]}),(0,ct.jsxs)("div",{className:"space-y-2",children:[(0,ct.jsxs)("div",{className:"text-sm",children:[(0,ct.jsxs)("p",{className:"font-medium text-neutral-700",children:[e.player1_first_name," ",e.player1_last_name]}),(0,ct.jsx)("p",{className:"text-xs text-neutral-500",children:"vs"}),(0,ct.jsxs)("p",{className:"font-medium text-neutral-700",children:[e.player2_first_name," ",e.player2_last_name]})]}),"completed"===e.status&&e.winner_first_name&&(0,ct.jsx)("div",{className:"mt-2 p-2 bg-green-100 rounded text-xs",children:(0,ct.jsxs)("p",{className:"font-medium text-green-800",children:["Winner: ",e.winner_first_name," ",e.winner_last_name]})}),"pending"===e.status&&(0,ct.jsx)("div",{className:"mt-2",children:(0,ct.jsx)("button",{className:"w-full text-sm bg-brand-neon-green text-brand-black py-2 px-3 rounded hover:bg-green-400 transition-colors",children:"Score Match"})})]})]},e.id))}):(0,ct.jsx)("p",{className:"text-center text-neutral-600 py-4",children:"No matches found for this tournament."})]})]}):(0,ct.jsx)("p",{className:"text-center text-neutral-600 py-4",children:"No tournaments available."})]})}),"manual"===g&&(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsx)("h2",{className:"text-2xl font-bold text-brand-black",children:"Manual Match Scoring"}),(0,ct.jsx)("div",{className:"bg-neutral-50 rounded-lg p-4 sm:p-6",children:(0,ct.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!N||!_)return void _s.error("Please select both players");if(N===_)return void _s.error("Players cannot play against themselves");if(Object.values(S.player1).some(e=>""!==e)||Object.values(S.player2).some(e=>""!==e)){j(!0);try{const e=P(),t=r.find(e=>e.member_id===N),s=r.find(e=>e.member_id===_),a="player1"===e?"".concat(null===t||void 0===t?void 0:t.first_name," ").concat(null===t||void 0===t?void 0:t.last_name):"player2"===e?"".concat(null===s||void 0===s?void 0:s.first_name," ").concat(null===s||void 0===s?void 0:s.last_name):"Tie",n={player1_id:N,player2_id:_,scores:S,winner:a,match_date:A};await(0,tt.CfM)(n),D(),_s.success("Match saved successfully!")}catch(t){console.error("Error saving match:",t),_s.error("Error saving match. Please try again.")}finally{j(!1)}}else _s.error("Please enter at least some scores")},className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-2",children:"Player 1"}),(0,ct.jsxs)("select",{value:N,onChange:e=>w(e.target.value?parseInt(e.target.value):""),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent bg-white",required:!0,children:[(0,ct.jsx)("option",{value:"",children:"Select Player 1"}),r.map(e=>(0,ct.jsxs)("option",{value:e.member_id,children:[e.first_name," ",e.last_name," (",e.club,")"]},e.member_id))]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-2",children:"Player 2"}),(0,ct.jsxs)("select",{value:_,onChange:e=>k(e.target.value?parseInt(e.target.value):""),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent bg-white",required:!0,children:[(0,ct.jsx)("option",{value:"",children:"Select Player 2"}),r.map(e=>(0,ct.jsxs)("option",{value:e.member_id,children:[e.first_name," ",e.last_name," (",e.club,")"]},e.member_id))]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-2",children:"Match Date"}),(0,ct.jsx)("input",{type:"date",value:A,onChange:e=>E(e.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent bg-white"})]})]}),(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsx)("h3",{className:"font-medium text-brand-black",children:"Hole Scores"}),[1,2,3].map(e=>(0,ct.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-neutral-200",children:[(0,ct.jsxs)("h4",{className:"font-medium text-brand-black mb-3",children:["Hole ",e]}),(0,ct.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Player 1"}),(0,ct.jsx)("input",{type:"number",min:"1",value:S.player1["hole".concat(e)],onChange:t=>T("player1","hole".concat(e),t.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",placeholder:"Score"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Player 2"}),(0,ct.jsx)("input",{type:"number",min:"1",value:S.player2["hole".concat(e)],onChange:t=>T("player2","hole".concat(e),t.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",placeholder:"Score"})]})]})]},e))]}),l&&(0,ct.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-neutral-200",children:[(0,ct.jsx)("h3",{className:"font-medium text-brand-black mb-2",children:"Scoring Rules"}),(0,ct.jsxs)("p",{className:"text-sm text-neutral-600",children:["Win: ",(null===(e=l.scoring_rules)||void 0===e?void 0:e.win)||3," pts | Tie: ",(null===(t=l.scoring_rules)||void 0===t?void 0:t.tie)||1," pt | Loss: ",(null===(s=l.scoring_rules)||void 0===s?void 0:s.loss)||0," pts"]})]}),(0,ct.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4",children:[(0,ct.jsxs)("button",{type:"button",onClick:D,className:"flex items-center justify-center px-4 py-2 border border-neutral-300 rounded-lg text-neutral-600 hover:bg-neutral-50 transition-colors",children:[(0,ct.jsx)(Qe,{className:"w-4 h-4 mr-2"}),"Reset"]}),(0,ct.jsxs)("button",{type:"submit",disabled:y,className:"flex items-center justify-center px-6 py-2 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors disabled:opacity-50",children:[y?(0,ct.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-brand-black mr-2"}):(0,ct.jsx)(Yt,{className:"w-4 h-4 mr-2"}),y?"Saving...":"Save Match"]})]})]})})]})]})]})]})},Fs=We("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Os=We("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const Is=(e,t)=>{const{user:s}=mt(),[r,n]=(0,a.useState)(null),[l,i]=(0,a.useState)(!0),[o,c]=(0,a.useState)(null);return(0,a.useEffect)(()=>{(async()=>{if(s&&t)try{i(!0),c(null);try{const t=await(0,tt.$vD)(e,s.member_id);n(t.data)}catch(a){console.warn("API course assignment failed, falling back to local logic:",a);const r=function(e,t){const s=function(e){return"No. 8"===e?"trackman":"gspro"}(t);return"trackman"===s&&e.trackman_course_id?{course:e.trackman_course,course_id:e.trackman_course_id,platform:"trackman"}:"gspro"===s&&e.gspro_course_id?{course:e.gspro_course,course_id:e.gspro_course_id,platform:"gspro"}:{course:e.course,course_id:e.course_id,platform:"legacy"}}(t,s.club);n({tournament_id:e,tournament_name:t.name,user_id:s.member_id,user_name:"".concat(s.first_name," ").concat(s.last_name),user_club:s.club,course_preference:"No. 8"===s.club?"trackman":"gspro",course:r.course,course_id:r.course_id,platform:r.platform})}}catch(r){console.error("Error fetching user course:",r),c("Failed to load course assignment")}finally{i(!1)}else i(!1)})()},[e,t,s]),{courseData:r,loading:l,error:o,courseId:(null===r||void 0===r?void 0:r.course_id)||null}},zs=e=>{let{tournamentId:t,tournamentFormat:s,tournamentSettings:r,onScoreSubmitted:n,courseId:l,tournament:i}=e;const[o,c]=(0,a.useState)([]),[d,u]=(0,a.useState)([]),[m,x]=(0,a.useState)(null),[h,p]=(0,a.useState)(!1),[g,f]=(0,a.useState)(!0),[b,v]=(0,a.useState)(!1),[y,j]=(0,a.useState)(null),[N,w]=(0,a.useState)(!1),[_,k]=(0,a.useState)({playerId:0,totalScore:"",holes:[],notes:""}),{courseData:S,loading:C,courseId:A}=Is(t,i),E=(0,a.useRef)(null),[T,P]=(0,a.useState)(!1),[D,M]=(0,a.useState)(null),{holeCount:R,startHole:L}=(()=>{const e=(null===r||void 0===r?void 0:r.holeConfiguration)||"18";return"9"===e||"9_front"===e?{holeCount:9,startHole:1}:"9_back"===e?{holeCount:9,startHole:10}:{holeCount:18,startHole:1}})();(0,a.useEffect)(()=>{C||(async()=>{const e=A||l;if(e){console.log("Fetching course data for courseId:",e,"userCourseId:",A,"tournamentCourseId:",l);try{p(!0);const t=await(0,tt.AIU)(e);console.log("Course data response:",t.data),t.data?(x(t.data),console.log("Course data set successfully:",t.data),console.log("Par values:",t.data.par_values)):console.log("No course data found for courseId:",e)}catch(t){console.error("Error fetching course data:",t)}finally{p(!1)}}else console.log("No courseId available, skipping course data fetch")})()},[A,l,C]),(0,a.useEffect)(()=>{(async()=>{try{f(!0);const[e,s]=await Promise.all([(0,tt.MsJ)(t),(0,tt.hEq)(t)]);c(e.data||[]),u(s.data||[])}catch(e){console.error("Error fetching tournament data:",e),_s.error("Failed to load tournament data")}finally{f(!1)}})()},[t]);const F=e=>e.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase());return g?(0,ct.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,ct.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-neon-green"})}):(0,ct.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,ct.jsxs)("div",{className:"bg-white rounded-none sm:rounded-xl border border-neutral-200 p-3 sm:p-6",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)(qe,{className:"w-6 h-6 text-brand-neon-green"}),(0,ct.jsx)("h3",{className:"text-xl font-bold text-brand-black",children:"Strokeplay Scoring"})]}),(0,ct.jsxs)("div",{className:"text-sm text-neutral-600",children:[F(s)," \u2022 ",R," holes"]})]}),(0,ct.jsxs)("p",{className:"text-neutral-600 mt-2",children:["Submit individual player scores for ",F(s)," tournament. Lowest total score wins."]}),m&&(0,ct.jsx)("div",{className:"mt-3 p-3 bg-neutral-50 rounded-lg",children:(0,ct.jsxs)("div",{className:"text-sm text-neutral-700",children:[(0,ct.jsx)("div",{className:"font-medium",children:m.name}),m.location&&(0,ct.jsx)("div",{className:"text-neutral-600",children:m.location}),m.designer&&(0,ct.jsxs)("div",{className:"text-neutral-600",children:["by ",m.designer]})]})}),S&&(0,ct.jsx)("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,ct.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,ct.jsx)("div",{className:"font-medium",children:"Your Course Assignment"}),(0,ct.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,ct.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("gspro"===S.platform?"bg-blue-100 text-blue-800":"trackman"===S.platform?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"),children:["gspro"===S.platform?"\ud83c\udfaf":"trackman"===S.platform?"\ud83d\udcca":"\ud83c\udfcc\ufe0f"," ",S.platform.toUpperCase()]}),(0,ct.jsx)("span",{children:S.course})]}),(0,ct.jsx)("div",{className:"text-xs text-blue-600 mt-1",children:"No. 8"===S.user_club?"Club No. 8 uses Trackman":"All other clubs use GSPro"})]})})]}),(0,ct.jsxs)("div",{className:"bg-white rounded-none sm:rounded-xl border border-neutral-200 p-3 sm:p-6",children:[(0,ct.jsx)("h4",{className:"text-lg font-semibold text-brand-black mb-4",children:"Tournament Participants"}),0===o.length?(0,ct.jsxs)("div",{className:"text-center py-8",children:[(0,ct.jsx)(Ye,{className:"w-12 h-12 text-neutral-400 mx-auto mb-4"}),(0,ct.jsx)("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"No participants registered"}),(0,ct.jsx)("p",{className:"text-neutral-600",children:"Players need to register for the tournament before scores can be submitted."})]}):(0,ct.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-4",children:o.map(e=>{const t=d.find(t=>t.user_id===e.user_member_id),s=!!t;return(0,ct.jsxs)("div",{className:"border rounded-lg p-3 sm:p-4 transition-all ".concat(s?"border-green-300 bg-green-50 cursor-default":"border-neutral-200 hover:border-brand-neon-green hover:shadow-md cursor-pointer"),onClick:s?void 0:()=>{return j(t=e),k({playerId:t.user_member_id,totalScore:"",holes:Array(R).fill("").map((e,t)=>({hole:L+t,score:""})),notes:""}),M(null),void w(!0);var t},children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ct.jsxs)("h5",{className:"font-semibold text-brand-black",children:[e.first_name," ",e.last_name]}),s?(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsx)(St,{className:"w-4 h-4 text-green-600"}),(0,ct.jsx)("span",{className:"text-sm font-medium text-green-600",children:t.total_strokes})]}):(0,ct.jsx)(Gt,{className:"w-4 h-4 text-brand-neon-green"})]}),(0,ct.jsx)("p",{className:"text-sm text-neutral-600",children:e.club}),(0,ct.jsx)("p",{className:"text-xs text-neutral-500",children:e.email}),(0,ct.jsx)("div",{className:"mt-3",children:s?(0,ct.jsxs)("div",{className:"flex items-center justify-center space-x-2 px-3 py-2 bg-green-100 text-green-700 rounded-lg text-sm font-medium",children:[(0,ct.jsx)(Os,{className:"w-4 h-4"}),"Score Submitted"]}):(0,ct.jsx)("button",{className:"w-full px-3 py-2 bg-brand-neon-green text-brand-black rounded-lg text-sm font-medium hover:bg-green-400 transition-colors",children:"Submit Score"})})]},e.user_member_id)})})]}),N&&y&&(0,ct.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,ct.jsxs)("div",{className:"bg-white rounded-2xl p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,ct.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ct.jsxs)("h3",{className:"text-2xl font-bold text-brand-black",children:["Strokeplay Scoring - ",y.first_name," ",y.last_name]}),(0,ct.jsx)("button",{onClick:()=>w(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:(0,ct.jsx)(Qe,{className:"w-6 h-6"})})]}),(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 border border-blue-200 rounded-xl p-6",children:[(0,ct.jsx)("h4",{className:"text-lg font-semibold text-brand-black mb-4 text-center",children:"Player Information"}),(0,ct.jsx)("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)(Ye,{className:"w-5 h-5 text-blue-600"}),(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("p",{className:"text-sm text-neutral-600 font-medium",children:[y.first_name," ",y.last_name]}),(0,ct.jsx)("p",{className:"text-xs text-neutral-500",children:y.club})]})]})})]}),(0,ct.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-xl p-6",children:[(0,ct.jsx)("h4",{className:"text-lg font-semibold text-brand-black mb-4",children:"Hole-by-Hole Scores"}),(0,ct.jsx)("div",{className:"overflow-x-auto",children:(0,ct.jsxs)("table",{className:"w-full border-collapse border border-neutral-300 rounded-lg",children:[(0,ct.jsx)("thead",{className:"bg-neutral-50",children:(0,ct.jsxs)("tr",{children:[(0,ct.jsx)("th",{className:"border border-neutral-300 px-3 py-2 text-center text-sm font-medium text-neutral-600",children:"Hole"}),(0,ct.jsx)("th",{className:"border border-neutral-300 px-3 py-2 text-center text-sm font-medium text-neutral-600",children:"Par"}),(0,ct.jsx)("th",{className:"border border-neutral-300 px-3 py-2 text-center text-sm font-medium text-neutral-600",children:"Score"})]})}),(0,ct.jsxs)("tbody",{children:[_.holes.map((e,t)=>{var s;const a=L-1+t,n=(null===m||void 0===m||null===(s=m.par_values)||void 0===s?void 0:s[a])||("Par 3"===(null===r||void 0===r?void 0:r.tee)?3:4);return console.log("Strokeplay scoring - Hole ".concat(e.hole,": parValueIndex=").concat(a,", parValue=").concat(n,", courseData.par_values="),null===m||void 0===m?void 0:m.par_values),(0,ct.jsxs)("tr",{className:"hover:bg-neutral-50",children:[(0,ct.jsx)("td",{className:"border border-neutral-300 px-3 py-2 text-center text-sm font-medium text-neutral-600",children:e.hole}),(0,ct.jsx)("td",{className:"border border-neutral-300 px-3 py-2 text-center text-sm font-medium text-neutral-500",children:n}),(0,ct.jsx)("td",{className:"border border-neutral-300 px-3 py-2",children:(0,ct.jsx)("input",{type:"number",min:"1",max:"10",value:e.score,onChange:e=>((e,t)=>{const s=[..._.holes];s[e]=(0,Re.A)((0,Re.A)({},s[e]),{},{score:t});const a=s.reduce((e,t)=>e+(parseInt(t.score)||0),0);k((0,Re.A)((0,Re.A)({},_),{},{holes:s,totalScore:a.toString()}))})(t,e.target.value),className:"w-full px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-brand-neon-green focus:border-transparent text-center",placeholder:"-"})})]},e.hole)}),(0,ct.jsxs)("tr",{className:"bg-neutral-100 font-semibold",children:[(0,ct.jsx)("td",{className:"border border-neutral-300 px-3 py-2 text-center text-sm font-medium text-neutral-600",children:"Total"}),(0,ct.jsx)("td",{className:"border border-neutral-300 px-3 py-2 text-center text-sm font-medium text-neutral-600",children:(()=>{if(null!==m&&void 0!==m&&m.par_values){return m.par_values.slice(L-1,L-1+R).reduce((e,t)=>e+t,0)}return R*("Par 3"===(null===r||void 0===r?void 0:r.tee)?3:4)})()}),(0,ct.jsx)("td",{className:"border border-neutral-300 px-3 py-2 text-center",children:(0,ct.jsx)("input",{type:"number",min:"1",value:_.totalScore,onChange:e=>{return t=e.target.value,void k((0,Re.A)((0,Re.A)({},_),{},{totalScore:t}));var t},className:"w-full px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-brand-neon-green focus:border-transparent text-center font-semibold",placeholder:"0"})})]})]})]})})]}),(0,ct.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-xl p-6",children:[(0,ct.jsx)("h4",{className:"text-lg font-semibold text-brand-black mb-4",children:"Scorecard Photo (Optional)"}),(0,ct.jsxs)("div",{className:"space-y-4",children:[D?(0,ct.jsxs)("div",{className:"relative",children:[(0,ct.jsx)("img",{src:D,alt:"Scorecard",className:"w-full max-w-md h-auto rounded-lg border border-neutral-300"}),(0,ct.jsx)("button",{onClick:()=>M(null),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:(0,ct.jsx)(Qe,{className:"w-4 h-4"})})]}):(0,ct.jsxs)("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-6 text-center",children:[(0,ct.jsx)(Dt,{className:"w-8 h-8 text-neutral-400 mx-auto mb-2"}),(0,ct.jsx)("p",{className:"text-neutral-600 mb-2",children:"Upload a photo of your scorecard"}),(0,ct.jsx)("button",{onClick:()=>{var e;null===(e=E.current)||void 0===e||e.click()},disabled:T,className:"px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors disabled:opacity-50",children:T?"Uploading...":"Upload Photo"})]}),(0,ct.jsx)("input",{ref:E,type:"file",accept:"image/*",onChange:async e=>{var t;const s=null===(t=e.target.files)||void 0===t?void 0:t[0];if(s)if(console.log("Photo upload started:",s.name,s.size,s.type),s.type.startsWith("image/"))if(s.size>5242880)_s.error("File size must be less than 5MB");else{P(!0);try{console.log("Uploading photo to server...");const e=await(0,tt.k97)(s);console.log("Photo upload response:",e.data),e.data.success?(M(e.data.photoUrl),_s.success("Scorecard photo uploaded successfully"),console.log("Photo URL set:",e.data.photoUrl)):(console.error("Upload failed:",e.data),_s.error("Upload failed: "+(e.data.error||"Unknown error")))}catch(r){var a;console.error("Error uploading photo:",r),console.error("Error details:",null===(a=r.response)||void 0===a?void 0:a.data),_s.error("Failed to upload photo. Please try again.")}finally{P(!1)}}else _s.error("Please select an image file")},className:"hidden"})]})]}),(0,ct.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-xl p-6",children:[(0,ct.jsx)("h4",{className:"text-lg font-semibold text-brand-black mb-4",children:"Additional Notes"}),(0,ct.jsx)("textarea",{value:_.notes,onChange:e=>k((0,Re.A)((0,Re.A)({},_),{},{notes:e.target.value})),placeholder:"Optional notes about the round...",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",rows:3})]}),(0,ct.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4 pt-4",children:[(0,ct.jsx)("button",{type:"button",onClick:()=>w(!1),className:"px-6 py-3 border border-neutral-300 rounded-lg text-neutral-600 hover:bg-neutral-50 transition-colors",children:"Cancel"}),(0,ct.jsx)("button",{onClick:async()=>{if(!y)return;console.log("Submitting strokeplay score for player:",y),console.log("Score form:",_),console.log("Scorecard photo URL:",D);if(_.holes.some(e=>""!==e.score))if(_.totalScore&&0!==parseInt(_.totalScore)){v(!0);try{const e={total_score:parseInt(_.totalScore),hole_scores:_.holes.map(e=>({hole:e.hole,score:parseInt(e.score)||0})),notes:_.notes,scorecard_photo_url:D||void 0,player_id:y.user_member_id};console.log("Submitting strokeplay score data:",e);const s=await(0,tt.edq)(t,e);console.log("Tournament strokeplay score response:",s.data),_s.success("Score submitted for ".concat(y.first_name," ").concat(y.last_name)),w(!1),j(null),k({playerId:0,totalScore:"",holes:[],notes:""}),M(null);try{const e=await(0,tt.hEq)(t);u(e.data||[])}catch(r){console.error("Error refreshing submitted scores:",r)}n()}catch(r){var e,s,a;console.error("Error submitting strokeplay score:",r),console.error("Error details:",null===(e=r.response)||void 0===e?void 0:e.data),_s.error("Failed to submit score: "+((null===(s=r.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.error)||r.message||"Unknown error"))}finally{v(!1)}}else _s.error("Please enter a valid total score");else _s.error("Please enter at least some hole scores")},disabled:!_.totalScore||0===parseInt(_.totalScore)||b,className:"px-6 py-3 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:b?"Submitting...":"Submit Score"})]})]})]})})]})},Bs=e=>{let{tournamentId:t,tournamentMatches:s=[],tournamentFormat:r="match_play",onScoreSubmitted:n,requiresMatches:l=!1,teams:i=[],tournamentSettings:o={},courseId:c}=e;const[d,u]=(0,a.useState)({}),[m,x]=(0,a.useState)(!1),[h,p]=(0,a.useState)(null),[g,f]=(0,a.useState)(null);(0,a.useEffect)(()=>{if("scramble"===r&&i.length>0){const e={};i.forEach(t=>{e[t.id]=0}),u(e)}else if(l&&s.length>0){const e={};s.forEach(t=>{e["".concat(t.id,"_player1")]=0,e["".concat(t.id,"_player2")]=0}),u(e)}},[r,i,s,l]);const b=(e,t)=>{u(s=>(0,Re.A)((0,Re.A)({},s),{},{[e]:t}))},v=()=>"scramble"===r?g&&d[g.id]>0:!!l&&(h&&d["".concat(h.id,"_player1")]>0&&d["".concat(h.id,"_player2")]>0);return(0,ct.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,ct.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:["Submit Score - ","scramble"===r?"Scramble Format":"Match Play"]}),"scramble"===r?(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Team"}),(0,ct.jsxs)("select",{value:(null===g||void 0===g?void 0:g.id)||"",onChange:e=>{const t=i.find(t=>t.id===e.target.value);f(t)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,ct.jsx)("option",{value:"",children:"Select a team"}),i.map(e=>(0,ct.jsxs)("option",{value:e.id,children:[e.name," - ",e.captain.first_name," ",e.captain.last_name]},e.id))]})]}),g&&(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Team Score"}),(0,ct.jsx)("input",{type:"number",value:d[g.id]||"",onChange:e=>b(g.id,parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter team score"})]})]}):(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Match"}),(0,ct.jsxs)("select",{value:(null===h||void 0===h?void 0:h.id)||"",onChange:e=>{const t=s.find(t=>t.id===parseInt(e.target.value));p(t)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,ct.jsx)("option",{value:"",children:"Select a match"}),s.map(e=>(0,ct.jsxs)("option",{value:e.id,children:[e.player1_name," vs ",e.player2_name]},e.id))]})]}),h&&(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[h.player1_name," Score"]}),(0,ct.jsx)("input",{type:"number",value:d["".concat(h.id,"_player1")]||"",onChange:e=>b("".concat(h.id,"_player1"),parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter score"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[h.player2_name," Score"]}),(0,ct.jsx)("input",{type:"number",value:d["".concat(h.id,"_player2")]||"",onChange:e=>b("".concat(h.id,"_player2"),parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter score"})]})]})]}),(0,ct.jsx)("div",{className:"mt-8 flex justify-end",children:(0,ct.jsx)("button",{onClick:async()=>{if(!m){x(!0);try{"scramble"===r&&g?await(0,tt.GlI)(t,g.id,{total_score:d[g.id]||0,submitted_by:1}):"stroke_play"===r?await(0,tt.edq)(t,{total_score:Object.values(d).reduce((e,t)=>e+t,0),hole_scores:Object.entries(d).map((e,t)=>{let[s,a]=e;return{hole:t+1,score:a}})}):l&&h&&await(0,tt.aGb)({type:"stroke_play",player_name:"".concat(h.player1_name," vs ").concat(h.player2_name),date_played:(new Date).toISOString().split("T")[0],handicap:0,scores:{player1:d["".concat(h.id,"_player1")]||0,player2:d["".concat(h.id,"_player2")]||0},total_strokes:(d["".concat(h.id,"_player1")]||0)+(d["".concat(h.id,"_player2")]||0),total_mulligans:0,final_score:Math.min(d["".concat(h.id,"_player1")]||0,d["".concat(h.id,"_player2")]||0),tournament_id:t}),_s.success("Score submitted successfully!"),null===n||void 0===n||n(),u({}),p(null),f(null)}catch(e){console.error("Error submitting score:",e),_s.error("Failed to submit score. Please try again.")}finally{x(!1)}}},disabled:!v()||m,className:"px-6 py-2 rounded-md font-medium ".concat(v()&&!m?"bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:m?"Submitting...":"Submit Score"})})]})},Us=We("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),Hs=We("wifi-off",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),Ws=We("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),qs=(e,t,s)=>"".concat("weekly_scoring_cache","_").concat(e,"_").concat(t,"_").concat(s),Vs=e=>{try{const t=localStorage.getItem(e);if(!t)return null;const{data:s,timestamp:a}=JSON.parse(t);return Date.now()-a>3e5?(localStorage.removeItem(e),null):s}catch(t){return console.error("Error reading cache:",t),null}},Gs=(e,t)=>{try{const s={data:t,timestamp:Date.now()};localStorage.setItem(e,JSON.stringify(s))}catch(s){console.error("Error writing cache:",s)}},Ys=(e,t)=>{[qs(e,t,"leaderboard"),qs(e,t,"fieldStats"),qs(e,t,"playerScorecard")].forEach(e=>{try{localStorage.removeItem(e)}catch(t){console.error("Error clearing cache:",t)}})},$s=e=>{let{tournamentId:t,tournamentName:s,onScoreSubmitted:r}=e;const{user:n}=mt(),[l,i]=(0,a.useState)([{hole:1,score:0,submitted:!1},{hole:2,score:0,submitted:!1},{hole:3,score:0,submitted:!1},{hole:4,score:0,submitted:!1},{hole:5,score:0,submitted:!1},{hole:6,score:0,submitted:!1},{hole:7,score:0,submitted:!1},{hole:8,score:0,submitted:!1},{hole:9,score:0,submitted:!1}]),[o,c]=(0,a.useState)(1),[d,u]=(0,a.useState)(!1),[m,x]=(0,a.useState)(!1),[h,p]=(0,a.useState)(""),[g,f]=(0,a.useState)(!1),[b,v]=(0,a.useState)(!1),[y,j]=(0,a.useState)([]),[N,w]=(0,a.useState)([]),[_,k]=(0,a.useState)(!1),[S,C]=(0,a.useState)(!1),[A,E]=(0,a.useState)({totalPoints:0,holePoints:0,roundPoints:0,liveBonus:0}),[T,P]=(0,a.useState)({}),[D,M]=(0,a.useState)({}),[R,L]=(0,a.useState)({}),[F,O]=(0,a.useState)(!0),[I,z]=(0,a.useState)(3e4),B=(0,a.useRef)(!0),U=(0,a.useRef)(""),H=(0,a.useRef)([]),W=(0,a.useRef)([]),[q,V]=(0,a.useState)("");(0,a.useEffect)(()=>{(async()=>{if(t)try{var e,s;const a=await(0,tt.OUn)(t),r=(null===(e=a.data)||void 0===e?void 0:e.week_start_date)||(null===(s=a.data)||void 0===s?void 0:s.start_date);if(r){const e=new Date(r),t=e.getUTCFullYear(),s=String(e.getUTCMonth()+1).padStart(2,"0"),a=String(e.getUTCDate()).padStart(2,"0");V("".concat(t,"-").concat(s,"-").concat(a))}else V((new Date).toISOString().split("T")[0])}catch(Zp){V((new Date).toISOString().split("T")[0])}})()},[t]),(0,a.useEffect)(()=>{if(!q)return;(async()=>{console.log("Initializing data for week:",q),await J(),B.current=!1,console.log("Initial data load complete")})()},[q]);const G=(0,a.useMemo)(()=>qs(t,q,"leaderboard"),[t,q]),Y=(0,a.useMemo)(()=>qs(t,q,"fieldStats"),[t,q]),$=(0,a.useMemo)(()=>qs(t,q,"playerScorecard"),[t,q]);(0,a.useEffect)(()=>{if(console.log("=== CALCULATING MATCHPLAY STATES ==="),console.log("Leaderboard length:",N.length),console.log("Hole scores with submitted:",l.filter(e=>e.submitted).length),console.log("Current user:",(null===n||void 0===n?void 0:n.user_id)||(null===n||void 0===n?void 0:n.member_id)),N.length>0&&l.some(e=>e.submitted)){const e={};N.forEach(t=>{if(t.user_id===(null===n||void 0===n?void 0:n.user_id)||t.member_id===(null===n||void 0===n?void 0:n.member_id))return void console.log("Skipping current user:",t.user_id||t.member_id);const s=t.user_id||t.member_id;console.log("Calculating states for player:",s,t.first_name),e[s]={};for(let n=1;n<=3;n++){let i=0;const o=3*n;for(let c=3*(n-1)+1;c<=o;c++){var a,r;const n=c-1,o=null!==(a=l[n])&&void 0!==a&&a.submitted?l[n].score:0,d=(null===(r=t.hole_scores)||void 0===r?void 0:r[n])||0;if(console.log("Hole ".concat(c,": Your score: ").concat(o,", Their score: ").concat(d)),o>0&&d>0){let t=0;o<d?(t=1,console.log("Hole ".concat(c,": You win (+1)"))):o>d?(t=-1,console.log("Hole ".concat(c,": You lose (-1)"))):console.log("Hole ".concat(c,": Tie (0)")),i+=t,e[s][c]=i,console.log("Hole ".concat(c,": State after: ").concat(i))}}}}),console.log("Final matchplay states:",e),L(e)}},[N,l,null===n||void 0===n?void 0:n.user_id,null===n||void 0===n?void 0:n.member_id]);const Q=(0,a.useCallback)((e,t)=>{const s=JSON.stringify(e.map(e=>({user_id:e.user_id,total_score:e.total_score,hole_scores:e.hole_scores}))),a=JSON.stringify(t.map(e=>({hole:e.hole,averageScore:e.averageScore,totalPlayers:e.totalPlayers})));return"".concat(s,"-").concat(a)},[]),K=(0,a.useCallback)(async()=>{try{const e=Vs(G),s=Vs(Y);let a,r;if(e&&s)console.log("Using cached data for leaderboard and field stats"),a=e,r=s,C(!0);else{console.log("Fetching fresh data from server"),C(!1);const[e,s]=await Promise.all([(0,tt.fuQ)(t,q),(0,tt.pXK)(t,q)]);a=e.data,r=s.data,Gs(G,a),Gs(Y,r)}const i=Q(a,r);await new Promise(e=>setTimeout(e,500)),await Promise.all([ae(),re()]);const o=a.find(e=>e.user_id===(null===n||void 0===n?void 0:n.user_id)||e.user_id===(null===n||void 0===n?void 0:n.member_id));o&&(console.log("Current user in leaderboard:",o),console.log("Current user local scores:",l.map(e=>e.score))),i!==U.current?(console.log("Data changed, updating UI..."),w(a),j(r),U.current=i,H.current=a,W.current=r):(console.log("No data changes detected for leaderboard/field stats, skipping their UI update"),0===N.length&&a.length>0&&(console.log("Restoring leaderboard data that was lost"),w(a)),0===y.length&&r.length>0&&(console.log("Restoring field stats that were lost"),j(r))),console.log("Real-time update completed - preserving existing hole scores")}catch(ee){throw console.error("Error in smart data update:",ee),ee}},[t,q,Q,G,Y]),J=(0,a.useCallback)(async()=>{await K()},[K]),{isConnected:X,lastUpdateTime:Z,error:ee,manualRefresh:te,connectionStatus:se}=(e=>{let{enabled:t,interval:s,onUpdate:r,onError:n,retryAttempts:l=3,retryDelay:i=5e3}=e;const[o,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(new Date),[m,x]=(0,a.useState)(null),[h,p]=(0,a.useState)("disconnected"),g=(0,a.useRef)(null),f=(0,a.useRef)(0),b=(0,a.useRef)(!1),v=(0,a.useCallback)(async()=>{try{p("connected"),x(null),f.current=0,await r(),u(new Date),c(!0)}catch(e){const s=e instanceof Error?e:new Error("Unknown error occurred");x(s),c(!1),p("error"),n&&n(s),f.current<l&&(f.current++,p("retrying"),setTimeout(()=>{t&&v()},i))}},[r,n,l,i,t]),y=(0,a.useCallback)(async()=>{f.current=0,await v()},[v]);return(0,a.useEffect)(()=>(t&&!b.current&&(v(),b.current=!0),t?g.current=setInterval(()=>{v()},s):(g.current&&(clearInterval(g.current),g.current=null),c(!1),p("disconnected")),()=>{g.current&&(clearInterval(g.current),g.current=null)}),[t,s,v]),(0,a.useEffect)(()=>()=>{g.current&&clearInterval(g.current)},[]),{isConnected:o,lastUpdateTime:d,error:m,manualRefresh:y,connectionStatus:h}})({enabled:F&&!B.current,interval:I,onUpdate:J,onError:e=>{console.error("Real-time update error:",e),_s.error("Connection error: ".concat(e.message))},retryAttempts:3,retryDelay:5e3});(0,a.useEffect)(()=>{console.log("useEffect triggered - Leaderboard length:",N.length,"Field stats length:",y.length),N.length>0&&y.length>0&&Object.keys(T).length>0&&(console.log("Updating hole results with field data..."),ne()),0===N.length&&H.current.length>0&&(console.log("Restoring leaderboard data that was cleared during re-render"),w(H.current)),0===y.length&&W.current.length>0&&(console.log("Restoring field stats that were cleared during re-render"),j(W.current))},[N,y]);const ae=async()=>{try{const e=Vs($);if(e){console.log("Using cached player scorecard data");const t=e.hole_scores,s=l.map((e,s)=>(0,Re.A)((0,Re.A)({},e),{},{score:t[s]||0,submitted:t[s]>0}));i(s)}const s=await(0,tt.Fkg)(t,q);if(s.data){const e=s.data.hole_scores;console.log("Updating hole scores from server data");const t=l.map((t,s)=>{const a=e[s]||0,r=t.score;return a!==r?(console.log("Hole ".concat(s+1,": Updating score from ").concat(r," to ").concat(a)),(0,Re.A)((0,Re.A)({},t),{},{score:a,submitted:a>0})):t});i(t),Gs($,s.data)}}catch(ee){console.error("Error fetching current player scorecard:",ee)}},re=async()=>{try{console.log("fetchCurrentPoints called");const e=(null===n||void 0===n?void 0:n.user_id)||(null===n||void 0===n?void 0:n.member_id);if(!e)return void console.log("No current user ID found");console.log("Current user ID:",e);const s=await(0,tt.RcG)(t,e,q);if(console.log("Match data response:",s.data),s.data&&s.data.length>0){const t=s.data[0];console.log("Found match:",t);const a=t.player1_id===e;E({totalPoints:Number(a?t.total_points_player1:t.total_points_player2||0),holePoints:Number(a?t.hole_points_player1:t.hole_points_player2||0),roundPoints:Number(a?Number(t.round1_points_player1||0)+Number(t.round2_points_player1||0)+Number(t.round3_points_player1||0):Number(t.round1_points_player2||0)+Number(t.round2_points_player2||0)+Number(t.round3_points_player2||0)),liveBonus:0})}const a=await(0,tt.B6f)(t,e,q);if(200===a.status){const e=a.data;console.log("Hole and round points data received:",e);const t=e.holePoints||e,s=e.roundPoints||{};console.log("Hole points data:",t),console.log("Round points data:",s);const r={},n={};for(let a=1;a<=9;a++){const e=t[a];console.log("Processing hole ".concat(a,":"),e),e&&(r[a]={points:e.points,result:e.result,fieldRank:0,totalField:0,record:e.record})}for(let a=1;a<=3;a++){const e=s[a];e&&(n[a]={result:e.result,record:e.record})}console.log("Hole results from backend:",r),console.log("Round results from backend:",n),console.log("Setting hole results:",r),P(r),M(n)}}catch(ee){console.error("Error fetching current points:",ee)}},ne=()=>{const e=(null===n||void 0===n?void 0:n.user_id)||(null===n||void 0===n?void 0:n.member_id);if(!e)return;const t=(0,Re.A)({},T);for(let r=1;r<=9;r++){const n=y.find(e=>e.hole===r);if(n&&n.totalPlayers>0){const n=N.filter(e=>e.hole_scores&&e.hole_scores[r-1]>0).map(e=>e.hole_scores[r-1]).sort((e,t)=>e-t);if(n.length>0){var s,a;const l=null===(s=N.find(t=>t.user_id===e||t.member_id===e))||void 0===s||null===(a=s.hole_scores)||void 0===a?void 0:a[r-1];if(l&&t[r]){const e=n.findIndex(e=>e===l)+1,s=n.length;t[r]=(0,Re.A)((0,Re.A)({},t[r]),{},{fieldRank:e,totalField:s})}}}}console.log("Updated hole results with field data:",t),P(t)},le=(l.reduce((e,t)=>e+t.score,0),l.filter(e=>e.score>0).length,l.filter(e=>e.submitted).length,(()=>{const e=3*(o-1)+1;return l.slice(e-1,e+2)})());le.reduce((e,t)=>e+t.score,0),(()=>{switch(se){case"connected":return{icon:Us,color:"text-green-600",bgColor:"bg-green-100"};case"disconnected":default:return{icon:Hs,color:"text-gray-600",bgColor:"bg-gray-100"};case"error":return{icon:Hs,color:"text-red-600",bgColor:"bg-red-100"};case"retrying":return{icon:Ut,color:"text-yellow-600",bgColor:"bg-yellow-100"}}})().icon;return(0,ct.jsxs)("div",{className:"w-full bg-white min-h-screen rounded-lg",children:[(0,ct.jsxs)("div",{className:"bg-white rounded-lg mb-3 shadow-sm",children:[(0,ct.jsxs)("div",{className:"text-center mb-3 px-4 py-3",children:[(0,ct.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:d?"Leaderboard":"Score Submission"}),d&&(0,ct.jsx)("p",{className:"text-sm sm:text-base text-gray-600 mt-2",children:"Overall standings for the week"})]}),(0,ct.jsxs)("div",{className:"flex items-center justify-between px-4",children:[(0,ct.jsx)("button",{onClick:()=>{d?(u(!1),c(3)):c(Math.max(1,o-1))},disabled:!d&&1===o,className:"p-2 rounded-full bg-gray-100 shadow-sm disabled:opacity-50 touch-manipulation",children:(0,ct.jsx)(Ws,{className:"w-4 h-4"})}),(0,ct.jsxs)("div",{className:"flex space-x-1",children:[[1,2,3].map(e=>(0,ct.jsx)("button",{onClick:()=>{c(e),u(!1)},className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full text-sm font-bold flex items-center justify-center touch-manipulation ".concat(d||o!==e?"bg-gray-100 text-gray-600":"bg-blue-600 text-white"),children:(0,ct.jsx)("span",{className:"text-base sm:text-lg font-bold",children:e})},e)),(0,ct.jsx)("button",{onClick:()=>{u(!0)},className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full text-sm font-bold flex items-center justify-center touch-manipulation ".concat(d?"bg-blue-600 text-white":"bg-gray-100 text-gray-600"),children:(0,ct.jsx)("span",{className:"text-base sm:text-lg font-bold",children:"LB"})})]}),(0,ct.jsx)("button",{onClick:()=>{d?(u(!1),c(1)):c(Math.min(3,o+1))},disabled:!d&&3===o,className:"p-2 rounded-full bg-gray-100 shadow-sm disabled:opacity-50 touch-manipulation",children:(0,ct.jsx)(yt,{className:"w-4 h-4"})})]}),ee&&(0,ct.jsxs)("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded text-xs text-red-700",children:["Connection error: ",ee.message]})]}),d?(0,ct.jsxs)("div",{className:"bg-white rounded-lg mb-3 shadow-sm",children:[(0,ct.jsxs)("div",{className:"text-center mb-4 px-4 pt-3",children:[(0,ct.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-2",children:"\ud83c\udfc6 Weekly Leaderboard"}),(0,ct.jsx)("p",{className:"text-sm sm:text-base text-gray-600",children:"Overall standings for the week"})]}),N.length>0?(0,ct.jsx)("div",{className:"w-full px-4 pb-3 overflow-x-auto",children:(0,ct.jsxs)("table",{className:"w-full text-center text-xs sm:text-sm min-w-full",children:[(0,ct.jsx)("thead",{children:(0,ct.jsxs)("tr",{children:[(0,ct.jsx)("th",{className:"px-1 sm:px-2 py-2 text-xs font-bold text-gray-600 text-left",children:"Rank"}),(0,ct.jsx)("th",{className:"px-1 sm:px-2 py-2 text-xs font-bold text-gray-600 text-left",children:"Player"}),(0,ct.jsx)("th",{className:"px-1 sm:px-2 py-2 text-xs font-bold text-gray-600 hidden sm:table-cell",children:"Hole Pts"}),(0,ct.jsx)("th",{className:"px-1 sm:px-2 py-2 text-xs font-bold text-gray-600 hidden sm:table-cell",children:"Round Pts"}),(0,ct.jsx)("th",{className:"px-1 sm:px-2 py-2 text-xs font-bold text-gray-600",children:"Points"})]})}),(0,ct.jsx)("tbody",{children:N.map((e,t)=>{const s=String(e.user_id||e.member_id)===String((null===n||void 0===n?void 0:n.user_id)||(null===n||void 0===n?void 0:n.member_id)),a=Number(e.total_score||0),r=Number(e.total_hole_points||0),l=Number(e.total_round_points||0),i=e.hole_scores&&e.hole_scores.some(e=>e>0);return(0,ct.jsxs)("tr",{className:"".concat(s?"bg-blue-50":""," ").concat(i?"":"opacity-60"),children:[(0,ct.jsx)("td",{className:"px-1 sm:px-2 py-2 text-left",children:(0,ct.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ".concat(0===t?"bg-yellow-100 text-yellow-800":1===t?"bg-gray-100 text-gray-800":2===t?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-600"),children:t+1})}),(0,ct.jsx)("td",{className:"px-1 sm:px-2 py-2 text-left",children:(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("div",{className:"text-sm font-medium ".concat(s?"text-blue-900":"text-gray-900"),children:[e.first_name," ",e.last_name]}),(0,ct.jsx)("div",{className:"text-xs text-gray-500 hidden sm:block",children:e.club})]})}),(0,ct.jsx)("td",{className:"px-1 sm:px-2 py-2 hidden sm:table-cell",children:(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:r.toFixed(1)})}),(0,ct.jsx)("td",{className:"px-1 sm:px-2 py-2 hidden sm:table-cell",children:(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:l.toFixed(1)})}),(0,ct.jsx)("td",{className:"px-1 sm:px-2 py-2",children:(0,ct.jsx)("div",{className:"text-lg font-bold text-gray-900",children:a.toFixed(1)})})]},e.user_id)})})]})}):(0,ct.jsxs)("div",{className:"text-center text-gray-500 py-8",children:[(0,ct.jsx)("div",{className:"text-lg mb-2",children:"\ud83d\udcca"}),(0,ct.jsx)("div",{children:"No leaderboard data available"})]})]}):(0,ct.jsx)("div",{className:"bg-white rounded-lg mb-3 shadow-sm",children:0===le.length?(0,ct.jsx)("div",{className:"text-center text-gray-500 px-4 py-3",children:"Loading holes..."}):(0,ct.jsx)("div",{className:"w-full px-4 py-3 overflow-x-auto",children:(0,ct.jsxs)("table",{className:"w-full text-center border-separate border-spacing-1 text-xs sm:text-sm",children:[(0,ct.jsx)("thead",{children:(0,ct.jsx)("tr",{children:le.map((e,t)=>{const s=3*(o-1)+t+1;return(0,ct.jsxs)("th",{className:"px-1 py-2 text-sm font-bold text-gray-600 border-b",children:["Hole ",s]},t)})})}),(0,ct.jsx)("tbody",{children:(0,ct.jsx)("tr",{children:le.map((e,s)=>{const a=3*(o-1)+s+1;y.find(e=>e.hole===a);return(0,ct.jsx)("td",{className:"px-1 py-2",children:e.submitted?(0,ct.jsxs)("div",{className:"flex items-center justify-center space-x-1",children:[(0,ct.jsx)("span",{className:"text-lg font-bold text-green-600",children:e.score}),(0,ct.jsx)("span",{className:"text-green-500",children:"\u2713"})]}):(0,ct.jsxs)("div",{className:"flex flex-col items-center space-y-1",children:[(0,ct.jsx)("input",{type:"number",min:"1",max:"20",value:0===e.score?"":e.score,onChange:e=>{const t=e.target.value,a=""===t?0:parseInt(t);((e,t)=>{if(t<0)return;const s=[...l];s[e]=(0,Re.A)((0,Re.A)({},s[e]),{},{score:t}),i(s)})(3*(o-1)+s,a)},disabled:e.submitted,className:"w-16 h-10 text-center border rounded text-sm font-bold focus:outline-none focus:ring-1 focus:ring-blue-500 touch-manipulation",placeholder:"0"}),(0,ct.jsx)("button",{onClick:()=>(async e=>{const s=l[e];if(0===s.score||s.score<1)_s.error("Please enter a valid score (1-20) for this hole");else if(s.score>20)_s.error("Score must be between 1 and 20");else if(s.submitted)_s.error("This hole has already been submitted");else{f(!0);try{console.log("=== SUBMITTING HOLE SCORE ==="),console.log("Tournament ID:",t),console.log("Hole Index:",e),console.log("Hole Scores:",l);const s=l.map(e=>e.score);console.log("Temp Scores:",s),console.log("Calling submitWeeklyScorecard...");const a=await(0,tt.uRu)(t,{hole_scores:s,is_live:m,group_id:h||void 0,week_start_date:q});console.log("API Response:",a);const r=[...l];r[e]=(0,Re.A)((0,Re.A)({},r[e]),{},{submitted:!0}),i(r),await re();const c=T[e+1];c&&c.points>0?_s.success("Hole ".concat(e+1," submitted! +").concat(c.points.toFixed(1)," points earned! \ud83c\udf89")):_s.success("Hole ".concat(e+1," submitted successfully!"));const d=l.slice(3*(o-1),3*o);if(d.every(e=>e.submitted)){const e=d.map(e=>e.score),t=3*(o-1),s=e.reduce((e,t)=>e+t,0),a=N.filter(e=>e.user_id!==(null===n||void 0===n?void 0:n.user_id)&&e.member_id!==(null===n||void 0===n?void 0:n.member_id)).map(e=>{var s;return(null===(s=e.hole_scores)||void 0===s?void 0:s.slice(t,t+3))||[]}).filter(e=>e.every(e=>e>0));a.every(e=>{const t=e.reduce((e,t)=>e+t,0);return s<=t})&&a.length>0&&_s.success("Round ".concat(o," completed! You won the round! +1.0 points! \ud83c\udfc6"))}}catch(ee){var a,r;console.error("Error submitting hole score:",ee),_s.error((null===(a=ee.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.error)||ee.message||"Failed to submit hole score")}finally{f(!1)}}})(3*(o-1)+s),disabled:g||e.submitted||0===e.score,className:"w-16 h-6 bg-green-600 text-white text-xs rounded hover:bg-green-700 disabled:bg-gray-300 disabled:text-gray-400 touch-manipulation flex items-center justify-center",title:"Save hole score",children:(0,ct.jsx)(Yt,{className:"w-3 h-3"})})]})},s)})})})]})})}),!d&&N.length>0&&(0,ct.jsxs)("div",{className:"mt-4 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg shadow-sm border-2 border-yellow-200",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-3 px-4 pt-3",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)("h3",{className:"text-sm sm:text-base font-bold text-gray-900",children:"\ud83c\udfc6 LIVE ROUND RANKINGS"}),(0,ct.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ct.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(X?"bg-green-500":"bg-gray-400")}),(0,ct.jsx)("span",{className:"text-xs text-gray-600",children:F?"Live Updates":"Manual Mode"})]})]}),(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsxs)("span",{className:"text-xs text-gray-500 hidden sm:inline",children:[N.length," players"]}),(0,ct.jsx)("button",{onClick:async()=>{_s.info("Refreshing live data..."),Ys(t,q),await te(),_s.success("Data refreshed successfully!")},disabled:_,className:"p-2 rounded-full bg-blue-100 text-blue-600 hover:bg-blue-200 disabled:opacity-50 touch-manipulation",children:(0,ct.jsx)(Ut,{className:"w-4 h-4 ".concat(_?"animate-spin":"")})})]})]}),(0,ct.jsx)("div",{className:"w-full px-4 pb-3 overflow-x-auto",children:(0,ct.jsxs)("table",{className:"w-full text-center text-xs sm:text-sm min-w-full",children:[(0,ct.jsx)("thead",{children:(0,ct.jsxs)("tr",{children:[(0,ct.jsx)("th",{className:"px-1 py-2 text-xs font-bold text-gray-600 text-left",children:"Player"}),le.map((e,t)=>{const s=3*(o-1)+t+1;return(0,ct.jsxs)("th",{className:"px-1 py-2 text-xs font-bold text-gray-600",children:["H",s]},t)}),(0,ct.jsxs)("th",{className:"px-1 py-2 text-xs font-bold text-gray-600",children:["R",o]})]})}),(0,ct.jsx)("tbody",{children:N.map((e,t)=>{var s,a;const r=String(e.user_id||e.member_id)===String((null===n||void 0===n?void 0:n.user_id)||(null===n||void 0===n?void 0:n.member_id)),i=e.hole_scores&&e.hole_scores.some(e=>e>0);0===t&&(console.log("LIVE RANKINGS DEBUG:"),console.log("Current user object:",n),console.log("Current user ID:",(null===n||void 0===n?void 0:n.user_id)||(null===n||void 0===n?void 0:n.member_id)),console.log("Leaderboard players:",N.map(e=>({id:e.user_id||e.member_id,name:e.first_name})))),console.log("Player ".concat(e.first_name," (").concat(e.user_id||e.member_id,"): isCurrentUser=").concat(r));const c=3*(o-1),d=(null===(s=e.hole_scores)||void 0===s?void 0:s.slice(c,c+3))||[],u=d.every(e=>e>0);let m=N.find(e=>e.user_id===(null===n||void 0===n?void 0:n.user_id)||e.member_id===(null===n||void 0===n?void 0:n.member_id)),x=(null===m||void 0===m||null===(a=m.hole_scores)||void 0===a?void 0:a.slice(c,c+3))||[],h=x.every(e=>e>0);if(!m||0===x.length){const e=l.slice(3*(o-1),3*o);x=e.map(e=>e.score),h=e.every(e=>e.score>0)}let p=null;if(u&&h&&!r){let e=0,t=0,s=0;for(let a=0;a<3;a++){const r=x[a],n=d[a];r<n?e++:r>n?t++:s++}p=e>t?{result:"W",color:"text-green-600",bgColor:"bg-green-100"}:t>e?{result:"L",color:"text-red-600",bgColor:"bg-red-100"}:{result:"T",color:"text-yellow-600",bgColor:"bg-yellow-100"}}return(0,ct.jsxs)("tr",{className:"".concat(r?"bg-blue-50":""," ").concat(i?"":"opacity-60"),children:[(0,ct.jsx)("td",{className:"px-1 py-2 text-left",children:(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ".concat(0===t?"bg-yellow-100 text-yellow-800":1===t?"bg-gray-100 text-gray-800":2===t?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-600"),children:t+1}),(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("div",{className:"text-sm font-medium ".concat(r?"text-blue-900":"text-gray-900"),children:[e.first_name," ",e.last_name]}),(0,ct.jsx)("div",{className:"text-xs text-gray-500",children:e.club})]})]})}),le.map((t,s)=>{var a,i,d;const u=c+s+1,m=null===(a=e.hole_scores)||void 0===a?void 0:a[u-1],x=t.submitted;var h;r&&console.log("LIVE RANKINGS - Hole ".concat(u,": playerScore=").concat(m,", holeResults=").concat((null===(h=T[u])||void 0===h?void 0:h.points)||"no data",", isCurrentUser=").concat(r));const p=N.find(e=>e.user_id===(null===n||void 0===n?void 0:n.user_id)||e.member_id===(null===n||void 0===n?void 0:n.member_id)),g=(r||(null===p||void 0===p||null===(i=p.hole_scores)||void 0===i||i[u-1]),(null===(d=l.slice(3*(o-1),3*o)[s])||void 0===d?void 0:d.score)||0);let f=null;if(!r&&m>0&&g>0){var b;const t=e.user_id||e.member_id,s=(null===(b=R[t])||void 0===b?void 0:b[u])||0;if(0===s)f="AS";else if(s>0)f=1===s?"1\u25b2":"".concat(s,"\u25b2");else{const e=Math.abs(s);f=1===e?"1\u25bc":"".concat(e,"\u25bc")}console.log("Hole ".concat(u,": State: ").concat(s," = ").concat(f))}let v=null;return!r&&m>0&&g>0&&(v=g<m?"winning":g>m?"losing":"tied"),(0,ct.jsx)("td",{className:"px-1 py-2",children:(0,ct.jsxs)("div",{className:"text-center relative group cursor-pointer hover:bg-gray-50 rounded p-1",title:!r&&m>0?"".concat(e.first_name,": ").concat(m):"",children:[(0,ct.jsxs)("div",{className:"w-8 h-8 rounded flex items-center justify-center text-xs font-bold mx-auto group-hover:bg-yellow-100 transition-colors relative ".concat(m>0?r?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800":"bg-gray-50 text-gray-400"),children:[r?m>0?m:"-":m>0?f||"?":"-",!r&&f&&(0,ct.jsx)("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-bold ".concat(f.includes("\u25b2")?"text-green-600":"AS"===f?"text-yellow-600":"text-red-600"),children:f}),!r&&m>0&&(0,ct.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-yellow-100 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:(0,ct.jsx)("span",{className:"text-xs font-bold text-gray-800",children:m})})]}),r&&x&&(0,ct.jsx)("div",{className:"text-xs text-green-600 mt-1",children:"\u2713"}),!r&&m>0&&g>0&&g<m&&(0,ct.jsx)("div",{className:"flex items-center justify-center mt-1",children:(0,ct.jsx)("span",{className:"text-xs text-green-600 font-bold",children:"+0.5"})}),!r&&m>0&&(0,ct.jsxs)("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity z-10 whitespace-nowrap pointer-events-none",children:[e.first_name,": ",m]})]})},s)}),(0,ct.jsx)("td",{className:"px-1 py-2",children:(0,ct.jsx)("div",{className:"text-center",children:!r&&(0,ct.jsxs)("div",{className:"flex flex-col items-center space-y-1",children:[(0,ct.jsx)("div",{className:"w-8 h-8 rounded flex items-center justify-center text-xs font-bold mx-auto ".concat(p?p.bgColor:"bg-gray-100"," ").concat(p?p.color:"text-gray-600"),children:p?p.result:"-"}),p&&"W"===p.result&&(0,ct.jsx)("div",{className:"flex items-center space-x-1",children:(0,ct.jsx)("span",{className:"text-xs text-green-600 font-bold",children:"+1"})})]})})})]},e.user_id)})})]})})]})]})},Qs=We("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Ks=We("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Js=e=>{let{match:t,tournamentId:s}=e;const[r,n]=(0,a.useState)({}),[l,i]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{(async()=>{if(t.round_number)try{const e=(await tt.Ay$.get("/tournaments/".concat(s))).data,a="round_".concat(t.round_number,"_course"),r="round_".concat(t.round_number,"_teebox"),l=e[a],i=e[r];n({name:l,teebox:i})}catch(e){console.error("Error fetching course info:",e)}finally{i(!1)}})()},[t.round_number,s]),l||!r.name?null:(0,ct.jsx)("div",{className:"mb-3 p-2 bg-gray-50 border border-gray-200 rounded-lg",children:(0,ct.jsxs)("div",{className:"flex items-center justify-center text-xs text-gray-700",children:[(0,ct.jsx)("span",{className:"font-medium",children:"Course:"}),(0,ct.jsx)("span",{className:"ml-2",children:r.name}),r.teebox&&(0,ct.jsxs)("span",{className:"ml-2",children:["(",r.teebox,")"]})]})})},Xs=e=>{let{tournamentId:t,tournamentName:s,onScoreSubmitted:r,tournament:n}=e;const{user:l}=mt(),[i,o]=(0,a.useState)([]),[c,d]=(0,a.useState)([]),[u,m]=(0,a.useState)([]),[x,h]=(0,a.useState)(!0),[p,g]=(0,a.useState)(null),[f,b]=(0,a.useState)(!1),[v,y]=(0,a.useState)(new Array(18).fill(0)),[j,N]=(0,a.useState)(!1),[w,_]=(0,a.useState)("club"),[k,S]=(0,a.useState)(null),[C,A]=(0,a.useState)(""),[E,T]=(0,a.useState)([]),[P,D]=(0,a.useState)([]),[M,R]=(0,a.useState)(0),{courseData:L,loading:F,courseId:O}=Is(t,n),I=(0,a.useRef)(null),[z,B]=(0,a.useState)(!1),[U,H]=(0,a.useState)(null);(0,a.useEffect)(()=>{G()},[t,null===l||void 0===l?void 0:l.member_id]),(0,a.useEffect)(()=>{(p||O||null!==n&&void 0!==n&&n.course_id)&&(async()=>{if(p&&"national_championship"===p.match_type&&p.round_number){try{const e=(await tt.Ay$.get("/tournaments/".concat(t))).data["round_".concat(p.round_number,"_course_id")];if(e){console.log("Fetching round ".concat(p.round_number," course: ").concat(e));const t=await tt.Ay$.get("/simulator-courses?id=".concat(e)),s=t.data.courses||t.data,a=Array.isArray(s)?s[0]:s;if(a){let t,s;S(a),A(a.name||"Unknown Course"),t=Array.isArray(a.hole_indexes)?a.hole_indexes:a.hole_indexes?JSON.parse(a.hole_indexes):[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18],T(t),s=Array.isArray(a.par_values)?a.par_values:a.par_values?JSON.parse(a.par_values):[4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],D(s),console.log("Loaded national championship round course:",{round:p.round_number,courseId:e,courseName:a.name,holeIndexes:t,parValues:s})}}else console.log("No course assigned for round ".concat(p.round_number," yet"))}catch(s){console.error("Error fetching national championship course data:",s)}return}const e=O||(null===n||void 0===n?void 0:n.course_id);if(e)try{const t=await tt.Ay$.get("/simulator-courses?id=".concat(e)),s=t.data.courses||t.data;if(s&&s.length>0){const t=s[0];S(t),A(t.name||"Unknown Course"),T(t.hole_indexes||[]),D(t.par_values||[]),console.log("Course data loaded for handicap calculation:",{courseId:e,courseName:t.name,holeIndexes:t.hole_indexes,parValues:t.par_values})}}catch(s){console.error("Error fetching course data:",s)}else console.log("No course ID available for handicap calculation")})()},[p,O,null===n||void 0===n?void 0:n.course_id]);const W=function(e,t,s){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(0===s)return e;const r=Math.abs(t-a),n=Math.min(Math.round(r),8);if(!(t>a))return e;const l=E[s-1]||s,i=Math.floor(n/18)+(n%18>=l?1:0);return Math.max(1,e-i)},q=(e,t)=>{const s=t||p;if(null===l||void 0===l||!l.member_id||!s)return!1;const a=s.player1_id===l.member_id,r=Number(a?s.player1_handicap||s.player1_grass_handicap||0:s.player2_handicap||s.player2_grass_handicap||0),n=Number(a?s.player2_handicap||s.player2_grass_handicap||0:s.player1_handicap||s.player1_grass_handicap||0),i=Math.abs(r-n),o=Math.min(Math.round(i),8);if(!(n>r))return!1;return o%18>=(E[e-1]||e)},V=e=>{const t=Number(e.player1_handicap||e.player1_grass_handicap||0),s=Number(e.player2_handicap||e.player2_grass_handicap||0),a=Math.abs(t-s),r=Math.min(Math.round(a),8),n=t>s?"player1":"player2";return console.log("Stroke calculation debug:",{matchId:e.id,player1Name:"".concat(e.player1_name," ").concat(e.player1_last_name),player2Name:"".concat(e.player2_name," ").concat(e.player2_last_name),player1Handicap:t,player2Handicap:s,player1SimHandicap:e.player1_handicap,player1GrassHandicap:e.player1_grass_handicap,player2SimHandicap:e.player2_handicap,player2GrassHandicap:e.player2_grass_handicap,rawDifferential:a,handicapDifferential:r,higherHandicapPlayer:n,strokesReceived:Math.round(r)}),{player1Handicap:Number(t.toFixed(1)),player2Handicap:Number(s.toFixed(1)),handicapDifferential:Number(r.toFixed(1)),higherHandicapPlayer:n,strokesReceived:Math.round(r)}},G=async()=>{if(null!==l&&void 0!==l&&l.member_id)try{h(!0),console.log("Loading championship matches for tournament:",t,"user:",l.member_id);const e=await tt.Ay$.get("/tournaments/".concat(t,"/championship-matches"));console.log("Championship matches response:",e.data);const s=e.data.filter(e=>e.player1_id===l.member_id||e.player2_id===l.member_id).map(e=>({match:e,opponent:{id:e.player1_id===l.member_id?e.player2_id:e.player1_id,name:e.player1_id===l.member_id?e.player2_name:e.player1_name,last_name:e.player1_id===l.member_id?e.player2_last_name:e.player1_last_name},isPlayer1:e.player1_id===l.member_id}));console.log("Filtered player matches:",s),o(s);const a=s.filter(e=>!e.match.match_type||"club_championship"===e.match.match_type),r=s.filter(e=>"national_championship"===e.match.match_type);d(a),m(r),r.length>0&&_("national")}catch(e){console.error("Error loading player matches:",e),_s.error("Failed to load your matches")}finally{h(!1)}},Y=e=>{g(e),y(new Array(18).fill(0)),H(null),b(!0)};return x?(0,ct.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,ct.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-neon-green"})}):(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsxs)("h3",{className:"text-2xl font-bold text-brand-black mb-2",children:[(0,ct.jsx)(qe,{className:"inline w-8 h-8 mr-2 text-brand-neon-green"}),"Championship Scoring"]}),(0,ct.jsx)("p",{className:"text-neutral-600",children:s})]}),c.length>0&&u.length>0&&(0,ct.jsxs)("div",{className:"flex border-b border-neutral-200 mb-4",children:[(0,ct.jsx)("button",{onClick:()=>_("club"),className:"flex-1 py-3 px-4 text-center font-medium transition-colors ".concat("club"===w?"border-b-2 border-brand-neon-green text-brand-neon-green":"text-neutral-600 hover:text-brand-black"),children:"Club Championship"}),(0,ct.jsx)("button",{onClick:()=>_("national"),className:"flex-1 py-3 px-4 text-center font-medium transition-colors ".concat("national"===w?"border-b-2 border-brand-neon-green text-brand-neon-green":"text-neutral-600 hover:text-brand-black"),children:"National Championship"})]}),(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsx)("h4",{className:"text-lg font-semibold text-brand-black",children:"club"===w?"Club Championship Matches":"National Championship Matches"}),(()=>{const e="club"===w?c:u;return 0===e.length?(0,ct.jsxs)("div",{className:"text-center py-8 text-neutral-500",children:[(0,ct.jsx)(Ye,{className:"w-12 h-12 mx-auto mb-4 text-neutral-300"}),(0,ct.jsx)("p",{children:"No matches assigned yet"}),(0,ct.jsx)("p",{className:"text-sm",children:"Check back later or contact the tournament organizer"})]}):(0,ct.jsx)("div",{className:"grid gap-4",children:e.map(e=>{console.log("Rendering match:",e);const s=V(e.match),a=e.isPlayer1?"".concat(e.match.player1_name," ").concat(e.match.player1_last_name):"".concat(e.match.player2_name," ").concat(e.match.player2_last_name),r=e.isPlayer1?s.player1Handicap:s.player2Handicap,n=e.isPlayer1?s.player2Handicap:s.player1Handicap;return(0,ct.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-lg p-3 sm:p-4",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ct.jsxs)("div",{className:"text-sm font-medium text-neutral-600",children:["Match ",e.match.match_number,"national_championship"===e.match.match_type&&e.match.round_number&&(0,ct.jsxs)("span",{className:"ml-2 text-xs text-blue-600",children:["(Round ",e.match.round_number,")"]})]}),(0,ct.jsxs)("div",{className:"flex items-center",children:["pending"===e.match.match_status&&(0,ct.jsxs)("div",{className:"flex items-center px-2 sm:px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs sm:text-sm font-medium",children:[(0,ct.jsx)(Qs,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),"Pending"]}),"in_progress"===e.match.match_status&&(0,ct.jsxs)("div",{className:"flex items-center px-2 sm:px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-xs sm:text-sm font-medium",children:[(0,ct.jsx)("div",{className:"w-2 h-2 sm:w-3 sm:h-3 bg-blue-600 rounded-full mr-1 sm:mr-2"}),(0,ct.jsx)("span",{className:"hidden sm:inline",children:"In Progress"}),(0,ct.jsx)("span",{className:"sm:hidden",children:"Progress"})]}),"completed"===e.match.match_status&&(0,ct.jsxs)("div",{className:"flex items-center px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-medium ".concat(null===e.match.winner_id?"bg-yellow-100 text-yellow-800":e.match.winner_id===(null===l||void 0===l?void 0:l.member_id)?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:[(0,ct.jsx)(qe,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),null===e.match.winner_id?"Tied":e.match.winner_id===(null===l||void 0===l?void 0:l.member_id)?"Won":"Lost"]})]})]}),(0,ct.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-2 gap-2 sm:gap-3 mb-3",children:[(0,ct.jsxs)("div",{className:"bg-blue-50 p-2 sm:p-3 rounded-lg",children:[(0,ct.jsx)("div",{className:"text-xs font-medium text-blue-800 mb-1",children:"You"}),(0,ct.jsx)("div",{className:"text-sm sm:text-lg font-semibold text-blue-900 truncate",children:a}),(0,ct.jsxs)("div",{className:"text-xs text-blue-700",children:["Hcp: ",Number(r||0).toFixed(1)]})]}),(0,ct.jsxs)("div",{className:"bg-green-50 p-2 sm:p-3 rounded-lg",children:[(0,ct.jsx)("div",{className:"text-xs font-medium text-green-800 mb-1",children:"Opponent"}),(0,ct.jsxs)("div",{className:"text-sm sm:text-lg font-semibold text-green-900 truncate",children:[e.opponent.name," ",e.opponent.last_name]}),(0,ct.jsxs)("div",{className:"text-xs text-green-700",children:["Hcp: ",Number(n||0).toFixed(1)]})]})]}),"national_championship"===e.match.match_type&&(0,ct.jsx)(Js,{match:e.match,tournamentId:t}),s.handicapDifferential>0&&(0,ct.jsxs)("div",{className:"mb-3 space-y-2",children:[(0,ct.jsx)("div",{className:"p-2 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,ct.jsxs)("div",{className:"text-xs sm:text-sm text-yellow-800",children:[(0,ct.jsx)("strong",{children:"player1"===s.higherHandicapPlayer?"".concat(e.match.player1_name," ").concat(e.match.player1_last_name):"".concat(e.match.player2_name," ").concat(e.match.player2_last_name)})," receives ",s.strokesReceived," stroke",1!==s.strokesReceived?"s":""," for this match"]})}),(()=>{const t=[];for(let s=1;s<=18;s++)q(s,e.match)&&t.push(s);return t.length>0?(0,ct.jsx)("div",{className:"p-2 bg-orange-50 border border-orange-200 rounded-lg",children:(0,ct.jsxs)("div",{className:"text-xs text-orange-800",children:[(0,ct.jsx)("strong",{children:"Your opponent gets strokes on holes:"})," ",t.join(", ")]})}):null})()]}),(0,ct.jsxs)("div",{className:"mt-3",children:["pending"===e.match.match_status&&(0,ct.jsxs)("button",{onClick:()=>Y(e.match),className:"w-full px-3 sm:px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors flex items-center justify-center shadow-sm text-sm",children:[(0,ct.jsx)(pt,{className:"w-4 h-4 mr-2"}),"Enter Score"]}),"in_progress"===e.match.match_status&&(0,ct.jsx)("div",{className:"space-y-2",children:(()=>{const t=e.match.player1_id===(null===l||void 0===l?void 0:l.member_id)?e.match.player1_hole_scores:e.match.player2_hole_scores;let s=!1;if(t)try{let e;e="string"===typeof t?JSON.parse(t):t,Array.isArray(e)&&(s=e.some(e=>e>0))}catch(Zp){s=!1}return s})()?(0,ct.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-center px-2 sm:px-3 py-2 bg-green-100 text-green-800 rounded-lg text-xs sm:text-sm font-medium",children:[(0,ct.jsx)(Ks,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),(0,ct.jsx)("span",{className:"hidden sm:inline",children:"Score Submitted"}),(0,ct.jsx)("span",{className:"sm:hidden",children:"Submitted"})]}),(0,ct.jsxs)("div",{className:"flex items-center justify-center px-2 sm:px-3 py-2 bg-blue-100 text-blue-800 rounded-lg text-xs sm:text-sm font-medium",children:[(0,ct.jsx)("div",{className:"w-2 h-2 sm:w-3 sm:h-3 bg-blue-600 rounded-full mr-1 sm:mr-2"}),(0,ct.jsx)("span",{className:"hidden sm:inline",children:"Waiting for opponent"}),(0,ct.jsx)("span",{className:"sm:hidden",children:"Waiting"})]})]}):(0,ct.jsxs)("button",{onClick:()=>Y(e.match),className:"w-full px-3 sm:px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors flex items-center justify-center shadow-sm text-sm",children:[(0,ct.jsx)(pt,{className:"w-4 h-4 mr-2"}),"Enter Score"]})}),"completed"===e.match.match_status&&(0,ct.jsxs)("div",{className:"flex items-center justify-center px-3 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium",children:[(0,ct.jsx)(Ks,{className:"w-4 h-4 mr-2"}),(0,ct.jsx)("span",{className:"hidden sm:inline",children:"Match Complete"}),(0,ct.jsx)("span",{className:"sm:hidden",children:"Complete"})]})]})]},e.match.id)})})})()]}),f&&p&&(0,ct.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 sm:p-4",children:(0,ct.jsxs)("div",{className:"bg-white rounded-lg p-4 sm:p-6 w-full max-w-2xl max-h-[95vh] sm:max-h-[90vh] overflow-y-auto",children:[(0,ct.jsxs)("h4",{className:"text-base sm:text-lg font-semibold mb-4",children:["Enter Scores - Match ",p.match_number,"national_championship"===p.match_type&&p.round_number&&(0,ct.jsxs)("span",{className:"ml-2 text-sm text-blue-600",children:["(Round ",p.round_number,")"]})]}),"national_championship"===p.match_type&&C&&(0,ct.jsx)("div",{className:"mb-4 p-3 bg-gray-50 border border-gray-200 rounded-lg",children:(0,ct.jsxs)("div",{className:"flex items-center justify-center text-sm text-gray-700",children:[(0,ct.jsx)("span",{className:"font-medium",children:"Course:"}),(0,ct.jsx)("span",{className:"ml-2",children:C}),p.teebox&&(0,ct.jsxs)("span",{className:"ml-2",children:["(",p.teebox,")"]})]})}),(0,ct.jsxs)("div",{className:"mb-4",children:[(0,ct.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 mb-3",children:[(0,ct.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg",children:[(0,ct.jsx)("div",{className:"text-xs sm:text-sm font-medium text-blue-800 mb-1",children:"You"}),(0,ct.jsx)("div",{className:"text-base sm:text-lg font-semibold text-blue-900 truncate",children:p.player1_id===(null===l||void 0===l?void 0:l.member_id)?"".concat(p.player1_name," ").concat(p.player1_last_name):"".concat(p.player2_name," ").concat(p.player2_last_name)}),(0,ct.jsxs)("div",{className:"text-xs sm:text-sm text-blue-700",children:["Handicap: ",p.player1_id===(null===l||void 0===l?void 0:l.member_id)?p.player1_handicap||p.player1_grass_handicap||0:p.player2_handicap||p.player2_grass_handicap||0]})]}),(0,ct.jsxs)("div",{className:"bg-green-50 p-3 rounded-lg",children:[(0,ct.jsx)("div",{className:"text-xs sm:text-sm font-medium text-green-800 mb-1",children:"Opponent"}),(0,ct.jsx)("div",{className:"text-base sm:text-lg font-semibold text-green-900 truncate",children:p.player1_id===(null===l||void 0===l?void 0:l.member_id)?"".concat(p.player2_name," ").concat(p.player2_last_name):"".concat(p.player1_name," ").concat(p.player1_last_name)}),(0,ct.jsxs)("div",{className:"text-xs sm:text-sm text-green-700",children:["Handicap: ",p.player1_id===(null===l||void 0===l?void 0:l.member_id)?p.player2_handicap||p.player2_grass_handicap||0:p.player1_handicap||p.player1_grass_handicap||0]})]})]}),(()=>{const e=V(p);if(e.handicapDifferential>0){const t=[];for(let e=1;e<=18;e++)q(e,p)&&t.push(e);return(0,ct.jsxs)("div",{className:"space-y-3",children:[(0,ct.jsx)("div",{className:"p-2 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,ct.jsxs)("div",{className:"text-xs sm:text-sm text-yellow-800",children:[(0,ct.jsx)("strong",{children:"player1"===e.higherHandicapPlayer?"".concat(p.player1_name," ").concat(p.player1_last_name):"".concat(p.player2_name," ").concat(p.player2_last_name)})," receives ",e.strokesReceived," stroke",1!==e.strokesReceived?"s":""," for this match"]})}),(0,ct.jsxs)("div",{className:"p-2 bg-gray-50 border border-gray-200 rounded-lg",children:[(0,ct.jsx)("div",{className:"text-xs text-gray-700 mb-2 font-medium",children:"Scorecard Legend:"}),(0,ct.jsxs)("div",{className:"flex flex-wrap gap-3 text-xs text-gray-600",children:[(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)("span",{className:"w-3 h-3 bg-green-100 border border-green-300 rounded-full mr-1"}),(0,ct.jsx)("span",{className:"bg-green-100 text-green-800 px-1 py-0.5 rounded text-xs mr-1",children:"S"}),"You get strokes"]}),(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)("span",{className:"w-3 h-3 bg-orange-100 border border-orange-300 rounded-full mr-1"}),(0,ct.jsx)("span",{className:"bg-orange-100 text-orange-800 px-1 py-0.5 rounded text-xs mr-1",children:"O"}),"Opponent gets strokes"]})]})]}),t.length>0&&(0,ct.jsx)("div",{className:"p-2 bg-orange-50 border border-orange-200 rounded-lg",children:(0,ct.jsxs)("div",{className:"text-xs text-orange-800",children:[(0,ct.jsx)("strong",{children:"Your opponent gets strokes on holes:"})," ",t.join(", ")]})})]})}return null})()]}),(0,ct.jsx)("div",{className:"mb-6",children:(0,ct.jsx)("div",{className:"overflow-x-auto",children:(0,ct.jsxs)("table",{className:"w-full border-collapse border border-neutral-300 text-xs sm:text-sm",children:[(0,ct.jsx)("thead",{children:(0,ct.jsxs)("tr",{className:"bg-neutral-50",children:[(0,ct.jsx)("th",{className:"border border-neutral-300 px-2 sm:px-3 py-2 text-left text-xs sm:text-sm font-medium text-neutral-700",children:"Hole"}),(0,ct.jsx)("th",{className:"border border-neutral-300 px-1 sm:px-3 py-2 text-center text-xs sm:text-sm font-medium text-neutral-700",children:"Idx"}),(0,ct.jsx)("th",{className:"border border-neutral-300 px-1 sm:px-3 py-2 text-center text-xs sm:text-sm font-medium text-neutral-700",children:"Par"}),(0,ct.jsx)("th",{className:"border border-neutral-300 px-2 sm:px-3 py-2 text-center text-xs sm:text-sm font-medium text-neutral-700",children:"Score"}),(0,ct.jsx)("th",{className:"border border-neutral-300 px-1 sm:px-3 py-2 text-center text-xs sm:text-sm font-medium text-neutral-700",children:"Net"})]})}),(0,ct.jsx)("tbody",{children:Array.from({length:18},(e,t)=>{const s=E[t]||t+1,a=P[t]||4,r=t>=9,n=t+1,i=(e=>{if(null===l||void 0===l||!l.member_id||!p)return!1;const t=p.player1_id===l.member_id,s=Number(t?p.player1_handicap||p.player1_grass_handicap||0:p.player2_handicap||p.player2_grass_handicap||0),a=Number(t?p.player2_handicap||p.player2_grass_handicap||0:p.player1_handicap||p.player1_grass_handicap||0),r=Math.abs(s-a),n=Math.min(Math.round(r),8);return s>a&&n%18>=(E[e-1]||e)})(n),o=q(n,p),c=(null===p||void 0===p?void 0:p.player1_id)===(null===l||void 0===l?void 0:l.member_id),d=Number(c?(null===p||void 0===p?void 0:p.player1_handicap)||(null===p||void 0===p?void 0:p.player1_grass_handicap)||0:(null===p||void 0===p?void 0:p.player2_handicap)||(null===p||void 0===p?void 0:p.player2_grass_handicap)||0),u=Number(c?(null===p||void 0===p?void 0:p.player2_handicap)||(null===p||void 0===p?void 0:p.player2_grass_handicap)||0:(null===p||void 0===p?void 0:p.player1_handicap)||(null===p||void 0===p?void 0:p.player1_grass_handicap)||0),m=v[t]>0?W(v[t],d,n,u):0;return(0,ct.jsxs)("tr",{className:"".concat(t%2===0?"bg-white":"bg-neutral-50"," ").concat(i?"bg-green-50 border-l-4 border-l-green-400":""," ").concat(o?"bg-orange-50 border-l-4 border-l-orange-400":""),children:[(0,ct.jsx)("td",{className:"border border-neutral-300 px-2 sm:px-3 py-2 text-xs sm:text-sm font-medium text-neutral-700",children:(0,ct.jsxs)("div",{className:"flex items-center",children:[t+1,r&&(0,ct.jsx)("span",{className:"text-xs text-neutral-500 ml-1 hidden sm:inline",children:"(Back 9)"}),i&&(0,ct.jsx)("span",{className:"ml-1 sm:ml-2 text-xs bg-green-100 text-green-800 px-1 sm:px-2 py-1 rounded-full",children:"S"}),o&&(0,ct.jsx)("span",{className:"ml-1 sm:ml-2 text-xs bg-orange-100 text-orange-800 px-1 sm:px-2 py-1 rounded-full",children:"O"})]})}),(0,ct.jsx)("td",{className:"border border-neutral-300 px-1 sm:px-3 py-2 text-center text-xs sm:text-sm text-neutral-600",children:s}),(0,ct.jsx)("td",{className:"border border-neutral-300 px-1 sm:px-3 py-2 text-center text-xs sm:text-sm text-neutral-600",children:a}),(0,ct.jsx)("td",{className:"border border-neutral-300 px-2 sm:px-3 py-2",children:(0,ct.jsx)("input",{type:"number",min:"1",max:"15",value:v[t]||"",onChange:e=>{const s=[...v];s[t]=parseInt(e.target.value)||0,y(s)},className:"w-full px-1 sm:px-2 py-1 border border-neutral-300 rounded text-center text-xs sm:text-sm focus:ring-2 focus:ring-brand-neon-green focus:border-brand-neon-green",placeholder:"0"})}),(0,ct.jsx)("td",{className:"border border-neutral-300 px-1 sm:px-3 py-2 text-center text-xs sm:text-sm",children:m>0?(0,ct.jsx)("span",{className:"font-medium ".concat(m<v[t]?"text-green-600":"text-neutral-600"),children:m}):(0,ct.jsx)("span",{className:"text-neutral-400",children:"-"})})]},t)})})]})})}),(0,ct.jsx)("div",{className:"mb-6 p-3 bg-neutral-50 rounded-lg",children:(0,ct.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ct.jsx)("span",{className:"font-medium",children:"Total Score:"}),(0,ct.jsx)("span",{className:"text-lg font-bold text-brand-black",children:v.reduce((e,t)=>e+(t||0),0)})]})}),(0,ct.jsxs)("div",{className:"mb-6",children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Scorecard Photo (Optional)"}),(0,ct.jsxs)("div",{className:"space-y-3",children:[U?(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsxs)("div",{className:"flex-1",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-green-600",children:[(0,ct.jsx)(Ks,{className:"w-4 h-4"}),(0,ct.jsx)("span",{children:"Photo uploaded successfully"})]}),(0,ct.jsx)("div",{className:"mt-1",children:(0,ct.jsx)("img",{src:U,alt:"Scorecard",className:"w-32 h-24 object-cover rounded-lg border border-neutral-200"})})]}),(0,ct.jsx)("button",{type:"button",onClick:()=>{H(null),I.current&&(I.current.value="")},className:"p-2 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-lg transition-colors",title:"Remove photo",children:(0,ct.jsx)(Qe,{className:"w-4 h-4"})})]}):(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)("button",{type:"button",onClick:()=>{var e;null===(e=I.current)||void 0===e||e.click()},disabled:z,className:"flex items-center px-4 py-2 border border-neutral-300 rounded-lg text-sm font-medium text-neutral-700 bg-white hover:bg-neutral-50 focus:outline-none focus:ring-2 focus:ring-brand-neon-green focus:border-brand-neon-green disabled:opacity-50 disabled:cursor-not-allowed",children:z?(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-brand-neon-green mr-2"}),"Uploading..."]}):(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)(Dt,{className:"w-4 h-4 mr-2"}),"Upload Photo"]})}),(0,ct.jsx)("span",{className:"text-xs text-neutral-500",children:"JPG, PNG, GIF up to 5MB"})]}),(0,ct.jsx)("input",{ref:I,type:"file",accept:"image/*",onChange:async e=>{var t;const s=null===(t=e.target.files)||void 0===t?void 0:t[0];if(s)if(console.log("Photo upload started:",s.name,s.size,s.type),s.type.startsWith("image/"))if(s.size>5242880)_s.error("File size must be less than 5MB");else{B(!0);try{console.log("Uploading photo to server...");const e=await(0,tt.k97)(s);console.log("Photo upload response:",e.data),e.data.success?(H(e.data.photoUrl),_s.success("Scorecard photo uploaded successfully"),console.log("Photo URL set:",e.data.photoUrl)):(console.error("Upload failed:",e.data),_s.error("Upload failed: "+(e.data.error||"Unknown error")))}catch(r){var a;console.error("Error uploading photo:",r),console.error("Error details:",null===(a=r.response)||void 0===a?void 0:a.data),_s.error("Failed to upload photo. Please try again.")}finally{B(!1)}}else _s.error("Please select an image file")},className:"hidden"})]})]}),(0,ct.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3",children:[(0,ct.jsx)("button",{onClick:()=>b(!1),className:"w-full sm:w-auto px-4 py-2 text-neutral-600 hover:text-neutral-800 text-sm sm:text-base",disabled:j,children:"Cancel"}),(0,ct.jsx)("button",{onClick:async()=>{if(!p||null===l||void 0===l||!l.member_id)return;if(0!==v.filter(e=>e>0).length){N(!0);try{const e=Number((null===l||void 0===l?void 0:l.sim_handicap)||(null===l||void 0===l?void 0:l.handicap)||0),s=p.player1_id===l.member_id,a=Number(s?p.player2_handicap||p.player2_grass_handicap||0:p.player1_handicap||p.player1_grass_handicap||0),n=v.map((t,s)=>{if(0===t)return 0;return W(t,e,s+1,a)}),i="national_championship"===p.match_type?"/tournaments/".concat(t,"/national-matches/").concat(p.id,"/result"):"/tournaments/".concat(t,"/championship-matches/").concat(p.id,"/result");await tt.Ay$.put(i,{[s?"player1_hole_scores":"player2_hole_scores"]:JSON.stringify(v),[s?"player1_net_hole_scores":"player2_net_hole_scores"]:JSON.stringify(n),[s?"player1_scorecard_photo_url":"player2_scorecard_photo_url"]:U||null,match_status:"in_progress"});_s.success("Your scores have been submitted! Waiting for opponent to submit their scores."),b(!1),g(null),setTimeout(()=>{G()},100),r()}catch(e){console.error("Error submitting match score:",e),_s.error("Failed to submit match score")}finally{N(!1)}}else _s.error("Please enter at least one hole score")},disabled:j,className:"w-full sm:w-auto px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors disabled:opacity-50 text-sm sm:text-base",children:j?"Submitting...":"Submit Score"})]})]})})]})},Zs=()=>{var e;const[t]=Me(),s=Z(),r=t.get("tournament"),[n,l]=(0,a.useState)(null),[i,o]=(0,a.useState)([]),[c,d]=(0,a.useState)([]),[u,m]=(0,a.useState)([]),[x,h]=(0,a.useState)(!0),[p,g]=(0,a.useState)(null);(0,a.useEffect)(()=>{console.log("TournamentScoring component mounted"),console.log("tournamentId from URL:",r),console.log("searchParams:",t.toString());(async()=>{if(!r)return console.log("No tournament ID provided"),g("No tournament ID provided"),void h(!1);try{h(!0);const[e,t,s]=await Promise.all([(0,tt.lo1)(),(0,tt.MsJ)(parseInt(r)),(0,tt.PNr)(parseInt(r))]),a=e.data.find(e=>e.id===parseInt(r));if(!a)return g("Tournament not found"),void h(!1);if(l(a),o(t.data||[]),d(s.data||[]),"scramble"===a.tournament_format||"best_ball"===a.tournament_format)try{const e=await(0,tt.ZNw)(parseInt(r));m(e.data||[])}catch(p){console.error("Error loading teams:",p)}}catch(p){console.error("Error fetching tournament data:",p),g("Failed to load tournament data")}finally{h(!1)}})()},[r]),(0,a.useEffect)(()=>{n&&console.log("Tournament type:",n.type,"Is championship:","club_championship"===n.type||"national_championship"===n.type)},[n]);const f=()=>{_s.success("Score submitted successfully!")};if(x)return(0,ct.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-brand-dark-green to-brand-muted-green flex items-center justify-center",children:(0,ct.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-8 text-center",children:[(0,ct.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-neon-green mx-auto mb-4"}),(0,ct.jsx)("p",{className:"text-brand-black",children:"Loading tournament..."})]})});if(p||!n)return(0,ct.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-brand-dark-green to-brand-muted-green flex items-center justify-center",children:(0,ct.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-8 text-center max-w-md",children:[(0,ct.jsx)(qe,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),(0,ct.jsx)("h2",{className:"text-2xl font-bold text-brand-black mb-2",children:"Tournament Not Found"}),(0,ct.jsx)("p",{className:"text-neutral-600 mb-6",children:p||"The tournament you're looking for doesn't exist."}),(0,ct.jsxs)("button",{onClick:()=>s("/profile"),className:"flex items-center mx-auto px-6 py-3 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors",children:[(0,ct.jsx)(Fs,{className:"w-4 h-4 mr-2"}),"Back to Profile"]})]})});const b=(e=>({format:e.tournament_format,teamSize:e.team_size||4,holeConfiguration:e.hole_configuration||"18",tee:e.tee||"Red",pins:e.pins||"Friday",puttingGimme:e.putting_gimme||"8",elevation:e.elevation||"Course",stimp:e.stimp||"11",mulligan:e.mulligan||"No",gamePlay:e.game_play||"Force Realistic",firmness:e.firmness||"Normal",wind:e.wind||"None",handicapEnabled:e.handicap_enabled||!1}))(n),v="match_play"===(y=n.tournament_format)||"par3_match_play"===y;var y;return(0,ct.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-brand-dark-green to-brand-muted-green",children:(0,ct.jsxs)("div",{className:"max-w-7xl mx-auto px-0 sm:px-4 lg:px-8 py-2 sm:py-8",children:[(0,ct.jsxs)("div",{className:"bg-white rounded-none sm:rounded-2xl shadow-lg p-3 sm:p-6 mb-4 sm:mb-8",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)("button",{onClick:()=>s("/profile"),className:"mr-2 sm:mr-4 p-2 text-neutral-600 hover:text-brand-black transition-colors",children:(0,ct.jsx)(Fs,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("h1",{className:"text-xl sm:text-3xl font-bold text-brand-black flex items-center",children:[(0,ct.jsx)(qe,{className:"w-6 h-6 sm:w-8 sm:h-8 mr-2 sm:mr-3"}),n.name]}),(0,ct.jsxs)("p",{className:"text-xs sm:text-sm text-neutral-600 mt-1",children:[null===(e=n.tournament_format)||void 0===e?void 0:e.replace("_"," ").toUpperCase()," \u2022 ",n.type]})]})]}),(0,ct.jsx)("div",{className:"text-right",children:(0,ct.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat("active"===n.status?"bg-green-100 text-green-800":"open"===n.status?"bg-blue-100 text-blue-800":"completed"===n.status?"bg-gray-100 text-gray-800":"cancelled"===n.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:n.status||"draft"})})]}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 sm:gap-4 text-xs sm:text-sm",children:[(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)(Ye,{className:"w-4 h-4 mr-2 text-neutral-500"}),(0,ct.jsxs)("span",{children:[i.length," participants"]})]}),n.start_date&&(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)(pt,{className:"w-4 h-4 mr-2 text-neutral-500"}),(0,ct.jsx)("span",{children:new Date(n.start_date).toLocaleDateString()})]}),n.location&&(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)(qe,{className:"w-4 h-4 mr-2 text-neutral-500"}),(0,ct.jsx)("span",{children:n.location})]})]})]}),(0,ct.jsx)("div",{className:"bg-white rounded-none sm:rounded-2xl shadow-lg p-3 sm:p-6",children:"club_championship"===n.type||"national_championship"===n.type?(0,ct.jsx)(Xs,{tournamentId:n.id,tournamentName:n.name,onScoreSubmitted:f,tournament:n}):"stroke_play"===n.tournament_format?(0,ct.jsx)(zs,{tournamentId:n.id,tournamentFormat:n.tournament_format,tournamentSettings:b,onScoreSubmitted:f,courseId:n.course_id,tournament:n}):"par3_match_play"===n.tournament_format?(0,ct.jsx)($s,{tournamentId:n.id,tournamentName:n.name,onScoreSubmitted:f}):(0,ct.jsx)(Bs,{tournamentId:n.id,tournamentMatches:c,tournamentFormat:n.tournament_format,onScoreSubmitted:f,requiresMatches:v,teams:u,tournamentSettings:b,courseId:n.course_id})})]})})},ea=We("building-2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),ta=We("flask-conical",[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]]),sa=We("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),aa=["className","children"],ra=["title","subtitle","icon","action","className"],na=["className","children"],la=a.forwardRef((e,t)=>{let{className:s="",children:a}=e,r=Fe(e,aa);return(0,ct.jsx)("div",(0,Re.A)((0,Re.A)({ref:t,className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 ".concat(s)},r),{},{children:a}))});la.displayName="PageContainer";const ia=a.forwardRef((e,t)=>{let{title:s,subtitle:a,icon:r,action:n,className:l=""}=e,i=Fe(e,ra);return(0,ct.jsxs)("div",(0,Re.A)((0,Re.A)({ref:t,className:"flex items-center justify-between mb-6 ".concat(l)},i),{},{children:[(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[r&&(0,ct.jsx)("span",{className:"mr-3",children:r}),s]}),a&&(0,ct.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:a})]}),n&&(0,ct.jsx)("div",{className:"flex-shrink-0",children:n})]}))});ia.displayName="PageHeader";const oa=a.forwardRef((e,t)=>{let{className:s="",children:a}=e,r=Fe(e,na);return(0,ct.jsx)("div",(0,Re.A)((0,Re.A)({ref:t,className:"space-y-6 ".concat(s)},r),{},{children:a}))});oa.displayName="PageContent";const ca=We("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),da=["variant","size","icon","iconPosition","loading","disabled","fullWidth","responsive","className","children"],ua=["icon","variant","size","className"],ma={primary:"\n    bg-brand-dark-green text-white\n    hover:bg-brand-muted-green hover:shadow-lg\n    focus:ring-brand-neon-green\n    active:bg-brand-muted-green\n  ",secondary:"\n    bg-gray-100 text-gray-900\n    hover:bg-gray-200\n    focus:ring-gray-500\n  ",success:"\n    bg-success-600 text-white\n    hover:bg-success-700 hover:shadow-lg\n    focus:ring-success-500\n  ",danger:"\n    bg-error-600 text-white\n    hover:bg-error-700 hover:shadow-lg\n    focus:ring-error-500\n  ",ghost:"\n    bg-transparent text-gray-700\n    hover:bg-gray-100\n    focus:ring-gray-500\n  ",outline:"\n    bg-transparent text-brand-dark-green border-2 border-brand-dark-green\n    hover:bg-brand-dark-green hover:text-white\n    focus:ring-brand-neon-green\n  ",neon:"\n    bg-brand-neon-green text-brand-dark-green\n    hover:brightness-110 hover:shadow-neon\n    focus:ring-brand-neon-green\n    active:brightness-110\n    font-semibold\n  ","outline-neon":"\n    bg-transparent text-brand-neon-green border border-brand-neon-green\n    hover:bg-brand-neon-green hover:text-brand-dark-green hover:shadow-neon\n    focus:ring-brand-neon-green\n    font-semibold\n  "},xa={xs:"px-2 py-1 text-xs min-h-[32px]",sm:"px-3 py-1.5 text-sm min-h-[36px]",md:"px-4 py-2 text-sm sm:text-base min-h-[44px]",lg:"px-4 sm:px-6 py-2.5 sm:py-3 text-base sm:text-lg min-h-[44px]"},ha={xs:"px-2 py-1 text-xs min-h-[32px]",sm:"px-2 py-1 text-xs sm:px-3 sm:py-1.5 sm:text-sm min-h-[32px] sm:min-h-[36px]",md:"px-3 py-1.5 text-xs sm:px-4 sm:py-2 sm:text-base min-h-[36px] sm:min-h-[44px]",lg:"px-3 py-2 text-sm sm:px-6 sm:py-3 sm:text-lg min-h-[40px] sm:min-h-[44px]"},pa=a.forwardRef((e,t)=>{let{variant:s="primary",size:a="md",icon:r,iconPosition:n="left",loading:l=!1,disabled:i=!1,fullWidth:o=!1,responsive:c=!1,className:d="",children:u}=e,m=Fe(e,da);const x=o?"w-full":"",h=c?ha[a]:xa[a],p=c?"h-3 w-3 sm:h-4 sm:w-4":"h-4 w-4";return(0,ct.jsxs)("button",(0,Re.A)((0,Re.A)({ref:t,disabled:i||l,className:"\n          ".concat("\n      inline-flex items-center justify-center\n      font-medium rounded-lg\n      transition-all duration-200 ease-out\n      focus:outline-none focus:ring-2 focus:ring-offset-2\n      disabled:opacity-50 disabled:cursor-not-allowed\n      hover:scale-[1.02] active:scale-[0.98]\n    ","\n          ").concat(ma[s],"\n          ").concat(h,"\n          ").concat(x,"\n          ").concat(d,"\n        ")},m),{},{children:[l&&(0,ct.jsx)(ca,{className:"".concat(p," mr-2 animate-spin")}),!l&&r&&"left"===n&&(0,ct.jsx)(r,{className:"".concat(p," ").concat(u?"mr-1 sm:mr-2":"")}),u,!l&&r&&"right"===n&&(0,ct.jsx)(r,{className:"".concat(p," ").concat(u?"ml-1 sm:ml-2":"")})]}))});pa.displayName="Button";const ga=a.forwardRef((e,t)=>{let{icon:s,variant:a="ghost",size:r="md",className:n=""}=e,l=Fe(e,ua);return(0,ct.jsx)(pa,(0,Re.A)((0,Re.A)({ref:t,variant:a,size:r,className:"p-2 ".concat(n)},l),{},{children:(0,ct.jsx)(s,{className:"h-5 w-5"})}))});ga.displayName="IconButton";const fa={primary:{active:"bg-white text-brand-dark-green",inactive:"bg-white/20 text-white hover:bg-white/30"},secondary:{active:"bg-brand-dark-green text-white",inactive:"bg-gray-100 text-gray-700 hover:bg-gray-200"},outline:{active:"bg-brand-dark-green text-white border-2 border-brand-dark-green",inactive:"bg-white text-gray-700 border-2 border-gray-300 hover:border-gray-400"}},ba={sm:"w-7 h-7 text-xs",md:"w-8 h-8 text-sm",lg:"w-10 h-10 text-base"},va=e=>{let{children:t,onClick:s,active:a=!1,variant:r="primary",size:n="md",className:l="",disabled:i=!1}=e;const o=a?fa[r].active:fa[r].inactive;return(0,ct.jsx)("button",{onClick:s,disabled:i,className:"\n        ".concat(ba[n],"\n        ").concat(o,"\n        rounded-full font-medium transition-colors\n        flex items-center justify-center\n        disabled:opacity-50 disabled:cursor-not-allowed\n        ").concat(l,"\n      "),children:t})},ya={sm:"px-2 py-1 text-xs",md:"px-3 py-2 text-sm",lg:"px-4 py-3 text-base"},ja={default:{container:"bg-gray-100",active:"bg-white text-gray-900 shadow-sm",inactive:"text-gray-600 hover:text-gray-900"},primary:{container:"bg-gray-100",active:"bg-brand-dark-green text-white",inactive:"text-gray-700 hover:bg-gray-200"},compact:{container:"bg-white/20",active:"bg-white text-brand-dark-green",inactive:"text-white hover:bg-white/30"}},Na=e=>{let{options:t,value:s,onChange:a,size:r="md",variant:n="default",fullWidth:l=!1,className:i=""}=e;const o=ja[n];return(0,ct.jsxs)("div",{className:"relative inline-block",children:[(0,ct.jsx)("div",{className:"\n          inline-flex items-center rounded-full overflow-hidden\n          ".concat(o.container,"\n          ").concat(l?"w-full":"","\n          ").concat(i,"\n        "),role:"group","aria-label":"Segmented control",children:t.map((e,t)=>{const n=e.value===s,i=e.disabled||!1;return(0,ct.jsxs)("button",{onClick:()=>!i&&a(e.value),disabled:i,className:"\n                ".concat(ya[r],"\n                font-medium transition-colors\n                flex items-center justify-center gap-2\n                ").concat(l?"flex-1":"","\n                ").concat(n?o.active:o.inactive,"\n                ").concat(i?"opacity-50 cursor-not-allowed":"cursor-pointer","\n              "),"aria-pressed":n,"aria-disabled":i,children:[e.icon&&(0,ct.jsx)("span",{className:"inline-flex items-center",children:e.icon}),e.label]},String(e.value))})}),t.map((e,s)=>void 0===e.badge||e.badge<=0?null:(0,ct.jsx)("span",{className:" absolute -top-2 min-w-[18px] h-[18px] flex items-center justify-center bg-brand-neon-green text-brand-dark-green text-[10px] font-bold rounded-full px-1 animate-[badge-pop_0.5s_cubic-bezier(0.68,-0.55,0.265,1.55)] shadow-md pointer-events-none ",style:{right:s===t.length-1?"-2px":"auto",left:0===s?"-2px":"auto"},"aria-label":"".concat(e.badge," pending"),children:e.badge},"badge-".concat(String(e.value),"-").concat(e.badge)))]})},wa=e=>{let{view:t,onChange:s,views:a=["day","week"],size:r="md",className:n=""}=e;const l={day:{value:"day",label:"Day"},week:{value:"week",label:"Week"},month:{value:"month",label:"Month"}},i=a.map(e=>l[e]);return(0,ct.jsx)(Na,{options:i,value:t,onChange:s,size:r,variant:"primary",className:n})},_a=["variant","padding","interactive","className","children"],ka=["title","subtitle","action","children","className"],Sa=["className","children"],Ca=["divided","className","children"],Aa=["label","value","icon","trend","trendValue","description","variant","className"],Ea={default:"\n    bg-white border border-gray-200\n  ",elevated:"\n    bg-white shadow-md\n  ",outlined:"\n    bg-white border-2 border-brand-dark-green\n  ",ghost:"\n    bg-transparent\n  ",testimonial:"\n    bg-white bg-opacity-10 backdrop-blur-sm\n    text-white\n  ","dark-elevated":"\n    bg-brand-dark-green text-white shadow-lg\n  "},Ta={none:"",sm:"p-3 sm:p-4",md:"p-4 sm:p-6",lg:"p-5 sm:p-8"},Pa=a.forwardRef((e,t)=>{let{variant:s="default",padding:a="md",interactive:r=!1,className:n="",children:l}=e,i=Fe(e,_a);const o=r?"hover:shadow-lg hover:-translate-y-0.5 cursor-pointer active:translate-y-0":"";return(0,ct.jsx)("div",(0,Re.A)((0,Re.A)({ref:t,className:"\n          ".concat("\n      rounded-xl\n      transition-all duration-200\n    ","\n          ").concat(Ea[s],"\n          ").concat(Ta[a],"\n          ").concat(o,"\n          ").concat(n,"\n        ")},i),{},{children:l}))});Pa.displayName="Card";const Da=a.forwardRef((e,t)=>{let{title:s,subtitle:a,action:r,children:n,className:l=""}=e,i=Fe(e,ka);return(0,ct.jsxs)("div",(0,Re.A)((0,Re.A)({ref:t,className:"flex items-start justify-between mb-4 ".concat(l)},i),{},{children:[(0,ct.jsxs)("div",{className:"flex-1",children:[s&&(0,ct.jsx)("h3",{className:"text-heading-md text-brand-black font-semibold",children:s}),a&&(0,ct.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:a}),n]}),r&&(0,ct.jsx)("div",{className:"flex-shrink-0 ml-4",children:r})]}))});Da.displayName="CardHeader";const Ma=a.forwardRef((e,t)=>{let{className:s="",children:a}=e,r=Fe(e,Sa);return(0,ct.jsx)("div",(0,Re.A)((0,Re.A)({ref:t,className:"".concat(s)},r),{},{children:a}))});Ma.displayName="CardContent";const Ra=a.forwardRef((e,t)=>{let{divided:s=!1,className:a="",children:r}=e,n=Fe(e,Ca);const l=s?"border-t border-gray-200 pt-4 mt-4":"";return(0,ct.jsx)("div",(0,Re.A)((0,Re.A)({ref:t,className:"flex items-center justify-end gap-3 ".concat(l," ").concat(a)},n),{},{children:r}))});Ra.displayName="CardFooter";a.forwardRef((e,t)=>{let{label:s,value:a,icon:r,trend:n,trendValue:l,description:i,variant:o="default",className:c=""}=e,d=Fe(e,Aa);return(0,ct.jsx)(Pa,(0,Re.A)((0,Re.A)({ref:t,variant:o,padding:"sm",className:c},d),{},{children:(0,ct.jsxs)("div",{className:"flex items-start justify-between",children:[(0,ct.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ct.jsx)("p",{className:"text-xs sm:text-sm font-medium text-gray-600 truncate",children:s}),(0,ct.jsx)("p",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-brand-black mt-1 sm:mt-2 truncate",children:a}),(l||i)&&(0,ct.jsxs)("div",{className:"mt-1 sm:mt-2 flex items-center gap-2",children:[l&&n&&(0,ct.jsx)("span",{className:"text-xs sm:text-sm font-medium ".concat({up:"text-success-600",down:"text-error-600",neutral:"text-gray-600"}[n]),children:l}),i&&(0,ct.jsx)("span",{className:"text-xs sm:text-sm text-gray-500 truncate",children:i})]})]}),r&&(0,ct.jsx)("div",{className:"flex-shrink-0 p-2 sm:p-3 bg-brand-highlight-green bg-opacity-10 rounded-lg ml-2",children:r})]})}))}).displayName="StatCard";const La=["variant","size","style","dot","icon","onRemove","className","children"],Fa=["status"],Oa=["count","max","showZero"],Ia={default:{solid:"bg-gray-600 text-white",subtle:"bg-gray-100 text-gray-700 border border-gray-200",outlined:"bg-transparent text-gray-700 border-2 border-gray-300"},brand:{solid:"bg-brand-dark-green text-white",subtle:"bg-brand-highlight-green bg-opacity-10 text-brand-dark-green border border-brand-highlight-green border-opacity-20",outlined:"bg-transparent text-brand-dark-green border-2 border-brand-dark-green"},success:{solid:"bg-success-600 text-white",subtle:"bg-success-50 text-success-700 border border-success-200",outlined:"bg-transparent text-success-700 border-2 border-success-500"},warning:{solid:"bg-warning-600 text-white",subtle:"bg-warning-50 text-warning-700 border border-warning-200",outlined:"bg-transparent text-warning-700 border-2 border-warning-500"},error:{solid:"bg-error-600 text-white",subtle:"bg-error-50 text-error-700 border border-error-200",outlined:"bg-transparent text-error-700 border-2 border-error-500"},info:{solid:"bg-info-600 text-white",subtle:"bg-info-50 text-info-700 border border-info-200",outlined:"bg-transparent text-info-700 border-2 border-info-500"},neon:{solid:"bg-brand-neon-green text-brand-dark-green font-semibold shadow-neon",subtle:"bg-brand-neon-green bg-opacity-10 text-brand-neon-green border border-brand-neon-green border-opacity-30 font-semibold",outlined:"bg-transparent text-brand-neon-green border border-brand-neon-green font-semibold"}},za={sm:{badge:"px-2 py-0.5 text-xs",icon:"h-3 w-3",dot:"h-1.5 w-1.5"},md:{badge:"px-2.5 py-1 text-sm",icon:"h-3.5 w-3.5",dot:"h-2 w-2"},lg:{badge:"px-3 py-1.5 text-base",icon:"h-4 w-4",dot:"h-2.5 w-2.5"}},Ba={default:"bg-gray-400",brand:"bg-brand-neon-green",success:"bg-success-500",warning:"bg-warning-500",error:"bg-error-500",info:"bg-info-500",neon:"bg-brand-neon-green"},Ua=a.forwardRef((e,t)=>{let{variant:s="default",size:a="md",style:r="subtle",dot:n=!1,icon:l,onRemove:i,className:o="",children:c}=e,d=Fe(e,La);const u=za[a];return(0,ct.jsxs)("span",(0,Re.A)((0,Re.A)({ref:t,className:"\n          ".concat("\n      inline-flex items-center gap-1.5\n      font-medium rounded-full\n      transition-all duration-200\n    ","\n          ").concat(Ia[s][r],"\n          ").concat(u.badge,"\n          ").concat(o,"\n        ")},d),{},{children:[n&&(0,ct.jsx)("span",{className:"".concat(u.dot," ").concat(Ba[s]," rounded-full")}),l&&(0,ct.jsx)(l,{className:u.icon}),c,i&&(0,ct.jsx)("button",{type:"button",onClick:e=>{e.stopPropagation(),i()},className:"ml-0.5 hover:opacity-70 transition-opacity focus:outline-none","aria-label":"Remove",children:(0,ct.jsx)(Qe,{className:u.icon})})]}))});Ua.displayName="Badge";const Ha={active:{variant:"success",label:"Active",dot:!0},inactive:{variant:"default",label:"Inactive",dot:!1},pending:{variant:"warning",label:"Pending",dot:!0},completed:{variant:"success",label:"Completed",dot:!1},in_progress:{variant:"info",label:"In Progress",dot:!0},cancelled:{variant:"error",label:"Cancelled",dot:!1},draft:{variant:"default",label:"Draft",dot:!1},verified:{variant:"success",label:"Verified",dot:!1},disputed:{variant:"error",label:"Disputed",dot:!0}},Wa=a.forwardRef((e,t)=>{let{status:s}=e,a=Fe(e,Fa);const r=Ha[s];return(0,ct.jsx)(Ua,(0,Re.A)((0,Re.A)({ref:t,variant:r.variant,dot:r.dot},a),{},{children:r.label}))});Wa.displayName="StatusBadge";const qa=a.forwardRef((e,t)=>{let{count:s,max:a,showZero:r=!1}=e,n=Fe(e,Oa);if(0===s&&!r)return null;const l=a&&s>a?"".concat(a,"+"):s.toString();return(0,ct.jsx)(Ua,(0,Re.A)((0,Re.A)({ref:t,style:"solid",size:"sm"},n),{},{children:l}))});qa.displayName="CountBadge";const Va=["size","label","className"],Ga=["variant","width","height","animate","className","style"],Ya={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"},$a=a.forwardRef((e,t)=>{let{size:s="md",label:a,className:r=""}=e,n=Fe(e,Va);return(0,ct.jsxs)("div",(0,Re.A)((0,Re.A)({ref:t,className:"inline-flex items-center justify-center ".concat(r),role:"status","aria-label":a||"Loading"},n),{},{children:[(0,ct.jsx)(ca,{className:"".concat(Ya[s]," text-brand-dark-green animate-spin")}),a&&(0,ct.jsx)("span",{className:"ml-2 text-sm text-gray-600",children:a})]}))});$a.displayName="Spinner";const Qa=a.forwardRef((e,t)=>{let{variant:s="text",width:a,height:r,animate:n=!0,className:l="",style:i}=e,o=Fe(e,Ga);const c=n?"animate-pulse":"",d=(0,Re.A)((0,Re.A)((0,Re.A)({},i),a&&{width:"number"===typeof a?"".concat(a,"px"):a}),r&&{height:"number"===typeof r?"".concat(r,"px"):r});return(0,ct.jsx)("div",(0,Re.A)({ref:t,className:"\n          bg-gray-200\n          ".concat({text:"h-4 rounded",circular:"rounded-full",rectangular:"",rounded:"rounded-lg"}[s],"\n          ").concat(c,"\n          ").concat(l,"\n        "),style:d,"aria-hidden":"true"},o))});Qa.displayName="Skeleton";const Ka=e=>{let{lines:t=3,className:s=""}=e;return(0,ct.jsx)("div",{className:"space-y-2 ".concat(s),children:Array.from({length:t}).map((e,s)=>(0,ct.jsx)(Qa,{variant:"text",width:s===t-1?"80%":"100%"},s))})};Ka.displayName="SkeletonText";const Ja=e=>{let{size:t=40,className:s=""}=e;return(0,ct.jsx)(Qa,{variant:"circular",width:t,height:t,className:s})};Ja.displayName="SkeletonAvatar";const Xa=e=>{let{className:t=""}=e;return(0,ct.jsxs)("div",{className:"flex items-center gap-4 ".concat(t),children:[(0,ct.jsx)(Ja,{size:48}),(0,ct.jsxs)("div",{className:"flex-1",children:[(0,ct.jsx)(Qa,{variant:"text",width:"60%",height:16,className:"mb-2"}),(0,ct.jsx)(Qa,{variant:"text",width:"40%",height:14})]}),(0,ct.jsx)(Qa,{variant:"rounded",width:60,height:24})]})};Xa.displayName="SkeletonListItem";const Za=We("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),er=(We("inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]),We("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])),tr=We("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),sr=e=>{let{icon:t,title:s,description:a,action:r,secondaryAction:n,illustration:l,children:i,className:o=""}=e;return(0,ct.jsxs)("div",{className:"flex flex-col items-center justify-center text-center py-12 px-4 ".concat(o),children:[l||t&&(0,ct.jsx)("div",{className:"mb-4 p-4 bg-brand-highlight-green bg-opacity-10 rounded-full",children:(0,ct.jsx)(t,{className:"h-12 w-12 text-brand-dark-green",strokeWidth:1.5})}),(0,ct.jsx)("h3",{className:"text-heading-md text-brand-black font-semibold mb-2",children:s}),a&&(0,ct.jsx)("p",{className:"text-base text-gray-600 max-w-md mb-6",children:a}),i,(r||n)&&(0,ct.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-3 mt-6",children:[r&&(0,ct.jsx)(pa,{variant:r.variant||"primary",size:r.size||"md",icon:r.icon,onClick:r.onClick,children:r.label}),n&&(0,ct.jsx)(pa,{variant:n.variant||"outline",size:n.size||"md",icon:n.icon,onClick:n.onClick,children:n.label})]})]})};sr.displayName="EmptyState";const ar=We("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),rr=We("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),nr=We("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),lr=We("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),ir=["variant","title","message","icon","dismissible","onDismiss","children","className"],or={info:{icon:ar,containerClass:"bg-info-50 border-info-200 text-info-800",iconClass:"text-info-600"},success:{icon:Ks,containerClass:"bg-success-50 border-success-200 text-success-800",iconClass:"text-success-600"},warning:{icon:rr,containerClass:"bg-warning-50 border-warning-200 text-warning-800",iconClass:"text-warning-600"},error:{icon:nr,containerClass:"bg-error-50 border-error-200 text-error-800",iconClass:"text-error-600"}},cr=a.forwardRef((e,t)=>{let{variant:s="info",title:a,message:r,icon:n,dismissible:l=!1,onDismiss:i,children:o,className:c=""}=e,d=Fe(e,ir);const u=or[s],m=n||u.icon;return(0,ct.jsx)("div",(0,Re.A)((0,Re.A)({ref:t,role:"alert",className:"\n          rounded-lg border p-4\n          ".concat(u.containerClass,"\n          ").concat(c,"\n        ")},d),{},{children:(0,ct.jsxs)("div",{className:"flex items-start gap-3",children:[(0,ct.jsx)(m,{className:"h-5 w-5 flex-shrink-0 mt-0.5 ".concat(u.iconClass)}),(0,ct.jsxs)("div",{className:"flex-1 min-w-0",children:[a&&(0,ct.jsx)("h4",{className:"font-semibold text-sm mb-1",children:a}),r&&(0,ct.jsx)("div",{className:"text-sm",children:r}),o]}),l&&i&&(0,ct.jsx)("button",{onClick:i,className:"flex-shrink-0 ml-2 hover:opacity-70 transition-opacity focus:outline-none","aria-label":"Dismiss",children:(0,ct.jsx)(Qe,{className:"h-4 w-4"})})]})}))});cr.displayName="Alert";const dr=e=>{let{code:t,title:s,message:a,icon:r=lr,action:n,secondaryAction:l,className:i=""}=e;return(0,ct.jsx)("div",{className:"min-h-[60vh] flex items-center justify-center px-4 ".concat(i),children:(0,ct.jsxs)("div",{className:"max-w-md w-full text-center",children:[t&&(0,ct.jsx)("div",{className:"text-8xl font-bold text-brand-dark-green/10 mb-4",children:t}),(0,ct.jsx)("div",{className:"mb-6 flex justify-center",children:(0,ct.jsx)("div",{className:"p-4 bg-error-50 rounded-full",children:(0,ct.jsx)(r,{className:"h-16 w-16 text-error-600",strokeWidth:1.5})})}),(0,ct.jsx)("h1",{className:"text-heading-xl text-brand-black font-bold mb-4",children:s}),a&&(0,ct.jsx)("p",{className:"text-base text-gray-600 mb-8",children:a}),(0,ct.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-3",children:[n&&(0,ct.jsx)(pa,{variant:n.variant||"primary",size:n.size||"lg",icon:n.icon,onClick:n.onClick,children:n.label}),l&&(0,ct.jsx)(pa,{variant:l.variant||"outline",size:l.size||"lg",icon:l.icon,onClick:l.onClick,children:l.label})]})]})})};dr.displayName="ErrorPage";const ur=We("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),mr=["label","error","helperText","icon","iconPosition","fullWidth","inputSize","className","id","disabled"],xr=["showStrengthIndicator"],hr=["onClear"],pr=["label","error","helperText","fullWidth","resize","className","id","disabled"],gr=["label","error","helperText","options","placeholder","fullWidth","selectSize","className","id","disabled"],fr={sm:"px-3 py-2 text-sm min-h-[36px]",md:"px-3 sm:px-4 py-2.5 sm:py-2 text-base min-h-[44px]",lg:"px-4 py-3 text-lg min-h-[48px]"},br={sm:"h-4 w-4",md:"h-5 w-5",lg:"h-6 w-6"},vr=a.forwardRef((e,t)=>{let{label:s,error:a,helperText:r,icon:n,iconPosition:l="left",fullWidth:i=!1,inputSize:o="md",className:c="",id:d,disabled:u}=e,m=Fe(e,mr);const x=d||"input-".concat(Math.random().toString(36).substr(2,9)),h=!!a,p=h?"border-error-300 focus:border-error-500 focus:ring-error-200":"border-gray-300 focus:border-brand-dark-green focus:ring-brand-neon-green/20",g=n?"left"===l?"pl-10":"pr-10":"";return(0,ct.jsxs)("div",{className:"".concat(i?"w-full":""),children:[s&&(0,ct.jsxs)("label",{htmlFor:x,className:"block text-sm font-medium text-gray-700 mb-1.5",children:[s,m.required&&(0,ct.jsx)("span",{className:"text-error-500 ml-1",children:"*"})]}),(0,ct.jsxs)("div",{className:"relative",children:[n&&(0,ct.jsx)("div",{className:"\n                absolute top-1/2 -translate-y-1/2\n                ".concat("left"===l?"left-3":"right-3","\n                ").concat(h?"text-error-500":"text-gray-400","\n              "),children:(0,ct.jsx)(n,{className:br[o]})}),(0,ct.jsx)("input",(0,Re.A)({ref:t,id:x,disabled:u,className:"\n              ".concat("\n      w-full rounded-lg border transition-all duration-200\n      focus:outline-none focus:ring-2 focus:ring-offset-1\n      disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed\n    ","\n              ").concat(p,"\n              ").concat(fr[o],"\n              ").concat(g,"\n              ").concat(c,"\n            "),"aria-invalid":h,"aria-describedby":a?"".concat(x,"-error"):r?"".concat(x,"-helper"):void 0},m)),h&&(0,ct.jsx)("div",{className:"absolute top-1/2 -translate-y-1/2 right-3 pointer-events-none",children:(0,ct.jsx)(lr,{className:"h-5 w-5 text-error-500"})})]}),a&&(0,ct.jsx)("p",{id:"".concat(x,"-error"),className:"mt-1.5 text-sm text-error-600",children:a}),!a&&r&&(0,ct.jsx)("p",{id:"".concat(x,"-helper"),className:"mt-1.5 text-sm text-gray-500",children:r})]})});vr.displayName="Input";a.forwardRef((e,t)=>{let{showStrengthIndicator:s=!1}=e,r=Fe(e,xr);const[n,l]=a.useState(!1);return(0,ct.jsx)("div",{className:r.fullWidth?"w-full":"",children:(0,ct.jsxs)("div",{className:"relative",children:[(0,ct.jsx)(vr,(0,Re.A)({ref:t,type:n?"text":"password"},r)),(0,ct.jsx)("button",{type:"button",onClick:()=>l(!n),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 focus:outline-none",tabIndex:-1,"aria-label":n?"Hide password":"Show password",children:n?(0,ct.jsx)(ur,{className:"h-5 w-5"}):(0,ct.jsx)(wt,{className:"h-5 w-5"})})]})})}).displayName="PasswordInput";a.forwardRef((e,t)=>{let{onClear:s}=e,a=Fe(e,hr);return(0,ct.jsx)(vr,(0,Re.A)({ref:t,type:"search",icon:Za,iconPosition:"left",placeholder:"Search..."},a))}).displayName="SearchInput";const yr=a.forwardRef((e,t)=>{let{label:s,error:a,helperText:r,fullWidth:n=!1,resize:l="vertical",className:i="",id:o,disabled:c}=e,d=Fe(e,pr);const u=o||"textarea-".concat(Math.random().toString(36).substr(2,9)),m=!!a,x=m?"border-error-300 focus:border-error-500 focus:ring-error-200":"border-gray-300 focus:border-brand-dark-green focus:ring-brand-neon-green/20";return(0,ct.jsxs)("div",{className:"".concat(n?"w-full":""),children:[s&&(0,ct.jsxs)("label",{htmlFor:u,className:"block text-sm font-medium text-gray-700 mb-1.5",children:[s,d.required&&(0,ct.jsx)("span",{className:"text-error-500 ml-1",children:"*"})]}),(0,ct.jsx)("textarea",(0,Re.A)({ref:t,id:u,disabled:c,className:"\n            ".concat("\n      w-full rounded-lg border px-4 py-2 text-base transition-all duration-200\n      focus:outline-none focus:ring-2 focus:ring-offset-1\n      disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed\n    ","\n            ").concat(x,"\n            ").concat({none:"resize-none",vertical:"resize-y",horizontal:"resize-x",both:"resize"}[l],"\n            ").concat(i,"\n          "),"aria-invalid":m,"aria-describedby":a?"".concat(u,"-error"):r?"".concat(u,"-helper"):void 0},d)),a&&(0,ct.jsx)("p",{id:"".concat(u,"-error"),className:"mt-1.5 text-sm text-error-600",children:a}),!a&&r&&(0,ct.jsx)("p",{id:"".concat(u,"-helper"),className:"mt-1.5 text-sm text-gray-500",children:r})]})});yr.displayName="Textarea";const jr=a.forwardRef((e,t)=>{let{label:s,error:a,helperText:r,options:n,placeholder:l,fullWidth:i=!1,selectSize:o="md",className:c="",id:d,disabled:u}=e,m=Fe(e,gr);const x=d||"select-".concat(Math.random().toString(36).substr(2,9)),h=!!a,p=h?"border-error-300 focus:border-error-500 focus:ring-error-200":"border-gray-300 focus:border-brand-dark-green focus:ring-brand-neon-green/20";return(0,ct.jsxs)("div",{className:"".concat(i?"w-full":""),children:[s&&(0,ct.jsxs)("label",{htmlFor:x,className:"block text-sm font-medium text-gray-700 mb-1.5",children:[s,m.required&&(0,ct.jsx)("span",{className:"text-error-500 ml-1",children:"*"})]}),(0,ct.jsxs)("select",(0,Re.A)((0,Re.A)({ref:t,id:x,disabled:u,className:"\n            ".concat("\n      w-full rounded-lg border transition-all duration-200\n      focus:outline-none focus:ring-2 focus:ring-offset-1\n      disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed\n      appearance-none bg-white\n      bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')]\n      bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat\n      pr-10\n    ","\n            ").concat(p,"\n            ").concat(fr[o],"\n            ").concat(c,"\n          "),"aria-invalid":h,"aria-describedby":a?"".concat(x,"-error"):r?"".concat(x,"-helper"):void 0},m),{},{children:[l&&(0,ct.jsx)("option",{value:"",disabled:!0,children:l}),n.map(e=>(0,ct.jsx)("option",{value:e.value,disabled:e.disabled,children:e.label},e.value))]})),a&&(0,ct.jsx)("p",{id:"".concat(x,"-error"),className:"mt-1.5 text-sm text-error-600",children:a}),!a&&r&&(0,ct.jsx)("p",{id:"".concat(x,"-helper"),className:"mt-1.5 text-sm text-gray-500",children:r})]})});jr.displayName="Select";const Nr=We("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),wr=["label","error","helperText","indeterminate","checkboxSize","className","id","disabled","checked"],_r=["label","error","helperText","radioSize","className","id","disabled","checked"],kr=["label","error","helperText","switchSize","labelPosition","className","id","disabled","checked"],Sr={sm:{checkbox:"h-4 w-4",icon:"h-3 w-3"},md:{checkbox:"h-5 w-5",icon:"h-4 w-4"},lg:{checkbox:"h-6 w-6",icon:"h-5 w-5"}},Cr=a.forwardRef((e,t)=>{let{label:s,error:r,helperText:n,indeterminate:l=!1,checkboxSize:i="md",className:o="",id:c,disabled:d,checked:u}=e,m=Fe(e,wr);const x=c||"checkbox-".concat(Math.random().toString(36).substr(2,9)),h=!!r,p=a.useRef(null),g=t||p;a.useEffect(()=>{g.current&&(g.current.indeterminate=l)},[l,g]);const f=h?"border-error-500":u||l?"border-brand-dark-green bg-brand-dark-green":"border-gray-300 hover:border-brand-dark-green";return(0,ct.jsxs)("div",{className:"flex flex-col",children:[(0,ct.jsxs)("div",{className:"flex items-start",children:[(0,ct.jsx)("div",{className:"flex items-center h-5",children:(0,ct.jsxs)("div",{className:"relative",children:[(0,ct.jsx)("input",(0,Re.A)({ref:g,type:"checkbox",id:x,disabled:d,checked:u,className:"\n                  ".concat("\n      rounded border-2 transition-all duration-200\n      focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-neon-green/50\n      disabled:bg-gray-100 disabled:cursor-not-allowed\n      cursor-pointer\n    ","\n                  ").concat(f,"\n                  ").concat(Sr[i].checkbox,"\n                  ").concat(o,"\n                  appearance-none\n                "),"aria-invalid":h,"aria-describedby":r?"".concat(x,"-error"):n?"".concat(x,"-helper"):void 0},m)),(u||l)&&(0,ct.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:l?(0,ct.jsx)(Nr,{className:"".concat(Sr[i].icon," text-white")}):(0,ct.jsx)(Os,{className:"".concat(Sr[i].icon," text-white")})})]})}),s&&(0,ct.jsxs)("label",{htmlFor:x,className:"\n                ml-2 text-sm font-medium text-gray-700 cursor-pointer\n                ".concat(d?"opacity-50 cursor-not-allowed":"","\n              "),children:[s,m.required&&(0,ct.jsx)("span",{className:"text-error-500 ml-1",children:"*"})]})]}),r&&(0,ct.jsx)("p",{id:"".concat(x,"-error"),className:"mt-1.5 ml-7 text-sm text-error-600",children:r}),!r&&n&&(0,ct.jsx)("p",{id:"".concat(x,"-helper"),className:"mt-1.5 ml-7 text-sm text-gray-500",children:n})]})});Cr.displayName="Checkbox";(e=>{let{label:t,error:s,helperText:a,options:r,value:n,onChange:l,disabled:i=!1,required:o=!1,orientation:c="vertical",checkboxSize:d="md"}=e;const u="checkbox-group-".concat(Math.random().toString(36).substr(2,9));return(0,ct.jsxs)("div",{children:[t&&(0,ct.jsxs)("div",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t,o&&(0,ct.jsx)("span",{className:"text-error-500 ml-1",children:"*"})]}),(0,ct.jsx)("div",{role:"group","aria-labelledby":t?u:void 0,className:"\n          flex gap-4\n          ".concat("vertical"===c?"flex-col":"flex-row flex-wrap","\n        "),children:r.map(e=>(0,ct.jsx)(Cr,{label:e.label,checked:n.includes(e.value),onChange:t=>{return s=e.value,a=t.target.checked,void l(a?[...n,s]:n.filter(e=>e!==s));var s,a},disabled:i||e.disabled,checkboxSize:d},e.value))}),s&&(0,ct.jsx)("p",{className:"mt-2 text-sm text-error-600",children:s}),!s&&a&&(0,ct.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:a})]})}).displayName="CheckboxGroup";const Ar=a.forwardRef((e,t)=>{let{label:s,error:a,helperText:r,radioSize:n="md",className:l="",id:i,disabled:o,checked:c}=e,d=Fe(e,_r);const u=i||"radio-".concat(Math.random().toString(36).substr(2,9)),m=!!a,x=m?"border-error-500":c?"border-brand-dark-green":"border-gray-300 hover:border-brand-dark-green",h=c?'after:content-[""] after:absolute after:top-1/2 after:left-1/2 after:-translate-x-1/2 after:-translate-y-1/2 after:rounded-full after:bg-brand-dark-green':"";return(0,ct.jsxs)("div",{className:"flex flex-col",children:[(0,ct.jsxs)("div",{className:"flex items-start",children:[(0,ct.jsx)("div",{className:"flex items-center h-5",children:(0,ct.jsx)("input",(0,Re.A)({ref:t,type:"radio",id:u,disabled:o,checked:c,className:"\n                ".concat("\n      rounded-full border-2 transition-all duration-200\n      focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-neon-green/50\n      disabled:bg-gray-100 disabled:cursor-not-allowed\n      cursor-pointer appearance-none\n    ","\n                ").concat(x,"\n                ").concat(Sr[n].checkbox,"\n                ").concat(h,"\n                ").concat({sm:"after:w-2 after:h-2",md:"after:w-2.5 after:h-2.5",lg:"after:w-3 after:h-3"}[n],"\n                ").concat(l,"\n                relative\n              "),"aria-invalid":m,"aria-describedby":a?"".concat(u,"-error"):r?"".concat(u,"-helper"):void 0},d))}),s&&(0,ct.jsxs)("label",{htmlFor:u,className:"\n                ml-2 text-sm font-medium text-gray-700 cursor-pointer\n                ".concat(o?"opacity-50 cursor-not-allowed":"","\n              "),children:[s,d.required&&(0,ct.jsx)("span",{className:"text-error-500 ml-1",children:"*"})]})]}),a&&(0,ct.jsx)("p",{id:"".concat(u,"-error"),className:"mt-1.5 ml-7 text-sm text-error-600",children:a}),!a&&r&&(0,ct.jsx)("p",{id:"".concat(u,"-helper"),className:"mt-1.5 ml-7 text-sm text-gray-500",children:r})]})});Ar.displayName="Radio";const Er=e=>{let{label:t,error:s,helperText:a,options:r,value:n,onChange:l,name:i,disabled:o=!1,required:c=!1,orientation:d="vertical",radioSize:u="md"}=e;const m="radio-group-".concat(Math.random().toString(36).substr(2,9));return(0,ct.jsxs)("div",{children:[t&&(0,ct.jsxs)("div",{id:m,className:"block text-sm font-medium text-gray-700 mb-2",children:[t,c&&(0,ct.jsx)("span",{className:"text-error-500 ml-1",children:"*"})]}),(0,ct.jsx)("div",{role:"radiogroup","aria-labelledby":t?m:void 0,className:"\n          flex gap-4\n          ".concat("vertical"===d?"flex-col":"flex-row flex-wrap","\n        "),children:r.map(e=>(0,ct.jsx)(Ar,{name:i,label:e.label,checked:n===e.value,onChange:()=>l(e.value),disabled:o||e.disabled,radioSize:u},e.value))}),s&&(0,ct.jsx)("p",{className:"mt-2 text-sm text-error-600",children:s}),!s&&a&&(0,ct.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:a})]})};Er.displayName="RadioGroup";const Tr={sm:{container:"w-8 h-4",toggle:"h-3 w-3",translate:"translate-x-4"},md:{container:"w-11 h-6",toggle:"h-5 w-5",translate:"translate-x-5"},lg:{container:"w-14 h-7",toggle:"h-6 w-6",translate:"translate-x-7"}},Pr=a.forwardRef((e,t)=>{let{label:s,error:a,helperText:r,switchSize:n="md",labelPosition:l="right",className:i="",id:o,disabled:c,checked:d}=e,u=Fe(e,kr);const m=o||"switch-".concat(Math.random().toString(36).substr(2,9)),x=!!a;return(0,ct.jsxs)("div",{className:"flex flex-col",children:[(0,ct.jsxs)("div",{className:"flex items-center",children:[s&&"left"===l&&(0,ct.jsxs)("label",{htmlFor:m,className:"\n                mr-3 text-sm font-medium text-gray-700 cursor-pointer\n                ".concat(c?"opacity-50 cursor-not-allowed":"","\n              "),children:[s,u.required&&(0,ct.jsx)("span",{className:"text-error-500 ml-1",children:"*"})]}),(0,ct.jsxs)("button",{type:"button",role:"switch",id:m,"aria-checked":d,disabled:c,onClick:()=>{var e;const t={target:{checked:!d}};null===(e=u.onChange)||void 0===e||e.call(u,t)},className:"\n              relative inline-flex flex-shrink-0 rounded-full\n              transition-colors duration-200 ease-in-out\n              focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-neon-green/50\n              disabled:opacity-50 disabled:cursor-not-allowed\n              ".concat(d?"bg-brand-dark-green":"bg-gray-300","\n              ").concat(Tr[n].container,"\n              ").concat(i,"\n            "),children:[(0,ct.jsx)("input",(0,Re.A)({ref:t,type:"checkbox",className:"sr-only",checked:d,disabled:c,"aria-invalid":x},u)),(0,ct.jsx)("span",{className:"\n                pointer-events-none inline-block rounded-full bg-white shadow-lg\n                transform transition-transform duration-200 ease-in-out\n                ".concat(Tr[n].toggle,"\n                ").concat(d?Tr[n].translate:"translate-x-0.5","\n              ")})]}),s&&"right"===l&&(0,ct.jsxs)("label",{htmlFor:m,className:"\n                ml-3 text-sm font-medium text-gray-700 cursor-pointer\n                ".concat(c?"opacity-50 cursor-not-allowed":"","\n              "),children:[s,u.required&&(0,ct.jsx)("span",{className:"text-error-500 ml-1",children:"*"})]})]}),a&&(0,ct.jsx)("p",{className:"mt-1.5 text-sm text-error-600",children:a}),!a&&r&&(0,ct.jsx)("p",{className:"mt-1.5 text-sm text-gray-500",children:r})]})});Pr.displayName="Switch";const Dr={sm:"max-w-full sm:max-w-md",md:"max-w-full sm:max-w-lg",lg:"max-w-full sm:max-w-2xl",xl:"max-w-full sm:max-w-4xl",full:"max-w-full sm:max-w-7xl sm:mx-4"},Mr=e=>{let{open:t,onClose:s,children:r,size:n="md",closeOnBackdrop:l=!0,closeOnEscape:i=!0,showCloseButton:o=!0,className:c=""}=e;const d=a.useRef(null);a.useEffect(()=>{if(!t||!i)return;const e=e=>{"Escape"===e.key&&s()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[t,i,s]),a.useEffect(()=>(document.body.style.overflow=t?"hidden":"",()=>{document.body.style.overflow=""}),[t]),a.useEffect(()=>{var e;if(!t)return;const s=null===(e=d.current)||void 0===e?void 0:e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),a=null===s||void 0===s?void 0:s[0],r=null===s||void 0===s?void 0:s[s.length-1],n=e=>{"Tab"===e.key&&(e.shiftKey?document.activeElement===a&&(e.preventDefault(),null===r||void 0===r||r.focus()):document.activeElement===r&&(e.preventDefault(),null===a||void 0===a||a.focus()))};return document.addEventListener("keydown",n),null===a||void 0===a||a.focus(),()=>document.removeEventListener("keydown",n)},[t]);return t?(0,ct.jsxs)("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center sm:p-4 animate-fade-in",onClick:e=>{l&&e.target===e.currentTarget&&s()},children:[(0,ct.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),(0,ct.jsxs)("div",{ref:d,role:"dialog","aria-modal":"true",className:"\n          relative bg-white shadow-2xl\n          w-full ".concat(Dr[n],"\n          h-full sm:h-auto sm:max-h-[90vh]\n          rounded-t-xl sm:rounded-xl\n          flex flex-col\n          animate-slide-up sm:animate-scale-in\n          ").concat(c,"\n        "),children:[o&&(0,ct.jsx)("button",{onClick:s,className:"absolute top-3 right-3 sm:top-4 sm:right-4 text-gray-400 hover:text-gray-600 transition-colors z-10","aria-label":"Close modal",children:(0,ct.jsx)(Qe,{className:"h-5 w-5 sm:h-6 sm:w-6"})}),r]})]}):null};Mr.displayName="Modal";const Rr=e=>{let{children:t,className:s=""}=e;return(0,ct.jsx)("div",{className:"px-4 sm:px-6 pt-4 sm:pt-6 pb-3 sm:pb-4 border-b border-gray-200 flex-shrink-0 ".concat(s),children:(0,ct.jsx)("h2",{className:"text-base sm:text-heading-lg text-brand-black font-semibold pr-8",children:t})})};Rr.displayName="ModalHeader";const Lr=e=>{let{children:t,className:s=""}=e;return(0,ct.jsx)("div",{className:"px-4 sm:px-6 py-3 sm:py-4 overflow-y-auto flex-1 ".concat(s),children:t})};Lr.displayName="ModalContent";const Fr=e=>{let{children:t,className:s=""}=e;return(0,ct.jsx)("div",{className:"px-4 sm:px-6 py-3 sm:py-4 border-t border-gray-200 flex items-center justify-end gap-2 sm:gap-3 flex-shrink-0 ".concat(s),children:t})};Fr.displayName="ModalFooter";const Or={info:{icon:ar,color:"info"},success:{icon:Ks,color:"success"},warning:{icon:rr,color:"warning"},danger:{icon:lr,color:"error"}},Ir=e=>{let{open:t,onClose:s,onConfirm:a,title:r,message:n,variant:l="info",confirmText:i="Confirm",cancelText:o="Cancel",loading:c=!1}=e;const d=Or[l],u=d.icon,m="danger"===l?"danger":"primary";return(0,ct.jsxs)(Mr,{open:t,onClose:s,size:"sm",showCloseButton:!1,children:[(0,ct.jsx)(Lr,{className:"pt-6",children:(0,ct.jsxs)("div",{className:"flex items-start gap-4",children:[(0,ct.jsx)("div",{className:"flex-shrink-0 p-3 rounded-full bg-".concat(d.color,"-100"),children:(0,ct.jsx)(u,{className:"h-6 w-6 text-".concat(d.color,"-600")})}),(0,ct.jsxs)("div",{className:"flex-1 mt-1",children:[(0,ct.jsx)("h3",{className:"text-heading-sm text-brand-black font-semibold mb-2",children:r}),(0,ct.jsx)("div",{className:"text-base text-gray-600",children:n})]})]})}),(0,ct.jsxs)(Fr,{children:[(0,ct.jsx)(pa,{variant:"outline",onClick:s,disabled:c,children:o}),(0,ct.jsx)(pa,{variant:m,onClick:a,loading:c,children:i})]})]})};Ir.displayName="ConfirmationDialog";const zr=e=>{let{open:t,onClose:s,onSubmit:a,title:r,children:n,submitText:l="Submit",cancelText:i="Cancel",loading:o=!1,size:c="md"}=e;return(0,ct.jsx)(Mr,{open:t,onClose:s,size:c,children:(0,ct.jsxs)("form",{onSubmit:e=>{e.preventDefault(),a(e)},children:[(0,ct.jsx)(Rr,{children:r}),(0,ct.jsx)(Lr,{children:n}),(0,ct.jsxs)(Fr,{children:[(0,ct.jsx)(pa,{type:"button",variant:"outline",onClick:s,disabled:o,children:i}),(0,ct.jsx)(pa,{type:"submit",variant:"primary",loading:o,children:l})]})]})})};zr.displayName="FormDialog";const Br={sm:"text-sm px-3 py-1.5",md:"text-base px-4 py-2",lg:"text-lg px-5 py-3"},Ur=e=>{var t;let{tabs:s,value:r,defaultValue:n,onChange:l,variant:i="line",size:o="md",fullWidth:c=!1,className:d=""}=e;const[u,m]=a.useState(n||(null===(t=s[0])||void 0===t?void 0:t.id)),x=void 0!==r,h=x?r:u,p=e=>{x||m(e),null===l||void 0===l||l(e)},g=(e,t)=>{let a=t;if("ArrowLeft"===e.key)e.preventDefault(),a=t>0?t-1:s.length-1;else if("ArrowRight"===e.key)e.preventDefault(),a=t<s.length-1?t+1:0;else if("Home"===e.key)e.preventDefault(),a=0;else{if("End"!==e.key)return;e.preventDefault(),a=s.length-1}for(;null!==(r=s[a])&&void 0!==r&&r.disabled;){var r;a="ArrowLeft"===e.key||"End"===e.key?a>0?a-1:s.length-1:a<s.length-1?a+1:0}p(s[a].id)};return(0,ct.jsxs)("div",{className:d,children:["line"===i&&(0,ct.jsx)("div",{className:"border-b border-gray-200 overflow-x-auto",children:(0,ct.jsx)("nav",{className:"flex ".concat(c?"":"space-x-8"),role:"tablist","aria-label":"Tabs",children:s.map((e,t)=>{const s=h===e.id;return(0,ct.jsxs)("button",{role:"tab","aria-selected":s,"aria-controls":"panel-".concat(e.id),id:"tab-".concat(e.id),disabled:e.disabled,onClick:()=>p(e.id),onKeyDown:e=>g(e,t),className:"\n                    ".concat(Br[o],"\n                    ").concat(c?"flex-1":"","\n                    border-b-2 font-medium transition-all duration-200\n                    focus:outline-none focus:ring-2 focus:ring-brand-neon-green/50 focus:ring-offset-2\n                    disabled:opacity-50 disabled:cursor-not-allowed\n                    whitespace-nowrap\n                    ").concat(s?"border-brand-dark-green text-brand-dark-green":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","\n                  "),children:[e.label,void 0!==e.badge&&(0,ct.jsx)("span",{className:"\n                        ml-2 px-2 py-0.5 text-xs font-semibold rounded-full\n                        ".concat(s?"bg-brand-dark-green text-white":"bg-gray-200 text-gray-600","\n                      "),children:e.badge})]},e.id)})})}),"pill"===i&&(0,ct.jsx)("div",{className:"bg-gray-100 p-1 rounded-lg inline-flex overflow-x-auto",children:(0,ct.jsx)("nav",{className:"flex space-x-1",role:"tablist","aria-label":"Tabs",children:s.map((e,t)=>{const s=h===e.id;return(0,ct.jsxs)("button",{role:"tab","aria-selected":s,"aria-controls":"panel-".concat(e.id),id:"tab-".concat(e.id),disabled:e.disabled,onClick:()=>p(e.id),onKeyDown:e=>g(e,t),className:"\n                    ".concat(Br[o],"\n                    rounded-md font-medium transition-all duration-200\n                    focus:outline-none focus:ring-2 focus:ring-brand-neon-green/50\n                    disabled:opacity-50 disabled:cursor-not-allowed\n                    whitespace-nowrap\n                    ").concat(s?"bg-white text-brand-dark-green shadow-sm":"text-gray-600 hover:text-gray-900","\n                  "),children:[e.label,void 0!==e.badge&&(0,ct.jsx)("span",{className:"\n                        ml-2 px-2 py-0.5 text-xs font-semibold rounded-full\n                        ".concat(s?"bg-brand-dark-green text-white":"bg-gray-200 text-gray-600","\n                      "),children:e.badge})]},e.id)})})}),"enclosed"===i&&(0,ct.jsx)("div",{className:"border-b border-gray-200 overflow-x-auto",children:(0,ct.jsx)("nav",{className:"flex ".concat(c?"":"space-x-2"),role:"tablist","aria-label":"Tabs",children:s.map((e,t)=>{const s=h===e.id;return(0,ct.jsxs)("button",{role:"tab","aria-selected":s,"aria-controls":"panel-".concat(e.id),id:"tab-".concat(e.id),disabled:e.disabled,onClick:()=>p(e.id),onKeyDown:e=>g(e,t),className:"\n                    ".concat(Br[o],"\n                    ").concat(c?"flex-1":"","\n                    border border-gray-200 rounded-t-lg font-medium transition-all duration-200\n                    focus:outline-none focus:ring-2 focus:ring-brand-neon-green/50\n                    disabled:opacity-50 disabled:cursor-not-allowed\n                    whitespace-nowrap\n                    ").concat(s?"bg-white text-brand-dark-green border-b-white -mb-px":"bg-gray-50 text-gray-600 hover:text-gray-900 hover:bg-gray-100","\n                  "),children:[e.label,void 0!==e.badge&&(0,ct.jsx)("span",{className:"\n                        ml-2 px-2 py-0.5 text-xs font-semibold rounded-full\n                        ".concat(s?"bg-brand-dark-green text-white":"bg-gray-200 text-gray-600","\n                      "),children:e.badge})]},e.id)})})})]})};Ur.displayName="Tabs";const Hr=e=>{let{value:t,activeValue:s,children:a,className:r="",keepMounted:n=!1}=e;const l=t===s;return l||n?(0,ct.jsx)("div",{role:"tabpanel",id:"panel-".concat(t),"aria-labelledby":"tab-".concat(t),hidden:!l,className:"\n        ".concat(l?"animate-fade-in":"","\n        ").concat(r,"\n      "),children:a}):null};Hr.displayName="TabPanel";const Wr=We("chevrons-up-down",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]),qr=["children","striped","hoverable","bordered","compact","className"],Vr=["children","className"],Gr=["children","className"],Yr=["children","selected","hoverable","className"],$r=["children","sortable","sortDirection","onSort","className"],Qr=["children","compact","className"],Kr=a.forwardRef((e,t)=>{let{children:s,striped:a=!1,hoverable:r=!1,bordered:n=!1,compact:l=!1,className:i=""}=e,o=Fe(e,qr);return(0,ct.jsx)("div",{className:"w-full overflow-x-auto",children:(0,ct.jsx)("table",(0,Re.A)((0,Re.A)({ref:t,className:"\n            w-full text-left\n            ".concat(i,"\n          ")},o),{},{children:s}))})});Kr.displayName="Table";const Jr=a.forwardRef((e,t)=>{let{children:s,className:a=""}=e,r=Fe(e,Vr);return(0,ct.jsx)("thead",(0,Re.A)((0,Re.A)({ref:t,className:"\n          bg-gray-50 border-b border-gray-200\n          ".concat(a,"\n        ")},r),{},{children:s}))});Jr.displayName="TableHead";const Xr=a.forwardRef((e,t)=>{let{children:s,className:a=""}=e,r=Fe(e,Gr);return(0,ct.jsx)("tbody",(0,Re.A)((0,Re.A)({ref:t,className:"\n          divide-y divide-gray-200\n          ".concat(a,"\n        ")},r),{},{children:s}))});Xr.displayName="TableBody";const Zr=a.forwardRef((e,t)=>{let{children:s,selected:a=!1,hoverable:r=!0,className:n=""}=e,l=Fe(e,Yr);return(0,ct.jsx)("tr",(0,Re.A)((0,Re.A)({ref:t,className:"\n          ".concat(a?"bg-brand-highlight-green bg-opacity-10":"","\n          ").concat(r?"hover:bg-gray-50 transition-colors duration-150":"","\n          ").concat(n,"\n        ")},l),{},{children:s}))});Zr.displayName="TableRow";const en=a.forwardRef((e,t)=>{let{children:s,sortable:a=!1,sortDirection:r=null,onSort:n,className:l=""}=e,i=Fe(e,$r);return(0,ct.jsx)("th",(0,Re.A)((0,Re.A)({ref:t,scope:"col",className:"\n          px-2 sm:px-4 py-2 sm:py-3 text-left text-[10px] sm:text-xs font-semibold text-gray-700 uppercase tracking-wider whitespace-nowrap\n          ".concat(a?"cursor-pointer select-none hover:bg-gray-100 transition-colors":"","\n          ").concat(l,"\n        "),onClick:a?n:void 0},i),{},{children:(0,ct.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[s,a&&(0,ct.jsxs)("span",{className:"text-gray-400",children:["asc"===r&&(0,ct.jsx)(It,{className:"h-3 w-3 sm:h-4 sm:w-4"}),"desc"===r&&(0,ct.jsx)(zt,{className:"h-3 w-3 sm:h-4 sm:w-4"}),null===r&&(0,ct.jsx)(Wr,{className:"h-3 w-3 sm:h-4 sm:w-4"})]})]})}))});en.displayName="TableHeader";const tn=a.forwardRef((e,t)=>{let{children:s,compact:a=!1,className:r=""}=e,n=Fe(e,Qr);return(0,ct.jsx)("td",(0,Re.A)((0,Re.A)({ref:t,className:"\n          ".concat(a?"px-2 sm:px-3 py-1.5 sm:py-2":"px-2 sm:px-4 py-2 sm:py-3","\n          text-xs sm:text-sm text-gray-900\n          ").concat(r,"\n        ")},n),{},{children:s}))});function sn(e){let{columns:t,data:s,keyExtractor:r,sortable:n=!0,selectable:l=!1,selectedRows:i=[],onSelectionChange:o,onRowClick:c,emptyMessage:d="No data available",loading:u=!1,compact:m=!1,striped:x=!1,hoverable:h=!0,className:p=""}=e;const[g,f]=a.useState(null),[b,v]=a.useState(null),y=a.useMemo(()=>{if(!g||!b)return s;const e=t.find(e=>e.id===g);return e?[...s].sort((t,s)=>{let a,r;if("function"===typeof e.accessor)a=e.accessor(t),r=e.accessor(s);else{if(!e.accessor)return 0;a=t[e.accessor],r=s[e.accessor]}return null==a&&null==r?0:null==a?"asc"===b?1:-1:null==r?"asc"===b?-1:1:"string"===typeof a&&"string"===typeof r?"asc"===b?a.localeCompare(r):r.localeCompare(a):a<r?"asc"===b?-1:1:a>r?"asc"===b?1:-1:0}):s},[s,g,b,t]),j=i.length===y.length&&y.length>0,N=i.length>0&&i.length<y.length;return(0,ct.jsx)("div",{className:p,children:(0,ct.jsxs)(Kr,{children:[(0,ct.jsx)(Jr,{children:(0,ct.jsxs)(Zr,{hoverable:!1,children:[l&&(0,ct.jsx)(en,{className:"w-12",children:(0,ct.jsx)(Cr,{checked:j,indeterminate:N,onChange:e=>(e=>{if(o)if(e){const e=y.map((e,t)=>r(e,t));o(e)}else o([])})(e.target.checked),checkboxSize:"sm"})}),t.map(e=>(0,ct.jsx)(en,{sortable:n&&!1!==e.sortable,sortDirection:g===e.id?b:null,onSort:()=>{return t=e.id,void(n&&(g===t?"asc"===b?v("desc"):"desc"===b?(v(null),f(null)):v("asc"):(f(t),v("asc"))));var t},style:{width:e.width,textAlign:e.align||"left"},children:e.label},e.id))]})}),(0,ct.jsx)(Xr,{children:u?(0,ct.jsx)(Zr,{hoverable:!1,children:(0,ct.jsx)(tn,{colSpan:t.length+(l?1:0),className:"text-center py-8",children:(0,ct.jsx)("div",{className:"flex items-center justify-center",children:(0,ct.jsx)("div",{className:"animate-spin h-6 w-6 border-2 border-brand-dark-green border-t-transparent rounded-full"})})})}):0===y.length?(0,ct.jsx)(Zr,{hoverable:!1,children:(0,ct.jsx)(tn,{colSpan:t.length+(l?1:0),className:"text-center py-8 text-gray-500",children:d})}):y.map((e,s)=>{const a=r(e,s),n=i.includes(a);return(0,ct.jsxs)(Zr,{selected:n,hoverable:h,onClick:()=>null===c||void 0===c?void 0:c(e,s),className:"\n                    ".concat(c?"cursor-pointer":"","\n                    ").concat(x&&s%2===1?"bg-gray-50":"","\n                  "),children:[l&&(0,ct.jsx)(tn,{compact:m,children:(0,ct.jsx)(Cr,{checked:n,onChange:e=>{e.stopPropagation(),((e,t)=>{o&&o(t?[...i,e]:i.filter(t=>t!==e))})(a,e.target.checked)},checkboxSize:"sm"})}),t.map(t=>{var a;let r;"function"===typeof t.accessor?r=t.accessor(e):t.accessor&&(r=e[t.accessor]);const n=t.render?t.render(r,e,s):(null===(a=r)||void 0===a?void 0:a.toString())||"";return(0,ct.jsx)(tn,{compact:m,style:{textAlign:t.align||"left"},children:n},t.id)})]},a)})})]})})}tn.displayName="TableCell",sn.displayName="DataTable";const an=e=>{let{trigger:t,children:s,position:r="left",closeOnClick:n=!0,disabled:l=!1,className:i=""}=e;const[o,c]=a.useState(!1),d=a.useRef(null);a.useEffect(()=>{if(!o)return;const e=e=>{d.current&&!d.current.contains(e.target)&&c(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[o]),a.useEffect(()=>{if(!o)return;const e=e=>{"Escape"===e.key&&c(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[o]);return(0,ct.jsxs)("div",{ref:d,className:"relative inline-block ".concat(i),children:[(0,ct.jsx)("div",{onClick:()=>{l||c(!o)},children:t}),o&&!l&&(0,ct.jsx)("div",{className:"\n            absolute z-50 mt-2 min-w-[12rem]\n            bg-white rounded-lg shadow-lg border border-gray-200\n            animate-scale-in origin-top\n            ".concat({left:"left-0",right:"right-0",center:"left-1/2 -translate-x-1/2"}[r],"\n          "),onClick:()=>{n&&c(!1)},children:s})]})};an.displayName="Dropdown";const rn=e=>{let{children:t,onClick:s,icon:a,selected:r=!1,disabled:n=!1,destructive:l=!1,className:i=""}=e;return(0,ct.jsxs)("button",{onClick:s,disabled:n,className:"\n        w-full px-4 py-2 text-left text-sm\n        flex items-center gap-3\n        transition-colors duration-150\n        disabled:opacity-50 disabled:cursor-not-allowed\n        ".concat(l?"text-error-600 hover:bg-error-50":"text-gray-700 hover:bg-gray-50","\n        ").concat(r?"bg-brand-highlight-green bg-opacity-10":"","\n        ").concat(i,"\n      "),children:[a&&(0,ct.jsx)(a,{className:"h-4 w-4 flex-shrink-0"}),(0,ct.jsx)("span",{className:"flex-1",children:t}),r&&(0,ct.jsx)(Os,{className:"h-4 w-4 text-brand-dark-green flex-shrink-0"})]})};rn.displayName="DropdownItem";const nn=e=>{let{options:t,value:s,onChange:a,placeholder:r="Select...",disabled:n=!1,error:l=!1,className:i=""}=e;const o=t.find(e=>e.value===s),c=l?"border-error-300 focus:border-error-500 focus:ring-error-200":"border-gray-300 focus:border-brand-dark-green focus:ring-brand-neon-green/20";return(0,ct.jsx)(an,{trigger:(0,ct.jsxs)("button",{disabled:n,className:"".concat("\n    w-full flex items-center justify-between gap-2\n    px-4 py-2 text-sm\n    border rounded-lg\n    transition-all duration-200\n    focus:outline-none focus:ring-2 focus:ring-offset-1\n    disabled:bg-gray-50 disabled:cursor-not-allowed\n  "," ").concat(c," ").concat(i),children:[(0,ct.jsxs)("span",{className:"flex items-center gap-2 flex-1 text-left",children:[(null===o||void 0===o?void 0:o.icon)&&(0,ct.jsx)(o.icon,{className:"h-4 w-4"}),o?o.label:r]}),(0,ct.jsx)(zt,{className:"h-4 w-4 text-gray-400 flex-shrink-0"})]}),position:"left",disabled:n,className:"w-full",children:(0,ct.jsx)("div",{className:"py-1 max-h-60 overflow-auto",children:t.map(e=>(0,ct.jsx)(rn,{onClick:()=>a(e.value),icon:e.icon,selected:s===e.value,disabled:e.disabled,children:e.label},e.value))})})};nn.displayName="SelectDropdown";We("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const ln=e=>{let{content:t,children:s,position:r="top",variant:n="dark",delay:l=200,disabled:i=!1,className:o=""}=e;const[c,d]=a.useState(!1),u=a.useRef(null),m=()=>{i||(u.current=setTimeout(()=>{d(!0)},l))},x=()=>{u.current&&clearTimeout(u.current),d(!1)};a.useEffect(()=>()=>{u.current&&clearTimeout(u.current)},[]);return t?(0,ct.jsxs)("div",{className:"relative inline-flex",onMouseEnter:m,onMouseLeave:x,onFocus:m,onBlur:x,children:[s,c&&!i&&(0,ct.jsxs)("div",{role:"tooltip",className:"\n            absolute z-50 px-3 py-2 text-sm rounded-lg\n            whitespace-nowrap max-w-xs\n            animate-fade-in\n            ".concat({top:"bottom-full left-1/2 -translate-x-1/2 mb-2",bottom:"top-full left-1/2 -translate-x-1/2 mt-2",left:"right-full top-1/2 -translate-y-1/2 mr-2",right:"left-full top-1/2 -translate-y-1/2 ml-2"}[r],"\n            ").concat({dark:"bg-gray-900 text-white",light:"bg-white text-gray-900 border border-gray-200 shadow-lg"}[n],"\n            ").concat(o,"\n          "),children:[t,(0,ct.jsx)("div",{className:"\n              absolute w-0 h-0\n              border-4 border-transparent\n              ".concat({top:"top-full left-1/2 -translate-x-1/2 border-t-current",bottom:"bottom-full left-1/2 -translate-x-1/2 border-b-current",left:"left-full top-1/2 -translate-y-1/2 border-l-current",right:"right-full top-1/2 -translate-y-1/2 border-r-current"}[r],"\n              ").concat({dark:"text-gray-900",light:"text-white"}[n],"\n            ")})]})]}):(0,ct.jsx)(ct.Fragment,{children:s})};ln.displayName="Tooltip";const on={xs:{container:"h-6 w-6",text:"text-xs",icon:"h-3 w-3",status:"h-1.5 w-1.5 border"},sm:{container:"h-8 w-8",text:"text-sm",icon:"h-4 w-4",status:"h-2 w-2 border"},md:{container:"h-10 w-10",text:"text-base",icon:"h-5 w-5",status:"h-2.5 w-2.5 border-2"},lg:{container:"h-12 w-12",text:"text-lg",icon:"h-6 w-6",status:"h-3 w-3 border-2"},xl:{container:"h-16 w-16",text:"text-xl",icon:"h-8 w-8",status:"h-3.5 w-3.5 border-2"},"2xl":{container:"h-24 w-24",text:"text-2xl",icon:"h-12 w-12",status:"h-4 w-4 border-2"}},cn={circular:"rounded-full",rounded:"rounded-lg",square:"rounded-none"},dn={online:"bg-success-500",offline:"bg-gray-400",away:"bg-warning-500",busy:"bg-error-500"},un=a.forwardRef((e,t)=>{let{src:s,alt:r,name:n,size:l="md",variant:i="circular",status:o,showStatus:c=!1,className:d="",onClick:u}=e;const[m,x]=a.useState(!1),h=on[l],p=r||n||"User",g=n?(e=>{const t=e.trim().split(" ");return t.length>=2?"".concat(t[0][0]).concat(t[t.length-1][0]).toUpperCase():e.substring(0,2).toUpperCase()})(n):"",f=n?(e=>{const t=["bg-red-500","bg-orange-500","bg-amber-500","bg-yellow-500","bg-lime-500","bg-green-500","bg-emerald-500","bg-teal-500","bg-cyan-500","bg-sky-500","bg-blue-500","bg-indigo-500","bg-violet-500","bg-purple-500","bg-fuchsia-500","bg-pink-500","bg-rose-500"];let s=0;for(let a=0;a<e.length;a++)s=e.charCodeAt(a)+((s<<5)-s);return t[Math.abs(s)%t.length]})(n):"bg-gray-400",b=s&&!m,v=!b&&n,y=!b&&!n;return(0,ct.jsxs)("div",{ref:t,className:"\n          relative inline-flex items-center justify-center\n          ".concat(h.container,"\n          ").concat(cn[i],"\n          ").concat(u?"cursor-pointer hover:opacity-80 transition-opacity":"","\n          ").concat(d,"\n        "),onClick:u,children:[b&&(0,ct.jsx)("img",{src:s,alt:p,className:"\n              ".concat(h.container,"\n              ").concat(cn[i],"\n              object-cover\n            "),onError:()=>x(!0)}),v&&(0,ct.jsx)("div",{className:"\n              ".concat(h.container,"\n              ").concat(cn[i],"\n              ").concat(f,"\n              flex items-center justify-center\n              text-white font-semibold\n              ").concat(h.text,"\n            "),children:g}),y&&(0,ct.jsx)("div",{className:"\n              ".concat(h.container,"\n              ").concat(cn[i],"\n              ").concat(f,"\n              flex items-center justify-center\n              text-white\n            "),children:(0,ct.jsx)($e,{className:h.icon})}),c&&o&&(0,ct.jsx)("span",{className:"\n              absolute bottom-0 right-0\n              ".concat(h.status,"\n              ").concat(dn[o],"\n              ").concat(cn[i],"\n              border-white\n            "),"aria-label":"Status: ".concat(o)})]})});un.displayName="Avatar";const mn=e=>{let{text:t="Loading..."}=e;return(0,ct.jsxs)("div",{className:"flex flex-col items-center justify-center py-8",children:[(0,ct.jsx)($a,{size:"lg"}),(0,ct.jsx)("p",{className:"text-gray-600 mt-3",children:t})]})},xn=()=>(0,ct.jsx)("style",{children:"\n      @media (max-width: 640px) {\n        .rbc-time-header-gutter {\n          width: 40px !important;\n          min-width: 40px !important;\n          max-width: 40px !important;\n        }\n        .rbc-time-gutter {\n          width: 40px !important;\n          min-width: 40px !important;\n          max-width: 40px !important;\n        }\n        .rbc-label {\n          font-size: 9px !important;\n          padding: 0 !important;\n          text-align: center !important;\n        }\n        .rbc-time-content {\n          overflow-x: auto !important;\n          -webkit-overflow-scrolling: touch !important;\n        }\n        /* Keep left gutter visible, hide time labels inside day columns */\n        .rbc-day-slot .rbc-timeslot-group {\n          border: none !important;\n        }\n        .rbc-day-slot .rbc-time-slot {\n          border-top: none !important;\n          pointer-events: auto !important;\n          cursor: pointer !important;\n        }\n        /* Only show borders on full hour rows (first slot in each group) */\n        .rbc-day-slot .rbc-timeslot-group .rbc-time-slot:first-child {\n          border-top: 1px solid #e5e7eb !important;\n        }\n        .rbc-day-slot .rbc-label {\n          display: none !important;\n        }\n        /* Keep left time gutter labels visible and styled */\n        .rbc-time-gutter .rbc-label {\n          display: block !important;\n        }\n        /* Ensure day columns are clickable */\n        .rbc-day-slot {\n          pointer-events: auto !important;\n        }\n        .rbc-time-column {\n          pointer-events: auto !important;\n        }\n        /* Custom date header styling - Google Calendar style */\n        .rbc-time-header {\n          overflow: visible !important;\n        }\n        .rbc-time-header-content {\n          border-left: none !important;\n        }\n        .rbc-header {\n          padding: 10px 4px 12px 4px !important;\n          border-bottom: 1px solid #e5e7eb !important;\n          font-size: 11px !important;\n          overflow: visible !important;\n          min-height: 60px !important;\n        }\n        .rbc-header .day-letter {\n          display: block;\n          font-size: 10px;\n          font-weight: 500;\n          color: #5f6368;\n          text-transform: uppercase;\n          margin-bottom: 4px;\n        }\n        .rbc-header .day-number {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          font-size: 20px;\n          font-weight: 400;\n          color: #202124;\n          width: 32px;\n          height: 32px;\n          margin: 0 auto;\n          border-radius: 50%;\n        }\n        .rbc-header .day-number.today {\n          background-color: #1a73e8;\n          color: white;\n          font-weight: 500;\n        }\n        /* Remove the extra allDay row */\n        .rbc-allday-cell {\n          display: none !important;\n        }\n        .rbc-time-header-content > .rbc-row.rbc-row-resource {\n          display: none !important;\n        }\n      }\n    "}),hn=e=>{let{name:t,role:s,quote:a,image:r,className:n=""}=e;return(0,ct.jsx)(Pa,{variant:"testimonial",padding:"md",className:n,children:(0,ct.jsxs)("div",{className:"flex items-start gap-3",children:[r?(0,ct.jsx)("img",{src:r,alt:"".concat(t," headshot"),className:"w-12 h-12 rounded-full object-cover flex-shrink-0",loading:"lazy"}):(0,ct.jsx)("div",{className:"w-12 h-12 rounded-full bg-brand-neon-green bg-opacity-20 flex items-center justify-center flex-shrink-0",children:(0,ct.jsx)("span",{className:"text-brand-neon-green font-bold text-lg",children:t.charAt(0)})}),(0,ct.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ct.jsxs)("div",{className:"mb-2",children:[(0,ct.jsx)("h4",{className:"font-bold text-white text-base",children:t}),(0,ct.jsx)("p",{className:"text-gray-300 text-sm",children:s})]}),(0,ct.jsxs)("blockquote",{className:"text-white text-sm leading-relaxed",children:['"',a,'"']})]})]})})},pn=e=>{let{children:t,title:s,subtitle:a,className:r=""}=e;return(0,ct.jsxs)("div",{className:"bg-brand-dark-green rounded-xl p-6 sm:p-8 space-y-6 ".concat(r),children:[(s||a)&&(0,ct.jsxs)("div",{className:"text-center mb-8",children:[s&&(0,ct.jsx)("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-2",children:s}),a&&(0,ct.jsx)("p",{className:"text-gray-300 text-base sm:text-lg",children:a})]}),(0,ct.jsx)("div",{className:"space-y-4",children:t})]})},gn={open:{label:"Open",color:"text-success",bgColor:"bg-success bg-opacity-10",accentGradient:"bg-gradient-to-b from-success to-success-600",borderColor:"border-success",minimalBg:"bg-white",opacity:"opacity-100"},"ending-soon":{label:"Ending Soon",color:"text-warning-600",bgColor:"bg-warning-50",accentGradient:"bg-gradient-to-b from-warning-500 to-warning-600",borderColor:"border-warning-500",minimalBg:"bg-white",opacity:"opacity-100"},full:{label:"Full",color:"text-gray-600",bgColor:"bg-gray-100",accentGradient:"bg-gradient-to-b from-gray-400 to-gray-500",borderColor:"border-gray-300",minimalBg:"bg-gray-50",opacity:"opacity-60"},closed:{label:"Closed",color:"text-gray-400",bgColor:"bg-error-light",accentGradient:"bg-gradient-to-b from-error to-error-600",borderColor:"border-gray-200",minimalBg:"bg-gray-50",opacity:"opacity-40"}},fn=e=>{let{variant:t="compact",title:s,titleBadge:a,subtitle:r,description:n,status:l="open",startDate:i,endDate:o,participants:c,prize:d,imageUrl:u,icon:m,onAction:x,actionLabel:h="Join",segmentedActions:p,onClick:g,className:f=""}=e;const b=gn[l];return"compact"===t?(0,ct.jsx)("div",{onClick:g,className:"\n          group relative\n          bg-white rounded-2xl p-4\n          border border-gray-200\n          hover:border-brand-dark-green hover:shadow-md\n          transition-all duration-200\n          ".concat(g?"cursor-pointer":"","\n          ").concat(f,"\n        "),children:(0,ct.jsxs)("div",{className:"flex items-start gap-3",children:[(0,ct.jsx)("div",{className:"flex-shrink-0",children:u?(0,ct.jsx)("img",{src:u,alt:s,className:"w-12 h-12 rounded-xl object-cover"}):m?(0,ct.jsx)("div",{className:"w-12 h-12 rounded-xl bg-brand-highlight-green bg-opacity-10 flex items-center justify-center",children:(0,ct.jsx)(m,{className:"w-6 h-6 text-brand-dark-green"})}):(0,ct.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-brand-dark-green to-brand-muted-green flex items-center justify-center",children:(0,ct.jsx)(qe,{className:"w-6 h-6 text-brand-neon-green"})})}),(0,ct.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ct.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-1",children:[(0,ct.jsx)("h3",{className:"text-base font-semibold text-brand-black truncate",children:s}),l&&(0,ct.jsx)("span",{className:"flex-shrink-0 px-2 py-0.5 rounded-full text-xs font-medium ".concat(b.bgColor," ").concat(b.color),children:b.label})]}),r&&(0,ct.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:r}),(0,ct.jsxs)("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[c&&(0,ct.jsxs)("div",{className:"flex items-center gap-1",children:[(0,ct.jsx)(Ye,{className:"w-3.5 h-3.5"}),(0,ct.jsxs)("span",{children:[c.current,c.max?"/".concat(c.max):""]})]}),o&&(0,ct.jsxs)("div",{className:"flex items-center gap-1",children:[(0,ct.jsx)(Qs,{className:"w-3.5 h-3.5"}),(0,ct.jsx)("span",{children:o})]}),d&&(0,ct.jsxs)("div",{className:"flex items-center gap-1 text-brand-neon-green font-medium",children:[(0,ct.jsx)(qe,{className:"w-3.5 h-3.5"}),(0,ct.jsx)("span",{children:d})]})]})]}),x&&(0,ct.jsx)("button",{onClick:e=>{e.stopPropagation(),x()},className:"flex-shrink-0 px-4 py-2 bg-brand-dark-green text-white rounded-lg text-sm font-medium hover:bg-brand-muted-green transition-colors",children:h})]})}):"compact-minimal"===t?(0,ct.jsx)("div",{className:"\n          group relative\n          ".concat(b.minimalBg,"\n          ").concat(b.opacity,"\n          rounded-2xl p-4\n          border-2 ").concat(b.borderColor,"\n          hover:border-brand-dark-green hover:shadow-md\n          transition-all duration-200\n          ").concat(f,"\n        "),children:(0,ct.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,ct.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ct.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,ct.jsx)("h3",{className:"text-base font-semibold ".concat("closed"===l||"full"===l?"text-gray-500":"text-brand-black"),children:s}),a&&(0,ct.jsx)("span",{className:"px-2 py-0.5 text-xs font-semibold bg-brand-neon-green text-brand-dark-green rounded-full",children:a})]}),r&&(0,ct.jsx)("p",{className:"text-sm mb-2 ".concat("closed"===l||"full"===l?"text-gray-400":"text-gray-600"),children:r}),(0,ct.jsxs)("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[c&&(0,ct.jsxs)("div",{className:"flex items-center gap-1",children:[(0,ct.jsx)(Ye,{className:"w-3.5 h-3.5"}),(0,ct.jsxs)("span",{children:[c.current,c.max?"/".concat(c.max):""]})]}),o&&(0,ct.jsxs)("div",{className:"flex items-center gap-1",children:[(0,ct.jsx)(Qs,{className:"w-3.5 h-3.5"}),(0,ct.jsx)("span",{children:o})]}),d&&(0,ct.jsx)("div",{className:"flex items-center gap-1 text-brand-neon-green font-medium",children:(0,ct.jsx)("span",{children:d})})]})]}),(0,ct.jsxs)("div",{className:"flex-shrink-0 flex flex-col items-end gap-2",children:[g&&(0,ct.jsxs)("button",{onClick:g,className:"flex items-center gap-1 text-sm font-medium text-brand-neon-green hover:text-brand-neon-green/80 transition-colors",children:["Leaderboard",(0,ct.jsx)(yt,{className:"w-4 h-4"})]}),p?(0,ct.jsx)("div",{onClick:e=>e.stopPropagation(),children:(0,ct.jsx)(Na,{options:p.options,value:p.value,onChange:p.onChange,size:"sm",variant:"primary"})}):x&&(0,ct.jsx)("button",{onClick:e=>{e.stopPropagation(),x()},className:"\n                  px-3 py-1.5 rounded-lg text-sm font-medium\n                  transition-colors\n                  ".concat("closed"===l||"full"===l?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-brand-dark-green text-white hover:bg-brand-muted-green","\n                "),disabled:"closed"===l||"full"===l,children:h})]})]})}):"compact-accent"===t?(0,ct.jsx)("div",{onClick:g,className:"\n          group relative\n          bg-white rounded-2xl overflow-hidden\n          border border-gray-200\n          hover:border-brand-dark-green hover:shadow-md\n          transition-all duration-200\n          ".concat(g?"cursor-pointer":"","\n          ").concat(f,"\n        "),children:(0,ct.jsxs)("div",{className:"flex",children:[(0,ct.jsxs)("div",{className:"flex-shrink-0 w-16 ".concat(b.accentGradient," flex flex-col items-center justify-center gap-1 py-3"),children:[m?(0,ct.jsx)(m,{className:"w-6 h-6 text-white",strokeWidth:2.5}):(0,ct.jsx)(qe,{className:"w-6 h-6 text-white",strokeWidth:2.5}),l&&(0,ct.jsx)("span",{className:"text-[10px] font-bold text-white uppercase tracking-tight leading-none text-center px-1",children:b.label})]}),(0,ct.jsxs)("div",{className:"flex-1 p-4",children:[(0,ct.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-1",children:[(0,ct.jsx)("h3",{className:"text-base font-semibold text-brand-black",children:s}),l&&(0,ct.jsx)("span",{className:"flex-shrink-0 px-2 py-0.5 rounded-full text-xs font-medium ".concat(b.bgColor," ").concat(b.color),children:b.label})]}),r&&(0,ct.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:r}),(0,ct.jsxs)("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[c&&(0,ct.jsxs)("div",{className:"flex items-center gap-1",children:[(0,ct.jsx)(Ye,{className:"w-3.5 h-3.5"}),(0,ct.jsxs)("span",{children:[c.current,c.max?"/".concat(c.max):""]})]}),o&&(0,ct.jsxs)("div",{className:"flex items-center gap-1",children:[(0,ct.jsx)(Qs,{className:"w-3.5 h-3.5"}),(0,ct.jsx)("span",{children:o})]}),d&&(0,ct.jsxs)("div",{className:"flex items-center gap-1 text-brand-neon-green font-medium",children:[(0,ct.jsx)(qe,{className:"w-3.5 h-3.5"}),(0,ct.jsx)("span",{children:d})]})]})]}),x&&(0,ct.jsx)("div",{className:"flex-shrink-0 flex items-center pr-4",children:(0,ct.jsx)("button",{onClick:e=>{e.stopPropagation(),x()},className:"px-4 py-2 bg-brand-dark-green text-white rounded-lg text-sm font-medium hover:bg-brand-muted-green transition-colors",children:h})})]})}):"featured"===t?(0,ct.jsxs)("div",{onClick:g,className:"\n          group relative\n          bg-gradient-to-br from-white to-gray-50\n          rounded-3xl overflow-hidden\n          border border-gray-200\n          hover:border-brand-dark-green hover:shadow-lg\n          transition-all duration-200\n          ".concat(g?"cursor-pointer":"","\n          ").concat(f,"\n        "),children:[u?(0,ct.jsxs)("div",{className:"relative h-32 overflow-hidden",children:[(0,ct.jsx)("img",{src:u,alt:s,className:"w-full h-full object-cover"}),(0,ct.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),l&&(0,ct.jsx)("span",{className:"absolute top-3 right-3 px-3 py-1 rounded-full text-xs font-semibold ".concat(b.bgColor," ").concat(b.color," backdrop-blur-sm"),children:b.label})]}):(0,ct.jsxs)("div",{className:"relative h-24 bg-gradient-to-br from-brand-dark-green to-brand-muted-green",children:[(0,ct.jsx)("div",{className:"absolute inset-0 opacity-20 bg-[radial-gradient(circle_at_50%_50%,_rgba(255,255,255,0.3),transparent_50%)]"}),l&&(0,ct.jsx)("span",{className:"absolute top-3 right-3 px-3 py-1 rounded-full text-xs font-semibold ".concat(b.bgColor," ").concat(b.color," backdrop-blur-sm"),children:b.label})]}),(0,ct.jsxs)("div",{className:"p-4",children:[(0,ct.jsx)("h3",{className:"text-lg font-bold text-brand-black mb-1",children:s}),r&&(0,ct.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:r}),n&&(0,ct.jsx)("p",{className:"text-sm text-gray-500 mb-3 line-clamp-2",children:n}),(0,ct.jsxs)("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[c&&(0,ct.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-white rounded-lg border border-gray-100",children:[(0,ct.jsx)(Ye,{className:"w-4 h-4 text-brand-dark-green"}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("div",{className:"text-xs text-gray-500",children:"Players"}),(0,ct.jsxs)("div",{className:"text-sm font-semibold text-brand-black",children:[c.current,c.max?"/".concat(c.max):""]})]})]}),d&&(0,ct.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-brand-neon-green bg-opacity-10 rounded-lg border border-brand-neon-green border-opacity-20",children:[(0,ct.jsx)(qe,{className:"w-4 h-4 text-brand-neon-green"}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("div",{className:"text-xs text-gray-600",children:"Prize"}),(0,ct.jsx)("div",{className:"text-sm font-semibold text-brand-dark-green",children:d})]})]})]}),x&&(0,ct.jsxs)("button",{onClick:e=>{e.stopPropagation(),x()},className:"w-full py-3 bg-brand-dark-green text-white rounded-xl font-semibold hover:bg-brand-muted-green transition-colors flex items-center justify-center gap-2",children:[h,(0,ct.jsx)(yt,{className:"w-4 h-4"})]})]})]}):(0,ct.jsx)("div",{onClick:g,className:"\n        group relative\n        bg-white rounded-2xl overflow-hidden\n        border border-gray-200\n        hover:border-brand-dark-green hover:shadow-md\n        transition-all duration-200\n        ".concat(g?"cursor-pointer":"","\n        ").concat(f,"\n      "),children:(0,ct.jsxs)("div",{className:"flex",children:[(0,ct.jsxs)("div",{className:"flex-1 p-4",children:[(0,ct.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-2",children:[(0,ct.jsx)("h3",{className:"text-base font-bold text-brand-black",children:s}),l&&(0,ct.jsx)("span",{className:"flex-shrink-0 px-2 py-1 rounded-lg text-xs font-medium ".concat(b.bgColor," ").concat(b.color),children:b.label})]}),r&&(0,ct.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:r}),(0,ct.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[c&&(0,ct.jsxs)("div",{className:"flex items-center gap-1.5 text-gray-600",children:[(0,ct.jsx)(Ye,{className:"w-4 h-4"}),(0,ct.jsx)("span",{className:"font-medium text-brand-black",children:c.current}),c.max&&(0,ct.jsxs)("span",{className:"text-gray-400",children:["/ ",c.max]})]}),o&&(0,ct.jsxs)("div",{className:"flex items-center gap-1.5 text-gray-600",children:[(0,ct.jsx)(Qs,{className:"w-4 h-4"}),(0,ct.jsx)("span",{children:o})]}),d&&(0,ct.jsxs)("div",{className:"flex items-center gap-1.5 text-brand-neon-green font-semibold",children:[(0,ct.jsx)(qe,{className:"w-4 h-4"}),(0,ct.jsx)("span",{children:d})]})]})]}),x&&(0,ct.jsx)("div",{className:"flex-shrink-0 w-24 bg-gradient-to-br from-brand-dark-green to-brand-muted-green flex items-center justify-center",children:(0,ct.jsxs)("button",{onClick:e=>{e.stopPropagation(),x()},className:"flex flex-col items-center justify-center gap-1 text-white w-full h-full hover:brightness-110 transition-all",children:[(0,ct.jsx)(yt,{className:"w-6 h-6"}),(0,ct.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wide",children:h})]})})]})})};fn.displayName="FeedItem";const bn=e=>{let{title:t,subtitle:s,icon:a,action:r,className:n=""}=e;return(0,ct.jsxs)("div",{className:"flex justify-between items-start gap-4 ".concat(n),children:[(0,ct.jsxs)("div",{className:"flex-1",children:[(0,ct.jsxs)("div",{className:"flex items-center gap-3 mb-1",children:[a&&(0,ct.jsx)(a,{className:"w-8 h-8 text-brand-neon-green flex-shrink-0"}),(0,ct.jsx)("h1",{className:"text-3xl font-bold text-white",children:t})]}),s&&(0,ct.jsx)("p",{className:"text-white/80 mt-2 text-lg",children:s})]}),r&&(0,ct.jsx)("div",{className:"flex-shrink-0",children:r})]})},vn=e=>{let{title:t,subtitle:s,onBack:a,backLabel:r="Back",action:n,className:l=""}=e;return(0,ct.jsxs)("div",{className:"space-y-4 ".concat(l),children:[(0,ct.jsxs)("button",{onClick:a,className:"flex items-center gap-2 text-white/90 hover:text-white transition-colors group",children:[(0,ct.jsx)("svg",{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,ct.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),(0,ct.jsx)("span",{className:"font-medium",children:r})]}),(0,ct.jsxs)("div",{className:"flex justify-between items-start gap-4",children:[(0,ct.jsxs)("div",{className:"flex-1",children:[(0,ct.jsx)("h1",{className:"text-3xl font-bold text-white",children:t}),s&&(0,ct.jsx)("p",{className:"text-white/80 mt-2 text-lg",children:s})]}),n&&(0,ct.jsx)("div",{className:"flex-shrink-0",children:n})]})]})},yn=()=>{const e=Z(),t=[{id:"users",title:"User Management",description:"Track user activity and manage permissions",icon:Ye,route:"/admin/users",features:["User Tracking Dashboard","Permissions Management"]},{id:"clubs",title:"Club Management",description:"Create clubs and configure booking settings",icon:ea,route:"/admin/clubs",features:["Club Creation","Booking Settings"]},{id:"engagement",title:"Engagement",description:"Manage tournaments, leagues, challenges, and events",icon:qe,route:"/admin/engagement",features:["Signups","Tournaments","Challenges","Leagues"]},{id:"feature-testing",title:"Feature Testing",description:"View features ready for testing and upcoming releases",icon:ta,route:"/admin/feature-testing",features:["Ready for Testing","Coming Soon","Beta Features"]}];return(0,ct.jsxs)(la,{children:[(0,ct.jsx)(ia,{icon:(0,ct.jsx)(sa,{className:"w-6 h-6 text-brand-dark-green"}),title:"Admin Dashboard",subtitle:"Manage users, clubs, and engagement across the platform"}),(0,ct.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mt-6",children:t.map(t=>{const s=t.icon;return(0,ct.jsxs)(Pa,{variant:"dark-elevated",padding:"lg",interactive:!0,onClick:()=>e(t.route),children:[(0,ct.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,ct.jsx)("div",{className:"p-3 bg-brand-neon-green/10 rounded-lg",children:(0,ct.jsx)(s,{className:"w-8 h-8 text-brand-neon-green"})})}),(0,ct.jsx)("h3",{className:"text-xl font-bold mb-2",children:t.title}),(0,ct.jsx)("p",{className:"text-white/70 text-sm mb-4",children:t.description}),(0,ct.jsx)("ul",{className:"space-y-2 mb-6",children:t.features.map((e,t)=>(0,ct.jsxs)("li",{className:"text-sm text-white/60 flex items-center",children:[(0,ct.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-brand-neon-green mr-2"}),e]},t))}),(0,ct.jsxs)(pa,{variant:"outline-neon",className:"w-full",onClick:s=>{s.stopPropagation(),e(t.route)},children:["Manage ",t.title.split(" ")[0]]})]},t.id)})})]})},jn=We("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),Nn=We("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),wn=()=>{const e=Z(),t=[{id:"user-tracking",title:"User Activity Dashboard",description:"Monitor user activity, track engagement metrics, and view detailed user analytics.",icon:jn,route:"/user-tracking",features:["Track user login activity","Monitor engagement metrics","View user profiles","Analyze usage patterns"]},{id:"permissions",title:"Permissions Management",description:"Configure user roles, assign permissions, and manage access control.",icon:Nn,route:"/admin/permissions",features:["Assign admin roles","Configure access levels","Manage permissions","Control feature access"]}];return(0,ct.jsxs)(la,{children:[(0,ct.jsxs)("button",{onClick:()=>e("/admin"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors mb-4 group",children:[(0,ct.jsx)(Fs,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"}),(0,ct.jsx)("span",{className:"font-medium",children:"Back to Admin Dashboard"})]}),(0,ct.jsx)(ia,{icon:(0,ct.jsx)(Ye,{className:"w-6 h-6 text-brand-dark-green"}),title:"User Management",subtitle:"Manage user accounts, activity tracking, and permissions"}),(0,ct.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:t.map(t=>{const s=t.icon;return(0,ct.jsxs)(Pa,{variant:"dark-elevated",padding:"lg",interactive:!0,onClick:()=>e(t.route),children:[(0,ct.jsxs)("div",{className:"flex items-start space-x-4 mb-4",children:[(0,ct.jsx)("div",{className:"p-3 bg-brand-neon-green/10 rounded-lg flex-shrink-0",children:(0,ct.jsx)(s,{className:"w-6 h-6 text-brand-neon-green"})}),(0,ct.jsxs)("div",{className:"flex-1",children:[(0,ct.jsx)("h3",{className:"text-lg font-bold mb-2",children:t.title}),(0,ct.jsx)("p",{className:"text-white/70 text-sm",children:t.description})]})]}),(0,ct.jsx)("ul",{className:"space-y-2 mb-6",children:t.features.map((e,t)=>(0,ct.jsxs)("li",{className:"flex items-start space-x-2 text-white/60 text-sm",children:[(0,ct.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-brand-neon-green mt-1.5 flex-shrink-0"}),(0,ct.jsx)("span",{children:e})]},t))}),(0,ct.jsx)(pa,{onClick:s=>{s.stopPropagation(),e(t.route)},variant:"neon",className:"w-full",children:"Open Dashboard"})]},t.id)})})]})},_n=()=>{const e=Z(),t=[{id:"club-creation",title:"Club Creation & Management",description:"Create new golf clubs and configure club settings and membership data.",icon:Ve,route:"/admin/club-management",isNew:!1,features:["Create new golf clubs","Configure club settings","Manage club data","Set up booking systems"]},{id:"booking-settings",title:"Booking Management",description:"Configure simulator booking settings and manage reservation systems.",icon:Nt,route:"/booking-settings",features:["Configure time slots","Set booking rules","Manage simulator availability","View reservations"]}];return(0,ct.jsxs)(la,{children:[(0,ct.jsxs)("button",{onClick:()=>e("/admin"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors mb-4 group",children:[(0,ct.jsx)(Fs,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"}),(0,ct.jsx)("span",{className:"font-medium",children:"Back to Admin Dashboard"})]}),(0,ct.jsx)(ia,{icon:(0,ct.jsx)(ea,{className:"w-6 h-6 text-brand-dark-green"}),title:"Club Management",subtitle:"Create and manage golf clubs and their booking systems"}),(0,ct.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:t.map(t=>{const s=t.icon;return(0,ct.jsxs)(Pa,{variant:"dark-elevated",padding:"lg",interactive:!t.isNew,onClick:()=>!t.isNew&&e(t.route),children:[(0,ct.jsxs)("div",{className:"flex items-start space-x-4 mb-4",children:[(0,ct.jsx)("div",{className:"p-3 bg-brand-neon-green/10 rounded-lg flex-shrink-0",children:(0,ct.jsx)(s,{className:"w-6 h-6 text-brand-neon-green"})}),(0,ct.jsxs)("div",{className:"flex-1",children:[(0,ct.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,ct.jsx)("h3",{className:"text-lg font-bold",children:t.title}),t.isNew&&(0,ct.jsx)(Ua,{variant:"warning",size:"sm",children:"Coming Soon"})]}),(0,ct.jsx)("p",{className:"text-white/70 text-sm",children:t.description})]})]}),(0,ct.jsx)("ul",{className:"space-y-2 mb-6",children:t.features.map((e,t)=>(0,ct.jsxs)("li",{className:"flex items-start space-x-2 text-white/60 text-sm",children:[(0,ct.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-brand-neon-green mt-1.5 flex-shrink-0"}),(0,ct.jsx)("span",{children:e})]},t))}),(0,ct.jsx)(pa,{onClick:s=>{s.stopPropagation(),t.isNew||e(t.route)},variant:t.isNew?"outline":"neon",className:"w-full",disabled:t.isNew,children:t.isNew?"Coming Soon":"Open Dashboard"})]},t.id)})})]})},kn=We("swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]),Sn=()=>{const e=Z(),t=[{id:"signups",title:"Event Signups",description:"Create and manage event signups, track registrations, and organize participants.",icon:Nt,route:"/admin/signups",features:["Create signup forms","Track registrations","Manage participants","Export signup data"]},{id:"tournaments",title:"Tournament Management",description:"Create tournaments, manage brackets, and track competitive events.",icon:qe,route:"/tournament-management",features:["Configure tournaments","Manage brackets","Track scores","Handle registration"]},{id:"challenges",title:"Challenge Creation",description:"Design weekly challenges and manage ongoing competitive challenges.",icon:pt,route:"/challenges/admin",features:["Create challenges","Set rules and scoring","Monitor participation","Award winners"]},{id:"leagues",title:"League Management",description:"Create and manage golf leagues, organize play, and track standings.",icon:kn,route:"/admin/league-management",features:["Configure leagues","Manage schedules","Track standings","Handle registration"]}];return(0,ct.jsxs)(la,{children:[(0,ct.jsxs)("button",{onClick:()=>e("/admin"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors mb-4 group",children:[(0,ct.jsx)(Fs,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"}),(0,ct.jsx)("span",{className:"font-medium",children:"Back to Admin Dashboard"})]}),(0,ct.jsx)(ia,{icon:(0,ct.jsx)(qe,{className:"w-6 h-6 text-brand-dark-green"}),title:"Engagement Management",subtitle:"Create and manage events, tournaments, challenges, and leagues"}),(0,ct.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:t.map(t=>{const s=t.icon;return(0,ct.jsxs)(Pa,{variant:"dark-elevated",padding:"lg",interactive:!0,onClick:()=>e(t.route),children:[(0,ct.jsxs)("div",{className:"flex items-start space-x-4 mb-4",children:[(0,ct.jsx)("div",{className:"p-3 bg-brand-neon-green/10 rounded-lg flex-shrink-0",children:(0,ct.jsx)(s,{className:"w-6 h-6 text-brand-neon-green"})}),(0,ct.jsxs)("div",{className:"flex-1",children:[(0,ct.jsx)("h3",{className:"text-lg font-bold mb-2",children:t.title}),(0,ct.jsx)("p",{className:"text-white/70 text-sm",children:t.description})]})]}),(0,ct.jsx)("ul",{className:"space-y-2 mb-6",children:t.features.map((e,t)=>(0,ct.jsxs)("li",{className:"flex items-start space-x-2 text-white/60 text-sm",children:[(0,ct.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-brand-neon-green mt-1.5 flex-shrink-0"}),(0,ct.jsx)("span",{children:e})]},t))}),(0,ct.jsx)(pa,{onClick:s=>{s.stopPropagation(),e(t.route)},variant:"neon",className:"w-full",children:"Open Dashboard"})]},t.id)})})]})},Cn=We("code",[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]]),An=We("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),En=We("pen-line",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]),Tn=We("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Pn={Admin:sa,Play:pt,Compete:qe,Improve:Ye},Dn={Calendar:Nt,Settings:sa,Trophy:qe,Smartphone:Ft,Users:Ye,Target:pt,Code:Cn},Mn=()=>{const e=Z(),[t,s]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0),[l,i]=(0,a.useState)(!1),[o,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(null),[m,x]=(0,a.useState)({name:"",description:"",status:"coming-soon",category:"Admin",icon:"Settings",route:"",target_date:""});(0,a.useEffect)(()=>{h()},[]);const h=async()=>{try{n(!0);const e=await(0,tt.Adc)();s(e.data)}catch(e){console.error("Error fetching features:",e),_s.error("Failed to load features")}finally{n(!1)}},p=e=>{e?(c(e),x(e)):(c(null),x({name:"",description:"",status:"coming-soon",category:"Admin",icon:"Settings",route:"",target_date:""})),i(!0)},g=()=>{i(!1),c(null)},f=e=>{switch(e){case"admin-testing":return(0,ct.jsx)(Ua,{variant:"warning",size:"sm",children:"Admin Testing"});case"live-beta":return(0,ct.jsx)(Ua,{variant:"success",size:"sm",children:"Live Beta"});case"coming-soon":return(0,ct.jsx)(Ua,{variant:"info",size:"sm",children:"Coming Soon"})}},b=t=>{const s=Pn[t.category]||Dn[t.icon]||Nt;return(0,ct.jsx)(Pa,{variant:"default",padding:"md",className:"hover:shadow-md transition-shadow",children:(0,ct.jsxs)("div",{className:"flex items-start gap-4",children:[(0,ct.jsx)("div",{className:"p-2 bg-brand-dark-green/10 rounded-lg flex-shrink-0",children:(0,ct.jsx)(s,{className:"w-5 h-5 text-brand-dark-green"})}),(0,ct.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ct.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-2",children:[(0,ct.jsxs)("div",{className:"flex-1",children:[(0,ct.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:t.name}),(0,ct.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2",children:t.description})]}),(0,ct.jsx)("div",{className:"flex items-center gap-2 flex-shrink-0",children:f(t.status)})]}),t.target_date&&(0,ct.jsxs)("div",{className:"flex items-center gap-1 mt-3 text-sm text-gray-500",children:[(0,ct.jsx)(Qs,{className:"w-4 h-4"}),(0,ct.jsxs)("span",{children:["Target: ",new Date(t.target_date).toLocaleDateString()]})]}),(0,ct.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,ct.jsx)("div",{children:t.route&&"coming-soon"!==t.status&&(0,ct.jsxs)(pa,{variant:"neon",size:"sm",onClick:()=>e(t.route),children:["Test",(0,ct.jsx)(An,{className:"w-4 h-4 ml-1"})]})}),(0,ct.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ct.jsx)("button",{onClick:()=>p(t),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded transition-colors",title:"Edit",children:(0,ct.jsx)(En,{className:"w-4 h-4"})}),(0,ct.jsx)("button",{onClick:()=>(e=>{u(e)})(t),className:"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded transition-colors",title:"Delete",children:(0,ct.jsx)(Tn,{className:"w-4 h-4"})})]})]})]})]})},t.id)},v=t.filter(e=>"admin-testing"===e.status||"live-beta"===e.status),y=t.filter(e=>"coming-soon"===e.status);return r?(0,ct.jsx)(la,{children:(0,ct.jsx)(mn,{text:"Loading features..."})}):(0,ct.jsxs)(la,{children:[(0,ct.jsxs)("button",{onClick:()=>e("/admin"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors mb-4 group",children:[(0,ct.jsx)(Fs,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"}),(0,ct.jsx)("span",{className:"font-medium",children:"Back to Admin Dashboard"})]}),(0,ct.jsx)(ia,{icon:(0,ct.jsx)(ta,{className:"w-6 h-6 text-brand-dark-green"}),title:"Feature Testing",subtitle:"Track features ready for testing and upcoming releases"}),(0,ct.jsx)("button",{onClick:()=>p(),className:"fixed bottom-8 right-8 w-14 h-14 bg-brand-dark-green hover:bg-brand-dark-green/90 text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-200 flex items-center justify-center z-50",title:"Add Feature",children:(0,ct.jsx)(Gt,{className:"w-6 h-6"})}),(0,ct.jsxs)("div",{className:"mt-8",children:[(0,ct.jsxs)("div",{className:"mb-4",children:[(0,ct.jsxs)("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[(0,ct.jsx)(Ks,{className:"w-5 h-5 text-green-600"}),"Ready for Testing"]}),(0,ct.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Features that are complete and ready for user testing"}),(0,ct.jsx)("div",{className:"mt-2",children:(0,ct.jsxs)(Ua,{variant:"success",size:"sm",children:[v.length," Features"]})})]}),0===v.length?(0,ct.jsxs)(Pa,{variant:"default",padding:"lg",className:"text-center",children:[(0,ct.jsx)("p",{className:"text-gray-500",children:"No features ready for testing yet."}),(0,ct.jsxs)(pa,{variant:"outline",className:"mt-4",onClick:()=>p(),children:[(0,ct.jsx)(Gt,{className:"w-4 h-4 mr-2"}),"Add Your First Feature"]})]}):(0,ct.jsx)("div",{className:"space-y-3",children:v.map(e=>b(e))})]}),(0,ct.jsxs)("div",{className:"mt-10",children:[(0,ct.jsxs)("div",{className:"mb-4",children:[(0,ct.jsxs)("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[(0,ct.jsx)(Qs,{className:"w-5 h-5 text-blue-600"}),"Coming Soon"]}),(0,ct.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Features currently in development with estimated release dates"}),(0,ct.jsx)("div",{className:"mt-2",children:(0,ct.jsxs)(Ua,{variant:"info",size:"sm",children:[y.length," Features"]})})]}),0===y.length?(0,ct.jsx)(Pa,{variant:"default",padding:"lg",className:"text-center",children:(0,ct.jsx)("p",{className:"text-gray-500",children:"No upcoming features planned."})}):(0,ct.jsx)("div",{className:"space-y-3",children:y.map(e=>b(e))})]}),(0,ct.jsxs)(Mr,{open:l,onClose:g,size:"lg",children:[(0,ct.jsx)(Rr,{children:o?"Edit Feature":"Add New Feature"}),(0,ct.jsx)(Lr,{children:(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Feature Name *"}),(0,ct.jsx)(vr,{value:m.name,onChange:e=>x((0,Re.A)((0,Re.A)({},m),{},{name:e.target.value})),placeholder:"Enter feature name"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),(0,ct.jsx)(yr,{value:m.description,onChange:e=>x((0,Re.A)((0,Re.A)({},m),{},{description:e.target.value})),placeholder:"Describe the feature",rows:3})]}),(0,ct.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status *"}),(0,ct.jsx)(jr,{value:m.status,onChange:e=>x((0,Re.A)((0,Re.A)({},m),{},{status:e.target.value})),options:[{value:"admin-testing",label:"Admin Testing"},{value:"live-beta",label:"Live Beta"},{value:"coming-soon",label:"Coming Soon"}]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),(0,ct.jsx)(jr,{value:m.category,onChange:e=>x((0,Re.A)((0,Re.A)({},m),{},{category:e.target.value})),options:[{value:"Admin",label:"Admin"},{value:"Play",label:"Play"},{value:"Compete",label:"Compete"},{value:"Improve",label:"Improve"}]})]})]}),("admin-testing"===m.status||"live-beta"===m.status)&&(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Route *"}),(0,ct.jsx)(vr,{value:m.route,onChange:e=>x((0,Re.A)((0,Re.A)({},m),{},{route:e.target.value})),placeholder:"e.g., /admin/users"}),(0,ct.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"The app route where users can access this feature"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Target Date"}),(0,ct.jsx)(vr,{type:"date",value:m.target_date,onChange:e=>x((0,Re.A)((0,Re.A)({},m),{},{target_date:e.target.value}))})]})]})}),(0,ct.jsxs)(Fr,{children:[(0,ct.jsx)(pa,{variant:"outline",onClick:g,children:"Cancel"}),(0,ct.jsx)(pa,{variant:"neon",onClick:async()=>{var e;if(!m.name||!m.description||!m.category)return void _s.error("Please fill in all required fields");if(("admin-testing"===m.status||"live-beta"===m.status)&&!m.route)return void _s.error("Route is required for Admin Testing and Live Beta features");const a=(null===(e=Pn[m.category||"Admin"])||void 0===e?void 0:e.name)||"Settings",r=(0,Re.A)((0,Re.A)({},m),{},{icon:a});try{if(o){const e=await(0,tt.KZp)(o.id,r);s(t.map(t=>t.id===o.id?e.data:t)),_s.success("Feature updated successfully")}else{const e=await(0,tt.dIH)(r);s([...t,e.data]),_s.success("Feature created successfully")}g()}catch(n){console.error("Error saving feature:",n),_s.error("Failed to save feature")}},children:o?"Save Changes":"Add Feature"})]})]}),(0,ct.jsx)(Ir,{open:!!d,onClose:()=>u(null),onConfirm:async()=>{if(d)try{await(0,tt.gZ3)(d.id),s(t.filter(e=>e.id!==d.id)),u(null),_s.success("Feature deleted successfully")}catch(e){console.error("Error deleting feature:",e),_s.error("Failed to delete feature")}},title:"Delete Feature",message:'Are you sure you want to delete "'.concat(null===d||void 0===d?void 0:d.name,'"? This action cannot be undone.'),variant:"danger",confirmText:"Delete",cancelText:"Cancel"})]})},Rn=We("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),Ln=e=>{let{tournamentId:t,isLeague:s,onSettingsChange:r,initialSettings:n}=e;const[l,i]=(0,a.useState)({name:(null===n||void 0===n?void 0:n.name)||"Weekly Golf League",description:(null===n||void 0===n?void 0:n.description)||"",season_start_date:(null===n||void 0===n?void 0:n.season_start_date)||"",season_end_date:(null===n||void 0===n?void 0:n.season_end_date)||"",auto_progression:(null===n||void 0===n?void 0:n.auto_progression)||!1,min_matches_per_week:(null===n||void 0===n?void 0:n.min_matches_per_week)||3,max_matches_per_week:(null===n||void 0===n?void 0:n.max_matches_per_week)||5,live_match_bonus:(null===n||void 0===n?void 0:n.live_match_bonus)||1,tie_break_rules:(null===n||void 0===n?void 0:n.tie_break_rules)||"total_points",max_participants:(null===n||void 0===n?void 0:n.max_participants)||50,min_participants:(null===n||void 0===n?void 0:n.min_participants)||8,registration_open:(null===n||void 0===n?void 0:n.registration_open)||!0,week_start_day:(null===n||void 0===n?void 0:n.week_start_day)||"monday",scoring_deadline_hours:(null===n||void 0===n?void 0:n.scoring_deadline_hours)||72,playoff_enabled:(null===n||void 0===n?void 0:n.playoff_enabled)||!1,playoff_weeks:(null===n||void 0===n?void 0:n.playoff_weeks)||2,drop_worst_weeks:(null===n||void 0===n?void 0:n.drop_worst_weeks)||0});(0,a.useEffect)(()=>{r(l)},[l,r]);const o=(e,t)=>{i(s=>(0,Re.A)((0,Re.A)({},s),{},{[e]:t}))};return s?(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-2 mb-6",children:[(0,ct.jsx)(qe,{className:"w-6 h-6 text-brand-neon-green"}),(0,ct.jsx)("h3",{className:"text-xl font-semibold text-brand-black",children:"League Configuration"})]}),(0,ct.jsxs)("div",{className:"bg-neutral-50 rounded-xl p-6",children:[(0,ct.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ct.jsx)(Nt,{className:"w-5 h-5 text-brand-neon-green mr-2"}),(0,ct.jsx)("h4",{className:"text-lg font-semibold text-brand-black",children:"Season Configuration"})]}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Season Start Date *"}),(0,ct.jsx)("input",{type:"date",value:l.season_start_date,onChange:e=>o("season_start_date",e.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",required:!0})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Season End Date *"}),(0,ct.jsx)("input",{type:"date",value:l.season_end_date,onChange:e=>o("season_end_date",e.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",required:!0})]})]}),(0,ct.jsxs)("div",{className:"mt-4",children:[(0,ct.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,ct.jsx)("input",{type:"checkbox",checked:l.auto_progression,onChange:e=>o("auto_progression",e.target.checked),className:"w-4 h-4 text-brand-neon-green border-neutral-300 rounded focus:ring-brand-neon-green focus:ring-2"}),(0,ct.jsx)("span",{className:"text-sm font-medium text-neutral-600",children:"Enable automatic week progression"})]}),(0,ct.jsx)("p",{className:"text-xs text-neutral-500 mt-1",children:"Automatically create new tournament weeks and advance the league"})]})]}),(0,ct.jsxs)("div",{className:"bg-neutral-50 rounded-xl p-6",children:[(0,ct.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ct.jsx)(St,{className:"w-5 h-5 text-brand-neon-green mr-2"}),(0,ct.jsx)("h4",{className:"text-lg font-semibold text-brand-black",children:"Scoring Configuration"})]}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Min Matches Per Week"}),(0,ct.jsx)("input",{type:"number",min:"1",max:"10",value:l.min_matches_per_week,onChange:e=>o("min_matches_per_week",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Max Matches Per Week"}),(0,ct.jsx)("input",{type:"number",min:"1",max:"10",value:l.max_matches_per_week,onChange:e=>o("max_matches_per_week",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Live Match Bonus Points"}),(0,ct.jsx)("input",{type:"number",min:"0",max:"5",step:"0.5",value:l.live_match_bonus,onChange:e=>o("live_match_bonus",parseFloat(e.target.value)),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Tie Break Rules"}),(0,ct.jsxs)("select",{value:l.tie_break_rules,onChange:e=>o("tie_break_rules",e.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,ct.jsx)("option",{value:"total_points",children:"Total Points"}),(0,ct.jsx)("option",{value:"head_to_head",children:"Head to Head Record"}),(0,ct.jsx)("option",{value:"lowest_total_score",children:"Lowest Total Score"}),(0,ct.jsx)("option",{value:"most_wins",children:"Most Wins"})]})]})]})]}),(0,ct.jsxs)("div",{className:"bg-neutral-50 rounded-xl p-6",children:[(0,ct.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ct.jsx)(Qs,{className:"w-5 h-5 text-brand-neon-green mr-2"}),(0,ct.jsx)("h4",{className:"text-lg font-semibold text-brand-black",children:"Week Configuration"})]}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Week Start Day"}),(0,ct.jsxs)("select",{value:l.week_start_day,onChange:e=>o("week_start_day",e.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,ct.jsx)("option",{value:"monday",children:"Monday"}),(0,ct.jsx)("option",{value:"tuesday",children:"Tuesday"}),(0,ct.jsx)("option",{value:"wednesday",children:"Wednesday"}),(0,ct.jsx)("option",{value:"thursday",children:"Thursday"}),(0,ct.jsx)("option",{value:"friday",children:"Friday"}),(0,ct.jsx)("option",{value:"saturday",children:"Saturday"}),(0,ct.jsx)("option",{value:"sunday",children:"Sunday"})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Scoring Deadline (hours after week ends)"}),(0,ct.jsx)("input",{type:"number",min:"24",max:"168",value:l.scoring_deadline_hours,onChange:e=>o("scoring_deadline_hours",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"})]})]})]}),(0,ct.jsxs)("div",{className:"bg-neutral-50 rounded-xl p-6",children:[(0,ct.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ct.jsx)(sa,{className:"w-5 h-5 text-brand-neon-green mr-2"}),(0,ct.jsx)("h4",{className:"text-lg font-semibold text-brand-black",children:"Advanced Settings"})]}),(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsx)("div",{children:(0,ct.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,ct.jsx)("input",{type:"checkbox",checked:l.playoff_enabled,onChange:e=>o("playoff_enabled",e.target.checked),className:"w-4 h-4 text-brand-neon-green border-neutral-300 rounded focus:ring-brand-neon-green focus:ring-2"}),(0,ct.jsx)("span",{className:"text-sm font-medium text-neutral-600",children:"Enable playoffs at end of season"})]})}),l.playoff_enabled&&(0,ct.jsxs)("div",{className:"ml-6",children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Number of Playoff Weeks"}),(0,ct.jsx)("input",{type:"number",min:"1",max:"4",value:l.playoff_weeks,onChange:e=>o("playoff_weeks",parseInt(e.target.value)),className:"w-24 px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Drop Worst Weeks"}),(0,ct.jsx)("input",{type:"number",min:"0",max:"4",value:l.drop_worst_weeks,onChange:e=>o("drop_worst_weeks",parseInt(e.target.value)),className:"w-24 px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"}),(0,ct.jsx)("p",{className:"text-xs text-neutral-500 mt-1",children:"Number of worst scoring weeks to exclude from final standings"})]})]})]})]}):null},Fn=e=>{var t,s,r,n,l,i,o,c,d,u,m,x,h,p,g,f,b,v,y,j,N,w,_;let{mode:k,tournament:S,onSuccess:C,onCancel:A,currentUser:E}=e;const T=e=>{if(!e)return"";return new Date(e).toISOString().split("T")[0]},[P,D]=(0,a.useState)(!1),[M,R]=(0,a.useState)({name:(null===S||void 0===S?void 0:S.name)||"",description:(null===S||void 0===S?void 0:S.description)||"",start_date:T(null===S||void 0===S?void 0:S.start_date),end_date:T(null===S||void 0===S?void 0:S.end_date),registration_deadline:T(null===S||void 0===S?void 0:S.registration_deadline),max_participants:(null===S||void 0===S||null===(t=S.max_participants)||void 0===t?void 0:t.toString())||"",min_participants:(null===S||void 0===S||null===(s=S.min_participants)||void 0===s?void 0:s.toString())||"2",tournament_format:(null===S||void 0===S?void 0:S.tournament_format)||"match_play",status:(null===S||void 0===S?void 0:S.status)||"draft",registration_open:null===(r=null===S||void 0===S?void 0:S.registration_open)||void 0===r||r,entry_fee:(null===S||void 0===S||null===(n=S.entry_fee)||void 0===n?void 0:n.toString())||"0",location:(null===S||void 0===S?void 0:S.location)||"",course:(null===S||void 0===S?void 0:S.course)||"",course_id:(null===S||void 0===S?void 0:S.course_id)||"",gspro_course:(null===S||void 0===S?void 0:S.gspro_course)||"",gspro_course_id:(null===S||void 0===S?void 0:S.gspro_course_id)||"",trackman_course:(null===S||void 0===S?void 0:S.trackman_course)||"",trackman_course_id:(null===S||void 0===S?void 0:S.trackman_course_id)||"",rules:(null===S||void 0===S?void 0:S.rules)||"",notes:(null===S||void 0===S?void 0:S.notes)||"",type:(null===S||void 0===S?void 0:S.type)||"tournament",club_restriction:(null===S||void 0===S?void 0:S.club_restriction)||"open",team_size:(null===S||void 0===S||null===(l=S.team_size)||void 0===l?void 0:l.toString())||"4",hole_configuration:(null===S||void 0===S||null===(i=S.hole_configuration)||void 0===i?void 0:i.toString())||"18",payment_organizer:(null===S||void 0===S?void 0:S.payment_organizer)||"",payment_organizer_name:(null===S||void 0===S?void 0:S.payment_organizer_name)||"",payment_venmo_url:(null===S||void 0===S?void 0:S.payment_venmo_url)||"",tee:(null===S||void 0===S?void 0:S.tee)||"Red",pins:(null===S||void 0===S?void 0:S.pins)||"Friday",putting_gimme:(null===S||void 0===S?void 0:S.putting_gimme)||"8",elevation:(null===S||void 0===S?void 0:S.elevation)||"Course",stimp:(null===S||void 0===S?void 0:S.stimp)||"11",mulligan:(null===S||void 0===S?void 0:S.mulligan)||"No",game_play:(null===S||void 0===S?void 0:S.game_play)||"Force Realistic",firmness:(null===S||void 0===S?void 0:S.firmness)||"Normal",wind:(null===S||void 0===S?void 0:S.wind)||"None",handicap_enabled:(null===S||void 0===S?void 0:S.handicap_enabled)||!1,has_registration_form:(null===S||void 0===S?void 0:S.has_registration_form)||!1,registration_form_template:(null===S||void 0===S?void 0:S.registration_form_template)||"",registration_form_data:(null===S||void 0===S?void 0:S.registration_form_data)||null,tournament_series:(null===S||void 0===S?void 0:S.tournament_series)||"regular",is_club_championship:(null===S||void 0===S?void 0:S.is_club_championship)||!1,is_national_tournament:(null===S||void 0===S?void 0:S.is_national_tournament)||!1,championship_round:(null===S||void 0===S?void 0:S.championship_round)||1,championship_club:(null===S||void 0===S?void 0:S.championship_club)||"",parent_tournament_id:(null===S||void 0===S?void 0:S.parent_tournament_id)||"",championship_type:(null===S||void 0===S?void 0:S.championship_type)||"single_club",participating_clubs:(null===S||void 0===S?void 0:S.participating_clubs)||"",min_club_participants:(null===S||void 0===S?void 0:S.min_club_participants)||"4",auto_group_clubs:(null===S||void 0===S?void 0:S.auto_group_clubs)||!1,auto_seed_champions:(null===S||void 0===S?void 0:S.auto_seed_champions)||!1}),[L,F]=(0,a.useState)([]),[O,I]=(0,a.useState)(""),[z,B]=(0,a.useState)(!1),[U,H]=(0,a.useState)([]),[W,q]=(0,a.useState)(null),[V,G]=(0,a.useState)(!1),[Y,$]=(0,a.useState)([]),[Q,K]=(0,a.useState)([]),[J,X]=(0,a.useState)(""),[Z,ee]=(0,a.useState)(""),[te,se]=(0,a.useState)(!1),[ae,re]=(0,a.useState)(!1),[ne,le]=(0,a.useState)([]),[ie,oe]=(0,a.useState)([]),[ce,de]=(0,a.useState)(null),[ue,me]=(0,a.useState)(null),[xe,he]=(0,a.useState)(!1),[pe,ge]=(0,a.useState)(!1),[fe,be]=(0,a.useState)([]),[ve,ye]=(0,a.useState)([]),[je,Ne]=(0,a.useState)(""),[we,_e]=(0,a.useState)(!1),[ke,Se]=(0,a.useState)([]),[Ce,Ae]=(0,a.useState)([]),[Ee,Te]=(0,a.useState)(!1),[Pe,De]=(0,a.useState)({name:(null===S||void 0===S||null===(o=S.league_config)||void 0===o?void 0:o.name)||"Weekly Golf League",description:(null===S||void 0===S||null===(c=S.league_config)||void 0===c?void 0:c.description)||"",season_start_date:(null===S||void 0===S||null===(d=S.league_config)||void 0===d?void 0:d.season_start_date)||"",season_end_date:(null===S||void 0===S||null===(u=S.league_config)||void 0===u?void 0:u.season_end_date)||"",auto_progression:(null===S||void 0===S||null===(m=S.league_config)||void 0===m?void 0:m.auto_progression)||!1,min_matches_per_week:(null===S||void 0===S||null===(x=S.league_config)||void 0===x?void 0:x.min_matches_per_week)||3,max_matches_per_week:(null===S||void 0===S||null===(h=S.league_config)||void 0===h?void 0:h.max_matches_per_week)||5,live_match_bonus:(null===S||void 0===S||null===(p=S.league_config)||void 0===p?void 0:p.live_match_bonus)||1,tie_break_rules:(null===S||void 0===S||null===(g=S.league_config)||void 0===g?void 0:g.tie_break_rules)||"total_points",max_participants:(null===S||void 0===S||null===(f=S.league_config)||void 0===f?void 0:f.max_participants)||50,min_participants:(null===S||void 0===S||null===(b=S.league_config)||void 0===b?void 0:b.min_participants)||8,registration_open:(null===S||void 0===S||null===(v=S.league_config)||void 0===v?void 0:v.registration_open)||!0,week_start_day:(null===S||void 0===S||null===(y=S.league_config)||void 0===y?void 0:y.week_start_day)||"monday",scoring_deadline_hours:(null===S||void 0===S||null===(j=S.league_config)||void 0===j?void 0:j.scoring_deadline_hours)||72,playoff_enabled:(null===S||void 0===S||null===(N=S.league_config)||void 0===N?void 0:N.playoff_enabled)||!1,playoff_weeks:(null===S||void 0===S||null===(w=S.league_config)||void 0===w?void 0:w.playoff_weeks)||2,drop_worst_weeks:(null===S||void 0===S||null===(_=S.league_config)||void 0===_?void 0:_.drop_worst_weeks)||0});(0,a.useEffect)(()=>{(async()=>{try{G(!0);const e=await(0,tt.B9o)(void 0,void 0,1e4);F(e.data.courses||[])}catch(e){console.error("Error fetching simulator courses:",e)}finally{G(!1)}})(),(async()=>{try{const e=await(0,tt.pzJ)();be(e.data||[]),Se(e.data||[])}catch(e){console.error("Error fetching clubs:",e),_s.error("Failed to load clubs")}})(),(async()=>{try{Te(!0);const e=await(0,tt.ebi)();Ae(e.data)}catch(e){console.error("Error fetching registration templates:",e),_s.error("Failed to load registration templates")}finally{Te(!1)}})()},[]),(0,a.useEffect)(()=>{(async()=>{try{he(!0);const e=await(0,tt.B9o)(void 0,"gspro",1e4);$(e.data.courses||[]),he(!1),ge(!0);const t=await(0,tt.B9o)(void 0,"trackman",1e4);K(t.data.courses||[]),ge(!1)}catch(e){console.error("Error fetching platform courses:",e),he(!1),ge(!1)}})()},[]),(0,a.useEffect)(()=>{if("edit"===k&&null!==S&&void 0!==S&&S.course_id&&L.length>0){const e=L.find(e=>e.id===S.course_id);e&&(q(e),I(e.name))}},[k,S,L]),(0,a.useEffect)(()=>{if("edit"===k&&null!==S&&void 0!==S&&S.gspro_course_id&&Y.length>0){console.log("Initializing GSPro course:",{tournament:S.gspro_course_id,gsproCourses:Y.length});const e=Y.find(e=>e.id===S.gspro_course_id);e?(console.log("Found GSPro course:",e),de(e),X(e.name)):console.log("GSPro course not found in available courses")}},[k,S,Y]),(0,a.useEffect)(()=>{if("edit"===k&&null!==S&&void 0!==S&&S.trackman_course_id&&Q.length>0){console.log("Initializing Trackman course:",{tournament:S.trackman_course_id,trackmanCourses:Q.length});const e=Q.find(e=>e.id===S.trackman_course_id);e?(console.log("Found Trackman course:",e),me(e),ee(e.name)):console.log("Trackman course not found in available courses")}},[k,S,Q]),(0,a.useEffect)(()=>{if(O.trim()){const e=L.filter(e=>e.name.toLowerCase().includes(O.toLowerCase())||e.location&&e.location.toLowerCase().includes(O.toLowerCase())||e.designer&&e.designer.toLowerCase().includes(O.toLowerCase())).slice(0,10);H(e)}else H([])},[O,L]),(0,a.useEffect)(()=>{if(J.trim()){const e=Y.filter(e=>e.name.toLowerCase().includes(J.toLowerCase())||e.location&&e.location.toLowerCase().includes(J.toLowerCase())||e.designer&&e.designer.toLowerCase().includes(J.toLowerCase())).slice(0,10);le(e)}else le([])},[J,Y]),(0,a.useEffect)(()=>{if(Z.trim()){const e=Q.filter(e=>e.name.toLowerCase().includes(Z.toLowerCase())||e.location&&e.location.toLowerCase().includes(Z.toLowerCase())||e.designer&&e.designer.toLowerCase().includes(Z.toLowerCase())).slice(0,10);oe(e)}else oe([])},[Z,Q]),(0,a.useEffect)(()=>{if(je.trim()){const e=fe.filter(e=>e.toLowerCase().includes(je.toLowerCase()));Se(e)}else Se(fe)},[je,fe]),(0,a.useEffect)(()=>{const e=e=>{const t=e.target;t.closest(".course-dropdown-container")||B(!1),t.closest(".gspro-dropdown-container")||se(!1),t.closest(".trackman-dropdown-container")||re(!1),t.closest(".club-dropdown-container")||_e(!1)};return(z||te||ae||we)&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[z,te,ae,we]),(0,a.useEffect)(()=>{if(M.participating_clubs){const e=M.participating_clubs.split(",").map(e=>e.trim()).filter(e=>e.length>0);ye(e)}},[M.participating_clubs]);const Me=e=>{ye(t=>{const s=t.includes(e)?t.filter(t=>t!==e):[...t,e];return R(e=>(0,Re.A)((0,Re.A)({},e),{},{participating_clubs:s.join(", ")})),s})},Le=()=>{de(null),X(""),R(e=>(0,Re.A)((0,Re.A)({},e),{},{gspro_course:"",gspro_course_id:""})),se(!1)},Fe=()=>{me(null),ee(""),R(e=>(0,Re.A)((0,Re.A)({},e),{},{trackman_course:"",trackman_course_id:""})),re(!1)};return(0,ct.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,ct.jsxs)("div",{className:"bg-white rounded-2xl p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,ct.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ct.jsx)("h3",{className:"text-2xl font-bold text-brand-black",children:"create"===k?"Create New Tournament":"Edit Tournament"}),(0,ct.jsx)("button",{onClick:A,className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:(0,ct.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ct.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,ct.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),D(!0);try{const e={name:M.name,description:M.description,start_date:M.start_date||void 0,end_date:M.end_date||void 0,registration_deadline:M.registration_deadline||void 0,max_participants:M.max_participants?parseInt(M.max_participants):void 0,min_participants:parseInt(M.min_participants),tournament_format:M.tournament_format,status:M.status,registration_open:M.registration_open,entry_fee:parseFloat(M.entry_fee),course:W?W.name:M.course||void 0,course_id:M.course_id?parseInt(M.course_id):void 0,gspro_course:ce?ce.name:M.gspro_course||void 0,gspro_course_id:M.gspro_course_id?parseInt(M.gspro_course_id):void 0,trackman_course:ue?ue.name:M.trackman_course||void 0,trackman_course_id:M.trackman_course_id?parseInt(M.trackman_course_id):void 0,rules:M.rules,notes:M.notes,type:M.type,club_restriction:M.club_restriction,team_size:M.team_size?parseInt(M.team_size):void 0,hole_configuration:M.hole_configuration,payment_organizer:M.payment_organizer||void 0,payment_organizer_name:M.payment_organizer_name||void 0,payment_venmo_url:M.payment_venmo_url||void 0,tee:M.tee,pins:M.pins,putting_gimme:M.putting_gimme,elevation:M.elevation,stimp:M.stimp,mulligan:M.mulligan,game_play:M.game_play,firmness:M.firmness,wind:M.wind,handicap_enabled:M.handicap_enabled,has_registration_form:M.has_registration_form,registration_form_template:M.registration_form_template,registration_form_data:M.registration_form_data,tournament_series:M.tournament_series,is_club_championship:M.is_club_championship,is_national_tournament:M.is_national_tournament,championship_round:M.championship_round,championship_club:M.championship_club||void 0,parent_tournament_id:M.parent_tournament_id?parseInt(M.parent_tournament_id):void 0,championship_type:M.championship_type,participating_clubs:M.participating_clubs||void 0,min_club_participants:M.min_club_participants?parseInt(M.min_club_participants):void 0,auto_group_clubs:M.auto_group_clubs,auto_seed_champions:M.auto_seed_champions,league_config:"league"===M.type?Pe:void 0,created_by:null===E||void 0===E?void 0:E.member_id};console.log("Tournament data being saved:",e),"create"===k?(await(0,tt.UGj)(e),_s.success("Tournament created successfully!")):(await(0,tt.PcF)(S.id,e),_s.success("Tournament updated successfully!")),C()}catch(t){console.error("Error ".concat("create"===k?"creating":"updating"," tournament:"),t),_s.error("Failed to ".concat("create"===k?"create":"update"," tournament. Please try again."))}finally{D(!1)}},className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"bg-neutral-50 rounded-xl p-6",children:[(0,ct.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ct.jsx)(qe,{className:"w-5 h-5 text-brand-neon-green mr-2"}),(0,ct.jsx)("h4",{className:"text-lg font-semibold text-brand-black",children:"Basic Information"})]}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Tournament Name *"}),(0,ct.jsx)("input",{type:"text",value:M.name,onChange:e=>R((0,Re.A)((0,Re.A)({},M),{},{name:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",required:!0,placeholder:"e.g., Spring Championship 2024"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Type"}),(0,ct.jsxs)("select",{value:M.type||"tournament",onChange:e=>{return t=e.target.value,void R(e=>(0,Re.A)((0,Re.A)({},e),{},{type:t,tournament_series:"club_championship"===t?"club_championship":"national_championship"===t?"national_championship":"regular",is_club_championship:"club_championship"===t,is_national_tournament:"national_championship"===t,tournament_format:"club_championship"===t||"national_championship"===t?"match_play":e.tournament_format}));var t},className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,ct.jsx)("option",{value:"tournament",children:"Regular Tournament"}),(0,ct.jsx)("option",{value:"league",children:"League"}),(0,ct.jsx)("option",{value:"club_championship",children:"Club Championship"}),(0,ct.jsx)("option",{value:"national_championship",children:"National Championship"})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Status"}),(0,ct.jsxs)("select",{value:M.status,onChange:e=>R((0,Re.A)((0,Re.A)({},M),{},{status:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,ct.jsx)("option",{value:"draft",children:"Draft"}),(0,ct.jsx)("option",{value:"open",children:"Open for Registration"}),(0,ct.jsx)("option",{value:"closed",children:"Registration Closed"}),(0,ct.jsx)("option",{value:"active",children:"Active"}),(0,ct.jsx)("option",{value:"completed",children:"Completed"}),(0,ct.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Tournament Format"}),(0,ct.jsxs)("select",{value:M.tournament_format,onChange:e=>R((0,Re.A)((0,Re.A)({},M),{},{tournament_format:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,ct.jsx)("option",{value:"match_play",children:"Match Play"}),(0,ct.jsx)("option",{value:"par3_match_play",children:"3 Hole Matchplay"}),(0,ct.jsx)("option",{value:"stroke_play",children:"Stroke Play"}),(0,ct.jsx)("option",{value:"scramble",children:"Scramble"}),(0,ct.jsx)("option",{value:"best_ball",children:"Best Ball"}),(0,ct.jsx)("option",{value:"stableford",children:"Stableford"})]})]})]})]}),("club_championship"===M.type||"national_championship"===M.type)&&(0,ct.jsxs)("div",{className:"bg-blue-50 rounded-xl p-6",children:[(0,ct.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ct.jsx)(qe,{className:"w-5 h-5 text-blue-600 mr-2"}),(0,ct.jsx)("h4",{className:"text-lg font-semibold text-blue-900",children:"Championship Configuration"})]}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:["club_championship"===M.type&&(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Championship Type"}),(0,ct.jsxs)("select",{value:M.championship_type||"single_club",onChange:e=>R((0,Re.A)((0,Re.A)({},M),{},{championship_type:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,ct.jsx)("option",{value:"single_club",children:"Single Club Championship"}),(0,ct.jsx)("option",{value:"multi_club",children:"Multi-Club Championship (Combined)"}),(0,ct.jsx)("option",{value:"regional",children:"Regional Championship"})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Participating Clubs"}),(0,ct.jsxs)("div",{className:"relative club-dropdown-container",children:[(0,ct.jsx)("input",{type:"text",value:je,onChange:e=>{Ne(e.target.value),_e(!0)},onFocus:()=>_e(!0),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",placeholder:"Search and select clubs..."}),we&&(0,ct.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-white border border-neutral-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:ke.length>0?ke.map(e=>(0,ct.jsxs)("div",{className:"px-3 py-2 hover:bg-neutral-50 cursor-pointer flex items-center",onClick:()=>Me(e),children:[(0,ct.jsx)("input",{type:"checkbox",checked:ve.includes(e),onChange:()=>Me(e),className:"mr-2"}),(0,ct.jsx)("span",{className:"text-sm",children:e})]},e)):(0,ct.jsx)("div",{className:"px-3 py-2 text-neutral-500 text-sm",children:"No clubs found"})})]}),ve.length>0&&(0,ct.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:ve.map(e=>(0,ct.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-brand-neon-green text-brand-black",children:[e,(0,ct.jsx)("button",{type:"button",onClick:()=>Me(e),className:"ml-1 hover:text-red-600",children:"\xd7"})]},e))})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Minimum Participants per Club"}),(0,ct.jsx)("input",{type:"number",min:"1",value:M.min_club_participants||"4",onChange:e=>R((0,Re.A)((0,Re.A)({},M),{},{min_club_participants:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Auto-Group Small Clubs"}),(0,ct.jsxs)("div",{className:"flex items-center mt-2",children:[(0,ct.jsx)("input",{type:"checkbox",id:"auto_group_clubs",checked:M.auto_group_clubs||!1,onChange:e=>R((0,Re.A)((0,Re.A)({},M),{},{auto_group_clubs:e.target.checked})),className:"w-4 h-4 text-brand-neon-green border-neutral-300 rounded focus:ring-brand-neon-green focus:ring-2"}),(0,ct.jsx)("label",{htmlFor:"auto_group_clubs",className:"ml-2 text-sm text-neutral-600",children:"Automatically combine small clubs"})]})]})]}),"national_championship"===M.type&&(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Parent Championship ID"}),(0,ct.jsx)("input",{type:"number",value:M.parent_tournament_id,onChange:e=>R((0,Re.A)((0,Re.A)({},M),{},{parent_tournament_id:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",placeholder:"ID of the main championship tournament"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Auto-Seed from Club Champions"}),(0,ct.jsxs)("div",{className:"flex items-center mt-2",children:[(0,ct.jsx)("input",{type:"checkbox",id:"auto_seed_champions",checked:M.auto_seed_champions||!1,onChange:e=>R((0,Re.A)((0,Re.A)({},M),{},{auto_seed_champions:e.target.checked})),className:"w-4 h-4 text-brand-neon-green border-neutral-300 rounded focus:ring-brand-neon-green focus:ring-2"}),(0,ct.jsx)("label",{htmlFor:"auto_seed_champions",className:"ml-2 text-sm text-neutral-600",children:"Automatically seed club champions"})]})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Championship Round"}),(0,ct.jsxs)("select",{value:M.championship_round,onChange:e=>R((0,Re.A)((0,Re.A)({},M),{},{championship_round:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,ct.jsx)("option",{value:1,children:"Round 1"}),(0,ct.jsx)("option",{value:2,children:"Round 2"}),(0,ct.jsx)("option",{value:3,children:"Round 3"}),(0,ct.jsx)("option",{value:4,children:"Round 4"}),(0,ct.jsx)("option",{value:5,children:"Round 5"})]})]})]}),(0,ct.jsx)("div",{className:"mt-4 p-3 bg-blue-100 rounded-lg",children:(0,ct.jsx)("p",{className:"text-sm text-blue-800",children:"club_championship"===M.type?"Club Championship: 3 match play matches per club group. Players are grouped by club, with small clubs combined automatically. Winner advances to National Championship.":"National Championship: Single-elimination tournament for club champions. Automatically seeded from completed club championships."})})]}),(0,ct.jsx)(Ln,{tournamentId:null===S||void 0===S?void 0:S.id,isLeague:"league"===M.type,onSettingsChange:De,initialSettings:Pe}),(0,ct.jsxs)("div",{className:"bg-neutral-50 rounded-xl p-6",children:[(0,ct.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ct.jsx)(qe,{className:"w-5 h-5 text-brand-neon-green mr-2"}),(0,ct.jsx)("h4",{className:"text-lg font-semibold text-brand-black",children:"Dates & Registration"})]}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Start Date"}),(0,ct.jsx)("input",{type:"date",value:M.start_date,onChange:e=>R((0,Re.A)((0,Re.A)({},M),{},{start_date:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"End Date"}),(0,ct.jsx)("input",{type:"date",value:M.end_date,onChange:e=>R((0,Re.A)((0,Re.A)({},M),{},{end_date:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Registration Deadline"}),(0,ct.jsx)("input",{type:"date",value:M.registration_deadline,onChange:e=>R((0,Re.A)((0,Re.A)({},M),{},{registration_deadline:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"})]})]})]}),(0,ct.jsxs)("div",{className:"bg-neutral-50 rounded-xl p-6",children:[(0,ct.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ct.jsx)(Ye,{className:"w-5 h-5 text-brand-neon-green mr-2"}),(0,ct.jsx)("h4",{className:"text-lg font-semibold text-brand-black",children:"Participants & Fees"})]}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Min Participants"}),(0,ct.jsx)("input",{type:"number",min:"2",value:M.min_participants,onChange:e=>R((0,Re.A)((0,Re.A)({},M),{},{min_participants:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Max Participants"}),(0,ct.jsx)("input",{type:"number",min:"2",value:M.max_participants,onChange:e=>R((0,Re.A)((0,Re.A)({},M),{},{max_participants:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",placeholder:"No limit"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Entry Fee ($)"}),(0,ct.jsx)("input",{type:"number",min:"0",step:"0.01",value:M.entry_fee,onChange:e=>R((0,Re.A)((0,Re.A)({},M),{},{entry_fee:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"})]})]}),parseFloat(M.entry_fee)>0&&(0,ct.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Payment Organizer"}),(0,ct.jsxs)("select",{value:M.payment_organizer,onChange:e=>R((0,Re.A)((0,Re.A)({},M),{},{payment_organizer:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,ct.jsx)("option",{value:"",children:"Select payment organizer..."}),(0,ct.jsx)("option",{value:"jeff",children:"Jeff Testa (Neighborhood National)"}),(0,ct.jsx)("option",{value:"adam",children:"Adam Christopher (No. 10)"}),(0,ct.jsx)("option",{value:"other",children:"Other (Custom)"})]})]}),"other"===M.payment_organizer&&(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Organizer Name *"}),(0,ct.jsx)("input",{type:"text",value:M.payment_organizer_name,onChange:e=>R((0,Re.A)((0,Re.A)({},M),{},{payment_organizer_name:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",placeholder:"Enter organizer name",required:!0})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Venmo URL *"}),(0,ct.jsx)("input",{type:"url",value:M.payment_venmo_url,onChange:e=>R((0,Re.A)((0,Re.A)({},M),{},{payment_venmo_url:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",placeholder:"https://venmo.com/u/...",required:!0})]})]})]}),("scramble"===M.tournament_format||"best_ball"===M.tournament_format)&&(0,ct.jsxs)("div",{className:"mt-4",children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Team Size"}),(0,ct.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ct.jsx)("input",{type:"number",min:"2",max:"6",value:M.team_size,onChange:e=>R((0,Re.A)((0,Re.A)({},M),{},{team_size:e.target.value})),className:"w-24 px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"}),(0,ct.jsx)("span",{className:"text-sm text-neutral-600",children:"players per team"})]}),(0,ct.jsx)("p",{className:"text-xs text-neutral-500 mt-1",children:"scramble"===M.tournament_format?"Recommended: 4 players for scramble format":"Recommended: 2 players for best ball format"})]})]}),(0,ct.jsxs)("div",{className:"bg-neutral-50 rounded-xl p-6",children:[(0,ct.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ct.jsx)(sa,{className:"w-5 h-5 text-brand-neon-green mr-2"}),(0,ct.jsx)("h4",{className:"text-lg font-semibold text-brand-black",children:"Course & Format"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Hole Count"}),(0,ct.jsxs)("select",{value:M.hole_configuration,onChange:e=>R((0,Re.A)((0,Re.A)({},M),{},{hole_configuration:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,ct.jsx)("option",{value:"3",children:"3 Holes"}),(0,ct.jsx)("option",{value:"9",children:"9 Holes (Any)"}),(0,ct.jsx)("option",{value:"9_front",children:"9 Holes Front"}),(0,ct.jsx)("option",{value:"9_back",children:"9 Holes Back"}),(0,ct.jsx)("option",{value:"18",children:"18 Holes"})]})]}),(0,ct.jsxs)("div",{className:"mt-4",children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-3",children:"Course Selection"}),(0,ct.jsxs)("div",{className:"mb-4",children:[(0,ct.jsxs)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:["GSPro Course ",(0,ct.jsx)("span",{className:"text-xs text-neutral-400",children:"(Optional)"})]}),(0,ct.jsxs)("div",{className:"relative gspro-dropdown-container",children:[(0,ct.jsx)("div",{className:"flex items-center space-x-2",children:(0,ct.jsxs)("div",{className:"flex-1 relative",children:[(0,ct.jsx)("input",{type:"text",value:J,onChange:e=>{return t=e.target.value,X(t),se(!0),void(t.trim()||(de(null),R(e=>(0,Re.A)((0,Re.A)({},e),{},{gspro_course:"",gspro_course_id:""}))));var t},onFocus:()=>se(!0),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-10",placeholder:"Search for a GSPro course..."}),xe&&(0,ct.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:(0,ct.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"})}),!xe&&J&&(0,ct.jsx)("button",{onClick:Le,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-neutral-400 hover:text-neutral-600",children:(0,ct.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ct.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),te&&(ne.length>0||J)&&(0,ct.jsx)("div",{className:"absolute z-50 w-full mt-1 bg-white border border-neutral-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:ne.length>0?ne.map(e=>(0,ct.jsxs)("button",{onClick:()=>(e=>{de(e),R(t=>(0,Re.A)((0,Re.A)({},t),{},{gspro_course:e.name,gspro_course_id:e.id.toString()})),X(e.name),se(!1)})(e),className:"w-full px-4 py-3 text-left hover:bg-blue-50 border-b border-neutral-100 last:border-b-0",children:[(0,ct.jsx)("div",{className:"font-medium text-brand-black",children:e.name}),(0,ct.jsxs)("div",{className:"text-sm text-neutral-600 flex items-center",children:[(0,ct.jsx)(Ge,{className:"w-3 h-3 mr-1"}),e.location||"Unknown location",e.designer&&(0,ct.jsxs)("span",{className:"ml-2",children:["\u2022 ",e.designer]})]}),(0,ct.jsx)("div",{className:"flex items-center mt-1",children:(0,ct.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"GSPro"})})]},e.id)):J?(0,ct.jsxs)("div",{className:"px-4 py-3 text-neutral-500",children:['No GSPro courses found matching "',J,'"']}):null})]}),ce&&(0,ct.jsx)("div",{className:"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("div",{className:"font-medium text-blue-800",children:ce.name}),(0,ct.jsx)("div",{className:"text-sm text-blue-600",children:ce.location&&(0,ct.jsxs)("span",{className:"flex items-center",children:[(0,ct.jsx)(Ge,{className:"w-3 h-3 mr-1"}),ce.location]})})]}),(0,ct.jsx)("button",{onClick:Le,className:"text-blue-600 hover:text-blue-800",children:(0,ct.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ct.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})]}),(0,ct.jsxs)("div",{className:"mb-4",children:[(0,ct.jsxs)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:["Trackman Course ",(0,ct.jsx)("span",{className:"text-xs text-neutral-400",children:"(Optional)"})]}),(0,ct.jsxs)("div",{className:"relative trackman-dropdown-container",children:[(0,ct.jsx)("div",{className:"flex items-center space-x-2",children:(0,ct.jsxs)("div",{className:"flex-1 relative",children:[(0,ct.jsx)("input",{type:"text",value:Z,onChange:e=>{return t=e.target.value,ee(t),re(!0),void(t.trim()||(me(null),R(e=>(0,Re.A)((0,Re.A)({},e),{},{trackman_course:"",trackman_course_id:""}))));var t},onFocus:()=>re(!0),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent pr-10",placeholder:"Search for a Trackman course..."}),pe&&(0,ct.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:(0,ct.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-purple-500"})}),!pe&&Z&&(0,ct.jsx)("button",{onClick:Fe,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-neutral-400 hover:text-neutral-600",children:(0,ct.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ct.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),ae&&(ie.length>0||Z)&&(0,ct.jsx)("div",{className:"absolute z-50 w-full mt-1 bg-white border border-neutral-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:ie.length>0?ie.map(e=>(0,ct.jsxs)("button",{onClick:()=>(e=>{me(e),R(t=>(0,Re.A)((0,Re.A)({},t),{},{trackman_course:e.name,trackman_course_id:e.id.toString()})),ee(e.name),re(!1)})(e),className:"w-full px-4 py-3 text-left hover:bg-purple-50 border-b border-neutral-100 last:border-b-0",children:[(0,ct.jsx)("div",{className:"font-medium text-brand-black",children:e.name}),(0,ct.jsxs)("div",{className:"text-sm text-neutral-600 flex items-center",children:[(0,ct.jsx)(Ge,{className:"w-3 h-3 mr-1"}),e.location||"Unknown location",e.designer&&(0,ct.jsxs)("span",{className:"ml-2",children:["\u2022 ",e.designer]})]}),(0,ct.jsx)("div",{className:"flex items-center mt-1",children:(0,ct.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"Trackman"})})]},e.id)):Z?(0,ct.jsxs)("div",{className:"px-4 py-3 text-neutral-500",children:['No Trackman courses found matching "',Z,'"']}):null})]}),ue&&(0,ct.jsx)("div",{className:"mt-2 p-3 bg-purple-50 border border-purple-200 rounded-lg",children:(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("div",{className:"font-medium text-purple-800",children:ue.name}),(0,ct.jsx)("div",{className:"text-sm text-purple-600",children:ue.location&&(0,ct.jsxs)("span",{className:"flex items-center",children:[(0,ct.jsx)(Ge,{className:"w-3 h-3 mr-1"}),ue.location]})})]}),(0,ct.jsx)("button",{onClick:Fe,className:"text-purple-600 hover:text-purple-800",children:(0,ct.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ct.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})]}),(0,ct.jsx)("p",{className:"text-xs text-neutral-500 mt-2",children:"You can select courses for both platforms, one platform, or neither. This allows players to choose their preferred simulator platform."}),(0,ct.jsxs)("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,ct.jsx)("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"Course Assignment Rules"}),(0,ct.jsxs)("div",{className:"text-xs text-blue-700 space-y-1",children:[(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800 mr-2",children:"\ud83d\udcca Trackman"}),(0,ct.jsx)("span",{children:"Club No. 8 members will automatically use the Trackman course"})]}),(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 mr-2",children:"\ud83c\udfaf GSPro"}),(0,ct.jsx)("span",{children:"All other clubs will automatically use the GSPro course"})]})]})]})]})]}),(0,ct.jsxs)("div",{className:"bg-neutral-50 rounded-xl p-6",children:[(0,ct.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ct.jsx)(sa,{className:"w-5 h-5 text-brand-neon-green mr-2"}),(0,ct.jsx)("h4",{className:"text-lg font-semibold text-brand-black",children:"Simulator Settings"})]}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Tee"}),(0,ct.jsxs)("select",{value:M.tee,onChange:e=>R((0,Re.A)((0,Re.A)({},M),{},{tee:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,ct.jsx)("option",{value:"Par 3",children:"Par 3"}),(0,ct.jsx)("option",{value:"Red",children:"Red"}),(0,ct.jsx)("option",{value:"White",children:"White"}),(0,ct.jsx)("option",{value:"Blue",children:"Blue"}),(0,ct.jsx)("option",{value:"Black",children:"Black"}),(0,ct.jsx)("option",{value:"Gold",children:"Gold"})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Pins"}),(0,ct.jsxs)("select",{value:M.pins,onChange:e=>R((0,Re.A)((0,Re.A)({},M),{},{pins:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,ct.jsx)("option",{value:"Friday",children:"Friday"}),(0,ct.jsx)("option",{value:"Saturday",children:"Saturday"}),(0,ct.jsx)("option",{value:"Sunday",children:"Sunday"}),(0,ct.jsx)("option",{value:"Easy",children:"Easy"}),(0,ct.jsx)("option",{value:"Hard",children:"Hard"})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Putting Gimme"}),(0,ct.jsxs)("select",{value:M.putting_gimme,onChange:e=>R((0,Re.A)((0,Re.A)({},M),{},{putting_gimme:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,ct.jsx)("option",{value:"0",children:"No gimme"}),(0,ct.jsx)("option",{value:"3",children:"3' gimme"}),(0,ct.jsx)("option",{value:"5",children:"5' gimme"}),(0,ct.jsx)("option",{value:"8",children:"8' gimme"}),(0,ct.jsx)("option",{value:"10",children:"10' gimme"})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Elevation"}),(0,ct.jsxs)("select",{value:M.elevation,onChange:e=>R((0,Re.A)((0,Re.A)({},M),{},{elevation:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,ct.jsx)("option",{value:"Course",children:"Course"}),(0,ct.jsx)("option",{value:"Off",children:"Off"}),(0,ct.jsx)("option",{value:"High",children:"High"}),(0,ct.jsx)("option",{value:"Low",children:"Low"})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Stimp"}),(0,ct.jsxs)("select",{value:M.stimp,onChange:e=>R((0,Re.A)((0,Re.A)({},M),{},{stimp:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,ct.jsx)("option",{value:"8",children:"8"}),(0,ct.jsx)("option",{value:"9",children:"9"}),(0,ct.jsx)("option",{value:"10",children:"10"}),(0,ct.jsx)("option",{value:"11",children:"11"}),(0,ct.jsx)("option",{value:"12",children:"12"}),(0,ct.jsx)("option",{value:"13",children:"13"}),(0,ct.jsx)("option",{value:"14",children:"14"})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Mulligan"}),(0,ct.jsxs)("select",{value:M.mulligan,onChange:e=>R((0,Re.A)((0,Re.A)({},M),{},{mulligan:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,ct.jsx)("option",{value:"No",children:"No"}),(0,ct.jsx)("option",{value:"Yes",children:"Yes"}),(0,ct.jsx)("option",{value:"1 per hole",children:"1 per hole"}),(0,ct.jsx)("option",{value:"2 per round",children:"2 per round"})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Game Play"}),(0,ct.jsxs)("select",{value:M.game_play,onChange:e=>R((0,Re.A)((0,Re.A)({},M),{},{game_play:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,ct.jsx)("option",{value:"Force Realistic",children:"Force Realistic"}),(0,ct.jsx)("option",{value:"Allow Unrealistic",children:"Allow Unrealistic"}),(0,ct.jsx)("option",{value:"Tournament Mode",children:"Tournament Mode"})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Firmness"}),(0,ct.jsxs)("select",{value:M.firmness,onChange:e=>R((0,Re.A)((0,Re.A)({},M),{},{firmness:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,ct.jsx)("option",{value:"Normal",children:"Normal"}),(0,ct.jsx)("option",{value:"Soft",children:"Soft"}),(0,ct.jsx)("option",{value:"Firm",children:"Firm"}),(0,ct.jsx)("option",{value:"Very Firm",children:"Very Firm"})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Wind"}),(0,ct.jsxs)("select",{value:M.wind,onChange:e=>R((0,Re.A)((0,Re.A)({},M),{},{wind:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,ct.jsx)("option",{value:"None",children:"None"}),(0,ct.jsx)("option",{value:"Light",children:"Light"}),(0,ct.jsx)("option",{value:"Moderate",children:"Moderate"}),(0,ct.jsx)("option",{value:"Strong",children:"Strong"}),(0,ct.jsx)("option",{value:"Random",children:"Random"})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Handicap"}),(0,ct.jsxs)("div",{className:"flex items-center mt-2",children:[(0,ct.jsx)("input",{type:"checkbox",id:"handicap_enabled",checked:M.handicap_enabled,onChange:e=>R((0,Re.A)((0,Re.A)({},M),{},{handicap_enabled:e.target.checked})),className:"w-4 h-4 text-brand-neon-green border-neutral-300 rounded focus:ring-brand-neon-green focus:ring-2"}),(0,ct.jsx)("label",{htmlFor:"handicap_enabled",className:"ml-2 text-sm text-neutral-600",children:"Enable handicap adjustments"})]})]})]})]}),(0,ct.jsxs)("div",{className:"bg-neutral-50 rounded-xl p-6",children:[(0,ct.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ct.jsx)(Ye,{className:"w-5 h-5 text-brand-neon-green mr-2"}),(0,ct.jsx)("h4",{className:"text-lg font-semibold text-brand-black",children:"Registration Form"})]}),(0,ct.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600",children:"Enable Registration Form"}),(0,ct.jsx)("input",{type:"checkbox",id:"has_registration_form",checked:M.has_registration_form,onChange:e=>R((0,Re.A)((0,Re.A)({},M),{},{has_registration_form:e.target.checked})),className:"w-4 h-4 text-brand-neon-green border-neutral-300 rounded focus:ring-brand-neon-green focus:ring-2"})]}),M.has_registration_form&&(0,ct.jsx)(ct.Fragment,{children:(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-2",children:"Registration Form Template"}),Ee?(0,ct.jsx)("div",{className:"text-center py-4",children:(0,ct.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-brand-neon-green mx-auto"})}):0===Ce.length?(0,ct.jsx)("p",{className:"text-sm text-neutral-500",children:"No templates available. Please create one first."}):(0,ct.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Ce.map(e=>(0,ct.jsxs)("button",{type:"button",onClick:()=>(e=>{R(t=>(0,Re.A)((0,Re.A)({},t),{},{registration_form_template:e.template_key,registration_form_data:{name:e.name,description:e.description,questions:e.questions}})),_s.success("Applied ".concat(e.name," template"))})(e),className:"p-4 rounded-lg border transition-all text-left ".concat(M.registration_form_template===e.template_key?"border-brand-neon-green bg-green-50":"border-neutral-200 hover:border-brand-neon-green"),children:[(0,ct.jsx)("h5",{className:"font-medium text-brand-black mb-1",children:e.name}),(0,ct.jsx)("p",{className:"text-sm text-neutral-600",children:e.description})]},e.id))})]}),M.registration_form_template&&M.registration_form_data&&(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-2",children:"Selected Template Preview"}),(0,ct.jsxs)("div",{className:"bg-neutral-100 p-4 rounded-lg",children:[(0,ct.jsx)("h6",{className:"font-medium text-brand-black mb-2",children:M.registration_form_data.name}),M.registration_form_data.questions.map((e,t)=>(0,ct.jsxs)("div",{className:"mb-3",children:[(0,ct.jsxs)("p",{className:"text-sm font-medium text-neutral-700 mb-1",children:[e.question,e.required&&(0,ct.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),e.options&&(0,ct.jsx)("div",{className:"ml-4",children:e.options.map((e,t)=>(0,ct.jsxs)("div",{className:"text-xs text-neutral-600",children:["\u2022 ",e]},t))})]},t))]})]})]})})]}),(0,ct.jsxs)("div",{className:"bg-neutral-50 rounded-xl p-6",children:[(0,ct.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ct.jsx)(sa,{className:"w-5 h-5 text-brand-neon-green mr-2"}),(0,ct.jsx)("h4",{className:"text-lg font-semibold text-brand-black",children:"Additional Information"})]}),(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Description"}),(0,ct.jsx)("textarea",{value:M.description,onChange:e=>R((0,Re.A)((0,Re.A)({},M),{},{description:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",rows:3,placeholder:"Brief description of the tournament..."})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Rules"}),(0,ct.jsx)("textarea",{value:M.rules,onChange:e=>R((0,Re.A)((0,Re.A)({},M),{},{rules:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",rows:4,placeholder:"Tournament rules and regulations..."})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Notes"}),(0,ct.jsx)("textarea",{value:M.notes,onChange:e=>R((0,Re.A)((0,Re.A)({},M),{},{notes:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",rows:2,placeholder:"Additional notes..."})]})]})]}),(0,ct.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4 pt-4",children:[(0,ct.jsx)("button",{type:"button",onClick:A,className:"w-full sm:w-auto px-4 sm:px-6 py-3 border border-neutral-300 rounded-lg text-neutral-600 hover:bg-neutral-50 transition-colors text-sm sm:text-base",children:"Cancel"}),(0,ct.jsx)("button",{type:"submit",disabled:P,className:"w-full sm:w-auto px-4 sm:px-6 py-3 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center text-sm sm:text-base",children:P?(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-brand-black mr-2"}),"create"===k?"Creating...":"Updating..."]}):"create"===k?"Create Tournament":"Save Changes"})]})]})]})})},On=e=>{let{tournamentId:t,tournamentParticipants:s,onUserRegistered:r,onUserUnregistered:n,clubRestriction:l="open",isSuperAdmin:i=!1,currentUserClub:o}=e;const[c,d]=(0,a.useState)([]),[u,m]=(0,a.useState)(!0),[x,h]=(0,a.useState)(""),[p,g]=(0,a.useState)(null),[f,b]=(0,a.useState)([]);(0,a.useEffect)(()=>{(async()=>{try{const e=await(0,tt.loF)();d(e.data)}catch(e){console.error("Error fetching users:",e),_s.error("Failed to load users")}finally{m(!1)}})()},[]);const v=async e=>{console.log("Attempting to register users:",e),console.log("Tournament ID:",t),console.log("Current participants:",s);try{const s=await Promise.allSettled(e.map(e=>(0,tt.V2y)(t,e)));console.log("Registration results:",s);const a=s.filter(e=>"fulfilled"===e.status).length,n=s.filter(e=>"rejected"===e.status).length;if(a>0&&(_s.success("Successfully registered ".concat(a," user(s)")),r()),n>0){const e=s.filter(e=>"rejected"===e.status).map(e=>{var t,s,a;return(null===(t=e.reason)||void 0===t||null===(s=t.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.error)||"Unknown error"}).filter((e,t,s)=>s.indexOf(e)===t);_s.error("Failed to register ".concat(n," user(s): ").concat(e.join(", ")))}b([])}catch(l){var a,n;console.error("Error registering users:",l);const e=(null===(a=l.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.error)||"Failed to register users";_s.error(e)}},y=()=>{const e=new Set(c.map(e=>e.club).filter(Boolean));return Array.from(e).sort()},j=()=>{const e=new Set(s.map(e=>e.user_member_id));return c.filter(t=>!e.has(t.member_id))},N=()=>{let e=j();const t=e.filter(e=>!e.club);if(t.length>0&&console.warn("Users with null/undefined club values:",t.map(e=>({id:e.member_id,name:"".concat(e.first_name," ").concat(e.last_name)}))),p&&(e=e.filter(e=>e.club&&e.club===p)),x){const t=x.toLowerCase();console.log("\ud83d\udd0d Applying search filter:",t),console.log("\ud83d\udd0d Available users before search:",e.length),e=e.filter(e=>{try{const s="".concat(e.first_name||""," ").concat(e.last_name||"").toLowerCase().includes(t),a=e.email_address&&e.email_address.toLowerCase().includes(t),r=e.club&&e.club.toLowerCase().includes(t);return s||a||r}catch(s){return console.error("\u274c Error filtering user:",e,s),!1}}),console.log("\ud83d\udd0d Available users after search:",e.length)}return"open"!==l&&(e="club_specific"===l?e.filter(e=>e.club&&e.club===o):e.filter(e=>e.club&&e.club===l)),e};return u?(0,ct.jsx)("div",{className:"flex items-center justify-center min-h-64",children:(0,ct.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-neon-green"})}):(0,ct.jsx)("div",{className:"space-y-6",children:(0,ct.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-neutral-200",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ct.jsx)("h4",{className:"text-lg font-semibold text-brand-black",children:"Registration Management"}),(0,ct.jsx)("div",{className:"flex items-center space-x-2",children:(0,ct.jsxs)("span",{className:"text-sm text-neutral-600",children:[s.length," registered"]})})]}),l&&(0,ct.jsxs)("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)(Ge,{className:"w-4 h-4 text-blue-600 mr-2"}),(0,ct.jsxs)("span",{className:"text-sm font-medium text-blue-800",children:["Registration Access: ","open"===l?"Open to All Clubs":"Restricted to ".concat(l)]})]}),!i&&"open"!==l&&(0,ct.jsx)("p",{className:"text-xs text-blue-600 mt-1",children:"As a club admin, you can only manage users from your club for this tournament."})]}),(0,ct.jsxs)("div",{className:"flex flex-wrap gap-3 mb-6",children:[(0,ct.jsxs)("button",{onClick:()=>{g(null),h("")},className:"px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors flex items-center",children:[(0,ct.jsx)(Ye,{className:"w-4 h-4 mr-2"}),"View All Users"]}),(0,ct.jsxs)("button",{onClick:()=>{const e=j();if(e.length>0){const t="Register all ".concat(e.length," available user(s)?");if(!window.confirm(t))return;v(e.map(e=>e.member_id))}},className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center",disabled:0===j().length,children:[(0,ct.jsx)(Ze,{className:"w-4 h-4 mr-2"}),"Register All Available"]})]}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Search Users"}),(0,ct.jsxs)("div",{className:"relative",children:[(0,ct.jsx)(Za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-neutral-400"}),(0,ct.jsx)("input",{type:"text",value:x,onChange:e=>h(e.target.value),placeholder:"Search by name, email, or club...",className:"w-full pl-10 pr-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Filter by Club"}),(0,ct.jsxs)("select",{value:p||"",onChange:e=>g(e.target.value||null),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,ct.jsx)("option",{value:"",children:"All Clubs"}),y().filter(e=>"open"===l||l===e||!i&&e===o).map(e=>(0,ct.jsx)("option",{value:e,children:e},e))]})]})]}),(0,ct.jsxs)("div",{className:"mb-6",children:[(0,ct.jsx)("h5",{className:"text-sm font-medium text-neutral-700 mb-3",children:"Club Registration Progress"}),(0,ct.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,ct.jsxs)("div",{onClick:()=>g(null),className:"cursor-pointer flex flex-col items-center px-4 py-3 rounded-lg border transition-all ".concat(null===p?"bg-brand-neon-green/80 border-brand-neon-green text-brand-black shadow-md":"bg-neutral-50 border-neutral-300 text-neutral-700 hover:bg-brand-neon-green/30 hover:border-brand-neon-green"),style:{minWidth:120},children:[(0,ct.jsx)("span",{className:"font-medium",children:"All Clubs"}),(0,ct.jsxs)("div",{className:"text-sm text-neutral-600 mt-1",children:[s.length," / ",c.length]})]}),y().map(e=>{const t=(e=>c.filter(t=>t.club&&t.club===e).length)(e),a=(e=>s.filter(t=>t.club&&t.club===e).length)(e),r=t>0?Math.round(a/t*100):0;return(0,ct.jsxs)("div",{onClick:()=>g(e),className:"cursor-pointer flex flex-col items-center px-4 py-3 rounded-lg border transition-all ".concat(p===e?"bg-brand-neon-green/80 border-brand-neon-green text-brand-black shadow-md":"bg-neutral-50 border-neutral-300 text-neutral-700 hover:bg-brand-neon-green/30 hover:border-brand-neon-green"),style:{minWidth:120},children:[(0,ct.jsx)("span",{className:"font-medium",children:e}),(0,ct.jsx)("div",{className:"w-full h-2 bg-neutral-200 rounded mt-2 mb-1",children:(0,ct.jsx)("div",{className:"h-2 rounded transition-all duration-300",style:{width:"".concat(r,"%"),background:100===r?"#22c55e":"#4ade80"}})}),(0,ct.jsxs)("div",{className:"text-sm text-neutral-600",children:[a,"/",t," (",r,"%)"]})]},e)})]})]}),(0,ct.jsx)("div",{className:"overflow-x-auto",children:(0,ct.jsxs)("table",{className:"w-full border-collapse border border-neutral-300 rounded-lg",children:[(0,ct.jsx)("thead",{className:"bg-neutral-50",children:(0,ct.jsxs)("tr",{children:[(0,ct.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:(0,ct.jsx)("input",{type:"checkbox",checked:N().length>0&&f.length===N().length,onChange:e=>{e.target.checked?b(N().map(e=>e.member_id)):b([])}})}),(0,ct.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Name"}),(0,ct.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Email"}),(0,ct.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Club"}),(0,ct.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Handicap"}),(0,ct.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Actions"})]})}),(0,ct.jsx)("tbody",{children:N().map(e=>(0,ct.jsxs)("tr",{className:"hover:bg-neutral-50",children:[(0,ct.jsx)("td",{className:"border border-neutral-300 px-4 py-3",children:(0,ct.jsx)("input",{type:"checkbox",checked:f.includes(e.member_id),onChange:t=>{t.target.checked?b(t=>[...t,e.member_id]):b(t=>t.filter(t=>t!==e.member_id))}})}),(0,ct.jsxs)("td",{className:"border border-neutral-300 px-4 py-3 font-medium",children:[e.first_name," ",e.last_name]}),(0,ct.jsx)("td",{className:"border border-neutral-300 px-4 py-3 text-neutral-600",children:e.email_address}),(0,ct.jsx)("td",{className:"border border-neutral-300 px-4 py-3",children:(0,ct.jsx)("span",{className:"px-2 py-1 bg-neutral-100 text-neutral-700 text-sm rounded",children:e.club||"N/A"})}),(0,ct.jsx)("td",{className:"border border-neutral-300 px-4 py-3 text-neutral-600",children:e.handicap?e.handicap:"N/A"}),(0,ct.jsx)("td",{className:"border border-neutral-300 px-4 py-3",children:(0,ct.jsx)("button",{onClick:()=>v([e.member_id]),className:"px-3 py-1 bg-brand-neon-green text-brand-black text-sm rounded hover:bg-green-400 transition-colors",children:"Register"})})]},e.member_id))})]})}),0===N().length&&(0,ct.jsxs)("div",{className:"text-center py-8 text-neutral-600",children:[(0,ct.jsx)(Ye,{className:"w-12 h-12 mx-auto mb-2 text-neutral-400"}),(0,ct.jsx)("p",{children:"No available users found."}),(0,ct.jsx)("p",{className:"text-sm",children:"Try adjusting your search or club filter."})]}),f.length>0&&(0,ct.jsx)("div",{className:"flex justify-end mt-4",children:(0,ct.jsxs)("button",{onClick:()=>v(f),className:"px-6 py-3 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors flex items-center",children:[(0,ct.jsx)(Ze,{className:"w-4 h-4 mr-2"}),"Register ",f.length," Selected"]})})]})})},In=e=>{let{tournamentId:t,tournamentMatches:s,tournamentParticipants:r,tournamentCheckIns:n,onMatchesGenerated:l,onMatchUpdated:i}=e;(0,a.useEffect)(()=>{console.log("MatchGenerator - participants updated:",r)},[r]);const[o,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)({format:"optimized",minMatchesPerPlayer:3}),m=async()=>{try{await(0,tt.Oh2)(t,d.format,d.minMatchesPerPlayer),_s.success("Matches generated successfully"),c(!1),l()}catch(e){console.error("Error generating matches:",e),_s.error("Failed to generate matches")}},x=["bg-purple-100 text-purple-800","bg-blue-100 text-blue-800","bg-green-100 text-green-800","bg-yellow-100 text-yellow-800","bg-pink-100 text-pink-800","bg-red-100 text-red-800","bg-indigo-100 text-indigo-800","bg-teal-100 text-teal-800"];return(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-neutral-200",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ct.jsx)("h4",{className:"text-lg font-semibold text-brand-black",children:"Match Management"}),(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsxs)("span",{className:"text-sm text-neutral-600",children:[s.filter(e=>"completed"===e.status).length," completed"]}),(0,ct.jsxs)("span",{className:"text-sm text-neutral-600",children:["/ ",s.length," total"]})]})]}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,ct.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)(Ks,{className:"w-5 h-5 text-green-600 mr-2"}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("div",{className:"text-2xl font-bold text-green-600",children:s.filter(e=>"completed"===e.status).length}),(0,ct.jsx)("div",{className:"text-sm text-green-700",children:"Completed"})]})]})}),(0,ct.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)(Qs,{className:"w-5 h-5 text-yellow-600 mr-2"}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:s.filter(e=>"pending"===e.status).length}),(0,ct.jsx)("div",{className:"text-sm text-yellow-700",children:"Pending"})]})]})}),(0,ct.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)(Ye,{className:"w-5 h-5 text-blue-600 mr-2"}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:r.length}),(0,ct.jsx)("div",{className:"text-sm text-blue-700",children:"Participants"})]})]})}),(0,ct.jsx)("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)(qe,{className:"w-5 h-5 text-purple-600 mr-2"}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:Math.ceil(s.length/2)}),(0,ct.jsx)("div",{className:"text-sm text-purple-700",children:"Rounds"})]})]})})]}),0===s.length&&(0,ct.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-xl p-6 border border-purple-200 mb-6",children:[(0,ct.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ct.jsx)(qe,{className:"w-5 h-5 text-purple-600 mr-2"}),(0,ct.jsx)("h5",{className:"text-lg font-semibold text-purple-900",children:"Generate Tournament Matches"})]}),(0,ct.jsx)("p",{className:"text-purple-700 mb-4",children:"Create match pairings for your tournament. You can choose from different generation formats."}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-purple-700 mb-2",children:"Generation Format"}),(0,ct.jsxs)("select",{value:d.format,onChange:e=>u((0,Re.A)((0,Re.A)({},d),{},{format:e.target.value})),className:"w-full px-3 py-2 border border-purple-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[(0,ct.jsx)("option",{value:"optimized",children:"Optimized (Balanced)"}),(0,ct.jsx)("option",{value:"par3_match_play",children:"3 Hole Matchplay (4-player groups)"}),(0,ct.jsx)("option",{value:"round_robin",children:"Round Robin"}),(0,ct.jsx)("option",{value:"single_elimination",children:"Single Elimination"}),(0,ct.jsx)("option",{value:"random_pairs",children:"Random Pairs"})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-purple-700 mb-2",children:"Min Matches Per Player"}),(0,ct.jsx)("input",{type:"number",min:"1",max:"10",value:d.minMatchesPerPlayer,onChange:e=>u((0,Re.A)((0,Re.A)({},d),{},{minMatchesPerPlayer:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-purple-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),(0,ct.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,ct.jsxs)("button",{onClick:m,className:"px-6 py-3 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700 transition-colors flex items-center",disabled:r.length<2,children:[(0,ct.jsx)(qe,{className:"w-4 h-4 mr-2"}),"Generate Matches"]}),r.length<2&&(0,ct.jsxs)("div",{className:"flex items-center text-sm text-purple-600",children:[(0,ct.jsx)(Qs,{className:"w-4 h-4 mr-2"}),"Need at least 2 participants to generate matches"]})]})]}),s.length>0&&(0,ct.jsxs)("div",{className:"mb-6",children:[(0,ct.jsxs)("div",{className:"flex justify-between text-sm text-neutral-600 mb-2",children:[(0,ct.jsx)("span",{children:"Match Progress"}),(0,ct.jsxs)("span",{children:[s.length>0?Math.round(s.filter(e=>"completed"===e.status).length/s.length*100):0,"%"]})]}),(0,ct.jsx)("div",{className:"w-full bg-neutral-200 rounded-full h-3",children:(0,ct.jsx)("div",{className:"h-3 rounded-full transition-all duration-300",style:{width:"".concat(s.length>0?s.filter(e=>"completed"===e.status).length/s.length*100:0,"%"),background:"#22c55e"}})})]}),s.length>0&&(0,ct.jsxs)("div",{className:"flex flex-wrap gap-3 mb-6",children:[(0,ct.jsxs)("button",{onClick:()=>c(!0),className:"px-4 py-2 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700 transition-colors flex items-center",children:[(0,ct.jsx)(qe,{className:"w-4 h-4 mr-2"}),"Regenerate Matches"]}),(0,ct.jsxs)("button",{onClick:()=>{const e=s.filter(e=>"pending"===e.status);e.length>0&&e.forEach(e=>{(async(e,s,a)=>{try{await(0,tt.kP3)(t,e,{winner_id:s,scores:a}),_s.success("Match result updated successfully"),i()}catch(r){console.error("Error updating match result:",r),_s.error("Failed to update match result")}})(e.id,e.player1_id)})},className:"px-4 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors flex items-center",disabled:0===s.filter(e=>"pending"===e.status).length,children:[(0,ct.jsx)(Ks,{className:"w-4 h-4 mr-2"}),"Complete All Pending"]})]}),s.length>0?(0,ct.jsx)("div",{className:"overflow-x-auto",children:(0,ct.jsxs)("table",{className:"w-full border-collapse border border-neutral-300 rounded-lg",children:[(0,ct.jsx)("thead",{className:"bg-neutral-50",children:(0,ct.jsxs)("tr",{children:[(0,ct.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Match #"}),(0,ct.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Group"}),(0,ct.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Player 1"}),(0,ct.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Player 2"}),(0,ct.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Status"}),(0,ct.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Winner"})]})}),(0,ct.jsx)("tbody",{children:s.map(e=>(0,ct.jsxs)("tr",{className:"hover:bg-neutral-50",children:[(0,ct.jsxs)("td",{className:"border border-neutral-300 px-4 py-3 font-medium",children:["#",e.match_number]}),(0,ct.jsx)("td",{className:"border border-neutral-300 px-4 py-3",children:e.group_number?(0,ct.jsxs)("span",{className:"px-2 py-1 rounded-full text-sm font-medium ".concat(x[(e.group_number-1)%x.length]),children:["Group ",e.group_number]}):(0,ct.jsx)("span",{className:"text-neutral-400 text-sm",children:"-"})}),(0,ct.jsxs)("td",{className:"border border-neutral-300 px-4 py-3",children:[(0,ct.jsxs)("div",{className:"font-medium",children:[e.player1_first_name," ",e.player1_last_name]}),(0,ct.jsx)("div",{className:"text-sm text-neutral-600",children:e.player1_club})]}),(0,ct.jsxs)("td",{className:"border border-neutral-300 px-4 py-3",children:[(0,ct.jsxs)("div",{className:"font-medium",children:[e.player2_first_name," ",e.player2_last_name]}),(0,ct.jsx)("div",{className:"text-sm text-neutral-600",children:e.player2_club})]}),(0,ct.jsx)("td",{className:"border border-neutral-300 px-4 py-3",children:"completed"===e.status?(0,ct.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(0,ct.jsx)(Ks,{className:"w-3 h-3 inline mr-1"}),"Completed"]}):(0,ct.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[(0,ct.jsx)(Qs,{className:"w-3 h-3 inline mr-1"}),"Pending"]})}),(0,ct.jsx)("td",{className:"border border-neutral-300 px-4 py-3",children:e.winner_first_name?(0,ct.jsxs)("div",{className:"font-medium text-green-600",children:[e.winner_first_name," ",e.winner_last_name]}):(0,ct.jsx)("span",{className:"text-neutral-500",children:"Not decided"})})]},e.id))})]})}):(0,ct.jsxs)("div",{className:"text-center py-8",children:[(0,ct.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-neutral-100 rounded-full flex items-center justify-center",children:(0,ct.jsx)(qe,{className:"w-8 h-8 text-neutral-400"})}),(0,ct.jsx)("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"No matches generated yet"}),(0,ct.jsx)("p",{className:"text-neutral-600 mb-4",children:"Generate matches to start the tournament competition."})]})]}),o&&(0,ct.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,ct.jsxs)("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md",children:[(0,ct.jsx)("h3",{className:"text-xl font-bold text-brand-black mb-4",children:"Generate Matches"}),(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Format"}),(0,ct.jsxs)("select",{value:d.format,onChange:e=>u((0,Re.A)((0,Re.A)({},d),{},{format:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,ct.jsx)("option",{value:"optimized",children:"Optimized (Recommended)"}),(0,ct.jsx)("option",{value:"par3_match_play",children:"3 Hole Matchplay (4-player groups)"}),(0,ct.jsx)("option",{value:"round_robin",children:"Round Robin"}),(0,ct.jsx)("option",{value:"single_elimination",children:"Single Elimination"}),(0,ct.jsx)("option",{value:"random_pairs",children:"Random Pairs"})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Minimum Matches Per Player"}),(0,ct.jsx)("input",{type:"number",min:"1",max:"10",value:d.minMatchesPerPlayer,onChange:e=>u((0,Re.A)((0,Re.A)({},d),{},{minMatchesPerPlayer:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"}),(0,ct.jsx)("p",{className:"text-xs text-neutral-500 mt-1",children:"Note: This setting is only applicable for optimized format"})]}),(0,ct.jsxs)("div",{className:"bg-blue-50 rounded-lg p-3",children:[(0,ct.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,ct.jsx)("strong",{children:"Participants:"})," ",r.length]}),(0,ct.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,ct.jsx)("strong",{children:"Format:"})," ",d.format.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase())]})]}),(0,ct.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4 pt-4",children:[(0,ct.jsx)("button",{onClick:()=>c(!1),className:"px-4 py-2 border border-neutral-300 rounded-lg text-neutral-600 hover:bg-neutral-50",children:"Cancel"}),(0,ct.jsx)("button",{onClick:m,disabled:r.length<2,className:"px-4 py-2 rounded-lg font-medium ".concat(r.length>=2?"bg-purple-600 text-white hover:bg-purple-700":"bg-gray-400 text-gray-200 cursor-not-allowed"),children:"Generate Matches"})]})]})]})})]})},zn=e=>{let{tournamentId:t,tournamentParticipants:s,onTeamsCreated:r,tournamentFormat:n="scramble",tournamentSettings:l}=e;const[i,o]=(0,a.useState)([]),[c,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(!1),[x,h]=(0,a.useState)(null),[p,g]=(0,a.useState)({name:"",captainId:"",selectedPlayers:[]});(()=>{if(l)return{teamSize:l.teamSize||4,requiresCaptain:l.requiresCaptain||!0,description:l.description||"Team format - standard team competition.",maxPlayers:l.teamSize||4,holeConfiguration:l.holeConfiguration||"18",tee:l.tee||"Red",pins:l.pins||"Friday",puttingGimme:l.puttingGimme||"8",elevation:l.elevation||"Course",stimp:l.stimp||"11",mulligan:l.mulligan||"No",gamePlay:l.gamePlay||"Force Realistic",firmness:l.firmness||"Normal",wind:l.wind||"None",handicapEnabled:l.handicapEnabled||!1};switch(n){case"scramble":return{teamSize:4,requiresCaptain:!0,description:"Scramble format - teams of 4 players. All players hit, best shot is selected.",maxPlayers:4};case"best_ball":return{teamSize:2,requiresCaptain:!1,description:"Best ball format - teams of 2 players. Each player plays their own ball.",maxPlayers:2};default:;}})();(0,a.useEffect)(()=>{(async()=>{d(!0);try{const e=(await(0,tt.ZNw)(t)).data.map(e=>({id:e.id.toString(),name:e.name,players:e.players||[],maxPlayers:4}));o(e)}catch(e){console.error("Error loading teams:",e),_s.error("Failed to load teams")}finally{d(!1)}})()},[t]);const f=(()=>{const e=i.flatMap(e=>e.players.map(e=>e.user_member_id));return s.filter(t=>!e.includes(t.user_member_id))})();return(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-neutral-200",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ct.jsx)("h5",{className:"text-lg font-semibold text-brand-black",children:i.length>0?"Formed Teams":"Team Formation"}),f.length>0&&(0,ct.jsxs)("button",{onClick:()=>m(!0),className:"px-6 py-3 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors flex items-center",disabled:0===f.length,children:[(0,ct.jsx)(Ze,{className:"w-4 h-4 mr-2"}),"Create New Team"]})]}),i.length>0&&(0,ct.jsx)("div",{className:"space-y-4",children:(0,ct.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(e=>(0,ct.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-lg p-4 shadow-sm",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ct.jsx)("h6",{className:"font-semibold text-brand-black",children:e.name}),(0,ct.jsxs)("div",{className:"flex space-x-2",children:[(0,ct.jsx)("button",{onClick:()=>(e=>{var t;h(e),g({name:e.name,captainId:(null===(t=e.players.find(e=>e.is_captain))||void 0===t?void 0:t.user_member_id.toString())||"",selectedPlayers:e.players.filter(e=>!e.is_captain).map(e=>e.user_member_id)}),m(!0)})(e),className:"p-1 text-neutral-600 hover:text-blue-600 transition-colors",children:(0,ct.jsx)(En,{className:"w-4 h-4"})}),(0,ct.jsx)("button",{onClick:()=>(async e=>{const s=i.find(t=>t.id===e);if(s)try{await(0,tt.To6)(t,parseInt(e)),o(i.filter(t=>t.id!==e)),_s.success('Team "'.concat(s.name,'" deleted successfully')),r()}catch(a){console.error("Error deleting team:",a),_s.error("Failed to delete team")}})(e.id),className:"p-1 text-neutral-600 hover:text-red-600 transition-colors",children:(0,ct.jsx)(Tn,{className:"w-4 h-4"})})]})]}),(0,ct.jsx)("div",{className:"space-y-1",children:e.players.map(e=>(0,ct.jsxs)("div",{className:"text-sm text-neutral-700 flex items-center",children:[e.first_name," ",e.last_name,e.is_captain&&(0,ct.jsx)(Ct,{className:"w-4 h-4 text-yellow-600 ml-1"})]},e.user_member_id))})]},e.id))})}),f.length>0&&(0,ct.jsxs)("div",{className:"mt-6",children:[(0,ct.jsx)("h5",{className:"text-lg font-semibold text-brand-black mb-4",children:"Available Players"}),(0,ct.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(e=>(0,ct.jsxs)("div",{className:"bg-neutral-50 border border-neutral-200 rounded-lg p-3",children:[(0,ct.jsxs)("div",{className:"font-medium text-sm",children:[e.first_name," ",e.last_name]}),(0,ct.jsx)("div",{className:"text-xs text-neutral-600",children:e.club})]},e.user_member_id))})]}),0===i.length&&0===f.length&&(0,ct.jsxs)("div",{className:"text-center py-8",children:[(0,ct.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-neutral-100 rounded-full flex items-center justify-center",children:(0,ct.jsx)(Ye,{className:"w-8 h-8 text-neutral-400"})}),(0,ct.jsx)("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"No teams formed yet"}),(0,ct.jsx)("p",{className:"text-neutral-600 mb-4",children:"Create teams to organize players for the scramble tournament."})]})]}),u&&(0,ct.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,ct.jsxs)("div",{className:"bg-white rounded-2xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,ct.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ct.jsx)("h3",{className:"text-2xl font-bold text-brand-black",children:x?"Edit Team":"Create New Team"}),(0,ct.jsx)("button",{onClick:()=>{m(!1),h(null),g({name:"",captainId:"",selectedPlayers:[]})},className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:(0,ct.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ct.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Team Name"}),(0,ct.jsx)("input",{type:"text",value:p.name,onChange:e=>g((0,Re.A)((0,Re.A)({},p),{},{name:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",placeholder:"Enter team name"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:["Team Captain ",(0,ct.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ct.jsxs)("select",{value:p.captainId,onChange:e=>{return t=e.target.value,void g(e=>(0,Re.A)((0,Re.A)({},e),{},{captainId:t,selectedPlayers:e.selectedPlayers.filter(e=>e!==parseInt(t))}));var t},className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,ct.jsx)("option",{value:"",children:"Select a captain"}),f.map(e=>(0,ct.jsxs)("option",{value:e.user_member_id,children:[e.first_name," ",e.last_name," (",e.club,")"]},e.user_member_id))]}),(0,ct.jsx)("p",{className:"text-xs text-neutral-500 mt-1",children:"The captain will be responsible for entering team scores."})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Team Members (Optional)"}),(0,ct.jsx)("div",{className:"max-h-48 overflow-y-auto border border-neutral-300 rounded-lg p-3",children:f.filter(e=>e.user_member_id!==parseInt(p.captainId)).map(e=>(0,ct.jsxs)("label",{className:"flex items-center space-x-2 py-1",children:[(0,ct.jsx)("input",{type:"checkbox",checked:p.selectedPlayers.includes(e.user_member_id),onChange:()=>{return t=e.user_member_id,void g(e=>(0,Re.A)((0,Re.A)({},e),{},{selectedPlayers:e.selectedPlayers.includes(t)?e.selectedPlayers.filter(e=>e!==t):[...e.selectedPlayers,t]}));var t},className:"rounded border-neutral-300 text-brand-neon-green focus:ring-brand-neon-green"}),(0,ct.jsxs)("span",{className:"text-sm",children:[e.first_name," ",e.last_name," (",e.club,")"]})]},e.user_member_id))}),(0,ct.jsx)("p",{className:"text-xs text-neutral-500 mt-1",children:"Select additional team members (up to 4 total including captain)."})]}),(0,ct.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4 pt-4",children:[(0,ct.jsx)("button",{type:"button",onClick:()=>{m(!1),h(null),g({name:"",captainId:"",selectedPlayers:[]})},className:"px-6 py-3 border border-neutral-300 rounded-lg text-neutral-600 hover:bg-neutral-50 transition-colors",children:"Cancel"}),(0,ct.jsx)("button",{onClick:x?async()=>{if(!x||!p.name||!p.captainId)return void _s.error("Please provide a team name and select a captain");if(!s.find(e=>e.user_member_id===parseInt(p.captainId)))return void _s.error("Selected captain not found");const e=s.filter(e=>p.selectedPlayers.includes(e.user_member_id));try{await(0,tt.n7z)(t,parseInt(x.id),{name:p.name,captain_id:parseInt(p.captainId),player_ids:e.map(e=>e.user_member_id)});const s=(await(0,tt.ZNw)(t)).data.map(e=>({id:e.id.toString(),name:e.name,players:e.players||[],maxPlayers:4}));o(s),m(!1),h(null),g({name:"",captainId:"",selectedPlayers:[]}),_s.success('Team "'.concat(p.name,'" updated successfully')),r()}catch(a){console.error("Error updating team:",a),_s.error("Failed to update team")}}:async()=>{if(!p.name||!p.captainId)return void _s.error("Please provide a team name and select a captain");if(!s.find(e=>e.user_member_id===parseInt(p.captainId)))return void _s.error("Selected captain not found");const e=s.filter(e=>p.selectedPlayers.includes(e.user_member_id));try{await(0,tt.gjM)(t,{name:p.name,captain_id:parseInt(p.captainId),player_ids:e.map(e=>e.user_member_id)});const s=(await(0,tt.ZNw)(t)).data.map(e=>({id:e.id.toString(),name:e.name,players:e.players||[],maxPlayers:4}));o(s),m(!1),g({name:"",captainId:"",selectedPlayers:[]}),_s.success('Team "'.concat(p.name,'" created successfully')),r()}catch(a){console.error("Error creating team:",a),_s.error("Failed to create team")}},disabled:!p.name||!p.captainId,className:"px-6 py-3 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:x?"Update Team":"Create Team"})]})]})]})})]})},Bn=We("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),Un=We("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),Hn=We("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),Wn=e=>{let{participants:t,checkIns:s,scores:r,payouts:n,tournamentId:l,onCheckIn:i,onCheckOut:o,onUnregister:c}=e;const[d,u]=(0,a.useState)("name"),[m,x]=(0,a.useState)("asc"),[h,p]=(0,a.useState)([]),[g,f]=(0,a.useState)(!1);(0,a.useEffect)(()=>{(async()=>{f(!0);try{const e=await(0,tt.vD)(l);p(e.data)}catch(e){console.error("Error fetching weekly scorecards:",e)}finally{f(!1)}})()},[l]);const b=e=>{d===e?x("asc"===m?"desc":"asc"):(u(e),x("asc"))},v=e=>d!==e?(0,ct.jsx)(Bn,{className:"w-4 h-4"}):"asc"===m?(0,ct.jsx)(Un,{className:"w-4 h-4"}):(0,ct.jsx)(Hn,{className:"w-4 h-4"}),y=e=>{if(!e.registration_form_data)return"No Response";try{return("string"===typeof e.registration_form_data?JSON.parse(e.registration_form_data):e.registration_form_data).participation_type||"No Response"}catch(t){return"No Response"}},j=e=>{if(!e.registration_form_data)return 0;try{const t="string"===typeof e.registration_form_data?JSON.parse(e.registration_form_data):e.registration_form_data;return(t.night_availability||t.available_nights||[]).length}catch(t){return 0}},N=e=>null!==e.sim_handicap&&void 0!==e.sim_handicap?parseFloat(e.sim_handicap.toString())||0:null!==e.handicap&&void 0!==e.handicap?parseFloat(e.handicap.toString())||0:null!==e.grass_handicap&&void 0!==e.grass_handicap&&parseFloat(e.grass_handicap.toString())||0,w=e=>{const t=N(e);return 0===t?"N/A":null!==e.sim_handicap&&void 0!==e.sim_handicap?"".concat(t.toFixed(1)," (Sim)"):null!==e.handicap&&void 0!==e.handicap?"".concat(t.toFixed(1)," (Reg)"):null!==e.grass_handicap&&void 0!==e.grass_handicap?"".concat(t.toFixed(1)," (Grass)"):"N/A"},_=(0,a.useMemo)(()=>[...t].sort((e,t)=>{var a,r;let n,l;switch(d){case"name":n="".concat(e.first_name," ").concat(e.last_name).toLowerCase(),l="".concat(t.first_name," ").concat(t.last_name).toLowerCase();break;case"club":n=(null===(a=e.club)||void 0===a?void 0:a.toLowerCase())||"",l=(null===(r=t.club)||void 0===r?void 0:r.toLowerCase())||"";break;case"handicap":n=N(e),l=N(t);break;case"participation_type":n=y(e),l=y(t);break;case"night_availability":n=j(e),l=j(t);break;case"payment_status":const i=s.find(t=>t.user_member_id===e.user_member_id),o=s.find(e=>e.user_member_id===t.user_member_id);n="checked_in"===(null===i||void 0===i?void 0:i.status)?1:0,l="checked_in"===(null===o||void 0===o?void 0:o.status)?1:0;break;default:n=e[d],l=t[d]}return n<l?"asc"===m?-1:1:n>l?"asc"===m?1:-1:0}),[t,s,d,m]);return(0,ct.jsx)("div",{className:"space-y-6",children:(0,ct.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-neutral-200",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ct.jsx)("h4",{className:"text-lg font-semibold text-brand-black",children:"Player Management"}),(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsxs)("span",{className:"text-sm text-neutral-600",children:[s.filter(e=>"checked_in"===e.status).length," paid"]}),(0,ct.jsxs)("span",{className:"text-sm text-neutral-600",children:["/ ",t.length," registered"]})]})]}),(0,ct.jsx)("div",{className:"flex flex-wrap gap-3 mb-6",children:(0,ct.jsxs)("button",{onClick:()=>{const e=t.filter(e=>!s.find(t=>t.user_member_id===e.user_member_id&&"checked_in"===t.status));e.length>0&&i(e.map(e=>e.user_member_id))},className:"px-4 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors flex items-center",disabled:0===t.filter(e=>!s.find(t=>t.user_member_id===e.user_member_id&&"checked_in"===t.status)).length,children:[(0,ct.jsx)(Ks,{className:"w-4 h-4 mr-2"}),"Mark All as Paid"]})}),(0,ct.jsx)("div",{className:"overflow-x-auto",children:(0,ct.jsxs)("table",{className:"w-full border-collapse border border-neutral-300 rounded-lg",children:[(0,ct.jsx)("thead",{className:"bg-neutral-50",children:(0,ct.jsxs)("tr",{children:[(0,ct.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium cursor-pointer hover:bg-neutral-100",onClick:()=>b("name"),children:(0,ct.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ct.jsx)("span",{children:"Name"}),v("name")]})}),(0,ct.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium cursor-pointer hover:bg-neutral-100",onClick:()=>b("club"),children:(0,ct.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ct.jsx)("span",{children:"Club"}),v("club")]})}),(0,ct.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium cursor-pointer hover:bg-neutral-100",onClick:()=>b("handicap"),children:(0,ct.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ct.jsx)("span",{children:"Handicap"}),v("handicap")]})}),(0,ct.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium cursor-pointer hover:bg-neutral-100",onClick:()=>b("participation_type"),children:(0,ct.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ct.jsx)("span",{children:"Participation Type"}),v("participation_type")]})}),(0,ct.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium cursor-pointer hover:bg-neutral-100",onClick:()=>b("night_availability"),children:(0,ct.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ct.jsx)("span",{children:"Available Nights"}),v("night_availability")]})}),(0,ct.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium cursor-pointer hover:bg-neutral-100",onClick:()=>b("payment_status"),children:(0,ct.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ct.jsx)("span",{children:"Payment Status"}),v("payment_status")]})}),(0,ct.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Score Submitted"}),(0,ct.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Payout"}),(0,ct.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Actions"})]})}),(0,ct.jsx)("tbody",{children:_.map(e=>{const t=s.find(t=>t.user_member_id===e.user_member_id),a=t&&"checked_in"===t.status,l=(r.find(t=>t.user_id===e.user_member_id),h.find(t=>t.user_id===e.user_member_id)),d=n.find(t=>t.user_member_id===e.user_member_id),u=y(e),m=(e=>{if(!e.registration_form_data)return"No Response";try{const t="string"===typeof e.registration_form_data?JSON.parse(e.registration_form_data):e.registration_form_data,s=t.night_availability||t.available_nights||[];return s.length>0?s.join(", "):"No Response"}catch(t){return"No Response"}})(e);return(0,ct.jsxs)("tr",{className:"hover:bg-neutral-50",children:[(0,ct.jsxs)("td",{className:"border border-neutral-300 px-4 py-3 font-medium",children:[e.first_name," ",e.last_name]}),(0,ct.jsx)("td",{className:"border border-neutral-300 px-4 py-3",children:(0,ct.jsx)("span",{className:"px-2 py-1 bg-neutral-100 text-neutral-700 text-sm rounded",children:e.club})}),(0,ct.jsx)("td",{className:"border border-neutral-300 px-4 py-3",children:(0,ct.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-sm rounded font-medium",children:w(e)})}),(0,ct.jsx)("td",{className:"border border-neutral-300 px-4 py-3",children:(0,ct.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat("Live"===u?"bg-green-100 text-green-800":"Solo"===u?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:u})}),(0,ct.jsx)("td",{className:"border border-neutral-300 px-4 py-3 text-sm text-neutral-600",children:m}),(0,ct.jsx)("td",{className:"border border-neutral-300 px-4 py-3",children:(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[a?(0,ct.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:["\u2713",(0,ct.jsx)("span",{className:"ml-1",children:"Paid"})]}):(0,ct.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:["\u2717",(0,ct.jsx)("span",{className:"ml-1",children:"Unpaid"})]}),(0,ct.jsxs)("div",{className:"flex space-x-1",children:[!a&&(0,ct.jsx)("button",{onClick:()=>i([e.user_member_id]),className:"px-2 py-1 bg-green-600 text-white text-xs rounded hover:bg-green-700 transition-colors",title:"Mark as Paid",children:"\u2713"}),a&&(0,ct.jsx)("button",{onClick:()=>o(e.user_member_id),className:"px-2 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700 transition-colors",title:"Mark as Unpaid",children:"\u2717"})]})]})}),(0,ct.jsx)("td",{className:"border border-neutral-300 px-4 py-3",children:l?(0,ct.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"\u2713 Submitted"}):(0,ct.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Pending"})}),(0,ct.jsx)("td",{className:"border border-neutral-300 px-4 py-3",children:d&&d.amount?(0,ct.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["$",d.amount]}):(0,ct.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"-"})}),(0,ct.jsx)("td",{className:"border border-neutral-300 px-4 py-3 space-x-2",children:c&&(0,ct.jsx)("button",{onClick:()=>c(e.user_member_id),className:"px-3 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700 transition-colors",title:"Unregister from tournament",children:"Unregister"})})]},e.user_member_id)})})]})}),0===_.length&&(0,ct.jsxs)("div",{className:"text-center py-8 text-neutral-600",children:[(0,ct.jsx)(Ye,{className:"w-12 h-12 mx-auto mb-2 text-neutral-400"}),(0,ct.jsx)("p",{children:"No participants found."})]})]})})},qn=e=>{let{tournamentId:t,tournamentName:s,weekStartDate:r,onScorecardUpdated:n}=e;const[l,i]=(0,a.useState)([]),[o,c]=(0,a.useState)(!0),[d,u]=(0,a.useState)(null),[m,x]=(0,a.useState)({hole_scores:[],total_score:0,notes:""}),[h,p]=(0,a.useState)(!1),[g,f]=(0,a.useState)(!1),[b,v]=(0,a.useState)(!1),y=async()=>{try{c(!0);const e=await(0,tt.pJP)(t,r);i(e.data)}catch(e){console.error("Error fetching scorecards:",e),_s.error("Failed to load scorecards")}finally{c(!1)}};(0,a.useEffect)(()=>{y()},[t,r]);const j=()=>{u(null),x({hole_scores:[],total_score:0,notes:""})},N=async()=>{if(d)try{p(!0),await(0,tt.dWB)(t,d.id,{hole_scores:m.hole_scores,total_score:m.total_score}),_s.success("Scorecard updated successfully"),u(null),y(),n()}catch(l){var e,s,a,r;console.error("Error updating scorecard:",l),console.error("Error details:",null===(e=l.response)||void 0===e?void 0:e.data),console.error("Error status:",null===(s=l.response)||void 0===s?void 0:s.status),_s.error("Failed to update scorecard: ".concat((null===(a=l.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.error)||l.message))}finally{p(!1)}};return o?(0,ct.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,ct.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-neon-green"})}):0===l.length?(0,ct.jsxs)("div",{className:"text-center py-8",children:[(0,ct.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-neutral-100 rounded-full flex items-center justify-center",children:(0,ct.jsx)(wt,{className:"w-8 h-8 text-neutral-400"})}),(0,ct.jsx)("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"No scorecards found"}),(0,ct.jsx)("p",{className:"text-neutral-600",children:"No scorecards have been submitted for this tournament yet."})]}):(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h3",{className:"text-xl font-semibold text-brand-black",children:"Admin Scorecard Editor"}),(0,ct.jsxs)("p",{className:"text-sm text-neutral-600",children:["Edit or delete player scorecards for ",s,r&&" (Week of ".concat(new Date(r).toLocaleDateString(),")")]})]}),(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsx)("button",{onClick:y,className:"px-3 py-2 bg-neutral-100 text-neutral-700 rounded-lg hover:bg-neutral-200 transition-colors",title:"Refresh scorecards",children:(0,ct.jsx)(Ut,{className:"w-4 h-4"})}),(0,ct.jsx)("button",{onClick:()=>v(!b),className:"px-3 py-2 rounded-lg transition-colors ".concat(b?"bg-red-100 text-red-700 hover:bg-red-200":"bg-neutral-100 text-neutral-700 hover:bg-neutral-200"),title:b?"Hide deleted scorecards":"Show deleted scorecards",children:b?(0,ct.jsx)(ur,{className:"w-4 h-4"}):(0,ct.jsx)(wt,{className:"w-4 h-4"})})]})]}),(0,ct.jsx)("div",{className:"space-y-4",children:l.map(e=>(0,ct.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("h4",{className:"font-medium text-brand-black",children:[e.first_name," ",e.last_name]}),(0,ct.jsx)("p",{className:"text-sm text-neutral-600",children:e.club}),(0,ct.jsx)("p",{className:"text-xs text-neutral-500",children:e.email_address})]}),(0,ct.jsxs)("div",{className:"text-right",children:[(0,ct.jsx)("div",{className:"text-2xl font-bold text-brand-neon-green",children:e.total_score}),(0,ct.jsx)("div",{className:"text-sm text-neutral-500",children:"Total Score"}),(0,ct.jsx)("div",{className:"text-xs text-neutral-400",children:new Date(e.updated_at||e.created_at).toLocaleDateString()})]})]}),(0,ct.jsxs)("div",{className:"mb-4",children:[(0,ct.jsx)("h5",{className:"text-sm font-medium text-neutral-700 mb-2",children:"Hole Scores:"}),(0,ct.jsx)("div",{className:"grid grid-cols-9 gap-1",children:e.hole_scores.map((e,t)=>(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsxs)("div",{className:"text-xs text-neutral-500 mb-1",children:["H",t+1]}),(0,ct.jsx)("div",{className:"text-sm font-medium text-neutral-700",children:e})]},t))})]}),e.notes&&(0,ct.jsxs)("div",{className:"mb-4",children:[(0,ct.jsx)("h5",{className:"text-sm font-medium text-neutral-700 mb-1",children:"Notes:"}),(0,ct.jsx)("p",{className:"text-sm text-neutral-600 bg-neutral-50 p-2 rounded",children:e.notes})]}),(0,ct.jsx)("div",{className:"flex items-center justify-end space-x-2",children:(null===d||void 0===d?void 0:d.id)===e.id?(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)("button",{onClick:j,className:"px-3 py-2 border border-neutral-300 text-neutral-600 rounded hover:bg-neutral-50 transition-colors",children:"Cancel"}),(0,ct.jsxs)("button",{onClick:N,disabled:h,className:"px-3 py-2 bg-brand-neon-green text-brand-black rounded font-medium hover:bg-green-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center",children:[h?(0,ct.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-brand-black mr-2"}):(0,ct.jsx)(Yt,{className:"w-4 h-4 mr-2"}),"Save"]})]}):(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsxs)("button",{onClick:()=>(e=>{u(e),x({hole_scores:[...e.hole_scores],total_score:e.total_score,notes:e.notes||""})})(e),className:"px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center",children:[(0,ct.jsx)(Rn,{className:"w-4 h-4 mr-2"}),"Edit"]}),(0,ct.jsxs)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete the scorecard for ".concat(e.first_name," ").concat(e.last_name,"? This action cannot be undone.")))try{f(!0),await(0,tt.ZjU)(t,e.id),_s.success("Scorecard deleted successfully"),y(),n()}catch(s){console.error("Error deleting scorecard:",s),_s.error("Failed to delete scorecard")}finally{f(!1)}})(e),disabled:g,className:"px-3 py-2 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center",children:[g?(0,ct.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):(0,ct.jsx)(Tn,{className:"w-4 h-4 mr-2"}),"Delete"]})]})}),(null===d||void 0===d?void 0:d.id)===e.id&&(0,ct.jsxs)("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,ct.jsx)("h5",{className:"font-medium text-blue-800 mb-3",children:"Editing Scorecard"}),(0,ct.jsxs)("div",{className:"mb-4",children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-blue-800 mb-2",children:"Hole Scores:"}),(0,ct.jsx)("div",{className:"grid grid-cols-9 gap-2",children:m.hole_scores.map((e,t)=>(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsxs)("label",{className:"block text-xs text-blue-700 mb-1",children:["H",t+1]}),(0,ct.jsx)("input",{type:"number",min:"1",max:"10",value:e||"",onChange:e=>((e,t)=>{const s=[...m.hole_scores],a=parseInt(t)||0;s[e]=a;const r=s.reduce((e,t)=>e+t,0);x((0,Re.A)((0,Re.A)({},m),{},{hole_scores:s,total_score:r}))})(t,e.target.value),className:"w-full px-2 py-1 text-sm border border-blue-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-transparent text-center"})]},t))})]}),(0,ct.jsxs)("div",{className:"mb-4",children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-blue-800 mb-2",children:"Total Score:"}),(0,ct.jsx)("input",{type:"number",min:"1",value:m.total_score,onChange:e=>(e=>{const t=parseInt(e)||0;x((0,Re.A)((0,Re.A)({},m),{},{total_score:t}))})(e.target.value),className:"w-full px-3 py-2 border border-blue-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-transparent"})]}),(0,ct.jsxs)("div",{className:"mb-4",children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-blue-800 mb-2",children:"Notes:"}),(0,ct.jsx)("textarea",{value:m.notes,onChange:e=>x((0,Re.A)((0,Re.A)({},m),{},{notes:e.target.value})),rows:3,className:"w-full px-3 py-2 border border-blue-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-transparent",placeholder:"Add any notes about this scorecard..."})]})]})]},e.id))}),(0,ct.jsx)("div",{className:"bg-neutral-50 border border-neutral-200 rounded-lg p-4",children:(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h4",{className:"font-medium text-neutral-700",children:"Summary"}),(0,ct.jsxs)("p",{className:"text-sm text-neutral-600",children:[l.length," scorecard",1!==l.length?"s":""," loaded"]})]}),(0,ct.jsxs)("div",{className:"text-right",children:[(0,ct.jsxs)("div",{className:"text-sm text-neutral-600",children:["Average Score: ",l.length>0?Math.round(l.reduce((e,t)=>e+t.total_score,0)/l.length):0]}),(0,ct.jsxs)("div",{className:"text-sm text-neutral-600",children:["Best Score: ",l.length>0?Math.min(...l.map(e=>e.total_score)):0]})]})]})})]})},Vn=e=>{let{tournamentId:t,tournamentName:s,onScorecardUpdated:r}=e;const[n,l]=(0,a.useState)([]),[i,o]=(0,a.useState)(!0),[c,d]=(0,a.useState)(null),[u,m]=(0,a.useState)({scores:[],total_strokes:0,notes:""}),[x,h]=(0,a.useState)(!1),[p,g]=(0,a.useState)(!1),[f,b]=(0,a.useState)(!1),v=async()=>{try{o(!0);const e=await(0,tt.BkY)(t);l(e.data)}catch(e){console.error("Error fetching scorecards:",e),_s.error("Failed to load scorecards")}finally{o(!1)}};(0,a.useEffect)(()=>{v()},[t]);const y=()=>{d(null),m({scores:[],total_strokes:0,notes:""})},j=async()=>{if(c)try{h(!0),await(0,tt.nIZ)(t,c.id,{hole_scores:u.scores,total_score:u.total_strokes}),_s.success("Scorecard updated successfully"),d(null),v(),r()}catch(e){console.error("Error updating scorecard:",e),_s.error("Failed to update scorecard")}finally{h(!1)}};return i?(0,ct.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,ct.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-neon-green"})}):0===n.length?(0,ct.jsxs)("div",{className:"text-center py-8",children:[(0,ct.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-neutral-100 rounded-full flex items-center justify-center",children:(0,ct.jsx)(pt,{className:"w-8 h-8 text-neutral-400"})}),(0,ct.jsx)("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"No strokeplay scorecards found"}),(0,ct.jsx)("p",{className:"text-neutral-600",children:"No strokeplay scorecards have been submitted for this tournament yet."})]}):(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h3",{className:"text-xl font-semibold text-brand-black",children:"Admin Strokeplay Scorecard Editor"}),(0,ct.jsxs)("p",{className:"text-sm text-neutral-600",children:["Edit or delete player scorecards for ",s]})]}),(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsx)("button",{onClick:v,className:"px-3 py-2 bg-neutral-100 text-neutral-700 rounded-lg hover:bg-neutral-200 transition-colors",title:"Refresh scorecards",children:(0,ct.jsx)(Ut,{className:"w-4 h-4"})}),(0,ct.jsx)("button",{onClick:()=>b(!f),className:"px-3 py-2 rounded-lg transition-colors ".concat(f?"bg-red-100 text-red-700 hover:bg-red-200":"bg-neutral-100 text-neutral-700 hover:bg-neutral-200"),title:f?"Hide deleted scorecards":"Show deleted scorecards",children:f?(0,ct.jsx)(ur,{className:"w-4 h-4"}):(0,ct.jsx)(wt,{className:"w-4 h-4"})})]})]}),(0,ct.jsx)("div",{className:"space-y-4",children:n.map(e=>(0,ct.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("h4",{className:"font-medium text-brand-black",children:[e.first_name," ",e.last_name]}),(0,ct.jsx)("p",{className:"text-sm text-neutral-600",children:e.club}),(0,ct.jsx)("p",{className:"text-xs text-neutral-500",children:e.email_address}),(0,ct.jsxs)("p",{className:"text-xs text-neutral-400",children:["Played: ",new Date(e.date_played).toLocaleDateString()]})]}),(0,ct.jsxs)("div",{className:"text-right",children:[(0,ct.jsx)("div",{className:"text-2xl font-bold text-brand-neon-green",children:e.total_strokes}),(0,ct.jsx)("div",{className:"text-sm text-neutral-500",children:"Total Strokes"}),(0,ct.jsx)("div",{className:"text-xs text-neutral-400",children:new Date(e.updated_at||e.created_at).toLocaleDateString()})]})]}),(0,ct.jsxs)("div",{className:"mb-4",children:[(0,ct.jsx)("h5",{className:"text-sm font-medium text-neutral-700 mb-2",children:"Hole Scores:"}),(0,ct.jsx)("div",{className:"grid grid-cols-9 gap-1",children:e.scores.map((e,t)=>(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsxs)("div",{className:"text-xs text-neutral-500 mb-1",children:["H",t+1]}),(0,ct.jsx)("div",{className:"text-sm font-medium text-neutral-700",children:e})]},t))})]}),e.notes&&(0,ct.jsxs)("div",{className:"mb-4",children:[(0,ct.jsx)("h5",{className:"text-sm font-medium text-neutral-700 mb-1",children:"Notes:"}),(0,ct.jsx)("p",{className:"text-sm text-neutral-600 bg-neutral-50 p-2 rounded",children:e.notes})]}),(0,ct.jsx)("div",{className:"flex items-center justify-end space-x-2",children:(null===c||void 0===c?void 0:c.id)===e.id?(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)("button",{onClick:y,className:"px-3 py-2 border border-neutral-300 text-neutral-600 rounded hover:bg-neutral-50 transition-colors",children:"Cancel"}),(0,ct.jsxs)("button",{onClick:j,disabled:x,className:"px-3 py-2 bg-brand-neon-green text-brand-black rounded font-medium hover:bg-green-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center",children:[x?(0,ct.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-brand-black mr-2"}):(0,ct.jsx)(Yt,{className:"w-4 h-4 mr-2"}),"Save"]})]}):(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsxs)("button",{onClick:()=>(e=>{d(e),m({scores:[...e.scores],total_strokes:e.total_strokes,notes:e.notes||""})})(e),className:"px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center",children:[(0,ct.jsx)(Rn,{className:"w-4 h-4 mr-2"}),"Edit"]}),(0,ct.jsxs)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete the scorecard for ".concat(e.first_name," ").concat(e.last_name,"? This action cannot be undone.")))try{g(!0),await(0,tt.ZMu)(t,e.id),_s.success("Scorecard deleted successfully"),v(),r()}catch(s){console.error("Error deleting scorecard:",s),_s.error("Failed to delete scorecard")}finally{g(!1)}})(e),disabled:p,className:"px-3 py-2 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center",children:[p?(0,ct.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):(0,ct.jsx)(Tn,{className:"w-4 h-4 mr-2"}),"Delete"]})]})}),(null===c||void 0===c?void 0:c.id)===e.id&&(0,ct.jsxs)("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,ct.jsx)("h5",{className:"font-medium text-blue-800 mb-3",children:"Editing Scorecard"}),(0,ct.jsxs)("div",{className:"mb-4",children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-blue-800 mb-2",children:"Hole Scores:"}),(0,ct.jsx)("div",{className:"grid grid-cols-9 gap-2",children:u.scores.map((e,t)=>(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsxs)("label",{className:"block text-xs text-blue-700 mb-1",children:["H",t+1]}),(0,ct.jsx)("input",{type:"number",min:"1",max:"10",value:e||"",onChange:e=>((e,t)=>{const s=[...u.scores],a=parseInt(t)||0;s[e]=a;const r=s.reduce((e,t)=>e+t,0);m((0,Re.A)((0,Re.A)({},u),{},{scores:s,total_strokes:r}))})(t,e.target.value),className:"w-full px-2 py-1 text-sm border border-blue-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-transparent text-center"})]},t))})]}),(0,ct.jsxs)("div",{className:"mb-4",children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-blue-800 mb-2",children:"Total Strokes:"}),(0,ct.jsx)("input",{type:"number",min:"1",value:u.total_strokes,onChange:e=>(e=>{const t=parseInt(e)||0;m((0,Re.A)((0,Re.A)({},u),{},{total_strokes:t}))})(e.target.value),className:"w-full px-3 py-2 border border-blue-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-transparent"})]}),(0,ct.jsxs)("div",{className:"mb-4",children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-blue-800 mb-2",children:"Notes:"}),(0,ct.jsx)("textarea",{value:u.notes,onChange:e=>m((0,Re.A)((0,Re.A)({},u),{},{notes:e.target.value})),rows:3,className:"w-full px-3 py-2 border border-blue-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-transparent",placeholder:"Add any notes about this scorecard..."})]})]})]},e.id))}),(0,ct.jsx)("div",{className:"bg-neutral-50 border border-neutral-200 rounded-lg p-4",children:(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h4",{className:"font-medium text-neutral-700",children:"Summary"}),(0,ct.jsxs)("p",{className:"text-sm text-neutral-600",children:[n.length," scorecard",1!==n.length?"s":""," loaded"]})]}),(0,ct.jsxs)("div",{className:"text-right",children:[(0,ct.jsxs)("div",{className:"text-sm text-neutral-600",children:["Average Score: ",n.length>0?Math.round(n.reduce((e,t)=>e+t.total_strokes,0)/n.length):0]}),(0,ct.jsxs)("div",{className:"text-sm text-neutral-600",children:["Best Score: ",n.length>0?Math.min(...n.map(e=>e.total_strokes)):0]})]})]})})]})},Gn=e=>{let{tournamentId:t,tournamentName:s,onMatchUpdated:r}=e;const[n,l]=(0,a.useState)([]),[i,o]=(0,a.useState)(!0),[c,d]=(0,a.useState)(null),[u,m]=(0,a.useState)({player1_score:0,player2_score:0,winner_id:null}),[x,h]=(0,a.useState)(!1),p=async()=>{try{o(!0);const e=await(0,tt.m5P)(t);l(e.data)}catch(e){console.error("Error fetching matches:",e),_s.error("Failed to load matches")}finally{o(!1)}};(0,a.useEffect)(()=>{p()},[t]);const g=()=>{d(null),m({player1_score:0,player2_score:0,winner_id:null})},f=(e,t)=>{const s=parseInt(t)||0;m((0,Re.A)((0,Re.A)({},u),{},{["player1"===e?"player1_score":"player2_score"]:s}))},b=async()=>{if(c)try{h(!0),await(0,tt.rIi)(t,c.id,{player1_score:u.player1_score,player2_score:u.player2_score,winner_id:u.winner_id,scores:c.scores}),_s.success("Match updated successfully"),d(null),p(),r()}catch(e){console.error("Error updating match:",e),_s.error("Failed to update match")}finally{h(!1)}};return i?(0,ct.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,ct.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-neon-green"})}):0===n.length?(0,ct.jsxs)("div",{className:"text-center py-8",children:[(0,ct.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-neutral-100 rounded-full flex items-center justify-center",children:(0,ct.jsx)(qe,{className:"w-8 h-8 text-neutral-400"})}),(0,ct.jsx)("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"No matchplay matches found"}),(0,ct.jsx)("p",{className:"text-neutral-600",children:"No matchplay matches have been generated for this tournament yet."})]}):(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h3",{className:"text-xl font-semibold text-brand-black",children:"Admin Matchplay Editor"}),(0,ct.jsxs)("p",{className:"text-sm text-neutral-600",children:["Edit matchplay matches for ",s]})]}),(0,ct.jsx)("div",{className:"flex items-center space-x-2",children:(0,ct.jsx)("button",{onClick:p,className:"px-3 py-2 bg-neutral-100 text-neutral-700 rounded-lg hover:bg-neutral-200 transition-colors",title:"Refresh matches",children:(0,ct.jsx)(Ut,{className:"w-4 h-4"})})})]}),(0,ct.jsx)("div",{className:"space-y-4",children:n.map(e=>(0,ct.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("h4",{className:"font-medium text-brand-black",children:["Match #",e.match_number]}),(0,ct.jsx)("p",{className:"text-sm text-neutral-500",children:"completed"===e.status?"Completed":"Pending"})]}),(0,ct.jsx)("div",{className:"text-right",children:e.winner_id&&(0,ct.jsxs)("div",{className:"text-sm text-green-600 font-medium",children:["Winner: ",e.winner_id===e.player1_id?"".concat(e.player1_first_name," ").concat(e.player1_last_name):"".concat(e.player2_first_name," ").concat(e.player2_last_name)]})})]}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,ct.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg",children:[(0,ct.jsx)("h5",{className:"font-medium text-blue-800 mb-2",children:"Player 1"}),(0,ct.jsxs)("p",{className:"text-sm font-medium text-blue-900",children:[e.player1_first_name," ",e.player1_last_name]}),(0,ct.jsx)("p",{className:"text-xs text-blue-700",children:e.player1_club}),(0,ct.jsxs)("p",{className:"text-lg font-bold text-blue-600 mt-1",children:["Score: ",e.player1_score||"-"]})]}),(0,ct.jsxs)("div",{className:"bg-green-50 p-3 rounded-lg",children:[(0,ct.jsx)("h5",{className:"font-medium text-green-800 mb-2",children:"Player 2"}),(0,ct.jsxs)("p",{className:"text-sm font-medium text-green-900",children:[e.player2_first_name," ",e.player2_last_name]}),(0,ct.jsx)("p",{className:"text-xs text-green-700",children:e.player2_club}),(0,ct.jsxs)("p",{className:"text-lg font-bold text-green-600 mt-1",children:["Score: ",e.player2_score||"-"]})]})]}),(0,ct.jsx)("div",{className:"flex items-center justify-end space-x-2",children:(null===c||void 0===c?void 0:c.id)===e.id?(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)("button",{onClick:g,className:"px-3 py-2 border border-neutral-300 text-neutral-600 rounded hover:bg-neutral-50 transition-colors",children:"Cancel"}),(0,ct.jsxs)("button",{onClick:b,disabled:x,className:"px-3 py-2 bg-brand-neon-green text-brand-black rounded font-medium hover:bg-green-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center",children:[x?(0,ct.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-brand-black mr-2"}):(0,ct.jsx)(Yt,{className:"w-4 h-4 mr-2"}),"Save"]})]}):(0,ct.jsxs)("button",{onClick:()=>(e=>{d(e),m({player1_score:e.player1_score||0,player2_score:e.player2_score||0,winner_id:e.winner_id})})(e),className:"px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center",children:[(0,ct.jsx)(Rn,{className:"w-4 h-4 mr-2"}),"Edit"]})}),(null===c||void 0===c?void 0:c.id)===e.id&&(0,ct.jsxs)("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,ct.jsx)("h5",{className:"font-medium text-blue-800 mb-3",children:"Editing Match"}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-blue-800 mb-2",children:"Player 1 Score:"}),(0,ct.jsx)("input",{type:"number",min:"0",value:u.player1_score,onChange:e=>f("player1",e.target.value),className:"w-full px-3 py-2 border border-blue-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-transparent"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-blue-800 mb-2",children:"Player 2 Score:"}),(0,ct.jsx)("input",{type:"number",min:"0",value:u.player2_score,onChange:e=>f("player2",e.target.value),className:"w-full px-3 py-2 border border-blue-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,ct.jsxs)("div",{className:"mb-4",children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-blue-800 mb-2",children:"Winner:"}),(0,ct.jsxs)("select",{value:u.winner_id||"null",onChange:e=>{return t=e.target.value,void m((0,Re.A)((0,Re.A)({},u),{},{winner_id:"null"===t?null:parseInt(t)}));var t},className:"w-full px-3 py-2 border border-blue-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-transparent",children:[(0,ct.jsx)("option",{value:"null",children:"No winner (tie)"}),(0,ct.jsxs)("option",{value:e.player1_id,children:[e.player1_first_name," ",e.player1_last_name]}),(0,ct.jsxs)("option",{value:e.player2_id,children:[e.player2_first_name," ",e.player2_last_name]})]})]})]})]},e.id))}),(0,ct.jsx)("div",{className:"bg-neutral-50 border border-neutral-200 rounded-lg p-4",children:(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h4",{className:"font-medium text-neutral-700",children:"Summary"}),(0,ct.jsxs)("p",{className:"text-sm text-neutral-600",children:[n.length," match",1!==n.length?"es":""," loaded"]})]}),(0,ct.jsxs)("div",{className:"text-right",children:[(0,ct.jsxs)("div",{className:"text-sm text-neutral-600",children:["Completed: ",n.filter(e=>"completed"===e.status).length]}),(0,ct.jsxs)("div",{className:"text-sm text-neutral-600",children:["Pending: ",n.filter(e=>"pending"===e.status).length]})]})]})})]})},Yn=e=>{let{match:t,availablePlayers:s,onClose:r,onUpdate:n}=e;const[l,i]=(0,a.useState)(t.player1||null),[o,c]=(0,a.useState)(t.player2||null);return(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Player 1"}),(0,ct.jsxs)("select",{value:(null===l||void 0===l?void 0:l.user_id)||"",onChange:e=>{const t=s.find(t=>t.user_id===parseInt(e.target.value));i(t)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,ct.jsx)("option",{value:"",children:"Select Player 1"}),s.map(e=>(0,ct.jsxs)("option",{value:e.user_id,children:[e.first_name," ",e.last_name," (",e.club,")"]},e.user_id))]}),l&&(0,ct.jsxs)("div",{className:"mt-2 text-sm text-gray-600",children:["Club: ",l.club]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Player 2"}),(0,ct.jsxs)("select",{value:(null===o||void 0===o?void 0:o.user_id)||"",onChange:e=>{const t=s.find(t=>t.user_id===parseInt(e.target.value));c(t)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,ct.jsx)("option",{value:"",children:"Select Player 2"}),s.map(e=>(0,ct.jsxs)("option",{value:e.user_id,children:[e.first_name," ",e.last_name," (",e.club,")"]},e.user_id))]}),o&&(0,ct.jsxs)("div",{className:"mt-2 text-sm text-gray-600",children:["Club: ",o.club]})]})]}),(0,ct.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ct.jsx)("button",{onClick:r,className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),(0,ct.jsx)("button",{onClick:()=>{l&&o?n(l,o):_s.error("Please select both players")},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Update Match"})]})]})},$n=e=>{var t,s;let{tournamentId:r,tournamentName:n,tournamentParticipants:l,tournamentMatches:i,tournamentCourse:o,tournamentCourseId:c,tournament:d,onDataRefresh:u}=e;const[m,x]=(0,a.useState)([]),[h,p]=(0,a.useState)([]),[g,f]=(0,a.useState)([]),[b,v]=(0,a.useState)(!0),[y,j]=(0,a.useState)("overview"),[N,w]=(0,a.useState)(null),[_,k]=(0,a.useState)(null),[S,C]=(0,a.useState)(!1),[A,E]=(0,a.useState)(!1),[T,P]=(0,a.useState)(""),[D,M]=(0,a.useState)([]),[R,L]=(0,a.useState)([]),[F,O]=(0,a.useState)([]),[I,z]=(0,a.useState)(null),[B,U]=(0,a.useState)(null),[H,W]=(0,a.useState)(null),[q,V]=(0,a.useState)(!1),[G,Y]=(0,a.useState)(null),[$,Q]=(0,a.useState)(0),[K,J]=(0,a.useState)(0),[X,Z]=(0,a.useState)(null),[ee,te]=(0,a.useState)(!1),[se,ae]=(0,a.useState)(new Array(18).fill(0)),[re,ne]=(0,a.useState)(new Array(18).fill(0)),[le,ie]=(0,a.useState)(new Array(18).fill(0)),[oe,ce]=(0,a.useState)(new Array(18).fill(0)),[de,ue]=(0,a.useState)(0),[me,xe]=(0,a.useState)(0),[he,pe]=(0,a.useState)(null),[ge,fe]=(0,a.useState)(""),[be,ve]=(0,a.useState)([]),[ye,je]=(0,a.useState)([]),[Ne,we]=(0,a.useState)(!1),[_e,ke]=(0,a.useState)(null),[Se,Ce]=(0,a.useState)(!1),[Ae,Ee]=(0,a.useState)(""),[Te,Pe]=(0,a.useState)(""),[De,Me]=(0,a.useState)(!1),[Le,Fe]=(0,a.useState)(""),[Oe,Ie]=(0,a.useState)(null),[ze,Be]=(0,a.useState)(""),[Ue,He]=(0,a.useState)([]),[We,Ve]=(0,a.useState)(!1),[$e,Ke]=(0,a.useState)([]),[Je,Xe]=(0,a.useState)(null),[Ze,et]=(0,a.useState)(null),[st,at]=(0,a.useState)(null),[rt,nt]=(0,a.useState)(!1),[lt,it]=(0,a.useState)([]),[ot,dt]=(0,a.useState)({}),[ut,mt]=(0,a.useState)(!1),[xt,pt]=(0,a.useState)(null),[ft,bt]=(0,a.useState)([]),[vt,yt]=(0,a.useState)(""),[jt,Nt]=(0,a.useState)([]),[wt,_t]=(0,a.useState)(null),[kt,At]=(0,a.useState)(""),[Et,Tt]=(0,a.useState)(""),{courseData:Pt,loading:Dt,courseId:Mt}=Is(r,d);(0,a.useEffect)(()=>{console.log("ChampionshipAdminDashboard mounted with:",{tournamentId:r,tournamentCourse:o,tournamentCourseId:c,tournamentParticipants:null===l||void 0===l?void 0:l.length,userCourseId:Mt,userCourseLoading:Dt}),Ht()},[r,l,i,Mt,Dt]);const Rt=async()=>{try{Ve(!0);const e=await tt.Ay$.get("/tournaments/".concat(r,"/championship-standings"));He(e.data),await Ot(e.data)}catch(e){console.error("Error loading standings:",e),_s.error("Failed to load standings")}finally{Ve(!1)}},Lt=e=>{const t=[];e.forEach(e=>{if(e.participants.length>0){const s=e.participants[0];t.push({user_id:s.user_id,first_name:s.first_name,last_name:s.last_name,club:s.club,group_name:e.group_name,position:1,match_wins:s.match_wins,match_losses:s.match_losses,match_ties:s.match_ties,total_matches:s.total_matches,tiebreaker_points:s.tiebreaker_points,total_holes_won:s.total_holes_won,total_holes_lost:s.total_holes_lost,net_holes:s.net_holes})}});const s=[];e.forEach(e=>{e.participants.slice(1).forEach((t,a)=>{s.push({user_id:t.user_id,first_name:t.first_name,last_name:t.last_name,club:t.club,group_name:e.group_name,position:a+2,match_wins:t.match_wins,match_losses:t.match_losses,match_ties:t.match_ties,total_matches:t.total_matches,tiebreaker_points:t.tiebreaker_points,total_holes_won:t.total_holes_won,total_holes_lost:t.total_holes_lost,net_holes:t.net_holes})})}),s.sort((e,t)=>t.match_wins!==e.match_wins?t.match_wins-e.match_wins:t.tiebreaker_points!==e.tiebreaker_points?t.tiebreaker_points-e.tiebreaker_points:t.net_holes-e.net_holes);const a=8-t.length,r=s.slice(0,a);return t.push(...r),t.slice(0,8)},Ft=e=>{if(8!==e.length)return[];const t=e.slice(0,4),s=e.slice(4,8),a=[];return a.push({round:1,match:1,player1:t[0],player2:t[3],winner:null,division:"east",match_number:1}),a.push({round:1,match:2,player1:t[1],player2:t[2],winner:null,division:"east",match_number:2}),a.push({round:1,match:3,player1:s[0],player2:s[3],winner:null,division:"west",match_number:3}),a.push({round:1,match:4,player1:s[1],player2:s[2],winner:null,division:"west",match_number:4}),a.push({round:2,match:1,player1:null,player2:null,winner:null,division:"east",match_number:5,depends_on:["1-1","1-2"]}),a.push({round:2,match:2,player1:null,player2:null,winner:null,division:"west",match_number:6,depends_on:["1-3","1-4"]}),a.push({round:3,match:1,player1:null,player2:null,winner:null,division:"final",match_number:7,depends_on:["2-1","2-2"]}),a},Ot=async e=>{try{const t=await tt.Ay$.get("/tournaments/".concat(r,"/championship-matches")),s=t.data.filter(e=>"national_championship"===e.match_type);if(s.length>0){console.log("Loading bracket from database with",s.length,"matches");const e=(await tt.Ay$.get("/users")).data,t=(await Promise.all(s.map(async t=>{const s=-1===t.player1_id?{first_name:"TBD",last_name:"",club:""}:e.find(e=>e.member_id===t.player1_id),a=-1===t.player2_id?{first_name:"TBD",last_name:"",club:""}:e.find(e=>e.member_id===t.player2_id);if(!s||!a)return console.error("Player not found:",{player1_id:t.player1_id,player2_id:t.player2_id}),null;const r={user_id:t.player1_id,first_name:s.first_name,last_name:s.last_name,club:s.club},n={user_id:t.player2_id,first_name:a.first_name,last_name:a.last_name,club:a.club};let l=null;return 1===t.round_number?1===t.match_number||2===t.match_number?l="east":3!==t.match_number&&4!==t.match_number||(l="west"):2===t.round_number&&(l=5===t.match_number?"east":"west"),{round:t.round_number,match:t.match_number,match_number:t.match_number,division:l,player1:r,player2:n,winner:t.winner_id||null,id:t.id}}))).filter(e=>null!==e);return void Ke(t)}console.log("No database matches found, generating bracket from standings");const a=Lt(e),n=Ft(a);Ke(n)}catch(t){console.error("Error loading bracket from database:",t);try{const t=Lt(e),s=Ft(t);Ke(s)}catch(s){console.error("Error generating bracket:",s),_s.error("Failed to load bracket")}}},It=e=>{at(e);const t=Lt(Ue);it(t),nt(!0)},zt=(e,t,s)=>{const a=$e.find(s=>s.round===e&&s.match===t);Xe({round:e,match_number:(null===a||void 0===a?void 0:a.match_number)||t,match:t}),et(s.user_id)},Bt=async(e,t)=>{const s=$e.map(s=>s.round===e&&s.match===t?(0,Re.A)((0,Re.A)({},s),{},{winner:null}):s);Ke(s);try{const s=await tt.Ay$.get("/tournaments/".concat(r,"/championship-matches")),a=s.data.find(s=>"national_championship"===s.match_type&&s.round_number===e&&s.match_number===t);a&&a.id&&await tt.Ay$.put("/tournaments/".concat(r,"/national-matches/").concat(a.id,"/winner"),{winner_id:null})}catch(a){console.error("Error clearing winner in database:",a)}_s.success("Winner cleared")},Ht=async()=>{try{v(!0);const t=new Map;l.forEach(e=>{e.club&&(t.has(e.club)||t.set(e.club,[]),t.get(e.club).push(e))});const s=Array.from(t.entries()).map(e=>{let[t,s]=e;return{club:t,participant_count:s.length,participants:s.map(e=>({user_id:e.user_member_id,first_name:e.first_name,last_name:e.last_name,email:e.email_address}))}});p(s);try{const e=await tt.Ay$.get("/tournaments/".concat(r,"/club-groups"));x(e.data)}catch(e){console.error("Error loading club groups:",e)}try{const e=await tt.Ay$.get("/tournaments/".concat(r,"/championship-matches"));f(e.data)}catch(e){console.error("Error loading championship matches:",e),f(i)}if("championship"===(null===d||void 0===d?void 0:d.tournament_type)||null!==d&&void 0!==d&&d.is_national_tournament)try{await Rt()}catch(e){console.error("Error loading standings:",e)}}catch(e){console.error("Error loading dashboard data:",e),_s.error("Failed to load dashboard data")}finally{v(!1)}},Wt=()=>{const e=m.flatMap(e=>e.user_ids||[]);return l.filter(t=>!e.includes(t.user_member_id))},qt=async e=>{console.log("Opening match play scoring for match:",e),Y(e);const t=l.find(t=>t.user_member_id===e.player1_id),s=l.find(t=>t.user_member_id===e.player2_id);if(t){const e=Number(t.sim_handicap||t.handicap||0);console.log("Player 1 handicap:",e,"from fields:",{sim_handicap:t.sim_handicap,handicap:t.handicap}),ue(e)}if(s){const e=Number(s.sim_handicap||s.handicap||0);console.log("Player 2 handicap:",e,"from fields:",{sim_handicap:s.sim_handicap,handicap:s.handicap}),xe(e)}const a=((e,t)=>{const s=l.find(t=>t.user_member_id===e),a=l.find(e=>e.user_member_id===t);return"No. 8"===(null===s||void 0===s?void 0:s.club)||"No. 8"===(null===a||void 0===a?void 0:a.club)?{courseId:null===d||void 0===d?void 0:d.trackman_course_id,courseName:null===d||void 0===d?void 0:d.trackman_course,platform:"trackman",reason:"One or both players are from Club No. 8 (Trackman)"}:{courseId:null===d||void 0===d?void 0:d.gspro_course_id,courseName:null===d||void 0===d?void 0:d.gspro_course,platform:"gspro",reason:"Both players are from other clubs (GSPro)"}})(e.player1_id,e.player2_id);ke(a),console.log("Match course assignment:",a),console.log("Player 1 club:",null===t||void 0===t?void 0:t.club,"Player 2 club:",null===s||void 0===s?void 0:s.club);const r=a.courseId||c;if(r){console.log("Loading course data for ID:",r,"matchCourseId:",a.courseId,"tournamentCourseId:",c);try{const e=await tt.Ay$.get("/simulator-courses?id=".concat(r)),t=e.data.courses||e.data,s=Array.isArray(t)?t[0]:t;if(s&&s.id){if(console.log("Loaded course:",s.name,"for platform:",a.platform),pe(r),s.hole_indexes)try{let e;e=Array.isArray(s.hole_indexes)?s.hole_indexes:JSON.parse(s.hole_indexes),ve(e),console.log("Loaded hole indexes:",e)}catch(Zp){console.error("Error parsing hole indexes:",Zp),ve([1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18])}else console.log("No hole indexes found, using default"),ve([1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18]);if(s.par_values)try{const e=Array.isArray(s.par_values)?s.par_values:JSON.parse(s.par_values);je(e),console.log("Set par values:",e)}catch(Zp){console.error("Error parsing par values:",Zp),console.log("Using default par values"),je(new Array(18).fill(4))}else console.log("No par values found, using default"),je(new Array(18).fill(4))}else console.error("Course not found. Response:",e.data),_s.error("Course (ID: ".concat(r,") not found"))}catch(x){console.error("Error loading course:",x),_s.error("Failed to load course data")}}else console.log("No tournament course ID available"),_s.error("No tournament course selected");const n=e=>{if(!e)return new Array(18).fill(0);try{if(Array.isArray(e))return 18===e.length?e:new Array(18).fill(0);if("string"===typeof e){const t=e.trim();if(t.startsWith("[")&&t.endsWith("]")){const e=JSON.parse(t);return Array.isArray(e)&&18===e.length?e:new Array(18).fill(0)}if(t.includes(",")){const e=t.split(",").map(e=>parseInt(e.trim())||0);return 18===e.length?e:new Array(18).fill(0)}}return new Array(18).fill(0)}catch(Zp){return console.error("Error parsing hole scores:",Zp,"Raw data:",e),new Array(18).fill(0)}};console.log("Loading existing scores - player1_hole_scores:",e.player1_hole_scores),console.log("Loading existing scores - player2_hole_scores:",e.player2_hole_scores),console.log("Loading existing scores - player1_net_hole_scores:",e.player1_net_hole_scores),console.log("Loading existing scores - player2_net_hole_scores:",e.player2_net_hole_scores);const i=n(e.player1_hole_scores),o=n(e.player2_hole_scores),u=n(e.player1_net_hole_scores),m=n(e.player2_net_hole_scores);console.log("Parsed player1 scores:",i),console.log("Parsed player2 scores:",o),console.log("Parsed player1 net scores:",u),console.log("Parsed player2 net scores:",m),ae(i),ne(o),ie(u),ce(m),we(!0)},Vt=function(e,t,s){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const r=s>0?s:1,n=Math.abs(t-a),l=Math.min(Math.round(n),8),i=Math.max(t,a),o=t===i;if(console.log("Admin calculateNetScore debug:",{grossScore:e,handicap:t,opponentHandicap:a,holeIndex:s,actualHoleIndex:r,rawDifferential:n,handicapDifferential:l,higherHandicap:i,isHigherHandicapPlayer:o}),o){const t=Math.floor(l/18)+(l%18>=r?1:0),s=Math.max(1,e-t);return console.log("Higher handicap player gets ".concat(t," strokes on hole ").concat(r,": ").concat(e," -> ").concat(s)),s}return console.log("Lower handicap player gets no strokes on hole ".concat(r,": ").concat(e)),e},Yt=()=>{let e=0,t=0;for(let r=0;r<18;r++){const s=se[r],a=re[r];if(0===s||0===a)continue;const n=Vt(s,de,be[r]||0,me),l=Vt(a,me,be[r]||0,de);n<l?e++:l<n&&t++}const s=e-t;let a=null;return s>0?a=null===G||void 0===G?void 0:G.player1_id:s<0&&(a=null===G||void 0===G?void 0:G.player2_id),{player1HolesWon:e,player2HolesWon:t,player1HolesLost:t,player2HolesLost:e,player1NetHoles:s,player2NetHoles:-s,winner:a}},$t=(e,t)=>{Ee(e),Pe(t),Ce(!0)},Qt=()=>{Ce(!1),Ee(""),Pe("")},Kt=async()=>{try{const e=await tt.Ay$.post("/tournaments/".concat(r,"/determine-champions"));_s.success(e.data.message),Ht(),u()}catch(e){console.error("Error determining champions:",e),_s.error("Failed to determine champions")}},Jt=e=>{switch(e){case 1:return(0,ct.jsx)(qe,{className:"w-5 h-5 text-yellow-500"});case 2:return(0,ct.jsx)(ht,{className:"w-5 h-5 text-gray-400"});case 3:return(0,ct.jsx)(ht,{className:"w-5 h-5 text-amber-600"});default:return(0,ct.jsx)("span",{className:"text-sm font-semibold text-gray-500",children:e})}},Xt=(e,t)=>0===t?"0%":"".concat(Math.round(e/t*100),"%");return(0,a.useEffect)(()=>{(async()=>{try{const e=await tt.Ay$.get("/tournaments/".concat(r));dt(e.data)}catch(e){console.error("Error fetching tournament data:",e)}})()},[r]),(0,a.useEffect)(()=>{"bracket"===y&&ut&&(async()=>{try{const e=await tt.Ay$.get("/simulator-courses?limit=3000");bt(e.data.courses||[])}catch(e){console.error("Error fetching courses:",e)}})()},[y,ut]),(0,a.useEffect)(()=>{if(vt.trim()){const e=ft.filter(e=>e.name.toLowerCase().includes(vt.toLowerCase())||e.location&&e.location.toLowerCase().includes(vt.toLowerCase())).slice(0,20);Nt(e)}else Nt([])},[vt,ft]),(0,a.useEffect)(()=>{"bracket"!==y&&"standings"!==y||Rt()},[y,r]),b?(0,ct.jsxs)("div",{className:"flex items-center justify-center p-8",children:[(0,ct.jsx)(Ut,{className:"w-8 h-8 animate-spin text-blue-500"}),(0,ct.jsx)("span",{className:"ml-2 text-gray-600",children:"Loading championship data..."})]}):(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[(0,ct.jsx)(qe,{className:"w-8 h-8 text-yellow-500 mr-3"}),n," - Championship Management"]}),(0,ct.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage club groups, matches, and determine champions"})]}),(0,ct.jsxs)("button",{onClick:Ht,className:"flex items-center px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[(0,ct.jsx)(Ut,{className:"w-4 h-4 mr-2"}),"Refresh Data"]})]})}),(0,ct.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,ct.jsx)("div",{className:"border-b border-gray-200",children:(0,ct.jsx)("nav",{className:"flex space-x-8 px-6",children:[{id:"overview",label:"Overview",icon:gt},{id:"groups",label:"Groups",icon:Ye},{id:"matches",label:"Matches",icon:An},{id:"scoring",label:"Scoring",icon:Ks},{id:"standings",label:"Standings",icon:qe},{id:"bracket",label:"Bracket",icon:Ct}].map(e=>{let{id:t,label:s,icon:a}=e;return(0,ct.jsxs)("button",{onClick:()=>j(t),className:"flex items-center py-4 px-1 border-b-2 font-medium text-sm ".concat(y===t?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,ct.jsx)(a,{className:"w-4 h-4 mr-2"}),s]},t)})})}),(0,ct.jsxs)("div",{className:"p-6",children:["overview"===y&&(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,ct.jsx)("div",{className:"bg-blue-50 rounded-lg p-6",children:(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)(Ye,{className:"w-8 h-8 text-blue-500"}),(0,ct.jsxs)("div",{className:"ml-4",children:[(0,ct.jsx)("p",{className:"text-sm font-medium text-blue-600",children:"Total Participants"}),(0,ct.jsx)("p",{className:"text-2xl font-bold text-blue-900",children:l.length})]})]})}),(0,ct.jsx)("div",{className:"bg-green-50 rounded-lg p-6",children:(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)(qe,{className:"w-8 h-8 text-green-500"}),(0,ct.jsxs)("div",{className:"ml-4",children:[(0,ct.jsx)("p",{className:"text-sm font-medium text-green-600",children:"Club Groups"}),(0,ct.jsx)("p",{className:"text-2xl font-bold text-green-900",children:m.length})]})]})}),(0,ct.jsx)("div",{className:"bg-purple-50 rounded-lg p-6",children:(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)(An,{className:"w-8 h-8 text-purple-500"}),(0,ct.jsxs)("div",{className:"ml-4",children:[(0,ct.jsx)("p",{className:"text-sm font-medium text-purple-600",children:"Total Matches"}),(0,ct.jsx)("p",{className:"text-2xl font-bold text-purple-900",children:g.length})]})]})})]}),(0,ct.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ct.jsxs)("button",{onClick:async()=>{try{const e=await tt.Ay$.post("/tournaments/".concat(r,"/auto-group-clubs"),{minParticipants:4});_s.success(e.data.message),Ht(),u()}catch(e){console.error("Error auto-grouping clubs:",e),_s.error("Failed to auto-group clubs")}},className:"flex items-center justify-center px-4 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[(0,ct.jsx)(sa,{className:"w-4 h-4 mr-2"}),"Auto-Group Clubs"]}),(0,ct.jsxs)("button",{onClick:async()=>{try{const e=await tt.Ay$.post("/tournaments/".concat(r,"/generate-championship-matches"));_s.success(e.data.message),Ht(),u()}catch(e){console.error("Error generating matches:",e),_s.error("Failed to generate matches")}},className:"flex items-center justify-center px-4 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:[(0,ct.jsx)(An,{className:"w-4 h-4 mr-2"}),"Generate Matches"]}),(0,ct.jsxs)("button",{onClick:Kt,className:"flex items-center justify-center px-4 py-3 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors",children:[(0,ct.jsx)(Ct,{className:"w-4 h-4 mr-2"}),"Determine Champions"]})]})]})]}),"groups"===y&&(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Club Groups"}),(0,ct.jsxs)("button",{onClick:()=>C(!0),className:"flex items-center px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[(0,ct.jsx)(Gt,{className:"w-4 h-4 mr-2"}),"Create Group"]})]}),S&&(0,ct.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,ct.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,ct.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Create New Group"}),(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Group Name"}),(0,ct.jsx)("input",{type:"text",value:T,onChange:e=>P(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter group name"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Participants"}),(0,ct.jsx)("div",{className:"max-h-40 overflow-y-auto border border-gray-300 rounded-lg p-2",children:0===Wt().length?(0,ct.jsx)("div",{className:"text-center py-4 text-gray-500",children:(0,ct.jsx)("p",{children:"All participants have been assigned to groups"})}):Wt().map(e=>(0,ct.jsxs)("label",{className:"flex items-center p-2 hover:bg-gray-50",children:[(0,ct.jsx)("input",{type:"checkbox",checked:R.includes(e.user_member_id),onChange:t=>{t.target.checked?L([...R,e.user_member_id]):L(R.filter(t=>t!==e.user_member_id))},className:"mr-3"}),(0,ct.jsxs)("span",{className:"text-sm",children:[e.first_name," ",e.last_name," (",e.club,")"]})]},e.user_member_id))})]}),(0,ct.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ct.jsx)("button",{onClick:()=>{C(!1),P(""),L([])},className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),(0,ct.jsx)("button",{onClick:async()=>{if(T.trim()&&0!==R.length)try{await tt.Ay$.post("/tournaments/".concat(r,"/create-club-group"),{groupName:T,participantIds:R});_s.success("Group created successfully"),C(!1),P(""),L([]),Ht(),u()}catch(e){console.error("Error creating group:",e),_s.error("Failed to create group")}else _s.error("Please provide a group name and select participants")},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Create Group"})]})]})]})}),N&&(0,ct.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,ct.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,ct.jsxs)("h4",{className:"text-lg font-semibold mb-4",children:["Edit Group: ",N.group_name]}),(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Group Name"}),(0,ct.jsx)("input",{type:"text",value:N.group_name,onChange:e=>w((0,Re.A)((0,Re.A)({},N),{},{group_name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter group name"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Participants"}),(0,ct.jsx)("div",{className:"max-h-40 overflow-y-auto border border-gray-300 rounded-lg p-2",children:(()=>{const e=(e=>{const t=m.filter(t=>t.id!==e).flatMap(e=>e.user_ids||[]);return l.filter(e=>!t.includes(e.user_member_id))})(N.id),t=l.filter(e=>{var t;return null===(t=N.user_ids)||void 0===t?void 0:t.includes(e.user_member_id)}),s=new Map;t.forEach(e=>{s.set(e.user_member_id,(0,Re.A)((0,Re.A)({},e),{},{isCurrentlyInGroup:!0,isAvailable:!0}))}),e.forEach(e=>{s.has(e.user_member_id)||s.set(e.user_member_id,(0,Re.A)((0,Re.A)({},e),{},{isCurrentlyInGroup:!1,isAvailable:!0}))});const a=Array.from(s.values());return 0===a.length?(0,ct.jsx)("div",{className:"text-center py-4 text-gray-500",children:(0,ct.jsx)("p",{children:"No participants available"})}):a.map(e=>(0,ct.jsxs)("label",{className:"flex items-center p-2 hover:bg-gray-50 ".concat(e.isAvailable?"":"opacity-50"),children:[(0,ct.jsx)("input",{type:"checkbox",checked:R.includes(e.user_member_id),disabled:!e.isAvailable,onChange:t=>{t.target.checked?L([...R,e.user_member_id]):L(R.filter(t=>t!==e.user_member_id))},className:"mr-3"}),(0,ct.jsxs)("span",{className:"text-sm",children:[e.first_name," ",e.last_name," (",e.club,")",e.isCurrentlyInGroup&&(0,ct.jsx)("span",{className:"text-blue-600 text-xs ml-1",children:"(Current)"}),!e.isAvailable&&(0,ct.jsx)("span",{className:"text-gray-400 text-xs ml-1",children:"(Assigned to another group)"})]})]},e.user_member_id))})()})]}),(0,ct.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ct.jsx)("button",{onClick:()=>{w(null),L([])},className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),(0,ct.jsx)("button",{onClick:async()=>{if(N&&0!==R.length)if(N.group_name.trim())try{await tt.Ay$.put("/tournaments/".concat(r,"/club-groups/").concat(N.id),{groupName:N.group_name,participantIds:R});_s.success("Group updated successfully"),w(null),L([]),Ht(),u()}catch(e){console.error("Error updating group:",e),_s.error("Failed to update group")}else _s.error("Please enter a group name");else _s.error("Please select participants")},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Update Group"})]})]})]})}),(0,ct.jsx)("div",{className:"space-y-4",children:m&&m.length>0?m.map(e=>(0,ct.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:(0,ct.jsxs)("div",{className:"flex justify-between items-start",children:[(0,ct.jsxs)("div",{className:"flex-1",children:[(0,ct.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:e.group_name}),(0,ct.jsxs)("p",{className:"text-sm text-gray-600",children:[e.participating_clubs&&e.participating_clubs.length>0?e.participating_clubs.join(", "):"No clubs"," \u2022 ",e.participant_count||0," participants"]}),(0,ct.jsxs)("div",{className:"mt-2",children:[(0,ct.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Participants:"}),(0,ct.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:e.user_ids&&e.user_ids.length>0?e.user_ids.map(e=>{const t=l.find(t=>t.user_member_id===e);return t?(0,ct.jsxs)("span",{className:"inline-flex items-center px-2 py-1 bg-gray-100 text-gray-800 text-xs rounded-full",children:[t.first_name," ",t.last_name]},e):null}):(0,ct.jsx)("span",{className:"text-gray-500 text-sm",children:"No participants assigned"})})]})]}),(0,ct.jsxs)("div",{className:"flex space-x-2",children:[(0,ct.jsx)("button",{onClick:()=>(e=>{w(e),L(e.user_ids)})(e),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",children:(0,ct.jsx)(Rn,{className:"w-4 h-4"})}),(0,ct.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this group? This will also delete all associated matches."))try{await tt.Ay$.delete("/tournaments/".concat(r,"/club-groups/").concat(e)),_s.success("Group deleted successfully"),Ht(),u()}catch(t){console.error("Error deleting group:",t),_s.error("Failed to delete group")}})(e.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:(0,ct.jsx)(Tn,{className:"w-4 h-4"})})]})]})},e.id)):(0,ct.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,ct.jsx)(Ye,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),(0,ct.jsx)("p",{children:"No groups created yet"}),(0,ct.jsx)("p",{className:"text-sm",children:'Click "Create Group" to get started'})]})})]}),"matches"===y&&(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Championship Matches"}),g.length>0&&(0,ct.jsxs)("label",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,ct.jsx)("input",{type:"checkbox",checked:F.length===g.length&&g.length>0,onChange:()=>{F.length===g.length?O([]):O(g.map(e=>e.id))},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,ct.jsxs)("span",{children:["Select All (",g.length,")"]})]})]}),(0,ct.jsxs)("div",{className:"flex space-x-2",children:[(0,ct.jsxs)("button",{onClick:()=>E(!0),className:"flex items-center px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[(0,ct.jsx)(Gt,{className:"w-4 h-4 mr-2"}),"Create Match"]}),F.length>0&&(0,ct.jsxs)("button",{onClick:async()=>{if(0!==F.length){if(window.confirm("Are you sure you want to delete ".concat(F.length," selected matches?")))try{await Promise.all(F.map(e=>tt.Ay$.delete("/tournaments/".concat(r,"/matches/").concat(e)))),_s.success("".concat(F.length," matches deleted successfully")),O([]),Ht(),u()}catch(e){console.error("Error deleting matches:",e),_s.error("Failed to delete some matches")}}else _s.error("No matches selected")},className:"flex items-center px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:[(0,ct.jsx)(Tn,{className:"w-4 h-4 mr-2"}),"Delete Selected (",F.length,")"]})]})]}),m&&m.length>0?m.map(e=>{const t=g&&g.length>0?g.filter(t=>t.club_group===e.group_name):[];return(0,ct.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,ct.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,ct.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:e.group_name}),(0,ct.jsxs)("button",{onClick:()=>{z(e.id),E(!0)},className:"flex items-center px-3 py-1 bg-blue-500 text-white text-sm rounded-lg hover:bg-blue-600",children:[(0,ct.jsx)(Gt,{className:"w-4 h-4 mr-1"}),"Add Match"]})]}),t.length>0?(0,ct.jsx)("div",{className:"space-y-2",children:t.map(e=>(0,ct.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ct.jsx)("input",{type:"checkbox",checked:F.includes(e.id),onChange:()=>{return t=e.id,void O(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,ct.jsxs)("span",{className:"text-sm font-medium text-gray-600",children:["Match ",e.match_number]}),(0,ct.jsxs)("span",{className:"text-sm",children:[e.player1_name," vs ",e.player2_name]}),(0,ct.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat("completed"===e.match_status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.match_status})]}),(0,ct.jsxs)("div",{className:"flex space-x-2",children:[(0,ct.jsx)("button",{onClick:()=>(e=>{k(e),U(e.player1_id),W(e.player2_id),V(!0)})(e),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",title:"Edit Match",children:(0,ct.jsx)(Rn,{className:"w-4 h-4"})}),(0,ct.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this match?"))try{await tt.Ay$.delete("/tournaments/".concat(r,"/matches/").concat(e)),_s.success("Match deleted successfully"),Ht(),u()}catch(t){console.error("Error deleting match:",t),_s.error("Failed to delete match")}})(e.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Delete Match",children:(0,ct.jsx)(Tn,{className:"w-4 h-4"})})]})]},e.id))}):(0,ct.jsx)("p",{className:"text-gray-500 text-sm",children:"No matches created yet"})]},e.id)}):(0,ct.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,ct.jsx)(An,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),(0,ct.jsx)("p",{children:"No groups created yet"}),(0,ct.jsx)("p",{className:"text-sm",children:"Create groups first to manage matches"})]})]}),"scoring"===y&&(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Match Scoring"}),(0,ct.jsx)("p",{className:"text-sm text-gray-600",children:"Enter scores for completed matches"})]}),m&&m.length>0?m.map(e=>{const t=g&&g.length>0?g.filter(t=>t.club_group===e.group_name):[];return(0,ct.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,ct.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:e.group_name}),t.length>0?(0,ct.jsx)("div",{className:"space-y-3",children:t.map(e=>(0,ct.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ct.jsxs)("span",{className:"text-sm font-medium text-gray-600",children:["Match ",e.match_number]}),(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsx)("span",{className:"font-medium",children:e.player1_name}),(0,ct.jsx)("span",{className:"text-gray-500",children:"vs"}),(0,ct.jsx)("span",{className:"font-medium",children:e.player2_name})]}),(0,ct.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat("completed"===e.match_status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.match_status}),"completed"===e.match_status&&(0,ct.jsxs)("span",{className:"text-sm text-gray-600",children:[e.player1_score," - ",e.player2_score,e.winner_id&&(0,ct.jsxs)("span",{className:"ml-2 font-medium",children:["Winner: ",e.winner_id===e.player1_id?e.player1_name:e.player2_name]})]}),(console.log("Match scorecard photos:",{matchId:e.id,player1Photo:e.player1_scorecard_photo_url,player2Photo:e.player2_scorecard_photo_url,hasPhotos:!(!e.player1_scorecard_photo_url&&!e.player2_scorecard_photo_url)}),null),(e.player1_scorecard_photo_url||e.player2_scorecard_photo_url)&&(0,ct.jsxs)("div",{className:"flex items-center space-x-2 mt-2",children:[(0,ct.jsx)("span",{className:"text-xs text-gray-500",children:"Scorecard Photos:"}),e.player1_scorecard_photo_url&&(0,ct.jsxs)("button",{onClick:()=>$t(e.player1_scorecard_photo_url,e.player1_name),className:"flex items-center space-x-1 px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded hover:bg-blue-200 transition-colors",title:"".concat(e.player1_name,"'s scorecard"),children:[(0,ct.jsxs)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,ct.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),(0,ct.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,ct.jsx)("span",{children:e.player1_name})]}),e.player2_scorecard_photo_url&&(0,ct.jsxs)("button",{onClick:()=>$t(e.player2_scorecard_photo_url,e.player2_name),className:"flex items-center space-x-1 px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded hover:bg-blue-200 transition-colors",title:"".concat(e.player2_name,"'s scorecard"),children:[(0,ct.jsxs)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,ct.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),(0,ct.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,ct.jsx)("span",{children:e.player2_name})]})]})]}),(0,ct.jsx)("div",{className:"flex space-x-2",children:(0,ct.jsx)("button",{onClick:()=>qt(e),className:"px-3 py-1 bg-green-500 text-white text-sm rounded-lg hover:bg-green-600",children:"completed"===e.match_status?"Edit Match Play":"Enter Match Play"})})]},e.id))}):(0,ct.jsx)("p",{className:"text-gray-500 text-sm",children:"No matches created yet"})]},e.id)}):(0,ct.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,ct.jsx)(Ks,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),(0,ct.jsx)("p",{children:"No groups created yet"}),(0,ct.jsx)("p",{className:"text-sm",children:"Create groups and matches first to enter scores"})]})]}),"standings"===y&&(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Championship Standings"}),(0,ct.jsxs)("div",{className:"flex space-x-3",children:[(0,ct.jsxs)("button",{onClick:Rt,className:"flex items-center px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[(0,ct.jsx)(Ut,{className:"w-4 h-4 mr-2"}),"Refresh Standings"]}),(0,ct.jsxs)("button",{onClick:Kt,className:"flex items-center px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors",children:[(0,ct.jsx)(Ct,{className:"w-4 h-4 mr-2"}),"Determine Champions"]})]})]}),We?(0,ct.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,ct.jsx)(Ut,{className:"w-8 h-8 animate-spin text-blue-500"}),(0,ct.jsx)("span",{className:"ml-3 text-gray-600",children:"Loading standings..."})]}):Ue.length>0?(0,ct.jsx)("div",{className:"space-y-6",children:Ue.map(e=>(0,ct.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[(0,ct.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-xl",children:(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)(St,{className:"w-5 h-5 text-blue-500"}),(0,ct.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:e.group_name}),(0,ct.jsxs)("span",{className:"text-sm text-gray-500",children:["(",e.participants.length," participants)"]})]}),(0,ct.jsxs)("button",{onClick:()=>{return t=e.group_name,Fe(t),Ie(null),Be(""),void Me(!0);var t},className:"flex items-center px-3 py-1.5 bg-purple-500 text-white text-sm rounded-lg hover:bg-purple-600 transition-colors",title:"Manually select a group champion",children:[(0,ct.jsx)(Ct,{className:"w-4 h-4 mr-1.5"}),"Select Champion"]})]})}),(0,ct.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,ct.jsxs)("table",{className:"w-full",children:[(0,ct.jsx)("thead",{className:"bg-gray-50",children:(0,ct.jsxs)("tr",{children:[(0,ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Position"}),(0,ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player"}),(0,ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Club"}),(0,ct.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"W-L-T"}),(0,ct.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),(0,ct.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Holes Won"}),(0,ct.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Net Holes"}),(0,ct.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tiebreaker"})]})}),(0,ct.jsx)("tbody",{className:"divide-y divide-gray-200",children:e.participants.map((e,t)=>(0,ct.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,ct.jsx)("td",{className:"px-6 py-4",children:(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[Jt(t+1),(0,ct.jsx)("span",{className:"text-sm font-medium text-gray-600",children:t+1})]})}),(0,ct.jsx)("td",{className:"px-6 py-4",children:(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsxs)("span",{className:"font-semibold text-gray-900",children:[e.first_name," ",e.last_name]}),0===t&&(0,ct.jsx)(qe,{className:"w-4 h-4 text-yellow-500"}),e.manually_selected_champion&&(0,ct.jsx)("span",{className:"px-2 py-0.5 bg-purple-100 text-purple-700 text-xs rounded-full",children:"Manual"})]})}),(0,ct.jsx)("td",{className:"px-6 py-4",children:(0,ct.jsx)("span",{className:"text-sm text-gray-600",children:e.club})}),(0,ct.jsx)("td",{className:"px-6 py-4 text-center",children:(0,ct.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:[e.match_wins,"-",e.match_losses,"-",e.match_ties]})}),(0,ct.jsx)("td",{className:"px-6 py-4 text-center",children:(0,ct.jsx)("span",{className:"text-sm font-medium text-gray-900",children:Xt(e.match_wins,e.total_matches)})}),(0,ct.jsx)("td",{className:"px-6 py-4 text-center",children:(0,ct.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.total_holes_won})}),(0,ct.jsx)("td",{className:"px-6 py-4 text-center",children:(0,ct.jsxs)("span",{className:"text-sm font-medium ".concat(e.net_holes>0?"text-green-600":e.net_holes<0?"text-red-600":"text-gray-900"),children:[e.net_holes>0?"+":"",e.net_holes]})}),(0,ct.jsx)("td",{className:"px-6 py-4 text-center",children:(0,ct.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.tiebreaker_points})})]},e.user_id))})]})}),(0,ct.jsx)("div",{className:"md:hidden space-y-3 p-4",children:e.participants.map((e,t)=>(0,ct.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:bg-gray-50",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[Jt(t+1),(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsxs)("span",{className:"font-semibold text-gray-900",children:[e.first_name," ",e.last_name]}),0===t&&(0,ct.jsx)(qe,{className:"w-4 h-4 text-yellow-500"}),e.manually_selected_champion&&(0,ct.jsx)("span",{className:"px-2 py-0.5 bg-purple-100 text-purple-700 text-xs rounded-full",children:"Manual"})]}),(0,ct.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:e.club})]})]}),(0,ct.jsxs)("div",{className:"text-right",children:[(0,ct.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.match_wins,"-",e.match_losses,"-",e.match_ties]}),(0,ct.jsx)("div",{className:"text-xs text-gray-500",children:Xt(e.match_wins,e.total_matches)})]})]}),(0,ct.jsxs)("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"Tiebreaker Points"}),(0,ct.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.tiebreaker_points})]})]},e.user_id))})]},e.group_id))}):(0,ct.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,ct.jsx)(qe,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),(0,ct.jsx)("p",{className:"text-lg font-medium",children:"No standings available"}),(0,ct.jsx)("p",{className:"text-sm",children:'Click "Refresh Standings" to load data'})]})]}),"bracket"===y&&(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"National Championship Bracket"}),(0,ct.jsxs)("div",{className:"flex space-x-3",children:[(0,ct.jsxs)("button",{onClick:async()=>{try{const e=await tt.Ay$.post("/tournaments/".concat(r,"/generate-national-bracket"));_s.success("Generated ".concat(e.data.matches.length," Round 1 matches in database")),await Rt()}catch(e){console.error("Error generating bracket:",e),_s.error("Failed to generate bracket matches")}},className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[(0,ct.jsx)(Ct,{className:"w-4 h-4 mr-2"}),"Generate Bracket Matches"]}),(0,ct.jsxs)("button",{onClick:async()=>{try{const e=await tt.Ay$.get("/tournaments/".concat(r,"/championship-standings"));He(e.data),_s.success("Standings refreshed")}catch(e){console.error("Error loading standings:",e),_s.error("Failed to load standings")}},className:"flex items-center px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[(0,ct.jsx)(Ut,{className:"w-4 h-4 mr-2"}),"Refresh Standings"]})]})]}),(0,ct.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,ct.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsx)(Ge,{className:"w-5 h-5 text-blue-500"}),(0,ct.jsx)("h4",{className:"text-md font-semibold text-gray-900",children:"Round Courses"})]})}),(0,ct.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[1,2,3].map(e=>{const t=(e=>({name:ot["round_".concat(e,"_course")],teebox:ot["round_".concat(e,"_teebox")],notes:ot["round_".concat(e,"_notes")]}))(e);return(0,ct.jsxs)("button",{onClick:()=>(e=>{pt(e),_t(null),At(""),Tt(""),mt(!0)})(e),className:"text-left p-4 bg-gray-50 rounded-lg border border-gray-200 hover:border-blue-500 transition-colors group",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ct.jsxs)("span",{className:"text-xs font-medium text-gray-500",children:["Round ",e]}),(0,ct.jsx)(Rn,{className:"w-4 h-4 text-gray-400 group-hover:text-blue-500"})]}),(0,ct.jsx)("div",{className:"text-sm font-medium text-gray-900",children:t.name||"Select course..."}),t.teebox&&(0,ct.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Teebox: ",t.teebox]}),t.notes&&(0,ct.jsx)("div",{className:"text-xs text-gray-500 mt-1 truncate",children:t.notes})]},e)})})]}),Ue.length>0&&(0,ct.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,ct.jsx)("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Group Champions"}),(0,ct.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Ue.map(e=>{const t=e.participants&&e.participants.length>0?e.participants[0]:null;return t?(0,ct.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ct.jsx)("span",{className:"text-xs font-medium text-gray-500",children:e.group_name}),(0,ct.jsx)(Ct,{className:"w-4 h-4 text-yellow-500"})]}),(0,ct.jsxs)("p",{className:"font-semibold text-gray-900",children:[t.first_name," ",t.last_name]}),(0,ct.jsx)("p",{className:"text-sm text-gray-600",children:t.club}),t.manually_selected_champion&&(0,ct.jsx)("span",{className:"inline-flex items-center mt-2 px-2 py-1 bg-purple-100 text-purple-700 text-xs rounded-full",children:"Manually Selected"})]},e.group_id):null})})]}),$e.length>0&&(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,ct.jsx)("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Round 1 - Quarterfinals"}),(0,ct.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:$e.filter(e=>1===e.round).map(e=>{var t,s,a,r;return(0,ct.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[(0,ct.jsxs)("div",{className:"bg-blue-50 px-4 py-2 border-b border-gray-200 flex items-center justify-between",children:[(0,ct.jsxs)("span",{className:"text-xs font-medium text-blue-700",children:["Match ",e.match_number]}),(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsxs)("button",{onClick:()=>It(e),className:"text-xs px-2 py-1 bg-white text-blue-600 rounded hover:bg-blue-100 transition-colors",children:[(0,ct.jsx)(Rn,{className:"w-3 h-3 inline mr-1"}),"Edit"]}),e.winner&&(0,ct.jsx)("button",{onClick:()=>Bt(e.round,e.match),className:"text-xs px-2 py-1 bg-white text-red-600 rounded hover:bg-red-100 transition-colors",title:"Clear Winner",children:(0,ct.jsx)(Qe,{className:"w-3 h-3 inline"})})]})]}),(0,ct.jsxs)("div",{className:"p-4 space-y-2",children:[(0,ct.jsx)("button",{onClick:()=>e.player1&&zt(e.round,e.match,e.player1),className:"w-full text-left p-3 rounded-lg border-2 transition-all ".concat(e.winner===(null===(t=e.player1)||void 0===t?void 0:t.user_id)?"border-green-500 bg-green-50":"border-gray-200 hover:border-blue-300 hover:bg-blue-50"," ").concat(e.player1?"":"opacity-50"),disabled:!e.player1,children:(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsx)("div",{className:"flex-1",children:e.player1?(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("p",{className:"font-medium text-gray-900",children:[e.player1.first_name," ",e.player1.last_name]}),(0,ct.jsx)("p",{className:"text-xs text-gray-600",children:e.player1.club})]}):(0,ct.jsx)("p",{className:"text-sm text-gray-400",children:"TBD"})}),e.winner===(null===(s=e.player1)||void 0===s?void 0:s.user_id)&&(0,ct.jsx)(Ct,{className:"w-4 h-4 text-green-600"})]})}),(0,ct.jsx)("div",{className:"text-center text-xs text-gray-400",children:"vs"}),(0,ct.jsx)("button",{onClick:()=>e.player2&&zt(e.round,e.match,e.player2),className:"w-full text-left p-3 rounded-lg border-2 transition-all ".concat(e.winner===(null===(a=e.player2)||void 0===a?void 0:a.user_id)?"border-green-500 bg-green-50":"border-gray-200 hover:border-blue-300 hover:bg-blue-50"," ").concat(e.player2?"":"opacity-50"),disabled:!e.player2,children:(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsx)("div",{className:"flex-1",children:e.player2?(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("p",{className:"font-medium text-gray-900",children:[e.player2.first_name," ",e.player2.last_name]}),(0,ct.jsx)("p",{className:"text-xs text-gray-600",children:e.player2.club})]}):(0,ct.jsx)("p",{className:"text-sm text-gray-400",children:"TBD"})}),e.winner===(null===(r=e.player2)||void 0===r?void 0:r.user_id)&&(0,ct.jsx)(Ct,{className:"w-4 h-4 text-green-600"})]})})]})]},"".concat(e.round,"-").concat(e.match))})})]}),(0,ct.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,ct.jsx)("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Round 2 - Semifinals"}),(0,ct.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:$e.filter(e=>2===e.round).map(e=>{var t,s,a,r;return(0,ct.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[(0,ct.jsxs)("div",{className:"bg-purple-50 px-4 py-2 border-b border-gray-200 flex items-center justify-between",children:[(0,ct.jsxs)("span",{className:"text-xs font-medium text-purple-700",children:["Semifinal ",e.match_number-4]}),(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsxs)("button",{onClick:()=>It(e),className:"text-xs px-2 py-1 bg-white text-blue-600 rounded hover:bg-blue-100 transition-colors",children:[(0,ct.jsx)(Rn,{className:"w-3 h-3 inline mr-1"}),"Edit"]}),e.winner&&(0,ct.jsx)("button",{onClick:()=>Bt(e.round,e.match),className:"text-xs px-2 py-1 bg-white text-red-600 rounded hover:bg-red-100 transition-colors",title:"Clear Winner",children:(0,ct.jsx)(Qe,{className:"w-3 h-3 inline"})})]})]}),(0,ct.jsxs)("div",{className:"p-4 space-y-2",children:[(0,ct.jsx)("button",{onClick:()=>e.player1&&zt(e.round,e.match,e.player1),className:"w-full text-left p-3 rounded-lg border-2 transition-all ".concat(e.winner===(null===(t=e.player1)||void 0===t?void 0:t.user_id)?"border-green-500 bg-green-50":"border-gray-200 hover:border-blue-300 hover:bg-blue-50"," ").concat(e.player1?"":"opacity-50"),disabled:!e.player1,children:(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsx)("div",{className:"flex-1",children:e.player1?(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("p",{className:"font-medium text-gray-900",children:[e.player1.first_name," ",e.player1.last_name]}),(0,ct.jsx)("p",{className:"text-xs text-gray-600",children:e.player1.club})]}):(0,ct.jsx)("p",{className:"text-sm text-gray-400",children:"TBD"})}),e.winner===(null===(s=e.player1)||void 0===s?void 0:s.user_id)&&(0,ct.jsx)(Ct,{className:"w-4 h-4 text-green-600"})]})}),(0,ct.jsx)("div",{className:"text-center text-xs text-gray-400",children:"vs"}),(0,ct.jsx)("button",{onClick:()=>e.player2&&zt(e.round,e.match,e.player2),className:"w-full text-left p-3 rounded-lg border-2 transition-all ".concat(e.winner===(null===(a=e.player2)||void 0===a?void 0:a.user_id)?"border-green-500 bg-green-50":"border-gray-200 hover:border-blue-300 hover:bg-blue-50"," ").concat(e.player2?"":"opacity-50"),disabled:!e.player2,children:(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsx)("div",{className:"flex-1",children:e.player2?(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("p",{className:"font-medium text-gray-900",children:[e.player2.first_name," ",e.player2.last_name]}),(0,ct.jsx)("p",{className:"text-xs text-gray-600",children:e.player2.club})]}):(0,ct.jsx)("p",{className:"text-sm text-gray-400",children:"TBD"})}),e.winner===(null===(r=e.player2)||void 0===r?void 0:r.user_id)&&(0,ct.jsx)(Ct,{className:"w-4 h-4 text-green-600"})]})})]})]},"".concat(e.round,"-").concat(e.match))})})]}),(0,ct.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,ct.jsx)("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Round 3 - Championship"}),(0,ct.jsx)("div",{className:"max-w-md mx-auto",children:$e.filter(e=>3===e.round).map(e=>{var t,s,a,r;return(0,ct.jsxs)("div",{className:"border-2 border-yellow-300 bg-yellow-50 rounded-lg overflow-hidden",children:[(0,ct.jsxs)("div",{className:"bg-yellow-100 px-4 py-3 border-b-2 border-yellow-300 flex items-center justify-between",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-2 flex-1",children:[(0,ct.jsx)(qe,{className:"w-5 h-5 text-yellow-600"}),(0,ct.jsx)("span",{className:"text-sm font-semibold text-yellow-800",children:"Championship"})]}),(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsxs)("button",{onClick:()=>It(e),className:"text-xs px-2 py-1 bg-white text-blue-600 rounded hover:bg-blue-100 transition-colors",children:[(0,ct.jsx)(Rn,{className:"w-3 h-3 inline mr-1"}),"Edit"]}),e.winner&&(0,ct.jsx)("button",{onClick:()=>Bt(e.round,e.match),className:"text-xs px-2 py-1 bg-white text-red-600 rounded hover:bg-red-100 transition-colors",title:"Clear Winner",children:(0,ct.jsx)(Qe,{className:"w-3 h-3 inline"})})]})]}),(0,ct.jsxs)("div",{className:"p-6 space-y-3",children:[(0,ct.jsx)("button",{onClick:()=>e.player1&&zt(e.round,e.match,e.player1),className:"w-full text-left p-4 rounded-lg border-2 transition-all ".concat(e.winner===(null===(t=e.player1)||void 0===t?void 0:t.user_id)?"border-green-500 bg-green-100":"border-yellow-200 hover:border-yellow-400 hover:bg-yellow-100"," ").concat(e.player1?"":"opacity-50"),disabled:!e.player1,children:(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsx)("div",{className:"flex-1",children:e.player1?(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("p",{className:"font-semibold text-gray-900",children:[e.player1.first_name," ",e.player1.last_name]}),(0,ct.jsx)("p",{className:"text-sm text-gray-600",children:e.player1.club})]}):(0,ct.jsx)("p",{className:"text-sm text-gray-400",children:"TBD"})}),e.winner===(null===(s=e.player1)||void 0===s?void 0:s.user_id)&&(0,ct.jsx)(qe,{className:"w-6 h-6 text-green-600"})]})}),(0,ct.jsx)("div",{className:"text-center text-sm font-semibold text-yellow-700",children:"vs"}),(0,ct.jsx)("button",{onClick:()=>e.player2&&zt(e.round,e.match,e.player2),className:"w-full text-left p-4 rounded-lg border-2 transition-all ".concat(e.winner===(null===(a=e.player2)||void 0===a?void 0:a.user_id)?"border-green-500 bg-green-100":"border-yellow-200 hover:border-yellow-400 hover:bg-yellow-100"," ").concat(e.player2?"":"opacity-50"),disabled:!e.player2,children:(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsx)("div",{className:"flex-1",children:e.player2?(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("p",{className:"font-semibold text-gray-900",children:[e.player2.first_name," ",e.player2.last_name]}),(0,ct.jsx)("p",{className:"text-sm text-gray-600",children:e.player2.club})]}):(0,ct.jsx)("p",{className:"text-sm text-gray-400",children:"TBD"})}),e.winner===(null===(r=e.player2)||void 0===r?void 0:r.user_id)&&(0,ct.jsx)(qe,{className:"w-6 h-6 text-green-600"})]})})]})]},"".concat(e.round,"-").concat(e.match))})})]})]}),0===Ue.length&&(0,ct.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,ct.jsx)(Ct,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),(0,ct.jsx)("p",{className:"text-lg font-medium",children:"No standings available"}),(0,ct.jsx)("p",{className:"text-sm",children:'Click "Refresh Standings" to load bracket data'})]})]})]})]}),ee&&G&&(0,ct.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,ct.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,ct.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Enter Match Score"}),(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:["Match ",G.match_number]}),(0,ct.jsxs)("p",{className:"font-medium",children:[G.player1_name," vs ",G.player2_name]})]}),(0,ct.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[G.player1_name," Score"]}),(0,ct.jsx)("input",{type:"number",min:"0",value:$,onChange:e=>Q(parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[G.player2_name," Score"]}),(0,ct.jsx)("input",{type:"number",min:"0",value:K,onChange:e=>J(parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Winner (Optional)"}),(0,ct.jsxs)("select",{value:X||"",onChange:e=>Z(e.target.value?parseInt(e.target.value):null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,ct.jsx)("option",{value:"",children:"Auto-determine from scores"}),(0,ct.jsx)("option",{value:G.player1_id,children:G.player1_name}),(0,ct.jsx)("option",{value:G.player2_id,children:G.player2_name})]})]}),(0,ct.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ct.jsx)("button",{onClick:()=>{te(!1),Y(null),Q(0),J(0),Z(null)},className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),(0,ct.jsx)("button",{onClick:async()=>{if(!G)return;let e=X;e||($>K?e=G.player1_id:K>$&&(e=G.player2_id));try{await(async(e,t)=>{try{await tt.Ay$.put("/tournaments/".concat(r,"/matches/").concat(e,"/result"),t),_s.success("Match result updated successfully"),k(null),Ht(),u()}catch(s){console.error("Error updating match result:",s),_s.error("Failed to update match result")}})(G.id,{player1_score:$,player2_score:K,winner_id:e||0}),te(!1),Y(null),Q(0),J(0),Z(null)}catch(t){console.error("Error submitting score:",t),_s.error("Failed to submit score")}},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Submit Score"})]})]})]})}),Ne&&G&&(0,ct.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ct.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:[(0,ct.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Match Play Scoring"}),(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"text-center border-b pb-4",children:[(0,ct.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:["Match ",G.match_number]}),(0,ct.jsxs)("p",{className:"font-medium text-lg",children:[G.player1_name," vs ",G.player2_name]})]}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course"}),(0,ct.jsx)("div",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-800 font-medium",children:(null===_e||void 0===_e?void 0:_e.courseName)||o||"No course selected"}),(0,ct.jsxs)("div",{className:"text-xs text-green-600 mt-1 font-medium",children:["\u2705 ",_e?"Assigned course (".concat(_e.platform.toUpperCase(),")"):"Tournament course automatically loaded"]}),_e&&(0,ct.jsx)("div",{className:"text-xs text-blue-600 mt-1",children:_e.reason})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Teebox"}),(0,ct.jsx)("input",{type:"text",value:ge,onChange:e=>fe(e.target.value),placeholder:"e.g., Blue, White, Red",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]})]}),(0,ct.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[G.player1_name," Handicap"]}),(0,ct.jsx)("input",{type:"number",step:"0.1",value:de,onChange:e=>ue(parseFloat(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[G.player2_name," Handicap"]}),(0,ct.jsx)("input",{type:"number",step:"0.1",value:me,onChange:e=>xe(parseFloat(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]})]}),0!==de&&0!==me&&(0,ct.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,ct.jsx)("h4",{className:"text-sm font-semibold text-blue-800 mb-2",children:"Handicap Differential"}),(0,ct.jsxs)("div",{className:"text-sm text-blue-700",children:[(0,ct.jsxs)("p",{children:["Raw differential: ",Math.abs(de-me).toFixed(1)," strokes"]}),(0,ct.jsxs)("p",{className:"font-medium",children:["Applied differential: ",Math.min(Math.abs(de-me),8).toFixed(1)," strokes (max 8)"]}),(0,ct.jsx)("p",{className:"text-xs text-blue-600 mt-1",children:de>me?"".concat(G.player1_name," gets strokes on the ").concat(Math.round(Math.min(Math.abs(de-me),8))," hardest holes"):me>de?"".concat(G.player2_name," gets strokes on the ").concat(Math.round(Math.min(Math.abs(de-me),8))," hardest holes"):"No strokes given - handicaps are equal"}),(de<0||me<0)&&(0,ct.jsx)("p",{className:"text-xs text-purple-600 mt-2 font-medium",children:"\ud83d\udca1 Negative handicaps (better than scratch) don't receive strokes - their opponents do"})]}),(0,ct.jsxs)("div",{className:"mt-3 p-2 bg-yellow-50 border border-yellow-200 rounded text-xs",children:[(0,ct.jsx)("p",{className:"font-semibold text-yellow-800",children:"Debug Info:"}),(0,ct.jsxs)("p",{children:["Player 1 (",G.player1_name,"): ",de]}),(0,ct.jsxs)("p",{children:["Player 2 (",G.player2_name,"): ",me]}),(0,ct.jsxs)("p",{children:["Higher handicap: ",de>me?G.player1_name:G.player2_name]}),(0,ct.jsxs)("p",{children:["Strokes to give: ",Math.round(Math.min(Math.abs(de-me),8))]})]})]}),(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsx)("h5",{className:"text-md font-semibold",children:"Hole-by-Hole Scoring"}),(0,ct.jsx)("div",{className:"overflow-x-auto",children:(0,ct.jsxs)("table",{className:"w-full border-collapse border border-gray-300",children:[(0,ct.jsx)("thead",{children:(0,ct.jsxs)("tr",{className:"bg-gray-50",children:[(0,ct.jsx)("th",{className:"border border-gray-300 px-2 py-1 text-xs",children:"Hole"}),(0,ct.jsx)("th",{className:"border border-gray-300 px-2 py-1 text-xs",children:"Index"}),(0,ct.jsx)("th",{className:"border border-gray-300 px-2 py-1 text-xs",children:"Par"}),(0,ct.jsxs)("th",{className:"border border-gray-300 px-2 py-1 text-xs",children:[G.player1_name," Gross"]}),(0,ct.jsxs)("th",{className:"border border-gray-300 px-2 py-1 text-xs",children:[G.player1_name," Net"]}),(0,ct.jsxs)("th",{className:"border border-gray-300 px-2 py-1 text-xs",children:[G.player2_name," Gross"]}),(0,ct.jsxs)("th",{className:"border border-gray-300 px-2 py-1 text-xs",children:[G.player2_name," Net"]}),(0,ct.jsx)("th",{className:"border border-gray-300 px-2 py-1 text-xs",children:"Winner"})]})}),(0,ct.jsx)("tbody",{children:Array.from({length:18},(e,t)=>{const s=be[t]||t+1,a=ye[t]||4,r=se[t]||0,n=re[t]||0,l=le[t]||(r>0?Vt(r,de,s,me):0),i=oe[t]||(n>0?Vt(n,me,s,de):0),o=r>0&&n>0?l<i?"P1":i<l?"P2":"H":"",c=Math.abs(de-me),d=Math.min(Math.round(c),8),u=de>me&&d%18>=s,m=me>de&&d%18>=s;return t<3&&console.log("Hole ".concat(t+1," stroke calculation:"),{holeIndex:s,player1Handicap:de,player2Handicap:me,rawDifferential:c,handicapDifferential:d,p1GetsStrokes:u,p2GetsStrokes:m,condition:"".concat(d," % 18 >= ").concat(s," = ").concat(d%18>=s)}),(0,ct.jsxs)("tr",{className:"".concat(t%2===0?"bg-white":"bg-gray-50"," ").concat(u?"bg-green-50":""," ").concat(m?"bg-orange-50":""),children:[(0,ct.jsx)("td",{className:"border border-gray-300 px-2 py-1 text-center text-xs font-medium",children:(0,ct.jsxs)("div",{className:"flex items-center justify-center",children:[t+1,u&&(0,ct.jsx)("span",{className:"ml-1 text-xs bg-green-100 text-green-800 px-1 py-0.5 rounded",children:"P1"}),m&&(0,ct.jsx)("span",{className:"ml-1 text-xs bg-orange-100 text-orange-800 px-1 py-0.5 rounded",children:"P2"})]})}),(0,ct.jsx)("td",{className:"border border-gray-300 px-2 py-1 text-center text-xs",children:s}),(0,ct.jsx)("td",{className:"border border-gray-300 px-2 py-1 text-center text-xs",children:a}),(0,ct.jsx)("td",{className:"border border-gray-300 px-2 py-1",children:(0,ct.jsx)("input",{type:"number",min:"1",max:"15",value:r||"",onChange:e=>{const a=[...se];a[t]=parseInt(e.target.value)||0,ae(a);const r=[...le];r[t]=a[t]>0?Vt(a[t],de,s,me):0,ie(r)},className:"w-full px-1 py-1 text-xs border border-gray-300 rounded text-center"})}),(0,ct.jsx)("td",{className:"border border-gray-300 px-2 py-1 text-center text-xs bg-gray-100",children:l||""}),(0,ct.jsx)("td",{className:"border border-gray-300 px-2 py-1",children:(0,ct.jsx)("input",{type:"number",min:"1",max:"15",value:n||"",onChange:e=>{const a=[...re];a[t]=parseInt(e.target.value)||0,ne(a);const r=[...oe];r[t]=a[t]>0?Vt(a[t],me,s,de):0,ce(r)},className:"w-full px-1 py-1 text-xs border border-gray-300 rounded text-center"})}),(0,ct.jsx)("td",{className:"border border-gray-300 px-2 py-1 text-center text-xs bg-gray-100",children:i||""}),(0,ct.jsx)("td",{className:"border border-gray-300 px-2 py-1 text-center text-xs font-medium",children:"P1"===o?"P1":"P2"===o?"P2":"H"===o?"H":""})]},t)})})]})})]}),(0,ct.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,ct.jsx)("h5",{className:"text-md font-semibold mb-2",children:"Match Result"}),(0,ct.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("p",{children:[(0,ct.jsxs)("strong",{children:[G.player1_name,":"]})," ",Yt().player1HolesWon," holes won"]}),(0,ct.jsxs)("p",{children:[(0,ct.jsx)("strong",{children:"Net Holes:"})," ",Yt().player1NetHoles>0?"+":"",Yt().player1NetHoles]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("p",{children:[(0,ct.jsxs)("strong",{children:[G.player2_name,":"]})," ",Yt().player2HolesWon," holes won"]}),(0,ct.jsxs)("p",{children:[(0,ct.jsx)("strong",{children:"Net Holes:"})," ",Yt().player2NetHoles>0?"+":"",Yt().player2NetHoles]})]})]}),(0,ct.jsx)("div",{className:"mt-2 text-center",children:(0,ct.jsx)("p",{className:"font-semibold",children:Yt().winner?"Winner: ".concat(Yt().winner===G.player1_id?G.player1_name:G.player2_name):"Match Tied"})})]}),(0,ct.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ct.jsx)("button",{onClick:()=>{we(!1),Y(null),ae(new Array(18).fill(0)),ne(new Array(18).fill(0)),ue(0),xe(0),pe(null),fe(""),ve([])},className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),(0,ct.jsx)("button",{onClick:async()=>{if(!G||!he)return void _s.error("Please select a course");const e=Yt();try{await tt.Ay$.put("/tournaments/".concat(r,"/championship-matches/").concat(G.id,"/result"),{player1_hole_scores:JSON.stringify(se),player2_hole_scores:JSON.stringify(re),player1_net_hole_scores:JSON.stringify(le),player2_net_hole_scores:JSON.stringify(oe),player1_holes_won:e.player1HolesWon,player2_holes_won:e.player2HolesWon,player1_holes_lost:e.player1HolesLost,player2_holes_lost:e.player2HolesLost,player1_net_holes:e.player1NetHoles,player2_net_holes:e.player2NetHoles,winner_id:e.winner,course_id:he,teebox:ge,match_status:"completed"});_s.success("Match play score submitted successfully"),we(!1),Y(null),ae(new Array(18).fill(0)),ne(new Array(18).fill(0)),ue(0),xe(0),pe(null),fe(""),ve([1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18]),Ht(),u()}catch(t){console.error("Error submitting match play score:",t),_s.error("Failed to submit match play score")}},className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600",children:"Submit Match Play Score"})]})]})]})}),A&&(0,ct.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,ct.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,ct.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Create New Match"}),(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Group"}),(0,ct.jsxs)("select",{value:I||"",onChange:e=>z(parseInt(e.target.value)||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,ct.jsx)("option",{value:"",children:"Select a group"}),m.map(e=>(0,ct.jsx)("option",{value:e.id,children:e.group_name},e.id))]})]}),I&&(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Player 1"}),(0,ct.jsxs)("select",{value:B||"",onChange:e=>U(parseInt(e.target.value)||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,ct.jsx)("option",{value:"",children:"Select Player 1"}),(e=>{const t=m.find(e=>e.id===I);return null===t||void 0===t||null===(e=t.user_ids)||void 0===e?void 0:e.map(e=>{const t=l.find(t=>t.user_member_id===e);return t?(0,ct.jsxs)("option",{value:e,children:[t.first_name," ",t.last_name]},e):null}).filter(Boolean)})()]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Player 2"}),(0,ct.jsxs)("select",{value:H||"",onChange:e=>W(parseInt(e.target.value)||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,ct.jsx)("option",{value:"",children:"Select Player 2"}),(e=>{const t=m.find(e=>e.id===I);return null===t||void 0===t||null===(e=t.user_ids)||void 0===e?void 0:e.map(e=>{const t=l.find(t=>t.user_member_id===e);return t?(0,ct.jsxs)("option",{value:e,children:[t.first_name," ",t.last_name]},e):null}).filter(Boolean)})()]})]})]}),(0,ct.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ct.jsx)("button",{onClick:()=>{E(!1),z(null),U(null),W(null)},className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),(0,ct.jsx)("button",{onClick:async()=>{if(I&&B&&H)if(B!==H)try{await tt.Ay$.post("/tournaments/".concat(r,"/create-match"),{groupId:I,player1Id:B,player2Id:H});_s.success("Match created successfully"),E(!1),z(null),U(null),W(null),Ht(),u()}catch(e){console.error("Error creating match:",e),_s.error("Failed to create match")}else _s.error("Players must be different");else _s.error("Please select a group and both players")},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Create Match"})]})]})]})}),q&&_&&(0,ct.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,ct.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,ct.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Edit Match"}),(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Player 1"}),(0,ct.jsxs)("select",{value:B||"",onChange:e=>U(parseInt(e.target.value)||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,ct.jsx)("option",{value:"",children:"Select Player 1"}),(e=>{const t=m.find(e=>e.group_name===_.club_group);return null===t||void 0===t||null===(e=t.user_ids)||void 0===e?void 0:e.map(e=>{const t=l.find(t=>t.user_member_id===e);return t?(0,ct.jsxs)("option",{value:e,children:[t.first_name," ",t.last_name]},e):null}).filter(Boolean)})()]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Player 2"}),(0,ct.jsxs)("select",{value:H||"",onChange:e=>W(parseInt(e.target.value)||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,ct.jsx)("option",{value:"",children:"Select Player 2"}),(e=>{const t=m.find(e=>e.group_name===_.club_group);return null===t||void 0===t||null===(e=t.user_ids)||void 0===e?void 0:e.map(e=>{const t=l.find(t=>t.user_member_id===e);return t?(0,ct.jsxs)("option",{value:e,children:[t.first_name," ",t.last_name]},e):null}).filter(Boolean)})()]})]}),(0,ct.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ct.jsx)("button",{onClick:()=>{V(!1),k(null),U(null),W(null)},className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),(0,ct.jsx)("button",{onClick:async()=>{if(_&&B&&H)try{await tt.Ay$.put("/tournaments/".concat(r,"/championship-matches/").concat(_.id),{player1Id:B,player2Id:H});_s.success("Match updated successfully"),V(!1),k(null),U(null),W(null),Ht(),u()}catch(e){console.error("Error updating match:",e),_s.error("Failed to update match")}else _s.error("Please select both players")},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Update Match"})]})]})]})}),Se&&(0,ct.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ct.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl max-h-[90vh] w-full overflow-hidden",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,ct.jsxs)("h3",{className:"text-lg font-semibold",children:[Te,"'s Scorecard"]}),(0,ct.jsx)("button",{onClick:Qt,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,ct.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ct.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,ct.jsx)("div",{className:"p-4 overflow-y-auto max-h-[80vh]",children:(0,ct.jsx)("img",{src:Ae,alt:"".concat(Te,"'s scorecard"),className:"w-full h-auto rounded-lg border border-gray-200"})}),(0,ct.jsxs)("div",{className:"flex justify-end p-4 border-t bg-gray-50",children:[(0,ct.jsx)("button",{onClick:()=>window.open(Ae,"_blank"),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Open in New Tab"}),(0,ct.jsx)("button",{onClick:Qt,className:"ml-2 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Close"})]})]})}),ut&&xt&&(0,ct.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ct.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,ct.jsxs)("h4",{className:"text-lg font-semibold mb-4",children:["Select Course for Round ",xt]}),(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Courses"}),(0,ct.jsx)("input",{type:"text",value:vt,onChange:e=>yt(e.target.value),placeholder:"Search by course name...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),jt.length>0&&(0,ct.jsx)("div",{className:"max-h-60 overflow-y-auto border border-gray-300 rounded-lg",children:jt.map(e=>(0,ct.jsxs)("button",{onClick:()=>{_t(e),yt(e.name)},className:"w-full text-left px-4 py-3 hover:bg-gray-50 border-b border-gray-200 last:border-b-0 ".concat((null===wt||void 0===wt?void 0:wt.id)===e.id?"bg-blue-500 text-white":""),children:[(0,ct.jsx)("div",{className:"font-medium",children:e.name}),(0,ct.jsxs)("div",{className:"text-xs opacity-70 mt-1",children:[e.location&&"".concat(e.location," \u2022 "),e.designer&&e.designer]})]},e.id))}),wt&&(0,ct.jsxs)("div",{className:"space-y-4 border-t pt-4 mt-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Teebox (Optional)"}),(0,ct.jsx)("input",{type:"text",value:kt,onChange:e=>At(e.target.value),placeholder:"e.g., Blue, White, Red",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),(0,ct.jsx)("textarea",{value:Et,onChange:e=>Tt(e.target.value),placeholder:"Add any notes about this round's course...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,ct.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,ct.jsx)("button",{onClick:()=>mt(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),(0,ct.jsx)("button",{onClick:async()=>{if(xt&&wt)try{await tt.Ay$.put("/tournaments/".concat(r,"/national-course"),{round:xt,course_name:wt.name,course_id:wt.id,teebox:kt,notes:Et}),_s.success("Course updated for round ".concat(xt)),mt(!1);const e=await tt.Ay$.get("/tournaments/".concat(r));dt(e.data)}catch(e){console.error("Error saving course:",e),_s.error("Failed to save course selection")}else _s.error("Please select a course")},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Save Course"})]})]})]})}),Je&&(0,ct.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ct.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,ct.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Confirm Winner for Round ",Je.round,", Match ",Je.match]}),(0,ct.jsx)("div",{className:"mb-6",children:(e=>{const t=$e.find(e=>e.round===Je.round&&e.match===Je.match),s=(null===t||void 0===t||null===(e=t.player1)||void 0===e?void 0:e.user_id)===Ze?t.player1:null===t||void 0===t?void 0:t.player2;return s?(0,ct.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)(Ct,{className:"w-6 h-6 text-green-600"}),(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("p",{className:"font-semibold text-gray-900",children:[s.first_name," ",s.last_name]}),(0,ct.jsx)("p",{className:"text-sm text-gray-600",children:s.club})]})]})}):null})()}),(0,ct.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ct.jsx)("button",{onClick:()=>{Xe(null),et(null)},className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),(0,ct.jsx)("button",{onClick:async()=>{if(Je&&Ze)try{var e;const s=$e.find(e=>e.round===Je.round&&e.match===Je.match);if(!s)return void _s.error("Match not found");const a=(null===(e=s.player1)||void 0===e?void 0:e.user_id)===Ze?s.player1:s.player2,n=$e.map(e=>e.round===Je.round&&e.match===Je.match?(0,Re.A)((0,Re.A)({},e),{},{winner:Ze}):e);if(Ke(n),1===Je.round){const e=s.match_number;if(1===e||2===e){const t=n.map(t=>{if(2===t.round&&"east"===t.division){const s=1===e?"player1":"player2";return(0,Re.A)((0,Re.A)({},t),{},{[s]:a})}return t});Ke(t)}else if(3===e||4===e){const t=n.map(t=>{if(2===t.round&&"west"===t.division){const s=3===e?"player1":"player2";return(0,Re.A)((0,Re.A)({},t),{},{[s]:a})}return t});Ke(t)}}if(2===Je.round){const e=5===s.match_number?"player1":"player2",t=n.map(t=>3===t.round&&1===t.match?(0,Re.A)((0,Re.A)({},t),{},{[e]:a}):t);Ke(t)}try{const e=await tt.Ay$.get("/tournaments/".concat(r,"/championship-matches")),t=e.data.find(e=>"national_championship"===e.match_type&&e.round_number===s.round&&e.match_number===s.match_number);t&&t.id&&(await tt.Ay$.put("/tournaments/".concat(r,"/national-matches/").concat(t.id,"/winner"),{winner_id:Ze}),console.log("Winner saved to database for match:",t.id))}catch(t){console.error("Error saving winner to database:",t)}_s.success("Winner saved and bracket updated"),Xe(null),et(null)}catch(t){console.error("Error saving winner:",t),_s.error("Failed to save winner")}else _s.error("Please select a winner")},className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600",children:"Confirm Winner"})]})]})}),rt&&st&&(0,ct.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ct.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,ct.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Edit Match ",st.match_number," - Round ",st.round||1]}),(0,ct.jsx)(Yn,{match:st,availablePlayers:lt,onClose:()=>{nt(!1),at(null)},onUpdate:async(e,t)=>{if(!st||!e||!t)return;const s=$e.map(s=>s.round===st.round&&s.match===st.match?(0,Re.A)((0,Re.A)({},s),{},{player1:e,player2:t,winner:null}):s);Ke(s);try{const s=await tt.Ay$.get("/tournaments/".concat(r,"/championship-matches")),a=s.data.find(e=>"national_championship"===e.match_type&&e.round_number===st.round&&e.match_number===st.match);a&&a.id&&(await tt.Ay$.put("/tournaments/".concat(r,"/national-matches/").concat(a.id,"/players"),{player1_id:e.user_id,player2_id:t.user_id}),console.log("Match players updated in database for match:",a.id))}catch(a){console.error("Error updating match players in database:",a),_s.error("Failed to save match update to database")}nt(!1),at(null),_s.success("Match updated successfully")}})]})}),De&&(0,ct.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ct.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,ct.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Manually Select Champion for ",Le]}),(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Player to Make Champion"}),(0,ct.jsxs)("select",{value:Oe||"",onChange:e=>Ie(parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[(0,ct.jsx)("option",{value:"",children:"Select a player"}),null===(t=m.find(e=>e.group_name===Le))||void 0===t||null===(s=t.user_ids)||void 0===s?void 0:s.map(e=>{const t=l.find(t=>t.user_member_id===e);return t?(0,ct.jsxs)("option",{value:e,children:[t.first_name," ",t.last_name," (",t.club,")"]},e):null}).filter(Boolean)]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),(0,ct.jsx)("textarea",{value:ze,onChange:e=>Be(e.target.value),placeholder:"Add notes about why this champion was manually selected...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",rows:3})]}),(0,ct.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,ct.jsx)("button",{onClick:()=>{Me(!1),Fe(""),Ie(null),Be("")},className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),(0,ct.jsx)("button",{onClick:async()=>{if(Oe&&Le)try{await tt.Ay$.post("/tournaments/".concat(r,"/manual-champion"),{group_name:Le,user_id:Oe,notes:ze});_s.success("Champion manually set"),Me(!1),Ht(),Rt(),u()}catch(e){console.error("Error setting manual champion:",e),_s.error("Failed to set champion")}else _s.error("Please select a player")},className:"px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600",children:"Set Champion"})]})]})]})})]})},Qn=()=>{const{user:e}=mt(),[t,s]=(0,a.useState)([]),[r,n]=(0,a.useState)(null),[l,i]=(0,a.useState)([]),[o,c]=(0,a.useState)([]),[d,u]=(0,a.useState)([]),[m,x]=(0,a.useState)([]),[h,p]=(0,a.useState)([]),[g,f]=(0,a.useState)([]),[b,v]=(0,a.useState)(!0),[y,j]=(0,a.useState)("registration"),[N,w]=(0,a.useState)(!1),[_,k]=(0,a.useState)(null),[S,C]=(0,a.useState)(!1),[A,E]=(0,a.useState)(null),[T,P]=(0,a.useState)({player1Holes:["","",""],player2Holes:["","",""],player1Total:"",player2Total:"",winner:null}),[D,M]=(0,a.useState)(!1),[R,L]=(0,a.useState)(null),[F,O]=(0,a.useState)(""),[I,z]=(0,a.useState)(""),B=e=>"match_play"===e||"par3_match_play"===e,U=e=>"scramble"===e||"best_ball"===e,H=e=>{const t={format:e.tournament_format,teamSize:e.team_size||4,holeConfiguration:e.hole_configuration||"18",tee:e.tee||"Red",pins:e.pins||"Friday",puttingGimme:e.putting_gimme||"8",elevation:e.elevation||"Course",stimp:e.stimp||"11",mulligan:e.mulligan||"No",gamePlay:e.game_play||"Force Realistic",firmness:e.firmness||"Normal",wind:e.wind||"None",handicapEnabled:e.handicap_enabled||!1};switch(e.tournament_format){case"scramble":t.requiresCaptain=!0,t.scoringMethod="team_total",t.description="Scramble format - teams of 4 players. All players hit, best shot is selected. Team captain submits final score.";break;case"best_ball":t.requiresCaptain=!1,t.scoringMethod="best_ball",t.description="Best ball format - teams of 2 players. Each player plays their own ball, best score on each hole counts.";break;case"match_play":t.requiresMatches=!0,t.matchFormat="head_to_head",t.description="Match play format - head-to-head competition. Win holes to win matches.";break;case"par3_match_play":t.requiresMatches=!0,t.matchFormat="group_play",t.description="3-hole match play format - 4-player groups. Each player plays 3 matches against their group members.";break;case"stroke_play":t.requiresMatches=!1,t.scoringMethod="individual_total",t.description="Stroke play format - individual competition. Lowest total score wins.";break;case"stableford":t.requiresMatches=!1,t.scoringMethod="stableford_points",t.description="Stableford format - points-based scoring. Points awarded based on score relative to par.";break;default:t.description="Custom tournament format."}return t},W=(e,t)=>{const s=(e=>{const t=["registration"];return t.push("checkin"),U(e)&&t.push("teams"),B(e)&&t.push("matches"),t.push("scoring"),t.push("leaderboard"),t})(t);return s.includes(e)?e:s[0]},q="Andrew"===(null===e||void 0===e?void 0:e.first_name)&&"George"===(null===e||void 0===e?void 0:e.last_name);(0,a.useEffect)(()=>{(async()=>{try{const e=await(0,tt.lo1)();s(e.data)}catch(e){console.error("Error fetching tournaments:",e),_s.error("Failed to load tournaments")}finally{v(!1)}})()},[]),(0,a.useEffect)(()=>{if(r){(async()=>{try{const[t,s,a,n]=await Promise.all([(0,tt.MsJ)(r.id),(0,tt.PNr)(r.id),(0,tt.ieO)(r.id),(0,tt.z6N)(r.id)]);if(i(t.data),c(s.data),u(a.data),p(n.data||[]),"scramble"===r.tournament_format)try{const e=(await(0,tt.ZNw)(r.id)).data.map(e=>({id:e.id.toString(),name:e.name,captain:{user_member_id:e.captain_id,first_name:e.captain_first_name,last_name:e.captain_last_name,club:e.captain_club,email:""},players:e.players||[],maxPlayers:4}));x(e)}catch(e){console.error("Error loading teams:",e)}}catch(t){console.error("Error loading tournament data:",t),_s.error("Failed to load tournament data")}})();const e=W(y,r.tournament_format||"match_play");e!==y&&j(e)}},[r]),(0,a.useEffect)(()=>{if(t.length>0&&!r){const e=window.location.hash;if(e.startsWith("#/tournament-management")){const s=new URLSearchParams(e.split("?")[1]||"").get("tournament");if(s){const e=parseInt(s),a=t.find(t=>t.id===e);a&&n(a)}}}},[t]);const V=e=>{n(e),window.location.hash="/tournament-management?tournament=".concat(e.id),"club_championship"===e.type||"national_championship"===e.type?j("championship"):j("registration")},G=()=>{r&&(0,tt.PNr)(r.id).then(e=>c(e.data)),r&&"scramble"===r.tournament_format&&(0,tt.ZNw)(r.id).then(e=>{const t=e.data.map(e=>({id:e.id.toString(),name:e.name,captain:{user_member_id:e.captain_id,first_name:e.captain_first_name,last_name:e.captain_last_name,club:e.captain_club,email:""},players:e.players||[],maxPlayers:4}));x(t)}).catch(e=>{console.error("Error refreshing teams after score submission:",e)})},Y=async()=>{w(!1),k(null);const e=await(0,tt.lo1)();s(e.data)},$=(e,t,s)=>{const a=(0,Re.A)({},T);if("player1"===t){a.player1Holes[e]=s;const t=a.player1Holes.reduce((e,t)=>e+(parseInt(t)||0),0);a.player1Total=t.toString()}else{a.player2Holes[e]=s;const t=a.player2Holes.reduce((e,t)=>e+(parseInt(t)||0),0);a.player2Total=t.toString()}P(a)};return b?(0,ct.jsx)("div",{className:"flex items-center justify-center min-h-64",children:(0,ct.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-neon-green"})}):(0,ct.jsxs)(la,{children:[(0,ct.jsx)(ia,{title:"Tournament Management",subtitle:"Create and manage tournaments, registrations, and scoring",icon:(0,ct.jsx)(qe,{className:"w-7 h-7 text-brand-neon-green"}),action:r?void 0:(0,ct.jsxs)("button",{onClick:()=>w(!0),className:"flex items-center justify-center w-10 h-10 sm:w-auto sm:h-auto sm:px-4 sm:py-2 bg-brand-neon-green text-brand-black rounded-full sm:rounded-lg font-medium hover:bg-green-400 transition-colors text-sm sm:text-base",children:[(0,ct.jsx)(Gt,{className:"w-5 h-5 sm:w-4 sm:h-4 sm:mr-2"}),(0,ct.jsx)("span",{className:"hidden sm:inline",children:"Create Tournament"})]})}),(0,ct.jsxs)(oa,{children:[!r&&(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(e=>(0,ct.jsxs)("div",{className:"p-4 bg-white border border-neutral-200 rounded-lg hover:border-brand-neon-green hover:shadow-md transition-all group",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ct.jsx)("h5",{className:"font-medium text-brand-black group-hover:text-brand-neon-green transition-colors cursor-pointer",onClick:()=>V(e),children:e.name}),(0,ct.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ct.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("active"===e.status?"bg-green-100 text-green-800":"open"===e.status?"bg-blue-100 text-blue-800":"completed"===e.status?"bg-gray-100 text-gray-800":"cancelled"===e.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:e.status||"draft"}),(0,ct.jsx)("button",{onClick:t=>{t.stopPropagation(),(e=>{k(e)})(e)},className:"p-1 text-neutral-400 hover:text-blue-600 transition-colors",title:"Edit tournament",children:(0,ct.jsx)(Rn,{className:"w-4 h-4"})}),(0,ct.jsx)("button",{onClick:t=>{t.stopPropagation(),(async e=>{if(window.confirm("Are you sure you want to delete this tournament?"))try{await(0,tt.tAv)(e);const t=await(0,tt.lo1)();s(t.data),_s.success("Tournament deleted successfully!"),r&&r.id===e&&n(null)}catch(t){_s.error("Error deleting tournament.")}})(e.id)},className:"p-1 text-neutral-400 hover:text-red-600 transition-colors",title:"Delete tournament",children:(0,ct.jsx)(Tn,{className:"w-4 h-4"})})]})]}),(0,ct.jsxs)("div",{className:"text-sm text-neutral-600 mb-2 cursor-pointer",onClick:()=>V(e),children:[e.tournament_format||"match_play"," \u2022 ",e.type||"tournament"]}),e.start_date&&(0,ct.jsx)("div",{className:"text-xs text-neutral-500 cursor-pointer",onClick:()=>V(e),children:new Date(e.start_date).toLocaleDateString()})]},e.id))}),0===t.length&&(0,ct.jsxs)("div",{className:"text-center py-8 text-neutral-600",children:[(0,ct.jsx)(qe,{className:"w-12 h-12 mx-auto mb-2 text-neutral-400"}),(0,ct.jsx)("p",{children:"No tournaments found."}),(0,ct.jsx)("p",{className:"text-sm",children:"Create your first tournament to get started."})]})]}),r&&(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"bg-white rounded-xl border border-neutral-200 p-6",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ct.jsxs)("button",{onClick:()=>{n(null),window.location.hash="/tournament-management"},className:"flex items-center px-3 py-1 text-neutral-600 hover:text-neutral-800 transition-colors",children:[(0,ct.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ct.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to List"]}),(0,ct.jsx)("div",{children:(0,ct.jsx)("h3",{className:"text-2xl font-bold text-brand-black",children:r.name})})]}),(0,ct.jsx)("div",{className:"text-right",children:(0,ct.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat("active"===r.status?"bg-green-100 text-green-800":"open"===r.status?"bg-blue-100 text-blue-800":"completed"===r.status?"bg-gray-100 text-gray-800":"cancelled"===r.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:r.status||"draft"})})]}),("admin"===(null===e||void 0===e?void 0:e.role)||q)&&(0,ct.jsxs)("div",{className:"mb-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[(0,ct.jsxs)("h4",{className:"text-lg font-semibold text-yellow-800 mb-3 flex items-center",children:[(0,ct.jsxs)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,ct.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,ct.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Admin Controls"]}),("par3_match_play"===r.tournament_format||"weekly"===r.tournament_format)&&(0,ct.jsxs)("div",{className:"mb-3",children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-yellow-800 mb-1",children:"Week Override (YYYY-MM-DD, optional):"}),(0,ct.jsxs)("div",{className:"flex space-x-2",children:[(0,ct.jsx)("input",{type:"date",value:F||"",onChange:e=>O(e.target.value),className:"flex-1 px-3 py-2 border border-yellow-300 rounded-md text-sm focus:ring-2 focus:ring-yellow-500 focus:border-transparent",placeholder:"Leave empty for current week"}),F&&(0,ct.jsx)("button",{onClick:()=>O(""),className:"px-3 py-2 bg-yellow-600 text-white text-sm rounded hover:bg-yellow-700 transition-colors",title:"Clear week override",children:"Clear"})]}),(0,ct.jsx)("p",{className:"text-xs text-yellow-700 mt-1",children:"Use this to force calculations for a specific week"}),F&&(0,ct.jsxs)("div",{className:"mt-2 p-2 bg-yellow-100 border border-yellow-300 rounded text-xs text-yellow-800",children:[(0,ct.jsx)("strong",{children:"Active Override:"})," Will calculate for week starting ",F]})]}),(0,ct.jsxs)("div",{className:"mb-3",children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-yellow-800 mb-1",children:"Scorecard Editor Week (YYYY-MM-DD, optional):"}),(0,ct.jsxs)("div",{className:"flex space-x-2",children:[(0,ct.jsx)("input",{type:"date",value:I||"",onChange:e=>z(e.target.value),className:"flex-1 px-3 py-2 border border-yellow-300 rounded-md text-sm focus:ring-2 focus:ring-yellow-500 focus:border-transparent",placeholder:"Leave empty for current week"}),I&&(0,ct.jsx)("button",{onClick:()=>z(""),className:"px-3 py-2 bg-yellow-600 text-white text-sm rounded hover:bg-yellow-700 transition-colors",title:"Clear scorecard week",children:"Clear"})]}),(0,ct.jsx)("p",{className:"text-xs text-yellow-700 mt-1",children:"Use this to view and edit scorecards from a specific week"}),I&&(0,ct.jsxs)("div",{className:"mt-2 p-2 bg-yellow-100 border border-yellow-300 rounded text-xs text-yellow-800",children:[(0,ct.jsx)("strong",{children:"Active Week:"})," Will show scorecards from week starting ",I]})]}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[("par3_match_play"===r.tournament_format||"weekly"===r.tournament_format)&&(0,ct.jsxs)("button",{onClick:()=>(async()=>{if(r){M(!0),L(null);try{const e=await(0,tt.rTZ)(r.id,F||void 0);L({type:"success",message:e.data.message||"Matches calculated successfully!"}),_s.success("Matches calculated successfully!"),(0,tt.PNr)(r.id).then(e=>c(e.data))}catch(s){var e,t;const a=(null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to calculate matches";L({type:"error",message:a}),_s.error(a)}finally{M(!1)}}})(),disabled:D,className:"px-3 py-2 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",title:"Force recalculation of all matches for this tournament",children:[(0,ct.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ct.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Force Calculate Matches"]}),(0,ct.jsxs)("button",{onClick:()=>(async()=>{if(r){M(!0),L(null);try{const e=await(0,tt.cll)(r.id,F||void 0);L({type:"success",message:e.data.message||"Leaderboard updated successfully!"}),_s.success("Leaderboard updated successfully!")}catch(s){var e,t;const a=(null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to update leaderboard";L({type:"error",message:a}),_s.error(a)}finally{M(!1)}}})(),disabled:D,className:"px-3 py-2 bg-green-600 text-white text-sm rounded hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",title:"Force update of the tournament leaderboard",children:[(0,ct.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ct.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Force Update Leaderboard"]}),("par3_match_play"===r.tournament_format||"weekly"===r.tournament_format)&&(0,ct.jsxs)("button",{onClick:()=>(async()=>{if(r&&window.confirm("Are you sure you want to cleanup duplicate matches? This action cannot be undone.")){M(!0),L(null);try{const e=await(0,tt.B01)(r.id);L({type:"success",message:e.data.message||"Duplicate matches cleaned up successfully!"}),_s.success("Duplicate matches cleaned up successfully!"),(0,tt.PNr)(r.id).then(e=>c(e.data))}catch(s){var e,t;const a=(null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to cleanup duplicate matches";L({type:"error",message:a}),_s.error(a)}finally{M(!1)}}})(),disabled:D,className:"px-3 py-2 bg-orange-600 text-white text-sm rounded hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",title:"Remove duplicate matches that may have been created",children:[(0,ct.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ct.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Cleanup Duplicates"]}),("par3_match_play"===r.tournament_format||"weekly"===r.tournament_format)&&(0,ct.jsxs)("button",{onClick:()=>(async()=>{if(r&&window.confirm("Are you sure you want to fix the tournament week start date? This will update the tournament configuration.")){M(!0),L(null);try{const e=await(0,tt.F15)(r.id);L({type:"success",message:e.data.message||"Tournament week date fixed successfully!"}),_s.success("Tournament week date fixed successfully!");const t=(0,Re.A)((0,Re.A)({},r),{},{week_start_date:e.data.current});n(t)}catch(s){var e,t;const a=(null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to fix tournament week date";L({type:"error",message:a}),_s.error(a)}finally{M(!1)}}})(),disabled:D,className:"px-3 py-2 bg-purple-600 text-white text-sm rounded hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",title:"Fix incorrect tournament week start date",children:[(0,ct.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ct.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Fix Week Date"]})]}),R&&(0,ct.jsx)("div",{className:"mt-3 p-2 rounded text-sm ".concat("success"===R.type?"bg-green-100 text-green-800":"error"===R.type?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"),children:R.message})]}),(0,ct.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 border border-blue-200 rounded-xl p-4",children:[(0,ct.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,ct.jsx)("div",{children:(0,ct.jsx)("h4",{className:"text-lg font-semibold text-brand-black",children:"Simulator Settings"})})}),(0,ct.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3 text-sm",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-neutral-600",children:"Holes:"}),(0,ct.jsx)("span",{className:"ml-1 font-medium",children:H(r).holeConfiguration})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-neutral-600",children:"Tee:"}),(0,ct.jsx)("span",{className:"ml-1 font-medium",children:H(r).tee})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-neutral-600",children:"Pins:"}),(0,ct.jsx)("span",{className:"ml-1 font-medium",children:H(r).pins})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-neutral-600",children:"Gimme:"}),(0,ct.jsxs)("span",{className:"ml-1 font-medium",children:[H(r).puttingGimme,"'"]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-neutral-600",children:"Elevation:"}),(0,ct.jsx)("span",{className:"ml-1 font-medium",children:H(r).elevation})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-neutral-600",children:"Stimp:"}),(0,ct.jsx)("span",{className:"ml-1 font-medium",children:H(r).stimp})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-neutral-600",children:"Mulligan:"}),(0,ct.jsx)("span",{className:"ml-1 font-medium",children:H(r).mulligan})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-neutral-600",children:"Game Play:"}),(0,ct.jsx)("span",{className:"ml-1 font-medium",children:H(r).gamePlay})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-neutral-600",children:"Firmness:"}),(0,ct.jsx)("span",{className:"ml-1 font-medium",children:H(r).firmness})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-neutral-600",children:"Wind:"}),(0,ct.jsx)("span",{className:"ml-1 font-medium",children:H(r).wind})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-neutral-600",children:"Handicap:"}),(0,ct.jsx)("span",{className:"ml-1 font-medium",children:H(r).handicapEnabled?"Enabled":"Disabled"})]})]})]})]}),(0,ct.jsxs)("div",{className:"bg-white rounded-xl border border-neutral-200",children:[(0,ct.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4 border-b border-neutral-200 p-6 pb-0",children:[(0,ct.jsxs)("button",{className:"py-2 px-4 font-medium ".concat("registration"===y?"border-b-2 border-brand-neon-green text-brand-black":"text-neutral-600 hover:text-brand-black"),onClick:()=>j("registration"),children:[(0,ct.jsx)(Ye,{className:"w-4 h-4 mr-2 inline"}),"Registration"]}),(r.tournament_format,(0,ct.jsxs)("button",{className:"py-2 px-4 font-medium ".concat("checkin"===y?"border-b-2 border-brand-neon-green text-brand-black":"text-neutral-600 hover:text-brand-black"),onClick:()=>j("checkin"),children:[(0,ct.jsx)(Ye,{className:"w-4 h-4 mr-2 inline"}),"Players"]})),U(r.tournament_format||"match_play")&&(0,ct.jsxs)("button",{className:"py-2 px-4 font-medium ".concat("teams"===y?"border-b-2 border-brand-neon-green text-brand-black":"text-neutral-600 hover:text-brand-black"),onClick:()=>j("teams"),children:[(0,ct.jsx)(Ye,{className:"w-4 h-4 mr-2 inline"}),"Teams"]}),B(r.tournament_format||"match_play")&&!("club_championship"===r.type||"national_championship"===r.type)&&(0,ct.jsxs)("button",{className:"py-2 px-4 font-medium ".concat("matches"===y?"border-b-2 border-brand-neon-green text-brand-black":"text-neutral-600 hover:text-brand-black"),onClick:()=>j("matches"),children:[(0,ct.jsx)(qe,{className:"w-4 h-4 mr-2 inline"}),"Matches"]}),!("club_championship"===r.type||"national_championship"===r.type)&&(0,ct.jsxs)("button",{className:"py-2 px-4 font-medium ".concat("scoring"===y?"border-b-2 border-brand-neon-green text-brand-black":"text-neutral-600 hover:text-brand-black"),onClick:()=>j("scoring"),children:[(0,ct.jsx)(gt,{className:"w-4 h-4 mr-2 inline"}),"Scoring"]}),!("club_championship"===r.type||"national_championship"===r.type)&&(0,ct.jsxs)("button",{className:"py-2 px-4 font-medium ".concat("leaderboard"===y?"border-b-2 border-brand-neon-green text-brand-black":"text-neutral-600 hover:text-brand-black"),onClick:()=>j("leaderboard"),children:[(0,ct.jsx)(qe,{className:"w-4 h-4 mr-2 inline"}),"Leaderboard"]}),("club_championship"===r.type||"national_championship"===r.type)&&(0,ct.jsxs)("button",{className:"py-2 px-4 font-medium ".concat("championship"===y?"border-b-2 border-brand-neon-green text-brand-black":"text-neutral-600 hover:text-brand-black"),onClick:()=>j("championship"),children:[(0,ct.jsx)(St,{className:"w-4 h-4 mr-2 inline"}),"Championship Management"]})]}),(0,ct.jsxs)("div",{className:"p-6",children:["registration"===y&&(0,ct.jsx)(On,{tournamentId:r.id,tournamentParticipants:l,onUserRegistered:()=>{r&&(0,tt.MsJ)(r.id).then(e=>{console.log("Participants updated:",e.data),i(e.data)})},onUserUnregistered:()=>{r&&(0,tt.MsJ)(r.id).then(e=>i(e.data))},clubRestriction:r.club_restriction,isSuperAdmin:q,currentUserClub:null===e||void 0===e?void 0:e.club}),"teams"===y&&U(r.tournament_format||"match_play")&&(0,ct.jsx)(zn,{tournamentId:r.id,tournamentParticipants:l,onTeamsCreated:()=>{r&&"scramble"===r.tournament_format&&(0,tt.ZNw)(r.id).then(e=>{const t=e.data.map(e=>({id:e.id.toString(),name:e.name,captain:{user_member_id:e.captain_id,first_name:e.captain_first_name,last_name:e.captain_last_name,club:e.captain_club,email:""},players:e.players||[],maxPlayers:4}));x(t)}).catch(e=>{console.error("Error refreshing teams:",e)})},tournamentFormat:r.tournament_format,tournamentSettings:H(r)}),"checkin"===y&&(r.tournament_format,!0)&&(0,ct.jsx)(Wn,{participants:l,checkIns:d,scores:h,payouts:g,tournamentId:r.id,onCheckIn:async e=>{try{await Promise.all(e.map(e=>(0,tt.tNu)(r.id,e))),_s.success("Successfully marked ".concat(e.length," user(s) as paid")),r&&(0,tt.ieO)(r.id).then(e=>u(e.data))}catch(t){console.error("Error marking users as paid:",t),_s.error("Failed to mark users as paid")}},onCheckOut:async e=>{try{await(0,tt.Q0G)(r.id,e),_s.success("User marked as unpaid successfully"),r&&(0,tt.ieO)(r.id).then(e=>u(e.data))}catch(t){console.error("Error marking user as unpaid:",t),_s.error("Failed to mark user as unpaid")}},onUnregister:async e=>{if(window.confirm("Are you sure you want to unregister this user from the tournament?"))try{await(0,tt.nA8)(r.id,e),_s.success("User unregistered successfully"),r&&(0,tt.MsJ)(r.id).then(e=>i(e.data))}catch(t){console.error("Error unregistering user:",t),_s.error("Failed to unregister user")}}}),"matches"===y&&B(r.tournament_format||"match_play")&&!("club_championship"===r.type||"national_championship"===r.type)&&(0,ct.jsx)(In,{tournamentId:r.id,tournamentMatches:o,tournamentParticipants:l,tournamentCheckIns:d,onMatchesGenerated:()=>{r&&(0,tt.PNr)(r.id).then(e=>c(e.data))},onMatchUpdated:()=>{r&&(0,tt.PNr)(r.id).then(e=>c(e.data))}}),"scoring"===y&&!("club_championship"===r.type||"national_championship"===r.type)&&(0,ct.jsxs)("div",{className:"space-y-6",children:["match_play"===r.tournament_format&&"3"===r.hole_configuration&&(0,ct.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-neutral-200",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsx)(pt,{className:"w-6 h-6 text-brand-neon-green"}),(0,ct.jsx)("h4",{className:"text-xl font-semibold text-brand-black",children:"3-Hole Matchplay Scoring"})]}),(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsxs)("span",{className:"text-sm text-neutral-600",children:[o.filter(e=>"completed"===e.status).length," completed"]}),(0,ct.jsxs)("span",{className:"text-sm text-neutral-600",children:["/ ",o.length," total"]})]})]}),(0,ct.jsxs)("div",{className:"mb-6",children:[(0,ct.jsxs)("div",{className:"flex justify-between text-sm text-neutral-600 mb-2",children:[(0,ct.jsx)("span",{children:"Match Completion Progress"}),(0,ct.jsxs)("span",{children:[o.length>0?Math.round(o.filter(e=>"completed"===e.status).length/o.length*100):0,"%"]})]}),(0,ct.jsx)("div",{className:"w-full bg-neutral-200 rounded-full h-3",children:(0,ct.jsx)("div",{className:"h-3 rounded-full transition-all duration-300",style:{width:"".concat(o.length>0?o.filter(e=>"completed"===e.status).length/o.length*100:0,"%"),background:"#22c55e"}})})]}),o.filter(e=>"pending"===e.status).length>0&&(0,ct.jsxs)("div",{className:"mb-6",children:[(0,ct.jsx)("h5",{className:"text-lg font-semibold text-brand-black mb-4",children:"Pending Matches"}),(0,ct.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.filter(e=>"pending"===e.status).map(e=>(0,ct.jsxs)("div",{className:"p-4 border border-neutral-200 rounded-lg hover:border-brand-neon-green transition-colors cursor-pointer bg-gradient-to-r from-blue-50 to-green-50",onClick:()=>(e=>{E(e),P({player1Holes:["","",""],player2Holes:["","",""],player1Total:"",player2Total:"",winner:null}),C(!0)})(e),children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ct.jsxs)("span",{className:"text-sm font-medium text-neutral-600",children:["Match #",e.match_number]}),(0,ct.jsx)("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full",children:"Pending"})]}),(0,ct.jsxs)("div",{className:"space-y-2",children:[(0,ct.jsxs)("div",{className:"text-sm",children:[(0,ct.jsxs)("span",{className:"font-medium",children:[e.player1_first_name," ",e.player1_last_name]}),(0,ct.jsx)("span",{className:"text-neutral-500 ml-2",children:"vs"})]}),(0,ct.jsx)("div",{className:"text-sm",children:(0,ct.jsxs)("span",{className:"font-medium",children:[e.player2_first_name," ",e.player2_last_name]})})]}),(0,ct.jsx)("div",{className:"mt-3",children:(0,ct.jsx)("button",{className:"w-full px-3 py-2 bg-brand-neon-green text-brand-black text-sm rounded hover:bg-green-400 transition-colors",children:"Enter Scores"})})]},e.id))})]}),o.filter(e=>"completed"===e.status).length>0&&(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h5",{className:"text-lg font-semibold text-brand-black mb-4",children:"Completed Matches"}),(0,ct.jsx)("div",{className:"overflow-x-auto",children:(0,ct.jsxs)("table",{className:"w-full border-collapse border border-neutral-300 rounded-lg",children:[(0,ct.jsx)("thead",{className:"bg-neutral-50",children:(0,ct.jsxs)("tr",{children:[(0,ct.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Match #"}),(0,ct.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Player 1"}),(0,ct.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Player 2"}),(0,ct.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Winner"}),(0,ct.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Status"})]})}),(0,ct.jsx)("tbody",{children:o.filter(e=>"completed"===e.status).map(e=>(0,ct.jsxs)("tr",{className:"hover:bg-neutral-50",children:[(0,ct.jsxs)("td",{className:"border border-neutral-300 px-4 py-3 font-medium",children:["#",e.match_number]}),(0,ct.jsxs)("td",{className:"border border-neutral-300 px-4 py-3",children:[(0,ct.jsxs)("div",{className:"font-medium",children:[e.player1_first_name," ",e.player1_last_name]}),(0,ct.jsx)("div",{className:"text-sm text-neutral-600",children:e.player1_club})]}),(0,ct.jsxs)("td",{className:"border border-neutral-300 px-4 py-3",children:[(0,ct.jsxs)("div",{className:"font-medium",children:[e.player2_first_name," ",e.player2_last_name]}),(0,ct.jsx)("div",{className:"text-sm text-neutral-600",children:e.player2_club})]}),(0,ct.jsx)("td",{className:"border border-neutral-300 px-4 py-3",children:e.winner_first_name?(0,ct.jsxs)("div",{className:"font-medium text-green-600",children:[e.winner_first_name," ",e.winner_last_name]}):(0,ct.jsx)("span",{className:"text-neutral-500",children:"Not available"})}),(0,ct.jsx)("td",{className:"border border-neutral-300 px-4 py-3",children:(0,ct.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(0,ct.jsx)(St,{className:"w-3 h-3 inline mr-1"}),"Completed"]})})]},e.id))})]})})]}),0===o.length&&(0,ct.jsxs)("div",{className:"text-center py-8",children:[(0,ct.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-neutral-100 rounded-full flex items-center justify-center",children:(0,ct.jsx)(qe,{className:"w-8 h-8 text-neutral-400"})}),(0,ct.jsx)("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"No matches available"}),(0,ct.jsx)("p",{className:"text-neutral-600 mb-4",children:"Generate matches first to submit scores."})]})]}),"stroke_play"===r.tournament_format&&(0,ct.jsx)(zs,{tournamentId:r.id,tournamentFormat:r.tournament_format,tournamentSettings:H(r),onScoreSubmitted:G,courseId:r.course_id}),"stroke_play"===r.tournament_format&&("admin"===(null===e||void 0===e?void 0:e.role)||q)&&(0,ct.jsx)("div",{className:"mt-8",children:(0,ct.jsx)("div",{className:"border-t border-neutral-200 pt-6",children:(0,ct.jsx)(Vn,{tournamentId:r.id,tournamentName:r.name,onScorecardUpdated:G})})}),"par3_match_play"===r.tournament_format&&(0,ct.jsx)($s,{tournamentId:r.id,tournamentName:r.name,onScoreSubmitted:G}),(!r.tournament_format||"match_play"!==r.tournament_format&&"stroke_play"!==r.tournament_format&&"par3_match_play"!==r.tournament_format||"3"!==r.hole_configuration)&&(0,ct.jsx)(Bs,{tournamentId:r.id,tournamentMatches:o,tournamentFormat:r.tournament_format||"match_play",onScoreSubmitted:G,requiresMatches:B(r.tournament_format||"match_play"),teams:m,tournamentSettings:H(r),courseId:r.course_id}),("admin"===(null===e||void 0===e?void 0:e.role)||q)&&(0,ct.jsx)("div",{className:"mt-8",children:(0,ct.jsx)("div",{className:"border-t border-neutral-200 pt-6",children:(0,ct.jsx)(qn,{tournamentId:r.id,tournamentName:r.name,weekStartDate:I||r.week_start_date,onScorecardUpdated:G})})}),("admin"===(null===e||void 0===e?void 0:e.role)||q)&&"match_play"===r.tournament_format&&"3"!==r.hole_configuration&&(0,ct.jsx)("div",{className:"mt-8",children:(0,ct.jsx)("div",{className:"border-t border-neutral-200 pt-6",children:(0,ct.jsx)(Gn,{tournamentId:r.id,tournamentName:r.name,onMatchUpdated:G})})})]}),"leaderboard"===y&&!("club_championship"===r.type||"national_championship"===r.type)&&(0,ct.jsxs)("div",{className:"space-y-6",children:["match_play"===r.tournament_format&&"3"===r.hole_configuration&&(0,ct.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-neutral-200",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsx)(qe,{className:"w-6 h-6 text-brand-neon-green"}),(0,ct.jsx)("h4",{className:"text-xl font-semibold text-brand-black",children:"3-Hole Matchplay Leaderboard"})]}),(0,ct.jsx)("button",{onClick:G,className:"px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors",children:"Refresh"})]}),(0,ct.jsx)("div",{className:"space-y-4",children:(()=>{const e=o.filter(e=>"completed"===e.status),t=new Map;l.forEach(e=>{t.set(e.user_member_id,{player_id:e.user_member_id,first_name:e.first_name,last_name:e.last_name,club:e.club,matches_played:0,wins:0,losses:0,ties:0,points:0,total_score:0,avg_score:0})}),e.forEach(e=>{const s=t.get(e.player1_id),a=t.get(e.player2_id);s&&a&&(s.matches_played++,a.matches_played++,e.winner_id===e.player1_id?(s.wins++,s.points+=3,a.losses++,a.points+=0):e.winner_id===e.player2_id?(a.wins++,a.points+=3,s.losses++,s.points+=0):(s.ties++,s.points+=1,a.ties++,a.points+=1))});const s=Array.from(t.values()).filter(e=>e.matches_played>0).sort((e,t)=>{if(t.points!==e.points)return t.points-e.points;if(t.wins!==e.wins)return t.wins-e.wins;const s=e.matches_played>0?e.wins/e.matches_played:0;return(t.matches_played>0?t.wins/t.matches_played:0)-s});return 0===s.length?(0,ct.jsxs)("div",{className:"text-center py-8",children:[(0,ct.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-neutral-100 rounded-full flex items-center justify-center",children:(0,ct.jsx)(qe,{className:"w-8 h-8 text-neutral-400"})}),(0,ct.jsx)("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"No matches completed yet"}),(0,ct.jsx)("p",{className:"text-neutral-600",children:"Complete some matches to see the leaderboard."})]}):(0,ct.jsx)("div",{className:"overflow-x-auto",children:(0,ct.jsxs)("table",{className:"w-full border-collapse border border-neutral-300 rounded-lg",children:[(0,ct.jsx)("thead",{className:"bg-neutral-50",children:(0,ct.jsxs)("tr",{children:[(0,ct.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Position"}),(0,ct.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Player"}),(0,ct.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-center font-medium",children:"Points"}),(0,ct.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-center font-medium",children:"W"}),(0,ct.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-center font-medium",children:"L"}),(0,ct.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-center font-medium",children:"T"}),(0,ct.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-center font-medium",children:"Matches"}),(0,ct.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-center font-medium",children:"Win %"})]})}),(0,ct.jsx)("tbody",{children:s.map((e,t)=>{const s=e.matches_played>0?(e.wins/e.matches_played*100).toFixed(1):"0.0",a=0===t;return(0,ct.jsxs)("tr",{className:"hover:bg-neutral-50 ".concat(a?"bg-yellow-50":""),children:[(0,ct.jsx)("td",{className:"border border-neutral-300 px-4 py-3",children:(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[0===t&&(0,ct.jsx)(qe,{className:"w-5 h-5 text-yellow-500"}),1===t&&(0,ct.jsx)(St,{className:"w-5 h-5 text-gray-400"}),2===t&&(0,ct.jsx)(St,{className:"w-5 h-5 text-amber-600"}),(0,ct.jsx)("span",{className:"font-medium text-neutral-600",children:t+1})]})}),(0,ct.jsx)("td",{className:"border border-neutral-300 px-4 py-3",children:(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("div",{className:"font-medium text-brand-black",children:[e.first_name," ",e.last_name]}),(0,ct.jsx)("div",{className:"text-sm text-neutral-600",children:e.club})]})}),(0,ct.jsx)("td",{className:"border border-neutral-300 px-4 py-3 text-center",children:(0,ct.jsx)("span",{className:"font-bold text-lg text-brand-black",children:e.points})}),(0,ct.jsx)("td",{className:"border border-neutral-300 px-4 py-3 text-center",children:(0,ct.jsx)("span",{className:"font-medium text-green-600",children:e.wins})}),(0,ct.jsx)("td",{className:"border border-neutral-300 px-4 py-3 text-center",children:(0,ct.jsx)("span",{className:"font-medium text-red-600",children:e.losses})}),(0,ct.jsx)("td",{className:"border border-neutral-300 px-4 py-3 text-center",children:(0,ct.jsx)("span",{className:"font-medium text-blue-600",children:e.ties})}),(0,ct.jsx)("td",{className:"border border-neutral-300 px-4 py-3 text-center",children:(0,ct.jsx)("span",{className:"font-medium text-neutral-600",children:e.matches_played})}),(0,ct.jsx)("td",{className:"border border-neutral-300 px-4 py-3 text-center",children:(0,ct.jsxs)("span",{className:"font-medium text-neutral-600",children:[s,"%"]})})]},e.player_id)})})]})})})()}),(()=>{const e=o.filter(e=>"completed"===e.status);return 0===e.length?null:(0,ct.jsxs)("div",{className:"mt-8",children:[(0,ct.jsx)("h5",{className:"text-lg font-semibold text-brand-black mb-4",children:"Recent Match Results"}),(0,ct.jsx)("div",{className:"space-y-4",children:e.slice(-6).reverse().map(e=>{var t,s;let a=[];if(e.scores)if(console.log("Match scores structure:",e.scores),e.scores.holes)if("string"===typeof e.scores.holes)try{a=JSON.parse(e.scores.holes)}catch(Zp){console.error("Error parsing holes data:",Zp)}else Array.isArray(e.scores.holes)&&(a=e.scores.holes);else e.scores.player1_score&&e.scores.player2_score&&(a=[{hole:"Total",player1:e.scores.player1_score,player2:e.scores.player2_score}]);return(0,ct.jsxs)("div",{className:"border border-neutral-200 rounded-lg overflow-hidden",children:[(0,ct.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 px-4 py-3 border-b border-neutral-200",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ct.jsxs)("span",{className:"text-sm font-medium text-neutral-600",children:["Match #",e.match_number]}),(0,ct.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:"Completed"})]}),(0,ct.jsx)("div",{className:"text-sm text-neutral-500",children:e.updated_at?new Date(e.updated_at).toLocaleDateString():e.created_at?new Date(e.created_at).toLocaleDateString():"Date not available"})]}),(0,ct.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,ct.jsxs)("div",{className:"text-sm",children:[(0,ct.jsxs)("span",{className:"font-medium",children:[e.player1_first_name," ",e.player1_last_name]}),(0,ct.jsx)("span",{className:"text-neutral-500 ml-2",children:"vs"}),(0,ct.jsxs)("span",{className:"font-medium",children:[e.player2_first_name," ",e.player2_last_name]})]}),e.winner_first_name&&(0,ct.jsxs)("div",{className:"text-sm font-medium text-green-600",children:["Winner: ",e.winner_first_name," ",e.winner_last_name]}),(0,ct.jsxs)("div",{className:"text-sm text-neutral-600",children:["Final Score: ",(null===(t=e.scores)||void 0===t?void 0:t.player1_score)||e.player1_score," - ",(null===(s=e.scores)||void 0===s?void 0:s.player2_score)||e.player2_score]})]})]}),a.length>0&&(0,ct.jsxs)("div",{className:"p-4 bg-white",children:[(0,ct.jsx)("div",{className:"text-sm font-medium text-neutral-700 mb-3",children:"Hole-by-Hole Scores:"}),(0,ct.jsx)("div",{className:"overflow-x-auto",children:(0,ct.jsxs)("table",{className:"w-full text-xs border border-neutral-200 rounded",children:[(0,ct.jsx)("thead",{className:"bg-neutral-50",children:(0,ct.jsxs)("tr",{children:[(0,ct.jsx)("th",{className:"px-2 py-1 text-center font-medium text-neutral-600 border-b",children:"Hole"}),(0,ct.jsx)("th",{className:"px-2 py-1 text-center font-medium text-neutral-600 border-b",children:e.player1_first_name}),(0,ct.jsx)("th",{className:"px-2 py-1 text-center font-medium text-neutral-600 border-b",children:e.player2_first_name}),(0,ct.jsx)("th",{className:"px-2 py-1 text-center font-medium text-neutral-600 border-b",children:"Winner"}),(0,ct.jsx)("th",{className:"px-2 py-1 text-center font-medium text-neutral-600 border-b",children:"Score"})]})}),(0,ct.jsx)("tbody",{children:a.map((t,s)=>{const a=t.player1||t.player1_score||0,r=t.player2||t.player2_score||0,n=a<r?e.player1_first_name:a>r?e.player2_first_name:"Tie",l=Math.abs(a-r);return(0,ct.jsxs)("tr",{className:"border-b border-neutral-100",children:[(0,ct.jsx)("td",{className:"px-2 py-1 text-center font-medium text-neutral-600",children:t.hole||s+1}),(0,ct.jsx)("td",{className:"px-2 py-1 text-center ".concat(a<r?"text-green-600 font-semibold":""),children:a||"-"}),(0,ct.jsx)("td",{className:"px-2 py-1 text-center ".concat(r<a?"text-green-600 font-semibold":""),children:r||"-"}),(0,ct.jsx)("td",{className:"px-2 py-1 text-center text-xs ".concat("Tie"===n?"text-neutral-500":"text-green-600 font-medium"),children:n}),(0,ct.jsx)("td",{className:"px-2 py-1 text-center text-xs text-neutral-500",children:l>0?"+".concat(l):"AS"})]},s)})})]})})]}),0===a.length&&(0,ct.jsxs)("div",{className:"p-4 bg-white text-sm text-neutral-500",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,ct.jsx)("span",{children:"\ud83d\udcca"}),(0,ct.jsx)("span",{children:"Hole-by-hole scores not available for this match"})]}),(0,ct.jsx)("div",{className:"text-xs text-neutral-400 mt-1 text-center",children:"Only total scores are recorded for this match"})]})]},e.id)})})]})})()]}),"par3_match_play"===r.tournament_format&&(0,ct.jsx)(Bt,{tournamentId:r.id,tournamentName:r.name,weekStartDate:r.week_start_date,tournamentStartDate:r.start_date,tournamentEndDate:r.end_date}),(!r.tournament_format||"match_play"!==r.tournament_format||"3"!==r.hole_configuration)&&"par3_match_play"!==r.tournament_format&&("stroke_play"===r.tournament_format?(0,ct.jsx)(Lt,{tournamentId:r.id,tournamentFormat:r.tournament_format,courseId:r.course_id,onRefresh:G,tournamentInfo:{name:r.name,description:r.description,start_date:r.start_date,course_name:r.course},tournamentSettings:H(r)}):(0,ct.jsx)(Tt,{tournamentId:r.id,tournamentFormat:r.tournament_format||"match_play",onRefresh:G,courseId:r.course_id,tournamentSettings:H(r)}))]}),"championship"===y&&(0,ct.jsx)($n,{tournamentId:r.id,tournamentName:r.name,tournamentParticipants:l,tournamentMatches:o,tournamentCourse:r.course,tournamentCourseId:r.course_id,onDataRefresh:()=>{r&&((0,tt.MsJ)(r.id).then(e=>i(e.data)),(0,tt.PNr)(r.id).then(e=>c(e.data)))}})]})]})]})]}),N&&(0,ct.jsx)(Fn,{mode:"create",onSuccess:Y,onCancel:()=>w(!1),currentUser:e}),_&&(0,ct.jsx)(Fn,{mode:"edit",tournament:_,onSuccess:Y,onCancel:()=>k(null),currentUser:e}),S&&A&&(0,ct.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,ct.jsxs)("div",{className:"bg-white rounded-2xl p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,ct.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ct.jsxs)("h3",{className:"text-2xl font-bold text-brand-black",children:["3-Hole Matchplay Scoring - Match #",A.match_number]}),(0,ct.jsx)("button",{onClick:()=>C(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:(0,ct.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ct.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 border border-blue-200 rounded-xl p-6",children:[(0,ct.jsx)("h4",{className:"text-lg font-semibold text-brand-black mb-4 text-center",children:"Match Information"}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ct.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:[(0,ct.jsxs)("h5",{className:"font-medium text-neutral-700 mb-3 flex items-center",children:[(0,ct.jsx)(pt,{className:"w-5 h-5 text-blue-600 mr-2"}),"Player 1"]}),(0,ct.jsxs)("p",{className:"text-sm text-neutral-600 font-medium",children:[A.player1_first_name," ",A.player1_last_name]}),(0,ct.jsx)("p",{className:"text-xs text-neutral-500",children:A.player1_club})]}),(0,ct.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-green-200",children:[(0,ct.jsxs)("h5",{className:"font-medium text-neutral-700 mb-3 flex items-center",children:[(0,ct.jsx)(pt,{className:"w-5 h-5 text-green-600 mr-2"}),"Player 2"]}),(0,ct.jsxs)("p",{className:"text-sm text-neutral-600 font-medium",children:[A.player2_first_name," ",A.player2_last_name]}),(0,ct.jsx)("p",{className:"text-xs text-neutral-500",children:A.player2_club})]})]})]}),(0,ct.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-xl p-6",children:[(0,ct.jsx)("h4",{className:"text-lg font-semibold text-brand-black mb-4",children:"Hole-by-Hole Scores"}),(0,ct.jsx)("div",{className:"overflow-x-auto",children:(0,ct.jsxs)("table",{className:"w-full border-collapse border border-neutral-300 rounded-lg",children:[(0,ct.jsx)("thead",{className:"bg-neutral-50",children:(0,ct.jsxs)("tr",{children:[(0,ct.jsx)("th",{className:"border border-neutral-300 px-3 py-2 text-center text-sm font-medium text-neutral-600",children:"Hole"}),(0,ct.jsx)("th",{className:"border border-neutral-300 px-3 py-2 text-center text-sm font-medium text-neutral-600",children:"Par"}),(0,ct.jsx)("th",{className:"border border-neutral-300 px-3 py-2 text-center text-sm font-medium text-neutral-600",children:A.player1_first_name}),(0,ct.jsx)("th",{className:"border border-neutral-300 px-3 py-2 text-center text-sm font-medium text-neutral-600",children:A.player2_first_name})]})}),(0,ct.jsxs)("tbody",{children:[[1,2,3].map((e,t)=>(0,ct.jsxs)("tr",{className:"hover:bg-neutral-50",children:[(0,ct.jsx)("td",{className:"border border-neutral-300 px-3 py-2 text-center text-sm font-medium text-neutral-600",children:e}),(0,ct.jsx)("td",{className:"border border-neutral-300 px-3 py-2 text-center text-sm font-medium text-neutral-500",children:"Par 3"===r.tee?"3":"4"}),(0,ct.jsx)("td",{className:"border border-neutral-300 px-3 py-2",children:(0,ct.jsx)("input",{type:"number",min:"1",max:"10",value:T.player1Holes[t],onChange:e=>$(t,"player1",e.target.value),className:"w-full px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-brand-neon-green focus:border-transparent text-center",placeholder:"-"})}),(0,ct.jsx)("td",{className:"border border-neutral-300 px-3 py-2",children:(0,ct.jsx)("input",{type:"number",min:"1",max:"10",value:T.player2Holes[t],onChange:e=>$(t,"player2",e.target.value),className:"w-full px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-brand-neon-green focus:border-transparent text-center",placeholder:"-"})})]},e)),(0,ct.jsxs)("tr",{className:"bg-neutral-100 font-semibold",children:[(0,ct.jsx)("td",{className:"border border-neutral-300 px-3 py-2 text-center text-sm font-medium text-neutral-600",children:"Total"}),(0,ct.jsx)("td",{className:"border border-neutral-300 px-3 py-2 text-center text-sm font-medium text-neutral-600",children:"Par 3"===r.tee?"9":"12"}),(0,ct.jsx)("td",{className:"border border-neutral-300 px-3 py-2 text-center text-sm font-medium text-brand-black",children:T.player1Total||"0"}),(0,ct.jsx)("td",{className:"border border-neutral-300 px-3 py-2 text-center text-sm font-medium text-brand-black",children:T.player2Total||"0"})]})]})]})})]}),T.player1Total&&T.player2Total&&(0,ct.jsxs)("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-xl p-6",children:[(0,ct.jsx)("h4",{className:"text-lg font-semibold text-brand-black mb-4 text-center",children:"Match Result"}),(0,ct.jsx)("div",{className:"text-center",children:parseInt(T.player1Total)<parseInt(T.player2Total)?(0,ct.jsxs)("div",{className:"text-green-600 font-semibold",children:[(0,ct.jsx)(St,{className:"w-8 h-8 mx-auto mb-2"}),A.player1_first_name," ",A.player1_last_name," wins!"]}):parseInt(T.player1Total)>parseInt(T.player2Total)?(0,ct.jsxs)("div",{className:"text-green-600 font-semibold",children:[(0,ct.jsx)(St,{className:"w-8 h-8 mx-auto mb-2"}),A.player2_first_name," ",A.player2_last_name," wins!"]}):(0,ct.jsxs)("div",{className:"text-blue-600 font-semibold",children:[(0,ct.jsx)(pt,{className:"w-8 h-8 mx-auto mb-2"}),"Match tied!"]})})]}),(0,ct.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4 pt-4",children:[(0,ct.jsx)("button",{type:"button",onClick:()=>C(!1),className:"px-6 py-3 border border-neutral-300 rounded-lg text-neutral-600 hover:bg-neutral-50 transition-colors",children:"Cancel"}),(0,ct.jsx)("button",{onClick:async()=>{if(A)try{const e=parseInt(T.player1Total),t=parseInt(T.player2Total);let s=null;s=e<t?A.player1_id:t<e?A.player2_id:null,await(0,tt.kP3)(r.id,A.id,{winner_id:s,scores:{player1_score:e,player2_score:t,holes:[{hole:1,player1:T.player1Holes[0],player2:T.player2Holes[0]},{hole:2,player1:T.player1Holes[1],player2:T.player2Holes[1]},{hole:3,player1:T.player1Holes[2],player2:T.player2Holes[2]}]}}),_s.success("Matchplay score submitted successfully"),C(!1),E(null),P({player1Holes:["","",""],player2Holes:["","",""],player1Total:"",player2Total:"",winner:null}),G()}catch(e){console.error("Error submitting matchplay score:",e),_s.error("Failed to submit matchplay score")}},disabled:!T.player1Total||!T.player2Total,className:"px-6 py-3 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Submit Match Score"})]})]})]})})]})},Kn=We("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),Jn=We("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Xn=We("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Zn=We("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),el=e=>{let{isOpen:t,onClose:s,onSelectRoundType:r}=e;const[n,l]=(0,a.useState)("holes"),[i,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(null),[u,m]=(0,a.useState)(null),[x,h]=(0,a.useState)([]),[p,g]=(0,a.useState)([]),[f,b]=(0,a.useState)(""),[v,y]=(0,a.useState)(!1),[j,N]=(0,a.useState)(!1),[w,_]=(0,a.useState)(null),[k,S]=(0,a.useState)([]),[C,A]=(0,a.useState)(!1),E=["Black","Blue","White","Green","Yellow","Red","Junior","PAR3"],T={Black:"bg-gray-800 text-white border-gray-700",Blue:"bg-blue-200 text-blue-900 border-blue-300",White:"bg-white text-gray-900 border-gray-300",Green:"bg-green-200 text-green-900 border-green-300",Yellow:"bg-yellow-200 text-yellow-900 border-yellow-300",Red:"bg-red-200 text-red-900 border-red-300",Junior:"bg-cyan-200 text-cyan-900 border-cyan-300",PAR3:"bg-purple-200 text-purple-900 border-purple-300"};(0,a.useEffect)(()=>{t&&P()},[t]),(0,a.useEffect)(()=>{if(f.trim()){const e=x.filter(e=>e.name.toLowerCase().includes(f.toLowerCase())||e.location&&e.location.toLowerCase().includes(f.toLowerCase())||e.designer&&e.designer.toLowerCase().includes(f.toLowerCase())).slice(0,20);g(e)}else g(x.slice(0,30))},[f,x]);const P=async()=>{y(!0);try{const e=await(0,tt.B9o)(void 0,"all",1e4);h(e.data.courses||[])}catch(e){console.error("Error fetching courses:",e)}finally{y(!1)}},D=()=>{l("holes"),o(null),m(null),b(""),N(!1),_(null),S([]),s()},M=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;o(e),d(t),l("course")},R=async()=>{if(i&&u&&null!==w&&void 0!==w&&w.teebox&&null!==w.courseRating&&null!==w.courseSlope){try{console.log("Saving teebox data before starting round:",{courseId:u.id,teebox:w.teebox,rating:w.courseRating,slope:w.courseSlope}),await(0,tt.Cvj)(u.id,w.teebox,w.courseRating,w.courseSlope),console.log("Teebox data saved successfully")}catch(e){console.error("Error saving teebox data:",e)}r("sim",i,u,c,w)}};return t?(0,ct.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ct.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full flex flex-col ".concat("course"===n?"max-w-7xl max-h-[95vh]":"max-w-2xl max-h-[90vh]"),children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[("course"===n||"teebox"===n)&&(0,ct.jsx)("button",{onClick:"course"===n?()=>{l("holes"),m(null),b(""),_(null),S([])}:()=>{l("course"),_(null),S([])},className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,ct.jsx)(Fs,{className:"w-5 h-5"})}),(0,ct.jsx)("h2",{className:"text-xl font-bold text-brand-black",children:"holes"===n?"Track a Simulator Round":"course"===n?"Change number of holes":"Change Course Selection"})]}),(0,ct.jsx)("button",{onClick:D,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,ct.jsx)(Qe,{className:"w-6 h-6"})})]}),(0,ct.jsx)("div",{className:"p-6 flex-1 overflow-y-auto ".concat("course"===n?"min-h-[60vh]":""),children:"holes"===n?(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)("p",{className:"text-gray-600 mb-6",children:"How many holes are you playing today?"}),(0,ct.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,ct.jsx)("button",{onClick:()=>M(18,null),className:"w-full py-4 px-6 border-2 border-gray-200 rounded-lg hover:border-brand-neon-green hover:bg-brand-neon-green/5 transition-all duration-200 group",children:(0,ct.jsxs)("div",{className:"flex items-center justify-center space-x-3",children:[(0,ct.jsx)("div",{className:"rounded-full p-3 bg-purple-100 group-hover:bg-purple-200 transition-colors",children:(0,ct.jsx)("span",{className:"text-purple-600 font-bold text-lg",children:"18"})}),(0,ct.jsxs)("div",{className:"text-left",children:[(0,ct.jsx)("div",{className:"font-semibold text-gray-900 text-lg",children:"Full Round"}),(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"Complete 18-hole round"})]})]})}),(0,ct.jsxs)("div",{className:"flex space-x-3",children:[(0,ct.jsx)("button",{onClick:()=>M(9,"front"),className:"flex-1 py-3 px-4 border-2 border-gray-200 rounded-lg hover:border-brand-neon-green hover:bg-brand-neon-green/5 transition-all duration-200 group",children:(0,ct.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,ct.jsx)("div",{className:"rounded-full p-2 bg-orange-100 group-hover:bg-orange-200 transition-colors",children:(0,ct.jsx)("span",{className:"text-orange-600 font-bold text-sm",children:"F9"})}),(0,ct.jsx)("span",{className:"font-medium text-gray-900",children:"Front 9"})]})}),(0,ct.jsx)("button",{onClick:()=>M(9,"back"),className:"flex-1 py-3 px-4 border-2 border-gray-200 rounded-lg hover:border-brand-neon-green hover:bg-brand-neon-green/5 transition-all duration-200 group",children:(0,ct.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,ct.jsx)("div",{className:"rounded-full p-2 bg-blue-100 group-hover:bg-blue-200 transition-colors",children:(0,ct.jsx)("span",{className:"text-blue-600 font-bold text-sm",children:"B9"})}),(0,ct.jsx)("span",{className:"font-medium text-gray-900",children:"Back 9"})]})})]})]})]}):"course"===n?(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsxs)("div",{className:"mb-6",children:[(0,ct.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Select Your Course"}),(0,ct.jsxs)("p",{className:"text-gray-600",children:[i," holes \u2022 Search from ",x.length.toLocaleString()," available courses"]})]}),(0,ct.jsxs)("div",{className:"relative mb-8",children:[(0,ct.jsxs)("div",{className:"relative",children:[(0,ct.jsx)(Za,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,ct.jsx)("input",{type:"text",placeholder:"Search courses by name, location, or designer...",value:f,onChange:e=>{b(e.target.value),N(!0)},onFocus:()=>N(!0),className:"w-full pl-12 pr-4 py-4 text-lg border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"}),v&&(0,ct.jsx)(ca,{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 animate-spin"})]}),j&&(0,ct.jsx)("div",{className:"absolute z-10 w-full mt-2 bg-white border border-gray-300 rounded-lg shadow-xl max-h-[60vh] overflow-y-auto",children:p.length>0?(0,ct.jsx)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-0",children:p.map(e=>(0,ct.jsxs)("div",{onClick:()=>(async e=>{if(m(e),N(!1),b(e.name),_({teebox:"",courseRating:null,courseSlope:null}),l("teebox"),e.id){A(!0);try{const t=await(0,tt.Dfr)(e.id);S(t.data.teeboxData||[])}catch(t){console.error("Error fetching teebox data:",t),S([])}finally{A(!1)}}})(e),className:"px-6 py-4 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0 transition-colors",children:[(0,ct.jsx)("div",{className:"font-semibold text-gray-900 text-base mb-1 truncate",children:e.name}),(0,ct.jsxs)("div",{className:"text-xs text-gray-600 flex items-center space-x-2 mb-2",children:[e.location&&(0,ct.jsxs)("span",{className:"flex items-center truncate",children:[(0,ct.jsx)(Ge,{className:"w-3 h-3 mr-1 flex-shrink-0"}),(0,ct.jsx)("span",{className:"truncate",children:e.location})]}),e.designer&&(0,ct.jsxs)("span",{className:"text-gray-500 truncate",children:["by ",e.designer]})]}),(0,ct.jsx)("div",{className:"flex space-x-1",children:e.platforms.map(e=>(0,ct.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("GSPro"===e?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"),children:e},e))})]},e.id))}):f.trim()?(0,ct.jsxs)("div",{className:"px-6 py-8 text-center text-gray-500",children:[(0,ct.jsx)(Za,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),(0,ct.jsxs)("p",{className:"text-lg",children:['No courses found matching "',f,'"']}),(0,ct.jsx)("p",{className:"text-sm mt-1",children:"Try a different search term"})]}):(0,ct.jsxs)("div",{className:"px-6 py-8 text-center text-gray-500",children:[(0,ct.jsx)(ca,{className:"w-8 h-8 mx-auto mb-2 animate-spin text-gray-300"}),(0,ct.jsx)("p",{className:"text-lg",children:"Loading courses..."})]})})]}),u&&(0,ct.jsx)("div",{className:"mb-6 p-6 bg-gradient-to-r from-brand-green/10 to-brand-blue/10 rounded-lg border border-brand-green/20",children:(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("div",{className:"font-bold text-gray-900 text-xl mb-2",children:u.name}),(0,ct.jsxs)("div",{className:"text-sm text-gray-600 flex items-center space-x-4",children:[u.location&&(0,ct.jsxs)("span",{className:"flex items-center",children:[(0,ct.jsx)(Ge,{className:"w-4 h-4 mr-1"}),u.location]}),u.designer&&(0,ct.jsxs)("span",{className:"text-gray-500",children:["by ",u.designer]})]})]}),(0,ct.jsx)("div",{className:"flex space-x-2",children:u.platforms.map(e=>(0,ct.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ".concat("GSPro"===e?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"),children:e},e))})]})})]}):"teebox"===n&&u?(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsxs)("div",{className:"mb-4",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:k.length>0?"Choose a Teebox":"Add a Teebox"}),C?(0,ct.jsxs)("div",{className:"flex items-center justify-center py-4",children:[(0,ct.jsx)(ca,{className:"w-5 h-5 animate-spin text-gray-400 mr-2"}),(0,ct.jsx)("span",{className:"text-gray-600",children:"Loading teeboxes..."})]}):k.length>0?(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)("div",{className:"mb-3",children:(0,ct.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:k.slice().sort((e,t)=>E.indexOf(e.teebox)-E.indexOf(t.teebox)).map((e,t)=>(0,ct.jsxs)("button",{onClick:()=>_({teebox:e.teebox,courseRating:e.course_rating,courseSlope:e.course_slope}),className:"px-3 py-2 border-2 rounded-lg text-center text-sm font-medium transition-colors ".concat((null===w||void 0===w?void 0:w.teebox)===e.teebox&&(null===w||void 0===w?void 0:w.courseRating)===e.course_rating&&(null===w||void 0===w?void 0:w.courseSlope)===e.course_slope?"border-brand-neon-green bg-brand-neon-green/10 text-brand-black":"".concat(T[e.teebox]||"bg-gray-50 border-gray-200"," hover:border-gray-400'")),children:[(0,ct.jsx)("div",{className:"font-medium",children:e.teebox}),(0,ct.jsxs)("div",{className:"text-xs text-gray-500",children:[e.course_rating,"/",e.course_slope]})]},t))})}),(0,ct.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mt-3",children:(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsx)(ar,{className:"w-4 h-4 text-blue-600 flex-shrink-0"}),(0,ct.jsxs)("div",{className:"text-xs text-blue-800",children:[(0,ct.jsx)("span",{children:"Need help finding ratings? "}),(0,ct.jsxs)("a",{href:"https://simulatorgolftour.com/courses",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium",children:[(0,ct.jsx)(Zn,{className:"w-3 h-3 mr-1"}),"Visit SGT Course Database"]})]})]})})]}):(0,ct.jsxs)("div",{className:"text-center text-gray-500 py-4",children:[(0,ct.jsx)("p",{children:"No teeboxes found for this course. Please enter the teebox, rating, and slope manually."}),(0,ct.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mt-3 inline-block",children:(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsx)(ar,{className:"w-4 h-4 text-yellow-600 flex-shrink-0"}),(0,ct.jsxs)("div",{className:"text-xs text-yellow-800",children:[(0,ct.jsx)("span",{children:"Need help finding ratings? "}),(0,ct.jsxs)("a",{href:"https://simulatorgolftour.com/courses",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium",children:[(0,ct.jsx)(Zn,{className:"w-3 h-3 mr-1"}),"Visit SGT Course Database"]})]})]})})]}),(!(null!==w&&void 0!==w&&w.teebox)||!k.some(e=>e.teebox===w.teebox))&&(0,ct.jsxs)("div",{className:"mt-2",children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:k.length>0?"Add Another Teebox":"Select Teebox"}),(0,ct.jsxs)("select",{value:(null===w||void 0===w?void 0:w.teebox)||"",onChange:e=>_(t=>({teebox:e.target.value,courseRating:(null===t||void 0===t?void 0:t.courseRating)||null,courseSlope:(null===t||void 0===t?void 0:t.courseSlope)||null})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,ct.jsx)("option",{value:"",children:"Select a teebox..."}),E.map(e=>(0,ct.jsx)("option",{value:e,children:e},e))]})]})]}),!k.some(e=>e.teebox===(null===w||void 0===w?void 0:w.teebox))&&(null===w||void 0===w?void 0:w.teebox)&&(0,ct.jsxs)("div",{className:"mb-4",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Course Rating & Slope"}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course Rating"}),(0,ct.jsx)("input",{type:"number",step:"0.1",min:"60",max:"80",value:(null===w||void 0===w?void 0:w.courseRating)||"",onChange:e=>{const t=e.target.value,s=""===t?null:parseFloat(t);_(e=>({teebox:(null===e||void 0===e?void 0:e.teebox)||"",courseRating:s,courseSlope:(null===e||void 0===e?void 0:e.courseSlope)||null}))},placeholder:"72.0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-neon-green focus:border-transparent text-center text-lg font-semibold"}),(0,ct.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"The expected score for a scratch golfer (typically 60-80)"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course Slope"}),(0,ct.jsx)("input",{type:"number",step:"0.1",min:"55",max:"155",value:(null===w||void 0===w?void 0:w.courseSlope)||"",onChange:e=>{const t=e.target.value,s=""===t?null:parseFloat(t);_(e=>({teebox:(null===e||void 0===e?void 0:e.teebox)||"",courseRating:(null===e||void 0===e?void 0:e.courseRating)||null,courseSlope:s}))},placeholder:"113",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-neon-green focus:border-transparent text-center text-lg font-semibold"}),(0,ct.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Difficulty rating relative to scratch (typically 55-155)"})]})]})]})]}):null}),(0,ct.jsxs)("div",{className:"flex justify-between p-6 border-t border-gray-200 flex-shrink-0",children:[(0,ct.jsx)("button",{onClick:D,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),"course"===n&&u&&(0,ct.jsx)("button",{onClick:R,className:"px-6 py-2 bg-brand-neon-green text-brand-black rounded-lg hover:bg-green-400 transition-colors font-medium",children:"Continue"}),"teebox"===n&&u&&(null===w||void 0===w?void 0:w.teebox)&&(k.some(e=>e.teebox===w.teebox)||null!==w.courseRating&&null!==w.courseSlope)&&(0,ct.jsx)("button",{onClick:R,className:"px-6 py-2 bg-brand-neon-green text-brand-black rounded-lg hover:bg-green-400 transition-colors font-medium",children:"Start Round"})]})]})}):null},tl=We("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),sl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:18;const[t,s]=(0,a.useState)({playerInfo:{name:"",date:(new Date).toISOString().split("T")[0],handicap:0},holes:Array.from({length:e},(e,t)=>({hole:t+1,strokes:0,mulligans:0,total:0})),totalStrokes:0,totalMulligans:0,finalScore:0}),r=(0,a.useCallback)((e,t)=>{s(s=>(0,Re.A)((0,Re.A)({},s),{},{playerInfo:(0,Re.A)((0,Re.A)({},s.playerInfo),{},{[e]:t})}))},[]),n=(0,a.useCallback)((e,t,a)=>{s(s=>{const r=s.holes.map(s=>{if(s.hole===e){const e=(0,Re.A)((0,Re.A)({},s),{},{[t]:Math.max(0,a)});return e.total=e.strokes+e.mulligans,e}return s}),n=r.reduce((e,t)=>e+t.strokes,0),l=r.reduce((e,t)=>e+t.mulligans,0),i=n+l;return(0,Re.A)((0,Re.A)({},s),{},{holes:r,totalStrokes:n,totalMulligans:l,finalScore:i})})},[]),l=(0,a.useCallback)(e=>{s(t=>{if(t.holes.reduce((e,t)=>e+t.mulligans,0)>=3)return t;const s=t.holes.map(t=>{if(t.hole===e){const e=(0,Re.A)((0,Re.A)({},t),{},{mulligans:t.mulligans+1});return e.total=e.strokes+e.mulligans,e}return t}),a=s.reduce((e,t)=>e+t.strokes,0),r=s.reduce((e,t)=>e+t.mulligans,0),n=a+r;return(0,Re.A)((0,Re.A)({},t),{},{holes:s,totalStrokes:a,totalMulligans:r,finalScore:n})})},[]),i=(0,a.useCallback)(e=>{s(t=>{var s;if(((null===(s=t.holes.find(t=>t.hole===e))||void 0===s?void 0:s.mulligans)||0)<=0)return t;const a=t.holes.map(t=>{if(t.hole===e){const e=(0,Re.A)((0,Re.A)({},t),{},{mulligans:t.mulligans-1});return e.total=e.strokes+e.mulligans,e}return t}),r=a.reduce((e,t)=>e+t.strokes,0),n=a.reduce((e,t)=>e+t.mulligans,0),l=r+n;return(0,Re.A)((0,Re.A)({},t),{},{holes:a,totalStrokes:r,totalMulligans:n,finalScore:l})})},[]),o=(0,a.useCallback)(()=>3-t.holes.reduce((e,t)=>e+t.mulligans,0),[t.holes]),c=(0,a.useCallback)(()=>{const e=[];t.playerInfo.name.trim()||e.push("Player name is required"),t.playerInfo.date||e.push("Date is required");t.holes.reduce((e,t)=>e+t.mulligans,0)>3&&e.push("Cannot use more than ".concat(3," mulligans"));return 0===t.holes.filter(e=>e.strokes>0).length&&e.push("At least one hole must have a score"),e},[t]),d=(0,a.useCallback)(()=>{s({playerInfo:{name:"",date:(new Date).toISOString().split("T")[0],handicap:0},holes:Array.from({length:e},(e,t)=>({hole:t+1,strokes:0,mulligans:0,total:0})),totalStrokes:0,totalMulligans:0,finalScore:0})},[e]),u=(0,a.useCallback)(()=>{const e=t.holes.filter(e=>e.strokes>0),s=e.length;if(0===s)return null;const a=s>0?t.totalStrokes/s:0,r=e.reduce((e,t)=>t.strokes<e.strokes?t:e),n=e.reduce((e,t)=>t.strokes>e.strokes?t:e);return{totalHoles:s,averageScore:Math.round(10*a)/10,bestHole:r,worstHole:n,mulliganEfficiency:t.totalMulligans>0?Math.round(t.totalMulligans/3*100):0}},[t]);return{scoreCard:t,updatePlayerInfo:r,updateHoleScore:n,applyMulligan:l,revokeMulligan:i,getRemainingMulligans:o,validateScoreCard:c,resetScoreCard:d,getScoreStats:u,TOTAL_MULLIGANS:3,HOLES:e}},al=e=>{let{playerInfo:t,onUpdate:s,errors:r=[],userInfo:n}=e;return(0,a.useEffect)(()=>{n&&(!t.name&&n.name&&s("name",n.name),0===t.handicap&&n.handicap&&s("handicap",n.handicap))},[n,t.name,t.handicap,s]),(0,ct.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[(0,ct.jsxs)("h2",{className:"text-xl font-bold text-brand-black mb-4 flex items-center",children:[(0,ct.jsx)($e,{className:"w-5 h-5 mr-2"}),"Player Information"]}),r.length>0&&(0,ct.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:(0,ct.jsx)("ul",{className:"list-disc list-inside",children:r.map((e,t)=>(0,ct.jsx)("li",{children:e},t))})}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Player Name *"}),(0,ct.jsxs)("div",{className:"relative",children:[(0,ct.jsx)("input",{type:"text",value:t.name,onChange:e=>s("name",e.target.value),placeholder:"Enter your name",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"}),(0,ct.jsx)($e,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date *"}),(0,ct.jsxs)("div",{className:"relative",children:[(0,ct.jsx)("input",{type:"date",value:t.date,onChange:e=>s("date",e.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"}),(0,ct.jsx)(Nt,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Handicap"}),(0,ct.jsxs)("div",{className:"relative",children:[(0,ct.jsx)("input",{type:"number",value:t.handicap,onChange:e=>s("handicap",parseInt(e.target.value)||0),placeholder:"0",min:"0",max:"54",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"}),(0,ct.jsx)(pt,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"})]})]})]})]})},rl=e=>{let{hole:t,onUpdateStrokes:s,onUseMulligan:a,onRemoveMulligan:r,remainingMulligans:n,isPar:l}=e;const i=(e,t)=>t&&0!==e?e===t-2?"EAGLE":e===t-1?"BIRDIE":e===t?"PAR":e===t+1?"BOGEY":e===t+2?"DOUBLE":"+".concat(e-t):"";return(0,ct.jsxs)("div",{className:"grid grid-cols-12 gap-2 items-center py-3 border-b border-gray-100 hover:bg-gray-50 transition-colors",children:[(0,ct.jsxs)("div",{className:"col-span-1 text-center",children:[(0,ct.jsx)("span",{className:"font-semibold text-gray-700",children:t.hole}),l&&(0,ct.jsxs)("div",{className:"text-xs text-gray-500",children:["Par ",l]})]}),(0,ct.jsx)("div",{className:"col-span-3",children:(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsx)("button",{onClick:()=>s(Math.max(0,t.strokes-1)),className:"w-8 h-8 bg-gray-200 hover:bg-gray-300 rounded-full flex items-center justify-center transition-colors",children:(0,ct.jsx)(Nr,{className:"w-4 h-4 text-gray-600"})}),(0,ct.jsx)("input",{type:"number",value:t.strokes||"",onChange:e=>s(Math.max(0,parseInt(e.target.value)||0)),className:"w-16 text-center border border-gray-300 rounded-lg py-1 focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",min:"0",max:"20"}),(0,ct.jsx)("button",{onClick:()=>s(t.strokes+1),className:"w-8 h-8 bg-gray-200 hover:bg-gray-300 rounded-full flex items-center justify-center transition-colors",children:(0,ct.jsx)(Gt,{className:"w-4 h-4 text-gray-600"})})]})}),(0,ct.jsx)("div",{className:"col-span-2 text-center",children:t.strokes>0&&(0,ct.jsxs)("div",{className:"font-bold ".concat((o=t.strokes,c=l,c?o===c?"text-green-600":o===c-1?"text-blue-600":o===c-2?"text-purple-600":o===c+1?"text-orange-600":o>=c+2?"text-red-600":"text-gray-900":"text-gray-900")),children:[t.strokes,i(t.strokes,l)&&(0,ct.jsx)("div",{className:"text-xs font-normal",children:i(t.strokes,l)})]})}),(0,ct.jsx)("div",{className:"col-span-3",children:(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsx)("button",{onClick:r,disabled:t.mulligans<=0,className:"w-8 h-8 bg-red-200 hover:bg-red-300 disabled:bg-gray-100 disabled:cursor-not-allowed rounded-full flex items-center justify-center transition-colors",children:(0,ct.jsx)(Nr,{className:"w-4 h-4 text-red-600"})}),(0,ct.jsx)("div",{className:"flex items-center space-x-1",children:Array.from({length:t.mulligans},(e,t)=>(0,ct.jsx)(Jn,{className:"w-4 h-4 text-green-600"},t))}),(0,ct.jsx)("button",{onClick:a,disabled:n<=0,className:"w-8 h-8 bg-green-200 hover:bg-green-300 disabled:bg-gray-100 disabled:cursor-not-allowed rounded-full flex items-center justify-center transition-colors",children:(0,ct.jsx)(Gt,{className:"w-4 h-4 text-green-600"})})]})}),(0,ct.jsx)("div",{className:"col-span-1 text-center",children:t.mulligans>0&&(0,ct.jsx)("span",{className:"text-sm font-medium text-green-600",children:t.mulligans})}),(0,ct.jsx)("div",{className:"col-span-2 text-center",children:t.total>0&&(0,ct.jsxs)("div",{className:"font-bold text-gray-900",children:[t.total,t.mulligans>0&&(0,ct.jsxs)("div",{className:"text-xs text-green-600",children:["+",t.mulligans," mully"]})]})})]});var o,c},nl=e=>{let{isOpen:t,onClose:s}=e;return t?(0,ct.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,ct.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,ct.jsxs)("h2",{className:"text-xl font-bold text-brand-black flex items-center",children:[(0,ct.jsx)(ar,{className:"w-5 h-5 mr-2"}),"Mully Golf Rules"]}),(0,ct.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,ct.jsx)(Qe,{className:"w-6 h-6"})})]}),(0,ct.jsx)("div",{className:"p-6",children:(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[(0,ct.jsx)(Jn,{className:"w-5 h-5 mr-2 text-green-600"}),"What is Mully Golf?"]}),(0,ct.jsx)("p",{className:"text-gray-700 leading-relaxed",children:"Mully Golf is a fun variation of golf where players get a limited number of mulligans (do-over shots) to use strategically throughout their round. The goal is to complete the course with the lowest total score, including any mulligans used."})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[(0,ct.jsx)(pt,{className:"w-5 h-5 mr-2 text-blue-600"}),"Basic Rules"]}),(0,ct.jsxs)("ul",{className:"space-y-2 text-gray-700",children:[(0,ct.jsxs)("li",{className:"flex items-start",children:[(0,ct.jsx)("span",{className:"w-2 h-2 bg-brand-neon-green rounded-full mt-2 mr-3 flex-shrink-0"}),(0,ct.jsxs)("span",{children:["Each player gets ",(0,ct.jsx)("strong",{children:"3 mulligans"})," per round"]})]}),(0,ct.jsxs)("li",{className:"flex items-start",children:[(0,ct.jsx)("span",{className:"w-2 h-2 bg-brand-neon-green rounded-full mt-2 mr-3 flex-shrink-0"}),(0,ct.jsx)("span",{children:"Mulligans can be used on any shot, including putts"})]}),(0,ct.jsxs)("li",{className:"flex items-start",children:[(0,ct.jsx)("span",{className:"w-2 h-2 bg-brand-neon-green rounded-full mt-2 mr-3 flex-shrink-0"}),(0,ct.jsx)("span",{children:"You can use multiple mulligans on the same hole"})]}),(0,ct.jsxs)("li",{className:"flex items-start",children:[(0,ct.jsx)("span",{className:"w-2 h-2 bg-brand-neon-green rounded-full mt-2 mr-3 flex-shrink-0"}),(0,ct.jsx)("span",{children:"Final score = Total strokes + Total mulligans used"})]}),(0,ct.jsxs)("li",{className:"flex items-start",children:[(0,ct.jsx)("span",{className:"w-2 h-2 bg-brand-neon-green rounded-full mt-2 mr-3 flex-shrink-0"}),(0,ct.jsx)("span",{children:"Lowest total score wins"})]})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Strategy Tips"}),(0,ct.jsxs)("ul",{className:"space-y-2 text-gray-700",children:[(0,ct.jsxs)("li",{className:"flex items-start",children:[(0,ct.jsx)("span",{className:"w-2 h-2 bg-yellow-400 rounded-full mt-2 mr-3 flex-shrink-0"}),(0,ct.jsx)("span",{children:"Save mulligans for difficult holes or crucial putts"})]}),(0,ct.jsxs)("li",{className:"flex items-start",children:[(0,ct.jsx)("span",{className:"w-2 h-2 bg-yellow-400 rounded-full mt-2 mr-3 flex-shrink-0"}),(0,ct.jsx)("span",{children:"Consider using mulligans on approach shots to set up easier putts"})]}),(0,ct.jsxs)("li",{className:"flex items-start",children:[(0,ct.jsx)("span",{className:"w-2 h-2 bg-yellow-400 rounded-full mt-2 mr-3 flex-shrink-0"}),(0,ct.jsx)("span",{children:"Don't waste mulligans on shots that are already good"})]}),(0,ct.jsxs)("li",{className:"flex items-start",children:[(0,ct.jsx)("span",{className:"w-2 h-2 bg-yellow-400 rounded-full mt-2 mr-3 flex-shrink-0"}),(0,ct.jsx)("span",{children:"Plan your mulligan usage based on the course layout"})]})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Scoring Example"}),(0,ct.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,ct.jsx)("p",{className:"text-gray-700 mb-3",children:(0,ct.jsx)("strong",{children:"Example Round:"})}),(0,ct.jsxs)("ul",{className:"space-y-1 text-sm text-gray-600",children:[(0,ct.jsx)("li",{children:"\u2022 Hole 1: 4 strokes + 1 mulligan = 5 total"}),(0,ct.jsx)("li",{children:"\u2022 Hole 2: 3 strokes + 0 mulligans = 3 total"}),(0,ct.jsx)("li",{children:"\u2022 Hole 3: 5 strokes + 1 mulligan = 6 total"}),(0,ct.jsx)("li",{children:"\u2022 ... (remaining holes)"}),(0,ct.jsx)("li",{className:"font-semibold text-gray-900 mt-2",children:"Final Score: 72 strokes + 3 mulligans = 75 total"})]})]})]}),(0,ct.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,ct.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[(0,ct.jsx)(rr,{className:"w-5 h-5 mr-2 text-yellow-600"}),"Important Notes"]}),(0,ct.jsxs)("ul",{className:"space-y-2 text-gray-700",children:[(0,ct.jsxs)("li",{className:"flex items-start",children:[(0,ct.jsx)("span",{className:"w-2 h-2 bg-yellow-600 rounded-full mt-2 mr-3 flex-shrink-0"}),(0,ct.jsx)("span",{children:"Mulligans must be declared before taking the shot"})]}),(0,ct.jsxs)("li",{className:"flex items-start",children:[(0,ct.jsx)("span",{className:"w-2 h-2 bg-yellow-600 rounded-full mt-2 mr-3 flex-shrink-0"}),(0,ct.jsx)("span",{children:'Once a mulligan is used, it cannot be "unused"'})]}),(0,ct.jsxs)("li",{className:"flex items-start",children:[(0,ct.jsx)("span",{className:"w-2 h-2 bg-yellow-600 rounded-full mt-2 mr-3 flex-shrink-0"}),(0,ct.jsx)("span",{children:"All standard golf rules apply except for mulligan usage"})]}),(0,ct.jsxs)("li",{className:"flex items-start",children:[(0,ct.jsx)("span",{className:"w-2 h-2 bg-yellow-600 rounded-full mt-2 mr-3 flex-shrink-0"}),(0,ct.jsx)("span",{children:"Have fun and be honest about your mulligan usage!"})]})]})]})]})}),(0,ct.jsx)("div",{className:"flex justify-end p-6 border-t border-gray-200",children:(0,ct.jsx)("button",{onClick:s,className:"px-6 py-2 bg-brand-neon-green text-brand-black rounded-lg hover:bg-brand-neon-green/90 transition-colors",children:"Got it!"})})]})}):null},ll=e=>{let{isOpen:t,onClose:s,onSave:r,courseName:n,holes:l}=e;const[i,o]=(0,a.useState)(Array.from({length:l},()=>4)),[c,d]=(0,a.useState)([]);return t?(0,ct.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:s,children:(0,ct.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Set Par Values"}),(0,ct.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Help the community by setting par values for ",n]})]}),(0,ct.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,ct.jsx)(Qe,{className:"w-6 h-6"})})]}),(0,ct.jsxs)("div",{className:"p-6",children:[(0,ct.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:(0,ct.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,ct.jsx)(ar,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),(0,ct.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,ct.jsx)("p",{className:"font-medium mb-1",children:"You're the first to submit a score for this course!"}),(0,ct.jsx)("p",{children:"You're helping the community by setting the par values. Once saved, all future players will see the correct par for each hole."})]})]})}),(0,ct.jsxs)("div",{className:"mb-6",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Hole-by-Hole Par Values"}),(0,ct.jsx)("div",{className:"grid ".concat("grid-cols-9"," gap-3"),children:i.map((e,t)=>(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Hole ",t+1]}),(0,ct.jsx)("input",{type:"number",min:"3",max:"6",value:e,onChange:e=>((e,t)=>{const s=[...i];s[e]=Math.max(3,Math.min(6,t)),o(s)})(t,parseInt(e.target.value)||4),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-center text-lg font-semibold"})]},t))})]}),(0,ct.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:(0,ct.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Total Par:"}),(0,ct.jsx)("span",{className:"text-xl font-bold text-gray-900 ml-2",children:i.reduce((e,t)=>e+t,0)})]}),(0,ct.jsxs)("div",{className:"text-sm text-gray-600",children:[l," holes \u2022 ",i.filter(e=>3===e).length," par 3s \u2022 ",i.filter(e=>4===e).length," par 4s \u2022 ",i.filter(e=>5===e).length," par 5s"]})]})}),c.length>0&&(0,ct.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:(0,ct.jsx)("ul",{className:"list-disc list-inside text-sm text-red-800",children:c.map((e,t)=>(0,ct.jsx)("li",{children:e},t))})})]}),(0,ct.jsxs)("div",{className:"flex justify-between p-6 border-t border-gray-200",children:[(0,ct.jsx)("button",{onClick:s,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),(0,ct.jsxs)("button",{onClick:()=>{const e=[];i.some(e=>e<3||e>6)&&e.push("Par values must be between 3 and 6");const t=i.reduce((e,t)=>e+t,0),s=18===l?[70,74]:[35,37];(t<s[0]||t>s[1])&&e.push("Total par should typically be between ".concat(s[0]," and ").concat(s[1]," for ").concat(l," holes")),e.length>0?d(e):r(i)},className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium flex items-center space-x-2",children:[(0,ct.jsx)(Yt,{className:"w-4 h-4"}),(0,ct.jsx)("span",{children:"Save Par Values"})]})]})]})}):null},il=e=>{let{onClose:t,onSave:s,userInfo:r,holes:n=18,course:l,nineType:i}=e;const{user:o}=mt(),{scoreCard:c,updatePlayerInfo:d,updateHoleScore:u,applyMulligan:m,revokeMulligan:x,getRemainingMulligans:h,validateScoreCard:p,resetScoreCard:g,getScoreStats:f,TOTAL_MULLIGANS:b,HOLES:v}=sl(n),[y,j]=(0,a.useState)(!1),[N,w]=(0,a.useState)([]),[_,k]=(0,a.useState)(!1),[S,C]=(0,a.useState)(!1),A=(0,a.useRef)(!1),E=h(),T=f(),P=(()=>{const e=(()=>{if(null!==l&&void 0!==l&&l.par_values)return l.par_values;const e=[4,3,4,5,4,3,4,4,4,4,3,4,5,4,3,4,4,4];return 9===n?e.slice(0,9):e})();return"front"===i?e.slice(0,9):"back"===i?e.slice(9,18):e})();return(0,a.useEffect)(()=>{!l||l.par_values||A.current||(o?(C(!0),A.current=!0):(alert("You need to be logged in to set par values for this course. Please log in and try again."),A.current=!0))},[l,o]),(0,ct.jsxs)("div",{className:"max-w-6xl mx-auto p-4",children:[(0,ct.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ct.jsx)("div",{className:"bg-green-100 rounded-full p-3",children:(0,ct.jsx)(Jn,{className:"w-8 h-8 text-green-600"})}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h1",{className:"text-3xl font-bold text-brand-black",children:"Mully Golf Scorecard"}),(0,ct.jsx)("p",{className:"text-brand-muted-green",children:"Track your round with strategic mulligan usage"}),l&&(0,ct.jsxs)("div",{className:"mt-2 text-sm text-gray-600",children:[(0,ct.jsx)("div",{className:"font-medium",children:l.name}),(l.location||l.designer)&&(0,ct.jsxs)("div",{className:"text-gray-500",children:[l.location&&(0,ct.jsx)("span",{children:l.location}),l.location&&l.designer&&(0,ct.jsx)("span",{children:" \u2022 "}),l.designer&&(0,ct.jsxs)("span",{children:["by ",l.designer]})]})]})]})]}),(0,ct.jsxs)("div",{className:"flex space-x-2",children:[(0,ct.jsxs)("button",{onClick:()=>j(!0),className:"flex items-center px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[(0,ct.jsx)(ar,{className:"w-4 h-4 mr-2"}),"Rules"]}),(0,ct.jsxs)("button",{onClick:()=>{window.confirm("Are you sure you want to reset the scorecard? This will clear all scores.")&&(g(),w([]))},className:"flex items-center px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:[(0,ct.jsx)(tl,{className:"w-4 h-4 mr-2"}),"Reset"]}),(0,ct.jsxs)("button",{onClick:async()=>{console.log("Starting save process..."),console.log("Current scoreCard state:",c);const e=p();if(console.log("Validation errors:",e),e.length>0)return w(e),void console.log("Validation failed, not saving");k(!0);try{if(console.log("Calling onSave with scoreCard data..."),s){var t,a,r;const e=(0,Re.A)((0,Re.A)({},c),{},{teebox:null===l||void 0===l||null===(t=l.teeboxData)||void 0===t?void 0:t.teebox,course_rating:null===l||void 0===l||null===(a=l.teeboxData)||void 0===a?void 0:a.courseRating,course_slope:null===l||void 0===l||null===(r=l.teeboxData)||void 0===r?void 0:r.courseSlope});await s(e)}w([]),console.log("Save completed successfully")}catch(n){console.error("Save failed with error:",n),w(["Failed to save scorecard"])}finally{k(!1)}},disabled:_,className:"flex items-center px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg hover:bg-brand-neon-green/90 transition-colors disabled:opacity-50",children:[(0,ct.jsx)(Yt,{className:"w-4 h-4 mr-2"}),_?"Saving...":"Save Round"]}),t&&(0,ct.jsx)("button",{onClick:t,className:"flex items-center px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"Close"})]})]}),(0,ct.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsx)("div",{className:"flex items-center space-x-4",children:(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsx)(Jn,{className:"w-5 h-5 text-green-600"}),(0,ct.jsx)("span",{className:"font-semibold text-green-800",children:"Mulligans Remaining:"}),(0,ct.jsx)("span",{className:"text-2xl font-bold ".concat(E>0?"text-green-600":"text-red-600"),children:E}),(0,ct.jsxs)("span",{className:"text-green-600",children:["/ ",b]})]})}),(0,ct.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"Total Strokes"}),(0,ct.jsx)("div",{className:"text-xl font-bold text-gray-900",children:c.totalStrokes})]}),(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"Mulligans Used"}),(0,ct.jsx)("div",{className:"text-xl font-bold text-green-600",children:c.totalMulligans})]}),(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"Final Score"}),(0,ct.jsx)("div",{className:"text-2xl font-bold text-brand-black",children:c.finalScore})]})]})]})})]}),(0,ct.jsx)(al,{playerInfo:c.playerInfo,onUpdate:d,errors:N,userInfo:r}),(0,ct.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[(0,ct.jsxs)("h2",{className:"text-xl font-bold text-brand-black mb-4 flex items-center",children:[(0,ct.jsx)(pt,{className:"w-5 h-5 mr-2"}),"Scorecard"]}),(0,ct.jsxs)("div",{className:"grid grid-cols-12 gap-2 items-center py-3 border-b-2 border-gray-200 font-semibold text-gray-700",children:[(0,ct.jsx)("div",{className:"col-span-1 text-center",children:"Hole"}),(0,ct.jsx)("div",{className:"col-span-3 text-center",children:"Strokes"}),(0,ct.jsx)("div",{className:"col-span-2 text-center",children:"Score"}),(0,ct.jsx)("div",{className:"col-span-3 text-center",children:"Mulligans"}),(0,ct.jsx)("div",{className:"col-span-1 text-center",children:"Count"}),(0,ct.jsx)("div",{className:"col-span-2 text-center",children:"Total"})]}),(0,ct.jsx)("div",{className:"space-y-1",children:c.holes.map(e=>(0,ct.jsx)(rl,{hole:e,onUpdateStrokes:t=>u(e.hole,"strokes",t),onUseMulligan:()=>m(e.hole),onRemoveMulligan:()=>x(e.hole),remainingMulligans:E,isPar:P[e.hole-1]},e.hole))})]}),T&&(0,ct.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[(0,ct.jsxs)("h2",{className:"text-xl font-bold text-brand-black mb-4 flex items-center",children:[(0,ct.jsx)(Xe,{className:"w-5 h-5 mr-2"}),"Round Statistics"]}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:T.totalHoles}),(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"Holes Played"})]}),(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("div",{className:"text-3xl font-bold text-green-600 mb-2",children:T.averageScore}),(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"Average Score"})]}),(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:T.bestHole.strokes}),(0,ct.jsxs)("div",{className:"text-sm text-gray-600",children:["Best Hole (#",T.bestHole.hole,")"]})]}),(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsxs)("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:[T.mulliganEfficiency,"%"]}),(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"Mulligan Usage"})]})]})]}),(0,ct.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,ct.jsxs)("h2",{className:"text-xl font-bold text-brand-black mb-4 flex items-center",children:[(0,ct.jsx)(St,{className:"w-5 h-5 mr-2"}),"Final Score Summary"]}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,ct.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[(0,ct.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:c.totalStrokes}),(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"Total Strokes"})]}),(0,ct.jsxs)("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[(0,ct.jsx)("div",{className:"text-2xl font-bold text-green-600",children:c.totalMulligans}),(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"Mulligans Used"})]}),(0,ct.jsxs)("div",{className:"bg-brand-neon-green/10 rounded-lg p-4 text-center",children:[(0,ct.jsx)("div",{className:"text-3xl font-bold text-brand-black",children:c.finalScore}),(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"Final Score"})]})]})]}),(0,ct.jsx)(nl,{isOpen:y,onClose:()=>j(!1)}),(0,ct.jsx)(ll,{isOpen:S,onClose:()=>C(!1),onSave:async e=>{try{null!==l&&void 0!==l&&l.id&&(console.log("Saving par values:",{courseId:l.id,parValues:e}),await(0,tt.Qso)(l.id,e),l&&(l.par_values=e)),C(!1)}catch(n){var t,s,a,r;console.error("Error saving par values:",n),console.error("Error response:",n.response),401===(null===(t=n.response)||void 0===t?void 0:t.status)?alert("You need to be logged in to save par values. Please log in and try again."):403===(null===(s=n.response)||void 0===s?void 0:s.status)?alert("You do not have permission to save par values for this course."):null!==(a=n.response)&&void 0!==a&&null!==(r=a.data)&&void 0!==r&&r.error?alert("Error: ".concat(n.response.data.error)):alert("Failed to save par values. Please try again.")}},courseName:(null===l||void 0===l?void 0:l.name)||"Unknown Course",holes:n})]})},ol=e=>{var t,s,r,n,l;let{onClose:i,onSave:o,userInfo:c,holes:d=18,course:u,nineType:m}=e;const{user:x}=mt(),[h,p]=(0,a.useState)({name:"",date:(new Date).toISOString().split("T")[0],handicap:0});(0,a.useEffect)(()=>{c&&p(e=>(0,Re.A)((0,Re.A)({},e),{},{name:c.name||e.name,handicap:c.handicap||e.handicap}))},[c]);const[g,f]=(0,a.useState)(Array.from({length:d},(e,t)=>({hole:t+1,strokes:0}))),[b,v]=(0,a.useState)("hole-by-hole"),[y,j]=(0,a.useState)(0),[N,w]=(0,a.useState)([]),[_,k]=(0,a.useState)(!1),[S,C]=(0,a.useState)(!1),A=(0,a.useRef)(!1),E=(()=>{const e=(()=>{if(null!==u&&void 0!==u&&u.par_values)return u.par_values;const e=[4,3,4,5,4,3,4,4,4,4,3,4,5,4,3,4,4,4];return 9===d?e.slice(0,9):e})();return"front"===m?e.slice(0,9):"back"===m?e.slice(9,18):e})();(0,a.useEffect)(()=>{!u||u.par_values||A.current||(x?(C(!0),A.current=!0):(alert("You need to be logged in to set par values for this course. Please log in and try again."),A.current=!0))},[u,x]);const T="total-score"===b?y:g.reduce((e,t)=>e+t.strokes,0),P=E.reduce((e,t)=>e+t,0),D=T-P,M=function(e,t,s){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:18;if(e<=0||!t||!s||s<=0||isNaN(e)||isNaN(t)||isNaN(s))return null;let r,n=t,l=s;return 9===a?(n/=2,l/=2,r=113*(e-n)/l,r*=2):r=113*(e-n)/l,Math.round(1e6*r)/1e6}(T,(null===u||void 0===u||null===(t=u.teeboxData)||void 0===t?void 0:t.courseRating)||0,(null===u||void 0===u||null===(s=u.teeboxData)||void 0===s?void 0:s.courseSlope)||0,d),R=(e,t)=>{p(s=>(0,Re.A)((0,Re.A)({},s),{},{[e]:t}))},L=(e,t)=>0===e?"text-gray-400":e===t?"text-green-600":e===t-1?"text-blue-600":e===t-2?"text-purple-600":e===t+1?"text-orange-600":e>=t+2?"text-red-600":"text-gray-900",F=(e,t)=>0===e?"":e===t-2?"EAGLE":e===t-1?"BIRDIE":e===t?"PAR":e===t+1?"BOGEY":e===t+2?"DOUBLE":"+".concat(e-t);return(0,ct.jsxs)("div",{className:"max-w-6xl mx-auto p-4",children:[(0,ct.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:(0,ct.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,ct.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ct.jsx)("div",{className:"bg-blue-100 rounded-full p-3",children:(0,ct.jsx)(pt,{className:"w-8 h-8 text-blue-600"})}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h1",{className:"text-3xl font-bold text-brand-black",children:"Stroke Play Scorecard"}),(0,ct.jsx)("p",{className:"text-brand-muted-green",children:"Traditional golf scoring"}),u&&(0,ct.jsxs)("div",{className:"mt-2 text-sm text-gray-600",children:[(0,ct.jsx)("div",{className:"font-medium",children:u.name}),(u.location||u.designer)&&(0,ct.jsxs)("div",{className:"text-gray-500",children:[u.location&&(0,ct.jsx)("span",{children:u.location}),u.location&&u.designer&&(0,ct.jsx)("span",{children:" \u2022 "}),u.designer&&(0,ct.jsxs)("span",{children:["by ",u.designer]})]})]})]})]})})}),(0,ct.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[(0,ct.jsx)("h2",{className:"text-xl font-bold text-brand-black mb-4",children:"Player Information"}),N.length>0&&(0,ct.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:(0,ct.jsx)("ul",{className:"list-disc list-inside",children:N.map((e,t)=>(0,ct.jsx)("li",{children:e},t))})}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Player Name *"}),(0,ct.jsx)("input",{type:"text",value:h.name,onChange:e=>R("name",e.target.value),placeholder:"Enter your name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date *"}),(0,ct.jsx)("input",{type:"date",value:h.date,onChange:e=>R("date",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Handicap"}),(0,ct.jsx)("input",{type:"number",value:h.handicap,onChange:e=>R("handicap",parseInt(e.target.value)||0),placeholder:"0",min:"0",max:"54",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"})]})]})]}),(0,ct.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[(0,ct.jsx)("h2",{className:"text-xl font-bold text-brand-black mb-4",children:"Scoring Method"}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ct.jsx)("button",{onClick:()=>v("hole-by-hole"),className:"p-4 rounded-lg border-2 transition-all ".concat("hole-by-hole"===b?"border-brand-neon-green bg-green-50 text-brand-black":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"),children:(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)("div",{className:"w-4 h-4 rounded-full border-2 ".concat("hole-by-hole"===b?"border-brand-neon-green bg-brand-neon-green":"border-gray-300"),children:"hole-by-hole"===b&&(0,ct.jsx)("div",{className:"w-2 h-2 bg-white rounded-full m-0.5"})}),(0,ct.jsxs)("div",{className:"text-left",children:[(0,ct.jsx)("div",{className:"font-semibold",children:"Hole-by-Hole Scoring"}),(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"Enter individual scores for each hole"})]})]})}),(0,ct.jsx)("button",{onClick:()=>v("total-score"),className:"p-4 rounded-lg border-2 transition-all ".concat("total-score"===b?"border-brand-neon-green bg-green-50 text-brand-black":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"),children:(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)("div",{className:"w-4 h-4 rounded-full border-2 ".concat("total-score"===b?"border-brand-neon-green bg-brand-neon-green":"border-gray-300"),children:"total-score"===b&&(0,ct.jsx)("div",{className:"w-2 h-2 bg-white rounded-full m-0.5"})}),(0,ct.jsxs)("div",{className:"text-left",children:[(0,ct.jsx)("div",{className:"font-semibold",children:"Total Score"}),(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"Enter your total score for the round"})]})]})})]}),"total-score"===b&&(0,ct.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Score *"}),(0,ct.jsx)("input",{type:"number",value:y||"",onChange:e=>j(parseInt(e.target.value)||0),placeholder:"Enter your total score",min:"1",max:"200",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent text-center text-lg font-semibold"})]})]}),(0,ct.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[(0,ct.jsx)("div",{className:"flex items-center justify-between",children:(0,ct.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"Total Strokes"}),(0,ct.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:T})]}),(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"Total Par"}),(0,ct.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:P})]}),(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"Score to Par"}),(0,ct.jsx)("div",{className:"text-2xl font-bold ".concat(D>0?"text-red-600":D<0?"text-green-600":"text-gray-900"),children:D>0?"+".concat(D):D})]}),null!==M&&(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"Handicap Differential"}),(0,ct.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:M.toFixed(1)})]})]})}),null===M&&T>0&&(null===u||void 0===u?void 0:u.teeboxData)&&(0,ct.jsxs)("div",{className:"mt-3 text-sm text-gray-600",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,ct.jsxs)("span",{children:["Course Rating: ",u.teeboxData.courseRating]}),(0,ct.jsxs)("span",{children:["Slope: ",u.teeboxData.courseSlope]}),(0,ct.jsxs)("span",{children:["Teebox: ",u.teeboxData.teebox]})]}),(0,ct.jsx)("div",{className:"mt-2 text-center",children:(0,ct.jsx)("span",{className:"text-orange-600 font-medium",children:"\u2713 Handicap differential will be calculated on submission"})})]}),null===M&&T>0&&!(null!==u&&void 0!==u&&u.teeboxData)&&(0,ct.jsx)("div",{className:"mt-3 text-sm text-red-600 text-center",children:(0,ct.jsx)("span",{className:"font-medium",children:"\u26a0\ufe0f Handicap differential cannot be calculated - missing course rating and slope data"})})]}),"hole-by-hole"===b&&(0,ct.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[(0,ct.jsxs)("h2",{className:"text-xl font-bold text-brand-black mb-4 flex items-center",children:[(0,ct.jsx)(pt,{className:"w-5 h-5 mr-2"}),"Scorecard"]}),(0,ct.jsxs)("div",{className:"grid grid-cols-6 gap-2 items-center py-3 border-b-2 border-gray-200 font-semibold text-gray-700",children:[(0,ct.jsx)("div",{className:"text-center",children:"Hole"}),(0,ct.jsx)("div",{className:"text-center",children:"Par"}),(0,ct.jsx)("div",{className:"text-center",children:"Strokes"}),(0,ct.jsx)("div",{className:"text-center",children:"Score"}),(0,ct.jsx)("div",{className:"text-center",children:"To Par"}),(0,ct.jsx)("div",{className:"text-center",children:"Running Total"})]}),(0,ct.jsx)("div",{className:"space-y-1",children:g.map((e,t)=>{const s=E[e.hole-1],a=g.slice(0,t+1).reduce((e,t)=>e+t.strokes,0);g.slice(0,t+1).reduce((e,t,s)=>e+(t.strokes-E[s]),0);return(0,ct.jsxs)("div",{className:"grid grid-cols-6 gap-2 items-center py-3 border-b border-gray-100 hover:bg-gray-50 transition-colors",children:[(0,ct.jsx)("div",{className:"text-center font-semibold text-gray-700",children:e.hole}),(0,ct.jsx)("div",{className:"text-center text-gray-600",children:s}),(0,ct.jsx)("div",{className:"text-center",children:(0,ct.jsx)("input",{type:"number",value:e.strokes||"",onChange:t=>{return s=e.hole,a=parseInt(t.target.value)||0,void f(e=>e.map(e=>e.hole===s?(0,Re.A)((0,Re.A)({},e),{},{strokes:Math.max(0,a)}):e));var s,a},className:"w-16 text-center border border-gray-300 rounded-lg py-1 focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",min:"0",max:"20"})}),(0,ct.jsx)("div",{className:"text-center",children:e.strokes>0&&(0,ct.jsxs)("div",{className:"font-bold ".concat(L(e.strokes,s)),children:[e.strokes,F(e.strokes,s)&&(0,ct.jsx)("div",{className:"text-xs font-normal",children:F(e.strokes,s)})]})}),(0,ct.jsx)("div",{className:"text-center",children:e.strokes>0&&(0,ct.jsx)("span",{className:"font-semibold ".concat(e.strokes>s?"text-red-600":e.strokes<s?"text-green-600":"text-gray-900"),children:e.strokes>s?"+".concat(e.strokes-s):e.strokes<s?"-".concat(s-e.strokes):"E"})}),(0,ct.jsx)("div",{className:"text-center",children:e.strokes>0&&(0,ct.jsx)("span",{className:"font-semibold text-gray-900",children:a})})]},e.hole)})})]}),"hole-by-hole"===b&&(0,ct.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,ct.jsxs)("h2",{className:"text-xl font-bold text-brand-black mb-4 flex items-center",children:[(0,ct.jsx)(St,{className:"w-5 h-5 mr-2"}),"Final Summary"]}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,ct.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[(0,ct.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:T}),(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"Total Strokes"})]}),(0,ct.jsxs)("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[(0,ct.jsx)("div",{className:"text-2xl font-bold text-green-600",children:P}),(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"Total Par"})]}),(0,ct.jsxs)("div",{className:"bg-brand-neon-green/10 rounded-lg p-4 text-center",children:[(0,ct.jsx)("div",{className:"text-3xl font-bold ".concat(D>0?"text-red-600":D<0?"text-green-600":"text-brand-black"),children:D>0?"+".concat(D):D}),(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"Score to Par"})]}),null!==M&&(0,ct.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4 text-center",children:[(0,ct.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:M.toFixed(1)}),(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"Handicap Differential"})]})]}),null!==M&&(0,ct.jsx)("div",{className:"mt-4 p-3 bg-purple-50 border border-purple-200 rounded-lg",children:(0,ct.jsxs)("div",{className:"text-sm text-purple-700",children:[(0,ct.jsx)("div",{className:"font-medium mb-1",children:"Handicap Differential Details:"}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 text-xs",children:[(0,ct.jsxs)("div",{children:["Course Rating: ",(0,ct.jsx)("span",{className:"font-semibold",children:null===u||void 0===u||null===(r=u.teeboxData)||void 0===r?void 0:r.courseRating})]}),(0,ct.jsxs)("div",{children:["Course Slope: ",(0,ct.jsx)("span",{className:"font-semibold",children:null===u||void 0===u||null===(n=u.teeboxData)||void 0===n?void 0:n.courseSlope})]}),(0,ct.jsxs)("div",{children:["Teebox: ",(0,ct.jsx)("span",{className:"font-semibold",children:null===u||void 0===u||null===(l=u.teeboxData)||void 0===l?void 0:l.teebox})]})]})]})})]}),(0,ct.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:(0,ct.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-2",children:[(0,ct.jsxs)("button",{onClick:()=>{window.confirm("Are you sure you want to reset the scorecard? This will clear all scores.")&&(f(Array.from({length:d},(e,t)=>({hole:t+1,strokes:0}))),j(0),w([]))},className:"flex items-center justify-center px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm font-medium",children:[(0,ct.jsx)(tl,{className:"w-4 h-4 mr-2"}),"Reset"]}),(0,ct.jsxs)("button",{onClick:async()=>{console.log("Starting StrokePlay save process..."),console.log("Current data:",{playerInfo:h,holes:g,totalStrokes:T,totalPar:P,scoreToPar:D,handicapDifferential:M,scoringMode:b});const e=(()=>{const e=[];h.name.trim()||e.push("Player name is required"),h.date||e.push("Date is required"),"hole-by-hole"===b?0===g.filter(e=>e.strokes>0).length&&e.push("At least one hole must have a score"):y<=0&&e.push("Total score must be greater than 0");return T>0&&null===M&&e.push("Handicap differential cannot be calculated. Please ensure course rating and slope are available."),e})();if(console.log("Validation errors:",e),e.length>0)return w(e),void console.log("Validation failed, not saving");k(!0);try{if(console.log("Calling onSave with stroke play data..."),o){var t,s,a;const e={playerInfo:h,holes:"total-score"===b?[]:g,totalStrokes:T,totalPar:P,scoreToPar:D,type:"stroke_play",teebox:null===u||void 0===u||null===(t=u.teeboxData)||void 0===t?void 0:t.teebox,course_rating:null===u||void 0===u||null===(s=u.teeboxData)||void 0===s?void 0:s.courseRating,course_slope:null===u||void 0===u||null===(a=u.teeboxData)||void 0===a?void 0:a.courseSlope,handicap_differential:M,scoringMode:b};console.log("Scorecard data being sent:",e),await o(e)}w([]),console.log("StrokePlay save completed successfully")}catch(r){console.error("StrokePlay save failed with error:",r),w(["Failed to save scorecard"])}finally{k(!1)}},disabled:_,className:"flex items-center justify-center px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg hover:bg-brand-neon-green/90 transition-colors disabled:opacity-50 text-sm font-medium",children:[(0,ct.jsx)(Yt,{className:"w-4 h-4 mr-2"}),_?"Saving...":"Save Round"]}),i&&(0,ct.jsx)("button",{onClick:i,className:"flex items-center justify-center px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors text-sm font-medium",children:"Close"})]})}),(0,ct.jsx)(ll,{isOpen:S,onClose:()=>C(!1),onSave:async e=>{try{null!==u&&void 0!==u&&u.id&&(console.log("Saving par values:",{courseId:u.id,parValues:e}),await(0,tt.Qso)(u.id,e),u&&(u.par_values=e)),C(!1)}catch(n){var t,s,a,r;console.error("Error saving par values:",n),console.error("Error response:",n.response),401===(null===(t=n.response)||void 0===t?void 0:t.status)?alert("You need to be logged in to save par values. Please log in and try again."):403===(null===(s=n.response)||void 0===s?void 0:s.status)?alert("You do not have permission to save par values for this course."):null!==(a=n.response)&&void 0!==a&&null!==(r=a.data)&&void 0!==r&&r.error?alert("Error: ".concat(n.response.data.error)):alert("Failed to save par values. Please try again.")}},courseName:(null===u||void 0===u?void 0:u.name)||"Unknown Course",holes:d})]})},cl=e=>{let{className:t=""}=e;const{user:s,viewAsMode:r,enterViewAsMode:n,exitViewAsMode:l}=mt(),{hasPermission:i}=_t(),o=i("view_as_user"),[c,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(""),[x,h]=(0,a.useState)(""),[p,g]=(0,a.useState)([]),[f,b]=(0,a.useState)([]),[v,y]=(0,a.useState)(!1),[j,N]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(async()=>{if(o)try{N(!0);g([{id:"member",label:"Member",description:"Regular member with basic access",permissions:[],roles:["Member"],primary_role:"Member"},{id:"beta_tester",label:"Beta Tester",description:"Member with beta feature access",permissions:["access_beta_features"],roles:["Member"],primary_role:"Member"},{id:"club_pro",label:"Club Pro",description:"Club professional with member management",permissions:["view_club_handicaps","manage_club_members"],roles:["Club Pro"],primary_role:"Club Pro"}]);try{const e=await tt.Ay$.get("/admin/view-as-data");b(e.data.clubs||[])}catch(e){console.error("Error fetching clubs for view-as mode:",e),b([])}null!==s&&void 0!==s&&s.club&&""===x&&h(s.club)}catch(e){console.error("Error fetching view-as data:",e)}finally{N(!1)}})()},[o,s,x]);return o?(0,ct.jsxs)("div",{className:"relative ".concat(t),children:[!r.isActive&&(0,ct.jsx)("button",{onClick:()=>{d(!0),m(""),h((null===s||void 0===s?void 0:s.club)||"")},className:"flex items-center justify-center p-1.5 sm:p-2 bg-white/10 backdrop-blur-sm text-white rounded-full hover:bg-white/20 transition-all duration-200 border border-white/20 hover:border-white/30 shadow-lg hover:shadow-xl",title:"Enter view-as mode",children:(0,ct.jsx)(wt,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),c&&(0,ct.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ct.jsx)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:(0,ct.jsxs)("div",{className:"p-6",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsx)(wt,{className:"w-5 h-5 text-blue-600"}),(0,ct.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"View As Mode"})]}),(0,ct.jsx)("button",{onClick:()=>d(!1),className:"p-1 hover:bg-gray-100 rounded transition-colors",children:(0,ct.jsx)(Qe,{className:"w-5 h-5"})})]}),(0,ct.jsx)("div",{className:"mb-6 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,ct.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,ct.jsx)("strong",{children:"Admin View-As Mode:"})," Experience the platform from a different user's perspective. This helps with testing, debugging, and user support."]})}),(0,ct.jsxs)("div",{className:"mb-4",children:[(0,ct.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,ct.jsx)($e,{className:"w-4 h-4 inline mr-1"}),"Select User Type"]}),(0,ct.jsxs)("select",{value:u,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 bg-white",disabled:j,children:[(0,ct.jsx)("option",{value:"",children:"Select a user type..."}),p.map(e=>(0,ct.jsxs)("option",{value:e.id,children:[e.label," - ",e.description]},e.id))]})]}),(0,ct.jsxs)("div",{className:"mb-6",children:[(0,ct.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,ct.jsx)(Ge,{className:"w-4 h-4 inline mr-1"}),"Select Club"]}),(0,ct.jsxs)("select",{value:x,onChange:e=>h(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 bg-white",disabled:j,children:[(0,ct.jsx)("option",{value:"",children:"Select a club..."}),f.map(e=>(0,ct.jsx)("option",{value:e,children:e},e))]})]}),u&&x&&(()=>{const e=p.find(e=>e.id===u);return e?(0,ct.jsx)("div",{className:"mb-6 p-3 bg-gray-50 border border-gray-200 rounded-lg",children:(0,ct.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-700",children:[(0,ct.jsx)(Ks,{className:"w-4 h-4 text-green-600"}),(0,ct.jsxs)("span",{children:["You will view the platform as a ",(0,ct.jsx)("strong",{children:e.label})," from ",(0,ct.jsx)("strong",{children:x})]})]})}):null})(),(0,ct.jsxs)("div",{className:"flex space-x-3",children:[(0,ct.jsx)("button",{onClick:()=>d(!1),className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 text-sm",children:"Cancel"}),(0,ct.jsx)("button",{onClick:()=>{if(!u||!x)return void alert("Please select both a profile and club");const e=p.find(e=>e.id===u);if(e){y(!0);try{n(e.permissions,e.roles,e.primary_role,x),d(!1)}catch(t){console.error("Error entering view-as mode:",t),alert("Failed to enter view-as mode")}finally{y(!1)}}else alert("Invalid profile selected")},disabled:!u||!x||v,className:"flex-1 px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center space-x-2 text-sm shadow-sm hover:shadow-md",children:v?(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,ct.jsx)("span",{children:"Entering..."})]}):(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)(wt,{className:"w-4 h-4"}),(0,ct.jsx)("span",{children:"Activate View As"})]})})]}),(0,ct.jsx)("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,ct.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,ct.jsx)(rr,{className:"w-4 h-4 text-yellow-600 mt-0.5"}),(0,ct.jsxs)("div",{className:"text-sm text-yellow-800",children:[(0,ct.jsx)("p",{className:"font-medium",children:"Important:"}),(0,ct.jsxs)("ul",{className:"mt-1 space-y-1 text-xs",children:[(0,ct.jsx)("li",{children:"\u2022 Your admin privileges are preserved"}),(0,ct.jsx)("li",{children:"\u2022 You can exit view-as mode anytime"}),(0,ct.jsx)("li",{children:"\u2022 Changes made in view-as mode affect the actual user experience"})]})]})]})})]})})})]}):null},dl=()=>{var e,t,s,r,n,l,i,o;const{user:c,token:d,logout:u,refreshUser:m}=mt(),{hasPermission:x}=_t(),h=Z(),p=x("access_beta_features"),[g,f]=(0,a.useState)(null),[b,v]=(0,a.useState)([]),[y,j]=(0,a.useState)(!1),[N,w]=(0,a.useState)(!0),[_,k]=(0,a.useState)(null),[S,C]=(0,a.useState)(null),[A,E]=(0,a.useState)(null),[T,P]=(0,a.useState)([]),[D,M]=(0,a.useState)([]),[R,L]=(0,a.useState)([]),[F,O]=(0,a.useState)(!1),[I,z]=(0,a.useState)("overview"),[B,U]=(0,a.useState)("leagues"),[H,W]=(0,a.useState)({first_name:(null===c||void 0===c?void 0:c.first_name)||"",last_name:(null===c||void 0===c?void 0:c.last_name)||"",email:(null===c||void 0===c?void 0:c.email)||"",club:(null===c||void 0===c?void 0:c.club)||"",handicap:(null===c||void 0===c?void 0:c.handicap)||0,sim_handicap:(null===c||void 0===c?void 0:c.sim_handicap)||0}),[q,V]=(0,a.useState)(!1),[G,Y]=(0,a.useState)(!1),[$,Q]=(0,a.useState)(null),[K,J]=(0,a.useState)(null),[X,ee]=(0,a.useState)(null),[te,se]=(0,a.useState)(null),[ae,re]=(0,a.useState)(null),ne=(0,a.useRef)(null),[le,ie]=(0,a.useState)(!1),[oe,ce]=(0,a.useState)(!1),[de,ue]=(0,a.useState)(null),[me,xe]=(0,a.useState)(!1),[he,pe]=(0,a.useState)(null),ge=async()=>{if(null!==c&&void 0!==c&&c.member_id)try{w(!0),console.log("Fetching data for user ID:",c.member_id),console.log("User data:",c);const[t,s,a,r,n,l,i]=await Promise.all([(0,tt.VMk)(c.member_id),(0,tt.shr)(),(0,tt.ONl)(c.member_id),(0,tt.yBI)(c.member_id),(0,tt.de9)(c.member_id),(0,tt.qM8)(c.member_id),(0,tt.h7P)()]);console.log("Sim stats response:",a.data),console.log("Combined stats response:",r.data);null===c||void 0===c||c.sim_handicap,null===c||void 0===c||c.grass_handicap;f(t.data);let o=[];try{o=(await tt.Ay$.get("/user/national-championship-matches")).data||[]}catch(e){console.log("National championship matches not available")}const d=[...s.data,...o];v(d),C(a.data),E(r.data),P(n.data),M(l.data),L(i.data),console.log("User tournaments with score submission status:",l.data),console.log("User leagues/teams:",i.data)}catch(e){k("Failed to load profile data"),console.error("Error fetching profile:",e)}finally{w(!1)}};(0,a.useEffect)(()=>{ge()},[null===c||void 0===c?void 0:c.member_id]);const fe=()=>{V(!0)},be=()=>{Y(!1),Q(null),J(null),ee(null),se(null),re(null)},ve=async e=>{try{var t,s,a,r,n,l;console.log("ScoreCard data received:",e);try{const e=await tt.Ay$.get("/health");console.log("API health check:",e.status)}catch(u){console.error("API health check failed:",u)}const i={type:e.type||("mully"===$?"mully_golf":"stroke_play"),player_name:(null===(t=e.playerInfo)||void 0===t?void 0:t.name)||e.player_name||"",date_played:(null===(s=e.playerInfo)||void 0===s?void 0:s.date)||e.date_played||(new Date).toISOString().split("T")[0],handicap:(null===(a=e.playerInfo)||void 0===a?void 0:a.handicap)||e.handicap||0,scores:e.holes||e.scores||[],total_strokes:e.totalStrokes||e.total_strokes||0,total_mulligans:e.totalMulligans||e.total_mulligans||0,final_score:e.finalScore||e.final_score||e.totalStrokes||0,round_type:K||"sim",course_name:(null===te||void 0===te?void 0:te.name)||e.course_name||"",teebox:(null===te||void 0===te||null===(r=te.teeboxData)||void 0===r?void 0:r.teebox)||e.teebox||null,course_rating:(null===te||void 0===te||null===(n=te.teeboxData)||void 0===n?void 0:n.courseRating)||e.course_rating||null,course_slope:(null===te||void 0===te||null===(l=te.teeboxData)||void 0===l?void 0:l.courseSlope)||e.course_slope||null,holes_played:X||18,nine_type:ae||null};console.log("Selected course teebox data:",null===te||void 0===te?void 0:te.teeboxData),console.log("API data being sent:",i);const o=await(0,tt.aGb)(i);if(console.log("Save response:",o),!o||!o.data)throw new Error("Invalid response from server");{console.log("Scorecard saved with ID:",o.data.id);const e=c;await m(),await ge();try{const t=(await(0,tt.HWG)(d)).data.user;_e(e,t)}catch(_){console.error("Error getting updated user data:",_)}be()}}catch(u){var i,o;console.error("Error saving scorecard:",u);const e=(null===(i=u.response)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.error)||u.message||"Failed to save scorecard";alert("Failed to save scorecard: ".concat(e))}},ye=b.filter(e=>e.player1_id===(null===c||void 0===c?void 0:c.member_id)||e.player2_id===(null===c||void 0===c?void 0:c.member_id)).slice(0,5),je=e=>{switch(e){case"Won":return"text-green-600";case"Lost":return"text-red-600";case"Tied":return"text-yellow-600";default:return"text-gray-600"}},Ne=e=>("open"===e.status||"active"===e.status)&&!e.has_submitted_score,we=e=>{const t=e.filter(e=>null!==e.differential).sort((e,t)=>new Date(t.date_played).getTime()-new Date(e.date_played).getTime());if(console.log("Handicap calculation debug:",{totalRounds:e.length,roundsWithDifferentials:t.length,roundsWithoutDifferentials:e.length-t.length,roundsWithoutDifferentialsList:e.filter(e=>null===e.differential).map(e=>({id:e.id,course:e.course_name,date:e.date_played}))}),0===t.length)return[];let s=[];return t.length>=20?(s=t.slice(0,20).sort((e,t)=>(e.differential||0)-(t.differential||0)).slice(0,8),console.log("Using best 8 out of last 20 (20+ rounds available)")):t.length>=15?(s=t.slice(0,15).sort((e,t)=>(e.differential||0)-(t.differential||0)).slice(0,7),console.log("Using best 7 out of last 15 (15-19 rounds available)")):t.length>=10?(s=t.slice(0,10).sort((e,t)=>(e.differential||0)-(t.differential||0)).slice(0,6),console.log("Using best 6 out of last 10 (10-14 rounds available)")):t.length>=5?(s=t.slice(0,5).sort((e,t)=>(e.differential||0)-(t.differential||0)).slice(0,5),console.log("Using best 5 out of last 5 (5-9 rounds available)")):t.length>=3?(s=t.slice(0,3).sort((e,t)=>(e.differential||0)-(t.differential||0)).slice(0,3),console.log("Using best 3 out of last 3 (3-4 rounds available)")):t.length>=1&&(s=t.slice(0,1).sort((e,t)=>(e.differential||0)-(t.differential||0)).slice(0,1),console.log("Using best 1 out of last 1 (1-2 rounds available)")),console.log("Rounds being used for handicap:",s.map(e=>({id:e.id,course:e.course_name,differential:e.differential}))),s.map(e=>e.id)},_e=(e,t)=>{if(console.log("checkHandicapChanges called with:",{oldUser:e,newUser:t}),!e||!t)return void console.log("Missing user data, returning early");const s=e.sim_handicap||0,a=e.grass_handicap||0,r=t.sim_handicap||0,n=t.grass_handicap||0;if(console.log("Handicap comparison:",{oldSimHandicap:s,newSimHandicap:r,oldGrassHandicap:a,newGrassHandicap:n}),Math.abs(r-s)>.01){const e=r>s?"up":"down";console.log("Sim handicap changed:",{direction:e,oldValue:s,newValue:r}),ue(e),ce(!0)}if(Math.abs(n-a)>.01){const e=n>a?"up":"down";console.log("Grass handicap changed:",{direction:e,oldValue:a,newValue:n}),pe(e),xe(!0)}},ke=e=>{let{value:t,isAnimating:s,direction:r,onAnimationComplete:n}=e;const[l,i]=(0,a.useState)(t),[o,c]=(0,a.useState)("text-blue-300"),[d,u]=(0,a.useState)("text-lg");return(0,a.useEffect)(()=>{s&&r&&setTimeout(()=>{c("down"===r?"text-green-400":"text-red-400"),u("text-2xl");const e="down"===r?t+.7:t-.7,s=(t-e)/7;let a=0;const l=()=>{a++;if(i(e+s*a),a>=7)return void setTimeout(()=>{u("text-lg"),setTimeout(()=>{c("text-blue-300"),n()},300)},500);let t;t=a<=2||a>=5?150:80,setTimeout(l,t)};setTimeout(l,200)},300)},[s,r,t,n]),(0,ct.jsx)("span",{className:"font-bold transition-all duration-300 ".concat(o," ").concat(d),children:l.toFixed(1)})};if(N)return(0,ct.jsx)("div",{className:"flex items-center justify-center min-h-64",children:(0,ct.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-neon-green"})});if(G&&$){const e={name:"".concat(null===c||void 0===c?void 0:c.first_name," ").concat(null===c||void 0===c?void 0:c.last_name).trim(),handicap:(null===c||void 0===c?void 0:c.sim_handicap)||(null===c||void 0===c?void 0:c.handicap)||0};return"mully"===$?(0,ct.jsx)(il,{onClose:be,onSave:ve,userInfo:e,holes:X||18,course:te,nineType:ae}):(0,ct.jsx)(ol,{onClose:be,onSave:ve,userInfo:e,holes:X||18,course:te,nineType:ae})}return(0,ct.jsxs)("div",{className:"max-w-6xl mx-auto relative pb-16 sm:pb-6",children:[(0,ct.jsxs)("div",{className:"bg-gradient-to-br from-brand-dark-green to-brand-muted-green rounded-2xl shadow-xl p-4 sm:p-6 mb-6 sm:mb-8 text-white",children:[(0,ct.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[(0,ct.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-4 sm:space-y-0 sm:space-x-6 mb-6 lg:mb-0",children:[(0,ct.jsxs)("div",{className:"relative",children:[(0,ct.jsx)("div",{className:"bg-white/20 backdrop-blur-sm rounded-full w-16 h-16 sm:w-20 sm:h-20 flex items-center justify-center",children:null!==c&&void 0!==c&&c.profile_photo_url?(0,ct.jsx)("img",{src:c.profile_photo_url,alt:"Profile",className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full object-cover"}):(0,ct.jsx)($e,{className:"w-8 h-8 sm:w-12 sm:h-12 text-white"})}),y&&(0,ct.jsx)("button",{onClick:()=>{var e;null===(e=ne.current)||void 0===e||e.click()},disabled:le,className:"absolute -bottom-1 -right-1 bg-brand-neon-green text-brand-black rounded-full p-1.5 sm:p-2 hover:bg-green-400 transition-colors disabled:opacity-50",title:"Upload profile photo",children:le?(0,ct.jsx)("div",{className:"animate-spin rounded-full h-3 w-3 sm:h-4 sm:w-4 border-b-2 border-brand-black"}):(0,ct.jsx)(Dt,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]}),(0,ct.jsx)("input",{ref:ne,type:"file",accept:"image/*",onChange:async e=>{var t;const s=null===(t=e.target.files)||void 0===t?void 0:t[0];if(s)if(s.type.startsWith("image/"))if(s.size>5242880)alert("File size must be less than 5MB");else{ie(!0);try{(await(0,tt.DKP)(s)).data.success&&window.location.reload()}catch(a){console.error("Error uploading photo:",a),alert("Failed to upload photo. Please try again.")}finally{ie(!1)}}else alert("Please select an image file")},className:"hidden"}),(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-3 mb-2",children:[(0,ct.jsxs)("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold flex items-center",children:[null===c||void 0===c?void 0:c.first_name," ",null===c||void 0===c?void 0:c.last_name,!y&&(0,ct.jsx)("button",{onClick:()=>j(!0),className:"ml-2 sm:ml-3 flex items-center justify-center p-1.5 sm:p-2 bg-white/10 backdrop-blur-sm text-white rounded-full hover:bg-white/20 transition-all duration-200 border border-white/20 hover:border-white/30 shadow-lg hover:shadow-xl",title:"Edit Profile",children:(0,ct.jsx)(En,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),"admin"===(null===c||void 0===c||null===(e=c.role)||void 0===e?void 0:e.toLowerCase())&&!y&&(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)("button",{onClick:()=>h("/admin"),className:"ml-2 sm:ml-3 flex items-center justify-center p-1.5 sm:p-2 bg-white/10 backdrop-blur-sm text-white rounded-full hover:bg-white/20 transition-all duration-200 border border-white/20 hover:border-white/30 shadow-lg hover:shadow-xl",title:"Admin Dashboard",children:(0,ct.jsx)(sa,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),(0,ct.jsx)("div",{className:"ml-2 sm:ml-3",children:(0,ct.jsx)(cl,{})})]})]}),(0,ct.jsxs)("div",{className:"flex items-center space-x-2 flex-wrap gap-2",children:[(0,ct.jsx)("div",{className:"bg-white/20 backdrop-blur-sm rounded-full px-2 sm:px-3 py-1 text-xs sm:text-sm font-medium",children:"admin"===(null===c||void 0===c||null===(t=c.role)||void 0===t?void 0:t.toLowerCase())?"Admin":"club pro"===(null===c||void 0===c||null===(s=c.role)||void 0===s?void 0:s.toLowerCase())?"Club Pro":"ambassador"===(null===c||void 0===c||null===(r=c.role)||void 0===r?void 0:r.toLowerCase())?"Ambassador":"Member"}),p&&(0,ct.jsxs)("div",{className:"profile-view-toggle",children:[(0,ct.jsx)(Na,{options:[{value:"classic",label:"Classic"},{value:"beta",label:"Beta",icon:(0,ct.jsx)("span",{children:"\u2728"})}],value:"classic",onChange:e=>"beta"===e&&h("/beta-profile"),size:"sm",variant:"compact",className:"backdrop-blur-sm"}),(0,ct.jsx)("style",{children:'\n                        /* Active Classic button - solid white */\n                        .profile-view-toggle button:first-child[aria-pressed="true"] {\n                          background: white !important;\n                          color: rgb(22 101 52) !important;\n                          font-weight: 600;\n                        }\n\n                        /* Inactive Classic button */\n                        .profile-view-toggle button:first-child[aria-pressed="false"] {\n                          color: rgba(255, 255, 255, 0.7);\n                        }\n\n                        /* Active Beta button - purple gradient */\n                        .profile-view-toggle button:last-child[aria-pressed="true"] {\n                          background: linear-gradient(to right, rgb(168 85 247), rgb(59 130 246)) !important;\n                          color: white !important;\n                          font-weight: 600;\n                        }\n\n                        /* Inactive Beta button - subtle purple tint */\n                        .profile-view-toggle button:last-child[aria-pressed="false"] {\n                          background: rgba(168, 85, 247, 0.15) !important;\n                          color: rgba(192, 132, 252, 0.9) !important;\n                        }\n\n                        .profile-view-toggle button:last-child[aria-pressed="false"]:hover {\n                          background: rgba(168, 85, 247, 0.25) !important;\n                          color: rgb(192, 132, 252) !important;\n                        }\n                      '})]})]})]}),(0,ct.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-1 sm:space-y-0 sm:space-x-4 text-white/90 text-sm sm:text-base",children:[(0,ct.jsxs)("span",{className:"flex items-center",children:[(0,ct.jsx)(Ge,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),(null===c||void 0===c?void 0:c.club)||"No club specified"]}),(0,ct.jsxs)("span",{className:"flex items-center",children:[(0,ct.jsx)(Qs,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"Member since ",null!==c&&void 0!==c&&c.created_at?new Date(c.created_at).toLocaleDateString():"N/A"]})]})]})]}),(0,ct.jsx)("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2"})]}),null!==(null===c||void 0===c?void 0:c.sim_handicap)&&void 0!==(null===c||void 0===c?void 0:c.sim_handicap)&&(0,ct.jsx)("div",{className:"mt-4 sm:mt-6 pt-4 sm:pt-6 border-t border-white/20",children:(0,ct.jsxs)("div",{className:"flex flex-col sm:flex-row sm:flex-wrap gap-3 sm:gap-4 items-start sm:items-center",children:[(0,ct.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-full px-3 sm:px-4 py-2 border border-white/20 flex items-center space-x-2 sm:space-x-3",children:[(0,ct.jsx)("div",{className:"bg-blue-500/20 rounded-full p-1",children:(0,ct.jsx)(Xe,{className:"w-3 h-3 sm:w-4 sm:h-4 text-blue-300"})}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-xs sm:text-sm font-medium text-white",children:"NN Handicap"}),(0,ct.jsx)("span",{className:"text-base sm:text-lg font-bold text-blue-300 ml-1 sm:ml-2",children:(0,ct.jsx)(ke,{value:parseFloat(c.sim_handicap),isAnimating:oe,direction:de,onAnimationComplete:()=>{ce(!1),ue(null)}})})]}),(0,ct.jsx)("div",{className:"text-xs text-white/60 ml-1 sm:ml-2",children:"App Tracked"})]}),"admin"===(null===c||void 0===c||null===(n=c.role)||void 0===n?void 0:n.toLowerCase())&&(0,ct.jsx)("div",{className:"flex flex-col gap-2 w-full sm:w-auto",children:(0,ct.jsxs)("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLSdgJYkNMW4RzG8wZFVt8zS1sfe_m8Ejtvg23OSUUggOVtQOSw/viewform",target:"_blank",rel:"noopener noreferrer",className:"bg-brand-neon-green/90 hover:bg-brand-neon-green text-brand-black rounded-full px-3 sm:px-4 py-2 border border-brand-neon-green/40 flex items-center justify-center space-x-2 shadow-sm transition-colors font-medium text-sm sm:text-base",children:[(0,ct.jsx)(Kn,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,ct.jsx)("span",{className:"hidden sm:inline",children:"Platform Feedback"}),(0,ct.jsx)("span",{className:"sm:hidden",children:"Feedback"})]})}),("club pro"===(null===c||void 0===c||null===(l=c.role)||void 0===l?void 0:l.toLowerCase())||"admin"===(null===c||void 0===c||null===(i=c.role)||void 0===i?void 0:i.toLowerCase()))&&(0,ct.jsx)("div",{className:"flex flex-col gap-2 w-full sm:w-auto",children:(0,ct.jsxs)("button",{onClick:()=>h("/club-pro"),className:"bg-brand-neon-green/90 hover:bg-brand-neon-green text-brand-black rounded-full px-3 sm:px-4 py-2 border border-brand-neon-green/40 flex items-center justify-center space-x-2 shadow-sm transition-colors font-medium text-sm sm:text-base",children:[(0,ct.jsx)(gt,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,ct.jsx)("span",{className:"hidden sm:inline",children:"Club Pro Dashboard"}),(0,ct.jsx)("span",{className:"sm:hidden",children:"Club Dashboard"})]})}),"ambassador"===(null===c||void 0===c||null===(o=c.role)||void 0===o?void 0:o.toLowerCase())&&(0,ct.jsx)("div",{className:"flex flex-col gap-2 w-full sm:w-auto",children:(0,ct.jsxs)("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLSdgJYkNMW4RzG8wZFVt8zS1sfe_m8Ejtvg23OSUUggOVtQOSw/viewform",target:"_blank",rel:"noopener noreferrer",className:"bg-brand-neon-green/90 hover:bg-brand-neon-green text-brand-black rounded-full px-3 sm:px-4 py-2 border border-brand-neon-green/40 flex items-center justify-center space-x-2 shadow-sm transition-colors font-medium text-sm sm:text-base",children:[(0,ct.jsx)(Kn,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,ct.jsx)("span",{className:"hidden sm:inline",children:"Platform Feedback"}),(0,ct.jsx)("span",{className:"sm:hidden",children:"Feedback"})]})})]})}),y&&(0,ct.jsxs)("div",{className:"mt-4 sm:mt-6 pt-4 sm:pt-6 border-t border-white/20",children:[_&&(0,ct.jsx)("div",{className:"bg-red-500/20 border border-red-400/50 text-white px-3 sm:px-4 py-2 sm:py-3 rounded mb-3 sm:mb-4 text-sm sm:text-base",children:_}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-xs sm:text-sm font-medium text-white/90 mb-1 sm:mb-2",children:"First Name"}),(0,ct.jsx)("input",{type:"text",value:H.first_name,onChange:e=>W((0,Re.A)((0,Re.A)({},H),{},{first_name:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg focus:ring-2 focus:ring-white/50 focus:border-white/50 text-white placeholder-white/50 text-sm sm:text-base",placeholder:"First Name"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-xs sm:text-sm font-medium text-white/90 mb-1 sm:mb-2",children:"Last Name"}),(0,ct.jsx)("input",{type:"text",value:H.last_name,onChange:e=>W((0,Re.A)((0,Re.A)({},H),{},{last_name:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg focus:ring-2 focus:ring-white/50 focus:border-white/50 text-white placeholder-white/50 text-sm sm:text-base",placeholder:"Last Name"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-xs sm:text-sm font-medium text-white/90 mb-1 sm:mb-2",children:"Email"}),(0,ct.jsx)("input",{type:"email",value:H.email,onChange:e=>W((0,Re.A)((0,Re.A)({},H),{},{email:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg focus:ring-2 focus:ring-white/50 focus:border-white/50 text-white placeholder-white/50 text-sm sm:text-base",placeholder:"Email"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-xs sm:text-sm font-medium text-white/90 mb-1 sm:mb-2",children:"Club"}),(0,ct.jsx)("input",{type:"text",value:H.club,onChange:e=>W((0,Re.A)((0,Re.A)({},H),{},{club:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg focus:ring-2 focus:ring-white/50 focus:border-white/50 text-white placeholder-white/50",placeholder:"Club"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Official GHIN Handicap"}),(0,ct.jsx)("input",{type:"number",step:"0.1",value:H.handicap,onChange:e=>W((0,Re.A)((0,Re.A)({},H),{},{handicap:Number(e.target.value)})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg focus:ring-2 focus:ring-white/50 focus:border-white/50 text-white placeholder-white/50",placeholder:"GHIN Handicap"})]})]})]})]}),(0,ct.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-8 relative",children:[!y&&(0,ct.jsxs)("button",{onClick:fe,className:" fixed bottom-6 left-1/2 -translate-x-1/2 w-[90vw] max-w-xs rounded-full px-6 py-4 z-50 flex items-center justify-center bg-brand-neon-green text-brand-black shadow-2xl hover:bg-green-400 transition-all font-bold text-lg focus:outline-none focus:ring-4 focus:ring-brand-neon-green/40 group sm:absolute sm:top-6 sm:right-6 sm:left-auto sm:bottom-auto sm:translate-x-0 sm:w-auto sm:max-w-none sm:px-6 sm:py-2 sm:rounded-full ",title:"Track your golf round and update your stats!",children:[(0,ct.jsx)(Jn,{className:"w-7 h-7 mr-3"}),(0,ct.jsx)("span",{children:"Track Round"})]}),(0,ct.jsxs)("div",{className:"flex flex-wrap gap-2 mb-6",children:[(0,ct.jsxs)("button",{onClick:()=>z("overview"),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("overview"===I?"bg-brand-neon-green text-brand-black":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,ct.jsx)(gt,{className:"w-4 h-4 inline mr-2"}),"Overview"]}),(0,ct.jsxs)("button",{onClick:()=>z("sim"),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("sim"===I?"bg-brand-neon-green text-brand-black":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,ct.jsx)(pt,{className:"w-4 h-4 inline mr-2"}),"Simulator"]}),(0,ct.jsxs)("button",{onClick:()=>z("records"),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("records"===I?"bg-brand-neon-green text-brand-black":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,ct.jsx)(St,{className:"w-4 h-4 inline mr-2"}),"Course Records"]})]}),"overview"===I&&(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("h2",{className:"text-2xl font-bold text-brand-black mb-6 flex items-center",children:[(0,ct.jsx)(gt,{className:"w-6 h-6 mr-3"}),"Overall Performance"]}),S&&S.total_rounds>0?(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-8",children:[(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:S.total_rounds}),(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"Total Rounds"})]}),(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("div",{className:"text-3xl font-bold text-green-600 mb-2",children:S.unique_courses}),(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"Courses Played"})]}),(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:S.avg_differential?Number(S.avg_differential).toFixed(1):"N/A"}),(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"Avg Differential"})]}),(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:S.best_differential?Number(S.best_differential).toFixed(1):"N/A"}),(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"Best Differential"})]})]}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ct.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,ct.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ct.jsx)(pt,{className:"w-5 h-5 text-blue-600 mr-2"}),(0,ct.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Performance"})]}),S&&S.total_rounds>0?(0,ct.jsxs)("div",{className:"space-y-3",children:[(0,ct.jsxs)("div",{className:"flex justify-between",children:[(0,ct.jsx)("span",{className:"text-gray-600",children:"Avg Differential:"}),(0,ct.jsx)("span",{className:"font-semibold",children:S.avg_differential?Number(S.avg_differential).toFixed(1):"N/A"})]}),(0,ct.jsxs)("div",{className:"flex justify-between",children:[(0,ct.jsx)("span",{className:"text-gray-600",children:"Best Differential:"}),(0,ct.jsx)("span",{className:"font-semibold",children:S.best_differential?Number(S.best_differential).toFixed(1):"N/A"})]}),(0,ct.jsxs)("div",{className:"flex justify-between",children:[(0,ct.jsx)("span",{className:"text-gray-600",children:"Courses Played:"}),(0,ct.jsx)("span",{className:"font-semibold",children:S.unique_courses})]})]}):(0,ct.jsx)("p",{className:"text-gray-500 text-sm",children:"No simulator rounds yet"})]}),(0,ct.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,ct.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ct.jsx)(Qs,{className:"w-5 h-5 text-green-600 mr-2"}),(0,ct.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Activity"})]}),S&&S.total_rounds>0?(0,ct.jsxs)("div",{className:"space-y-3",children:[(0,ct.jsxs)("div",{className:"flex justify-between",children:[(0,ct.jsx)("span",{className:"text-gray-600",children:"Days Played:"}),(0,ct.jsx)("span",{className:"font-semibold",children:S.unique_dates})]}),(0,ct.jsxs)("div",{className:"flex justify-between",children:[(0,ct.jsx)("span",{className:"text-gray-600",children:"First Round:"}),(0,ct.jsx)("span",{className:"font-semibold",children:S.first_round?new Date(S.first_round).toLocaleDateString():"N/A"})]}),(0,ct.jsxs)("div",{className:"flex justify-between",children:[(0,ct.jsx)("span",{className:"text-gray-600",children:"Last Round:"}),(0,ct.jsx)("span",{className:"font-semibold",children:S.last_round?new Date(S.last_round).toLocaleDateString():"N/A"})]})]}):(0,ct.jsx)("p",{className:"text-gray-500 text-sm",children:"No activity data yet"})]})]})]}):(0,ct.jsxs)("div",{className:"text-center py-8",children:[(0,ct.jsx)(pt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,ct.jsx)("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"No Rounds Tracked Yet"}),(0,ct.jsx)("p",{className:"text-gray-600 mb-6",children:"Start tracking your simulator rounds to see your performance statistics here."}),(0,ct.jsxs)("button",{onClick:fe,className:"inline-flex items-center px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg hover:bg-green-400 transition-colors font-medium",children:[(0,ct.jsx)(Jn,{className:"w-4 h-4 mr-2"}),"Track Your First Round"]})]})]}),"sim"===I&&(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("h2",{className:"text-2xl font-bold text-brand-black mb-6 flex items-center",children:[(0,ct.jsx)(pt,{className:"w-6 h-6 mr-3"}),"Simulator Performance"]}),S&&S.total_rounds>0?(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-8",children:[(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:S.total_rounds}),(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"Total Rounds"})]}),(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("div",{className:"text-3xl font-bold text-green-600 mb-2",children:S.avg_differential?Number(S.avg_differential).toFixed(1):"N/A"}),(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"Avg Differential"})]}),(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:S.best_differential?Number(S.best_differential).toFixed(1):"N/A"}),(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"Best Differential"})]}),(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:S.unique_courses}),(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"Courses Played"})]})]}),(0,ct.jsxs)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[(0,ct.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,ct.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Scoring"}),(0,ct.jsxs)("div",{className:"text-lg font-semibold text-gray-800",children:[S.avg_strokes&&S.avg_strokes>0?Number(S.avg_strokes).toFixed(1):S.avg_differential?Number(S.avg_differential).toFixed(1):"N/A"," avg"]}),(0,ct.jsx)("div",{className:"text-sm text-gray-500",children:S.avg_strokes&&S.avg_strokes>0?"Best: ".concat(S.best_strokes||"N/A"," \u2022 Worst: ").concat(S.worst_strokes||"N/A"):"Best: ".concat(S.best_differential?Number(S.best_differential).toFixed(1):"N/A"," \u2022 Worst: ").concat(S.worst_differential?Number(S.worst_differential).toFixed(1):"N/A")}),(0,ct.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:S.avg_strokes&&S.avg_strokes>0?"Strokes":"Differential"})]}),(0,ct.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,ct.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Activity"}),(0,ct.jsxs)("div",{className:"text-lg font-semibold text-gray-800",children:[S.unique_dates," days"]}),(0,ct.jsx)("div",{className:"text-sm text-gray-500",children:S.first_round&&S.last_round?"".concat(new Date(S.first_round).toLocaleDateString()," - ").concat(new Date(S.last_round).toLocaleDateString()):"No date range"})]}),(0,ct.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,ct.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Recent Activity"}),(0,ct.jsxs)("div",{className:"text-lg font-semibold text-gray-800",children:[S.recent_rounds.length," rounds"]}),(0,ct.jsxs)("div",{className:"text-sm text-gray-500",children:["Last: ",S.last_round?new Date(S.last_round).toLocaleDateString():"N/A"]})]})]}),S.recent_rounds.length>0&&(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[(0,ct.jsx)(Qs,{className:"w-5 h-5 mr-2"}),"Recent Simulator Rounds (",S.recent_rounds.slice(0,20).length," of ",S.total_rounds,")"]}),(0,ct.jsx)("div",{className:"max-h-96 overflow-y-auto space-y-3 pr-2",children:(()=>{const e=we(S.recent_rounds);return S.recent_rounds.slice(0,20).map((t,s)=>{const a=e.includes(t.id);return(0,ct.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg ".concat(a?"bg-green-50 border border-green-200":"bg-gray-50"),children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("div",{className:"font-medium text-gray-900",children:t.course_name}),(0,ct.jsxs)("div",{className:"text-sm text-gray-600",children:[new Date(t.date_played).toLocaleDateString()," \u2022 ",t.round_type]})]}),(0,ct.jsxs)("div",{className:"flex items-center space-x-1",children:[a&&(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,ct.jsx)("span",{className:"text-xs text-green-700 font-medium",children:"Handicap"})]}),!t.differential&&(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full"}),(0,ct.jsx)("span",{className:"text-xs text-gray-600",children:"No Differential"})]})]})]}),(0,ct.jsxs)("div",{className:"text-right",children:[(0,ct.jsxs)("div",{className:"font-semibold text-gray-900",children:[t.total_strokes," strokes"]}),t.differential&&(0,ct.jsxs)("div",{className:"text-sm ".concat(a?"text-green-700 font-medium":"text-gray-600"),children:[Number(t.differential).toFixed(1)," differential"]})]})]},s)})})()}),(()=>{const e=we(S.recent_rounds).length,t=S.recent_rounds.length,s=S.recent_rounds.filter(e=>null!==e.differential).length,a=t-s;return e>0?(0,ct.jsx)("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,ct.jsxs)("div",{className:"text-sm text-blue-800 space-y-1",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("strong",{children:"Handicap Calculation:"})," Using ",e," best differential",1!==e?"s":""," from your recent rounds"]}),(0,ct.jsxs)("div",{className:"text-xs text-blue-600",children:[s," of ",t," rounds have differentials",a>0&&" \u2022 ".concat(a," rounds missing course rating/slope data")]})]})}):null})()]})]}):(0,ct.jsxs)("div",{className:"text-center py-8",children:[(0,ct.jsx)(pt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,ct.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Simulator Rounds Yet"}),(0,ct.jsx)("p",{className:"text-gray-600 mb-4",children:"Start tracking your simulator rounds to see your performance statistics here."}),(0,ct.jsxs)("button",{onClick:fe,className:"inline-flex items-center px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg hover:bg-green-400 transition-colors font-medium",children:[(0,ct.jsx)(Jn,{className:"w-4 h-4 mr-2"}),"Track Your First Round"]})]})]}),"records"===I&&(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("h2",{className:"text-2xl font-bold text-brand-black mb-6 flex items-center",children:[(0,ct.jsx)(St,{className:"w-6 h-6 mr-3"}),"Course Records"]}),(()=>{const e={};T.forEach(t=>{e[t.course_id]||(e[t.course_id]={}),null===t.record_club?e[t.course_id].community=t:e[t.course_id].club=t});const t=Object.values(e);return t.length>0?(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-8",children:[(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:t.length}),(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"Unique Courses"})]}),(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("div",{className:"text-3xl font-bold text-green-600 mb-2",children:c&&T.filter(e=>e.record_club===c.club).length}),(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"No5 Records"})]}),(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:T.filter(e=>null===e.record_club).length}),(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"Community Records"})]}),(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:T.length>0?Math.max(...T.map(e=>e.days_standing)):0}),(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"Longest Standing (Days)"})]})]}),(0,ct.jsx)("div",{className:"space-y-4",children:t.map(e=>{let{club:t,community:s}=e;const a=t&&s?t.best_score<=s.best_score?t:s:t||s;return a?(0,ct.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,ct.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between space-y-3 sm:space-y-0",children:[(0,ct.jsxs)("div",{className:"flex-1",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:a.course_name}),t&&(0,ct.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs font-medium rounded-full",children:"No5 Record"}),s&&(0,ct.jsx)("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 text-xs font-medium rounded-full",children:"Community Record"})]}),(0,ct.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-1 sm:space-y-0 sm:space-x-4 text-sm text-gray-600",children:[a.location&&(0,ct.jsxs)("span",{className:"flex items-center",children:[(0,ct.jsx)(Ge,{className:"w-4 h-4 mr-1"}),a.location]}),a.designer&&(0,ct.jsxs)("span",{className:"flex items-center",children:[(0,ct.jsx)($e,{className:"w-4 h-4 mr-1"}),a.designer]}),(0,ct.jsxs)("span",{className:"flex items-center",children:[(0,ct.jsx)(Qs,{className:"w-4 h-4 mr-1"}),new Date(a.date_played).toLocaleDateString()]})]})]}),(0,ct.jsxs)("div",{className:"text-right",children:[(0,ct.jsxs)("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:[a.best_score," strokes"]}),(0,ct.jsxs)("div",{className:"text-sm text-gray-600",children:[a.days_standing," days standing"]})]})]})},a.course_id):null})})]}):(0,ct.jsxs)("div",{className:"text-center py-8",children:[(0,ct.jsx)(St,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,ct.jsx)("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"No Course Records Yet"}),(0,ct.jsx)("p",{className:"text-gray-600 mb-6",children:"Start playing simulator rounds to set course records for your club and the community."}),(0,ct.jsxs)("button",{onClick:fe,className:"inline-flex items-center px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg hover:bg-green-400 transition-colors font-medium",children:[(0,ct.jsx)(Jn,{className:"w-4 h-4 mr-2"}),"Track Your First Round"]})]})})()]})]}),ye.length>0&&(0,ct.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-8",children:[(0,ct.jsxs)("h2",{className:"text-2xl font-bold text-brand-black mb-6 flex items-center",children:[(0,ct.jsx)(Qs,{className:"w-6 h-6 mr-3"}),"Recent Matches"]}),(0,ct.jsx)("div",{className:"space-y-4",children:ye.slice(0,5).map(e=>{const t=(e=>"player1"===e.winner&&e.player1_id===(null===c||void 0===c?void 0:c.member_id)||"player2"===e.winner&&e.player2_id===(null===c||void 0===c?void 0:c.member_id)?"Won":"tie"===e.winner?"Tied":"Lost")(e);return(0,ct.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-4 bg-gray-50 rounded-lg space-y-2 sm:space-y-0",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)($e,{className:"w-5 h-5 text-gray-500"}),(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("p",{className:"font-medium text-gray-900",children:["Match #",e.id]}),(0,ct.jsx)("p",{className:"text-sm text-gray-600",children:new Date(e.match_date).toLocaleDateString()})]})]}),(0,ct.jsxs)("div",{className:"text-left sm:text-right",children:[(0,ct.jsx)("span",{className:"font-bold ".concat(je(t)),children:t}),e.scores&&(0,ct.jsxs)("p",{className:"text-sm text-gray-600",children:["Score: ",JSON.stringify(e.scores)]})]})]},e.id)})})]}),c&&(0,ct.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-8",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ct.jsxs)("h2",{className:"text-2xl font-bold text-brand-black flex items-center",children:[(0,ct.jsx)(qe,{className:"w-6 h-6 mr-3"}),"Compete"]}),(0,ct.jsxs)(Te,{to:"/signups",className:"flex items-center justify-center px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors whitespace-nowrap",children:[(0,ct.jsx)(St,{className:"w-4 h-4 mr-2"}),"Sign Up"]})]}),(0,ct.jsxs)("div",{className:"flex space-x-1 mb-6 bg-neutral-100 p-1 rounded-lg",children:[(0,ct.jsxs)("button",{onClick:()=>U("leagues"),className:"flex-1 px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("leagues"===B?"bg-white text-brand-black shadow-sm":"text-neutral-600 hover:text-neutral-800"),children:["Leagues (",R.length,")"]}),(0,ct.jsxs)("button",{onClick:()=>U("tournaments"),className:"flex-1 px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("tournaments"===B?"bg-white text-brand-black shadow-sm":"text-neutral-600 hover:text-neutral-800"),children:["Tournaments (",D.length,")"]})]}),"tournaments"===B&&D.length>0&&(0,ct.jsx)("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:(0,ct.jsxs)("div",{className:"flex items-center text-sm text-blue-800",children:[(0,ct.jsx)(ar,{className:"w-4 h-4 mr-2"}),(0,ct.jsxs)("span",{children:[D.filter(e=>Ne(e)).length," tournament(s) open for score submission"]})]})}),"tournaments"===B&&(D.length>0?(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(()=>{const e=(t=D,[...t].sort((e,t)=>{const s=Ne(e),a=Ne(t);return s&&!a?-1:!s&&a?1:e.start_date&&t.start_date?new Date(t.start_date).getTime()-new Date(e.start_date).getTime():0}));var t;return F?e:e.slice(0,3)})().map(e=>(0,ct.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200 hover:border-brand-neon-green transition-all group",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ct.jsx)("h3",{className:"font-semibold text-brand-black group-hover:text-brand-neon-green transition-colors",children:e.name}),(0,ct.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("active"===e.status?"bg-green-100 text-green-800":"open"===e.status?"bg-blue-100 text-blue-800":"completed"===e.status?"bg-gray-100 text-gray-800":"cancelled"===e.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:"active"===e.status?"Active":"open"===e.status?"Open":"completed"===e.status?"Completed":"cancelled"===e.status?"Cancelled":e.status||"Draft"})]}),(0,ct.jsxs)("div",{className:"text-sm text-neutral-600 mb-2",children:[e.tournament_format||"match_play"," \u2022 ",e.type||"tournament"]}),e.start_date&&(0,ct.jsxs)("div",{className:"text-xs text-neutral-500 mb-2",children:[(0,ct.jsx)(Nt,{className:"inline w-4 h-4 mr-1"}),new Date(e.start_date).toLocaleDateString()]}),e.location&&(0,ct.jsxs)("div",{className:"text-xs text-neutral-500 mb-2",children:[(0,ct.jsx)(Ge,{className:"inline w-4 h-4 mr-1"}),e.location]}),e.entry_fee&&e.entry_fee>0&&(0,ct.jsxs)("div",{className:"text-xs text-neutral-500 mb-2",children:[(0,ct.jsx)(Xn,{className:"inline w-4 h-4 mr-1"}),"$",e.entry_fee," entry fee"]}),(0,ct.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-200 space-y-2",children:[Ne(e)?(0,ct.jsxs)("button",{onClick:()=>{return t=e.id,void h("/tournament-scoring?tournament=".concat(t));var t},className:"flex items-center justify-center w-full px-3 py-2 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors text-sm",children:[(0,ct.jsx)(qe,{className:"w-4 h-4 mr-2"}),"club_championship"===e.type?"My Matches":"Submit Score"]}):e.has_submitted_score?(0,ct.jsxs)("div",{className:"flex flex-col items-center justify-center w-full px-3 py-2 bg-green-50 text-green-700 rounded-lg text-sm border border-green-200",children:[(0,ct.jsxs)("div",{className:"flex items-center font-medium",children:[(0,ct.jsx)(Jn,{className:"w-4 h-4 mr-2"}),"Score Submitted"]}),e.last_score_date&&(0,ct.jsx)("div",{className:"text-xs text-green-600 mt-1",children:new Date(e.last_score_date).toLocaleDateString()})]}):(0,ct.jsxs)("div",{className:"flex items-center justify-center w-full px-3 py-2 bg-gray-100 text-gray-600 rounded-lg font-medium text-sm",children:[(0,ct.jsx)(Qs,{className:"w-4 h-4 mr-2"}),"Tournament Closed"]}),(0,ct.jsxs)("button",{onClick:()=>{return t=e.id,void h("/leaderboard/tournament/".concat(t));var t},className:"flex items-center justify-center w-full px-3 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors text-sm",children:[(0,ct.jsx)(wt,{className:"w-4 h-4 mr-2"}),"View Leaderboard"]})]})]},e.id))}),D.length>3&&!F&&(0,ct.jsx)("div",{className:"mt-6 text-center",children:(0,ct.jsxs)("button",{onClick:()=>O(!0),className:"inline-flex items-center px-6 py-3 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:[(0,ct.jsx)(qe,{className:"w-4 h-4 mr-2"}),"Load More Tournaments (",D.length-3," more)"]})}),F&&D.length>3&&(0,ct.jsx)("div",{className:"mt-6 text-center",children:(0,ct.jsx)("button",{onClick:()=>O(!1),className:"inline-flex items-center px-6 py-3 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Show Less"})})]}):(0,ct.jsxs)("div",{className:"text-center py-8",children:[(0,ct.jsx)(qe,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,ct.jsx)("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"No Tournaments Yet"}),(0,ct.jsx)("p",{className:"text-gray-600 mb-6",children:"You haven't registered for any tournaments yet. Sign up to get started!"}),(0,ct.jsxs)(Te,{to:"/signups",className:"inline-flex items-center px-6 py-3 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors",children:[(0,ct.jsx)(St,{className:"w-4 h-4 mr-2"}),"Sign Up"]})]})),"leagues"===B&&(R.length>0?(0,ct.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:R.map(e=>(0,ct.jsxs)("div",{className:"p-4 bg-white border border-neutral-200 rounded-lg shadow-sm hover:border-brand-neon-green transition-all group",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ct.jsx)("h3",{className:"font-semibold text-brand-black group-hover:text-brand-neon-green transition-colors",children:e.team_name}),e.is_captain&&(0,ct.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-brand-neon-green text-brand-dark-green",children:"Captain"})]}),(0,ct.jsx)("div",{className:"text-sm text-neutral-600 mb-2",children:e.league_name&&(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)("div",{className:"font-medium",children:e.league_name}),e.season&&(0,ct.jsx)("div",{className:"text-xs",children:e.season}),e.division_name&&(0,ct.jsx)("div",{className:"text-xs text-neutral-500",children:e.division_name})]})}),e.league_status&&(0,ct.jsx)("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium mb-2 ".concat("active"===e.league_status?"bg-green-100 text-green-800":"registration"===e.league_status?"bg-blue-100 text-blue-800":"playoffs"===e.league_status?"bg-purple-100 text-purple-800":"completed"===e.league_status?"bg-gray-100 text-gray-800":"bg-yellow-100 text-yellow-800"),children:e.league_status}),e.league_start_date&&(0,ct.jsxs)("div",{className:"text-xs text-neutral-500 mb-2",children:[(0,ct.jsx)(Nt,{className:"inline w-4 h-4 mr-1"}),new Date(e.league_start_date).toLocaleDateString(),e.league_end_date&&" - ".concat(new Date(e.league_end_date).toLocaleDateString())]}),(0,ct.jsx)("div",{className:"flex items-center space-x-2 mt-3",children:(0,ct.jsxs)("button",{onClick:()=>{e.league_id&&e.team_id&&(e.is_captain?h("/captain-dashboard/".concat(e.team_id,"/").concat(e.league_id)):h("/player/team/".concat(e.team_id,"/").concat(e.league_id)))},className:"flex-1 px-3 py-2 bg-brand-neon-green text-brand-black rounded-lg text-sm hover:bg-green-400 transition-colors flex items-center justify-center font-medium",children:[(0,ct.jsx)(qe,{className:"w-4 h-4 mr-1"}),e.is_captain?"Captain Dashboard":"View Team"]})})]},"".concat(e.team_id,"-").concat(e.league_id)))}):(0,ct.jsxs)("div",{className:"text-center py-8",children:[(0,ct.jsx)(qe,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,ct.jsx)("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"No Leagues Yet"}),(0,ct.jsx)("p",{className:"text-gray-600 mb-6",children:"You haven't joined any leagues yet. Check with your club to join a league!"})]}))]}),(0,ct.jsx)(el,{isOpen:q,onClose:()=>V(!1),onSelectRoundType:(e,t,s,a,r)=>function(e,t,s){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4?arguments[4]:void 0;console.log("handleSelectRoundType called with:",{roundType:e,holes:t,course:s,nineType:a,teeboxData:r}),Q("stroke"),J(e),ee(t),re(a),V(!1),Y(!0),se(s),r?(console.log("Setting teebox data:",r),se(e=>(0,Re.A)((0,Re.A)({},e),{},{teeboxData:r}))):console.log("No teebox data provided")}(e,t,s,a,r)})]})},ul=()=>{var e,t,s,r,n,l,i,o,c,d;const{user:u,token:m,logout:x,refreshUser:h}=mt(),p=Z(),[g,f]=(0,a.useState)(null),[b,v]=(0,a.useState)([]),[y,j]=(0,a.useState)(!1),[N,w]=(0,a.useState)(!0),[_,k]=(0,a.useState)(null),[S,C]=(0,a.useState)(null),[A,E]=(0,a.useState)(null),[T,P]=(0,a.useState)([]),[D,M]=(0,a.useState)([]),[R,L]=(0,a.useState)(!1),[F,O]=(0,a.useState)("play"),[I,z]=(0,a.useState)(null),[B,U]=(0,a.useState)(!1),[H,W]=(0,a.useState)({first_name:(null===u||void 0===u?void 0:u.first_name)||"",last_name:(null===u||void 0===u?void 0:u.last_name)||"",email:(null===u||void 0===u?void 0:u.email)||"",club:(null===u||void 0===u?void 0:u.club)||"",handicap:(null===u||void 0===u?void 0:u.handicap)||0,sim_handicap:(null===u||void 0===u?void 0:u.sim_handicap)||0}),[q,V]=(0,a.useState)(!1),[G,Y]=(0,a.useState)(!1),[$,Q]=(0,a.useState)(null),[K,J]=(0,a.useState)(null),[X,ee]=(0,a.useState)(null),[te,se]=(0,a.useState)(null),[ae,re]=(0,a.useState)(null),ne=(0,a.useRef)(null),[le,ie]=(0,a.useState)(!1),[oe,ce]=(0,a.useState)(!1),[de,ue]=(0,a.useState)(null),[me,xe]=(0,a.useState)(!1),[he,pe]=(0,a.useState)(null),ge=async()=>{if(null!==u&&void 0!==u&&u.member_id)try{w(!0),console.log("Fetching data for user ID:",u.member_id),console.log("User data:",u);const[t,s,a,r,n,l]=await Promise.all([(0,tt.VMk)(u.member_id),(0,tt.shr)(),(0,tt.ONl)(u.member_id),(0,tt.yBI)(u.member_id),(0,tt.de9)(u.member_id),(0,tt.qM8)(u.member_id)]);console.log("Sim stats response:",a.data),console.log("Combined stats response:",r.data);null===u||void 0===u||u.sim_handicap,null===u||void 0===u||u.grass_handicap;f(t.data);let i=[];try{i=(await tt.Ay$.get("/user/national-championship-matches")).data||[]}catch(e){console.log("National championship matches not available")}const o=[...s.data,...i];v(o),C(a.data),E(r.data),P(n.data),M(l.data),console.log("User tournaments with score submission status:",l.data)}catch(e){k("Failed to load profile data"),console.error("Error fetching profile:",e)}finally{w(!1)}};(0,a.useEffect)(()=>{ge()},[null===u||void 0===u?void 0:u.member_id]),(0,a.useEffect)(()=>{"improve"===F&&null!==u&&void 0!==u&&u.member_id&&!I&&fe()},[F,null===u||void 0===u?void 0:u.member_id]);const fe=async()=>{if(null!==u&&void 0!==u&&u.member_id){U(!0);try{const e=await(0,tt.N5v)(u.member_id);z(e.data)}catch(t){var e;console.error("Error loading shot stats:",t),404!==(null===(e=t.response)||void 0===e?void 0:e.status)&&console.error("Failed to load shot statistics")}finally{U(!1)}}},be=()=>{V(!0)},ve=()=>{Y(!1),Q(null),J(null),ee(null),se(null),re(null)},ye=async e=>{try{var t,s,a,r,n,l;console.log("ScoreCard data received:",e);try{const e=await tt.Ay$.get("/health");console.log("API health check:",e.status)}catch(c){console.error("API health check failed:",c)}const i={type:e.type||("mully"===$?"mully_golf":"stroke_play"),player_name:(null===(t=e.playerInfo)||void 0===t?void 0:t.name)||e.player_name||"",date_played:(null===(s=e.playerInfo)||void 0===s?void 0:s.date)||e.date_played||(new Date).toISOString().split("T")[0],handicap:(null===(a=e.playerInfo)||void 0===a?void 0:a.handicap)||e.handicap||0,scores:e.holes||e.scores||[],total_strokes:e.totalStrokes||e.total_strokes||0,total_mulligans:e.totalMulligans||e.total_mulligans||0,final_score:e.finalScore||e.final_score||e.totalStrokes||0,round_type:K||"sim",course_name:(null===te||void 0===te?void 0:te.name)||e.course_name||"",teebox:(null===te||void 0===te||null===(r=te.teeboxData)||void 0===r?void 0:r.teebox)||e.teebox||null,course_rating:(null===te||void 0===te||null===(n=te.teeboxData)||void 0===n?void 0:n.courseRating)||e.course_rating||null,course_slope:(null===te||void 0===te||null===(l=te.teeboxData)||void 0===l?void 0:l.courseSlope)||e.course_slope||null,holes_played:X||18,nine_type:ae||null};console.log("Selected course teebox data:",null===te||void 0===te?void 0:te.teeboxData),console.log("API data being sent:",i);const o=await(0,tt.aGb)(i);if(console.log("Save response:",o),!o||!o.data)throw new Error("Invalid response from server");{console.log("Scorecard saved with ID:",o.data.id);const e=u;await h(),await ge();try{const t=(await(0,tt.HWG)(m)).data.user;Ne(e,t)}catch(_){console.error("Error getting updated user data:",_)}ve()}}catch(c){var i,o;console.error("Error saving scorecard:",c);const e=(null===(i=c.response)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.error)||c.message||"Failed to save scorecard";alert("Failed to save scorecard: ".concat(e))}},je=(b.filter(e=>e.player1_id===(null===u||void 0===u?void 0:u.member_id)||e.player2_id===(null===u||void 0===u?void 0:u.member_id)).slice(0,5),e=>("open"===e.status||"active"===e.status)&&!e.has_submitted_score),Ne=(e,t)=>{if(console.log("checkHandicapChanges called with:",{oldUser:e,newUser:t}),!e||!t)return void console.log("Missing user data, returning early");const s=e.sim_handicap||0,a=e.grass_handicap||0,r=t.sim_handicap||0,n=t.grass_handicap||0;if(console.log("Handicap comparison:",{oldSimHandicap:s,newSimHandicap:r,oldGrassHandicap:a,newGrassHandicap:n}),Math.abs(r-s)>.01){const e=r>s?"up":"down";console.log("Sim handicap changed:",{direction:e,oldValue:s,newValue:r}),ue(e),ce(!0)}if(Math.abs(n-a)>.01){const e=n>a?"up":"down";console.log("Grass handicap changed:",{direction:e,oldValue:a,newValue:n}),pe(e),xe(!0)}},we=e=>{let{value:t,isAnimating:s,direction:r,onAnimationComplete:n}=e;const[l,i]=(0,a.useState)(t),[o,c]=(0,a.useState)("text-blue-300"),[d,u]=(0,a.useState)("text-lg");return(0,a.useEffect)(()=>{s&&r&&setTimeout(()=>{c("down"===r?"text-green-400":"text-red-400"),u("text-2xl");const e="down"===r?t+.7:t-.7,s=(t-e)/7;let a=0;const l=()=>{a++;if(i(e+s*a),a>=7)return void setTimeout(()=>{u("text-lg"),setTimeout(()=>{c("text-blue-300"),n()},300)},500);let t;t=a<=2||a>=5?150:80,setTimeout(l,t)};setTimeout(l,200)},300)},[s,r,t,n]),(0,ct.jsx)("span",{className:"font-bold transition-all duration-300 ".concat(o," ").concat(d),children:l.toFixed(1)})};if(N)return(0,ct.jsx)("div",{className:"flex items-center justify-center min-h-64",children:(0,ct.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-neon-green"})});if(G&&$){const e={name:"".concat(null===u||void 0===u?void 0:u.first_name," ").concat(null===u||void 0===u?void 0:u.last_name).trim(),handicap:(null===u||void 0===u?void 0:u.sim_handicap)||(null===u||void 0===u?void 0:u.handicap)||0};return"mully"===$?(0,ct.jsx)(il,{onClose:ve,onSave:ye,userInfo:e,holes:X||18,course:te,nineType:ae}):(0,ct.jsx)(ol,{onClose:ve,onSave:ye,userInfo:e,holes:X||18,course:te,nineType:ae})}return(0,ct.jsxs)("div",{className:"max-w-6xl mx-auto relative pb-16 sm:pb-6",children:[(0,ct.jsxs)("div",{className:"bg-gradient-to-br from-brand-dark-green to-brand-muted-green rounded-2xl shadow-xl p-4 sm:p-6 mb-6 sm:mb-8 text-white",children:[(0,ct.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[(0,ct.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-4 sm:space-y-0 sm:space-x-6 mb-6 lg:mb-0",children:[(0,ct.jsxs)("div",{className:"relative",children:[(0,ct.jsx)("div",{className:"bg-white/20 backdrop-blur-sm rounded-full w-16 h-16 sm:w-20 sm:h-20 flex items-center justify-center",children:null!==u&&void 0!==u&&u.profile_photo_url?(0,ct.jsx)("img",{src:u.profile_photo_url,alt:"Profile",className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full object-cover"}):(0,ct.jsx)($e,{className:"w-8 h-8 sm:w-12 sm:h-12 text-white"})}),y&&(0,ct.jsx)("button",{onClick:()=>{var e;null===(e=ne.current)||void 0===e||e.click()},disabled:le,className:"absolute -bottom-1 -right-1 bg-brand-neon-green text-brand-black rounded-full p-1.5 sm:p-2 hover:bg-green-400 transition-colors disabled:opacity-50",title:"Upload profile photo",children:le?(0,ct.jsx)("div",{className:"animate-spin rounded-full h-3 w-3 sm:h-4 sm:w-4 border-b-2 border-brand-black"}):(0,ct.jsx)(Dt,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]}),(0,ct.jsx)("input",{ref:ne,type:"file",accept:"image/*",onChange:async e=>{var t;const s=null===(t=e.target.files)||void 0===t?void 0:t[0];if(s)if(s.type.startsWith("image/"))if(s.size>5242880)alert("File size must be less than 5MB");else{ie(!0);try{(await(0,tt.DKP)(s)).data.success&&window.location.reload()}catch(a){console.error("Error uploading photo:",a),alert("Failed to upload photo. Please try again.")}finally{ie(!1)}}else alert("Please select an image file")},className:"hidden"}),(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-3 mb-2",children:[(0,ct.jsxs)("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold flex items-center",children:[null===u||void 0===u?void 0:u.first_name," ",null===u||void 0===u?void 0:u.last_name,!y&&(0,ct.jsx)("button",{onClick:()=>j(!0),className:"ml-2 sm:ml-3 flex items-center justify-center p-1.5 sm:p-2 bg-white/10 backdrop-blur-sm text-white rounded-full hover:bg-white/20 transition-all duration-200 border border-white/20 hover:border-white/30 shadow-lg hover:shadow-xl",title:"Edit Profile",children:(0,ct.jsx)(En,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),"admin"===(null===u||void 0===u||null===(e=u.role)||void 0===e?void 0:e.toLowerCase())&&!y&&(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)("button",{onClick:()=>p("/admin"),className:"ml-2 sm:ml-3 flex items-center justify-center p-1.5 sm:p-2 bg-white/10 backdrop-blur-sm text-white rounded-full hover:bg-white/20 transition-all duration-200 border border-white/20 hover:border-white/30 shadow-lg hover:shadow-xl",title:"Admin Dashboard",children:(0,ct.jsx)(sa,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),(0,ct.jsx)("div",{className:"ml-2 sm:ml-3",children:(0,ct.jsx)(cl,{})})]})]}),(0,ct.jsxs)("div",{className:"flex items-center space-x-2 flex-wrap gap-2",children:[(0,ct.jsx)("div",{className:"bg-white/20 backdrop-blur-sm rounded-full px-2 sm:px-3 py-1 text-xs sm:text-sm font-medium",children:"admin"===(null===u||void 0===u||null===(t=u.role)||void 0===t?void 0:t.toLowerCase())?"Admin":"club pro"===(null===u||void 0===u||null===(s=u.role)||void 0===s?void 0:s.toLowerCase())?"Club Pro":"ambassador"===(null===u||void 0===u||null===(r=u.role)||void 0===r?void 0:r.toLowerCase())?"Ambassador":"Member"}),(0,ct.jsxs)("div",{className:"beta-profile-view-toggle",children:[(0,ct.jsx)(Na,{options:[{value:"classic",label:"Classic"},{value:"beta",label:"Beta",icon:(0,ct.jsx)("span",{children:"\u2728"})}],value:"beta",onChange:e=>"classic"===e&&p("/profile"),size:"sm",variant:"compact",className:"backdrop-blur-sm"}),(0,ct.jsx)("style",{children:'\n                      /* Active Classic button - solid white */\n                      .beta-profile-view-toggle button:first-child[aria-pressed="true"] {\n                        background: white !important;\n                        color: rgb(22 101 52) !important;\n                        font-weight: 600;\n                      }\n\n                      /* Inactive Classic button */\n                      .beta-profile-view-toggle button:first-child[aria-pressed="false"] {\n                        color: rgba(255, 255, 255, 0.7);\n                      }\n\n                      /* Active Beta button - purple gradient */\n                      .beta-profile-view-toggle button:last-child[aria-pressed="true"] {\n                        background: linear-gradient(to right, rgb(168 85 247), rgb(59 130 246)) !important;\n                        color: white !important;\n                        font-weight: 600;\n                      }\n\n                      /* Inactive Beta button - subtle purple tint */\n                      .beta-profile-view-toggle button:last-child[aria-pressed="false"] {\n                        background: rgba(168, 85, 247, 0.15) !important;\n                        color: rgba(192, 132, 252, 0.9) !important;\n                      }\n\n                      .beta-profile-view-toggle button:last-child[aria-pressed="false"]:hover {\n                        background: rgba(168, 85, 247, 0.25) !important;\n                        color: rgb(192, 132, 252) !important;\n                      }\n                    '})]})]})]}),(0,ct.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-1 sm:space-y-0 sm:space-x-4 text-white/90 text-sm sm:text-base",children:[(0,ct.jsxs)("span",{className:"flex items-center",children:[(0,ct.jsx)(Ge,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),(null===u||void 0===u?void 0:u.club)||"No club specified"]}),(0,ct.jsxs)("span",{className:"flex items-center",children:[(0,ct.jsx)(Qs,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"Member since ",null!==u&&void 0!==u&&u.created_at?new Date(u.created_at).toLocaleDateString():"N/A"]})]})]})]}),(0,ct.jsx)("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2"})]}),null!==(null===u||void 0===u?void 0:u.sim_handicap)&&void 0!==(null===u||void 0===u?void 0:u.sim_handicap)&&(0,ct.jsx)("div",{className:"mt-4 sm:mt-6 pt-4 sm:pt-6 border-t border-white/20",children:(0,ct.jsxs)("div",{className:"flex flex-col sm:flex-row sm:flex-wrap gap-3 sm:gap-4 items-start sm:items-center",children:[(0,ct.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-full px-3 sm:px-4 py-2 border border-white/20 flex items-center space-x-2 sm:space-x-3",children:[(0,ct.jsx)("div",{className:"bg-blue-500/20 rounded-full p-1",children:(0,ct.jsx)(Xe,{className:"w-3 h-3 sm:w-4 sm:h-4 text-blue-300"})}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-xs sm:text-sm font-medium text-white",children:"NN Handicap"}),(0,ct.jsx)("span",{className:"text-base sm:text-lg font-bold text-blue-300 ml-1 sm:ml-2",children:(0,ct.jsx)(we,{value:parseFloat(u.sim_handicap),isAnimating:oe,direction:de,onAnimationComplete:()=>{ce(!1),ue(null)}})})]}),(0,ct.jsx)("div",{className:"text-xs text-white/60 ml-1 sm:ml-2",children:"App Tracked"})]}),"admin"===(null===u||void 0===u||null===(n=u.role)||void 0===n?void 0:n.toLowerCase())&&(0,ct.jsx)("div",{className:"flex flex-col gap-2 w-full sm:w-auto",children:(0,ct.jsxs)("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLSdgJYkNMW4RzG8wZFVt8zS1sfe_m8Ejtvg23OSUUggOVtQOSw/viewform",target:"_blank",rel:"noopener noreferrer",className:"bg-brand-neon-green/90 hover:bg-brand-neon-green text-brand-black rounded-full px-3 sm:px-4 py-2 border border-brand-neon-green/40 flex items-center justify-center space-x-2 shadow-sm transition-colors font-medium text-sm sm:text-base",children:[(0,ct.jsx)(Kn,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,ct.jsx)("span",{className:"hidden sm:inline",children:"Platform Feedback"}),(0,ct.jsx)("span",{className:"sm:hidden",children:"Feedback"})]})}),("club pro"===(null===u||void 0===u||null===(l=u.role)||void 0===l?void 0:l.toLowerCase())||"admin"===(null===u||void 0===u||null===(i=u.role)||void 0===i?void 0:i.toLowerCase()))&&(0,ct.jsx)("div",{className:"flex flex-col gap-2 w-full sm:w-auto",children:(0,ct.jsxs)("button",{onClick:()=>p("/club-pro"),className:"bg-brand-neon-green/90 hover:bg-brand-neon-green text-brand-black rounded-full px-3 sm:px-4 py-2 border border-brand-neon-green/40 flex items-center justify-center space-x-2 shadow-sm transition-colors font-medium text-sm sm:text-base",children:[(0,ct.jsx)(gt,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,ct.jsx)("span",{className:"hidden sm:inline",children:"Club Pro Dashboard"}),(0,ct.jsx)("span",{className:"sm:hidden",children:"Club Dashboard"})]})}),"ambassador"===(null===u||void 0===u||null===(o=u.role)||void 0===o?void 0:o.toLowerCase())&&(0,ct.jsx)("div",{className:"flex flex-col gap-2 w-full sm:w-auto",children:(0,ct.jsxs)("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLSdgJYkNMW4RzG8wZFVt8zS1sfe_m8Ejtvg23OSUUggOVtQOSw/viewform",target:"_blank",rel:"noopener noreferrer",className:"bg-brand-neon-green/90 hover:bg-brand-neon-green text-brand-black rounded-full px-3 sm:px-4 py-2 border border-brand-neon-green/40 flex items-center justify-center space-x-2 shadow-sm transition-colors font-medium text-sm sm:text-base",children:[(0,ct.jsx)(Kn,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,ct.jsx)("span",{className:"hidden sm:inline",children:"Platform Feedback"}),(0,ct.jsx)("span",{className:"sm:hidden",children:"Feedback"})]})})]})}),y&&(0,ct.jsxs)("div",{className:"mt-4 sm:mt-6 pt-4 sm:pt-6 border-t border-white/20",children:[_&&(0,ct.jsx)("div",{className:"bg-red-500/20 border border-red-400/50 text-white px-3 sm:px-4 py-2 sm:py-3 rounded mb-3 sm:mb-4 text-sm sm:text-base",children:_}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-xs sm:text-sm font-medium text-white/90 mb-1 sm:mb-2",children:"First Name"}),(0,ct.jsx)("input",{type:"text",value:H.first_name,onChange:e=>W((0,Re.A)((0,Re.A)({},H),{},{first_name:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg focus:ring-2 focus:ring-white/50 focus:border-white/50 text-white placeholder-white/50 text-sm sm:text-base",placeholder:"First Name"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-xs sm:text-sm font-medium text-white/90 mb-1 sm:mb-2",children:"Last Name"}),(0,ct.jsx)("input",{type:"text",value:H.last_name,onChange:e=>W((0,Re.A)((0,Re.A)({},H),{},{last_name:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg focus:ring-2 focus:ring-white/50 focus:border-white/50 text-white placeholder-white/50 text-sm sm:text-base",placeholder:"Last Name"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-xs sm:text-sm font-medium text-white/90 mb-1 sm:mb-2",children:"Email"}),(0,ct.jsx)("input",{type:"email",value:H.email,onChange:e=>W((0,Re.A)((0,Re.A)({},H),{},{email:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg focus:ring-2 focus:ring-white/50 focus:border-white/50 text-white placeholder-white/50 text-sm sm:text-base",placeholder:"Email"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-xs sm:text-sm font-medium text-white/90 mb-1 sm:mb-2",children:"Club"}),(0,ct.jsx)("input",{type:"text",value:H.club,onChange:e=>W((0,Re.A)((0,Re.A)({},H),{},{club:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg focus:ring-2 focus:ring-white/50 focus:border-white/50 text-white placeholder-white/50",placeholder:"Club"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Official GHIN Handicap"}),(0,ct.jsx)("input",{type:"number",step:"0.1",value:H.handicap,onChange:e=>W((0,Re.A)((0,Re.A)({},H),{},{handicap:Number(e.target.value)})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg focus:ring-2 focus:ring-white/50 focus:border-white/50 text-white placeholder-white/50",placeholder:"GHIN Handicap"})]})]})]})]}),(0,ct.jsxs)("div",{className:"pb-24",children:["play"===F&&(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsx)("div",{className:"bg-gradient-to-br from-brand-neon-green to-green-400 rounded-2xl shadow-xl p-6 text-brand-black",children:(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Track a Round"}),(0,ct.jsx)("p",{className:"text-brand-black/80 text-sm",children:"Log your latest simulator round and update your handicap"})]}),(0,ct.jsx)("button",{onClick:be,className:"bg-brand-black text-brand-neon-green rounded-full p-4 hover:scale-110 transition-transform shadow-lg",children:(0,ct.jsx)(Jn,{className:"w-8 h-8"})})]})}),(0,ct.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[(0,ct.jsxs)("h2",{className:"text-2xl font-bold text-brand-black mb-6 flex items-center",children:[(0,ct.jsx)(pt,{className:"w-6 h-6 mr-3"}),"Simulator Performance"]}),S&&S.total_rounds>0?(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-8",children:[(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:S.total_rounds}),(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"Total Rounds"})]}),(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("div",{className:"text-3xl font-bold text-green-600 mb-2",children:S.unique_courses}),(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"Courses Played"})]}),(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:S.avg_differential?Number(S.avg_differential).toFixed(1):"N/A"}),(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"Avg Differential"})]}),(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:S.best_differential?Number(S.best_differential).toFixed(1):"N/A"}),(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"Best Differential"})]})]}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ct.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,ct.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ct.jsx)(pt,{className:"w-5 h-5 text-blue-600 mr-2"}),(0,ct.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Performance"})]}),S&&S.total_rounds>0?(0,ct.jsxs)("div",{className:"space-y-3",children:[(0,ct.jsxs)("div",{className:"flex justify-between",children:[(0,ct.jsx)("span",{className:"text-gray-600",children:"Avg Differential:"}),(0,ct.jsx)("span",{className:"font-semibold",children:S.avg_differential?Number(S.avg_differential).toFixed(1):"N/A"})]}),(0,ct.jsxs)("div",{className:"flex justify-between",children:[(0,ct.jsx)("span",{className:"text-gray-600",children:"Best Differential:"}),(0,ct.jsx)("span",{className:"font-semibold",children:S.best_differential?Number(S.best_differential).toFixed(1):"N/A"})]}),(0,ct.jsxs)("div",{className:"flex justify-between",children:[(0,ct.jsx)("span",{className:"text-gray-600",children:"Courses Played:"}),(0,ct.jsx)("span",{className:"font-semibold",children:S.unique_courses})]})]}):(0,ct.jsx)("p",{className:"text-gray-500 text-sm",children:"No simulator rounds yet"})]}),(0,ct.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,ct.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ct.jsx)(Qs,{className:"w-5 h-5 text-green-600 mr-2"}),(0,ct.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Activity"})]}),S&&S.total_rounds>0?(0,ct.jsxs)("div",{className:"space-y-3",children:[(0,ct.jsxs)("div",{className:"flex justify-between",children:[(0,ct.jsx)("span",{className:"text-gray-600",children:"Days Played:"}),(0,ct.jsx)("span",{className:"font-semibold",children:S.unique_dates})]}),(0,ct.jsxs)("div",{className:"flex justify-between",children:[(0,ct.jsx)("span",{className:"text-gray-600",children:"First Round:"}),(0,ct.jsx)("span",{className:"font-semibold",children:S.first_round?new Date(S.first_round).toLocaleDateString():"N/A"})]}),(0,ct.jsxs)("div",{className:"flex justify-between",children:[(0,ct.jsx)("span",{className:"text-gray-600",children:"Last Round:"}),(0,ct.jsx)("span",{className:"font-semibold",children:S.last_round?new Date(S.last_round).toLocaleDateString():"N/A"})]})]}):(0,ct.jsx)("p",{className:"text-gray-500 text-sm",children:"No activity data yet"})]})]})]}):(0,ct.jsxs)("div",{className:"text-center py-8",children:[(0,ct.jsx)(pt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,ct.jsx)("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"No Rounds Tracked Yet"}),(0,ct.jsx)("p",{className:"text-gray-600 mb-6",children:"Start tracking your simulator rounds to see your performance statistics here."}),(0,ct.jsxs)("button",{onClick:be,className:"inline-flex items-center px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg hover:bg-green-400 transition-colors font-medium",children:[(0,ct.jsx)(Jn,{className:"w-4 h-4 mr-2"}),"Track Your First Round"]})]})]})]}),"compete"===F&&(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[(0,ct.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-4",children:[(0,ct.jsxs)("h2",{className:"text-2xl font-bold text-brand-black flex items-center",children:[(0,ct.jsx)(qe,{className:"w-6 h-6 mr-3"}),"My Tournaments"]}),(0,ct.jsxs)(Te,{to:"/tournaments",className:"flex items-center justify-center px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors",children:[(0,ct.jsx)(St,{className:"w-4 h-4 mr-2"}),"Browse All"]})]}),D.length>0?(0,ct.jsx)("div",{className:"space-y-3",children:D.slice(0,5).map(e=>(0,ct.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200 hover:border-brand-neon-green transition-all",children:[(0,ct.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,ct.jsxs)("div",{className:"flex-1",children:[(0,ct.jsx)("h3",{className:"font-semibold text-brand-black",children:e.name}),(0,ct.jsxs)("div",{className:"text-sm text-gray-600 mt-1",children:[e.tournament_format," \u2022 ",e.type]})]}),(0,ct.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("active"===e.status?"bg-green-100 text-green-800":"open"===e.status?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:e.status})]}),(0,ct.jsxs)("div",{className:"flex gap-2 mt-3",children:[je(e)?(0,ct.jsx)("button",{onClick:()=>{return t=e.id,void p("/tournament-scoring?tournament=".concat(t));var t},className:"flex-1 px-3 py-2 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors text-sm",children:"Submit Score"}):e.has_submitted_score?(0,ct.jsx)("div",{className:"flex-1 px-3 py-2 bg-green-50 text-green-700 rounded-lg text-sm border border-green-200 text-center font-medium",children:"\u2713 Score Submitted"}):null,(0,ct.jsx)("button",{onClick:()=>{return t=e.id,void p("/leaderboard/tournament/".concat(t));var t},className:"flex-1 px-3 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors text-sm",children:"Leaderboard"})]})]},e.id))}):(0,ct.jsxs)("div",{className:"text-center py-12",children:[(0,ct.jsx)(qe,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,ct.jsx)("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"No Tournaments Yet"}),(0,ct.jsx)("p",{className:"text-gray-600 mb-6",children:"Browse available tournaments to join the competition!"}),(0,ct.jsxs)(Te,{to:"/tournaments",className:"inline-flex items-center px-6 py-3 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors",children:[(0,ct.jsx)(St,{className:"w-4 h-4 mr-2"}),"Browse Tournaments"]})]})]}),(0,ct.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[(0,ct.jsxs)("h2",{className:"text-2xl font-bold text-brand-black mb-4 flex items-center",children:[(0,ct.jsx)(pt,{className:"w-6 h-6 mr-3"}),"Challenges"]}),(0,ct.jsxs)("div",{className:"text-center py-8",children:[(0,ct.jsx)("div",{className:"inline-block bg-purple-100 text-purple-800 px-4 py-2 rounded-full text-sm font-medium mb-4",children:"Coming Soon"}),(0,ct.jsx)("p",{className:"text-gray-600",children:"Weekly challenges and skill competitions will appear here"})]})]})]}),"improve"===F&&(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[(0,ct.jsxs)("h2",{className:"text-2xl font-bold text-brand-black mb-6 flex items-center",children:[(0,ct.jsx)(Nt,{className:"w-6 h-6 mr-3"}),"Book a Simulator"]}),(0,ct.jsx)("div",{className:"text-center py-8",children:(0,ct.jsxs)("button",{onClick:()=>p("/booking"),className:"inline-flex items-center px-6 py-3 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors text-lg",children:[(0,ct.jsx)(Nt,{className:"w-5 h-5 mr-2"}),"Book Now"]})})]}),"admin"===(null===u||void 0===u||null===(c=u.role)||void 0===c?void 0:c.toLowerCase())&&(0,ct.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[(0,ct.jsxs)("h2",{className:"text-2xl font-bold text-brand-black mb-6 flex items-center",children:[(0,ct.jsx)(An,{className:"w-6 h-6 mr-3"}),"Practice Session",(0,ct.jsx)("span",{className:"ml-3 text-xs bg-purple-100 text-purple-800 px-3 py-1 rounded-full font-medium",children:"Admin"})]}),(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsx)("p",{className:"text-gray-600",children:"Start a practice session on a simulator to track your shots in real-time."}),(0,ct.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,ct.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-gray-500 mb-1",children:"Simulator"}),(0,ct.jsx)("p",{className:"font-medium text-gray-900",children:"NN No.5"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-gray-500 mb-1",children:"Location"}),(0,ct.jsx)("p",{className:"font-medium text-gray-900",children:"Durham, NC"})]})]})}),(0,ct.jsxs)("div",{className:"flex gap-3",children:[(0,ct.jsxs)("button",{onClick:async()=>{try{const e=await tt.Ay$.post("/sims/nn-no5/sessions",{nn_player_id:null===u||void 0===u?void 0:u.member_id,session_type:"practice"});alert("Session started successfully! All shots will now be tracked.\n\nSession ID: ".concat(e.data.session.session_uuid))}catch(s){var e,t;const a=(null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||s.message;alert("Failed to start session: ".concat(a))}},className:"flex-1 inline-flex items-center justify-center px-6 py-3 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors text-lg",children:[(0,ct.jsx)(An,{className:"w-5 h-5 mr-2"}),"Start Session"]}),(0,ct.jsxs)("button",{onClick:()=>p("/admin/shot-capture"),className:"inline-flex items-center px-6 py-3 bg-white border-2 border-brand-dark-green text-brand-dark-green rounded-lg font-medium hover:bg-gray-50 transition-colors text-lg",children:[(0,ct.jsx)(ft,{className:"w-5 h-5 mr-2"}),"Monitor"]})]})]})]}),(0,ct.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[(0,ct.jsxs)("h2",{className:"text-2xl font-bold text-brand-black mb-4 flex items-center",children:[(0,ct.jsx)(gt,{className:"w-6 h-6 mr-3"}),"Shot Performance"]}),B?(0,ct.jsxs)("div",{className:"text-center py-12",children:[(0,ct.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-neon-green mx-auto"}),(0,ct.jsx)("p",{className:"text-gray-600 mt-4",children:"Loading shot data..."})]}):I&&I.overall.total_shots>0?(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsx)("div",{className:"bg-gradient-to-r from-brand-dark-green to-brand-neon-green rounded-xl p-4 text-white",children:(0,ct.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("div",{className:"text-2xl font-bold",children:I.overall.total_shots}),(0,ct.jsx)("div",{className:"text-xs opacity-90",children:"Total Shots"})]}),(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("div",{className:"text-2xl font-bold",children:I.overall.total_sessions||0}),(0,ct.jsx)("div",{className:"text-xs opacity-90",children:"Sessions"})]}),(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("div",{className:"text-2xl font-bold",children:I.by_club.length}),(0,ct.jsx)("div",{className:"text-xs opacity-90",children:"Clubs"})]})]})}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h3",{className:"font-semibold text-brand-black mb-3",children:"By Club"}),(0,ct.jsx)("div",{className:"space-y-3",children:I.by_club.map(e=>(0,ct.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)("div",{className:"w-10 h-10 bg-brand-neon-green rounded-lg flex items-center justify-center",children:(0,ct.jsx)(pt,{className:"w-5 h-5 text-brand-dark-green"})}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("div",{className:"font-semibold text-brand-black",children:e.club}),(0,ct.jsxs)("div",{className:"text-xs text-gray-500",children:[e.shot_count," shots"]})]})]}),(0,ct.jsxs)("div",{className:"text-right",children:[(0,ct.jsx)("div",{className:"text-lg font-bold text-brand-dark-green",children:e.avg_carry?"".concat(Math.round(e.avg_carry),"y"):"-"}),(0,ct.jsx)("div",{className:"text-xs text-gray-500",children:"avg carry"})]})]}),(0,ct.jsxs)("div",{className:"grid grid-cols-3 gap-3 pt-3 border-t border-gray-200",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Ball Speed"}),(0,ct.jsx)("div",{className:"font-semibold text-sm",children:e.avg_ball_speed?"".concat(e.avg_ball_speed," mph"):"-"}),(0,ct.jsxs)("div",{className:"text-xs text-gray-400",children:["max: ",e.max_ball_speed||"-"]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Smash"}),(0,ct.jsx)("div",{className:"font-semibold text-sm",children:e.avg_smash_factor||"-"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Launch"}),(0,ct.jsx)("div",{className:"font-semibold text-sm",children:e.avg_launch_angle?"".concat(e.avg_launch_angle,"\xb0"):"-"})]})]})]},e.club))})]})]}):(0,ct.jsxs)("div",{className:"text-center py-12",children:[(0,ct.jsx)("div",{className:"inline-block bg-gray-100 text-gray-600 px-4 py-2 rounded-full text-sm font-medium mb-4",children:"No Data Yet"}),(0,ct.jsx)("p",{className:"text-gray-600 mb-4",children:"Start hitting shots on the simulator to see your performance stats here"}),"admin"===(null===u||void 0===u||null===(d=u.role)||void 0===d?void 0:d.toLowerCase())&&(0,ct.jsxs)("button",{onClick:()=>p("/admin/shot-capture"),className:"inline-flex items-center px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors",children:[(0,ct.jsx)(ft,{className:"w-4 h-4 mr-2"}),"View Shot Capture System"]})]})]})]})]}),(0,ct.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-lg z-40 safe-area-bottom",children:(0,ct.jsx)("div",{className:"max-w-md mx-auto px-6 py-3",children:(0,ct.jsxs)("div",{className:"flex items-center justify-around",children:[(0,ct.jsxs)("button",{onClick:()=>O("play"),className:"flex flex-col items-center space-y-1 transition-colors ".concat("play"===F?"text-brand-neon-green":"text-gray-500 hover:text-gray-700"),children:[(0,ct.jsx)(Jn,{className:"w-6 h-6 ".concat("play"===F?"fill-current":"")}),(0,ct.jsx)("span",{className:"text-xs font-medium",children:"Play"})]}),(0,ct.jsxs)("button",{onClick:()=>O("compete"),className:"flex flex-col items-center space-y-1 transition-colors ".concat("compete"===F?"text-brand-neon-green":"text-gray-500 hover:text-gray-700"),children:[(0,ct.jsx)(qe,{className:"w-6 h-6 ".concat("compete"===F?"fill-current":"")}),(0,ct.jsx)("span",{className:"text-xs font-medium",children:"Compete"})]}),(0,ct.jsxs)("button",{onClick:()=>O("improve"),className:"flex flex-col items-center space-y-1 transition-colors ".concat("improve"===F?"text-brand-neon-green":"text-gray-500 hover:text-gray-700"),children:[(0,ct.jsx)(Xe,{className:"w-6 h-6 ".concat("improve"===F?"fill-current":"")}),(0,ct.jsx)("span",{className:"text-xs font-medium",children:"Improve"})]})]})})}),(0,ct.jsx)(el,{isOpen:q,onClose:()=>V(!1),onSelectRoundType:(e,t,s,a,r)=>function(e,t,s){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4?arguments[4]:void 0;console.log("handleSelectRoundType called with:",{roundType:e,holes:t,course:s,nineType:a,teeboxData:r}),Q("stroke"),J(e),ee(t),re(a),V(!1),Y(!0),se(s),r?(console.log("Setting teebox data:",r),se(e=>(0,Re.A)((0,Re.A)({},e),{},{teeboxData:r}))):console.log("No teebox data provided")}(e,t,s,a,r)}),G&&te&&"stroke"===$&&(0,ct.jsx)(ol,{onClose:()=>{Y(!1),se(null)},course:te,onSave:ye,holes:X||18,nineType:ae}),G&&te&&"stroke"!==$&&(0,ct.jsx)(il,{onClose:()=>{Y(!1),se(null)},course:te,onSave:ye,holes:X||18,nineType:ae})]})},ml=We("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),xl=e=>{let{isOpen:t,onClose:s,course:r}=e;const{user:n}=mt(),[l,i]=(0,a.useState)("par"),[o,c]=(0,a.useState)([]),[d,u]=(0,a.useState)([]),[m,x]=(0,a.useState)([]),[h,p]=(0,a.useState)(!1),[g,f]=(0,a.useState)(!1),[b,v]=(0,a.useState)(null),[y,j]=(0,a.useState)(null),[N,w]=(0,a.useState)({}),[_,k]=(0,a.useState)(new Set),[S,C]=(0,a.useState)(new Set),A=["Black","Blue","White","Green","Yellow","Red","Junior","PAR3"],E={Black:"bg-gray-800 text-white border-gray-700",Blue:"bg-blue-200 text-blue-900 border-blue-300",White:"bg-white text-gray-900 border-gray-300",Green:"bg-green-200 text-green-900 border-green-300",Yellow:"bg-yellow-200 text-yellow-900 border-yellow-300",Red:"bg-red-200 text-red-900 border-red-300",Junior:"bg-cyan-200 text-cyan-900 border-cyan-300",PAR3:"bg-purple-200 text-purple-900 border-purple-300"};(0,a.useEffect)(()=>{t&&r&&T()},[t,r]);const T=async()=>{if(r){p(!0),v(null);try{r.par_values?c([...r.par_values]):c([4,3,4,5,4,3,4,4,4,4,3,4,5,4,3,4,4,4]),r.hole_indexes?u([...r.hole_indexes]):u([1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18]);const e=(await(0,tt.Dfr)(r.id)).data.teeboxData||[];x(e);const t={};A.forEach(s=>{const a=e.find(e=>e.teebox===s);t[s]={rating:a?a.course_rating.toString():"",slope:a?a.course_slope.toString():""}}),w(t)}catch(e){console.error("Error loading course data:",e),v("Failed to load course data")}finally{p(!1)}}},P=(e,t,s)=>{w(a=>(0,Re.A)((0,Re.A)({},a),{},{[e]:(0,Re.A)((0,Re.A)({},a[e]),{},{[t]:s})}))},D=()=>{var e;if(!n)return!1;const t=null===(e=n.role)||void 0===e?void 0:e.toLowerCase();return"admin"===t||"ambassador"===t||"club pro"===t};return t&&r?(0,ct.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ct.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Edit Course"}),(0,ct.jsx)("p",{className:"text-sm text-gray-600",children:r.name})]}),(0,ct.jsx)("button",{onClick:()=>{i("par"),c([]),u([]),x([]),w({}),k(new Set),C(new Set),v(null),j(null),s()},className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,ct.jsx)(Qe,{className:"w-6 h-6"})})]}),(0,ct.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:h?(0,ct.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,ct.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"}),(0,ct.jsx)("span",{className:"ml-3 text-gray-600",children:"Loading course data..."})]}):(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsxs)("div",{className:"flex space-x-1 mb-6 bg-gray-100 rounded-lg p-1",children:[(0,ct.jsxs)("button",{onClick:()=>i("par"),className:"flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ".concat("par"===l?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[(0,ct.jsx)(pt,{className:"w-4 h-4 inline mr-2"}),"Par Values"]}),(0,ct.jsxs)("button",{onClick:()=>i("holeindex"),className:"flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ".concat("holeindex"===l?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[(0,ct.jsx)(ar,{className:"w-4 h-4 inline mr-2"}),"Hole Indexes"]}),(0,ct.jsxs)("button",{onClick:()=>i("teebox"),className:"flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ".concat("teebox"===l?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[(0,ct.jsx)(En,{className:"w-4 h-4 inline mr-2"}),"Teeboxes"]})]}),b&&(0,ct.jsxs)("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center",children:[(0,ct.jsx)(lr,{className:"w-5 h-5 text-red-600 mr-3"}),(0,ct.jsx)("span",{className:"text-red-800",children:b})]}),y&&(0,ct.jsxs)("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg flex items-center",children:[(0,ct.jsx)(Ks,{className:"w-5 h-5 text-green-600 mr-3"}),(0,ct.jsx)("span",{className:"text-green-800",children:y})]}),"par"===l&&(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("div",{className:"mb-4",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Par Values"}),(0,ct.jsx)("p",{className:"text-sm text-gray-600",children:"Set the par value for each hole. This affects handicap calculations."})]}),(0,ct.jsx)("div",{className:"grid grid-cols-6 md:grid-cols-9 lg:grid-cols-18 gap-2 mb-6",children:o.map((e,t)=>(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsxs)("label",{className:"block text-xs text-gray-600 mb-1",children:["Hole ",t+1]}),(0,ct.jsx)("input",{type:"number",min:"3",max:"6",value:e,onChange:e=>{const s=[...o];s[t]=parseInt(e.target.value)||4,c(s)},disabled:!D(),className:"w-full px-2 py-1 text-center border rounded focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent ".concat(D()?"border-gray-300":"border-gray-200 bg-gray-100 text-gray-600 cursor-not-allowed")})]},t))}),D()&&(0,ct.jsx)("div",{className:"flex justify-end",children:(0,ct.jsxs)("button",{onClick:async()=>{if(r){f(!0),v(null),j(null);try{await(0,tt.Qso)(r.id,o),j("Par values updated successfully"),setTimeout(()=>j(null),3e3)}catch(e){console.error("Error saving par values:",e),v("Failed to save par values")}finally{f(!1)}}},disabled:g,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[g?(0,ct.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):(0,ct.jsx)(Yt,{className:"w-4 h-4 mr-2"}),"Save Par Values"]})})]}),"holeindex"===l&&(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("div",{className:"mb-4",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Hole Indexes"}),(0,ct.jsx)("p",{className:"text-sm text-gray-600",children:"Set the handicap index for each hole. This determines which holes receive handicap strokes during match play."})]}),(0,ct.jsx)("div",{className:"grid grid-cols-6 md:grid-cols-9 lg:grid-cols-18 gap-2 mb-6",children:d.map((e,t)=>(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsxs)("label",{className:"block text-xs text-gray-600 mb-1",children:["Hole ",t+1]}),(0,ct.jsx)("input",{type:"number",min:"1",max:"18",value:e,onChange:e=>{const s=[...d];s[t]=parseInt(e.target.value)||1,u(s)},disabled:!D(),className:"w-full px-2 py-1 text-center border rounded focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent ".concat(D()?"border-gray-300":"border-gray-200 bg-gray-100 text-gray-600 cursor-not-allowed")})]},t))}),D()&&(0,ct.jsx)("div",{className:"flex justify-end",children:(0,ct.jsxs)("button",{onClick:async()=>{if(r){f(!0),v(null),j(null);try{await(0,tt.hMd)(r.id,d),j("Hole indexes updated successfully"),setTimeout(()=>j(null),3e3)}catch(e){console.error("Error saving hole indexes:",e),v("Failed to save hole indexes")}finally{f(!1)}}},disabled:g,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[g?(0,ct.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):(0,ct.jsx)(Yt,{className:"w-4 h-4 mr-2"}),"Save Hole Indexes"]})})]}),"teebox"===l&&(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("div",{className:"mb-4",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Teeboxes"}),(0,ct.jsx)("p",{className:"text-sm text-gray-600",children:"Set course rating and slope for each teebox. Leave fields empty for teeboxes you don't want to configure."})]}),(0,ct.jsx)("div",{className:"mb-6",children:(0,ct.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:A.map(e=>{const t=m.find(t=>t.teebox===e),s=N[e]||{rating:"",slope:""},a=s.rating&&s.slope,r=S.has(e);return(0,ct.jsxs)("div",{className:"p-4 rounded-lg border-2 relative ".concat(r?"bg-gray-100 border-gray-300 opacity-60":t?E[e]||"bg-green-50 border-green-200":a?"bg-blue-50 border-blue-200":"bg-gray-50 border-gray-200"),children:[t&&!r&&D()&&(0,ct.jsx)("button",{onClick:()=>(e=>{if(_.has(e)){const t=m.find(t=>t.teebox===e);t&&w(s=>(0,Re.A)((0,Re.A)({},s),{},{[e]:{rating:t.course_rating.toString(),slope:t.course_slope.toString()}})),k(t=>{const s=new Set(t);return s.delete(e),s})}else k(t=>{const s=new Set(t);return s.add(e),s})})(e),className:"absolute top-2 right-2 p-1 rounded-full transition-colors ".concat(_.has(e)?"bg-red-100 text-red-600 hover:bg-red-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"),title:_.has(e)?"Cancel Edit":"Edit Teebox",children:_.has(e)?(0,ct.jsx)(Qe,{className:"w-3 h-3"}):(0,ct.jsx)(ml,{className:"w-3 h-3"})}),!t&&D()&&(0,ct.jsx)("button",{onClick:()=>{return t=e,void(S.has(t)?(C(e=>{const s=new Set(e);return s.delete(t),s}),w(e=>{const s=(0,Re.A)({},e);return delete s[t],s})):(C(e=>{const s=new Set(e);return s.add(t),s}),w(e=>{const s=(0,Re.A)({},e);return delete s[t],s})));var t},className:"absolute top-2 right-2 p-1 rounded-full transition-colors ".concat(r?"bg-red-100 text-red-600 hover:bg-red-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"),title:r?"Mark as Available":"Mark as Not Available",children:(0,ct.jsx)(Qe,{className:"w-3 h-3"})}),(0,ct.jsxs)("div",{className:"font-medium text-center mb-3 text-gray-900",children:[e,r&&(0,ct.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Not available"}),!r&&t&&(0,ct.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Used ",t.usage_count," times"]}),!r&&!t&&a&&(0,ct.jsx)("div",{className:"text-xs text-blue-600 mt-1",children:"New teebox"}),!r&&!t&&!a&&(0,ct.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:"No data"})]}),r?(0,ct.jsx)("div",{className:"space-y-2",children:(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("div",{className:"text-lg font-semibold text-gray-500",children:"Not Available"}),(0,ct.jsx)("div",{className:"text-xs text-gray-400",children:"This teebox doesn't exist at this course"})]})}):t&&!_.has(e)?(0,ct.jsx)("div",{className:"space-y-2",children:(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsxs)("div",{className:"text-lg font-semibold text-gray-900",children:[t.course_rating,"/",t.course_slope]}),(0,ct.jsx)("div",{className:"text-xs text-gray-500",children:"Current Rating/Slope"})]})}):(0,ct.jsxs)("div",{className:"space-y-3",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Course Rating"}),(0,ct.jsx)("input",{type:"number",step:"0.1",min:"60",max:"80",value:s.rating,onChange:t=>P(e,"rating",t.target.value),placeholder:"72.0",disabled:!D(),className:"w-full px-2 py-1 text-sm border rounded focus:outline-none focus:ring-2 focus:ring-green-500 ".concat(D()?"border-gray-300":"border-gray-200 bg-gray-100 text-gray-600 cursor-not-allowed")})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Course Slope"}),(0,ct.jsx)("input",{type:"number",step:"0.1",min:"55",max:"155",value:s.slope,onChange:t=>P(e,"slope",t.target.value),placeholder:"113",disabled:!D(),className:"w-full px-2 py-1 text-sm border rounded focus:outline-none focus:ring-2 focus:ring-green-500 ".concat(D()?"border-gray-300":"border-gray-200 bg-gray-100 text-gray-600 cursor-not-allowed")})]})]}),t&&_.has(e)&&s.rating&&s.slope&&(s.rating!==t.course_rating.toString()||s.slope!==t.course_slope.toString())&&(0,ct.jsxs)("div",{className:"mt-2 text-xs text-blue-600 text-center",children:["\u2192 New: ",s.rating,"/",s.slope]}),!t&&a&&(0,ct.jsxs)("div",{className:"mt-2 text-xs text-blue-600 text-center",children:["New teebox: ",s.rating,"/",s.slope]})]},e)})})}),(0,ct.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:(()=>{const e=(()=>{let e=0,t=0,s=0,a=0;return A.forEach(r=>{const n=m.find(e=>e.teebox===r),l=N[r]||{rating:"",slope:""};S.has(r)?a++:l.rating&&l.slope&&(n?l.rating!==n.course_rating.toString()||l.slope!==n.course_slope.toString()?s++:e++:t++)}),{existingCount:e,newCount:t,modifiedCount:s,unavailableCount:a}})(),t={editingCount:_.size,totalExisting:m.length},s=e.existingCount+e.newCount+e.modifiedCount,a=[];e.newCount>0&&a.push("".concat(e.newCount," new")),e.modifiedCount>0&&a.push("".concat(e.modifiedCount," modified")),e.existingCount>0&&a.push("".concat(e.existingCount," unchanged")),e.unavailableCount>0&&a.push("".concat(e.unavailableCount," unavailable"));let r="".concat(s," of ").concat(A.length," teeboxes configured (").concat(a.join(", "),")");return t.editingCount>0&&(r+=" \u2022 ".concat(t.editingCount," being edited")),r})()}),D()?(0,ct.jsxs)("div",{className:"flex space-x-2",children:[(0,ct.jsx)("button",{onClick:()=>{window.confirm("Are you sure you want to clear all teebox inputs?")&&(w({}),C(new Set))},className:"px-4 py-2 text-gray-600 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"Clear All"}),(0,ct.jsxs)("button",{onClick:async()=>{if(!r)return;const e=[];for(const[s,a]of Object.entries(N))if(a.rating&&a.slope){const t=parseFloat(a.rating),r=parseFloat(a.slope);if(t<60||t>80)return void v("Course rating for ".concat(s," must be between 60 and 80"));if(r<55||r>155)return void v("Course slope for ".concat(s," must be between 55 and 155"));e.push({teebox:s,rating:t,slope:r})}if(0!==e.length){f(!0),v(null),j(null);try{for(const{teebox:s,rating:a,slope:n}of e)await(0,tt.Cvj)(r.id,s,a,n);const t=await(0,tt.Dfr)(r.id);x(t.data.teeboxData||[]),j("Successfully saved ".concat(e.length," teebox").concat(e.length>1?"es":"")),setTimeout(()=>j(null),3e3)}catch(t){console.error("Error saving teeboxes:",t),v("Failed to save teebox data")}finally{f(!1)}}else v("Please fill in at least one teebox with rating and slope")},disabled:g||0===Object.values(N).filter(e=>e.rating&&e.slope).length,className:"flex items-center px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:[g?(0,ct.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):(0,ct.jsx)(Yt,{className:"w-4 h-4 mr-2"}),"Save All Teeboxes"]})]}):(0,ct.jsx)("div",{className:"text-sm text-gray-500 text-center",children:"Only Club Pro, Admin, and Ambassador users can edit course data"})]}),(0,ct.jsx)("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,ct.jsxs)("div",{className:"flex items-start",children:[(0,ct.jsx)(ar,{className:"w-5 h-5 text-blue-600 mr-3 mt-0.5 flex-shrink-0"}),(0,ct.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,ct.jsx)("p",{className:"font-medium mb-1",children:"Need help finding ratings?"}),(0,ct.jsx)("p",{className:"mb-2",children:"Course rating and slope values can be found on the course's official scorecard or through golf course databases."}),(0,ct.jsx)("a",{href:"https://simulatorgolftour.com/courses",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 font-medium underline",children:"Visit SGT Course Database \u2192"})]})]})})]})]})})]})}):null},hl=()=>{const{user:e}=mt(),[t,s]=(0,a.useState)([]),[r,n]=(0,a.useState)(null),[l,i]=(0,a.useState)(!0),[o,c]=(0,a.useState)(""),[d,u]=(0,a.useState)("all"),[m,x]=(0,a.useState)(""),[h,p]=(0,a.useState)(""),[g,f]=(0,a.useState)(""),[b,v]=(0,a.useState)(""),[y,j]=(0,a.useState)(1),[N,w]=(0,a.useState)(1),[_,k]=(0,a.useState)(0),[S,C]=(0,a.useState)(!0),[A,E]=(0,a.useState)([]),[T,P]=(0,a.useState)([]),[D,M]=(0,a.useState)([]),[R,L]=(0,a.useState)(!1),[F,O]=(0,a.useState)(!1),[I,z]=(0,a.useState)(!1),[B,U]=(0,a.useState)(null),H=[{key:"par3",label:"Par 3",icon:"\ud83c\udfcc\ufe0f"},{key:"beginner",label:"Beginner",icon:"\ud83c\udfaf"},{key:"coastal",label:"Coastal",icon:"\ud83c\udf0a"},{key:"desert",label:"Desert",icon:"\ud83c\udfdc\ufe0f"},{key:"fantasy",label:"Fantasy",icon:"\u2728"},{key:"heathland",label:"Heathland",icon:"\ud83c\udf3f"},{key:"historic",label:"Historic",icon:"\ud83c\udfdb\ufe0f"},{key:"links",label:"Links",icon:"\ud83c\udfd6\ufe0f"},{key:"major_venue",label:"Major Venue",icon:"\ud83c\udfc6"},{key:"mountain",label:"Mountain",icon:"\u26f0\ufe0f"},{key:"parkland",label:"Parkland",icon:"\ud83c\udf33"},{key:"tour_stop",label:"Tour Stop",icon:"\ud83c\udfaa"},{key:"training",label:"Training",icon:"\ud83c\udf93"},{key:"tropical",label:"Tropical",icon:"\ud83c\udf34"}];(0,a.useEffect)(()=>{W(),q()},[]),(0,a.useEffect)(()=>{const e=setTimeout(()=>{V()},300);return()=>clearTimeout(e)},[o,d,m,h,g,b,y]);const W=async()=>{try{C(!0);const e=await tt.Ay$.get("/simulator-courses/stats");console.log("Stats response:",e.data),n(e.data)}catch(e){console.error("Error fetching stats:",e);try{const e=await tt.Ay$.get("/simulator-courses?limit=1");e.data&&e.data.total&&n({total_courses:e.data.total,gspro_courses:0,trackman_courses:0,shared_courses:0,unique_gspro:0,unique_trackman:0})}catch(t){console.error("Fallback stats fetch also failed:",t)}}finally{C(!1)}},q=async()=>{try{const e=(await tt.Ay$.get("/gspro-courses/filters")).data;E(e.servers||[]),P(e.designers||[]),M(e.locations||[])}catch(e){console.error("Error fetching filters:",e)}},V=async()=>{O(!0);try{const e=new URLSearchParams({limit:24..toString(),offset:(24*(y-1)).toString()});o&&e.append("search",o),"all"!==d&&("both"===d?e.append("platform","shared"):e.append("platform",d)),m&&e.append("server",m),h&&e.append("designer",h),g&&e.append("location",g),b&&e.append("courseType",b);const t=(await tt.Ay$.get("/simulator-courses?".concat(e))).data;s(t.courses),k(t.total),w(t.totalPages)}catch(e){console.error("Error fetching courses:",e)}finally{i(!1),O(!1)}},G=()=>{c(""),u("all"),x(""),p(""),f(""),v(""),j(1)},Y=()=>"all"===d||"gspro"===d||"both"===d,$=()=>{let e=0;return"all"!==d&&e++,m&&e++,h&&e++,g&&e++,b&&e++,e},Q=e=>"GSPro"===e?"\ud83c\udfae":"\ud83d\udcca";return l&&0===t.length?(0,ct.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 py-8",children:(0,ct.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-green-600 border-t-transparent mx-auto"}),(0,ct.jsx)("p",{className:"mt-6 text-lg text-gray-600",children:"Loading simulator courses..."}),(0,ct.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Discovering amazing golf courses"})]})})}):(0,ct.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 py-4 sm:py-8",children:(0,ct.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,ct.jsxs)("div",{className:"mb-6 sm:mb-8 text-center",children:[(0,ct.jsx)("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-gray-900 mb-2 sm:mb-3",children:"Simulator Courses"}),(0,ct.jsx)("p",{className:"text-base sm:text-lg text-gray-600 max-w-2xl mx-auto px-4",children:S?"Loading course statistics...":r?"Explore ".concat(r.total_courses.toLocaleString()," golf courses available on GSPro and Trackman simulators"):"Course statistics unavailable"})]}),S?(0,ct.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[1,2,3,4].map(e=>(0,ct.jsxs)("div",{className:"p-3 sm:p-6 rounded-xl bg-white shadow-md animate-pulse",children:[(0,ct.jsx)("div",{className:"h-8 bg-gray-200 rounded mb-2"}),(0,ct.jsx)("div",{className:"h-4 bg-gray-200 rounded"})]},e))}):r?(0,ct.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[(0,ct.jsxs)("div",{className:"relative p-3 sm:p-6 rounded-xl cursor-pointer stats-card ".concat("all"===d?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-lg active":"bg-white text-gray-700 shadow-md hover:shadow-lg"),onClick:()=>u("all"),children:[(0,ct.jsx)("div",{className:"text-lg sm:text-2xl md:text-3xl font-bold",children:r.total_courses.toLocaleString()}),(0,ct.jsx)("div",{className:"text-xs sm:text-sm opacity-90",children:"All Courses"}),"all"===d&&(0,ct.jsx)("div",{className:"absolute top-2 right-2 w-3 h-3 bg-white rounded-full"})]}),(0,ct.jsxs)("div",{className:"relative p-3 sm:p-6 rounded-xl cursor-pointer stats-card ".concat("gspro"===d?"bg-gradient-to-r from-green-500 to-green-600 text-white shadow-lg active":"bg-white text-gray-700 shadow-md hover:shadow-lg"),onClick:()=>u("gspro"),children:[(0,ct.jsx)("div",{className:"text-lg sm:text-2xl md:text-3xl font-bold",children:r.gspro_courses.toLocaleString()}),(0,ct.jsx)("div",{className:"text-xs sm:text-sm opacity-90",children:"GSPro"}),"gspro"===d&&(0,ct.jsx)("div",{className:"absolute top-2 right-2 w-3 h-3 bg-white rounded-full"})]}),(0,ct.jsxs)("div",{className:"relative p-3 sm:p-6 rounded-xl cursor-pointer stats-card ".concat("trackman"===d?"bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-lg active":"bg-white text-gray-700 shadow-md hover:shadow-lg"),onClick:()=>u("trackman"),children:[(0,ct.jsx)("div",{className:"text-lg sm:text-2xl md:text-3xl font-bold",children:r.trackman_courses.toLocaleString()}),(0,ct.jsx)("div",{className:"text-xs sm:text-sm opacity-90",children:"Trackman"}),"trackman"===d&&(0,ct.jsx)("div",{className:"absolute top-2 right-2 w-3 h-3 bg-white rounded-full"})]}),(0,ct.jsxs)("div",{className:"relative p-3 sm:p-6 rounded-xl cursor-pointer stats-card ".concat("both"===d?"bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-lg active":"bg-white text-gray-700 shadow-md hover:shadow-lg"),onClick:()=>u("both"),children:[(0,ct.jsx)("div",{className:"text-lg sm:text-2xl md:text-3xl font-bold",children:r.shared_courses.toLocaleString()}),(0,ct.jsx)("div",{className:"text-xs sm:text-sm opacity-90",children:"Both"}),"both"===d&&(0,ct.jsx)("div",{className:"absolute top-2 right-2 w-3 h-3 bg-white rounded-full"})]})]}):null,(0,ct.jsxs)("div",{className:"bg-white rounded-xl shadow-lg mb-6 sm:mb-8 overflow-hidden",children:[(0,ct.jsx)("div",{className:"p-4 sm:p-6 border-b border-gray-100",children:(0,ct.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center space-y-3 sm:space-y-0 sm:space-x-4",children:[(0,ct.jsxs)("div",{className:"flex-1 relative",children:[(0,ct.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,ct.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ct.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,ct.jsx)("input",{type:"text",value:o,onChange:e=>c(e.target.value),placeholder:"Search courses by name, location, or designer...",className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent focus-ring"})]}),(0,ct.jsxs)("div",{className:"flex space-x-2",children:[(0,ct.jsx)("button",{onClick:()=>L(!R),className:"flex-1 sm:flex-none px-3 sm:px-4 py-3 rounded-lg font-medium transition-colors focus-ring btn-hover-effect ".concat(R?"bg-green-100 text-green-700 border border-green-200":"bg-gray-100 text-gray-700 border border-gray-200 hover:bg-gray-200"),children:(0,ct.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,ct.jsx)("svg",{className:"h-4 w-4 sm:h-5 sm:w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ct.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),(0,ct.jsx)("span",{className:"hidden sm:inline",children:"Filters"}),(0,ct.jsx)("span",{className:"sm:hidden",children:"Filter"}),$()>0&&(0,ct.jsx)("span",{className:"bg-red-500 text-white text-xs rounded-full px-1.5 sm:px-2 py-0.5 sm:py-1 min-w-[16px] sm:min-w-[20px]",children:$()})]})}),(0,ct.jsx)("button",{onClick:G,className:"px-3 sm:px-4 py-3 text-gray-600 bg-gray-100 border border-gray-200 rounded-lg hover:bg-gray-200 transition-colors focus-ring btn-hover-effect",children:"Clear"})]})]})}),R&&(0,ct.jsx)("div",{className:"p-4 sm:p-6 bg-gray-50",children:(0,ct.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[Y()&&(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Server"}),(0,ct.jsxs)("select",{value:m,onChange:e=>x(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[(0,ct.jsx)("option",{value:"",children:"All Servers"}),A.map(e=>(0,ct.jsx)("option",{value:e,children:e},e))]})]}),Y()&&(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Designer"}),(0,ct.jsxs)("select",{value:h,onChange:e=>p(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[(0,ct.jsx)("option",{value:"",children:"All Designers"}),T.slice(0,50).map(e=>(0,ct.jsx)("option",{value:e,children:e},e))]})]}),Y()&&(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),(0,ct.jsxs)("select",{value:g,onChange:e=>f(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[(0,ct.jsx)("option",{value:"",children:"All Locations"}),D.slice(0,50).map(e=>(0,ct.jsx)("option",{value:e,children:e},e))]})]}),Y()&&(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course Type"}),(0,ct.jsxs)("select",{value:b,onChange:e=>v(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[(0,ct.jsx)("option",{value:"",children:"All Types"}),H.map(e=>(0,ct.jsxs)("option",{value:e.key,children:[e.icon," ",e.label]},e.key))]})]})]})}),(0,ct.jsx)("div",{className:"px-4 sm:px-6 py-3 sm:py-4 bg-gray-50 border-t border-gray-100",children:(0,ct.jsx)("div",{className:"flex justify-between items-center",children:(0,ct.jsx)("div",{className:"text-xs sm:text-sm text-gray-600",children:F?(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsx)("div",{className:"animate-spin rounded-full h-3 w-3 sm:h-4 sm:w-4 border-2 border-green-500 border-t-transparent"}),(0,ct.jsx)("span",{children:"Searching..."})]}):(0,ct.jsxs)("span",{children:["Showing ",t.length," of ",_.toLocaleString()," courses",o&&' matching "'.concat(o,'"')]})})})})]}),F?(0,ct.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:Array.from({length:8},(e,t)=>(0,ct.jsx)("div",{className:"bg-white rounded-xl shadow-md overflow-hidden animate-pulse skeleton-pulse",children:(0,ct.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,ct.jsx)("div",{className:"h-6 bg-gray-200 rounded mb-4"}),(0,ct.jsxs)("div",{className:"space-y-2",children:[(0,ct.jsx)("div",{className:"h-4 bg-gray-200 rounded"}),(0,ct.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]})]})},t))}):(0,ct.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(t=>(0,ct.jsx)("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl course-card overflow-hidden group fade-in",children:(0,ct.jsxs)("div",{className:"p-6",children:[(0,ct.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-2 group-hover:text-green-600 transition-colors",children:t.name}),(0,ct.jsx)("div",{className:"flex flex-col gap-1 ml-2",children:t.platforms.map(e=>(0,ct.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium platform-badge ".concat("GSPro"===e?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"),children:[(0,ct.jsx)("span",{className:"mr-1",children:Q(e)}),e]},e))})]}),(0,ct.jsxs)("div",{className:"space-y-3 text-sm text-gray-600",children:[t.location&&(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsxs)("svg",{className:"h-4 w-4 text-gray-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,ct.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,ct.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,ct.jsx)("span",{className:"truncate",children:t.location})]}),t.designer&&(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)("svg",{className:"h-4 w-4 text-gray-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ct.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),(0,ct.jsx)("span",{className:"truncate",children:t.designer})]}),t.elevation&&(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)("svg",{className:"h-4 w-4 text-gray-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ct.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})}),(0,ct.jsxs)("span",{children:[t.elevation.toLocaleString()," ft"]})]})]}),t.course_types&&t.course_types.length>0&&(0,ct.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-100",children:(0,ct.jsxs)("div",{className:"flex flex-wrap gap-1",children:[t.course_types.slice(0,3).map((e,t)=>{const s=H.find(t=>t.key===e.replace(" ","_"));return(0,ct.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[(null===s||void 0===s?void 0:s.icon)&&(0,ct.jsx)("span",{className:"mr-1",children:s.icon}),e]},t)}),t.course_types.length>3&&(0,ct.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:["+",t.course_types.length-3," more"]})]})}),it(e)&&(0,ct.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-100",children:(0,ct.jsxs)("button",{onClick:()=>(e=>{U(e),z(!0)})(t),className:"w-full flex items-center justify-center px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium",children:[(0,ct.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ct.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit Course"]})})]})},t.id))}),N>1&&(0,ct.jsx)("div",{className:"mt-8 flex justify-center",children:(0,ct.jsxs)("nav",{className:"flex items-center space-x-2 bg-white rounded-lg shadow-md p-2",children:[(0,ct.jsx)("button",{onClick:()=>j(Math.max(1,y-1)),disabled:1===y,className:"px-4 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors focus-ring",children:"Previous"}),Array.from({length:Math.min(5,N)},(e,t)=>{const s=Math.max(1,Math.min(N-4,y-2))+t;return(0,ct.jsx)("button",{onClick:()=>j(s),className:"px-4 py-2 text-sm font-medium rounded-md transition-colors focus-ring ".concat(y===s?"bg-green-600 text-white":"text-gray-500 bg-white border border-gray-300 hover:bg-gray-50"),children:s},s)}),(0,ct.jsx)("button",{onClick:()=>j(Math.min(N,y+1)),disabled:y===N,className:"px-4 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors focus-ring",children:"Next"})]})}),0===t.length&&!l&&!F&&(0,ct.jsxs)("div",{className:"text-center py-16",children:[(0,ct.jsx)("div",{className:"w-24 h-24 mx-auto mb-6 bg-gray-100 rounded-full flex items-center justify-center",children:(0,ct.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ct.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 12h6m-6-4h6m2 5.291A7.962 7.962 0 0112 15c-2.34 0-4.47-.881-6.08-2.33"})})}),(0,ct.jsx)("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"No courses found"}),(0,ct.jsx)("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Try adjusting your search terms or filters to find what you're looking for."}),(0,ct.jsx)("button",{onClick:G,className:"px-6 py-3 text-sm font-medium text-green-600 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 transition-colors",children:"Clear all filters"})]}),(0,ct.jsx)(xl,{isOpen:I,onClose:()=>{z(!1),U(null)},course:B})]})})},pl=We("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),gl=e=>{let{isOpen:t,onClose:s,onUserAdded:r}=e;const[n,l]=(0,a.useState)({member_id:"",first_name:"",last_name:"",email_address:"",club:"",role:"Member",handicap:"0"}),[i,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)({}),[u,m]=(0,a.useState)([]),[x,h]=(0,a.useState)(!1);(0,a.useEffect)(()=>{t&&p()},[t]);const p=async()=>{try{h(!0);const e=(await tt.Ay$.get("/clubs")).data.filter(e=>e.is_active);m(e)}catch(e){console.error("Error fetching clubs:",e),_s.error("Failed to load clubs")}finally{h(!1)}},g=()=>{l({member_id:"",first_name:"",last_name:"",email_address:"",club:"",role:"Member",handicap:"0"}),d({}),o(!1),s()},f=(e,t)=>{l(s=>(0,Re.A)((0,Re.A)({},s),{},{[e]:t})),c[e]&&d(t=>(0,Re.A)((0,Re.A)({},t),{},{[e]:void 0}))};return t?(0,ct.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ct.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)(Ze,{className:"w-6 h-6 text-brand-neon-green mr-3"}),(0,ct.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Add New User"})]}),(0,ct.jsx)("button",{onClick:g,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,ct.jsx)(Qe,{className:"w-6 h-6"})})]}),(0,ct.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return n.member_id.trim()?/^\d+$/.test(n.member_id)||(e.member_id="Member ID must be a number"):e.member_id="Member ID is required",n.first_name.trim()||(e.first_name="First name is required"),n.last_name.trim()||(e.last_name="Last name is required"),n.email_address.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email_address)||(e.email_address="Please enter a valid email address"):e.email_address="Email is required",n.club.trim()||(e.club="Club is required"),n.handicap&&!/^-?\d+(\.\d+)?$/.test(n.handicap)&&(e.handicap="Handicap must be a valid number"),d(e),0===Object.keys(e).length})()){o(!0);try{await(0,tt.kgp)({member_id:parseInt(n.member_id),first_name:n.first_name.trim(),last_name:n.last_name.trim(),email_address:n.email_address.trim(),club:n.club,role:n.role,handicap:n.handicap?parseFloat(n.handicap):0}),_s.success("User created successfully!"),r(),g()}catch(a){var t,s;console.error("Error creating user:",a);const e=(null===(t=a.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.error)||"Failed to create user";_s.error(e)}finally{o(!1)}}},className:"p-6 space-y-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{htmlFor:"member_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Member ID *"}),(0,ct.jsx)("input",{type:"text",id:"member_id",value:n.member_id,onChange:e=>f("member_id",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-brand-neon-green ".concat(c.member_id?"border-red-500":"border-gray-300"),placeholder:"Enter member ID"}),c.member_id&&(0,ct.jsxs)("p",{className:"text-red-500 text-sm mt-1 flex items-center",children:[(0,ct.jsx)(lr,{className:"w-4 h-4 mr-1"}),c.member_id]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{htmlFor:"first_name",className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),(0,ct.jsx)("input",{type:"text",id:"first_name",value:n.first_name,onChange:e=>f("first_name",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-brand-neon-green ".concat(c.first_name?"border-red-500":"border-gray-300"),placeholder:"Enter first name"}),c.first_name&&(0,ct.jsxs)("p",{className:"text-red-500 text-sm mt-1 flex items-center",children:[(0,ct.jsx)(lr,{className:"w-4 h-4 mr-1"}),c.first_name]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{htmlFor:"last_name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"}),(0,ct.jsx)("input",{type:"text",id:"last_name",value:n.last_name,onChange:e=>f("last_name",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-brand-neon-green ".concat(c.last_name?"border-red-500":"border-gray-300"),placeholder:"Enter last name"}),c.last_name&&(0,ct.jsxs)("p",{className:"text-red-500 text-sm mt-1 flex items-center",children:[(0,ct.jsx)(lr,{className:"w-4 h-4 mr-1"}),c.last_name]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{htmlFor:"email_address",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),(0,ct.jsx)("input",{type:"email",id:"email_address",value:n.email_address,onChange:e=>f("email_address",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-brand-neon-green ".concat(c.email_address?"border-red-500":"border-gray-300"),placeholder:"Enter email address"}),c.email_address&&(0,ct.jsxs)("p",{className:"text-red-500 text-sm mt-1 flex items-center",children:[(0,ct.jsx)(lr,{className:"w-4 h-4 mr-1"}),c.email_address]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{htmlFor:"club",className:"block text-sm font-medium text-gray-700 mb-1",children:"Club *"}),(0,ct.jsxs)("select",{id:"club",value:n.club,onChange:e=>f("club",e.target.value),disabled:x,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-brand-neon-green ".concat(c.club?"border-red-500":"border-gray-300"," ").concat(x?"opacity-50 cursor-not-allowed":""),children:[(0,ct.jsx)("option",{value:"",children:x?"Loading clubs...":"Select a club"}),u.map(e=>(0,ct.jsx)("option",{value:e.club_name,children:e.club_name},e.id))]}),c.club&&(0,ct.jsxs)("p",{className:"text-red-500 text-sm mt-1 flex items-center",children:[(0,ct.jsx)(lr,{className:"w-4 h-4 mr-1"}),c.club]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),(0,ct.jsx)("select",{id:"role",value:n.role,onChange:e=>f("role",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-brand-neon-green",children:[{value:"Member",label:"Member"},{value:"Admin",label:"Admin"},{value:"Club Pro",label:"Club Pro"},{value:"Ambassador",label:"Ambassador"},{value:"Beta Tester",label:"Beta Tester"},{value:"Deactivated",label:"Deactivated"}].map(e=>(0,ct.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{htmlFor:"handicap",className:"block text-sm font-medium text-gray-700 mb-1",children:"Handicap"}),(0,ct.jsx)("input",{type:"number",id:"handicap",value:n.handicap,onChange:e=>f("handicap",e.target.value),step:"0.1",className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-brand-neon-green ".concat(c.handicap?"border-red-500":"border-gray-300"),placeholder:"Enter handicap (optional)"}),c.handicap&&(0,ct.jsxs)("p",{className:"text-red-500 text-sm mt-1 flex items-center",children:[(0,ct.jsx)(lr,{className:"w-4 h-4 mr-1"}),c.handicap]})]}),(0,ct.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,ct.jsx)("button",{type:"button",onClick:g,className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,ct.jsx)("button",{type:"submit",disabled:i,className:"flex-1 px-4 py-2 bg-brand-neon-green text-brand-black rounded-md font-medium hover:bg-green-400 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:i?(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-brand-black mr-2"}),"Creating..."]}):(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)(Yt,{className:"w-4 h-4 mr-2"}),"Create User"]})})]})]})]})}):null},fl=e=>{let{onRoundsAdded:t}=e;const[s,r]=(0,a.useState)([]),[n,l]=(0,a.useState)([]),[i,o]=(0,a.useState)(!0),[c,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(""),[x,h]=(0,a.useState)(!1),[p,g]=(0,a.useState)(""),[f,b]=(0,a.useState)(!1),[v,y]=(0,a.useState)([]),[j,N]=(0,a.useState)(!1),[w,_]=(0,a.useState)(null),[k,S]=(0,a.useState)(""),[C,A]=(0,a.useState)(9),[E,T]=(0,a.useState)(""),[P,D]=(0,a.useState)("sim"),[M,R]=(0,a.useState)(null),[L,F]=(0,a.useState)(""),[O,I]=(0,a.useState)(""),[z,B]=(0,a.useState)(""),[U,H]=(0,a.useState)(""),[W,q]=(0,a.useState)((new Date).toISOString().split("T")[0]),V=e=>{if(Array.isArray(e))return e;if(e&&"object"===typeof e){if(e.courses&&Array.isArray(e.courses))return e.courses;if(e.data&&Array.isArray(e.data))return e.data}return[]},G=V(s).filter(e=>{var t,s,a,r;return((null===(t=e.first_name)||void 0===t?void 0:t.toLowerCase())||"").includes(u.toLowerCase())||((null===(s=e.last_name)||void 0===s?void 0:s.toLowerCase())||"").includes(u.toLowerCase())||((null===(a=e.email_address)||void 0===a?void 0:a.toLowerCase())||"").includes(u.toLowerCase())||((null===(r=e.club)||void 0===r?void 0:r.toLowerCase())||"").includes(u.toLowerCase())});(0,a.useEffect)(()=>{const e=setTimeout(()=>{(async e=>{if(e.length<2)y([]);else try{N(!0);const t=await(0,tt.B9o)(e,void 0,50);y(V(t.data.courses))}catch(t){console.error("Error searching courses:",t),y([])}finally{N(!1)}})(p)},300);return()=>clearTimeout(e)},[p]),(0,a.useEffect)(()=>{const e=e=>{const t=e.target;t.closest(".user-dropdown-container")||h(!1),t.closest(".course-dropdown-container")||b(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,a.useEffect)(()=>{(async()=>{try{o(!0);const[e,t]=await Promise.all([(0,tt.loF)(),(0,tt.B9o)(void 0,void 0,50)]);r(V(e.data)),l(V(t.data.courses))}catch(e){console.error("Error fetching data:",e),_s.error("Failed to load data")}finally{o(!1)}})()},[]);return i?(0,ct.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,ct.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-neon-green"})}):(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsx)("div",{className:"flex items-center justify-between",children:(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h3",{className:"text-xl font-semibold text-brand-black",children:"Admin Scorecard Adder"}),(0,ct.jsx)("p",{className:"text-sm text-neutral-600",children:"Add scorecards for handicap tracking"})]})}),(0,ct.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-lg p-6",children:[(0,ct.jsx)("h4",{className:"text-lg font-medium text-brand-black mb-4",children:"Add Scorecard"}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ct.jsxs)("div",{className:"relative user-dropdown-container",children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Select User *"}),(0,ct.jsx)("input",{type:"text",value:u,onChange:e=>{return t=e.target.value,m(t),h(!0),void(t||_(null));var t},onFocus:()=>h(!0),placeholder:"Search by name, club, or email...",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-1 focus:ring-brand-neon-green focus:border-transparent"}),x&&(0,ct.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-white border border-neutral-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:G.length>0?G.slice(0,50).map(e=>(0,ct.jsxs)("div",{onClick:()=>(e=>{_(e.member_id),m("".concat(e.first_name||""," ").concat(e.last_name||"").trim()),h(!1)})(e),className:"px-3 py-2 hover:bg-neutral-100 cursor-pointer border-b border-neutral-100 last:border-b-0",children:[(0,ct.jsxs)("div",{className:"font-medium text-neutral-900",children:[e.first_name||""," ",e.last_name||""]}),(0,ct.jsxs)("div",{className:"text-sm text-neutral-600",children:[e.club||"No club"," \u2022 ",e.email_address||"No email"]})]},e.member_id)):(0,ct.jsx)("div",{className:"px-3 py-2 text-neutral-500 text-sm",children:"No users found"})})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Date Played"}),(0,ct.jsx)("input",{type:"date",value:W,onChange:e=>q(e.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-1 focus:ring-brand-neon-green focus:border-transparent"})]}),(0,ct.jsxs)("div",{className:"relative course-dropdown-container",children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Course"}),(0,ct.jsx)("input",{type:"text",value:p,onChange:e=>g(e.target.value),onFocus:()=>b(!0),placeholder:"Search courses by name, location, or designer...",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-1 focus:ring-brand-neon-green focus:border-transparent"}),f&&(0,ct.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-white border border-neutral-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:j?(0,ct.jsxs)("div",{className:"px-3 py-2 text-neutral-500 flex items-center",children:[(0,ct.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-brand-neon-green mr-2"}),"Searching courses..."]}):v.length>0?v.map(e=>{var t;return(0,ct.jsxs)("div",{onClick:()=>(e=>{R(e),g(e.name),b(!1),I(""),B(""),F("")})(e),className:"px-3 py-2 hover:bg-neutral-100 cursor-pointer border-b border-neutral-100 last:border-b-0",children:[(0,ct.jsx)("div",{className:"font-medium text-neutral-900",children:e.name}),(0,ct.jsxs)("div",{className:"text-sm text-neutral-600",children:[e.location&&"".concat(e.location," \u2022 "),e.designer&&"".concat(e.designer," \u2022 "),null===(t=e.platforms)||void 0===t?void 0:t.join(", ")]})]},e.id)}):p.length>=2?(0,ct.jsx)("div",{className:"px-3 py-2 text-neutral-500",children:"No courses found"}):(0,ct.jsx)("div",{className:"px-3 py-2 text-neutral-500",children:"Type at least 2 characters to search"})})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Round Type"}),(0,ct.jsxs)("select",{value:P,onChange:e=>D(e.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-1 focus:ring-brand-neon-green focus:border-transparent",children:[(0,ct.jsx)("option",{value:"sim",children:"Simulator"}),(0,ct.jsx)("option",{value:"grass",children:"Grass"})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Teebox"}),(0,ct.jsx)("input",{type:"text",value:L,onChange:e=>F(e.target.value),placeholder:"e.g., Blue, White, Red",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-1 focus:ring-brand-neon-green focus:border-transparent"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Handicap"}),(0,ct.jsx)("input",{type:"number",step:"0.1",value:U,onChange:e=>H(Number(e.target.value)||""),placeholder:"0.0",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-1 focus:ring-brand-neon-green focus:border-transparent"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Course Rating"}),(0,ct.jsx)("input",{type:"number",step:"0.1",value:O,onChange:e=>I(Number(e.target.value)||""),placeholder:"72.0",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-1 focus:ring-brand-neon-green focus:border-transparent"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Course Slope"}),(0,ct.jsx)("input",{type:"number",value:z,onChange:e=>B(Number(e.target.value)||""),placeholder:"113",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-1 focus:ring-brand-neon-green focus:border-transparent"})]})]}),(0,ct.jsx)("div",{className:"mt-6",children:(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Total Score *"}),(0,ct.jsx)("input",{type:"number",min:"1",value:k||"",onChange:e=>(e=>{const t=parseInt(e)||"";S(t)})(e.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-1 focus:ring-brand-neon-green focus:border-transparent",placeholder:"Enter total score"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Holes Played"}),(0,ct.jsxs)("select",{value:C,onChange:e=>A(Number(e.target.value)),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-1 focus:ring-brand-neon-green focus:border-transparent",children:[(0,ct.jsx)("option",{value:9,children:"9 Holes"}),(0,ct.jsx)("option",{value:18,children:"18 Holes"})]})]})]})}),(0,ct.jsxs)("div",{className:"mt-6",children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Notes"}),(0,ct.jsx)("textarea",{value:E,onChange:e=>T(e.target.value),rows:3,placeholder:"Optional notes about the round...",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-1 focus:ring-brand-neon-green focus:border-transparent"})]}),(0,ct.jsx)("div",{className:"mt-6 flex justify-end",children:(0,ct.jsxs)("button",{onClick:async()=>{if(w)if(!k||k<=0)_s.error("Please enter a valid total score");else try{d(!0);const e={user_id:w,hole_scores:Array(C).fill(0),total_score:Number(k),notes:E,round_type:P,course_id:null===M||void 0===M?void 0:M.id,course_name:(null===M||void 0===M?void 0:M.name)||"",teebox:L,course_rating:O?Number(O):void 0,course_slope:z?Number(z):void 0,handicap:U?Number(U):0,date_played:W};await(0,tt.Jat)(e),_s.success("Scorecard added successfully"),_(null),m(""),S(""),A(9),T(""),R(null),g(""),F(""),I(""),B(""),H(""),q((new Date).toISOString().split("T")[0]),t()}catch(a){var e,s;console.error("Error adding scorecard:",a),_s.error("Failed to add scorecard: ".concat((null===(e=a.response)||void 0===e||null===(s=e.data)||void 0===s?void 0:s.error)||a.message))}finally{d(!1)}else _s.error("Please select a user")},disabled:c||!w||!k,className:"px-6 py-3 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center",children:[c?(0,ct.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-brand-black mr-2"}):(0,ct.jsx)(Yt,{className:"w-4 h-4 mr-2"}),"Add Scorecard"]})})]})]})},bl=e=>{let{className:t=""}=e;const{user:s}=mt(),{hasPermission:r}=_t(),n=r("access_admin_panel"),l=Z(),[i,o]=(0,a.useState)(null),[c,d]=(0,a.useState)([]),[u,m]=(0,a.useState)(!0),[x,h]=(0,a.useState)(!1),[p,g]=(0,a.useState)({startDate:"",endDate:""}),[f,b]=(0,a.useState)(""),[v,y]=(0,a.useState)(null),[j,N]=(0,a.useState)(""),[w,_]=(0,a.useState)(null),[k,S]=(0,a.useState)(!1),[C,A]=(0,a.useState)(!1),E=[{value:st.MEMBER,label:"Member"},{value:st.ADMIN,label:"Admin"},{value:st.CLUB_PRO,label:"Club Pro"},{value:st.AMBASSADOR,label:"Ambassador"},{value:st.DEACTIVATED,label:"Deactivated"}].map(e=>e.value);(0,a.useEffect)(()=>{console.log("Current user:",s),console.log("User role:",null===s||void 0===s?void 0:s.role),console.log("User object keys:",s?Object.keys(s):"No user"),s?(console.log("Has admin access?",n),n?T():(console.log("User does not have access_admin_panel permission"),m(!1))):console.log("No user loaded yet")},[s,n]);const T=async()=>{try{m(!0),console.log("Fetching user tracking stats...");const e=await(0,tt.oT4)();console.log("User tracking stats response:",e),o(e.data)}catch(a){var e,t,s;console.error("Error fetching user tracking stats:",a),console.error("Error details:",null===(e=a.response)||void 0===e?void 0:e.data),_s.error("Failed to load user tracking statistics: ".concat((null===(t=a.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.error)||a.message))}finally{m(!1)}},P=async()=>{try{m(!0);const e={};p.startDate&&(e.startDate=p.startDate),p.endDate&&(e.endDate=p.endDate),f&&(e.club=f);const t=await(0,tt.d2U)(e);console.log("User tracking details response:",t.data),d(t.data)}catch(e){console.error("Error fetching user tracking details:",e),_s.error("Failed to load detailed user data")}finally{m(!1)}},D=()=>{y(null),N("")};return u&&!i?(0,ct.jsx)("div",{className:"bg-white rounded-xl p-6 border border-neutral-200 ".concat(t),children:(0,ct.jsxs)("div",{className:"animate-pulse",children:[(0,ct.jsx)("div",{className:"h-6 bg-neutral-200 rounded w-1/3 mb-4"}),(0,ct.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[...Array(4)].map((e,t)=>(0,ct.jsx)("div",{className:"h-20 bg-neutral-200 rounded"},t))})]})}):s?n?(0,ct.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-neutral-200 ".concat(t),children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"User Management"}),(0,ct.jsx)("p",{className:"text-sm text-gray-600",children:"Track and manage user accounts across all clubs"})]}),(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsxs)("button",{onClick:()=>S(!0),className:"px-4 py-2 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700 transition-colors flex items-center",children:[(0,ct.jsx)(Ze,{className:"w-4 h-4 mr-2"}),"Add New User"]}),(0,ct.jsxs)("button",{onClick:()=>A(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center",children:[(0,ct.jsx)(Gt,{className:"w-4 h-4 mr-2"}),"Add Rounds"]}),(0,ct.jsxs)("button",{onClick:()=>{h(!0),P()},className:"px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors flex items-center",children:[(0,ct.jsx)(gt,{className:"w-4 h-4 mr-2"}),"View Details"]})]})]}),x?(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"bg-neutral-50 rounded-lg p-4",children:[(0,ct.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ct.jsx)(pl,{className:"w-5 h-5 text-neutral-500 mr-2"}),(0,ct.jsx)("h4",{className:"text-lg font-semibold text-brand-black",children:"Filters"})]}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Start Date"}),(0,ct.jsx)("input",{type:"date",value:p.startDate,onChange:e=>g((0,Re.A)((0,Re.A)({},p),{},{startDate:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"End Date"}),(0,ct.jsx)("input",{type:"date",value:p.endDate,onChange:e=>g((0,Re.A)((0,Re.A)({},p),{},{endDate:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Club"}),(0,ct.jsxs)("select",{value:f,onChange:e=>b(e.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,ct.jsx)("option",{value:"",children:"All Clubs"}),null===i||void 0===i?void 0:i.clubStats.map(e=>(0,ct.jsx)("option",{value:e.club,children:e.club},e.club))]})]}),(0,ct.jsx)("div",{className:"flex items-end",children:(0,ct.jsx)("button",{onClick:P,className:"w-full px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors",children:"Apply Filters"})})]})]}),(0,ct.jsxs)("div",{className:"bg-neutral-50 rounded-lg p-4",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ct.jsxs)("h4",{className:"text-lg font-semibold text-brand-black",children:["User Details (",c.length," users)"]}),(0,ct.jsx)("div",{className:"flex items-center space-x-2",children:(0,ct.jsx)("button",{onClick:()=>h(!1),className:"px-4 py-2 bg-neutral-600 text-white rounded-lg font-medium hover:bg-neutral-700 transition-colors",children:"Back to Overview"})})]}),u?(0,ct.jsxs)("div",{className:"text-center py-8",children:[(0,ct.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-neon-green mx-auto"}),(0,ct.jsx)("p",{className:"text-neutral-600 mt-2",children:"Loading user details..."})]}):(0,ct.jsx)("div",{className:"overflow-x-auto border border-neutral-300 rounded-lg",children:(0,ct.jsxs)("table",{className:"w-full min-w-[1000px] border-collapse",children:[(0,ct.jsx)("thead",{className:"bg-neutral-100",children:(0,ct.jsxs)("tr",{children:[(0,ct.jsx)("th",{className:"border border-neutral-300 px-3 py-3 text-left font-medium text-sm w-[30%]",children:"Name"}),(0,ct.jsx)("th",{className:"border border-neutral-300 px-3 py-3 text-left font-medium text-sm w-[10%]",children:"Club"}),(0,ct.jsx)("th",{className:"border border-neutral-300 px-3 py-3 text-center font-medium text-sm w-[8%]",children:"Scorecards"}),(0,ct.jsx)("th",{className:"border border-neutral-300 px-3 py-3 text-left font-medium text-sm w-[15%]",children:"Role"}),(0,ct.jsx)("th",{className:"border border-neutral-300 px-3 py-3 text-left font-medium text-sm w-[10%]",children:"Claimed"}),(0,ct.jsx)("th",{className:"border border-neutral-300 px-3 py-3 text-left font-medium text-sm w-[27%]",children:"Actions"})]})}),(0,ct.jsx)("tbody",{children:c.map(e=>(console.log("Rendering user:",e.first_name,e.last_name,"with role:",e.role),console.log("Will render edit button for user:",e.first_name,e.last_name),(0,ct.jsxs)("tr",{className:"hover:bg-neutral-50",children:[(0,ct.jsx)("td",{className:"border border-neutral-300 px-3 py-3",children:(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("div",{className:"font-medium text-sm",children:[e.first_name," ",e.last_name]}),(0,ct.jsx)("div",{className:"text-xs text-neutral-500 mt-1",children:e.email_address})]})}),(0,ct.jsx)("td",{className:"border border-neutral-300 px-3 py-3",children:(0,ct.jsx)("span",{className:"px-2 py-1 bg-neutral-100 text-neutral-700 text-xs rounded font-medium",children:e.club})}),(0,ct.jsx)("td",{className:"border border-neutral-300 px-3 py-3 text-center",children:(0,ct.jsxs)("div",{className:"flex flex-col items-center",children:[(0,ct.jsx)("span",{className:"inline-flex items-center px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:e.total_rounds||0}),(e.sim_rounds>0||e.grass_rounds>0)&&(0,ct.jsxs)("div",{className:"text-xs text-neutral-500 mt-1",children:[e.sim_rounds>0&&"".concat(e.sim_rounds," sim"),e.sim_rounds>0&&e.grass_rounds>0&&" \u2022 ",e.grass_rounds>0&&"".concat(e.grass_rounds," grass")]})]})}),(0,ct.jsx)("td",{className:"border border-neutral-300 px-3 py-3 text-neutral-600",children:v===e.member_id?(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsx)("select",{value:j,onChange:e=>N(e.target.value),className:"w-full px-2 py-1 border border-neutral-300 rounded-md text-xs focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:E.map(e=>(0,ct.jsx)("option",{value:e,children:e},e))}),(0,ct.jsx)("button",{onClick:()=>(async e=>{const t=c.find(t=>t.member_id===e),s=t?"".concat(t.first_name," ").concat(t.last_name):"User";if(window.confirm("Are you sure you want to change ".concat(s,"'s role to \"").concat(j,'"?'))){_(e);try{if(!t)throw new Error("User not found");await(0,tt.TKu)(e,{first_name:t.first_name,last_name:t.last_name,email_address:t.email_address,club:t.club,role:j}),_s.success("Role updated successfully for ".concat(s)),d(t=>t.map(t=>t.member_id===e?(0,Re.A)((0,Re.A)({},t),{},{role:j}):t)),y(null),N("")}catch(n){var a,r;console.error("Error updating user role:",n),_s.error("Failed to update role: ".concat((null===(a=n.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.error)||n.message))}finally{_(null)}}})(e.member_id),className:"p-1 text-green-600 hover:text-green-800 transition-colors disabled:opacity-50",title:"Save Role",disabled:w===e.member_id,children:w===e.member_id?(0,ct.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-green-600"}):(0,ct.jsx)(Yt,{className:"w-4 h-4"})}),(0,ct.jsx)("button",{onClick:D,className:"p-1 text-neutral-600 hover:text-neutral-800 transition-colors",title:"Cancel Edit",children:(0,ct.jsx)(Qe,{className:"w-4 h-4"})})]}):(0,ct.jsx)("span",{className:"px-2 py-1 text-xs rounded font-medium ".concat(ot(e.role)),children:e.role})}),(0,ct.jsx)("td",{className:"border border-neutral-300 px-3 py-3",children:(0,ct.jsx)("span",{className:"px-2 py-1 text-xs rounded font-medium ".concat(e.has_claimed_account?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.has_claimed_account?"Yes":"No"})}),(0,ct.jsx)("td",{className:"border border-neutral-300 px-3 py-3 text-neutral-600",children:(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsxs)("button",{onClick:()=>l("/admin/users/".concat(e.member_id)),className:"px-3 py-1 bg-green-600 text-white hover:bg-green-700 transition-colors rounded text-xs font-medium shadow-sm flex items-center",title:"View Profile",children:[(0,ct.jsx)(wt,{className:"w-3 h-3 mr-1"}),"Profile"]}),(0,ct.jsx)("button",{onClick:()=>{return t=e.member_id,s=e.role,console.log("Edit role clicked for user ID:",t,"current role:",s),y(t),void N(s);var t,s},className:"px-3 py-1 bg-blue-600 text-white hover:bg-blue-700 transition-colors rounded text-xs font-medium shadow-sm",title:"Edit Role",children:"Edit"}),(0,ct.jsx)("button",{onClick:()=>(async(e,t)=>{if(window.confirm("Are you sure you want to deactivate ".concat(t,"? They will no longer be able to log in, but their data will be preserved.")))try{await(0,tt.TKu)(e,{first_name:t.split(" ")[0],last_name:t.split(" ")[1]||"",email_address:"",club:"",role:"Deactivated"}),_s.success("User deactivated successfully!"),await T(),x&&await P()}catch(r){var s,a;console.error("Error deactivating user:",r);const e=(null===(s=r.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.error)||"Failed to deactivate user";_s.error(e)}})(e.member_id,"".concat(e.first_name," ").concat(e.last_name)),className:"px-3 py-1 bg-red-600 text-white hover:bg-red-700 transition-colors rounded text-xs font-medium shadow-sm",title:"Deactivate User",children:"Deactivate"})]})})]},e.member_id)))})]})})]})]}):(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,ct.jsx)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-lg border border-blue-200",children:(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-sm font-medium text-blue-600",children:"Total Users"}),(0,ct.jsx)("p",{className:"text-2xl font-bold text-blue-800",children:(null===i||void 0===i?void 0:i.userStats.total_users)||0})]}),(0,ct.jsx)(Ye,{className:"w-8 h-8 text-blue-600"})]})}),(0,ct.jsx)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-lg border border-green-200",children:(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-sm font-medium text-green-600",children:"Claimed Accounts"}),(0,ct.jsx)("p",{className:"text-2xl font-bold text-green-800",children:(null===i||void 0===i?void 0:i.userStats.claimed_accounts)||0}),(0,ct.jsxs)("p",{className:"text-xs text-green-600",children:[null!==i&&void 0!==i&&i.userStats?(parseInt(i.userStats.claimed_accounts)/parseInt(i.userStats.total_users)*100).toFixed(1):0,"% claim rate"]})]}),(0,ct.jsx)(jn,{className:"w-8 h-8 text-green-600"})]})}),(0,ct.jsx)("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 p-4 rounded-lg border border-yellow-200",children:(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-sm font-medium text-yellow-600",children:"Unclaimed Accounts"}),(0,ct.jsx)("p",{className:"text-2xl font-bold text-yellow-800",children:(null===i||void 0===i?void 0:i.userStats.unclaimed_accounts)||0})]}),(0,ct.jsx)(Qs,{className:"w-8 h-8 text-yellow-600"})]})}),(0,ct.jsx)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-4 rounded-lg border border-purple-200",children:(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-sm font-medium text-purple-600",children:"Recent Activity"}),(0,ct.jsx)("p",{className:"text-2xl font-bold text-purple-800",children:(null===i||void 0===i?void 0:i.recentRoundsByDay.reduce((e,t)=>e+parseInt(t.rounds_count||"0"),0))||0}),(0,ct.jsx)("p",{className:"text-xs text-purple-600",children:"Last 7 days"})]}),(0,ct.jsx)(Xe,{className:"w-8 h-8 text-purple-600"})]})})]}),(0,ct.jsxs)("div",{className:"bg-neutral-50 rounded-lg p-4",children:[(0,ct.jsx)("h4",{className:"text-lg font-semibold text-brand-black mb-4",children:"Recent Rounds by Day"}),(0,ct.jsx)("div",{className:"space-y-2",children:null===i||void 0===i?void 0:i.recentRoundsByDay.slice(0,7).map((e,t)=>{return(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)(Nt,{className:"w-4 h-4 text-neutral-500 mr-2"}),(0,ct.jsx)("span",{className:"text-sm font-medium text-neutral-700",children:(s=e.date,new Date(s).toLocaleDateString())})]}),(0,ct.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ct.jsxs)("span",{className:"text-sm text-neutral-600",children:[e.sim_rounds," sim"]}),(0,ct.jsxs)("span",{className:"text-sm text-neutral-600",children:[e.grass_rounds," grass"]}),(0,ct.jsxs)("span",{className:"text-sm font-semibold text-brand-black",children:[e.rounds_count," total"]})]})]},e.date);var s})})]}),(null===i||void 0===i?void 0:i.topUsers)&&i.topUsers.length>0&&(0,ct.jsxs)("div",{className:"bg-neutral-50 rounded-lg p-4",children:[(0,ct.jsx)("h4",{className:"text-lg font-semibold text-brand-black mb-4",children:"Top Active Users (Last 30 Days)"}),(0,ct.jsx)("div",{className:"space-y-2",children:i.topUsers.slice(0,5).map((e,t)=>(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsxs)("span",{className:"text-sm font-medium text-neutral-500 mr-2",children:["#",t+1]}),(0,ct.jsxs)("span",{className:"text-sm font-medium text-neutral-700",children:[e.first_name," ",e.last_name]}),(0,ct.jsxs)("span",{className:"text-xs text-neutral-500 ml-2",children:["(",e.club,")"]})]}),(0,ct.jsxs)("span",{className:"text-sm font-semibold text-brand-black",children:[e.rounds_count," rounds"]})]},"".concat(e.first_name,"-").concat(e.last_name)))})]}),(null===i||void 0===i?void 0:i.clubStats)&&i.clubStats.length>0&&(0,ct.jsxs)("div",{className:"bg-neutral-50 rounded-lg p-4",children:[(0,ct.jsx)("h4",{className:"text-lg font-semibold text-brand-black mb-4",children:"Club Statistics"}),(0,ct.jsx)("div",{className:"space-y-3",children:i.clubStats.map(e=>(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-sm font-medium text-neutral-700",children:e.club}),(0,ct.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-neutral-500",children:[(0,ct.jsxs)("span",{children:[e.total_users," users"]}),(0,ct.jsxs)("span",{children:[e.claimed_accounts," claimed"]}),(0,ct.jsxs)("span",{children:[e.unclaimed_accounts," unclaimed"]})]})]}),(0,ct.jsxs)("div",{className:"text-sm font-semibold text-brand-black",children:[(parseInt(e.claimed_accounts)/parseInt(e.total_users)*100).toFixed(1),"% claimed"]})]},e.club))})]})]}),(0,ct.jsx)(gl,{isOpen:k,onClose:()=>S(!1),onUserAdded:async()=>{try{await T(),x&&await P(),_s.success("User added successfully!")}catch(e){_s.error("Error refreshing data after user creation")}}}),C&&(0,ct.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ct.jsx)("div",{className:"bg-white rounded-lg max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:(0,ct.jsxs)("div",{className:"p-6",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ct.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Add Rounds for Users"}),(0,ct.jsx)("button",{onClick:()=>A(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,ct.jsx)(Qe,{className:"w-6 h-6"})})]}),(0,ct.jsx)(fl,{onRoundsAdded:()=>{A(!1),T(),_s.success("Scorecard added successfully")}})]})})})]}):(0,ct.jsx)("div",{className:"bg-white rounded-xl p-6 border border-neutral-200 ".concat(t),children:(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)(Ye,{className:"w-12 h-12 text-neutral-400 mx-auto mb-4"}),(0,ct.jsx)("h3",{className:"text-lg font-semibold text-neutral-600 mb-2",children:"Access Denied"}),(0,ct.jsx)("p",{className:"text-neutral-500",children:"You need admin privileges to view user tracking statistics."})]})}):(0,ct.jsx)("div",{className:"bg-white rounded-xl p-6 border border-neutral-200 ".concat(t),children:(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)(Ye,{className:"w-12 h-12 text-neutral-400 mx-auto mb-4"}),(0,ct.jsx)("h3",{className:"text-lg font-semibold text-neutral-600 mb-2",children:"Loading..."}),(0,ct.jsx)("p",{className:"text-neutral-500",children:"Please wait while we load your user information."})]})})},vl=()=>{const e=Z(),{user:t}=mt(),{hasPermission:s}=_t(),r=s("access_admin_panel");return a.useEffect(()=>{t&&r||e("/profile",{replace:!0})},[t,e,r]),t&&r?(0,ct.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,ct.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,ct.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,ct.jsx)("div",{className:"flex items-center justify-between h-16",children:(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsxs)("button",{onClick:()=>e(-1),className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors mr-4",children:[(0,ct.jsx)(Fs,{className:"w-5 h-5 mr-2"}),"Back"]}),(0,ct.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"User Tracking Dashboard"})]})})})}),(0,ct.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,ct.jsx)(bl,{})})]}):null},yl=()=>{const{user:e}=mt(),{userId:t}=ee(),s=Z(),[r,n]=(0,a.useState)(null),[l,i]=(0,a.useState)(null),[o,c]=(0,a.useState)([]),[d,u]=(0,a.useState)([]),[m,x]=(0,a.useState)(!0),[h,p]=(0,a.useState)(null);return(0,a.useEffect)(()=>{var t;e&&"admin"===(null===(t=e.role)||void 0===t?void 0:t.toLowerCase())||s("/profile",{replace:!0})},[e,s]),(0,a.useEffect)(()=>{const e=Number(t);if(!e||Number.isNaN(e))return p("Invalid user id"),void x(!1);(async()=>{try{x(!0);const[t,s,a,r]=await Promise.all([(0,tt.loF)(),(0,tt.yBI)(e),(0,tt.QUg)(e),(0,tt.qM8)(e)]),l=(t.data||[]).find(t=>t.member_id===e)||null;n(l),i(s.data),c(a.data||[]),u(r.data||[])}catch(Zp){p("Failed to load player profile"),console.error(Zp)}finally{x(!1)}})()},[t]),m?(0,ct.jsx)("div",{className:"flex items-center justify-center min-h-64",children:(0,ct.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-neon-green"})}):h?(0,ct.jsx)("div",{className:"p-4 bg-red-50 text-red-700 rounded-lg border border-red-200",children:h}):(0,ct.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,ct.jsx)("div",{className:"bg-gradient-to-br from-brand-dark-green to-brand-muted-green rounded-2xl shadow-xl p-6 mb-6 text-white",children:(0,ct.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold",children:r?"".concat(r.first_name," ").concat(r.last_name):"User #".concat(t)}),(0,ct.jsxs)("div",{className:"mt-2 flex items-center gap-4 text-white/90",children:[(0,ct.jsxs)("span",{className:"flex items-center",children:[(0,ct.jsx)(Ge,{className:"w-4 h-4 mr-1"}),(null===r||void 0===r?void 0:r.club)||"No club"]}),(0,ct.jsxs)("span",{className:"flex items-center",children:[(0,ct.jsx)(Qs,{className:"w-4 h-4 mr-1"}),"Member ID ",t]})]})]}),(0,ct.jsx)("button",{onClick:()=>s(-1),className:"px-4 py-2 bg-white/15 hover:bg-white/25 border border-white/30 rounded-lg font-medium",children:"Back"})]})}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,ct.jsxs)("div",{className:"md:col-span-2 space-y-6",children:[(0,ct.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-neutral-200",children:[(0,ct.jsxs)("h2",{className:"text-xl font-bold text-brand-black mb-4 flex items-center",children:[(0,ct.jsx)(gt,{className:"w-5 h-5 mr-2"}),"Overall Performance"]}),l&&l.total_rounds>0?(0,ct.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:l.total_rounds}),(0,ct.jsx)("div",{className:"text-sm text-neutral-600",children:"Total Rounds"})]}),(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("div",{className:"text-2xl font-bold text-green-600",children:l.unique_courses}),(0,ct.jsx)("div",{className:"text-sm text-neutral-600",children:"Courses Played"})]}),(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:l.avg_differential?Number(l.avg_differential).toFixed(1):"N/A"}),(0,ct.jsx)("div",{className:"text-sm text-neutral-600",children:"Avg Differential"})]}),(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:l.best_differential?Number(l.best_differential).toFixed(1):"N/A"}),(0,ct.jsx)("div",{className:"text-sm text-neutral-600",children:"Best Differential"})]})]}):(0,ct.jsx)("div",{className:"text-neutral-600",children:"No rounds yet."})]}),(0,ct.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-neutral-200",children:[(0,ct.jsxs)("h2",{className:"text-xl font-bold text-brand-black mb-4 flex items-center",children:[(0,ct.jsx)(Nt,{className:"w-5 h-5 mr-2"}),"Recent Simulator Rounds"]}),o.length>0?(0,ct.jsx)("div",{className:"space-y-3",children:o.map(e=>(0,ct.jsxs)("div",{className:"flex items-center justify-between p-3 bg-neutral-50 rounded-lg",children:[(0,ct.jsxs)("div",{className:"flex-1",children:[(0,ct.jsx)("div",{className:"font-medium text-brand-black",children:e.course_name}),(0,ct.jsxs)("div",{className:"text-sm text-neutral-600",children:[new Date(e.date_played).toLocaleDateString()," \u2022 ",e.total_strokes," strokes",e.differential&&" \u2022 ".concat(Number(e.differential).toFixed(1)," differential")]})]}),(0,ct.jsxs)("div",{className:"text-right",children:[(0,ct.jsx)("div",{className:"text-sm font-semibold ".concat(e.handicap_status_color),children:e.handicap_status}),(0,ct.jsxs)("div",{className:"text-xs text-neutral-500",children:["Handicap: ",e.handicap||"N/A"]})]})]},e.id))}):(0,ct.jsx)("div",{className:"text-neutral-600",children:"No simulator rounds yet."})]})]}),(0,ct.jsx)("div",{className:"space-y-6",children:(0,ct.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-neutral-200",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-brand-black mb-3",children:"Tournaments"}),d.length>0?(0,ct.jsx)("div",{className:"space-y-2",children:d.slice(0,8).map(e=>(0,ct.jsxs)("div",{className:"flex items-center justify-between p-3 bg-neutral-50 rounded-lg",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("div",{className:"font-medium text-brand-black",children:e.name}),(0,ct.jsxs)("div",{className:"text-xs text-neutral-600",children:[e.status," \u2022 ",e.start_date?new Date(e.start_date).toLocaleDateString():"TBD"]})]}),(0,ct.jsxs)("button",{onClick:()=>s("/leaderboard/tournament/".concat(e.id)),className:"px-3 py-1 bg-blue-600 text-white rounded text-xs flex items-center",children:[(0,ct.jsx)(wt,{className:"w-3 h-3 mr-1"})," View Leaderboard"]})]},e.id))}):(0,ct.jsx)("div",{className:"text-neutral-600",children:"No tournaments."})]})})]})]})},jl=e=>{let{tournamentId:t,onClose:s}=e;const{user:r}=mt(),n=Z(),[l,i]=Me(),[o,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(!0),[m,x]=(0,a.useState)([]),[h,p]=(0,a.useState)([]),[g,f]=(0,a.useState)({}),[b,v]=(0,a.useState)(!1),[y,j]=(0,a.useState)({}),[N,w]=(0,a.useState)(!1),[_,k]=(0,a.useState)(!1),S=new Set(m.map(e=>e.id)),C={live_rounds:{name:"Live Rounds",description:"Ask participants about their participation in live rounds and night availability",questions:[{id:"participation_type",type:"radio",question:"Are you planning to participate in Live rounds this week or will you be playing solo?",options:["Live","Solo"],required:!0},{id:"night_availability",type:"checkbox",question:"Choose which of the following nights absolutely work for you THIS week.",options:["Wednesday (7-10)","Thursday (7-10)","Friday (7-10)","Saturday (7-10)"],required:!0,conditional:{dependsOn:"participation_type",showWhen:"Live"}}]},night_availability:{name:"Night Availability",description:"Simple night availability selection",questions:[{id:"available_nights",type:"checkbox",question:"Which nights are you available this week?",options:["Monday (7-10)","Tuesday (7-10)","Wednesday (7-10)","Thursday (7-10)","Friday (7-10)","Saturday (7-10)","Sunday (7-10)"],required:!0}]}},A=e=>{if(console.log("Getting registration form template for tournament:",e.id),console.log("has_registration_form:",e.has_registration_form),console.log("registration_form_template:",e.registration_form_template),!e.registration_form_template)return console.log("No registration form template found"),null;if("string"===typeof e.registration_form_template){const s=e.registration_form_template.trim();if(C[s])return console.log("Found predefined template:",s),C[s];if(s.startsWith("{")||s.startsWith("["))try{const t=JSON.parse(e.registration_form_template);return console.log("Parsed registration form template:",t),t}catch(t){return console.error("Error parsing registration form template:",t),null}return console.log("Unknown template format:",s),null}return console.log("Using registration form template as object:",e.registration_form_template),e.registration_form_template};(0,a.useEffect)(()=>{(async()=>{if(t){u(!0);try{const[a,n,l]=await Promise.all([(0,tt.UoH)(),(0,tt.qM8)((null===r||void 0===r?void 0:r.member_id)||0),(0,tt.nTv)((null===r||void 0===r?void 0:r.member_id)||0)]),i=a.data.find(e=>e.id===t);i?c(i):(_s.error("Tournament not found"),s()),x(n.data),p(l.data);const o={};for(const t of n.data)try{const e=await(0,tt.DBi)(t.id,(null===r||void 0===r?void 0:r.member_id)||0);o[t.id]=e.data.payment_submitted||!1}catch(e){o[t.id]=!1}f(o)}catch(a){console.error("Error fetching tournament data:",a),_s.error("Failed to load tournament data")}finally{u(!1)}}})()},[t,null===r||void 0===r?void 0:r.member_id,s]),(0,a.useEffect)(()=>{"Solo"===y.participation_type&&j(e=>{const t=(0,Re.A)({},e);return delete t.night_availability,t})},[y.participation_type]);const E=async e=>{try{await(0,tt.V2y)(e,(null===r||void 0===r?void 0:r.member_id)||0),_s.success("Successfully registered for tournament!");const t=await(0,tt.qM8)((null===r||void 0===r?void 0:r.member_id)||0);x(t.data);const s=(await(0,tt.UoH)()).data.find(t=>t.id===e);s&&c(s)}catch(a){var t,s;console.error("Registration error:",a),_s.error((null===(t=a.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.error)||"Failed to register for tournament")}},T=e=>{const t=y[e];return!!t&&("string"===typeof t?""!==t.trim():!!Array.isArray(t)&&t.length>0)},P=e=>{if(e.conditional){if(y[e.conditional.dependsOn]!==e.conditional.showWhen)return!1}return e.required},D=e=>S.has(e),M=e=>{n("/leaderboard/tournament/".concat(e)),s()},R=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"TBD",L=async e=>{try{await navigator.clipboard.writeText((e=>"".concat(window.location.origin,"/#/tournaments?tournament=").concat(e))(e)),_s.success("Tournament link copied to clipboard!")}catch(t){console.error("Failed to copy link:",t),_s.error("Failed to copy link")}};if(d)return(0,ct.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,ct.jsx)("div",{className:"bg-white rounded-lg p-8 max-w-2xl w-full mx-4",children:(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-neon-green mx-auto"}),(0,ct.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading tournament details..."})]})})});if(!o)return null;const F=A(o);return console.log("Rendering tournament modal for tournament:",o.id),console.log("showRegistrationForm:",b),console.log("registrationFormTemplate:",F),(0,ct.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ct.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)(qe,{className:"w-8 h-8 text-brand-neon-green"}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:o.name}),(0,ct.jsx)("p",{className:"text-sm text-gray-500",children:o.status&&(0,ct.jsx)("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium ".concat((e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"active":case"open":return"text-green-600";case"draft":default:return"text-gray-600";case"closed":return"text-red-600"}})(o.status)),children:o.status})})]})]}),(0,ct.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,ct.jsx)(Qe,{className:"w-6 h-6"})})]}),(0,ct.jsxs)("div",{className:"p-6",children:[(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)(Nt,{className:"w-5 h-5 text-gray-400"}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-sm text-gray-500",children:"Start Date"}),(0,ct.jsx)("p",{className:"font-medium",children:R(o.start_date||"")})]})]}),o.end_date&&(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)(Nt,{className:"w-5 h-5 text-gray-400"}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-sm text-gray-500",children:"End Date"}),(0,ct.jsx)("p",{className:"font-medium",children:R(o.end_date)})]})]}),o.location&&(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)(Ge,{className:"w-5 h-5 text-gray-400"}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-sm text-gray-500",children:"Location"}),(0,ct.jsx)("p",{className:"font-medium",children:o.location})]})]}),o.course&&(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)(Ge,{className:"w-5 h-5 text-gray-400"}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-sm text-gray-500",children:"Course"}),(0,ct.jsx)("p",{className:"font-medium",children:o.course})]})]})]}),(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)(Ye,{className:"w-5 h-5 text-gray-400"}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-sm text-gray-500",children:"Format"}),(0,ct.jsx)("p",{className:"font-medium",children:(e=>{switch(e){case"match_play":return"Match Play";case"stroke_play":return"Stroke Play";case"team_match_play":return"Team Match Play";case"team_stroke_play":return"Team Stroke Play";default:return(null===e||void 0===e?void 0:e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()))||"Unknown"}})(o.tournament_format||"")})]})]}),o.entry_fee&&o.entry_fee>0&&(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)(Xn,{className:"w-5 h-5 text-gray-400"}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-sm text-gray-500",children:"Entry Fee"}),(0,ct.jsxs)("p",{className:"font-medium",children:["$",o.entry_fee]})]})]}),o.registration_deadline&&(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)(Qs,{className:"w-5 h-5 text-gray-400"}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-sm text-gray-500",children:"Registration Deadline"}),(0,ct.jsx)("p",{className:"font-medium",children:(O=o.registration_deadline,O?new Date(O).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"TBD")})]})]}),o.max_participants&&(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)(Ye,{className:"w-5 h-5 text-gray-400"}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-sm text-gray-500",children:"Max Participants"}),(0,ct.jsx)("p",{className:"font-medium",children:o.max_participants})]})]})]})]}),o.description&&(0,ct.jsxs)("div",{className:"mb-6",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Description"}),(0,ct.jsx)("p",{className:"text-gray-700",children:o.description})]}),o.rules&&(0,ct.jsxs)("div",{className:"mb-6",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Rules"}),(0,ct.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:o.rules})]}),o.notes&&(0,ct.jsxs)("div",{className:"mb-6",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Notes"}),(0,ct.jsx)("p",{className:"text-gray-700",children:o.notes})]}),(0,ct.jsxs)("div",{className:"flex flex-wrap gap-3 pt-6 border-t border-gray-200",children:[D(o.id)?(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsxs)("button",{onClick:()=>(async e=>{if(r)try{await(0,tt.nA8)(e,r.member_id),_s.success("Successfully unregistered from tournament");const[t,s]=await Promise.all([(0,tt.UoH)(),(0,tt.qM8)(r.member_id)]),a=t.data.find(t=>t.id===e);a&&c(a),x(s.data)}catch(a){var t,s;console.error("Unregistration error:",a),_s.error((null===(t=a.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.error)||"Failed to unregister from tournament")}})(o.id),className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:[(0,ct.jsx)(Ze,{className:"w-4 h-4 mr-2"}),"Unregister"]}),(0,ct.jsxs)("button",{onClick:()=>M(o.id),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[(0,ct.jsx)(wt,{className:"w-4 h-4 mr-2"}),"View Leaderboard"]})]}):(0,ct.jsxs)(ct.Fragment,{children:[o.registration_open&&(0,ct.jsxs)("button",{onClick:()=>(async e=>{r?o&&o.has_registration_form?(console.log("Tournament has registration form, showing form modal"),v(!0)):(console.log("Tournament does not have registration form, performing direct registration"),await E(e)):_s.error("Please log in to register for tournaments")})(o.id),className:"flex items-center px-4 py-2 bg-brand-neon-green text-brand-black rounded-md hover:bg-green-400 transition-colors",children:[(0,ct.jsx)(Ze,{className:"w-4 h-4 mr-2"}),"Register"]}),(0,ct.jsxs)("button",{onClick:()=>M(o.id),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[(0,ct.jsx)(wt,{className:"w-4 h-4 mr-2"}),"View Leaderboard"]})]}),D(o.id)&&o.entry_fee&&o.entry_fee>0&&!(e=>g[e]||!1)(o.id)&&(0,ct.jsxs)("button",{onClick:()=>{k(!0)},className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:[(0,ct.jsx)(Xn,{className:"w-4 h-4 mr-2"}),"Submit Payment"]}),(0,ct.jsxs)("button",{onClick:()=>L(o.id),className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:[(0,ct.jsx)(jt,{className:"w-4 h-4 mr-2"}),"Share"]})]})]}),b&&o&&(0,ct.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60",children:(0,ct.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 max-h-[80vh] overflow-y-auto",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold",children:"Tournament Registration"}),(0,ct.jsx)("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600",children:(0,ct.jsx)(Qe,{className:"w-5 h-5"})})]}),F&&F.questions&&F.questions.length>0?(0,ct.jsx)("div",{className:"space-y-4",children:F.questions.filter(e=>{if(!e.conditional)return!0;return y[e.conditional.dependsOn]===e.conditional.showWhen}).map(e=>(0,ct.jsxs)("div",{className:"p-3 rounded-lg border ".concat(P(e)&&!T(e.id)?"border-red-200 bg-red-50":T(e.id)?"border-green-200 bg-green-50":"border-gray-200 bg-gray-50"),children:[(0,ct.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.question,P(e)&&(0,ct.jsx)("span",{className:"text-red-500 ml-1",children:"*"}),T(e.id)&&(0,ct.jsx)("span",{className:"text-green-600 ml-2 text-xs",children:"\u2713 Answered"})]}),"text"===e.type&&(0,ct.jsx)("input",{type:"text",value:y[e.id]||"",onChange:t=>j((0,Re.A)((0,Re.A)({},y),{},{[e.id]:t.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-brand-neon-green",placeholder:e.placeholder||""}),"radio"===e.type&&e.options&&e.options.length>0&&(0,ct.jsx)("div",{className:"space-y-2",children:e.options.map(t=>(0,ct.jsxs)("label",{className:"flex items-center",children:[(0,ct.jsx)("input",{type:"radio",value:t,checked:y[e.id]===t,onChange:t=>j((0,Re.A)((0,Re.A)({},y),{},{[e.id]:t.target.value})),className:"mr-2"}),t]},t))}),"checkbox"===e.type&&e.options&&e.options.length>0&&(0,ct.jsx)("div",{className:"space-y-2",children:e.options.map(t=>{var s;return(0,ct.jsxs)("label",{className:"flex items-center",children:[(0,ct.jsx)("input",{type:"checkbox",value:t,checked:(null===(s=y[e.id])||void 0===s?void 0:s.includes(t))||!1,onChange:s=>{const a=y[e.id]||[];s.target.checked?j((0,Re.A)((0,Re.A)({},y),{},{[e.id]:[...a,t]})):j((0,Re.A)((0,Re.A)({},y),{},{[e.id]:a.filter(e=>e!==t)}))},className:"mr-2"}),t]},t)})})]},e.id))}):(0,ct.jsxs)("div",{className:"text-center py-8",children:[(0,ct.jsx)("p",{className:"text-gray-600",children:"No registration form questions found."}),(0,ct.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Click submit to register without additional questions."})]}),(0,ct.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,ct.jsx)("button",{onClick:()=>v(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),(0,ct.jsx)("button",{onClick:async()=>{if(o&&r){w(!0);try{await(0,tt.f4f)(o.id,r.member_id,y),_s.success("Successfully registered for tournament!"),v(!1),j({});const[e,t]=await Promise.all([(0,tt.UoH)(),(0,tt.qM8)(r.member_id)]),s=e.data.find(e=>e.id===o.id);s&&c(s),x(t.data)}catch(s){var e,t;console.error("Registration form error:",s),_s.error((null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to register for tournament")}finally{w(!1)}}},disabled:!(()=>{if(!o)return!0;const e=A(o);if(!e)return!0;const t=e.questions||[];for(const s of t)if((!s.conditional||y[s.conditional.dependsOn]===s.conditional.showWhen)&&s.required){const e=y[s.id];if("radio"===s.type){if(!e||""===e.trim())return!1}else if("checkbox"===s.type){if(!e||!Array.isArray(e)||0===e.length)return!1}else if("text"===s.type&&(!e||""===e.trim()))return!1}return!0})()||N,className:"px-4 py-2 bg-brand-neon-green text-brand-black rounded-md hover:bg-green-400 disabled:opacity-50",children:N?"Submitting...":"Submit Registration"})]})]})}),_&&o&&(0,ct.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60",children:(0,ct.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold",children:"Submit Payment"}),(0,ct.jsx)("button",{onClick:()=>k(!1),className:"text-gray-400 hover:text-gray-600",children:(0,ct.jsx)(Qe,{className:"w-5 h-5"})})]}),(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[(0,ct.jsx)("p",{className:"text-blue-800 text-sm font-medium mb-1",children:"Payment Instructions:"}),(0,ct.jsxs)("ol",{className:"text-blue-700 text-sm space-y-1",children:[(0,ct.jsx)("li",{children:"1. Click the Venmo link below"}),(0,ct.jsxs)("li",{children:["2. Send $",o.entry_fee," to the organizer"]}),(0,ct.jsx)("li",{children:"3. Include your name in the payment note"}),(0,ct.jsx)("li",{children:"4. The organizer will mark you as paid once they confirm payment"})]})]}),o.payment_organizer&&"other"!==o.payment_organizer&&(0,ct.jsxs)("div",{className:"border rounded-lg p-3 ".concat("jeff"===o.payment_organizer?"bg-green-50 border-green-200":"bg-blue-50 border-blue-200"),children:[(0,ct.jsx)("p",{className:"text-sm mb-2 ".concat("jeff"===o.payment_organizer?"text-green-700":"text-blue-700"),children:"jeff"===o.payment_organizer?"Jeff Testa":"Adam Christopher"}),(0,ct.jsxs)("a",{href:"jeff"===o.payment_organizer?"https://venmo.com/u/JeffTesta":"https://venmo.com/u/NN_No10",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-2 text-white rounded-lg text-sm font-medium transition-colors ".concat("jeff"===o.payment_organizer?"bg-green-600 hover:bg-green-700":"bg-blue-600 hover:bg-blue-700"),children:[(0,ct.jsx)(Xn,{className:"w-4 h-4 mr-2"}),"Pay $",o.entry_fee," on Venmo"]})]}),"other"===o.payment_organizer&&o.payment_organizer_name&&(0,ct.jsxs)("div",{className:"border rounded-lg p-3 bg-purple-50 border-purple-200",children:[(0,ct.jsx)("p",{className:"text-sm mb-2 text-purple-700",children:o.payment_organizer_name}),o.payment_venmo_url&&(0,ct.jsxs)("a",{href:o.payment_venmo_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-2 bg-purple-600 text-white rounded-lg text-sm font-medium hover:bg-purple-700 transition-colors",children:[(0,ct.jsx)(Xn,{className:"w-4 h-4 mr-2"}),"Pay $",o.entry_fee," on Venmo"]})]})]}),(0,ct.jsx)("div",{className:"flex justify-end mt-6",children:(0,ct.jsx)("button",{onClick:()=>k(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Close"})})]})})]})});var O},Nl=()=>{const{user:e}=mt(),[t,s]=(Z(),Me()),[r,n]=(0,a.useState)([]),[l,i]=(0,a.useState)([]),[o,c]=(0,a.useState)(!0),[d,u]=(0,a.useState)(""),[m,x]=(0,a.useState)("all"),[h,p]=(0,a.useState)(null),[g,f]=(0,a.useState)(!1),b=new Set(l.map(e=>e.id));(0,a.useEffect)(()=>{(async()=>{c(!0);try{const[a,r,l]=await Promise.all([(0,tt.UoH)(),(0,tt.qM8)((null===e||void 0===e?void 0:e.member_id)||0),(0,tt.nTv)((null===e||void 0===e?void 0:e.member_id)||0)]);n(a.data),i(r.data);const o=t.get("tournament");if(o){const e=a.data.find(e=>e.id===parseInt(o));e&&(p(parseInt(o)),f(!0),s({}))}}catch(a){console.error("Error fetching tournaments:",a),_s.error("Failed to load tournaments")}finally{c(!1)}})()},[null===e||void 0===e?void 0:e.member_id,t,s]);const v=e=>{p(e),f(!0)},y=r.filter(e=>{var t,s,a;const r=e.name.toLowerCase().includes(d.toLowerCase())||(null===(t=e.description)||void 0===t?void 0:t.toLowerCase().includes(d.toLowerCase()))||(null===(s=e.location)||void 0===s?void 0:s.toLowerCase().includes(d.toLowerCase()))||(null===(a=e.course)||void 0===a?void 0:a.toLowerCase().includes(d.toLowerCase())),n="all"===m||e.tournament_format===m;return r&&n}),j=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"active":case"open":return"text-green-600";case"draft":default:return"text-gray-600";case"closed":return"text-red-600"}},N=e=>{switch(e){case"match_play":return"Match Play";case"stroke_play":return"Stroke Play";case"team_match_play":return"Team Match Play";case"team_stroke_play":return"Team Stroke Play";default:return(null===e||void 0===e?void 0:e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()))||"Unknown"}};return o?(0,ct.jsxs)("div",{className:"text-center py-8",children:[(0,ct.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-neon-green mx-auto"}),(0,ct.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading tournaments..."})]}):(0,ct.jsxs)(la,{children:[(0,ct.jsx)(ia,{title:"Available Tournaments",subtitle:"Register for upcoming tournaments and events",icon:(0,ct.jsx)(qe,{className:"w-7 h-7 text-brand-neon-green"}),action:e?void 0:(0,ct.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,ct.jsxs)("p",{className:"text-blue-800 text-sm",children:[(0,ct.jsx)(ar,{className:"w-4 h-4 inline mr-1"}),"Please log in to register"]})})}),(0,ct.jsxs)(oa,{children:[(0,ct.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,ct.jsx)("div",{className:"flex-1",children:(0,ct.jsxs)("div",{className:"relative",children:[(0,ct.jsx)(Za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,ct.jsx)("input",{type:"text",placeholder:"Search tournaments...",value:d,onChange:e=>u(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"})]})}),(0,ct.jsx)("div",{className:"sm:w-48",children:(0,ct.jsxs)("select",{value:m,onChange:e=>x(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,ct.jsx)("option",{value:"all",children:"All Formats"}),(0,ct.jsx)("option",{value:"match_play",children:"Match Play"}),(0,ct.jsx)("option",{value:"stroke_play",children:"Stroke Play"}),(0,ct.jsx)("option",{value:"team_match_play",children:"Team Match Play"}),(0,ct.jsx)("option",{value:"team_stroke_play",children:"Team Stroke Play"})]})})]}),0===y.length?(0,ct.jsxs)("div",{className:"text-center py-12",children:[(0,ct.jsx)(qe,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,ct.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No tournaments found"}),(0,ct.jsx)("p",{className:"text-gray-600",children:d||"all"!==m?"Try adjusting your search or filter criteria":"Check back later for new tournaments"})]}):(0,ct.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map(e=>{return(0,ct.jsx)("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer border border-gray-200",onClick:()=>v(e.id),children:(0,ct.jsxs)("div",{className:"p-6",children:[(0,ct.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,ct.jsxs)("div",{className:"flex-1",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:e.name}),(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[e.status&&(0,ct.jsx)("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium ".concat(j(e.status)),children:e.status}),(0,ct.jsx)("span",{className:"text-sm text-gray-500",children:N(e.tournament_format||"")})]})]}),(0,ct.jsx)(qe,{className:"w-6 h-6 text-brand-neon-green flex-shrink-0"})]}),(0,ct.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,ct.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,ct.jsx)(Nt,{className:"w-4 h-4 mr-2"}),(0,ct.jsx)("span",{children:(s=e.start_date||"",s?new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"TBD")})]}),e.location&&(0,ct.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,ct.jsx)(Ge,{className:"w-4 h-4 mr-2"}),(0,ct.jsx)("span",{children:e.location})]}),e.course&&(0,ct.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,ct.jsx)(Ge,{className:"w-4 h-4 mr-2"}),(0,ct.jsx)("span",{children:e.course})]}),e.entry_fee&&e.entry_fee>0&&(0,ct.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,ct.jsx)(Xn,{className:"w-4 h-4 mr-2"}),(0,ct.jsxs)("span",{children:["$",e.entry_fee," entry fee"]})]})]}),e.description&&(0,ct.jsx)("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:e.description}),(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsx)("div",{className:"flex items-center space-x-2",children:(t=e.id,b.has(t)?(0,ct.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(0,ct.jsx)(Ze,{className:"w-3 h-3 mr-1"}),"Registered"]}):(0,ct.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[(0,ct.jsx)(Ye,{className:"w-3 h-3 mr-1"}),"Available"]}))}),(0,ct.jsx)("button",{onClick:t=>{t.stopPropagation(),v(e.id)},className:"text-brand-neon-green hover:text-brand-dark-green text-sm font-medium",children:"View Details \u2192"})]})]})},e.id);var t,s})}),g&&h&&(0,ct.jsx)(jl,{tournamentId:h,onClose:()=>{f(!1),p(null);(async()=>{try{const[t,s]=await Promise.all([(0,tt.UoH)(),(0,tt.qM8)((null===e||void 0===e?void 0:e.member_id)||0)]);n(t.data),i(s.data)}catch(t){console.error("Error refreshing tournaments:",t)}})()}})]})]})},wl=We("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),_l=We("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),kl=We("square-check-big",[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Sl=We("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),Cl=()=>{const[e,t]=(0,a.useState)("roles"),[s,r]=(0,a.useState)([]),[n,l]=(0,a.useState)([]),[i,o]=(0,a.useState)({}),[c,d]=(0,a.useState)(null),[u,m]=(0,a.useState)(!0),[x,h]=(0,a.useState)(!1),[p,g]=(0,a.useState)(!1),[f,b]=(0,a.useState)(!1),[v,y]=(0,a.useState)(""),[j,N]=(0,a.useState)(""),[w,_]=(0,a.useState)(""),[k,S]=(0,a.useState)([]),[C,A]=(0,a.useState)([]),[E,T]=(0,a.useState)(!1),[P,D]=(0,a.useState)(""),[M,R]=(0,a.useState)(null),[L,F]=(0,a.useState)(!1),[O,I]=(0,a.useState)(!1);(0,a.useEffect)(()=>{z()},[]);const z=async()=>{try{m(!0);const[e,t]=await Promise.all([(0,tt.O0z)(),(0,tt.VE_)()]);r(e.data),l(t.data.permissions),o(t.data.grouped)}catch(e){console.error("Error loading data:",e),_s.error("Failed to load roles and permissions")}finally{m(!1)}},B=()=>{y(""),N(""),_(""),S([]),d(null)},U=e=>"admin"===e.role_key?"bg-red-100 text-red-800 border-red-200":"club_pro"===e.role_key?"bg-blue-100 text-blue-800 border-blue-200":"ambassador"===e.role_key?"bg-purple-100 text-purple-800 border-purple-200":"deactivated"===e.role_key?"bg-gray-100 text-gray-500 border-gray-200":"bg-green-100 text-green-800 border-green-200",H=e=>"admin"===e?"bg-red-100 text-red-800 border-red-200":"club_pro"===e?"bg-blue-100 text-blue-800 border-blue-200":"ambassador"===e?"bg-purple-100 text-purple-800 border-purple-200":"deactivated"===e?"bg-gray-100 text-gray-500 border-gray-200":"bg-green-100 text-green-800 border-green-200",W=async e=>{try{T(!0);const t=await(0,tt.O1W)(e);A(t.data)}catch(t){console.error("Error loading users:",t),_s.error("Failed to load users")}finally{T(!1)}},q=()=>{W(P)};return(0,a.useEffect)(()=>{"users"===e&&0===C.length&&W()},[e]),u?(0,ct.jsx)("div",{className:"flex items-center justify-center p-12",children:(0,ct.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-neon-green"})}):(0,ct.jsxs)(la,{children:[(0,ct.jsx)(ia,{title:"Role & Permission Management",subtitle:"Create roles, assign permissions, and manage user access",icon:(0,ct.jsx)(Nn,{className:"w-7 h-7 text-blue-600"}),action:"roles"===e?(0,ct.jsxs)(pa,{onClick:()=>{B(),h(!0)},variant:"primary",size:"sm",responsive:!0,children:[(0,ct.jsx)(Gt,{className:"w-4 h-4 mr-1 sm:mr-2"}),(0,ct.jsx)("span",{className:"hidden sm:inline",children:"Create Role"}),(0,ct.jsx)("span",{className:"sm:hidden",children:"Create"})]}):void 0}),(0,ct.jsxs)(oa,{children:[(0,ct.jsx)("div",{className:"border-b border-gray-200",children:(0,ct.jsxs)("nav",{className:"-mb-px flex space-x-4 sm:space-x-8 overflow-x-auto",children:[(0,ct.jsxs)("button",{onClick:()=>t("roles"),className:"py-2 px-1 border-b-2 font-medium text-xs sm:text-sm whitespace-nowrap min-h-[44px] ".concat("roles"===e?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,ct.jsx)(Nn,{className:"w-4 h-4 inline-block mr-1 sm:mr-2"}),(0,ct.jsx)("span",{className:"hidden sm:inline",children:"Roles & Permissions"}),(0,ct.jsx)("span",{className:"sm:hidden",children:"Roles"})]}),(0,ct.jsxs)("button",{onClick:()=>t("users"),className:"py-2 px-1 border-b-2 font-medium text-xs sm:text-sm whitespace-nowrap min-h-[44px] ".concat("users"===e?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,ct.jsx)(Ye,{className:"w-4 h-4 inline-block mr-1 sm:mr-2"}),(0,ct.jsx)("span",{className:"hidden sm:inline",children:"User Role Assignments"}),(0,ct.jsx)("span",{className:"sm:hidden",children:"Users"})]})]})}),"roles"===e&&(0,ct.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(e=>(0,ct.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-5 hover:shadow-md transition-shadow",children:[(0,ct.jsx)("div",{className:"flex items-start justify-between mb-3",children:(0,ct.jsxs)("div",{className:"flex-1",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,ct.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold border ".concat(U(e)),children:e.role_name}),e.is_system_role&&(0,ct.jsx)("div",{title:"System Role",className:"inline-flex",children:(0,ct.jsx)(wl,{className:"w-4 h-4 text-gray-400"})})]}),(0,ct.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2",children:e.description||"No description"})]})}),(0,ct.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-gray-500 mb-4",children:[(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)(Nn,{className:"w-3.5 h-3.5 mr-1"}),e.permission_count||0," permissions"]}),(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)(Ye,{className:"w-3.5 h-3.5 mr-1"}),e.user_count||0," users"]})]}),(0,ct.jsxs)("div",{className:"flex gap-2",children:[(0,ct.jsxs)(pa,{onClick:()=>(e=>{var t;d(e);const s=(null===(t=e.permissions)||void 0===t?void 0:t.map(e=>e.id))||[];S(s),b(!0)})(e),variant:"secondary",size:"xs",responsive:!0,className:"flex-1",children:[(0,ct.jsx)(Nn,{className:"w-3.5 h-3.5 mr-1"}),(0,ct.jsx)("span",{className:"hidden sm:inline",children:"Permissions"}),(0,ct.jsx)("span",{className:"sm:hidden",children:"Perms"})]}),(0,ct.jsx)(pa,{onClick:()=>(e=>{d(e),y(e.role_name),_(e.description||""),g(!0)})(e),variant:"ghost",size:"xs",children:(0,ct.jsx)(Rn,{className:"w-3.5 h-3.5"})}),!e.is_system_role&&(0,ct.jsx)(pa,{onClick:()=>(async e=>{if(e.is_system_role)_s.error("Cannot delete system roles");else if(window.confirm('Are you sure you want to delete the role "'.concat(e.role_name,'"? This action cannot be undone.')))try{await(0,tt.EOX)(e.id),_s.success("Role deleted successfully"),z()}catch(a){var t,s;console.error("Error deleting role:",a),_s.error((null===(t=a.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.error)||"Failed to delete role")}})(e),variant:"danger",size:"xs",children:(0,ct.jsx)(Tn,{className:"w-3.5 h-3.5"})})]})]},e.id))}),"users"===e&&(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[(0,ct.jsx)("div",{className:"flex-1",children:(0,ct.jsx)(vr,{value:P,onChange:e=>D(e.target.value),onKeyDown:e=>"Enter"===e.key&&q(),placeholder:"Search by name or email...",icon:Za,iconPosition:"left",fullWidth:!0})}),(0,ct.jsx)(pa,{onClick:q,variant:"primary",size:"md",responsive:!0,className:"w-full sm:w-auto",children:"Search"})]}),E?(0,ct.jsx)("div",{className:"flex items-center justify-center p-12",children:(0,ct.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,ct.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-x-auto",children:(0,ct.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ct.jsx)("thead",{className:"bg-gray-50",children:(0,ct.jsxs)("tr",{children:[(0,ct.jsx)("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),(0,ct.jsx)("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden sm:table-cell",children:"Club"}),(0,ct.jsx)("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Roles"}),(0,ct.jsx)("th",{className:"px-3 sm:px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,ct.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[C.map(e=>(0,ct.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,ct.jsxs)("td",{className:"px-3 sm:px-6 py-3 sm:py-4",children:[(0,ct.jsxs)("div",{className:"font-medium text-gray-900 text-sm",children:[e.first_name," ",e.last_name]}),(0,ct.jsx)("div",{className:"text-xs sm:text-sm text-gray-500 truncate max-w-[120px] sm:max-w-none",children:e.email_address})]}),(0,ct.jsx)("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap text-sm text-gray-500 hidden sm:table-cell",children:e.club||"-"}),(0,ct.jsx)("td",{className:"px-3 sm:px-6 py-3 sm:py-4",children:(0,ct.jsx)("div",{className:"flex flex-wrap gap-1",children:0===e.roles.length?(0,ct.jsx)("span",{className:"text-xs sm:text-sm text-gray-400 italic",children:"No roles"}):e.roles.map(e=>(0,ct.jsxs)("span",{className:"inline-flex items-center px-1.5 sm:px-2 py-0.5 rounded text-[10px] sm:text-xs font-medium border ".concat(H(e.role_key)),children:[e.is_primary&&(0,ct.jsx)(_l,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 mr-0.5 sm:mr-1 fill-current"}),e.role_name]},e.role_id))})}),(0,ct.jsx)("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,ct.jsxs)("button",{onClick:()=>(e=>{R(e),F(!0)})(e),className:"text-blue-600 hover:text-blue-900 flex items-center ml-auto min-h-[44px] px-2",children:[(0,ct.jsx)(Ze,{className:"w-4 h-4 sm:mr-1"}),(0,ct.jsx)("span",{className:"hidden sm:inline",children:"Manage"})]})})]},e.member_id)),0===C.length&&(0,ct.jsx)("tr",{children:(0,ct.jsx)("td",{colSpan:4,className:"px-3 sm:px-6 py-8 text-center text-gray-500 text-sm",children:P?"No users found":"Search for users to manage their roles"})})]})]})})]}),(0,ct.jsxs)(Mr,{open:x,onClose:()=>h(!1),size:"md",children:[(0,ct.jsx)(Rr,{children:"Create New Role"}),(0,ct.jsx)(Lr,{children:(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsx)(vr,{label:"Role Name",value:v,onChange:e=>y(e.target.value),placeholder:"e.g., Tournament Director",required:!0,fullWidth:!0}),(0,ct.jsx)(vr,{label:"Role Key",value:j,onChange:e=>N(e.target.value),placeholder:"e.g., tournament_director",helperText:"Unique identifier (lowercase, underscores allowed)",required:!0,fullWidth:!0}),(0,ct.jsx)(yr,{label:"Description",value:w,onChange:e=>_(e.target.value),placeholder:"What can users with this role do?",rows:3,fullWidth:!0})]})}),(0,ct.jsxs)(Fr,{children:[(0,ct.jsx)(pa,{variant:"outline",onClick:()=>h(!1),size:"sm",responsive:!0,children:"Cancel"}),(0,ct.jsxs)(pa,{variant:"primary",onClick:async()=>{if(v&&j)try{await(0,tt.rdY)({role_name:v,role_key:j,description:w,permissions:k}),_s.success("Role created successfully"),h(!1),B(),z()}catch(s){var e,t;console.error("Error creating role:",s),_s.error((null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to create role")}else _s.error("Role name and key are required")},size:"sm",responsive:!0,children:[(0,ct.jsx)(Yt,{className:"w-4 h-4 mr-1"}),"Create"]})]})]}),(0,ct.jsxs)(Mr,{open:p&&!!c,onClose:()=>g(!1),size:"md",children:[(0,ct.jsx)(Rr,{children:"Edit Role"}),(0,ct.jsxs)(Lr,{children:[(null===c||void 0===c?void 0:c.is_system_role)&&(0,ct.jsxs)("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg flex items-start",children:[(0,ct.jsx)(lr,{className:"w-5 h-5 text-yellow-600 mr-2 mt-0.5 flex-shrink-0"}),(0,ct.jsxs)("div",{className:"text-sm text-yellow-800",children:[(0,ct.jsx)("strong",{children:"System Role:"})," You can only edit the name and description."]})]}),(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsx)(vr,{label:"Role Name",value:v,onChange:e=>y(e.target.value),fullWidth:!0}),(0,ct.jsx)(yr,{label:"Description",value:w,onChange:e=>_(e.target.value),rows:3,fullWidth:!0})]})]}),(0,ct.jsxs)(Fr,{children:[(0,ct.jsx)(pa,{variant:"outline",onClick:()=>g(!1),size:"sm",responsive:!0,children:"Cancel"}),(0,ct.jsxs)(pa,{variant:"primary",onClick:async()=>{if(c)try{await(0,tt.S0g)(c.id,{role_name:v,description:w}),_s.success("Role updated successfully"),g(!1),B(),z()}catch(s){var e,t;console.error("Error updating role:",s),_s.error((null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to update role")}},size:"sm",responsive:!0,children:[(0,ct.jsx)(Yt,{className:"w-4 h-4 mr-1"}),"Save"]})]})]}),(0,ct.jsxs)(Mr,{open:f&&!!c,onClose:()=>b(!1),size:"lg",children:[(0,ct.jsx)(Rr,{children:(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("span",{className:"block",children:["Manage Permissions: ",null===c||void 0===c?void 0:c.role_name]}),(0,ct.jsxs)("span",{className:"text-sm font-normal text-gray-600",children:[k.length," of ",n.length," selected"]})]})}),(0,ct.jsx)(Lr,{children:(0,ct.jsx)("div",{className:"space-y-6",children:Object.keys(i).sort().map(e=>{const t=i[e],s=t.every(e=>k.includes(e.id)),a=t.some(e=>k.includes(e.id))&&!s;return(0,ct.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,ct.jsx)("div",{className:"flex items-center mb-3 pb-3 border-b border-gray-200",children:(0,ct.jsxs)("button",{onClick:()=>((e,t)=>{var s;const a=(null===(s=i[e])||void 0===s?void 0:s.map(e=>e.id))||[];S(e=>{if(t){const t=e.concat(a);return Array.from(new Set(t))}return e.filter(e=>!a.includes(e))})})(e,!s),className:"flex items-center space-x-2 hover:bg-gray-50 px-2 py-1 rounded transition-colors",children:[s?(0,ct.jsx)(kl,{className:"w-5 h-5 text-blue-600"}):a?(0,ct.jsx)("div",{className:"w-5 h-5 bg-blue-100 border-2 border-blue-600 rounded flex items-center justify-center",children:(0,ct.jsx)("div",{className:"w-2 h-2 bg-blue-600 rounded-sm"})}):(0,ct.jsx)(Sl,{className:"w-5 h-5 text-gray-400"}),(0,ct.jsx)("span",{className:"text-sm font-semibold text-gray-900 capitalize",children:e})]})}),(0,ct.jsx)("div",{className:"space-y-2",children:t.map(e=>(0,ct.jsxs)("label",{className:"flex items-start space-x-3 p-2 hover:bg-gray-50 rounded cursor-pointer",children:[(0,ct.jsx)("input",{type:"checkbox",checked:k.includes(e.id),onChange:()=>{return t=e.id,void S(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 mt-0.5"}),(0,ct.jsxs)("div",{className:"flex-1",children:[(0,ct.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.permission_name}),(0,ct.jsx)("div",{className:"text-xs text-gray-500",children:e.description})]})]},e.id))})]},e)})})}),(0,ct.jsxs)(Fr,{children:[(0,ct.jsx)(pa,{variant:"outline",onClick:()=>b(!1),size:"sm",responsive:!0,children:"Cancel"}),(0,ct.jsxs)(pa,{variant:"primary",onClick:async()=>{if(c)try{await(0,tt.UlC)(c.id,k),_s.success("Permissions updated successfully"),b(!1),B(),z()}catch(s){var e,t;console.error("Error updating permissions:",s),_s.error((null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to update permissions")}},size:"sm",responsive:!0,children:[(0,ct.jsx)(Yt,{className:"w-4 h-4 mr-1"}),"Save"]})]})]}),(0,ct.jsxs)(Mr,{open:L&&!!M,onClose:()=>F(!1),size:"md",children:[(0,ct.jsx)(Rr,{children:(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("span",{className:"block",children:["Manage Roles: ",null===M||void 0===M?void 0:M.first_name," ",null===M||void 0===M?void 0:M.last_name]}),(0,ct.jsx)("span",{className:"text-sm font-normal text-gray-500",children:null===M||void 0===M?void 0:M.email_address})]})}),(0,ct.jsx)(Lr,{children:M&&(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsxs)("div",{className:"mb-6",children:[(0,ct.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Current Roles"}),0===M.roles.length?(0,ct.jsx)("p",{className:"text-sm text-gray-400 italic",children:"No roles assigned"}):(0,ct.jsx)("div",{className:"space-y-2",children:M.roles.map(e=>(0,ct.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)("span",{className:"px-2 py-0.5 rounded text-xs font-medium border ".concat(H(e.role_key)),children:e.role_name}),e.is_primary&&(0,ct.jsxs)("span",{className:"ml-2 text-xs text-yellow-600 flex items-center",children:[(0,ct.jsx)(_l,{className:"w-3 h-3 mr-1 fill-current"}),"Primary"]})]}),(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[!e.is_primary&&M.roles.length>1&&(0,ct.jsx)("button",{onClick:()=>(async e=>{if(M)try{await(0,tt.AKA)(M.member_id,e),_s.success("Primary role updated successfully");const t=await(0,tt.O1W)(P);A(t.data);const s=t.data.find(e=>e.member_id===M.member_id);s&&R(s)}catch(a){var t,s;console.error("Error setting primary role:",a),_s.error((null===(t=a.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.error)||"Failed to set primary role")}})(e.role_id),className:"text-xs text-blue-600 hover:text-blue-800",children:"Set Primary"}),(0,ct.jsx)("button",{onClick:()=>(async e=>{if(M&&window.confirm("Are you sure you want to remove this role from the user?"))try{await(0,tt.k2I)(M.member_id,e),_s.success("Role removed successfully");const t=await(0,tt.O1W)(P);A(t.data);const s=t.data.find(e=>e.member_id===M.member_id);s&&R(s)}catch(a){var t,s;console.error("Error removing role:",a),_s.error((null===(t=a.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.error)||"Failed to remove role")}})(e.role_id),className:"text-red-600 hover:text-red-800",children:(0,ct.jsx)(Tn,{className:"w-4 h-4"})})]})]},e.role_id))})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Add Role"}),(0,ct.jsx)("div",{className:"grid grid-cols-2 gap-2",children:s.filter(e=>!M.roles.some(t=>t.role_id===e.id)).map(e=>(0,ct.jsxs)("button",{onClick:()=>(async e=>{if(M)try{I(!0);const t=0===M.roles.length;await(0,tt.ZDT)(M.member_id,e,t),_s.success("Role assigned successfully");const s=await(0,tt.O1W)(P);A(s.data);const a=s.data.find(e=>e.member_id===M.member_id);a&&R(a)}catch(a){var t,s;console.error("Error assigning role:",a),_s.error((null===(t=a.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.error)||"Failed to assign role")}finally{I(!1)}})(e.id),disabled:O,className:"p-3 border rounded-lg text-left hover:bg-gray-50 transition-colors disabled:opacity-50 ".concat(O?"cursor-not-allowed":""),children:[(0,ct.jsx)("span",{className:"inline-block px-2 py-0.5 rounded text-xs font-medium border ".concat(U(e)),children:e.role_name}),e.description&&(0,ct.jsx)("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:e.description})]},e.id))}),0===s.filter(e=>!M.roles.some(t=>t.role_id===e.id)).length&&(0,ct.jsx)("p",{className:"text-sm text-gray-400 italic text-center py-4",children:"User has all available roles assigned"})]})]})}),(0,ct.jsx)(Fr,{children:(0,ct.jsx)(pa,{variant:"secondary",onClick:()=>F(!1),size:"sm",responsive:!0,children:"Close"})})]})]})]})},Al=()=>{const e=Z(),[t,s]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0),[l,i]=(0,a.useState)(null),[o,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)({name:"",season:"",start_date:"",end_date:"",teams_per_division:8,format:"round_robin",scoring_rules:{points_per_win:2,points_per_tie:1,points_per_loss:0,playoff_format:"single_elimination",tiebreaker_criteria:["head_to_head","aggregate_score","handicap_differential"]}}),[m,x]=(0,a.useState)({}),[h,p]=(0,a.useState)(!1);(0,a.useEffect)(()=>{g()},[]);const g=async()=>{n(!0);try{const e=await(0,tt.bEt)(),t=e.data.map(e=>({id:e.id,name:e.name,season:e.season||"",start_date:e.start_date,end_date:e.end_date,teams_per_division:e.teams_per_division||8,scoring_rules:{points_per_win:e.points_for_win||2,points_per_tie:e.points_for_tie||1,points_per_loss:e.points_for_loss||0,playoff_format:e.playoff_format||"single_elimination",tiebreaker_criteria:["head_to_head","aggregate_score","handicap_differential"]},format:e.format||"round_robin",status:e.status,created_at:e.created_at,updated_at:e.updated_at}));s(t)}catch(e){console.error("Error loading leagues:",e),_s.error("Failed to load leagues")}finally{n(!1)}},f=async()=>{if((()=>{const e={};return d.name.trim()||(e.name="League name is required"),d.season.trim()||(e.season="Season is required"),d.start_date||(e.start_date="Start date is required"),d.end_date||(e.end_date="End date is required"),d.start_date&&d.end_date&&d.start_date>=d.end_date&&(e.end_date="End date must be after start date"),(d.teams_per_division<4||d.teams_per_division>16)&&(e.teams_per_division="Teams per division must be between 4 and 16"),x(e),0===Object.keys(e).length})()){p(!0);try{const e={name:d.name,season:d.season,start_date:d.start_date,end_date:d.end_date,teams_per_division:d.teams_per_division,format:d.format,points_for_win:d.scoring_rules.points_per_win,points_for_tie:d.scoring_rules.points_per_tie,points_for_loss:d.scoring_rules.points_per_loss,playoff_format:d.scoring_rules.playoff_format,individual_holes:9,alternate_shot_holes:9,active_players_per_week:3,roster_size_min:4,roster_size_max:5,weeks_per_season:18,divisions_count:2},t=(await(0,tt.MB9)(e)).data,a={id:t.id,name:t.name,season:t.season||"",start_date:t.start_date,end_date:t.end_date,teams_per_division:t.teams_per_division||8,scoring_rules:{points_per_win:t.points_for_win||2,points_per_tie:t.points_for_tie||1,points_per_loss:t.points_for_loss||0,playoff_format:t.playoff_format||"single_elimination",tiebreaker_criteria:["head_to_head","aggregate_score","handicap_differential"]},format:t.format||"round_robin",status:t.status,created_at:t.created_at,updated_at:t.updated_at};s(e=>[...e,a]),c(!1),u({name:"",season:"",start_date:"",end_date:"",teams_per_division:8,format:"round_robin",scoring_rules:{points_per_win:2,points_per_tie:1,points_per_loss:0,playoff_format:"single_elimination",tiebreaker_criteria:["head_to_head","aggregate_score","handicap_differential"]}}),_s.success("League created successfully")}catch(a){var e,t;console.error("Error creating league:",a),_s.error((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to create league")}finally{p(!1)}}},b=e=>{switch(e){case"draft":default:return(0,ct.jsx)(En,{className:"w-4 h-4"});case"active":return(0,ct.jsx)(qe,{className:"w-4 h-4"});case"completed":return(0,ct.jsx)(St,{className:"w-4 h-4"});case"paused":return(0,ct.jsx)(Qs,{className:"w-4 h-4"})}};return r?(0,ct.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,ct.jsx)($a,{size:"lg",label:"Loading leagues..."})}):(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsx)("div",{className:"bg-gradient-to-r from-brand-dark-green to-emerald-700 rounded-xl shadow-lg p-8",children:(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ct.jsx)("div",{className:"bg-white/20 backdrop-blur-sm rounded-full p-3",children:(0,ct.jsx)(qe,{className:"w-8 h-8 text-white"})}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h1",{className:"text-3xl font-bold text-white",children:"League Management"}),(0,ct.jsx)("p",{className:"text-white/90 mt-1",children:"Create and manage your golf leagues"})]})]}),(0,ct.jsx)(pa,{onClick:()=>c(!0),icon:Gt,variant:"primary",size:"lg",children:"Create League"})]})}),(0,ct.jsx)("div",{className:"grid grid-cols-1 gap-6",children:0===t.length?(0,ct.jsx)(Pa,{variant:"dark-elevated",children:(0,ct.jsxs)("div",{className:"text-center py-12",children:[(0,ct.jsx)(qe,{className:"w-16 h-16 mx-auto mb-4 text-neutral-300"}),(0,ct.jsx)("h3",{className:"text-lg font-semibold text-brand-black mb-2",children:"No leagues yet"}),(0,ct.jsx)("p",{className:"text-neutral-600 mb-4",children:"Get started by creating your first league"}),(0,ct.jsx)(pa,{onClick:()=>c(!0),icon:Gt,variant:"primary",children:"Create Your First League"})]})}):t.map(t=>(0,ct.jsx)(Pa,{variant:"dark-elevated",className:"overflow-hidden",children:(0,ct.jsxs)("div",{className:"p-6",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-4 flex-1",children:[(0,ct.jsx)("button",{onClick:()=>i(l===t.id?null:t.id),className:"p-2 hover:bg-neutral-100 rounded-lg transition-colors",children:l===t.id?(0,ct.jsx)(zt,{className:"w-5 h-5 text-neutral-500"}):(0,ct.jsx)(yt,{className:"w-5 h-5 text-neutral-500"})}),(0,ct.jsxs)("div",{className:"flex items-center space-x-3 flex-1",children:[b(t.status),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h3",{className:"text-xl font-bold text-brand-black",children:t.name}),(0,ct.jsx)("p",{className:"text-sm text-neutral-600",children:t.season})]})]}),(0,ct.jsx)(Wa,{status:"active"===t.status?"active":"draft"===t.status?"draft":"completed"})]}),(0,ct.jsx)("div",{className:"flex items-center space-x-3 ml-4",children:(0,ct.jsx)(pa,{variant:"primary",size:"md",icon:sa,onClick:()=>e("/admin/league/".concat(t.id)),children:"Manage League"})})]}),l===t.id&&(0,ct.jsxs)("div",{className:"mt-6 pt-6 border-t border-neutral-200 space-y-4",children:[(0,ct.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-sm font-medium text-neutral-600",children:"Format"}),(0,ct.jsx)("p",{className:"text-sm text-brand-black capitalize",children:t.format.replace("_"," ")})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-sm font-medium text-neutral-600",children:"Teams per Division"}),(0,ct.jsx)("p",{className:"text-sm text-brand-black",children:t.teams_per_division})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-sm font-medium text-neutral-600",children:"Start Date"}),(0,ct.jsx)("p",{className:"text-sm text-brand-black",children:new Date(t.start_date).toLocaleDateString()})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-sm font-medium text-neutral-600",children:"End Date"}),(0,ct.jsx)("p",{className:"text-sm text-brand-black",children:new Date(t.end_date).toLocaleDateString()})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-sm font-medium text-neutral-600 mb-2",children:"Scoring Rules"}),(0,ct.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm text-neutral-700",children:[(0,ct.jsxs)("div",{children:["Win: ",t.scoring_rules.points_per_win," pts"]}),(0,ct.jsxs)("div",{children:["Tie: ",t.scoring_rules.points_per_tie," pts"]}),(0,ct.jsxs)("div",{children:["Loss: ",t.scoring_rules.points_per_loss," pts"]})]})]}),(0,ct.jsxs)("div",{className:"mt-4 pt-4 border-t border-neutral-200",children:[(0,ct.jsx)("p",{className:"text-sm font-medium text-neutral-600 mb-3",children:"Quick Actions"}),(0,ct.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,ct.jsxs)("a",{href:"/league-standings/".concat(t.id),className:"inline-flex items-center px-3 py-2 bg-brand-neon-green text-brand-black rounded-lg hover:bg-green-400 transition-colors text-sm font-medium",children:[(0,ct.jsx)(gt,{className:"w-4 h-4 mr-2"}),"View Standings"]}),(0,ct.jsxs)("a",{href:"/weekly-results/".concat(t.id),className:"inline-flex items-center px-3 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm font-medium",children:[(0,ct.jsx)(Nt,{className:"w-4 h-4 mr-2"}),"Weekly Results"]}),(0,ct.jsxs)("button",{onClick:()=>e("/admin/league/".concat(t.id)),className:"inline-flex items-center px-3 py-2 bg-neutral-100 text-neutral-700 rounded-lg hover:bg-neutral-200 transition-colors text-sm font-medium",children:[(0,ct.jsx)(wt,{className:"w-4 h-4 mr-2"}),"View Details"]})]})]})]})]})},t.id))}),(0,ct.jsx)(zr,{open:o,onClose:()=>c(!1),onSubmit:e=>{e.preventDefault(),f()},title:"Create New League",submitText:"Create League",loading:h,size:"lg",children:(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ct.jsx)(vr,{label:"League Name",value:d.name,onChange:e=>u(t=>(0,Re.A)((0,Re.A)({},t),{},{name:e.target.value})),error:m.name,required:!0,placeholder:"e.g., Spring 2024 League"}),(0,ct.jsx)(vr,{label:"Season",value:d.season,onChange:e=>u(t=>(0,Re.A)((0,Re.A)({},t),{},{season:e.target.value})),error:m.season,required:!0,placeholder:"e.g., Spring 2024"}),(0,ct.jsx)(vr,{label:"Start Date",type:"date",value:d.start_date,onChange:e=>u(t=>(0,Re.A)((0,Re.A)({},t),{},{start_date:e.target.value})),error:m.start_date,required:!0}),(0,ct.jsx)(vr,{label:"End Date",type:"date",value:d.end_date,onChange:e=>u(t=>(0,Re.A)((0,Re.A)({},t),{},{end_date:e.target.value})),error:m.end_date,required:!0}),(0,ct.jsx)(vr,{label:"Teams per Division",type:"number",min:"4",max:"16",value:d.teams_per_division,onChange:e=>u(t=>(0,Re.A)((0,Re.A)({},t),{},{teams_per_division:parseInt(e.target.value)})),error:m.teams_per_division,required:!0}),(0,ct.jsx)(jr,{label:"Format",value:d.format,onChange:e=>u(t=>(0,Re.A)((0,Re.A)({},t),{},{format:e.target.value})),options:[{value:"round_robin",label:"Round Robin"},{value:"playoff",label:"Playoff"},{value:"hybrid",label:"Hybrid"}],error:m.format,required:!0})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-brand-black mb-4",children:"Scoring Rules"}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ct.jsx)(vr,{label:"Points per Win",type:"number",min:"0",value:d.scoring_rules.points_per_win,onChange:e=>u(t=>(0,Re.A)((0,Re.A)({},t),{},{scoring_rules:(0,Re.A)((0,Re.A)({},t.scoring_rules),{},{points_per_win:parseInt(e.target.value)})}))}),(0,ct.jsx)(vr,{label:"Points per Tie",type:"number",min:"0",value:d.scoring_rules.points_per_tie,onChange:e=>u(t=>(0,Re.A)((0,Re.A)({},t),{},{scoring_rules:(0,Re.A)((0,Re.A)({},t.scoring_rules),{},{points_per_tie:parseInt(e.target.value)})}))}),(0,ct.jsx)(vr,{label:"Points per Loss",type:"number",min:"0",value:d.scoring_rules.points_per_loss,onChange:e=>u(t=>(0,Re.A)((0,Re.A)({},t),{},{scoring_rules:(0,Re.A)((0,Re.A)({},t.scoring_rules),{},{points_per_loss:parseInt(e.target.value)})}))})]})]})]})})]})},El=We("arrow-right-left",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]),Tl=e=>{let{leagueId:t}=e;const[s,r]=(0,a.useState)([]),[n,l]=(0,a.useState)([]),[i,o]=(0,a.useState)(!0),[c,d]=(0,a.useState)(null),[u,m]=(0,a.useState)(!1),[x,h]=(0,a.useState)({name:"",max_teams:8}),[p,g]=(0,a.useState)(!1),[f,b]=(0,a.useState)(null),[v,y]=(0,a.useState)({name:"",captain_id:0}),[j,N]=(0,a.useState)({}),[w,_]=(0,a.useState)(!1);(0,a.useEffect)(()=>{t&&k()},[t]);const k=async()=>{o(!0);try{const e=(await(0,tt.bEt)()).data.find(e=>e.id===t),s=(null===e||void 0===e?void 0:e.divisions_count)||2,n=(null===e||void 0===e?void 0:e.teams_per_division)||8;let i=(await(0,tt.g2E)(t)).data;const o=i.length;if(o<s){const e=["A","B","C","D","E","F","G","H","I","J"],r=[];for(let n=o;n<s;n++)try{const s=await(0,tt.NB7)(t,{division_name:"Division ".concat(e[n]||n+1)});r.push(s.data)}catch(a){console.error("Error creating division ".concat(n+1,":"),a)}i=[...i,...r],r.length>0&&(0===o?_s.success("Created ".concat(r.length," divisions based on league settings")):_s.success("Added ".concat(r.length," more division").concat(r.length>1?"s":""," to match league settings")))}else o>s&&s>0&&_s.warning("You have ".concat(o," divisions but settings specify ").concat(s,". You can manually delete extra divisions if needed."));const c=(await(0,tt.ApS)(t)).data,d=(await(0,tt.DqU)()).data,u=i.map(e=>({id:e.id,name:e.division_name,max_teams:n,league_id:e.league_id,teams:c.filter(t=>t.division_id===e.id).map(e=>({id:e.id,name:e.name,captain_id:e.captain_id,captain_name:e.captain_name||"Unknown",division_id:e.division_id,members:[]}))}));r(u),l(d.map(e=>({id:e.member_id,first_name:e.first_name,last_name:e.last_name,sim_handicap:e.sim_handicap||0,club:e.club||"Unknown"})))}catch(n){var e,s;console.error("Error loading data:",n),_s.error((null===(e=n.response)||void 0===e||null===(s=e.data)||void 0===s?void 0:s.error)||"Failed to load data")}finally{o(!1)}},S=async()=>{if((()=>{const e={};return x.name.trim()||(e.name="Division name is required"),(x.max_teams<4||x.max_teams>16)&&(e.max_teams="Max teams must be between 4 and 16"),N(e),0===Object.keys(e).length})()){_(!0);try{const e=await(0,tt.NB7)(t,{division_name:x.name}),s={id:e.data.id,name:e.data.division_name,max_teams:x.max_teams,league_id:t,teams:[]};r(e=>[...e,s]),m(!1),h({name:"",max_teams:8}),_s.success("Division created successfully")}catch(e){console.error("Error creating division:",e),_s.error("Failed to create division")}finally{_(!1)}}},C=async()=>{if((()=>{const e={};return v.name.trim()||(e.name="Team name is required"),v.captain_id||(e.captain_id="Captain is required"),N(e),0===Object.keys(e).length})()&&f){_(!0);try{const e=n.find(e=>e.id===v.captain_id);if(!e)return void _s.error("Selected captain not found");const t={id:Date.now(),name:v.name,captain_id:v.captain_id,captain_name:"".concat(e.first_name," ").concat(e.last_name),division_id:f,members:[{id:Date.now()+1,user_id:e.id,first_name:e.first_name,last_name:e.last_name,sim_handicap:e.sim_handicap,role:"captain"}]};r(e=>e.map(e=>e.id===f?(0,Re.A)((0,Re.A)({},e),{},{teams:[...e.teams,t]}):e)),g(!1),y({name:"",captain_id:0}),b(null),_s.success("Team created successfully")}catch(e){console.error("Error creating team:",e),_s.error("Failed to create team")}finally{_(!1)}}};return i?(0,ct.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,ct.jsx)($a,{size:"lg",label:"Loading divisions..."})}):(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)(Ye,{className:"w-8 h-8 text-brand-neon-green"}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h2",{className:"text-2xl font-bold text-brand-black",children:"Division Management"}),(0,ct.jsx)("p",{className:"text-neutral-600",children:"Create and manage league divisions"})]})]}),(0,ct.jsx)(pa,{onClick:()=>m(!0),icon:Gt,variant:"primary",children:"Create Division"})]}),(0,ct.jsx)("div",{className:"space-y-4",children:s.map(e=>(0,ct.jsxs)(Pa,{children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ct.jsx)("button",{onClick:()=>d(c===e.id?null:e.id),className:"p-2 hover:bg-neutral-100 rounded-lg transition-colors",children:c===e.id?(0,ct.jsx)(zt,{className:"w-5 h-5 text-neutral-500"}):(0,ct.jsx)(yt,{className:"w-5 h-5 text-neutral-500"})}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-brand-black",children:e.name}),(0,ct.jsxs)("p",{className:"text-sm text-neutral-600",children:[e.teams.length," / ",e.max_teams," teams"]})]})]}),(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsx)(pa,{onClick:()=>{b(e.id),g(!0)},disabled:e.teams.length>=e.max_teams,icon:Gt,variant:"secondary",size:"sm",children:"Add Team"}),(0,ct.jsx)(pa,{variant:"danger",size:"sm",icon:Tn,onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this division? This will also delete all teams in this division."))try{await(0,tt.G2_)(t,e),r(t=>t.filter(t=>t.id!==e)),_s.success("Division deleted successfully")}catch(n){var s,a;console.error("Error deleting division:",n),_s.error((null===(s=n.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.error)||"Failed to delete division")}})(e.id),children:"Delete"})]})]}),c===e.id&&(0,ct.jsx)("div",{className:"mt-6 space-y-4",children:0===e.teams.length?(0,ct.jsxs)("div",{className:"text-center py-8 text-neutral-500",children:[(0,ct.jsx)(Ye,{className:"w-12 h-12 mx-auto mb-4 text-neutral-300"}),(0,ct.jsx)("p",{children:"No teams in this division yet"}),(0,ct.jsx)("p",{className:"text-sm",children:'Click "Add Team" to create the first team'})]}):(0,ct.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.teams.map(a=>(0,ct.jsxs)(Pa,{variant:"outlined",children:[(0,ct.jsxs)("div",{className:"mb-3",children:[(0,ct.jsx)("h4",{className:"font-semibold text-brand-black mb-2",children:a.name}),(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsx)(El,{className:"w-4 h-4 text-neutral-500"}),(0,ct.jsx)("span",{className:"text-sm text-neutral-600",children:"Move to:"}),(0,ct.jsx)("select",{value:e.id,onChange:n=>(async(e,a,n)=>{try{if(a===n)return;const l=s.find(e=>e.id===n);if(!l)return void _s.error("Selected division not found");const i=s.find(e=>e.id===a),o=null===i||void 0===i?void 0:i.teams.find(t=>t.id===e);if(!o)return void _s.error("Team not found");await(0,tt.qqG)(t,e,{division_id:n}),r(t=>t.map(t=>t.id===a?(0,Re.A)((0,Re.A)({},t),{},{teams:t.teams.filter(t=>t.id!==e)}):t.id===n?(0,Re.A)((0,Re.A)({},t),{},{teams:[...t.teams,(0,Re.A)((0,Re.A)({},o),{},{division_id:n})]}):t)),_s.success("Team moved to ".concat(l.name))}catch(o){var l,i;console.error("Error moving team:",o),_s.error((null===(l=o.response)||void 0===l||null===(i=l.data)||void 0===i?void 0:i.error)||"Failed to move team")}})(a.id,e.id,parseInt(n.target.value)),className:"flex-1 px-2 py-1 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent text-sm bg-white",children:s.map(e=>(0,ct.jsx)("option",{value:e.id,children:e.name},e.id))})]})]}),(0,ct.jsxs)("div",{className:"space-y-2",children:[(0,ct.jsxs)("p",{className:"text-sm text-neutral-600",children:["Captain: ",a.captain_name]}),(0,ct.jsxs)("p",{className:"text-sm text-neutral-600",children:["Members: ",a.members.length]}),(0,ct.jsx)("div",{className:"space-y-1",children:a.members.map(e=>(0,ct.jsx)("div",{className:"flex items-center text-sm",children:(0,ct.jsxs)("span",{className:"text-neutral-700",children:[e.first_name," ",e.last_name,"captain"===e.role&&(0,ct.jsx)(Ua,{variant:"brand",size:"sm",className:"ml-2",children:"Captain"})]})},e.id))})]})]},a.id))})})]},e.id))}),(0,ct.jsx)(zr,{open:u,onClose:()=>m(!1),onSubmit:e=>{e.preventDefault(),S()},title:"Create Division",submitText:"Create Division",loading:w,children:(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsx)(vr,{label:"Division Name",value:x.name,onChange:e=>h(t=>(0,Re.A)((0,Re.A)({},t),{},{name:e.target.value})),error:j.name,required:!0,placeholder:"e.g., Division A"}),(0,ct.jsx)(vr,{label:"Max Teams",type:"number",min:"4",max:"16",value:x.max_teams,onChange:e=>h(t=>(0,Re.A)((0,Re.A)({},t),{},{max_teams:parseInt(e.target.value)})),error:j.max_teams,required:!0})]})}),(0,ct.jsx)(zr,{open:p,onClose:()=>{g(!1),b(null)},onSubmit:e=>{e.preventDefault(),C()},title:"Create Team",submitText:"Create Team",loading:w,children:(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsx)(vr,{label:"Team Name",value:v.name,onChange:e=>y(t=>(0,Re.A)((0,Re.A)({},t),{},{name:e.target.value})),error:j.name,required:!0,placeholder:"e.g., Team Alpha"}),(0,ct.jsx)(jr,{label:"Captain",value:v.captain_id,onChange:e=>y(t=>(0,Re.A)((0,Re.A)({},t),{},{captain_id:parseInt(e.target.value)})),options:[{value:0,label:"Select captain..."},...n.map(e=>({value:e.id,label:"".concat(e.first_name," ").concat(e.last_name," (HCP: ").concat(e.sim_handicap,")")}))],error:j.captain_id,required:!0})]})})]})},Pl=e=>{let{onCourseSelect:t,onClose:s,selectedCourseId:r}=e;const[n,l]=(0,a.useState)(""),[i,o]=(0,a.useState)([]),[c,d]=(0,a.useState)([]),[u,m]=(0,a.useState)(!0),[x,h]=(0,a.useState)(null);(0,a.useEffect)(()=>{p()},[]),(0,a.useEffect)(()=>{if(""===n.trim())d(i);else{const e=n.toLowerCase(),t=i.filter(t=>{var s,a;return t.name.toLowerCase().includes(e)||(null===(s=t.location)||void 0===s?void 0:s.toLowerCase().includes(e))||(null===(a=t.designer)||void 0===a?void 0:a.toLowerCase().includes(e))});d(t)}},[n,i]);const p=async()=>{m(!0),h(null);try{const e=await(0,tt.B9o)();o(e.data),d(e.data)}catch(e){h(e.message||"Failed to load courses"),console.error("Error loading courses:",e)}finally{m(!1)}},g=e=>{t(e),s()};return(0,ct.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,ct.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] flex flex-col",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-neutral-200",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)("div",{className:"bg-brand-neon-green/10 rounded-full p-2",children:(0,ct.jsx)(qe,{className:"w-6 h-6 text-brand-neon-green"})}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h2",{className:"text-xl font-bold text-brand-black",children:"Select Course"}),(0,ct.jsx)("p",{className:"text-sm text-neutral-600",children:"Search from available simulator courses"})]})]}),(0,ct.jsx)("button",{onClick:s,className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:(0,ct.jsx)(Qe,{className:"w-6 h-6"})})]}),(0,ct.jsxs)("div",{className:"p-6 border-b border-neutral-200",children:[(0,ct.jsxs)("div",{className:"relative",children:[(0,ct.jsx)("input",{type:"text",value:n,onChange:e=>l(e.target.value),placeholder:"Search by course name, location, or designer...",className:"w-full pl-10 pr-4 py-3 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",autoFocus:!0}),(0,ct.jsx)(Za,{className:"absolute left-3 top-3.5 w-5 h-5 text-neutral-400"})]}),(0,ct.jsxs)("div",{className:"mt-2 text-sm text-neutral-600",children:["Showing ",c.length," of ",i.length," courses"]})]}),(0,ct.jsxs)("div",{className:"flex-1 overflow-y-auto p-6",children:[u&&(0,ct.jsxs)("div",{className:"text-center py-12",children:[(0,ct.jsx)(ca,{className:"w-8 h-8 animate-spin mx-auto text-brand-neon-green"}),(0,ct.jsx)("p",{className:"mt-2 text-neutral-600",children:"Loading courses..."})]}),x&&(0,ct.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:x}),!u&&!x&&0===c.length&&(0,ct.jsxs)("div",{className:"text-center py-12",children:[(0,ct.jsx)(qe,{className:"w-12 h-12 mx-auto mb-4 text-neutral-300"}),(0,ct.jsx)("p",{className:"text-neutral-600",children:"No courses found matching your search"})]}),!u&&!x&&c.length>0&&(0,ct.jsx)("div",{className:"space-y-3",children:c.map(e=>(0,ct.jsx)("div",{className:"border rounded-lg p-4 hover:border-brand-neon-green hover:bg-brand-neon-green/5 transition-all cursor-pointer ".concat(r===e.id?"border-brand-neon-green bg-brand-neon-green/10":"border-neutral-200"),onClick:()=>g(e),children:(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{className:"flex-1",children:[(0,ct.jsx)("h4",{className:"font-semibold text-brand-black text-lg",children:e.name}),(0,ct.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-neutral-600 mt-2",children:[e.location&&(0,ct.jsxs)("span",{className:"flex items-center",children:[(0,ct.jsx)(Ge,{className:"w-4 h-4 mr-1"}),e.location]}),e.par&&(0,ct.jsxs)("span",{className:"flex items-center",children:[(0,ct.jsx)(qe,{className:"w-4 h-4 mr-1"}),"Par ",e.par]}),e.designer&&(0,ct.jsxs)("span",{className:"text-neutral-500",children:["by ",e.designer]})]}),e.platforms&&e.platforms.length>0&&(0,ct.jsx)("div",{className:"flex gap-2 mt-2",children:e.platforms.map((e,t)=>(0,ct.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:e},t))})]}),(0,ct.jsx)("button",{onClick:t=>{t.stopPropagation(),g(e)},className:"px-4 py-2 bg-brand-neon-green text-brand-black font-medium rounded-lg hover:bg-green-400 transition-colors",children:"Select"})]})},e.id))})]})]})})},Dl=e=>{var t,s;let{leagueId:r}=e;const[n,l]=(0,a.useState)([]),[i,o]=(0,a.useState)([]),[c,d]=(0,a.useState)([]),[u,m]=(0,a.useState)(!0),[x,h]=(0,a.useState)(null),[p,g]=(0,a.useState)(!1),[f,b]=(0,a.useState)(!1),[v,y]=(0,a.useState)({week_number:1,start_date:"",end_date:"",course_id:0,course_name:""}),[j,N]=(0,a.useState)(null),[w,_]=(0,a.useState)(!1),[k,S]=(0,a.useState)({team1_id:0,team2_id:0,division_id:0}),[C,A]=(0,a.useState)({}),[E,T]=(0,a.useState)(!1);(0,a.useEffect)(()=>{r&&P()},[r]);const P=async()=>{m(!0);try{const s=(await(0,tt.bEt)()).data.find(e=>e.id===r),a=(null===s||void 0===s?void 0:s.weeks_per_season)||18,i=(null===s||void 0===s?void 0:s.teams_per_division)||8,c=null!==s&&void 0!==s&&s.start_date?new Date(s.start_date):new Date,u=(await(0,tt.g2E)(r)).data,m=(await(0,tt.ApS)(r)).data,x=u.map(e=>({id:e.id,name:e.division_name,teams:m.filter(t=>t.division_id===e.id).map(e=>({id:e.id,name:e.name,division_id:e.division_id,captain_name:e.captain_name||"Unknown"}))})),h=((await(0,tt.B9o)("","",100)).data.courses||[]).map(e=>({id:e.id,name:e.name,location:e.location||"",par:e.par||72}));let p=(await(0,tt.fIB)(r)).data;if(0===p.length&&a>0&&u.length>0)try{await(0,tt.G9$)(r,{weeks:a,start_date:c.toISOString().split("T")[0]});p=(await(0,tt.fIB)(r)).data,p.length>0&&_s.success("Created ".concat(a," week schedule based on league settings"))}catch(n){var e,t;console.error("Error auto-generating schedule:",n);const s=(null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||n.message;console.log("Schedule generation error details:",s)}const g=(await(0,tt.Nlt)(r)).data,f=Math.floor(i/2),b=p.map(e=>{const t=g.filter(t=>t.week_number===e.week_number).map(t=>({id:t.id,team1_id:t.team1_id,team1_name:t.team1_name,team2_id:t.team2_id,team2_name:t.team2_name,division_id:t.division_id,week_id:e.id,status:t.status,team1_score:t.team1_points,team2_score:t.team2_points})),s=[];return 0===t.length&&u.length>0&&u.forEach(t=>{for(let a=0;a<f;a++)s.push({id:-(1e3*e.id+10*t.id+a),team1_id:0,team1_name:"TBD",team2_id:0,team2_name:"TBD",division_id:t.id,week_id:e.id,status:"scheduled"})}),{id:e.id,week_number:e.week_number,start_date:e.week_start_date,end_date:e.week_end_date,course_id:e.course_id||0,course_name:e.course_name||"No course assigned",status:e.status,matches:t.length>0?t:s}});l(x),o(h),d(b)}catch(i){var s,a;console.error("Error loading data:",i),_s.error((null===(s=i.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.error)||"Failed to load data")}finally{m(!1)}},D=async()=>{(()=>{const e={};return v.start_date||(e.start_date="Start date is required"),v.end_date||(e.end_date="End date is required"),v.start_date&&v.end_date&&v.start_date>=v.end_date&&(e.end_date="End date must be after start date"),v.course_id||(e.course_id="Course is required"),A(e),0===Object.keys(e).length})()&&(_s.info('Use "Auto-Generate Schedule" from the main league page to create weeks'),g(!1),T(!1))},M=async()=>{(()=>{const e={};return k.team1_id||(e.team1_id="Team 1 is required"),k.team2_id||(e.team2_id="Team 2 is required"),k.team1_id&&k.team2_id&&k.team1_id===k.team2_id&&(e.team2_id="Teams must be different"),k.division_id||(e.division_id="Division is required"),A(e),0===Object.keys(e).length})()&&(_s.info('Use "Auto-Generate" to create matchups for a week'),_(!1),N(null),S({team1_id:0,team2_id:0,division_id:0}),T(!1))},R=e=>{switch(e){case"scheduled":case"in_progress":default:return(0,ct.jsx)(Qs,{className:"w-4 h-4"});case"active":return(0,ct.jsx)(pt,{className:"w-4 h-4"});case"completed":return(0,ct.jsx)(Ks,{className:"w-4 h-4"})}};return u?(0,ct.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,ct.jsx)($a,{size:"lg",label:"Loading schedule..."})}):(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)(Nt,{className:"w-8 h-8 text-brand-neon-green"}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h2",{className:"text-2xl font-bold text-brand-black",children:"Schedule Builder"}),(0,ct.jsx)("p",{className:"text-neutral-600",children:"Generate and manage league schedules"})]})]}),(0,ct.jsx)(pa,{onClick:()=>g(!0),icon:Gt,variant:"primary",children:"Add Week"})]}),0===c.length&&(0,ct.jsx)(Pa,{variant:"elevated",children:(0,ct.jsxs)("div",{className:"text-center py-12",children:[(0,ct.jsx)(Nt,{className:"w-16 h-16 mx-auto mb-4 text-neutral-300"}),(0,ct.jsx)("h3",{className:"text-lg font-semibold text-brand-black mb-2",children:"No Schedule Yet"}),(0,ct.jsx)("p",{className:"text-neutral-600 mb-6",children:"Generate a schedule based on your league settings to get started"}),(0,ct.jsx)(pa,{onClick:async()=>{try{const e=(await(0,tt.bEt)()).data.find(e=>e.id===r),t=(null===e||void 0===e?void 0:e.weeks_per_season)||18,s=null!==e&&void 0!==e&&e.start_date?new Date(e.start_date):new Date;m(!0),await(0,tt.G9$)(r,{weeks:t,start_date:s.toISOString().split("T")[0]}),await P(),_s.success("Created ".concat(t," week schedule"))}catch(s){var e,t;console.error("Error generating schedule:",s),_s.error((null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to generate schedule"),m(!1)}},icon:Gt,variant:"primary",children:"Generate Schedule"})]})}),(0,ct.jsx)("div",{className:"space-y-4",children:c.map(e=>(0,ct.jsxs)(Pa,{children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ct.jsx)("button",{onClick:()=>h(x===e.id?null:e.id),className:"p-2 hover:bg-neutral-100 rounded-lg transition-colors",children:x===e.id?(0,ct.jsx)(zt,{className:"w-5 h-5 text-neutral-500"}):(0,ct.jsx)(yt,{className:"w-5 h-5 text-neutral-500"})}),(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[R(e.status),(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("h3",{className:"text-lg font-semibold text-brand-black",children:["Week ",e.week_number]}),(0,ct.jsxs)("p",{className:"text-sm text-neutral-600",children:[new Date(e.start_date).toLocaleDateString()," - ",new Date(e.end_date).toLocaleDateString()]})]})]}),(0,ct.jsx)(Wa,{status:"scheduled"===e.status?"pending":"active"===e.status?"active":"completed"})]}),(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-neutral-600",children:[(0,ct.jsx)(Ge,{className:"w-4 h-4"}),(0,ct.jsx)("span",{children:e.course_name})]}),(0,ct.jsx)(pa,{onClick:()=>(async e=>{try{const t=c.find(t=>t.id===e);if(!t)return;if(!window.confirm("This will regenerate matchups for ALL weeks in the league. Continue?"))return;await(0,tt.MEL)(r,{week_number:t.week_number}),await P(),_s.success("Matchups generated successfully")}catch(a){var t,s;console.error("Error auto-generating matches:",a),_s.error((null===(t=a.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.error)||"Failed to auto-generate matches")}})(e.id),icon:tl,variant:"secondary",size:"sm",children:"Auto-Generate"}),(0,ct.jsx)(pa,{onClick:()=>{N((0,Re.A)((0,Re.A)({},e.matches[0]),{},{week_id:e.id})),_(!0)},icon:Gt,variant:"success",size:"sm",children:"Add Match"}),(0,ct.jsx)(pa,{variant:"danger",size:"sm",icon:Tn,onClick:()=>(async()=>{window.confirm("Are you sure you want to delete this week? This will also delete all matches in this week.")&&_s.warning("Week deletion not yet implemented - contact admin to regenerate schedule")})(e.id),children:"Delete"})]})]}),x===e.id&&(0,ct.jsx)("div",{className:"mt-6 space-y-4",children:0===e.matches.length?(0,ct.jsxs)("div",{className:"text-center py-8 text-neutral-500",children:[(0,ct.jsx)(Ye,{className:"w-12 h-12 mx-auto mb-4 text-neutral-300"}),(0,ct.jsx)("p",{children:"No matches scheduled for this week"}),(0,ct.jsx)("p",{className:"text-sm",children:'Click "Auto-Generate" or "Add Match" to create matches'})]}):(0,ct.jsx)("div",{className:"space-y-3",children:e.matches.map(t=>(0,ct.jsx)(Pa,{variant:"outlined",children:(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ct.jsx)(Wa,{status:"scheduled"===t.status?"pending":"in_progress"===t.status?"in_progress":"completed"}),(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsx)("span",{className:"font-medium text-brand-black",children:t.team1_name}),(0,ct.jsx)("span",{className:"text-neutral-500",children:"vs"}),(0,ct.jsx)("span",{className:"font-medium text-brand-black",children:t.team2_name})]}),"completed"===t.status&&(0,ct.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,ct.jsx)("span",{className:"font-medium",children:t.team1_score}),(0,ct.jsx)("span",{className:"text-neutral-500",children:"-"}),(0,ct.jsx)("span",{className:"font-medium",children:t.team2_score})]})]}),(0,ct.jsx)(pa,{variant:"danger",size:"sm",icon:Tn,onClick:()=>(async(e,t)=>{if(window.confirm("Are you sure you want to delete this match?"))try{await(0,tt.Qyz)(t),d(s=>s.map(s=>s.id===e?(0,Re.A)((0,Re.A)({},s),{},{matches:s.matches.filter(e=>e.id!==t)}):s)),_s.success("Match deleted successfully")}catch(r){var s,a;console.error("Error deleting match:",r),_s.error((null===(s=r.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.error)||"Failed to delete match")}})(e.id,t.id),children:"Delete"})]})},t.id))})})]},e.id))}),(0,ct.jsx)(zr,{open:p,onClose:()=>{g(!1),y({week_number:1,start_date:"",end_date:"",course_id:0,course_name:""})},onSubmit:e=>{e.preventDefault(),D()},title:"Create Week",submitText:"Create Week",loading:E,children:(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsx)(vr,{label:"Week Number",type:"number",min:"1",value:v.week_number,onChange:e=>y(t=>(0,Re.A)((0,Re.A)({},t),{},{week_number:parseInt(e.target.value)}))}),(0,ct.jsx)(vr,{label:"Start Date",type:"date",value:v.start_date,onChange:e=>y(t=>(0,Re.A)((0,Re.A)({},t),{},{start_date:e.target.value})),error:C.start_date,required:!0}),(0,ct.jsx)(vr,{label:"End Date",type:"date",value:v.end_date,onChange:e=>y(t=>(0,Re.A)((0,Re.A)({},t),{},{end_date:e.target.value})),error:C.end_date,required:!0}),(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:["Course ",(0,ct.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ct.jsx)("button",{type:"button",onClick:()=>b(!0),className:"w-full px-4 py-2 text-left border border-neutral-300 rounded-lg hover:border-brand-neon-green focus:ring-2 focus:ring-brand-neon-green focus:border-transparent transition-colors",children:v.course_name||(0,ct.jsx)("span",{className:"text-neutral-400",children:"Click to search courses..."})}),C.course_id&&(0,ct.jsx)("p",{className:"mt-1 text-sm text-red-600",children:C.course_id})]})]})}),(0,ct.jsx)(zr,{open:w,onClose:()=>{_(!1),N(null)},onSubmit:e=>{e.preventDefault(),M()},title:"Create Match",submitText:"Create Match",loading:E,children:(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsx)(jr,{label:"Division",value:k.division_id,onChange:e=>S(t=>(0,Re.A)((0,Re.A)({},t),{},{division_id:parseInt(e.target.value)})),options:[{value:0,label:"Select division..."},...n.map(e=>({value:e.id,label:e.name}))],error:C.division_id,required:!0}),(0,ct.jsx)(jr,{label:"Team 1",value:k.team1_id,onChange:e=>S(t=>(0,Re.A)((0,Re.A)({},t),{},{team1_id:parseInt(e.target.value)})),options:[{value:0,label:"Select team..."},...k.division_id&&(null===(t=n.find(e=>e.id===k.division_id))||void 0===t?void 0:t.teams.map(e=>({value:e.id,label:e.name})))||[]],error:C.team1_id,required:!0,disabled:!k.division_id}),(0,ct.jsx)(jr,{label:"Team 2",value:k.team2_id,onChange:e=>S(t=>(0,Re.A)((0,Re.A)({},t),{},{team2_id:parseInt(e.target.value)})),options:[{value:0,label:"Select team..."},...k.division_id&&(null===(s=n.find(e=>e.id===k.division_id))||void 0===s?void 0:s.teams.filter(e=>e.id!==k.team1_id).map(e=>({value:e.id,label:e.name})))||[]],error:C.team2_id,required:!0,disabled:!k.division_id})]})}),f&&(0,ct.jsx)(Pl,{onCourseSelect:e=>{y(t=>(0,Re.A)((0,Re.A)({},t),{},{course_id:e.id,course_name:e.name})),b(!1)},onClose:()=>b(!1),selectedCourseId:v.course_id})]})},Ml=We("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),Rl=We("user-minus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Ll=e=>{let{leagueId:t}=e;const s=Z(),[r,n]=(0,a.useState)([]),[l,i]=(0,a.useState)([]),[o,c]=(0,a.useState)([]),[d,u]=(0,a.useState)(!0),[m,x]=(0,a.useState)(null),[h,p]=(0,a.useState)(new Set),[g,f]=(0,a.useState)(new Set),[b,v]=(0,a.useState)([]),[y,j]=(0,a.useState)(new Map),[N,w]=(0,a.useState)(null),[_,k]=(0,a.useState)(!1),[S,C]=(0,a.useState)(""),[A,E]=(0,a.useState)(null),[T,P]=(0,a.useState)("points"),[D,M]=(0,a.useState)("desc"),[R,L]=(0,a.useState)(!1),[F,O]=(0,a.useState)({name:"",captain_id:0,division_id:0}),[I,z]=(0,a.useState)(!1),[B,U]=(0,a.useState)(null),[H,W]=(0,a.useState)(null),[q,V]=(0,a.useState)({}),[G,Y]=(0,a.useState)(!1);(0,a.useEffect)(()=>{t&&$()},[t]);const $=async()=>{u(!0);try{const[e,s,a,r]=await Promise.all([(0,tt.ApS)(t),(0,tt.g2E)(t),(0,tt.DqU)(),(0,tt.zoA)(t)]),l=e.data,o=s.data,d=a.data,u=r.data;v(u);const m=l.map(e=>{var t;return{id:e.id,name:e.name,captain_id:e.captain_id,captain_name:e.captain_name||"Unknown",division_id:e.division_id||0,division_name:(null===(t=o.find(t=>t.id===e.division_id))||void 0===t?void 0:t.division_name)||"No Division",wins:0,losses:0,ties:0,total_points:e.league_points||0,created_at:e.created_at,members:[]}});n(m),c(o.map(e=>({id:e.id,name:e.division_name}))),i(d.map(e=>({id:e.member_id,first_name:e.first_name,last_name:e.last_name,sim_handicap:e.sim_handicap||0,club:e.club||"Unknown",email:e.email||""})))}catch(a){var e,s;console.error("Error loading data:",a),_s.error((null===(e=a.response)||void 0===e||null===(s=e.data)||void 0===s?void 0:s.error)||"Failed to load data")}finally{u(!1)}},Q=async()=>{if(!(_||y.size>0)){k(!0);try{const e=b.map(e=>(0,tt.qgM)(t,e.signup_id).then(t=>({signupId:e.signup_id,data:t.data})).catch(t=>(console.error("Error loading registrations for signup ".concat(e.signup_id,":"),t),{signupId:e.signup_id,data:[]}))),s=await Promise.all(e),a=new Map;s.forEach(e=>{a.set(e.signupId,e.data)}),j(a)}catch(e){console.error("Error loading signup registrations:",e)}finally{k(!1)}}},K=e=>{const t=m===e?null:e;x(t),null!==t&&(async e=>{if(!g.has(e)&&!h.has(e)){p(t=>new Set(t).add(e));try{const t=(await(0,tt.fPY)(e)).data.map(e=>({id:e.id,user_id:e.user_member_id,first_name:e.first_name,last_name:e.last_name,sim_handicap:e.sim_handicap||0,role:e.is_captain?"captain":"member",joined_at:e.joined_at})).sort((e,t)=>{if("captain"===e.role)return-1;if("captain"===t.role)return 1;const s=e.last_name.localeCompare(t.last_name);return 0!==s?s:e.first_name.localeCompare(t.first_name)});n(s=>s.map(s=>s.id===e?(0,Re.A)((0,Re.A)({},s),{},{members:t}):s)),f(t=>new Set(t).add(e))}catch(t){console.error("Error loading members for team ".concat(e,":"),t),_s.error("Failed to load team members")}finally{p(t=>{const s=new Set(t);return s.delete(e),s})}}})(t)},J=async()=>{if((()=>{const e={};return F.name.trim()||(e.name="Team name is required"),F.captain_id||(e.captain_id="Captain is required"),F.division_id||(e.division_id="Division is required"),V(e),0===Object.keys(e).length})()){Y(!0);try{const e=l.find(e=>e.id===F.captain_id),s=o.find(e=>e.id===F.division_id);if(!e||!s)return _s.error("Selected captain or division not found"),void Y(!1);const a=await(0,tt.F2_)(t,{name:F.name,captain_id:F.captain_id,division_id:F.division_id}),r={id:a.data.id,name:a.data.name,captain_id:a.data.captain_id,captain_name:"".concat(e.first_name," ").concat(e.last_name),division_id:a.data.division_id||0,division_name:s.name,wins:0,losses:0,ties:0,total_points:0,created_at:a.data.created_at||(new Date).toISOString(),members:[{id:Date.now()+1,user_id:e.id,first_name:e.first_name,last_name:e.last_name,sim_handicap:e.sim_handicap,role:"captain",joined_at:(new Date).toISOString()}]};n(e=>[...e,r]),L(!1),O({name:"",captain_id:0,division_id:0}),W(null),_s.success("Team created successfully")}catch(e){console.error("Error creating team:",e),_s.error("Failed to create team")}finally{Y(!1)}}},X=async(e,t)=>{try{if(!l.find(e=>e.id===t))return;const s=(await(0,tt.drn)(e,t)).data,a={id:s.id,user_id:s.user_member_id,first_name:s.first_name,last_name:s.last_name,sim_handicap:s.sim_handicap||0,role:s.is_captain?"captain":"member",joined_at:s.joined_at};n(t=>t.map(t=>{if(t.id===e){const e=[...t.members,a].sort((e,t)=>{if("captain"===e.role)return-1;if("captain"===t.role)return 1;const s=e.last_name.localeCompare(t.last_name);return 0!==s?s:e.first_name.localeCompare(t.first_name)});return(0,Re.A)((0,Re.A)({},t),{},{members:e})}return t})),_s.success("Member added to team")}catch(r){var s,a;console.error("Error adding member:",r),_s.error((null===(s=r.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.error)||"Failed to add member")}},ee=e=>{const t=new Set;r.forEach(e=>{e.members.forEach(e=>{t.add(e.user_id)})});let s=l.filter(e=>!t.has(e.id));if(N){const e=(y.get(N)||[]).map(e=>e.user_id);s=s.filter(t=>e.includes(t.id))}return s.sort((e,t)=>{const s=e.last_name.localeCompare(t.last_name);return 0!==s?s:e.first_name.localeCompare(t.first_name)})},te=(e,t)=>{if(t){return(y.get(t)||[]).find(t=>t.user_id===e)}const s=Array.from(y.values());for(const a of s){const t=a.find(t=>t.user_id===e);if(t)return t}return null},se=[...r.filter(e=>{const t=e.name.toLowerCase().includes(S.toLowerCase())||e.captain_name.toLowerCase().includes(S.toLowerCase()),s=!A||e.division_id===A;return t&&s})].sort((e,t)=>{let s,a;switch(T){case"name":s=e.name.toLowerCase(),a=t.name.toLowerCase();break;case"points":default:s=e.total_points,a=t.total_points;break;case"wins":s=e.wins,a=t.wins;break;case"created":s=new Date(e.created_at).getTime(),a=new Date(t.created_at).getTime()}return"asc"===D?s>a?1:-1:s<a?1:-1});return d?(0,ct.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,ct.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-neon-green"})}):(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)(Ye,{className:"w-8 h-8 text-brand-neon-green"}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h2",{className:"text-2xl font-bold text-brand-black",children:"Team Management"}),(0,ct.jsx)("p",{className:"text-neutral-600",children:"Create and manage league teams"})]})]}),(0,ct.jsxs)("button",{onClick:()=>{L(!0),Q()},className:"flex items-center space-x-2 px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg hover:bg-green-400 transition-colors",children:[(0,ct.jsx)(Gt,{className:"w-5 h-5"}),(0,ct.jsx)("span",{children:"Create Team"})]})]}),b.length>0&&(0,ct.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,ct.jsxs)("h3",{className:"font-semibold text-blue-900 mb-2 flex items-center",children:[(0,ct.jsx)(Ye,{className:"w-4 h-4 mr-2"}),"Linked Signups (",b.length,")"]}),(0,ct.jsx)("div",{className:"flex flex-wrap gap-2",children:b.map(e=>{var t;const s=(null===(t=y.get(e.signup_id))||void 0===t?void 0:t.length)||0;return(0,ct.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800",children:[e.signup_title," (",s," registered)"]},e.id)})}),(0,ct.jsx)("p",{className:"text-xs text-blue-700 mt-2",children:"You can filter users by signup registration when adding team members"})]}),(0,ct.jsx)("div",{className:"bg-white p-4 rounded-lg border border-neutral-200",children:(0,ct.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,ct.jsx)("div",{className:"flex-1",children:(0,ct.jsxs)("div",{className:"relative",children:[(0,ct.jsx)(Za,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-neutral-400"}),(0,ct.jsx)("input",{type:"text",placeholder:"Search teams or captains...",value:S,onChange:e=>C(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"})]})}),(0,ct.jsxs)("div",{className:"flex gap-2",children:[(0,ct.jsxs)("select",{value:A||"",onChange:e=>E(e.target.value?parseInt(e.target.value):null),className:"px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,ct.jsx)("option",{value:"",children:"All Divisions"}),o.map(e=>(0,ct.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,ct.jsxs)("select",{value:"".concat(T,"-").concat(D),onChange:e=>{const[t,s]=e.target.value.split("-");P(t),M(s)},className:"px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,ct.jsx)("option",{value:"points-desc",children:"Points (High to Low)"}),(0,ct.jsx)("option",{value:"points-asc",children:"Points (Low to High)"}),(0,ct.jsx)("option",{value:"wins-desc",children:"Wins (High to Low)"}),(0,ct.jsx)("option",{value:"wins-asc",children:"Wins (Low to High)"}),(0,ct.jsx)("option",{value:"name-asc",children:"Name (A to Z)"}),(0,ct.jsx)("option",{value:"name-desc",children:"Name (Z to A)"}),(0,ct.jsx)("option",{value:"created-desc",children:"Created (Newest)"}),(0,ct.jsx)("option",{value:"created-asc",children:"Created (Oldest)"})]})]})]})}),(0,ct.jsx)("div",{className:"space-y-4",children:se.map(e=>(0,ct.jsx)("div",{className:"bg-white border border-neutral-200 rounded-lg overflow-hidden",children:(0,ct.jsxs)("div",{className:"p-6",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ct.jsx)("button",{onClick:()=>K(e.id),className:"p-2 hover:bg-neutral-100 rounded-lg transition-colors",children:m===e.id?(0,ct.jsx)(zt,{className:"w-5 h-5 text-neutral-500"}):(0,ct.jsx)(yt,{className:"w-5 h-5 text-neutral-500"})}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-brand-black",children:e.name}),(0,ct.jsxs)("p",{className:"text-sm text-neutral-600",children:[e.division_name," \u2022 Captain: ",e.captain_name]})]})]}),(0,ct.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ct.jsxs)("div",{className:"text-right",children:[(0,ct.jsx)("div",{className:"text-sm text-neutral-600",children:"Record"}),(0,ct.jsxs)("div",{className:"font-semibold text-brand-black",children:[e.wins,"-",e.losses,"-",e.ties]})]}),(0,ct.jsxs)("div",{className:"text-right",children:[(0,ct.jsx)("div",{className:"text-sm text-neutral-600",children:"Points"}),(0,ct.jsx)("div",{className:"font-semibold text-brand-neon-green",children:e.total_points})]}),(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsxs)("button",{onClick:()=>s("/captain-dashboard/".concat(e.id,"/").concat(t)),className:"flex items-center space-x-2 px-3 py-2 bg-brand-neon-green text-brand-black rounded-lg hover:bg-green-400 transition-colors",title:"Captain Dashboard",children:[(0,ct.jsx)(Ml,{className:"w-4 h-4"}),(0,ct.jsx)("span",{children:"Captain"})]}),(0,ct.jsxs)("button",{onClick:()=>s("/player/team/".concat(e.id,"/").concat(t)),className:"flex items-center space-x-2 px-3 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors",title:"Player Team View",children:[(0,ct.jsx)(wt,{className:"w-4 h-4"}),(0,ct.jsx)("span",{children:"Team View"})]}),(0,ct.jsxs)("button",{onClick:()=>s("/player/availability/".concat(e.id,"/").concat(t)),className:"flex items-center space-x-2 px-3 py-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 transition-colors",title:"Player Availability",children:[(0,ct.jsx)(Nt,{className:"w-4 h-4"}),(0,ct.jsx)("span",{children:"Availability"})]}),(0,ct.jsxs)("button",{onClick:()=>{U(e.id),z(!0),b.length>0&&w(b[0].signup_id),Q()},className:"flex items-center space-x-2 px-3 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[(0,ct.jsx)(Ze,{className:"w-4 h-4"}),(0,ct.jsx)("span",{children:"Add Member"})]}),(0,ct.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this team? This action cannot be undone."))try{await(0,tt.azp)(t,e),n(t=>t.filter(t=>t.id!==e)),_s.success("Team deleted successfully")}catch(r){var s,a;console.error("Error deleting team:",r),_s.error((null===(s=r.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.error)||"Failed to delete team")}})(e.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:(0,ct.jsx)(Tn,{className:"w-4 h-4"})})]})]})]}),m===e.id&&(0,ct.jsx)("div",{className:"mt-6 space-y-4",children:(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("h4",{className:"font-semibold text-brand-black mb-3",children:["Team Members (",e.members.length,")"]}),h.has(e.id)?(0,ct.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,ct.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-brand-neon-green"})}):(0,ct.jsx)("div",{className:"space-y-2",children:e.members.map(t=>(0,ct.jsxs)("div",{className:"flex items-center justify-between p-3 bg-neutral-50 rounded-lg",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:["captain"===t.role&&(0,ct.jsx)(Ct,{className:"w-4 h-4 text-yellow-500"}),(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("div",{className:"font-medium text-brand-black",children:[t.first_name," ",t.last_name]}),(0,ct.jsxs)("div",{className:"text-sm text-neutral-600",children:["HCP: ",t.sim_handicap]})]})]}),"captain"!==t.role&&(0,ct.jsx)("button",{onClick:()=>(async(e,t)=>{try{await(0,tt.i3)(e,t),n(s=>s.map(s=>s.id===e?(0,Re.A)((0,Re.A)({},s),{},{members:s.members.filter(e=>e.id!==t)}):s)),_s.success("Member removed from team")}catch(r){var s,a;console.error("Error removing member:",r),_s.error((null===(s=r.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.error)||"Failed to remove member")}})(e.id,t.id),className:"p-1 text-red-600 hover:bg-red-50 rounded transition-colors",children:(0,ct.jsx)(Rl,{className:"w-4 h-4"})})]},t.id))})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h4",{className:"font-semibold text-brand-black mb-3",children:"Team Stats"}),(0,ct.jsxs)("div",{className:"space-y-3",children:[(0,ct.jsxs)("div",{className:"flex justify-between",children:[(0,ct.jsx)("span",{className:"text-neutral-600",children:"Wins:"}),(0,ct.jsx)("span",{className:"font-medium text-green-600",children:e.wins})]}),(0,ct.jsxs)("div",{className:"flex justify-between",children:[(0,ct.jsx)("span",{className:"text-neutral-600",children:"Losses:"}),(0,ct.jsx)("span",{className:"font-medium text-red-600",children:e.losses})]}),(0,ct.jsxs)("div",{className:"flex justify-between",children:[(0,ct.jsx)("span",{className:"text-neutral-600",children:"Ties:"}),(0,ct.jsx)("span",{className:"font-medium text-yellow-600",children:e.ties})]}),(0,ct.jsxs)("div",{className:"flex justify-between",children:[(0,ct.jsx)("span",{className:"text-neutral-600",children:"Total Points:"}),(0,ct.jsx)("span",{className:"font-medium text-brand-neon-green",children:e.total_points})]})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h4",{className:"font-semibold text-brand-black mb-3",children:"Team Info"}),(0,ct.jsxs)("div",{className:"space-y-3",children:[(0,ct.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ct.jsx)("span",{className:"text-neutral-600",children:"Division:"}),(0,ct.jsx)("select",{value:e.division_id,onChange:s=>(async(e,s)=>{try{const a=r.find(t=>t.id===e);if(!a)return;if(a.division_id===s)return;const l=o.find(e=>e.id===s);if(!l)return void _s.error("Selected division not found");await(0,tt.qqG)(t,e,{division_id:s}),n(t=>t.map(t=>t.id===e?(0,Re.A)((0,Re.A)({},t),{},{division_id:s,division_name:l.name}):t)),_s.success("Team moved to ".concat(l.name))}catch(i){var a,l;console.error("Error moving team:",i),_s.error((null===(a=i.response)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.error)||"Failed to move team")}})(e.id,parseInt(s.target.value)),className:"px-3 py-1 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent text-sm font-medium bg-white",children:o.map(e=>(0,ct.jsx)("option",{value:e.id,children:e.name},e.id))})]}),(0,ct.jsxs)("div",{className:"flex justify-between",children:[(0,ct.jsx)("span",{className:"text-neutral-600",children:"Created:"}),(0,ct.jsx)("span",{className:"font-medium",children:new Date(e.created_at).toLocaleDateString()})]}),(0,ct.jsxs)("div",{className:"flex justify-between",children:[(0,ct.jsx)("span",{className:"text-neutral-600",children:"Win Rate:"}),(0,ct.jsxs)("span",{className:"font-medium",children:[e.wins+e.losses+e.ties>0?Math.round(e.wins/(e.wins+e.losses+e.ties)*100):0,"%"]})]})]})]})]})})]})},e.id))}),R&&(0,ct.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,ct.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ct.jsx)("h2",{className:"text-xl font-semibold text-brand-black",children:"Create Team"}),(0,ct.jsx)("button",{onClick:()=>{L(!1),W(null)},className:"p-2 hover:bg-neutral-100 rounded-lg transition-colors",children:(0,ct.jsx)(Qe,{className:"w-5 h-5"})})]}),(0,ct.jsxs)("form",{onSubmit:e=>{e.preventDefault(),J()},className:"space-y-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Team Name *"}),(0,ct.jsx)("input",{type:"text",value:F.name,onChange:e=>O(t=>(0,Re.A)((0,Re.A)({},t),{},{name:e.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent ".concat(q.name?"border-red-500":"border-neutral-300"),placeholder:"e.g., Team Alpha"}),q.name&&(0,ct.jsx)("p",{className:"text-red-500 text-sm mt-1",children:q.name})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Division *"}),(0,ct.jsxs)("select",{value:F.division_id,onChange:e=>O(t=>(0,Re.A)((0,Re.A)({},t),{},{division_id:parseInt(e.target.value)})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent ".concat(q.division_id?"border-red-500":"border-neutral-300"),children:[(0,ct.jsx)("option",{value:0,children:"Select division..."}),o.map(e=>(0,ct.jsx)("option",{value:e.id,children:e.name},e.id))]}),q.division_id&&(0,ct.jsx)("p",{className:"text-red-500 text-sm mt-1",children:q.division_id})]}),b.length>0&&(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Filter by Signup Registration"}),(0,ct.jsxs)("select",{value:H||"",onChange:e=>{W(e.target.value?parseInt(e.target.value):null),O(e=>(0,Re.A)((0,Re.A)({},e),{},{captain_id:0}))},className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,ct.jsx)("option",{value:"",children:"All Users"}),b.map(e=>{var t;return(0,ct.jsxs)("option",{value:e.signup_id,children:[e.signup_title," (",(null===(t=y.get(e.signup_id))||void 0===t?void 0:t.length)||0," registered)"]},e.id)})]}),(0,ct.jsx)("p",{className:"text-xs text-neutral-500 mt-1",children:"Filter captains by signup registration"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Captain *"}),(0,ct.jsxs)("select",{value:F.captain_id,onChange:e=>O(t=>(0,Re.A)((0,Re.A)({},t),{},{captain_id:parseInt(e.target.value)})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent ".concat(q.captain_id?"border-red-500":"border-neutral-300"),children:[(0,ct.jsx)("option",{value:0,children:"Select captain..."}),(()=>{const e=new Set;r.forEach(t=>{t.members.forEach(t=>{e.add(t.user_id)})});let t=l.filter(t=>!e.has(t.id));if(H){const e=(y.get(H)||[]).map(e=>e.user_id);t=t.filter(t=>e.includes(t.id))}return t.sort((e,t)=>{const s=e.last_name.localeCompare(t.last_name);return 0!==s?s:e.first_name.localeCompare(t.first_name)})})().map(e=>{const t=te(e.id,H||void 0);return(0,ct.jsxs)("option",{value:e.id,children:[e.first_name," ",e.last_name," (HCP: ",e.sim_handicap,")",t?" \u2713 Registered":""]},e.id)})]}),q.captain_id&&(0,ct.jsx)("p",{className:"text-red-500 text-sm mt-1",children:q.captain_id}),F.captain_id>0&&(()=>{const e=te(F.captain_id,H||void 0);return e?(0,ct.jsxs)("div",{className:"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg text-xs",children:[(0,ct.jsx)("div",{className:"font-semibold text-blue-900 mb-2",children:"Registration Information:"}),e.registration_data&&"object"===typeof e.registration_data&&(0,ct.jsx)("div",{className:"space-y-1 text-blue-800 mb-2",children:Object.entries(e.registration_data).map(e=>{let[t,s]=e;return(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("span",{className:"font-medium",children:[t,":"]})," ",String(s)]},t)})}),(0,ct.jsxs)("div",{className:"text-blue-600",children:["Registered: ",new Date(e.registered_at).toLocaleDateString()]})]}):null})()]}),(0,ct.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ct.jsx)("button",{type:"button",onClick:()=>{L(!1),W(null)},className:"px-4 py-2 text-neutral-600 hover:text-neutral-800 transition-colors",children:"Cancel"}),(0,ct.jsxs)("button",{type:"submit",disabled:G,className:"flex items-center space-x-2 px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg hover:bg-green-400 transition-colors disabled:opacity-50",children:[(0,ct.jsx)(Yt,{className:"w-4 h-4"}),(0,ct.jsx)("span",{children:G?"Creating...":"Create Team"})]})]})]})]})}),I&&(0,ct.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,ct.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ct.jsx)("h2",{className:"text-xl font-semibold text-brand-black",children:"Add Member"}),(0,ct.jsx)("button",{onClick:()=>{z(!1),U(null),w(null)},className:"p-2 hover:bg-neutral-100 rounded-lg transition-colors",children:(0,ct.jsx)(Qe,{className:"w-5 h-5"})})]}),(0,ct.jsx)("div",{className:"space-y-4",children:B&&(()=>{const e=r.find(e=>e.id===B),t=e?ee():[];return(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)("div",{children:(0,ct.jsxs)("p",{className:"text-sm text-neutral-600 mb-3",children:["Add a member to ",(0,ct.jsx)("strong",{children:null===e||void 0===e?void 0:e.name})]})}),b.length>0&&(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Filter by Signup Registration"}),(0,ct.jsxs)("select",{value:N||"",onChange:e=>w(e.target.value?parseInt(e.target.value):null),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,ct.jsx)("option",{value:"",children:"All Users"}),b.map(e=>{var t;return(0,ct.jsxs)("option",{value:e.signup_id,children:[e.signup_title," (",(null===(t=y.get(e.signup_id))||void 0===t?void 0:t.length)||0," registered)"]},e.id)})]})]}),0===t.length?(0,ct.jsxs)("div",{className:"text-center py-8 text-neutral-500",children:[(0,ct.jsx)(Ye,{className:"w-12 h-12 mx-auto mb-4 text-neutral-300"}),(0,ct.jsx)("p",{children:"No available users to add"}),N?(0,ct.jsx)("p",{className:"text-sm",children:"No registered users available from this signup"}):(0,ct.jsx)("p",{className:"text-sm",children:"All users are already on teams"})]}):(0,ct.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:t.map(e=>{const t=te(e.id,N||void 0);return(0,ct.jsxs)("div",{className:"flex items-start justify-between p-3 border border-neutral-200 rounded-lg",children:[(0,ct.jsxs)("div",{className:"flex-1",children:[(0,ct.jsxs)("div",{className:"font-medium text-brand-black",children:[e.first_name," ",e.last_name]}),(0,ct.jsxs)("div",{className:"text-sm text-neutral-600",children:["HCP: ",e.sim_handicap," \u2022 ",e.club]}),t&&(0,ct.jsxs)("div",{className:"mt-2 p-2 bg-blue-50 rounded text-xs",children:[(0,ct.jsx)("div",{className:"font-semibold text-blue-900 mb-1",children:"Registration Data:"}),t.registration_data&&"object"===typeof t.registration_data&&(0,ct.jsx)("div",{className:"space-y-1 text-blue-800",children:Object.entries(t.registration_data).map(e=>{let[t,s]=e;return(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("span",{className:"font-medium",children:[t,":"]})," ",String(s)]},t)})}),(0,ct.jsxs)("div",{className:"text-blue-600 mt-1",children:["Registered: ",new Date(t.registered_at).toLocaleDateString()]})]})]}),(0,ct.jsxs)("button",{onClick:()=>{X(B,e.id),z(!1),U(null),w(null)},className:"flex items-center space-x-2 px-3 py-2 bg-brand-neon-green text-brand-black rounded-lg hover:bg-green-400 transition-colors ml-3",children:[(0,ct.jsx)(Ze,{className:"w-4 h-4"}),(0,ct.jsx)("span",{children:"Add"})]})]},e.id)})})]})})()})]})})]})},Fl=We("link-2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]),Ol=e=>{let{leagueId:t}=e;const[s,r]=(0,a.useState)([]),[n,l]=(0,a.useState)([]),[i,o]=(0,a.useState)(!0),[c,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(null),[x,h]=(0,a.useState)(null);(0,a.useEffect)(()=>{t&&p()},[t]);const p=async()=>{o(!0);try{const e=await(0,tt.zoA)(t);r(e.data);const s=await(0,tt.A7I)({status:"open"});l(s.data)}catch(e){console.error("Error loading signup links:",e),_s.error("Failed to load signup links")}finally{o(!1)}},g=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),f=n.filter(e=>!s.map(e=>e.signup_id).includes(e.id));return i?(0,ct.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,ct.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-neon-green"})}):(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)(Fl,{className:"w-8 h-8 text-brand-neon-green"}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h2",{className:"text-2xl font-bold text-brand-black",children:"Signup Links"}),(0,ct.jsx)("p",{className:"text-neutral-600",children:"Link signup events to this league for registration management"})]})]}),(0,ct.jsxs)(pa,{onClick:()=>d(!0),className:"flex items-center space-x-2",children:[(0,ct.jsx)(Gt,{className:"w-5 h-5"}),(0,ct.jsx)("span",{children:"Link Signup"})]})]}),(0,ct.jsx)("div",{className:"space-y-4",children:0===s.length?(0,ct.jsxs)(Pa,{className:"p-8 text-center",children:[(0,ct.jsx)(Fl,{className:"w-16 h-16 mx-auto mb-4 text-neutral-300"}),(0,ct.jsx)("h3",{className:"text-lg font-semibold text-neutral-700 mb-2",children:"No Signups Linked"}),(0,ct.jsx)("p",{className:"text-neutral-600 mb-4",children:"Link a signup event to this league to manage registrations and team assignments"}),(0,ct.jsxs)(pa,{onClick:()=>d(!0),children:[(0,ct.jsx)(Gt,{className:"w-4 h-4 mr-2"}),"Link Your First Signup"]})]}):s.map(e=>{return(0,ct.jsx)(Pa,{className:"p-6",children:(0,ct.jsxs)("div",{className:"flex items-start justify-between",children:[(0,ct.jsxs)("div",{className:"flex-1",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,ct.jsx)("h3",{className:"text-xl font-semibold text-brand-black",children:e.signup_title||"Signup #".concat(e.signup_id)}),(0,ct.jsx)(Ua,{variant:"open"===e.signup_status?"success":"default",children:e.signup_status})]}),e.signup_description&&(0,ct.jsx)("p",{className:"text-neutral-600 mb-4",children:e.signup_description}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsx)(Ye,{className:"w-4 h-4 text-neutral-400"}),(0,ct.jsxs)("span",{className:"text-sm text-neutral-600",children:[(0,ct.jsx)("span",{className:"font-semibold text-brand-neon-green",children:e.paid_registrations||0})," ","paid registrations"]})]}),(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsx)(Xn,{className:"w-4 h-4 text-neutral-400"}),(0,ct.jsx)("span",{className:"text-sm text-neutral-600",children:e.entry_fee?g(e.entry_fee):"Free"})]}),(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsx)(Nt,{className:"w-4 h-4 text-neutral-400"}),(0,ct.jsxs)("span",{className:"text-sm text-neutral-600",children:["Created ",new Date(e.created_at).toLocaleDateString()]})]})]}),(0,ct.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-neutral-600",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsx)(Ks,{className:"w-4 h-4 text-green-500"}),(0,ct.jsxs)("span",{children:["Last synced: ",(s=e.last_synced_at,s?new Date(s).toLocaleString():"Never")]})]}),e.synced_by_name&&(0,ct.jsxs)("span",{children:["by ",e.synced_by_name]}),(0,ct.jsxs)("span",{children:["(",e.sync_count," sync",1!==e.sync_count?"s":"",")"]})]})]}),(0,ct.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[(0,ct.jsxs)(pa,{onClick:()=>(async e=>{h(e);try{await(0,tt.tTF)(t,e),_s.success("Sync timestamp updated"),p()}catch(s){console.error("Error updating sync:",s),_s.error("Failed to update sync")}finally{h(null)}})(e.id),variant:"outline",size:"sm",disabled:x===e.id,children:[(0,ct.jsx)(Ut,{className:"w-4 h-4 mr-2 ".concat(x===e.id?"animate-spin":"")}),x===e.id?"Syncing...":"Mark Synced"]}),(0,ct.jsx)(pa,{onClick:()=>(async(e,s)=>{if(window.confirm('Are you sure you want to unlink "'.concat(s,'"?')))try{await(0,tt.$8m)(t,e),_s.success("Signup unlinked successfully"),p()}catch(a){console.error("Error unlinking signup:",a),_s.error("Failed to unlink signup")}})(e.id,e.signup_title||"this signup"),variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:(0,ct.jsx)(Tn,{className:"w-4 h-4"})})]})]})},e.id);var s})}),(0,ct.jsxs)(Mr,{open:c,onClose:()=>{d(!1),m(null)},children:[(0,ct.jsx)(Rr,{children:"Link Signup to League"}),(0,ct.jsx)(Lr,{children:(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsx)("p",{className:"text-sm text-neutral-600",children:"Select a signup event to link to this league. You'll be able to view registrations and use registration data when managing teams."}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Select Signup *"}),(0,ct.jsxs)("select",{value:u||"",onChange:e=>m(e.target.value?parseInt(e.target.value):null),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,ct.jsx)("option",{value:"",children:"Select a signup..."}),f.map(e=>(0,ct.jsxs)("option",{value:e.id,children:[e.title," (",e.status,") - ",g(e.entry_fee||0)]},e.id))]})]}),0===f.length&&(0,ct.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,ct.jsx)("p",{className:"text-sm text-yellow-800",children:"No available signups to link. All open signups are already linked to this league, or there are no open signups available."})})]})}),(0,ct.jsxs)(Fr,{children:[(0,ct.jsx)(pa,{onClick:()=>{d(!1),m(null)},variant:"outline",children:"Cancel"}),(0,ct.jsx)(pa,{onClick:async()=>{if(u)try{await(0,tt.M9V)(t,{signup_id:u}),_s.success("Signup linked successfully"),d(!1),m(null),p()}catch(a){var e,s;console.error("Error linking signup:",a),_s.error((null===(e=a.response)||void 0===e||null===(s=e.data)||void 0===s?void 0:s.error)||"Failed to link signup")}else _s.error("Please select a signup")},disabled:!u||0===f.length,children:"Link Signup"})]})]})]})},Il=e=>{let{leagueId:t}=e;const[s,r]=(0,a.useState)(null),[n,l]=(0,a.useState)(!0),[i,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)({name:"",season:"",start_date:"",end_date:"",divisions_count:2,weeks_per_season:18,teams_per_division:8,format:"hybrid",individual_holes:9,alternate_shot_holes:9,active_players_per_week:3,roster_size_min:4,roster_size_max:5,points_for_win:2,points_for_tie:1,points_for_loss:0,status:"draft"}),[u,m]=(0,a.useState)(!1);(0,a.useEffect)(()=>{x()},[t]);const x=async()=>{l(!0);try{const e=(await(0,tt.bEt)()).data.find(e=>e.id===t);e&&(r(e),d({name:e.name,season:e.season||"",start_date:e.start_date,end_date:e.end_date,divisions_count:e.divisions_count||2,weeks_per_season:e.weeks_per_season||18,teams_per_division:e.teams_per_division||8,format:e.format||"hybrid",individual_holes:e.individual_holes||9,alternate_shot_holes:e.alternate_shot_holes||9,active_players_per_week:e.active_players_per_week||3,roster_size_min:e.roster_size_min||4,roster_size_max:e.roster_size_max||5,points_for_win:e.points_for_win||2,points_for_tie:e.points_for_tie||1,points_for_loss:e.points_for_loss||0,status:e.status}))}catch(e){console.error("Error loading league:",e),_s.error("Failed to load league settings")}finally{l(!1)}},h=(e,t)=>{d(s=>(0,Re.A)((0,Re.A)({},s),{},{[e]:t})),m(!0)};return n?(0,ct.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,ct.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-neon-green"})}):s?(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)(sa,{className:"w-8 h-8 text-brand-neon-green"}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h2",{className:"text-2xl font-bold text-brand-black",children:"League Settings"}),(0,ct.jsx)("p",{className:"text-neutral-600",children:"Configure high-level league settings and manage registrations"})]})]}),u&&(0,ct.jsx)(pa,{onClick:async()=>{o(!0);try{await(0,tt.tiG)(t,c),_s.success("League settings updated successfully"),m(!1),x()}catch(a){var e,s;console.error("Error saving league settings:",a),_s.error((null===(e=a.response)||void 0===e||null===(s=e.data)||void 0===s?void 0:s.error)||"Failed to save league settings")}finally{o(!1)}},disabled:i,icon:Yt,variant:"primary",children:i?"Saving...":"Save Changes"})]}),(0,ct.jsxs)(Pa,{variant:"elevated",children:[(0,ct.jsx)(Da,{title:(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsx)(qe,{className:"w-5 h-5 text-brand-neon-green"}),(0,ct.jsx)("span",{children:"Basic Information"})]})}),(0,ct.jsx)(Ma,{children:(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ct.jsx)(vr,{label:"League Name",value:c.name,onChange:e=>h("name",e.target.value),required:!0}),(0,ct.jsx)(vr,{label:"Season",value:c.season,onChange:e=>h("season",e.target.value),required:!0}),(0,ct.jsx)(vr,{label:"Start Date",type:"date",value:c.start_date,onChange:e=>h("start_date",e.target.value),required:!0}),(0,ct.jsx)(vr,{label:"End Date",type:"date",value:c.end_date,onChange:e=>h("end_date",e.target.value),required:!0}),(0,ct.jsx)(jr,{label:"League Status",value:c.status,onChange:e=>h("status",e.target.value),options:[{value:"draft",label:"Draft"},{value:"registration",label:"Registration"},{value:"active",label:"Active"},{value:"playoffs",label:"Playoffs"},{value:"paused",label:"Paused"},{value:"completed",label:"Completed"}],required:!0}),(0,ct.jsx)(jr,{label:"League Format",value:c.format,onChange:e=>h("format",e.target.value),options:[{value:"round_robin",label:"Round Robin"},{value:"playoff",label:"Playoff"},{value:"hybrid",label:"Hybrid"}],required:!0})]})})]}),(0,ct.jsxs)(Pa,{variant:"elevated",children:[(0,ct.jsx)(Da,{title:(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsx)(Ye,{className:"w-5 h-5 text-brand-neon-green"}),(0,ct.jsx)("span",{children:"League Structure"})]})}),(0,ct.jsxs)(Ma,{children:[(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,ct.jsx)(vr,{label:"Number of Divisions",type:"number",min:"1",max:"10",value:c.divisions_count,onChange:e=>h("divisions_count",parseInt(e.target.value)),helperText:"Total number of divisions in the league",required:!0}),(0,ct.jsx)(vr,{label:"Number of Weeks",type:"number",min:"1",max:"52",value:c.weeks_per_season,onChange:e=>h("weeks_per_season",parseInt(e.target.value)),helperText:"Total weeks in the regular season",required:!0}),(0,ct.jsx)(vr,{label:"Teams per Division",type:"number",min:"2",max:"16",value:c.teams_per_division,onChange:e=>h("teams_per_division",parseInt(e.target.value)),helperText:"Maximum teams allowed per division",required:!0})]}),(0,ct.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-6",children:(0,ct.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,ct.jsx)(lr,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),(0,ct.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,ct.jsx)("p",{className:"font-medium mb-1",children:"League Capacity"}),(0,ct.jsxs)("p",{children:["Current configuration allows for ",(0,ct.jsxs)("span",{className:"font-bold",children:[c.divisions_count," divisions"]})," with up to"," ",(0,ct.jsxs)("span",{className:"font-bold",children:[c.teams_per_division," teams each"]})," ="," ",(0,ct.jsxs)("span",{className:"font-bold",children:[c.divisions_count*c.teams_per_division," total teams maximum"]})]})]})]})})]})]}),(0,ct.jsxs)(Pa,{variant:"elevated",children:[(0,ct.jsx)(Da,{title:(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsx)(pt,{className:"w-5 h-5 text-brand-neon-green"}),(0,ct.jsx)("span",{children:"Match Format"})]})}),(0,ct.jsx)(Ma,{children:(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ct.jsx)(vr,{label:"Individual Holes",type:"number",min:"0",max:"18",value:c.individual_holes,onChange:e=>h("individual_holes",parseInt(e.target.value)),helperText:"Number of individual match play holes"}),(0,ct.jsx)(vr,{label:"Alternate Shot Holes",type:"number",min:"0",max:"18",value:c.alternate_shot_holes,onChange:e=>h("alternate_shot_holes",parseInt(e.target.value)),helperText:"Number of alternate shot holes"}),(0,ct.jsx)(vr,{label:"Active Players per Week",type:"number",min:"1",max:"10",value:c.active_players_per_week,onChange:e=>h("active_players_per_week",parseInt(e.target.value)),helperText:"Players that must be active each week"}),(0,ct.jsx)("div",{}),(0,ct.jsx)(vr,{label:"Minimum Roster Size",type:"number",min:"1",max:"20",value:c.roster_size_min,onChange:e=>h("roster_size_min",parseInt(e.target.value)),helperText:"Minimum number of players per team"}),(0,ct.jsx)(vr,{label:"Maximum Roster Size",type:"number",min:"1",max:"20",value:c.roster_size_max,onChange:e=>h("roster_size_max",parseInt(e.target.value)),helperText:"Maximum number of players per team"})]})})]}),(0,ct.jsxs)(Pa,{variant:"elevated",children:[(0,ct.jsx)(Da,{title:(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsx)(Nt,{className:"w-5 h-5 text-brand-neon-green"}),(0,ct.jsx)("span",{children:"Scoring Rules"})]})}),(0,ct.jsx)(Ma,{children:(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,ct.jsx)(vr,{label:"Points per Win",type:"number",min:"0",step:"0.5",value:c.points_for_win,onChange:e=>h("points_for_win",parseFloat(e.target.value))}),(0,ct.jsx)(vr,{label:"Points per Tie",type:"number",min:"0",step:"0.5",value:c.points_for_tie,onChange:e=>h("points_for_tie",parseFloat(e.target.value))}),(0,ct.jsx)(vr,{label:"Points per Loss",type:"number",min:"0",step:"0.5",value:c.points_for_loss,onChange:e=>h("points_for_loss",parseFloat(e.target.value))})]})})]}),(0,ct.jsx)("div",{className:"pt-6 border-t-2 border-neutral-200",children:(0,ct.jsx)(Ol,{leagueId:t})})]}):(0,ct.jsxs)("div",{className:"text-center py-12",children:[(0,ct.jsx)(lr,{className:"w-16 h-16 mx-auto mb-4 text-neutral-300"}),(0,ct.jsx)("p",{className:"text-neutral-600",children:"League not found"})]})},zl=()=>{const{leagueId:e}=ee(),t=Z(),[s,r]=(0,a.useState)(null),[n,l]=(0,a.useState)(!0),[i,o]=(0,a.useState)("settings");(0,a.useEffect)(()=>{e&&c()},[e]);const c=async()=>{if(e){l(!0);try{const s=await(0,tt.bEt)(),a=s.data.find(t=>t.id===parseInt(e));if(!a)return _s.error("League not found"),void t("/admin/league-management");const n={id:a.id,name:a.name,season:a.season||"",start_date:a.start_date,end_date:a.end_date,divisions:[],teams_per_division:a.teams_per_division||8,scoring_rules:{points_per_win:a.points_for_win||2,points_per_tie:a.points_for_tie||1,points_per_loss:a.points_for_loss||0,playoff_format:a.playoff_format||"single_elimination",tiebreaker_criteria:["head_to_head","aggregate_score","handicap_differential"]},format:a.format||"round_robin",status:a.status,created_at:a.created_at,updated_at:a.updated_at};r(n)}catch(s){console.error("Error loading league:",s),_s.error("Failed to load league")}finally{l(!1)}}};return n?(0,ct.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,ct.jsx)($a,{size:"lg",label:"Loading league..."})}):s?(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200 p-6",children:(0,ct.jsx)("div",{className:"flex items-center justify-between",children:(0,ct.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ct.jsx)(pa,{onClick:()=>t("/admin/league-management"),icon:Fs,variant:"ghost",size:"sm",children:"Back"}),(0,ct.jsx)("div",{className:"h-8 w-px bg-neutral-200"}),(0,ct.jsx)(qe,{className:"w-8 h-8 text-brand-neon-green"}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h1",{className:"text-2xl font-bold text-brand-black",children:s.name}),(0,ct.jsx)("p",{className:"text-neutral-600",children:s.season})]})]})})}),(0,ct.jsx)("div",{className:"border-b border-neutral-200",children:(0,ct.jsxs)("nav",{className:"flex space-x-8",children:[(0,ct.jsxs)("button",{onClick:()=>o("settings"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("settings"===i?"border-brand-neon-green text-brand-neon-green":"border-transparent text-neutral-500 hover:text-neutral-700 hover:border-neutral-300"),children:[(0,ct.jsx)(sa,{className:"w-4 h-4 inline mr-2"}),"Settings"]}),(0,ct.jsxs)("button",{onClick:()=>o("divisions"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("divisions"===i?"border-brand-neon-green text-brand-neon-green":"border-transparent text-neutral-500 hover:text-neutral-700 hover:border-neutral-300"),children:[(0,ct.jsx)(Ye,{className:"w-4 h-4 inline mr-2"}),"Divisions"]}),(0,ct.jsxs)("button",{onClick:()=>o("schedule"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("schedule"===i?"border-brand-neon-green text-brand-neon-green":"border-transparent text-neutral-500 hover:text-neutral-700 hover:border-neutral-300"),children:[(0,ct.jsx)(Nt,{className:"w-4 h-4 inline mr-2"}),"Schedule"]}),(0,ct.jsxs)("button",{onClick:()=>o("teams"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("teams"===i?"border-brand-neon-green text-brand-neon-green":"border-transparent text-neutral-500 hover:text-neutral-700 hover:border-neutral-300"),children:[(0,ct.jsx)(Ye,{className:"w-4 h-4 inline mr-2"}),"Teams"]})]})}),(0,ct.jsxs)("div",{className:"min-h-[600px]",children:["settings"===i&&(0,ct.jsx)(Il,{leagueId:s.id}),"divisions"===i&&(0,ct.jsx)(Tl,{leagueId:s.id}),"schedule"===i&&(0,ct.jsx)(Dl,{leagueId:s.id}),"teams"===i&&(0,ct.jsx)(Ll,{leagueId:s.id})]})]}):(0,ct.jsxs)("div",{className:"text-center py-12",children:[(0,ct.jsx)(qe,{className:"w-16 h-16 mx-auto mb-4 text-neutral-300"}),(0,ct.jsx)("p",{className:"text-neutral-600 mb-4",children:"League not found"}),(0,ct.jsx)(pa,{onClick:()=>t("/admin/league-management"),variant:"primary",children:"Back to Leagues"})]})},Bl=()=>{const e=Z(),[t,s]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0),[l,i]=(0,a.useState)(""),[o,c]=(0,a.useState)("all");(0,a.useEffect)(()=>{d()},[]);const d=async()=>{n(!0);try{const e=await(0,tt.bEt)();s(e.data)}catch(e){console.error("Error loading leagues:",e),_s.error("Failed to load leagues")}finally{n(!1)}},u=t.filter(e=>{var t;const s=e.name.toLowerCase().includes(l.toLowerCase())||(null===(t=e.season)||void 0===t?void 0:t.toLowerCase().includes(l.toLowerCase())),a="all"===o||e.status===o;return s&&a}),m=e=>{switch(e){case"draft":case"completed":default:return"default";case"registration":case"paused":return"warning";case"active":return"success";case"playoffs":return"info"}},x=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return r?(0,ct.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,ct.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-neon-green"})}):(0,ct.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,ct.jsx)("div",{className:"mb-8",children:(0,ct.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,ct.jsx)(qe,{className:"w-12 h-12 text-brand-neon-green"}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h1",{className:"text-4xl font-bold text-white",children:"Golf Leagues"}),(0,ct.jsx)("p",{className:"text-lg text-white mt-1",children:"Browse and view league standings, schedules, and results"})]})]})}),(0,ct.jsx)(Pa,{className:"mb-6 p-4",children:(0,ct.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,ct.jsxs)("div",{className:"flex-1 relative",children:[(0,ct.jsx)(Za,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-neutral-400"}),(0,ct.jsx)("input",{type:"text",placeholder:"Search leagues by name or season...",value:l,onChange:e=>i(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"})]}),(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsx)(pl,{className:"w-5 h-5 text-neutral-500"}),(0,ct.jsxs)("select",{value:o,onChange:e=>c(e.target.value),className:"px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,ct.jsx)("option",{value:"all",children:"All Status"}),(0,ct.jsx)("option",{value:"draft",children:"Draft"}),(0,ct.jsx)("option",{value:"registration",children:"Registration"}),(0,ct.jsx)("option",{value:"active",children:"Active"}),(0,ct.jsx)("option",{value:"playoffs",children:"Playoffs"}),(0,ct.jsx)("option",{value:"completed",children:"Completed"})]})]})]})}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[(0,ct.jsx)(Pa,{className:"p-6",children:(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)(qe,{className:"w-10 h-10 text-brand-neon-green mr-4"}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-sm text-neutral-600",children:"Total Leagues"}),(0,ct.jsx)("p",{className:"text-2xl font-bold text-brand-black",children:t.length})]})]})}),(0,ct.jsx)(Pa,{className:"p-6",children:(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)(qe,{className:"w-10 h-10 text-green-500 mr-4"}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-sm text-neutral-600",children:"Active"}),(0,ct.jsx)("p",{className:"text-2xl font-bold text-brand-black",children:t.filter(e=>"active"===e.status).length})]})]})}),(0,ct.jsx)(Pa,{className:"p-6",children:(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)(Nt,{className:"w-10 h-10 text-blue-500 mr-4"}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-sm text-neutral-600",children:"Registration"}),(0,ct.jsx)("p",{className:"text-2xl font-bold text-brand-black",children:t.filter(e=>"registration"===e.status).length})]})]})}),(0,ct.jsx)(Pa,{className:"p-6",children:(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)(qe,{className:"w-10 h-10 text-purple-500 mr-4"}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-sm text-neutral-600",children:"Upcoming"}),(0,ct.jsx)("p",{className:"text-2xl font-bold text-brand-black",children:t.filter(e=>"draft"===e.status).length})]})]})})]}),0===u.length?(0,ct.jsxs)(Pa,{className:"p-12 text-center",children:[(0,ct.jsx)(qe,{className:"w-16 h-16 mx-auto mb-4 text-neutral-300"}),(0,ct.jsx)("h3",{className:"text-xl font-semibold text-neutral-700 mb-2",children:"No Leagues Found"}),(0,ct.jsx)("p",{className:"text-neutral-600",children:l||"all"!==o?"Try adjusting your filters":"No leagues have been created yet"})]}):(0,ct.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(t=>{var s;return(0,ct.jsx)(Pa,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:(0,ct.jsxs)("div",{className:"p-6",children:[(0,ct.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,ct.jsxs)("div",{className:"flex-1",children:[(0,ct.jsx)("h3",{className:"text-xl font-bold text-brand-black mb-1",children:t.name}),(0,ct.jsx)("p",{className:"text-sm text-neutral-600",children:t.season||"Season TBD"})]}),(0,ct.jsx)(Ua,{variant:m(t.status),children:t.status.toUpperCase()})]}),t.description&&(0,ct.jsx)("p",{className:"text-sm text-neutral-600 mb-4 line-clamp-2",children:t.description}),(0,ct.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,ct.jsxs)("div",{className:"flex items-center text-sm",children:[(0,ct.jsx)(Nt,{className:"w-4 h-4 text-neutral-400 mr-2"}),(0,ct.jsxs)("span",{className:"text-neutral-600",children:[x(t.start_date)," - ",x(t.end_date)]})]}),(0,ct.jsxs)("div",{className:"flex items-center text-sm",children:[(0,ct.jsx)(Ye,{className:"w-4 h-4 text-neutral-400 mr-2"}),(0,ct.jsxs)("span",{className:"text-neutral-600",children:[t.divisions_count||0," ",1===t.divisions_count?"Division":"Divisions"," \u2022 ",t.teams_per_division||0," Teams per Division"]})]}),(0,ct.jsxs)("div",{className:"flex items-center text-sm",children:[(0,ct.jsx)(qe,{className:"w-4 h-4 text-neutral-400 mr-2"}),(0,ct.jsx)("span",{className:"text-neutral-600 capitalize",children:(null===(s=t.format)||void 0===s?void 0:s.replace("_"," "))||"Format TBD"})]}),t.weeks_per_season&&(0,ct.jsxs)("div",{className:"flex items-center text-sm",children:[(0,ct.jsx)(gt,{className:"w-4 h-4 text-neutral-400 mr-2"}),(0,ct.jsxs)("span",{className:"text-neutral-600",children:[t.weeks_per_season," Weeks"]})]})]}),(0,ct.jsxs)("div",{className:"space-y-2",children:[(0,ct.jsxs)(pa,{onClick:()=>e("/league-standings/".concat(t.id)),className:"w-full",variant:"primary",children:[(0,ct.jsx)(gt,{className:"w-4 h-4 mr-2"}),"View Standings"]}),(0,ct.jsxs)(pa,{onClick:()=>e("/weekly-results/".concat(t.id)),className:"w-full",variant:"outline",children:[(0,ct.jsx)(Nt,{className:"w-4 h-4 mr-2"}),"Weekly Results"]})]})]})},t.id)})})]})},Ul=e=>{let{teamId:t,leagueId:s,members:r}=e;const n=Z(),[l,i]=(0,a.useState)(""),[o,c]=(0,a.useState)([]),[d,u]=(0,a.useState)(null),[m,x]=(0,a.useState)(!0),h=(0,a.useCallback)(async()=>{x(!0);try{const e=await(0,tt.fIB)(s);console.log("Schedule response:",e.data);const t=e.data.map(e=>e.week_start_date);console.log("Available weeks:",t),c(t),t.length>0&&i(t[0])}catch(e){console.error("Error loading availability data:",e),_s.error("Failed to load availability data")}finally{x(!1)}},[s]),p=(0,a.useCallback)(async e=>{try{const a=o.indexOf(e)+1;console.log("AvailabilityView - Loading week availability:",{weekStartDate:e,weekNumber:a,teamId:t,leagueId:s});const r=(await(0,tt.rxf)(t,a,s)).data;console.log("AvailabilityView - Got availability data:",r);const n=Array.isArray(r)?r:[],l=new Date(new Date(e).getTime()+5184e5).toISOString().split("T")[0],i=n.map(e=>{let t=[];if(e.time_slots)try{t="string"===typeof e.time_slots?JSON.parse(e.time_slots):e.time_slots}catch(Zp){console.error("Error parsing time_slots for user",e.user_member_id,":",Zp)}let s="pending";return null!==e.is_available&&void 0!==e.is_available&&(s=e.is_available?"available":"unavailable"),{member_id:e.user_member_id,first_name:e.first_name,last_name:e.last_name,handicap:e.handicap||0,role:e.is_captain?"captain":"member",availability_status:s,last_updated:e.updated_at,notes:e.availability_notes,time_slots:t}}),c={week_start_date:e,week_end_date:l,members:i};console.log("AvailabilityView - Setting week availability:",c),u(c)}catch(a){console.error("Error loading week availability:",a),_s.error("Failed to load week availability")}},[t,s,o]);(0,a.useEffect)(()=>{h()},[h]),(0,a.useEffect)(()=>{l&&p(l)},[l,p]);const g=e=>new Date(e).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),f=()=>o.findIndex(e=>e===l),b=(null===d||void 0===d?void 0:d.members.sort((e,t)=>"captain"===e.role&&"captain"!==t.role?-1:"captain"!==e.role&&"captain"===t.role?1:"".concat(e.first_name," ").concat(e.last_name).localeCompare("".concat(t.first_name," ").concat(t.last_name))))||[],v=b.filter(e=>"pending"===e.availability_status);return m?(0,ct.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,ct.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-neon-green"})}):(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-lg p-6",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-brand-black",children:"Week Selection"}),(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsx)("button",{onClick:()=>{const e=f();e>0&&i(o[e-1])},disabled:0===f(),className:"p-2 rounded-lg border border-neutral-300 hover:bg-neutral-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,ct.jsx)(Ws,{className:"w-4 h-4"})}),(0,ct.jsx)("button",{onClick:()=>{const e=f();e<o.length-1&&i(o[e+1])},disabled:f()===o.length-1,className:"p-2 rounded-lg border border-neutral-300 hover:bg-neutral-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,ct.jsx)(yt,{className:"w-4 h-4"})})]})]}),d&&(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("h4",{className:"text-xl font-semibold text-brand-black",children:((e,t)=>{const s=g(e),a=g(t);return"".concat(s," - ").concat(a)})(d.week_start_date,d.week_end_date)}),(0,ct.jsxs)("p",{className:"text-sm text-neutral-600",children:["Week of ",g(d.week_start_date)]})]})]}),(0,ct.jsx)("div",{className:"flex justify-center",children:(0,ct.jsxs)("button",{onClick:()=>n("/player/availability/".concat(t,"/").concat(s)),className:"flex items-center space-x-2 px-6 py-3 bg-brand-neon-green text-brand-black rounded-lg hover:bg-green-400 transition-colors font-medium",children:[(0,ct.jsx)(Nt,{className:"w-5 h-5"}),(0,ct.jsx)("span",{children:"Manage My Availability"})]})}),d&&d.members.some(e=>e.time_slots&&e.time_slots.length>0)&&(()=>{const e={};d.members.forEach(t=>{"available"===t.availability_status&&t.time_slots&&t.time_slots.forEach(s=>{e[s.day]||(e[s.day]=[]);const a=e[s.day].find(e=>e.slot.start_time===s.start_time&&e.slot.end_time===s.end_time),r="".concat(t.first_name," ").concat(t.last_name);a?a.players.push(r):e[s.day].push({slot:s,players:[r]})})});const t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s=Object.keys(e).sort((e,s)=>t.indexOf(e)-t.indexOf(s));if(0===s.length)return null;const a=e=>{const[t,s]=e.split(":").map(Number),a=t>=12?"PM":"AM";return"".concat(0===t?12:t>12?t-12:t,":").concat(s.toString().padStart(2,"0")," ").concat(a)};return(0,ct.jsxs)("div",{className:"bg-gradient-to-br from-brand-dark-green to-brand-muted-green rounded-lg p-4 sm:p-6 text-white",children:[(0,ct.jsxs)("h3",{className:"text-base sm:text-lg font-semibold mb-4 flex items-center",children:[(0,ct.jsx)(Nt,{className:"w-5 h-5 mr-2"}),"Team Availability Overview"]}),(0,ct.jsx)("div",{className:"space-y-4",children:s.map(t=>(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h4",{className:"text-sm font-semibold mb-2 text-brand-neon-green",children:t}),(0,ct.jsx)("div",{className:"space-y-2",children:e[t].sort((e,t)=>e.slot.start_time.localeCompare(t.slot.start_time)).map((e,t)=>(0,ct.jsx)("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-3",children:(0,ct.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[(0,ct.jsxs)("div",{className:"font-medium text-sm",children:[a(e.slot.start_time)," - ",a(e.slot.end_time)]}),(0,ct.jsx)("div",{className:"flex flex-wrap gap-1",children:e.players.map((e,t)=>(0,ct.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-brand-neon-green text-brand-dark-green",children:e},t))})]})},t))})]},t))})]})})(),v.length>0&&(0,ct.jsx)("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 rounded-lg overflow-hidden",children:(0,ct.jsxs)("div",{className:"p-4",children:[(0,ct.jsxs)("div",{className:"flex items-center mb-3",children:[(0,ct.jsx)(lr,{className:"w-5 h-5 text-yellow-600 mr-2 flex-shrink-0"}),(0,ct.jsxs)("h3",{className:"text-sm font-semibold text-yellow-800",children:[v.length," ",1===v.length?"player hasn't":"players haven't"," submitted availability yet"]})]}),(0,ct.jsx)("div",{className:"space-y-2",children:v.map(e=>(0,ct.jsx)("div",{className:"flex items-center justify-between bg-white/60 rounded-lg p-3",children:(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)("div",{className:"w-8 h-8 bg-yellow-200 rounded-full flex items-center justify-center flex-shrink-0",children:(0,ct.jsxs)("span",{className:"text-xs font-semibold text-yellow-800",children:[e.first_name[0],e.last_name[0]]})}),(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("div",{className:"font-medium text-sm text-gray-900",children:[e.first_name," ",e.last_name,"captain"===e.role&&(0,ct.jsx)("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-brand-neon-green text-brand-dark-green",children:"Captain"})]}),(0,ct.jsxs)("div",{className:"text-xs text-gray-600",children:["Handicap: ",e.handicap]})]})]})},e.member_id))})]})})]})},Hl=We("calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),Wl=e=>{let{teamId:t,leagueId:s,members:r,upcomingMatches:n}=e;const[l,i]=(0,a.useState)(null),[o,c]=(0,a.useState)(!0),[d,u]=(0,a.useState)(!1),[m,x]=(0,a.useState)(null),[h,p]=(0,a.useState)(r);(0,a.useEffect)(()=>{n.length>0&&(x(n[0]),g(n[0])),c(!1)},[n]);const g=(0,a.useCallback)(async e=>{c(!0);try{const a={week_start_date:e.week_start_date,lineup_submitted:e.lineup_submitted,lineup_locked:e.lineup_submitted,players:[],team_handicap:0,submission_deadline:e.lineup_deadline};i(a);const l=n.findIndex(t=>t.id===e.id)+1;console.log("LineupSelector - Loading availability for week:",l);const o=(await(0,tt.rxf)(t,l,s)).data;console.log("LineupSelector - Availability data:",o);const c=new Map;Array.isArray(o)&&o.forEach(e=>{let t="pending";null!==e.is_available&&void 0!==e.is_available&&(t=e.is_available?"available":"unavailable"),c.set(e.user_member_id,t)}),console.log("LineupSelector - Availability map:",c);const d=r.map(e=>(0,Re.A)((0,Re.A)({},e),{},{availability_status:c.get(e.user_id)||"pending"}));console.log("LineupSelector - Updated members:",d),p(d)}catch(a){console.error("Error loading week lineup:",a),_s.error("Failed to load availability data")}finally{c(!1)}},[t,s,r,n]),f=(e,t)=>{if(!l)return;const s=h.find(t=>t.id===e);if(!s)return;if(l.players.find(t=>t.player_id===e))return void _s.warning("Player is already assigned to a position");if(l.players.find(e=>e.position===t))return void _s.warning("This position is already assigned");const a="holes_1_3"===t?[1,2,3]:"holes_4_6"===t?[4,5,6]:[7,8,9],r={player_id:e,first_name:s.first_name,last_name:s.last_name,handicap:s.handicap,holes_assigned:a,position:t},n=[...l.players,r],o=Math.round(n.reduce((e,t)=>e+t.handicap,0)/n.length);i((0,Re.A)((0,Re.A)({},l),{},{players:n,team_handicap:o}))},b=e=>{if(!l)return;const t=l.players.filter(t=>t.player_id!==e),s=t.length>0?Math.round(t.reduce((e,t)=>e+t.handicap,0)/t.length):0;i((0,Re.A)((0,Re.A)({},l),{},{players:t,team_handicap:s}))},v=e=>new Date(e).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),y=h.filter(e=>"available"===e.availability_status);return o?(0,ct.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,ct.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-neon-green"})}):(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)(pt,{className:"w-8 h-8 text-brand-neon-green"}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h1",{className:"text-2xl font-bold text-brand-black",children:"Lineup Selector"}),(0,ct.jsx)("p",{className:"text-neutral-600",children:"Select your weekly lineup and assign hole positions"})]})]}),0===y.length&&(0,ct.jsx)("div",{className:"text-sm text-red-600",children:"No available players"})]}),n.length>0&&(0,ct.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-lg p-4",children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-brand-black mb-2",children:"Select Match Week:"}),(0,ct.jsx)("select",{value:(null===m||void 0===m?void 0:m.id)||"",onChange:e=>{const t=n.find(t=>t.id===parseInt(e.target.value));t&&(e=>{x(e),g(e)})(t)},className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:n.map((e,t)=>(0,ct.jsxs)("option",{value:e.id,children:["Week ",t+1,": vs ",e.opponent_team_name," - ",new Date(e.week_start_date).toLocaleDateString()]},e.id))})]}),m&&(0,ct.jsx)("div",{className:"bg-white border border-neutral-200 rounded-lg p-6",children:(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ct.jsx)("div",{className:"flex-shrink-0",children:(0,ct.jsx)(qe,{className:"w-6 h-6 text-brand-neon-green"})}),(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("h3",{className:"text-lg font-semibold text-brand-black",children:["vs ",m.opponent_team_name]}),(0,ct.jsxs)("p",{className:"text-sm text-neutral-600",children:[v(m.week_start_date)," \u2022 ",m.course_name]})]})]}),(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[null!==l&&void 0!==l&&l.lineup_submitted?(0,ct.jsxs)("div",{className:"flex items-center text-green-600",children:[(0,ct.jsx)(Ks,{className:"w-4 h-4 mr-1"}),(0,ct.jsx)("span",{className:"text-sm font-medium",children:"Lineup Submitted"})]}):(0,ct.jsxs)("div",{className:"flex items-center text-red-600",children:[(0,ct.jsx)(lr,{className:"w-4 h-4 mr-1"}),(0,ct.jsx)("span",{className:"text-sm font-medium",children:(j=m.lineup_deadline,new Date(j)<new Date?"Deadline Passed":"Lineup Due Soon")})]}),(0,ct.jsxs)("div",{className:"text-sm text-neutral-600",children:["Deadline: ",v(m.lineup_deadline)]})]})]})}),l&&(0,ct.jsx)("div",{className:"bg-white border border-neutral-200 rounded-lg p-6",children:(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)(Hl,{className:"w-6 h-6 text-brand-neon-green"}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-brand-black",children:"Team Handicap"}),(0,ct.jsx)("p",{className:"text-sm text-neutral-600",children:"Average handicap of selected players"})]})]}),(0,ct.jsxs)("div",{className:"text-right",children:[(0,ct.jsx)("div",{className:"text-3xl font-bold text-brand-black",children:l.team_handicap}),(0,ct.jsxs)("div",{className:"text-sm text-neutral-600",children:[l.players.length," of 3 players selected"]})]})]})}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,ct.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-lg overflow-hidden",children:[(0,ct.jsxs)("div",{className:"px-6 py-4 border-b border-neutral-200 bg-blue-50",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-blue-800",children:"Holes 1-3"}),(0,ct.jsx)("p",{className:"text-sm text-blue-600",children:"Opening holes"})]}),(0,ct.jsx)("div",{className:"p-6",children:null!==l&&void 0!==l&&l.players.find(e=>"holes_1_3"===e.position)?(0,ct.jsx)("div",{className:"space-y-3",children:l.players.filter(e=>"holes_1_3"===e.position).map(e=>(0,ct.jsxs)("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("h4",{className:"font-medium text-blue-900",children:[e.first_name," ",e.last_name]}),(0,ct.jsxs)("p",{className:"text-sm text-blue-700",children:["Handicap: ",e.handicap]})]}),(0,ct.jsx)("button",{onClick:()=>b(e.player_id),className:"p-1 text-blue-600 hover:text-blue-800 transition-colors",disabled:null===l||void 0===l?void 0:l.lineup_locked,children:(0,ct.jsx)(Qe,{className:"w-4 h-4"})})]},e.player_id))}):(0,ct.jsxs)("div",{className:"text-center py-8",children:[(0,ct.jsx)(Ye,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),(0,ct.jsx)("p",{className:"text-sm text-gray-600",children:"No player assigned"})]})})]}),(0,ct.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-lg overflow-hidden",children:[(0,ct.jsxs)("div",{className:"px-6 py-4 border-b border-neutral-200 bg-green-50",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-green-800",children:"Holes 4-6"}),(0,ct.jsx)("p",{className:"text-sm text-green-600",children:"Middle holes"})]}),(0,ct.jsx)("div",{className:"p-6",children:null!==l&&void 0!==l&&l.players.find(e=>"holes_4_6"===e.position)?(0,ct.jsx)("div",{className:"space-y-3",children:l.players.filter(e=>"holes_4_6"===e.position).map(e=>(0,ct.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("h4",{className:"font-medium text-green-900",children:[e.first_name," ",e.last_name]}),(0,ct.jsxs)("p",{className:"text-sm text-green-700",children:["Handicap: ",e.handicap]})]}),(0,ct.jsx)("button",{onClick:()=>b(e.player_id),className:"p-1 text-green-600 hover:text-green-800 transition-colors",disabled:null===l||void 0===l?void 0:l.lineup_locked,children:(0,ct.jsx)(Qe,{className:"w-4 h-4"})})]},e.player_id))}):(0,ct.jsxs)("div",{className:"text-center py-8",children:[(0,ct.jsx)(Ye,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),(0,ct.jsx)("p",{className:"text-sm text-gray-600",children:"No player assigned"})]})})]}),(0,ct.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-lg overflow-hidden",children:[(0,ct.jsxs)("div",{className:"px-6 py-4 border-b border-neutral-200 bg-purple-50",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-purple-800",children:"Holes 7-9"}),(0,ct.jsx)("p",{className:"text-sm text-purple-600",children:"Closing holes"})]}),(0,ct.jsx)("div",{className:"p-6",children:null!==l&&void 0!==l&&l.players.find(e=>"holes_7_9"===e.position)?(0,ct.jsx)("div",{className:"space-y-3",children:l.players.filter(e=>"holes_7_9"===e.position).map(e=>(0,ct.jsxs)("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("h4",{className:"font-medium text-purple-900",children:[e.first_name," ",e.last_name]}),(0,ct.jsxs)("p",{className:"text-sm text-purple-700",children:["Handicap: ",e.handicap]})]}),(0,ct.jsx)("button",{onClick:()=>b(e.player_id),className:"p-1 text-purple-600 hover:text-purple-800 transition-colors",disabled:null===l||void 0===l?void 0:l.lineup_locked,children:(0,ct.jsx)(Qe,{className:"w-4 h-4"})})]},e.player_id))}):(0,ct.jsxs)("div",{className:"text-center py-8",children:[(0,ct.jsx)(Ye,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),(0,ct.jsx)("p",{className:"text-sm text-gray-600",children:"No player assigned"})]})})]})]}),(0,ct.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-lg overflow-hidden",children:[(0,ct.jsxs)("div",{className:"px-6 py-4 border-b border-neutral-200",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-brand-black",children:"Available Players"}),(0,ct.jsx)("p",{className:"text-sm text-neutral-600",children:"Click to assign players to positions"})]}),(0,ct.jsx)("div",{className:"p-6",children:(0,ct.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:y.filter(e=>!(null!==l&&void 0!==l&&l.players.find(t=>t.player_id===e.id))).map(e=>(0,ct.jsxs)("div",{className:"border border-neutral-200 rounded-lg p-4 hover:bg-neutral-50 transition-colors",children:[(0,ct.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)("div",{className:"w-10 h-10 bg-brand-neon-green rounded-full flex items-center justify-center",children:(0,ct.jsxs)("span",{className:"text-brand-black font-semibold",children:[e.first_name[0],e.last_name[0]]})}),(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("h4",{className:"font-medium text-brand-black",children:[e.first_name," ",e.last_name]}),(0,ct.jsxs)("p",{className:"text-sm text-neutral-600",children:["Handicap: ",e.handicap]})]})]})}),(0,ct.jsxs)("div",{className:"space-y-2",children:[(0,ct.jsx)("button",{onClick:()=>f(e.id,"holes_1_3"),className:"w-full px-3 py-2 text-sm bg-blue-100 text-blue-800 rounded-lg hover:bg-blue-200 transition-colors disabled:opacity-50",disabled:(null===l||void 0===l?void 0:l.lineup_locked)||!(null===l||void 0===l||!l.players.find(e=>"holes_1_3"===e.position)),children:"Assign to Holes 1-3"}),(0,ct.jsx)("button",{onClick:()=>f(e.id,"holes_4_6"),className:"w-full px-3 py-2 text-sm bg-green-100 text-green-800 rounded-lg hover:bg-green-200 transition-colors disabled:opacity-50",disabled:(null===l||void 0===l?void 0:l.lineup_locked)||!(null===l||void 0===l||!l.players.find(e=>"holes_4_6"===e.position)),children:"Assign to Holes 4-6"}),(0,ct.jsx)("button",{onClick:()=>f(e.id,"holes_7_9"),className:"w-full px-3 py-2 text-sm bg-purple-100 text-purple-800 rounded-lg hover:bg-purple-200 transition-colors disabled:opacity-50",disabled:(null===l||void 0===l?void 0:l.lineup_locked)||!(null===l||void 0===l||!l.players.find(e=>"holes_7_9"===e.position)),children:"Assign to Holes 7-9"})]})]},e.id))})})]}),(0,ct.jsx)("div",{className:"bg-white border border-neutral-200 rounded-lg p-6",children:(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-brand-black",children:"Submit Lineup"}),(0,ct.jsx)("p",{className:"text-sm text-neutral-600",children:3===(null===l||void 0===l?void 0:l.players.length)?"Ready to submit your lineup":"Select ".concat(3-((null===l||void 0===l?void 0:l.players.length)||0)," more players to complete your lineup")})]}),(0,ct.jsx)("button",{onClick:async()=>{if(l&&m)if(3===l.players.length){u(!0);try{await new Promise(e=>setTimeout(e,1e3)),i((0,Re.A)((0,Re.A)({},l),{},{lineup_submitted:!0,lineup_locked:!0})),_s.success("Lineup submitted successfully!")}catch(s){var e,t;console.error("Error submitting lineup:",s),_s.error((null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to submit lineup")}finally{u(!1)}}else _s.error("Please select exactly 3 players for the lineup")},disabled:3!==(null===l||void 0===l?void 0:l.players.length)||(null===l||void 0===l?void 0:l.lineup_locked)||d,className:"flex items-center space-x-2 px-6 py-3 bg-brand-neon-green text-brand-black rounded-lg hover:bg-green-400 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:d?(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-brand-black"}),(0,ct.jsx)("span",{children:"Submitting..."})]}):(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)(Yt,{className:"w-4 h-4"}),(0,ct.jsx)("span",{children:"Submit Lineup"})]})})]})})]});var j},ql=e=>{let{teamId:t,leagueId:s}=e;Z();const[r,n]=(0,a.useState)(null),[l,i]=(0,a.useState)([]),[o,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(!0),[m,x]=(0,a.useState)("overview"),h=(0,a.useCallback)(async()=>{u(!0);try{var e,a,r;const[l,o,u,m]=await Promise.all([(0,tt.$eo)(t,s),(0,tt.WVP)(s),(0,tt.g2E)(s),(0,tt.ApS)(s)]),x=l.data,h=o.data,p=u.data,g=m.data;console.log("Captain Dashboard Data:",{captain_id:x.team.captain_id,roster_count:(null===(e=x.roster)||void 0===e?void 0:e.length)||0,roster:x.roster});const f=x.team.division_id,b=p.find(e=>e.id===f),v=(null===b||void 0===b?void 0:b.division_name)||"Unknown Division",y=g.filter(e=>e.division_id===f),j=y.length;let N=new Map;if(x.upcomingMatches.length>0)try{const e=x.upcomingMatches[0].week_number||1,a=(await(0,tt.rxf)(t,e,s)).data;console.log("CaptainDashboard - Availability data:",a),Array.isArray(a)&&a.forEach(e=>{let t="pending";null!==e.is_available&&void 0!==e.is_available&&(t=e.is_available?"available":"unavailable"),N.set(e.user_member_id,t)}),console.log("CaptainDashboard - Member availability map:",N)}catch(d){console.log("Could not load availability:",d)}const w=x.roster.map(e=>({id:e.id,user_id:e.user_member_id,first_name:e.first_name,last_name:e.last_name,handicap:e.handicap||0,role:e.user_member_id===x.team.captain_id?"captain":"member",availability_status:N.get(e.user_member_id)||"pending"}));!w.some(e=>e.user_id===x.team.captain_id)&&x.team.captain_id&&console.warn("Captain not found in roster, fetching captain data separately");const _={id:x.team.id,name:x.team.name,captain_id:x.team.captain_id,captain_name:(null===(a=w.find(e=>"captain"===e.role))||void 0===a?void 0:a.first_name)+" "+(null===(r=w.find(e=>"captain"===e.role))||void 0===r?void 0:r.last_name)||"Unknown",members:w,division_id:f||0,division_name:v,league_id:s,league_name:h.name||"Unknown League"},k=e=>{const t=new Date(e);return new Date(t.getTime()-864e5).toISOString()},S=x.upcomingMatches.map(e=>({id:e.id,week_start_date:e.week_start_date,opponent_team_id:e.team1_id===t?e.team2_id:e.team1_id,opponent_team_name:e.opponent_name,course_name:e.course_name||"TBD",course_id:e.course_id||0,lineup_submitted:"lineup_submitted"===e.status||e.lineup_submitted||!1,lineup_deadline:k(e.week_start_date),status:"scheduled"===e.status?"upcoming":"in_progress"===e.status?"in_progress":"completed"})),C=x.standings,A={total_matches:C?C.wins+C.losses+C.ties:0,wins:(null===C||void 0===C?void 0:C.wins)||0,losses:(null===C||void 0===C?void 0:C.losses)||0,ties:(null===C||void 0===C?void 0:C.ties)||0,total_points:(null===C||void 0===C?void 0:C.league_points)||0,current_standing:(null===C||void 0===C?void 0:C.division_rank)||0,total_teams:j};n(_),i(S),c(A)}catch(m){var l,o;console.error("Error loading captain data:",m),_s.error((null===(l=m.response)||void 0===l||null===(o=l.data)||void 0===o?void 0:o.error)||"Failed to load team data")}finally{u(!1)}},[t,s]);(0,a.useEffect)(()=>{t&&s&&h()},[t,s,h]);const p=e=>{switch(e){case"upcoming":return"bg-blue-100 text-blue-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return d?(0,ct.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,ct.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-neon-green"})}):r?(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)(qe,{className:"w-8 h-8 text-brand-neon-green"}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Captain Dashboard"}),(0,ct.jsxs)("p",{className:"text-white/80",children:[r.league_name," \u2022 ",r.division_name," \u2022 ",r.name]})]})]}),(0,ct.jsx)("div",{className:"border-b border-white/20",children:(0,ct.jsxs)("nav",{className:"flex space-x-8",children:[(0,ct.jsxs)("button",{onClick:()=>x("overview"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("overview"===m?"border-brand-neon-green text-brand-neon-green":"border-transparent text-white/70 hover:text-white hover:border-white/30"),children:[(0,ct.jsx)(gt,{className:"w-4 h-4 inline mr-2"}),"Overview"]}),(0,ct.jsxs)("button",{onClick:()=>x("availability"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("availability"===m?"border-brand-neon-green text-brand-neon-green":"border-transparent text-white/70 hover:text-white hover:border-white/30"),children:[(0,ct.jsx)(Ye,{className:"w-4 h-4 inline mr-2"}),"Availability"]}),(0,ct.jsxs)("button",{onClick:()=>x("lineup"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("lineup"===m?"border-brand-neon-green text-brand-neon-green":"border-transparent text-white/70 hover:text-white hover:border-white/30"),children:[(0,ct.jsx)(pt,{className:"w-4 h-4 inline mr-2"}),"Lineup"]})]})}),(0,ct.jsxs)("div",{className:"min-h-[600px]",children:["overview"===m&&(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-lg overflow-hidden",children:[(0,ct.jsx)("div",{className:"px-6 py-4 border-b border-neutral-200",children:(0,ct.jsx)("h3",{className:"text-lg font-semibold text-brand-black",children:"Team Members"})}),(0,ct.jsx)("div",{className:"divide-y divide-neutral-200",children:r.members.map(e=>(0,ct.jsx)("div",{className:"p-6",children:(0,ct.jsx)("div",{className:"flex items-center justify-between",children:(0,ct.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ct.jsx)("div",{className:"flex-shrink-0",children:(0,ct.jsx)("div",{className:"w-10 h-10 bg-brand-neon-green rounded-full flex items-center justify-center",children:(0,ct.jsxs)("span",{className:"text-brand-black font-semibold",children:[e.first_name[0],e.last_name[0]]})})}),(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("h4",{className:"text-lg font-semibold text-brand-black",children:[e.first_name," ",e.last_name,"captain"===e.role&&(0,ct.jsx)("span",{className:"ml-2 inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-brand-neon-green text-brand-black",children:"Captain"})]}),(0,ct.jsxs)("p",{className:"text-sm text-neutral-600",children:["Handicap: ",e.handicap]})]})]})})},e.id))})]}),(0,ct.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-lg overflow-hidden",children:[(0,ct.jsx)("div",{className:"px-6 py-4 border-b border-neutral-200",children:(0,ct.jsx)("h3",{className:"text-lg font-semibold text-brand-black",children:"Upcoming Matches"})}),(0,ct.jsx)("div",{className:"divide-y divide-neutral-200",children:l.map(e=>{return(0,ct.jsx)("div",{className:"p-6",children:(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ct.jsx)("div",{className:"flex-shrink-0",children:(0,ct.jsx)(Nt,{className:"w-6 h-6 text-neutral-500"})}),(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("h4",{className:"text-lg font-semibold text-brand-black",children:["vs ",e.opponent_team_name]}),(0,ct.jsxs)("p",{className:"text-sm text-neutral-600",children:[(s=e.week_start_date,new Date(s).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}))," \u2022 ",e.course_name]})]})]}),(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ".concat(p(e.status)),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),e.lineup_submitted?(0,ct.jsxs)("div",{className:"flex items-center text-green-600",children:[(0,ct.jsx)(Ks,{className:"w-4 h-4 mr-1"}),(0,ct.jsx)("span",{className:"text-sm",children:"Lineup Submitted"})]}):(0,ct.jsxs)("div",{className:"flex items-center text-red-600",children:[(0,ct.jsx)(lr,{className:"w-4 h-4 mr-1"}),(0,ct.jsx)("span",{className:"text-sm",children:(t=e.lineup_deadline,new Date(t)<new Date?"Deadline Passed":"Lineup Due Soon")})]}),(0,ct.jsxs)("button",{className:"flex items-center space-x-1 px-3 py-1 bg-brand-neon-green text-brand-black rounded-lg hover:bg-green-400 transition-colors",children:[(0,ct.jsx)("span",{className:"text-sm",children:"Manage"}),(0,ct.jsx)(yt,{className:"w-4 h-4"})]})]})]})},e.id);var t,s})})]})]}),"availability"===m&&r&&(0,ct.jsx)(Ul,{teamId:t,leagueId:s,members:r.members}),"lineup"===m&&r&&(0,ct.jsx)(Wl,{teamId:t,leagueId:s,members:r.members,upcomingMatches:l})]})]}):(0,ct.jsxs)("div",{className:"text-center py-8",children:[(0,ct.jsx)(lr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,ct.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Team Found"}),(0,ct.jsx)("p",{className:"text-gray-600",children:"You are not currently a captain of any team."})]})},Vl=e=>{let{matchupId:t,teamId:s,lineup:r,coursePar:n,courseHandicapIndexes:l,onScoreSubmitted:i}=e;const{user:o}=mt(),[c,d]=(0,a.useState)([]),[u,m]=(0,a.useState)({team_id:s,lineup_id:r.id,hole_scores:{},gross_total:0,net_total:0,team_handicap:0,team_course_handicap:0}),[x,h]=(0,a.useState)(!1),[p,g]=(0,a.useState)({individual:!1,alternateShot:!1});(0,a.useEffect)(()=>{const e=[{id:r.player1_id,name:r.player1_name,handicap:r.player1_handicap},{id:r.player2_id,name:r.player2_name,handicap:r.player2_handicap},{id:r.player3_id,name:r.player3_name,handicap:r.player3_handicap}],t=e.map((e,t)=>({player_id:e.id,player_name:e.name,assigned_holes:[3*t+1,3*t+2,3*t+3],hole_scores:{[(3*t+1).toString()]:{hole:3*t+1,gross:4,par:4,net:3},[(3*t+2).toString()]:{hole:3*t+2,gross:5,par:4,net:4},[(3*t+3).toString()]:{hole:3*t+3,gross:3,par:3,net:2}},gross_total:12,net_total:9,player_handicap:e.handicap,course_handicap:Math.round(e.handicap*(l.length>0?1.2:1))}));d(t);const s=e.reduce((e,t)=>e+t.handicap,0)/3;m(e=>(0,Re.A)((0,Re.A)({},e),{},{team_handicap:s,team_course_handicap:Math.round(1.2*s)}))},[r,l]),(0,a.useEffect)(()=>{const e={};for(let t=10;t<=18;t++)e[t.toString()]={hole:t,gross:10===t?4:11===t?5:12===t?4:13===t?3:14===t?5:15===t?4:16===t?3:17===t?5:4,par:n[t-1]||4,net:10===t?3:11===t?4:12===t?3:13===t?2:14===t?4:15===t?3:16===t?2:17===t?4:3};m(t=>(0,Re.A)((0,Re.A)({},t),{},{hole_scores:e,gross_total:37,net_total:28}))},[n]);(0,a.useEffect)(()=>{(()=>{const e=c.every(e=>e.assigned_holes.every(t=>{var s;return(null===(s=e.hole_scores[t.toString()])||void 0===s?void 0:s.gross)>0})),t=Object.values(u.hole_scores).every(e=>e.gross>0);g({individual:e,alternateShot:t})})()},[c,u]);const f=async()=>{if(p.individual){h(!0);try{for(const e of c){if(!(await fetch("/api/matchups/".concat(t,"/scores/individual"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({team_id:s,player_id:e.player_id,lineup_id:r.id,assigned_holes:e.assigned_holes,hole_scores:e.hole_scores,player_handicap:e.player_handicap,course_handicap:e.course_handicap})})).ok)throw new Error("Failed to submit individual scores for ".concat(e.player_name))}_s.success("Individual scores submitted successfully!")}catch(e){console.error("Error submitting individual scores:",e),_s.error("Failed to submit individual scores")}finally{h(!1)}}else _s.error("Please complete all individual hole scores")},b=async()=>{if(p.alternateShot){h(!0);try{if(!(await fetch("/api/matchups/".concat(t,"/scores/alternate-shot"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({team_id:s,lineup_id:r.id,hole_scores:u.hole_scores,team_handicap:u.team_handicap,team_course_handicap:u.team_course_handicap})})).ok)throw new Error("Failed to submit alternate shot scores");_s.success("Alternate shot scores submitted successfully!")}catch(e){console.error("Error submitting alternate shot scores:",e),_s.error("Failed to submit alternate shot scores")}finally{h(!1)}}else _s.error("Please complete all alternate shot hole scores")},v=()=>c.reduce((e,t)=>e+t.net_total,0);return(0,ct.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,ct.jsxs)("div",{className:"mb-6",children:[(0,ct.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Hybrid Format Score Entry"}),(0,ct.jsxs)("p",{className:"text-gray-600",children:["Team: ",r.team_name]})]}),(0,ct.jsxs)("div",{className:"mb-8",children:[(0,ct.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ct.jsx)(Ye,{className:"w-6 h-6 text-blue-600 mr-2"}),(0,ct.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Section 1: Individual 9 Holes"}),p.individual&&(0,ct.jsx)(Ks,{className:"w-5 h-5 text-green-500 ml-2"})]}),(0,ct.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:c.map((e,t)=>(0,ct.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,ct.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:e.player_name}),(0,ct.jsxs)("p",{className:"text-sm text-gray-600 mb-3",children:["Handicap: ",e.player_handicap," | Course: ",e.course_handicap]}),(0,ct.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:["Assigned Holes: ",e.assigned_holes.join(", ")]}),(0,ct.jsx)("div",{className:"space-y-2",children:e.assigned_holes.map(s=>{var a;return(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("span",{className:"text-sm font-medium",children:["Hole ",s," (Par ",n[s-1]||4,")"]}),(0,ct.jsx)("input",{type:"number",min:"1",max:"15",value:(null===(a=e.hole_scores[s.toString()])||void 0===a?void 0:a.gross)||"",onChange:e=>((e,t,s)=>{d(a=>{const r=[...a],l=r[e],i=t.toString();return l.hole_scores[i]={hole:t,gross:s,par:n[t-1]||4,net:s-Math.floor(l.course_handicap/18)},l.gross_total=Object.values(l.hole_scores).reduce((e,t)=>e+t.gross,0),l.net_total=Object.values(l.hole_scores).reduce((e,t)=>e+(t.net||t.gross),0),r})})(t,s,parseInt(e.target.value)||0),className:"w-16 px-2 py-1 border border-gray-300 rounded text-center",placeholder:"Score"})]},s)})}),(0,ct.jsxs)("div",{className:"mt-4 pt-3 border-t border-gray-200",children:[(0,ct.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,ct.jsx)("span",{children:"Gross Total:"}),(0,ct.jsx)("span",{className:"font-semibold",children:e.gross_total})]}),(0,ct.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,ct.jsx)("span",{children:"Net Total:"}),(0,ct.jsx)("span",{className:"font-semibold text-blue-600",children:e.net_total})]})]})]},e.player_id))}),(0,ct.jsxs)("div",{className:"mt-4 flex justify-between items-center",children:[(0,ct.jsxs)("div",{className:"text-lg font-semibold",children:["Individual Net Total: ",(0,ct.jsx)("span",{className:"text-blue-600",children:v()})]}),(0,ct.jsxs)("button",{onClick:f,disabled:!p.individual||x,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[(0,ct.jsx)(Yt,{className:"w-4 h-4 mr-2"}),"Submit Individual Scores"]})]})]}),(0,ct.jsxs)("div",{className:"mb-8",children:[(0,ct.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ct.jsx)(pt,{className:"w-6 h-6 text-green-600 mr-2"}),(0,ct.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Section 2: Alternate Shot 9 Holes"}),p.alternateShot&&(0,ct.jsx)(Ks,{className:"w-5 h-5 text-green-500 ml-2"})]}),(0,ct.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,ct.jsxs)("div",{className:"mb-4",children:[(0,ct.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Team Alternate Shot"}),(0,ct.jsxs)("p",{className:"text-sm text-gray-600",children:["Team Handicap: ",u.team_handicap.toFixed(1)," | Course: ",u.team_course_handicap]})]}),(0,ct.jsx)("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-3",children:Object.values(u.hole_scores).map(e=>(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsxs)("div",{className:"text-sm font-medium text-gray-600",children:["Hole ",e.hole]}),(0,ct.jsxs)("div",{className:"text-xs text-gray-500 mb-1",children:["Par ",e.par]}),(0,ct.jsx)("input",{type:"number",min:"1",max:"15",value:e.gross||"",onChange:t=>{return s=e.hole,a=parseInt(t.target.value)||0,void m(e=>{const t=(0,Re.A)({},e),r=s.toString();return t.hole_scores[r]={hole:s,gross:a,par:n[s-1]||4,net:a-Math.floor(t.team_course_handicap/18)},t.gross_total=Object.values(t.hole_scores).reduce((e,t)=>e+t.gross,0),t.net_total=Object.values(t.hole_scores).reduce((e,t)=>e+(t.net||t.gross),0),t});var s,a},className:"w-full px-2 py-1 border border-gray-300 rounded text-center",placeholder:"Score"})]},e.hole))}),(0,ct.jsxs)("div",{className:"mt-4 pt-3 border-t border-gray-200",children:[(0,ct.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,ct.jsx)("span",{children:"Gross Total:"}),(0,ct.jsx)("span",{className:"font-semibold",children:u.gross_total})]}),(0,ct.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,ct.jsx)("span",{children:"Net Total:"}),(0,ct.jsx)("span",{className:"font-semibold text-green-600",children:u.net_total})]})]})]}),(0,ct.jsxs)("div",{className:"mt-4 flex justify-between items-center",children:[(0,ct.jsxs)("div",{className:"text-lg font-semibold",children:["Alternate Shot Net Total: ",(0,ct.jsx)("span",{className:"text-green-600",children:u.net_total})]}),(0,ct.jsxs)("button",{onClick:b,disabled:!p.alternateShot||x,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[(0,ct.jsx)(Yt,{className:"w-4 h-4 mr-2"}),"Submit Alternate Shot Scores"]})]})]}),(0,ct.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 mb-6",children:[(0,ct.jsxs)("div",{className:"flex items-center mb-3",children:[(0,ct.jsx)(Hl,{className:"w-6 h-6 text-blue-600 mr-2"}),(0,ct.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Score Summary"})]}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"Individual Net"}),(0,ct.jsx)("div",{className:"text-xl font-bold text-blue-600",children:v()})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"Alternate Shot Net"}),(0,ct.jsx)("div",{className:"text-xl font-bold text-green-600",children:u.net_total})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"Total Net"}),(0,ct.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:v()+u.net_total})]})]})]}),(0,ct.jsx)("div",{className:"flex justify-center",children:(0,ct.jsxs)("button",{onClick:async()=>{p.individual&&p.alternateShot?(await f(),await b(),null===i||void 0===i||i()):_s.error("Please complete both sections before submitting")},disabled:!p.individual||!p.alternateShot||x,className:"px-8 py-3 bg-gray-900 text-white rounded-lg hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed flex items-center text-lg font-semibold",children:[(0,ct.jsx)(Yt,{className:"w-5 h-5 mr-2"}),"Submit All Scores"]})}),x&&(0,ct.jsx)("div",{className:"mt-4 text-center text-gray-600",children:(0,ct.jsxs)("div",{className:"inline-flex items-center",children:[(0,ct.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-900 mr-2"}),"Submitting scores..."]})})]})},Gl=e=>{let{matchupId:t,onVerify:s}=e;const[r,n]=(0,a.useState)(null),[l,i]=(0,a.useState)([]),[o,c]=(0,a.useState)([]),[d,u]=(0,a.useState)([]),[m,x]=(0,a.useState)(!0),[h,p]=(0,a.useState)(!1),g=async()=>{try{const e={matchup:{id:t,week_number:1,team1_id:1,team1_name:"Eagle Hunters",team2_id:2,team2_name:"Birdie Brigade",course_name:"Augusta National",status:"in_progress",team1_individual_net:29,team2_individual_net:31,team1_alternate_shot_net:28,team2_alternate_shot_net:30,team1_total_net:57,team2_total_net:61,winner_team_id:1},lineups:[{id:1,matchup_id:t,team_id:1,team_name:"Eagle Hunters",player1_id:1,player1_name:"John Smith",player2_id:2,player2_name:"Mike Johnson",player3_id:3,player3_name:"Tom Wilson",player1_handicap:12,player2_handicap:15,player3_handicap:18,week_number:1,league_id:1,is_locked:!0,submitted_at:"2025-01-15T09:00:00Z",submitted_by:1},{id:2,matchup_id:t,team_id:2,team_name:"Birdie Brigade",player1_id:4,player1_name:"Sarah Davis",player2_id:5,player2_name:"Lisa Brown",player3_id:6,player3_name:"Amy Taylor",player1_handicap:10,player2_handicap:14,player3_handicap:16,week_number:1,league_id:1,is_locked:!0,submitted_at:"2025-01-15T09:00:00Z",submitted_by:4}],individualScores:[{id:1,matchup_id:t,lineup_id:1,team_id:1,player_id:1,player_name:"John Smith",assigned_holes:[1,2,3],hole_scores:{1:{gross:4,net:3,par:4,strokes_received:1},2:{gross:5,net:4,par:4,strokes_received:1},3:{gross:3,net:2,par:3,strokes_received:1}},gross_total:12,net_total:9,player_handicap:12,course_handicap:14,submitted_at:"2025-01-15T10:30:00Z"},{id:2,matchup_id:t,lineup_id:1,team_id:1,player_id:2,player_name:"Mike Johnson",assigned_holes:[4,5,6],hole_scores:{4:{gross:4,net:3,par:4,strokes_received:1},5:{gross:6,net:5,par:5,strokes_received:1},6:{gross:3,net:2,par:3,strokes_received:1}},gross_total:13,net_total:10,player_handicap:15,course_handicap:17,submitted_at:"2025-01-15T10:35:00Z"},{id:3,matchup_id:t,lineup_id:1,team_id:1,player_id:3,player_name:"Tom Wilson",assigned_holes:[7,8,9],hole_scores:{7:{gross:5,net:4,par:4,strokes_received:1},8:{gross:4,net:3,par:4,strokes_received:1},9:{gross:4,net:3,par:4,strokes_received:1}},gross_total:13,net_total:10,player_handicap:18,course_handicap:20,submitted_at:"2025-01-15T10:40:00Z"},{id:4,matchup_id:t,lineup_id:2,team_id:2,player_id:4,player_name:"Sarah Davis",assigned_holes:[1,2,3],hole_scores:{1:{gross:5,net:4,par:4,strokes_received:1},2:{gross:4,net:3,par:4,strokes_received:1},3:{gross:4,net:3,par:3,strokes_received:1}},gross_total:13,net_total:10,player_handicap:10,course_handicap:12,submitted_at:"2025-01-15T10:30:00Z"},{id:5,matchup_id:t,lineup_id:2,team_id:2,player_id:5,player_name:"Lisa Brown",assigned_holes:[4,5,6],hole_scores:{4:{gross:5,net:4,par:4,strokes_received:1},5:{gross:6,net:5,par:5,strokes_received:1},6:{gross:4,net:3,par:3,strokes_received:1}},gross_total:15,net_total:12,player_handicap:14,course_handicap:16,submitted_at:"2025-01-15T10:35:00Z"},{id:6,matchup_id:t,lineup_id:2,team_id:2,player_id:6,player_name:"Amy Taylor",assigned_holes:[7,8,9],hole_scores:{7:{gross:6,net:5,par:4,strokes_received:1},8:{gross:5,net:4,par:4,strokes_received:1},9:{gross:5,net:4,par:4,strokes_received:1}},gross_total:16,net_total:13,player_handicap:16,course_handicap:18,submitted_at:"2025-01-15T10:40:00Z"}],alternateShotScores:[{id:1,matchup_id:t,lineup_id:1,team_id:1,hole_scores:{10:{gross:4,net:3,par:4,strokes_received:1},11:{gross:5,net:4,par:5,strokes_received:1},12:{gross:4,net:3,par:4,strokes_received:1},13:{gross:3,net:2,par:3,strokes_received:1},14:{gross:5,net:4,par:4,strokes_received:1},15:{gross:4,net:3,par:4,strokes_received:1},16:{gross:3,net:2,par:3,strokes_received:1},17:{gross:5,net:4,par:5,strokes_received:1},18:{gross:4,net:3,par:4,strokes_received:1}},gross_total:37,net_total:28,team_handicap:15,team_course_handicap:17,submitted_at:"2025-01-15T11:00:00Z"},{id:2,matchup_id:t,lineup_id:2,team_id:2,hole_scores:{10:{gross:5,net:4,par:4,strokes_received:1},11:{gross:6,net:5,par:5,strokes_received:1},12:{gross:5,net:4,par:4,strokes_received:1},13:{gross:4,net:3,par:3,strokes_received:1},14:{gross:6,net:5,par:4,strokes_received:1},15:{gross:5,net:4,par:4,strokes_received:1},16:{gross:4,net:3,par:3,strokes_received:1},17:{gross:6,net:5,par:5,strokes_received:1},18:{gross:5,net:4,par:4,strokes_received:1}},gross_total:46,net_total:37,team_handicap:13,team_course_handicap:15,submitted_at:"2025-01-15T11:00:00Z"}]};n(e.matchup),i(e.lineups),c(e.individualScores),u(e.alternateShotScores)}catch(e){console.error("Error fetching matchup scores:",e),_s.error("Failed to load matchup scores")}finally{x(!1),p(!1)}};(0,a.useEffect)(()=>{g()},[t]);const f=e=>{const t=o.filter(t=>t.player_id===e),s=d.find(t=>t.team_id===e),a=t.reduce((e,t)=>e+t.net_total,0),r=(null===s||void 0===s?void 0:s.net_total)||0;return{individualNetTotal:a,alternateShotNetTotal:r,totalNet:a+r,individualScores:t,alternateShotScore:s}},b=e=>{if(!r)return"tie";const t=f(r.team1_id),s=f(r.team2_id);return t.totalNet<s.totalNet?r.team1_id===e?"leading":"trailing":s.totalNet<t.totalNet?r.team2_id===e?"leading":"trailing":"tie"},v=e=>{switch(e){case"leading":return"text-green-600 bg-green-100";case"trailing":return"text-red-600 bg-red-100";case"tie":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}},y=e=>{switch(e){case"leading":return(0,ct.jsx)(qe,{className:"w-4 h-4"});case"trailing":return(0,ct.jsx)(lr,{className:"w-4 h-4"});case"tie":return(0,ct.jsx)(Ye,{className:"w-4 h-4"});default:return null}};if(m)return(0,ct.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:(0,ct.jsxs)("div",{className:"flex items-center justify-center",children:[(0,ct.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mr-3"}),(0,ct.jsx)("span",{className:"text-gray-600",children:"Loading matchup scores..."})]})});if(!r)return(0,ct.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:(0,ct.jsxs)("div",{className:"text-center text-gray-600",children:[(0,ct.jsx)(lr,{className:"w-12 h-12 mx-auto mb-4 text-red-500"}),(0,ct.jsx)("p",{children:"Matchup not found"})]})});const j=f(r.team1_id),N=f(r.team2_id),w=b(r.team1_id),_=b(r.team2_id);return(0,ct.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Match Scoring View"}),(0,ct.jsxs)("p",{className:"text-gray-600",children:["Week ",r.week_number," \u2022 ",r.course_name]})]}),(0,ct.jsxs)("button",{onClick:()=>{p(!0),g()},disabled:h,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center",children:[(0,ct.jsx)(Ut,{className:"w-4 h-4 mr-2 ".concat(h?"animate-spin":"")}),"Refresh"]})]}),(0,ct.jsx)("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)(wt,{className:"w-5 h-5 text-gray-600 mr-2"}),(0,ct.jsx)("span",{className:"font-semibold text-gray-900",children:"Match Status: "}),(0,ct.jsx)("span",{className:"ml-2 px-2 py-1 rounded-full text-sm font-medium ".concat(v(r.status)),children:r.status.replace("_"," ").toUpperCase()})]}),r.winner_team_id&&(0,ct.jsxs)("div",{className:"flex items-center text-green-600",children:[(0,ct.jsx)(qe,{className:"w-5 h-5 mr-2"}),(0,ct.jsxs)("span",{className:"font-semibold",children:["Winner: ",r.winner_team_id===r.team1_id?r.team1_name:r.team2_name]})]})]})}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,ct.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ct.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:r.team1_name}),(0,ct.jsxs)("div",{className:"flex items-center px-3 py-1 rounded-full text-sm font-medium ".concat(v(w)),children:[y(w),(0,ct.jsx)("span",{className:"ml-1",children:w.toUpperCase()})]})]}),(0,ct.jsxs)("div",{className:"mb-4",children:[(0,ct.jsxs)("div",{className:"flex items-center mb-2",children:[(0,ct.jsx)(Ye,{className:"w-4 h-4 text-blue-600 mr-2"}),(0,ct.jsx)("span",{className:"font-medium text-gray-900",children:"Individual 9 Holes"})]}),(0,ct.jsxs)("div",{className:"space-y-2",children:[j.individualScores.map(e=>(0,ct.jsxs)("div",{className:"flex justify-between items-center bg-white rounded p-2",children:[(0,ct.jsx)("span",{className:"text-sm",children:e.player_name}),(0,ct.jsxs)("div",{className:"text-right",children:[(0,ct.jsx)("div",{className:"text-sm font-semibold text-blue-600",children:e.net_total}),(0,ct.jsxs)("div",{className:"text-xs text-gray-500",children:["(",e.gross_total,")"]})]})]},e.id)),(0,ct.jsxs)("div",{className:"flex justify-between items-center bg-blue-100 rounded p-2 font-semibold",children:[(0,ct.jsx)("span",{children:"Individual Total"}),(0,ct.jsx)("span",{className:"text-blue-600",children:j.individualNetTotal})]})]})]}),(0,ct.jsxs)("div",{className:"mb-4",children:[(0,ct.jsxs)("div",{className:"flex items-center mb-2",children:[(0,ct.jsx)(pt,{className:"w-4 h-4 text-green-600 mr-2"}),(0,ct.jsx)("span",{className:"font-medium text-gray-900",children:"Alternate Shot 9 Holes"})]}),j.alternateShotScore?(0,ct.jsxs)("div",{className:"flex justify-between items-center bg-white rounded p-2",children:[(0,ct.jsx)("span",{className:"text-sm",children:"Team Score"}),(0,ct.jsxs)("div",{className:"text-right",children:[(0,ct.jsx)("div",{className:"text-sm font-semibold text-green-600",children:j.alternateShotScore.net_total}),(0,ct.jsxs)("div",{className:"text-xs text-gray-500",children:["(",j.alternateShotScore.gross_total,")"]})]})]}):(0,ct.jsx)("div",{className:"text-center text-gray-500 py-2",children:"No alternate shot scores submitted"})]}),(0,ct.jsx)("div",{className:"border-t pt-4",children:(0,ct.jsxs)("div",{className:"flex justify-between items-center bg-gray-900 text-white rounded p-3 font-bold text-lg",children:[(0,ct.jsx)("span",{children:"TOTAL NET"}),(0,ct.jsx)("span",{children:j.totalNet})]})})]}),(0,ct.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ct.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:r.team2_name}),(0,ct.jsxs)("div",{className:"flex items-center px-3 py-1 rounded-full text-sm font-medium ".concat(v(_)),children:[y(_),(0,ct.jsx)("span",{className:"ml-1",children:_.toUpperCase()})]})]}),(0,ct.jsxs)("div",{className:"mb-4",children:[(0,ct.jsxs)("div",{className:"flex items-center mb-2",children:[(0,ct.jsx)(Ye,{className:"w-4 h-4 text-blue-600 mr-2"}),(0,ct.jsx)("span",{className:"font-medium text-gray-900",children:"Individual 9 Holes"})]}),(0,ct.jsxs)("div",{className:"space-y-2",children:[N.individualScores.map(e=>(0,ct.jsxs)("div",{className:"flex justify-between items-center bg-white rounded p-2",children:[(0,ct.jsx)("span",{className:"text-sm",children:e.player_name}),(0,ct.jsxs)("div",{className:"text-right",children:[(0,ct.jsx)("div",{className:"text-sm font-semibold text-blue-600",children:e.net_total}),(0,ct.jsxs)("div",{className:"text-xs text-gray-500",children:["(",e.gross_total,")"]})]})]},e.id)),(0,ct.jsxs)("div",{className:"flex justify-between items-center bg-blue-100 rounded p-2 font-semibold",children:[(0,ct.jsx)("span",{children:"Individual Total"}),(0,ct.jsx)("span",{className:"text-blue-600",children:N.individualNetTotal})]})]})]}),(0,ct.jsxs)("div",{className:"mb-4",children:[(0,ct.jsxs)("div",{className:"flex items-center mb-2",children:[(0,ct.jsx)(pt,{className:"w-4 h-4 text-green-600 mr-2"}),(0,ct.jsx)("span",{className:"font-medium text-gray-900",children:"Alternate Shot 9 Holes"})]}),N.alternateShotScore?(0,ct.jsxs)("div",{className:"flex justify-between items-center bg-white rounded p-2",children:[(0,ct.jsx)("span",{className:"text-sm",children:"Team Score"}),(0,ct.jsxs)("div",{className:"text-right",children:[(0,ct.jsx)("div",{className:"text-sm font-semibold text-green-600",children:N.alternateShotScore.net_total}),(0,ct.jsxs)("div",{className:"text-xs text-gray-500",children:["(",N.alternateShotScore.gross_total,")"]})]})]}):(0,ct.jsx)("div",{className:"text-center text-gray-500 py-2",children:"No alternate shot scores submitted"})]}),(0,ct.jsx)("div",{className:"border-t pt-4",children:(0,ct.jsxs)("div",{className:"flex justify-between items-center bg-gray-900 text-white rounded p-3 font-bold text-lg",children:[(0,ct.jsx)("span",{children:"TOTAL NET"}),(0,ct.jsx)("span",{children:N.totalNet})]})})]})]}),(0,ct.jsxs)("div",{className:"mb-6",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Detailed Hole Breakdown"}),(0,ct.jsxs)("div",{className:"mb-6",children:[(0,ct.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Individual Holes (1-9)"}),(0,ct.jsx)("div",{className:"overflow-x-auto",children:(0,ct.jsxs)("table",{className:"w-full border-collapse border border-gray-300",children:[(0,ct.jsx)("thead",{children:(0,ct.jsxs)("tr",{className:"bg-gray-100",children:[(0,ct.jsx)("th",{className:"border border-gray-300 px-3 py-2 text-left",children:"Hole"}),(0,ct.jsx)("th",{className:"border border-gray-300 px-3 py-2 text-left",children:"Par"}),j.individualScores.map(e=>(0,ct.jsx)("th",{className:"border border-gray-300 px-3 py-2 text-center text-sm",children:e.player_name},e.id)),N.individualScores.map(e=>(0,ct.jsx)("th",{className:"border border-gray-300 px-3 py-2 text-center text-sm",children:e.player_name},e.id))]})}),(0,ct.jsx)("tbody",{children:[1,2,3,4,5,6,7,8,9].map(e=>(0,ct.jsxs)("tr",{children:[(0,ct.jsx)("td",{className:"border border-gray-300 px-3 py-2 font-medium",children:e}),(0,ct.jsx)("td",{className:"border border-gray-300 px-3 py-2",children:4}),j.individualScores.map(t=>{const s=t.hole_scores[e.toString()];return(0,ct.jsx)("td",{className:"border border-gray-300 px-3 py-2 text-center",children:s?(0,ct.jsxs)("div",{children:[(0,ct.jsx)("div",{className:"font-semibold text-blue-600",children:s.net||s.gross}),(0,ct.jsxs)("div",{className:"text-xs text-gray-500",children:["(",s.gross,")"]})]}):"-"},t.id)}),N.individualScores.map(t=>{const s=t.hole_scores[e.toString()];return(0,ct.jsx)("td",{className:"border border-gray-300 px-3 py-2 text-center",children:s?(0,ct.jsxs)("div",{children:[(0,ct.jsx)("div",{className:"font-semibold text-blue-600",children:s.net||s.gross}),(0,ct.jsxs)("div",{className:"text-xs text-gray-500",children:["(",s.gross,")"]})]}):"-"},t.id)})]},e))})]})})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Alternate Shot Holes (10-18)"}),(0,ct.jsx)("div",{className:"overflow-x-auto",children:(0,ct.jsxs)("table",{className:"w-full border-collapse border border-gray-300",children:[(0,ct.jsx)("thead",{children:(0,ct.jsxs)("tr",{className:"bg-gray-100",children:[(0,ct.jsx)("th",{className:"border border-gray-300 px-3 py-2 text-left",children:"Hole"}),(0,ct.jsx)("th",{className:"border border-gray-300 px-3 py-2 text-left",children:"Par"}),(0,ct.jsx)("th",{className:"border border-gray-300 px-3 py-2 text-center",children:r.team1_name}),(0,ct.jsx)("th",{className:"border border-gray-300 px-3 py-2 text-center",children:r.team2_name})]})}),(0,ct.jsx)("tbody",{children:[10,11,12,13,14,15,16,17,18].map(e=>{var t,s,a,r,n,l,i,o;return(0,ct.jsxs)("tr",{children:[(0,ct.jsx)("td",{className:"border border-gray-300 px-3 py-2 font-medium",children:e}),(0,ct.jsx)("td",{className:"border border-gray-300 px-3 py-2",children:4}),(0,ct.jsx)("td",{className:"border border-gray-300 px-3 py-2 text-center",children:null!==(t=j.alternateShotScore)&&void 0!==t&&t.hole_scores[e.toString()]?(0,ct.jsxs)("div",{children:[(0,ct.jsx)("div",{className:"font-semibold text-green-600",children:(null===(s=j.alternateShotScore.hole_scores[e.toString()])||void 0===s?void 0:s.net)||(null===(a=j.alternateShotScore.hole_scores[e.toString()])||void 0===a?void 0:a.gross)}),(0,ct.jsxs)("div",{className:"text-xs text-gray-500",children:["(",null===(r=j.alternateShotScore.hole_scores[e.toString()])||void 0===r?void 0:r.gross,")"]})]}):"-"}),(0,ct.jsx)("td",{className:"border border-gray-300 px-3 py-2 text-center",children:null!==(n=N.alternateShotScore)&&void 0!==n&&n.hole_scores[e.toString()]?(0,ct.jsxs)("div",{children:[(0,ct.jsx)("div",{className:"font-semibold text-green-600",children:(null===(l=N.alternateShotScore.hole_scores[e.toString()])||void 0===l?void 0:l.net)||(null===(i=N.alternateShotScore.hole_scores[e.toString()])||void 0===i?void 0:i.gross)}),(0,ct.jsxs)("div",{className:"text-xs text-gray-500",children:["(",null===(o=N.alternateShotScore.hole_scores[e.toString()])||void 0===o?void 0:o.gross,")"]})]}):"-"})]},e)})})]})})]})]}),s&&(0,ct.jsx)("div",{className:"flex justify-center",children:(0,ct.jsxs)("button",{onClick:s,className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center text-lg font-semibold",children:[(0,ct.jsx)(Ks,{className:"w-5 h-5 mr-2"}),"Verify/Approve Scores"]})})]})},Yl=e=>{let{matchupId:t,onVerificationComplete:s}=e;const{user:r}=mt(),[n,l]=(0,a.useState)(null),[i,o]=(0,a.useState)([]),[c,d]=(0,a.useState)([]),[u,m]=(0,a.useState)([]),[x,h]=(0,a.useState)(!0),[p,g]=(0,a.useState)(!1),[f,b]=(0,a.useState)(""),[v,y]=(0,a.useState)(""),[j,N]=(0,a.useState)(!1);(0,a.useEffect)(()=>{(async()=>{try{const e={matchup:{id:t,week_number:1,team1_id:1,team1_name:"Eagle Hunters",team2_id:2,team2_name:"Birdie Brigade",course_name:"Augusta National",status:"in_progress"},lineups:[{id:1,matchup_id:t,team_id:1,team_name:"Eagle Hunters",player1_id:1,player1_name:"John Smith",player2_id:2,player2_name:"Mike Johnson",player3_id:3,player3_name:"Tom Wilson",player1_handicap:12,player2_handicap:15,player3_handicap:18,week_number:1,league_id:1,is_locked:!0,submitted_at:"2025-01-15T09:00:00Z",submitted_by:1},{id:2,matchup_id:t,team_id:2,team_name:"Birdie Brigade",player1_id:4,player1_name:"Sarah Davis",player2_id:5,player2_name:"Lisa Brown",player3_id:6,player3_name:"Amy Taylor",player1_handicap:10,player2_handicap:14,player3_handicap:16,week_number:1,league_id:1,is_locked:!0,submitted_at:"2025-01-15T09:00:00Z",submitted_by:4}],individualScores:[{id:4,matchup_id:t,lineup_id:2,team_id:2,player_id:4,player_name:"Sarah Davis",assigned_holes:[1,2,3],hole_scores:{1:{gross:5,net:4,par:4,strokes_received:1},2:{gross:4,net:3,par:4,strokes_received:1},3:{gross:4,net:3,par:3,strokes_received:1}},gross_total:13,net_total:10,player_handicap:10,course_handicap:12,submitted_at:"2025-01-15T10:30:00Z"},{id:5,matchup_id:t,lineup_id:2,team_id:2,player_id:5,player_name:"Lisa Brown",assigned_holes:[4,5,6],hole_scores:{4:{gross:5,net:4,par:4,strokes_received:1},5:{hole:5,gross:6,net:5,par:5,strokes_received:1},6:{hole:6,gross:4,net:3,par:3,strokes_received:1}},gross_total:15,net_total:12,player_handicap:14,course_handicap:16,submitted_at:"2025-01-15T10:35:00Z"},{id:6,matchup_id:t,lineup_id:2,team_id:2,player_id:6,player_name:"Amy Taylor",assigned_holes:[7,8,9],hole_scores:{7:{hole:7,gross:6,net:5,par:4,strokes_received:1},8:{hole:8,gross:5,net:4,par:4,strokes_received:1},9:{hole:9,gross:5,net:4,par:4,strokes_received:1}},gross_total:16,net_total:13,player_handicap:16,course_handicap:18,submitted_at:"2025-01-15T10:40:00Z"}],alternateShotScores:[{id:2,matchup_id:t,lineup_id:2,team_id:2,hole_scores:{10:{hole:10,gross:5,net:4,par:4,strokes_received:1},11:{hole:11,gross:6,net:5,par:5,strokes_received:1},12:{hole:12,gross:5,net:4,par:4,strokes_received:1},13:{hole:13,gross:4,net:3,par:3,strokes_received:1},14:{hole:14,gross:6,net:5,par:4,strokes_received:1},15:{hole:15,gross:5,net:4,par:4,strokes_received:1},16:{hole:16,gross:4,net:3,par:3,strokes_received:1},17:{hole:17,gross:6,net:5,par:5,strokes_received:1},18:{hole:18,gross:5,net:4,par:4,strokes_received:1}},gross_total:46,net_total:37,team_handicap:13,team_course_handicap:15,submitted_at:"2025-01-15T11:00:00Z"}]};l(e.matchup),o(e.lineups),d(e.individualScores),m(e.alternateShotScores)}catch(e){console.error("Error fetching matchup scores:",e),_s.error("Failed to load matchup scores")}finally{h(!1)}})()},[t]);const w=()=>{var e;if(!n||!r)return null;const t=null===(e=i.find(e=>e.player1_id===r.member_id||e.player2_id===r.member_id||e.player3_id===r.member_id))||void 0===e?void 0:e.team_id;return t?n.team1_id===t?n.team2_id:n.team1_id:null};if(x)return(0,ct.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:(0,ct.jsxs)("div",{className:"flex items-center justify-center",children:[(0,ct.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mr-3"}),(0,ct.jsx)("span",{className:"text-gray-600",children:"Loading scores for verification..."})]})});if(!n)return(0,ct.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:(0,ct.jsxs)("div",{className:"text-center text-gray-600",children:[(0,ct.jsx)(rr,{className:"w-12 h-12 mx-auto mb-4 text-red-500"}),(0,ct.jsx)("p",{children:"Matchup not found"})]})});const _=(()=>{const e=w();if(!e)return{individualScores:[],alternateShotScore:null};return{individualScores:c.filter(t=>i.some(s=>s.team_id===e&&(s.player1_id===t.player_id||s.player2_id===t.player_id||s.player3_id===t.player_id))),alternateShotScore:u.find(t=>t.team_id===e)||null}})(),k=w()===n.team1_id?n.team1_name:n.team2_name;return(0,ct.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,ct.jsxs)("div",{className:"mb-6",children:[(0,ct.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Score Verification"}),(0,ct.jsxs)("p",{className:"text-gray-600",children:["Week ",n.week_number," \u2022 ",n.course_name]}),(0,ct.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Reviewing scores for: ",(0,ct.jsx)("span",{className:"font-semibold",children:k})]})]}),(0,ct.jsxs)("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)(rr,{className:"w-5 h-5 text-yellow-600 mr-2"}),(0,ct.jsx)("span",{className:"font-semibold text-yellow-800",children:"Verification Required"})]}),(0,ct.jsx)("p",{className:"text-sm text-yellow-700 mt-1",children:"Please review the opponent's scores and either approve or dispute them."})]}),(0,ct.jsxs)("div",{className:"mb-6",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Opponent Scores Review"}),(0,ct.jsxs)("div",{className:"mb-6",children:[(0,ct.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Individual 9 Holes"}),(0,ct.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:_.individualScores.length>0?(0,ct.jsxs)("div",{className:"space-y-3",children:[_.individualScores.map(e=>(0,ct.jsxs)("div",{className:"bg-white rounded p-3",children:[(0,ct.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"font-semibold text-gray-900",children:e.player_name}),(0,ct.jsxs)("p",{className:"text-sm text-gray-600",children:["Handicap: ",e.player_handicap," | Course: ",e.course_handicap]}),(0,ct.jsxs)("p",{className:"text-sm text-gray-600",children:["Assigned Holes: ",e.assigned_holes.join(", ")]})]}),(0,ct.jsxs)("div",{className:"text-right",children:[(0,ct.jsx)("div",{className:"text-lg font-bold text-blue-600",children:e.net_total}),(0,ct.jsxs)("div",{className:"text-sm text-gray-500",children:["(",e.gross_total,")"]})]})]}),(0,ct.jsx)("div",{className:"grid grid-cols-3 gap-2 mt-2",children:e.assigned_holes.map(t=>{const s=e.hole_scores[t.toString()];return(0,ct.jsxs)("div",{className:"text-center text-sm",children:[(0,ct.jsxs)("div",{className:"font-medium",children:["Hole ",t]}),(0,ct.jsx)("div",{className:"text-blue-600 font-semibold",children:s?s.net||s.gross:"-"}),(0,ct.jsxs)("div",{className:"text-gray-500 text-xs",children:["(",s?s.gross:"-",")"]})]},t)})})]},e.id)),(0,ct.jsx)("div",{className:"bg-blue-100 rounded p-3 font-semibold",children:(0,ct.jsxs)("div",{className:"flex justify-between",children:[(0,ct.jsx)("span",{children:"Individual Total"}),(0,ct.jsx)("span",{className:"text-blue-600",children:_.individualScores.reduce((e,t)=>e+t.net_total,0)})]})})]}):(0,ct.jsx)("div",{className:"text-center text-gray-500 py-4",children:"No individual scores submitted"})})]}),(0,ct.jsxs)("div",{className:"mb-6",children:[(0,ct.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Alternate Shot 9 Holes"}),(0,ct.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:_.alternateShotScore?(0,ct.jsxs)("div",{className:"bg-white rounded p-3",children:[(0,ct.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"font-semibold text-gray-900",children:"Team Score"}),(0,ct.jsxs)("p",{className:"text-sm text-gray-600",children:["Team Handicap: ",_.alternateShotScore.team_handicap.toFixed(1)," | Course: ",_.alternateShotScore.team_course_handicap]})]}),(0,ct.jsxs)("div",{className:"text-right",children:[(0,ct.jsx)("div",{className:"text-lg font-bold text-green-600",children:_.alternateShotScore.net_total}),(0,ct.jsxs)("div",{className:"text-sm text-gray-500",children:["(",_.alternateShotScore.gross_total,")"]})]})]}),(0,ct.jsx)("div",{className:"grid grid-cols-3 gap-2",children:[10,11,12,13,14,15,16,17,18].map(e=>{var t;const s=null===(t=_.alternateShotScore)||void 0===t?void 0:t.hole_scores[e.toString()];return(0,ct.jsxs)("div",{className:"text-center text-sm",children:[(0,ct.jsxs)("div",{className:"font-medium",children:["Hole ",e]}),(0,ct.jsx)("div",{className:"text-green-600 font-semibold",children:s?s.net||s.gross:"-"}),(0,ct.jsxs)("div",{className:"text-gray-500 text-xs",children:["(",s?s.gross:"-",")"]})]},e)})})]}):(0,ct.jsx)("div",{className:"text-center text-gray-500 py-4",children:"No alternate shot scores submitted"})})]})]}),(0,ct.jsxs)("div",{className:"mb-6",children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Verification Notes"}),(0,ct.jsx)("textarea",{value:f,onChange:e=>b(e.target.value),placeholder:"Add your verification notes here...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:4}),(0,ct.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Required for approval. Describe what you verified and any observations."})]}),(0,ct.jsxs)("div",{className:"flex justify-between",children:[(0,ct.jsxs)("button",{onClick:()=>N(!j),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center",children:[(0,ct.jsx)(nr,{className:"w-5 h-5 mr-2"}),"Dispute Scores"]}),(0,ct.jsxs)("button",{onClick:async()=>{if(f.trim()){g(!0);try{if(!(await fetch("/api/matchups/".concat(t,"/verify"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({action:"approve",notes:f,verified_by:null===r||void 0===r?void 0:r.member_id})})).ok)throw new Error("Failed to approve scores");_s.success("Scores approved successfully!"),null===s||void 0===s||s()}catch(e){console.error("Error approving scores:",e),_s.error("Failed to approve scores")}finally{g(!1)}}else _s.error("Please add verification notes before approving")},disabled:!f.trim()||p,className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[(0,ct.jsx)(Ks,{className:"w-5 h-5 mr-2"}),"Approve Scores"]})]}),j&&(0,ct.jsxs)("div",{className:"mt-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:[(0,ct.jsx)("h4",{className:"font-semibold text-red-800 mb-3",children:"Dispute Scores"}),(0,ct.jsxs)("div",{className:"mb-4",children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Reason for Dispute"}),(0,ct.jsx)("textarea",{value:v,onChange:e=>y(e.target.value),placeholder:"Explain why you are disputing these scores...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",rows:3})]}),(0,ct.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ct.jsx)("button",{onClick:()=>N(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400",children:"Cancel"}),(0,ct.jsxs)("button",{onClick:async()=>{if(v.trim()){g(!0);try{if(!(await fetch("/api/matchups/".concat(t,"/dispute"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({reason:v,disputed_by:null===r||void 0===r?void 0:r.member_id})})).ok)throw new Error("Failed to dispute scores");_s.success("Scores disputed successfully!"),null===s||void 0===s||s()}catch(e){console.error("Error disputing scores:",e),_s.error("Failed to dispute scores")}finally{g(!1)}}else _s.error("Please provide a reason for disputing the scores")},disabled:!v.trim()||p,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[(0,ct.jsx)(nr,{className:"w-4 h-4 mr-2"}),"Submit Dispute"]})]})]}),p&&(0,ct.jsx)("div",{className:"mt-4 text-center text-gray-600",children:(0,ct.jsxs)("div",{className:"inline-flex items-center",children:[(0,ct.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-900 mr-2"}),"Processing..."]})})]})},$l=e=>{let{leagueId:t=1,onBack:s}=e;const{matchupId:r}=ee(),{user:n}=mt(),[l,i]=(0,a.useState)([]),[o,c]=(0,a.useState)(null),[d,u]=(0,a.useState)([]),[m,x]=(0,a.useState)(!0),[h,p]=(0,a.useState)("entry"),[g,f]=(0,a.useState)(1);(0,a.useEffect)(()=>{b()},[t]),(0,a.useEffect)(()=>{r&&v(parseInt(r))},[r]);const b=async()=>{try{const e=(await(0,tt.Nlt)(t,{week_number:g})).data;i(e),e.length>0&&!o&&(c(e[0]),v(e[0].id))}catch(a){var e,s;console.error("Error loading matchups:",a),_s.error((null===(e=a.response)||void 0===e||null===(s=e.data)||void 0===s?void 0:s.error)||"Failed to load matchups")}finally{x(!1)}},v=async e=>{try{u([{id:1,matchup_id:e,team_id:1,team_name:"Eagle Hunters",player1_id:1,player1_name:"John Smith",player2_id:2,player2_name:"Mike Johnson",player3_id:3,player3_name:"Tom Wilson",player1_handicap:12,player2_handicap:15,player3_handicap:18,week_number:g,league_id:1,is_locked:!0,submitted_at:"2025-01-15T09:00:00Z",submitted_by:1},{id:2,matchup_id:e,team_id:2,team_name:"Birdie Brigade",player1_id:4,player1_name:"Sarah Davis",player2_id:5,player2_name:"Lisa Brown",player3_id:6,player3_name:"Amy Taylor",player1_handicap:10,player2_handicap:14,player3_handicap:16,week_number:g,league_id:1,is_locked:!0,submitted_at:"2025-01-15T09:00:00Z",submitted_by:4}]);const t=l.find(t=>t.id===e)||l[0];c(t),"scores_submitted"===t.status||"verified"===t.status?p("view"):"in_progress"===t.status&&y(t)?p("verify"):p("entry")}catch(t){console.error("Error loading matchup details:",t),_s.error("Failed to load matchup details")}},y=e=>{if(!n)return!1;return void 0!==d.find(e=>e.player1_id===n.member_id||e.player2_id===n.member_id||e.player3_id===n.member_id)};if(m)return(0,ct.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:(0,ct.jsxs)("div",{className:"flex items-center justify-center",children:[(0,ct.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mr-3"}),(0,ct.jsx)("span",{className:"text-gray-600",children:"Loading league scoring..."})]})});if(0===l.length)return(0,ct.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:(0,ct.jsxs)("div",{className:"text-center text-gray-600",children:[(0,ct.jsx)(lr,{className:"w-12 h-12 mx-auto mb-4 text-yellow-500"}),(0,ct.jsx)("p",{children:"No matchups found for this week"})]})});const j=n?d.find(e=>e.player1_id===n.member_id||e.player2_id===n.member_id||e.player3_id===n.member_id):null,N=j&&o&&("lineup_submitted"===o.status||"in_progress"===o.status);return(0,ct.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ct.jsxs)("div",{className:"flex items-center",children:[s&&(0,ct.jsx)("button",{onClick:s,className:"mr-4 p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,ct.jsx)(Fs,{className:"w-5 h-5 text-gray-600"})}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"League Scoring"}),(0,ct.jsxs)("p",{className:"text-gray-600",children:["Week ",g]})]})]}),(0,ct.jsx)("div",{className:"flex items-center space-x-2",children:(0,ct.jsxs)("button",{onClick:()=>b(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center",children:[(0,ct.jsx)(Ut,{className:"w-4 h-4 mr-2"}),"Refresh"]})})]}),(0,ct.jsx)("div",{className:"mb-6",children:(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsx)(Nt,{className:"w-5 h-5 text-gray-600"}),(0,ct.jsx)("span",{className:"font-medium text-gray-900",children:"Select Week:"}),(0,ct.jsx)("div",{className:"flex space-x-2",children:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18].map(e=>(0,ct.jsxs)("button",{onClick:()=>(e=>{f(e),c(null),u([]),b()})(e),className:"px-3 py-1 rounded-lg text-sm font-medium transition-colors ".concat(g===e?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:["Week ",e]},e))})]})}),(0,ct.jsxs)("div",{className:"mb-6",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Select Matchup"}),(0,ct.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(e=>(0,ct.jsxs)("button",{onClick:()=>{c(e),v(e.id)},className:"p-4 rounded-lg border-2 transition-colors text-left ".concat((null===o||void 0===o?void 0:o.id)===e.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ct.jsx)("span",{className:"font-semibold text-gray-900",children:e.team1_name}),(0,ct.jsx)("span",{className:"text-gray-500",children:"vs"}),(0,ct.jsx)("span",{className:"font-semibold text-gray-900",children:e.team2_name})]}),(0,ct.jsx)("div",{className:"text-sm text-gray-600 mb-2",children:e.course_name}),(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("completed"===e.status?"bg-green-100 text-green-800":"in_progress"===e.status?"bg-blue-100 text-blue-800":"scores_submitted"===e.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:e.status.replace("_"," ").toUpperCase()}),e.winner_team_id&&(0,ct.jsx)(qe,{className:"w-4 h-4 text-yellow-600"})]})]},e.id))})]}),o&&(0,ct.jsx)("div",{className:"mb-6",children:(0,ct.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ct.jsxs)("button",{onClick:()=>p("entry"),disabled:!N,className:"px-4 py-2 rounded-lg font-medium transition-colors flex items-center ".concat("entry"===h?"bg-blue-600 text-white":N?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-gray-50 text-gray-400 cursor-not-allowed"),children:[(0,ct.jsx)(pt,{className:"w-4 h-4 mr-2"}),"Enter Scores"]}),(0,ct.jsxs)("button",{onClick:()=>p("view"),className:"px-4 py-2 rounded-lg font-medium transition-colors flex items-center ".concat("view"===h?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,ct.jsx)(wt,{className:"w-4 h-4 mr-2"}),"View Scores"]}),y(o)&&(0,ct.jsxs)("button",{onClick:()=>p("verify"),className:"px-4 py-2 rounded-lg font-medium transition-colors flex items-center ".concat("verify"===h?"bg-yellow-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,ct.jsx)(Ks,{className:"w-4 h-4 mr-2"}),"Verify Scores"]})]})}),o&&j&&(0,ct.jsxs)("div",{children:["entry"===h&&N&&(0,ct.jsx)(Vl,{matchupId:o.id,teamId:j.team_id||0,lineup:j,coursePar:Array(18).fill(4),courseHandicapIndexes:o.hole_indexes||[],onScoreSubmitted:()=>{_s.success("Scores submitted successfully!"),o&&v(o.id)}}),"view"===h&&(0,ct.jsx)(Gl,{matchupId:o.id,onVerify:()=>p("verify")}),"verify"===h&&y(o)&&(0,ct.jsx)(Yl,{matchupId:o.id,onVerificationComplete:()=>{_s.success("Verification completed!"),o&&v(o.id)}})]}),!j&&o&&(0,ct.jsxs)("div",{className:"text-center text-gray-600 py-8",children:[(0,ct.jsx)(Ye,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),(0,ct.jsx)("p",{children:"You are not part of any team in this matchup"}),(0,ct.jsx)("p",{className:"text-sm",children:"Contact your league administrator if this is incorrect"})]})]})};var Ql=s(2284);function Kl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Jl=s(816);function Xl(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(0,Jl.A)(a.key),a)}}function Zl(e,t,s){return t&&Xl(e.prototype,t),s&&Xl(e,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function ei(e){return ei=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ei(e)}function ti(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ti=function(){return!!e})()}function si(e,t){if(t&&("object"==(0,Ql.A)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ai(e,t,s){return t=ei(t),si(e,ti()?Reflect.construct(t,s||[],ei(e).constructor):t.apply(e,s))}function ri(e,t){return ri=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ri(e,t)}function ni(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ri(e,t)}function li(e){if(Array.isArray(e))return e}function ii(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,a=Array(t);s<t;s++)a[s]=e[s];return a}function oi(e,t){if(e){if("string"==typeof e)return ii(e,t);var s={}.toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?ii(e,t):void 0}}function ci(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function di(e,t){return li(e)||function(e,t){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var a,r,n,l,i=[],o=!0,c=!1;try{if(n=(s=s.call(e)).next,0===t){if(Object(s)!==s)return;o=!1}else for(;!(o=(a=n.call(s)).done)&&(i.push(a.value),i.length!==t);o=!0);}catch(e){c=!0,r=e}finally{try{if(!o&&null!=s.return&&(l=s.return(),Object(l)!==l))return}finally{if(c)throw r}}return i}}(e,t)||oi(e,t)||ci()}function ui(e){var t,s,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(s=ui(e[t]))&&(a&&(a+=" "),a+=s);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}const mi=function(){for(var e,t,s=0,a="";s<arguments.length;)(e=arguments[s++])&&(t=ui(e))&&(a&&(a+=" "),a+=t);return a};var xi=s(2740),hi=s.n(xi),pi=function(){};function gi(e,t){return void 0!==e[t]}function fi(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function bi(){return bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},bi.apply(null,arguments)}function vi(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function yi(e){this.setState(function(t){var s=this.constructor.getDerivedStateFromProps(e,t);return null!==s&&void 0!==s?s:null}.bind(this))}function ji(e,t){try{var s=this.props,a=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(s,a)}finally{this.props=s,this.state=a}}vi.__suppressDeprecationWarning=!0,yi.__suppressDeprecationWarning=!0,ji.__suppressDeprecationWarning=!0;var Ni=s(5173),wi=s.n(Ni),_i="milliseconds",ki="seconds",Si="minutes",Ci="hours",Ai="day",Ei="week",Ti="month",Pi="year",Di="decade",Mi="century",Ri={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,day:864e5,week:6048e5},Li={month:1,year:12,decade:120,century:1200};function Fi(e){return e%4===0&&e%100!==0||e%400===0?29:28}function Oi(e,t,s){switch(e=new Date(e),s){case _i:case ki:case Si:case Ci:case Ai:case Ei:return function(e,t){var s=new Date(+e+t);return function(e,t){var s=e.getTimezoneOffset(),a=t.getTimezoneOffset();return new Date(+t+(a-s)*Ri.minutes)}(e,s)}(e,t*Ri[s]);case Ti:case Pi:case Di:case Mi:return function(e,t){var s=e.getFullYear(),a=e.getMonth(),r=e.getDate(),n=12*s+a+t,l=Math.trunc(n/12),i=n%12,o=Math.min(r,function(e){return[31,Fi(e),31,30,31,30,31,31,30,31,30,31]}(l)[i]),c=new Date(e);return c.setFullYear(l),c.setDate(1),c.setMonth(i),c.setDate(o),c}(e,t*Li[s])}throw new TypeError('Invalid units: "'+s+'"')}function Ii(e,t,s){return Oi(e,-t,s)}function zi(e,t,s){switch(e=new Date(e),t){case Mi:case Di:case Pi:e=so(e,0);case Ti:e=to(e,1);case Ei:case Ai:e=Zi(e,0);case Ci:e=Xi(e,0);case Si:e=Ji(e,0);case ki:e=Ki(e,0)}return t===Di&&(e=Ii(e,ao(e)%10,"year")),t===Mi&&(e=Ii(e,ao(e)%100,"year")),t===Ei&&(e=lo(e,0,s)),e}function Bi(e,t,s){switch(e=zi(e=new Date(e),t,s),t){case Mi:case Di:case Pi:case Ti:case Ei:(e=Ii(e=Oi(e,1,t),1,Ai)).setHours(23,59,59,999);break;case Ai:e.setHours(23,59,59,999);break;case Ci:case Si:case ki:e=Ii(e=Oi(e,1,t),1,_i)}return e}var Ui=co(function(e,t){return e===t}),Hi=co(function(e,t){return e!==t}),Wi=co(function(e,t){return e>t}),qi=co(function(e,t){return e>=t}),Vi=co(function(e,t){return e<t}),Gi=co(function(e,t){return e<=t});function Yi(){return new Date(Math.min.apply(Math,arguments))}function $i(){return new Date(Math.max.apply(Math,arguments))}function Qi(e,t,s,a){return a=a||"day",(!t||qi(e,t,a))&&(!s||Gi(e,s,a))}var Ki=oo("Milliseconds"),Ji=oo("Seconds"),Xi=oo("Minutes"),Zi=oo("Hours"),eo=oo("Day"),to=oo("Date"),so=oo("Month"),ao=oo("FullYear");function ro(e,t){return void 0===t?ao(zi(e,Di)):Oi(e,t+10,Pi)}function no(e,t){return void 0===t?ao(zi(e,Mi)):Oi(e,t+100,Pi)}function lo(e,t,s){var a=(eo(e)+7-(s||0))%7;return void 0===t?a:Oi(e,t-a,Ai)}function io(e,t,s,a){var r,n,l;switch(s){case _i:case ki:case Si:case Ci:case Ai:case Ei:r=t.getTime()-e.getTime();break;case Ti:case Pi:case Di:case Mi:r=12*(ao(t)-ao(e))+so(t)-so(e);break;default:throw new TypeError('Invalid units: "'+s+'"')}switch(s){case _i:n=1;break;case ki:n=1e3;break;case Si:n=6e4;break;case Ci:n=36e5;break;case Ai:n=864e5;break;case Ei:n=6048e5;break;case Ti:n=1;break;case Pi:n=12;break;case Di:n=120;break;case Mi:n=1200;break;default:throw new TypeError('Invalid units: "'+s+'"')}return l=r/n,a?l:Math.round(l)}function oo(e){var t=function(e){switch(e){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(s,a){if(void 0===a)return s["get"+e]();var r=new Date(s);return r["set"+e](a),t&&r["get"+e]()!=a&&("Hours"===e||a>=t&&r.getHours()-s.getHours()<Math.floor(a/t))&&r["set"+e](a+t),r}}function co(e){return function(t,s,a){return e(+zi(t,a),+zi(s,a))}}var uo=s(4467);function mo(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function xo(e){return function(e){if(Array.isArray(e))return ii(e)}(e)||mo(e)||oi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ho=s(7084),po=s.n(ho);function go(e){return e&&e.ownerDocument||document}function fo(e,t){return function(e){var t=go(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var bo=/([A-Z])/g;var vo=/^ms-/;function yo(e){return function(e){return e.replace(bo,"-$1").toLowerCase()}(e).replace(vo,"-ms-")}var jo=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const No=function(e,t){var s="",a="";if("string"===typeof t)return e.style.getPropertyValue(yo(t))||fo(e).getPropertyValue(yo(t));Object.keys(t).forEach(function(r){var n=t[r];n||0===n?!function(e){return!(!e||!jo.test(e))}(r)?s+=yo(r)+": "+n+";":a+=r+"("+n+") ":e.style.removeProperty(yo(r))}),a&&(s+="transform: "+a+";"),e.style.cssText+=";"+s};function wo(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function _o(e){return"window"in e&&e.window===e?e:"nodeType"in(t=e)&&t.nodeType===document.DOCUMENT_NODE&&e.defaultView||!1;var t}function ko(e){var t="pageXOffset"===e?"scrollLeft":"scrollTop";return function(s,a){var r=_o(s);if(void 0===a)return r?r[e]:s[t];r?r.scrollTo(r[e],a):s[t]=a}}const So=ko("pageXOffset"),Co=ko("pageYOffset");function Ao(e){var t=go(e),s={top:0,left:0,height:0,width:0},a=t&&t.documentElement;return a&&wo(a,e)?(void 0!==e.getBoundingClientRect&&(s=e.getBoundingClientRect()),s={top:s.top+Co(a)-(a.clientTop||0),left:s.left+So(a)-(a.clientLeft||0),width:s.width,height:s.height}):s}var Eo=function(e){return!!e&&"offsetParent"in e};function To(e,t){var s,a={top:0,left:0};if("fixed"===No(e,"position"))s=e.getBoundingClientRect();else{var r=t||function(e){for(var t=go(e),s=e&&e.offsetParent;Eo(s)&&"HTML"!==s.nodeName&&"static"===No(s,"position");)s=s.offsetParent;return s||t.documentElement}(e);s=Ao(e),"html"!==function(e){return e.nodeName&&e.nodeName.toLowerCase()}(r)&&(a=Ao(r));var n=String(No(r,"borderTopWidth")||0);a.top+=parseInt(n,10)-Co(r)||0;var l=String(No(r,"borderLeftWidth")||0);a.left+=parseInt(l,10)-So(r)||0}var i=String(No(e,"marginTop")||0),o=String(No(e,"marginLeft")||0);return bi({},s,{top:s.top-a.top-(parseInt(i,10)||0),left:s.left-a.left-(parseInt(o,10)||0)})}const Po=!("undefined"===typeof window||!window.document||!window.document.createElement);var Do=(new Date).getTime();var Mo="clearTimeout",Ro=function(e){var t=(new Date).getTime(),s=Math.max(0,16-(t-Do)),a=setTimeout(e,s);return Do=t,a},Lo=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};Po&&["","webkit","moz","o","ms"].some(function(e){var t=Lo(e,"request");return t in window&&(Mo=Lo(e,"cancel"),Ro=function(e){return window[t](e)}),!!Ro});var Fo=function(e){"function"===typeof window[Mo]&&window[Mo](e)},Oo=Ro;function Io(){return(0,a.useState)(null)}const zo=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const Bo=function(e,t){return(0,a.useMemo)(()=>function(e,t){const s=zo(e),a=zo(t);return e=>{s&&s(e),a&&a(e)}}(e,t),[e,t])};var Uo="top",Ho="bottom",Wo="right",qo="left",Vo="auto",Go=[Uo,Ho,Wo,qo],Yo="start",$o="end",Qo="viewport",Ko="popper",Jo=Go.reduce(function(e,t){return e.concat([t+"-"+Yo,t+"-"+$o])},[]),Xo=[].concat(Go,[Vo]).reduce(function(e,t){return e.concat([t,t+"-"+Yo,t+"-"+$o])},[]),Zo=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];const ec=function(e){const t=function(){const e=(0,a.useRef)(!0),t=(0,a.useRef)(()=>e.current);return(0,a.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}();return[e[0],(0,a.useCallback)(s=>{if(t())return e[1](s)},[t,e[1]])]};function tc(e){return e.split("-")[0]}function sc(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function ac(e){return e instanceof sc(e).Element||e instanceof Element}function rc(e){return e instanceof sc(e).HTMLElement||e instanceof HTMLElement}function nc(e){return"undefined"!==typeof ShadowRoot&&(e instanceof sc(e).ShadowRoot||e instanceof ShadowRoot)}var lc=Math.max,ic=Math.min,oc=Math.round;function cc(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function dc(){return!/^((?!chrome|android).)*safari/i.test(cc())}function uc(e,t,s){void 0===t&&(t=!1),void 0===s&&(s=!1);var a=e.getBoundingClientRect(),r=1,n=1;t&&rc(e)&&(r=e.offsetWidth>0&&oc(a.width)/e.offsetWidth||1,n=e.offsetHeight>0&&oc(a.height)/e.offsetHeight||1);var l=(ac(e)?sc(e):window).visualViewport,i=!dc()&&s,o=(a.left+(i&&l?l.offsetLeft:0))/r,c=(a.top+(i&&l?l.offsetTop:0))/n,d=a.width/r,u=a.height/n;return{width:d,height:u,top:c,right:o+d,bottom:c+u,left:o,x:o,y:c}}function mc(e){var t=uc(e),s=e.offsetWidth,a=e.offsetHeight;return Math.abs(t.width-s)<=1&&(s=t.width),Math.abs(t.height-a)<=1&&(a=t.height),{x:e.offsetLeft,y:e.offsetTop,width:s,height:a}}function xc(e,t){var s=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(s&&nc(s)){var a=t;do{if(a&&e.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}function hc(e){return e?(e.nodeName||"").toLowerCase():null}function pc(e){return sc(e).getComputedStyle(e)}function gc(e){return["table","td","th"].indexOf(hc(e))>=0}function fc(e){return((ac(e)?e.ownerDocument:e.document)||window.document).documentElement}function bc(e){return"html"===hc(e)?e:e.assignedSlot||e.parentNode||(nc(e)?e.host:null)||fc(e)}function vc(e){return rc(e)&&"fixed"!==pc(e).position?e.offsetParent:null}function yc(e){for(var t=sc(e),s=vc(e);s&&gc(s)&&"static"===pc(s).position;)s=vc(s);return s&&("html"===hc(s)||"body"===hc(s)&&"static"===pc(s).position)?t:s||function(e){var t=/firefox/i.test(cc());if(/Trident/i.test(cc())&&rc(e)&&"fixed"===pc(e).position)return null;var s=bc(e);for(nc(s)&&(s=s.host);rc(s)&&["html","body"].indexOf(hc(s))<0;){var a=pc(s);if("none"!==a.transform||"none"!==a.perspective||"paint"===a.contain||-1!==["transform","perspective"].indexOf(a.willChange)||t&&"filter"===a.willChange||t&&a.filter&&"none"!==a.filter)return s;s=s.parentNode}return null}(e)||t}function jc(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Nc(e,t,s){return lc(e,ic(t,s))}function wc(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function _c(e,t){return t.reduce(function(t,s){return t[s]=e,t},{})}const kc={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,s=e.state,a=e.name,r=e.options,n=s.elements.arrow,l=s.modifiersData.popperOffsets,i=tc(s.placement),o=jc(i),c=[qo,Wo].indexOf(i)>=0?"height":"width";if(n&&l){var d=function(e,t){return wc("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:_c(e,Go))}(r.padding,s),u=mc(n),m="y"===o?Uo:qo,x="y"===o?Ho:Wo,h=s.rects.reference[c]+s.rects.reference[o]-l[o]-s.rects.popper[c],p=l[o]-s.rects.reference[o],g=yc(n),f=g?"y"===o?g.clientHeight||0:g.clientWidth||0:0,b=h/2-p/2,v=d[m],y=f-u[c]-d[x],j=f/2-u[c]/2+b,N=Nc(v,j,y),w=o;s.modifiersData[a]=((t={})[w]=N,t.centerOffset=N-j,t)}},effect:function(e){var t=e.state,s=e.options.element,a=void 0===s?"[data-popper-arrow]":s;null!=a&&("string"!==typeof a||(a=t.elements.popper.querySelector(a)))&&xc(t.elements.popper,a)&&(t.elements.arrow=a)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Sc(e){return e.split("-")[1]}var Cc={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ac(e){var t,s=e.popper,a=e.popperRect,r=e.placement,n=e.variation,l=e.offsets,i=e.position,o=e.gpuAcceleration,c=e.adaptive,d=e.roundOffsets,u=e.isFixed,m=l.x,x=void 0===m?0:m,h=l.y,p=void 0===h?0:h,g="function"===typeof d?d({x:x,y:p}):{x:x,y:p};x=g.x,p=g.y;var f=l.hasOwnProperty("x"),b=l.hasOwnProperty("y"),v=qo,y=Uo,j=window;if(c){var N=yc(s),w="clientHeight",_="clientWidth";if(N===sc(s)&&"static"!==pc(N=fc(s)).position&&"absolute"===i&&(w="scrollHeight",_="scrollWidth"),r===Uo||(r===qo||r===Wo)&&n===$o)y=Ho,p-=(u&&N===j&&j.visualViewport?j.visualViewport.height:N[w])-a.height,p*=o?1:-1;if(r===qo||(r===Uo||r===Ho)&&n===$o)v=Wo,x-=(u&&N===j&&j.visualViewport?j.visualViewport.width:N[_])-a.width,x*=o?1:-1}var k,S=Object.assign({position:i},c&&Cc),C=!0===d?function(e,t){var s=e.x,a=e.y,r=t.devicePixelRatio||1;return{x:oc(s*r)/r||0,y:oc(a*r)/r||0}}({x:x,y:p},sc(s)):{x:x,y:p};return x=C.x,p=C.y,o?Object.assign({},S,((k={})[y]=b?"0":"",k[v]=f?"0":"",k.transform=(j.devicePixelRatio||1)<=1?"translate("+x+"px, "+p+"px)":"translate3d("+x+"px, "+p+"px, 0)",k)):Object.assign({},S,((t={})[y]=b?p+"px":"",t[v]=f?x+"px":"",t.transform="",t))}const Ec={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,s=e.options,a=s.gpuAcceleration,r=void 0===a||a,n=s.adaptive,l=void 0===n||n,i=s.roundOffsets,o=void 0===i||i,c={placement:tc(t.placement),variation:Sc(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Ac(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:l,roundOffsets:o})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Ac(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:o})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var Tc={passive:!0};const Pc={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,s=e.instance,a=e.options,r=a.scroll,n=void 0===r||r,l=a.resize,i=void 0===l||l,o=sc(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return n&&c.forEach(function(e){e.addEventListener("scroll",s.update,Tc)}),i&&o.addEventListener("resize",s.update,Tc),function(){n&&c.forEach(function(e){e.removeEventListener("scroll",s.update,Tc)}),i&&o.removeEventListener("resize",s.update,Tc)}},data:{}};var Dc={left:"right",right:"left",bottom:"top",top:"bottom"};function Mc(e){return e.replace(/left|right|bottom|top/g,function(e){return Dc[e]})}var Rc={start:"end",end:"start"};function Lc(e){return e.replace(/start|end/g,function(e){return Rc[e]})}function Fc(e){var t=sc(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Oc(e){return uc(fc(e)).left+Fc(e).scrollLeft}function Ic(e){var t=pc(e),s=t.overflow,a=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(s+r+a)}function zc(e){return["html","body","#document"].indexOf(hc(e))>=0?e.ownerDocument.body:rc(e)&&Ic(e)?e:zc(bc(e))}function Bc(e,t){var s;void 0===t&&(t=[]);var a=zc(e),r=a===(null==(s=e.ownerDocument)?void 0:s.body),n=sc(a),l=r?[n].concat(n.visualViewport||[],Ic(a)?a:[]):a,i=t.concat(l);return r?i:i.concat(Bc(bc(l)))}function Uc(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Hc(e,t,s){return t===Qo?Uc(function(e,t){var s=sc(e),a=fc(e),r=s.visualViewport,n=a.clientWidth,l=a.clientHeight,i=0,o=0;if(r){n=r.width,l=r.height;var c=dc();(c||!c&&"fixed"===t)&&(i=r.offsetLeft,o=r.offsetTop)}return{width:n,height:l,x:i+Oc(e),y:o}}(e,s)):ac(t)?function(e,t){var s=uc(e,!1,"fixed"===t);return s.top=s.top+e.clientTop,s.left=s.left+e.clientLeft,s.bottom=s.top+e.clientHeight,s.right=s.left+e.clientWidth,s.width=e.clientWidth,s.height=e.clientHeight,s.x=s.left,s.y=s.top,s}(t,s):Uc(function(e){var t,s=fc(e),a=Fc(e),r=null==(t=e.ownerDocument)?void 0:t.body,n=lc(s.scrollWidth,s.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),l=lc(s.scrollHeight,s.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),i=-a.scrollLeft+Oc(e),o=-a.scrollTop;return"rtl"===pc(r||s).direction&&(i+=lc(s.clientWidth,r?r.clientWidth:0)-n),{width:n,height:l,x:i,y:o}}(fc(e)))}function Wc(e,t,s,a){var r="clippingParents"===t?function(e){var t=Bc(bc(e)),s=["absolute","fixed"].indexOf(pc(e).position)>=0&&rc(e)?yc(e):e;return ac(s)?t.filter(function(e){return ac(e)&&xc(e,s)&&"body"!==hc(e)}):[]}(e):[].concat(t),n=[].concat(r,[s]),l=n[0],i=n.reduce(function(t,s){var r=Hc(e,s,a);return t.top=lc(r.top,t.top),t.right=ic(r.right,t.right),t.bottom=ic(r.bottom,t.bottom),t.left=lc(r.left,t.left),t},Hc(e,l,a));return i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}function qc(e){var t,s=e.reference,a=e.element,r=e.placement,n=r?tc(r):null,l=r?Sc(r):null,i=s.x+s.width/2-a.width/2,o=s.y+s.height/2-a.height/2;switch(n){case Uo:t={x:i,y:s.y-a.height};break;case Ho:t={x:i,y:s.y+s.height};break;case Wo:t={x:s.x+s.width,y:o};break;case qo:t={x:s.x-a.width,y:o};break;default:t={x:s.x,y:s.y}}var c=n?jc(n):null;if(null!=c){var d="y"===c?"height":"width";switch(l){case Yo:t[c]=t[c]-(s[d]/2-a[d]/2);break;case $o:t[c]=t[c]+(s[d]/2-a[d]/2)}}return t}function Vc(e,t){void 0===t&&(t={});var s=t,a=s.placement,r=void 0===a?e.placement:a,n=s.strategy,l=void 0===n?e.strategy:n,i=s.boundary,o=void 0===i?"clippingParents":i,c=s.rootBoundary,d=void 0===c?Qo:c,u=s.elementContext,m=void 0===u?Ko:u,x=s.altBoundary,h=void 0!==x&&x,p=s.padding,g=void 0===p?0:p,f=wc("number"!==typeof g?g:_c(g,Go)),b=m===Ko?"reference":Ko,v=e.rects.popper,y=e.elements[h?b:m],j=Wc(ac(y)?y:y.contextElement||fc(e.elements.popper),o,d,l),N=uc(e.elements.reference),w=qc({reference:N,element:v,strategy:"absolute",placement:r}),_=Uc(Object.assign({},v,w)),k=m===Ko?_:N,S={top:j.top-k.top+f.top,bottom:k.bottom-j.bottom+f.bottom,left:j.left-k.left+f.left,right:k.right-j.right+f.right},C=e.modifiersData.offset;if(m===Ko&&C){var A=C[r];Object.keys(S).forEach(function(e){var t=[Wo,Ho].indexOf(e)>=0?1:-1,s=[Uo,Ho].indexOf(e)>=0?"y":"x";S[e]+=A[s]*t})}return S}const Gc={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,s=e.options,a=e.name;if(!t.modifiersData[a]._skip){for(var r=s.mainAxis,n=void 0===r||r,l=s.altAxis,i=void 0===l||l,o=s.fallbackPlacements,c=s.padding,d=s.boundary,u=s.rootBoundary,m=s.altBoundary,x=s.flipVariations,h=void 0===x||x,p=s.allowedAutoPlacements,g=t.options.placement,f=tc(g),b=o||(f===g||!h?[Mc(g)]:function(e){if(tc(e)===Vo)return[];var t=Mc(e);return[Lc(e),t,Lc(t)]}(g)),v=[g].concat(b).reduce(function(e,s){return e.concat(tc(s)===Vo?function(e,t){void 0===t&&(t={});var s=t,a=s.placement,r=s.boundary,n=s.rootBoundary,l=s.padding,i=s.flipVariations,o=s.allowedAutoPlacements,c=void 0===o?Xo:o,d=Sc(a),u=d?i?Jo:Jo.filter(function(e){return Sc(e)===d}):Go,m=u.filter(function(e){return c.indexOf(e)>=0});0===m.length&&(m=u);var x=m.reduce(function(t,s){return t[s]=Vc(e,{placement:s,boundary:r,rootBoundary:n,padding:l})[tc(s)],t},{});return Object.keys(x).sort(function(e,t){return x[e]-x[t]})}(t,{placement:s,boundary:d,rootBoundary:u,padding:c,flipVariations:h,allowedAutoPlacements:p}):s)},[]),y=t.rects.reference,j=t.rects.popper,N=new Map,w=!0,_=v[0],k=0;k<v.length;k++){var S=v[k],C=tc(S),A=Sc(S)===Yo,E=[Uo,Ho].indexOf(C)>=0,T=E?"width":"height",P=Vc(t,{placement:S,boundary:d,rootBoundary:u,altBoundary:m,padding:c}),D=E?A?Wo:qo:A?Ho:Uo;y[T]>j[T]&&(D=Mc(D));var M=Mc(D),R=[];if(n&&R.push(P[C]<=0),i&&R.push(P[D]<=0,P[M]<=0),R.every(function(e){return e})){_=S,w=!1;break}N.set(S,R)}if(w)for(var L=function(e){var t=v.find(function(t){var s=N.get(t);if(s)return s.slice(0,e).every(function(e){return e})});if(t)return _=t,"break"},F=h?3:1;F>0;F--){if("break"===L(F))break}t.placement!==_&&(t.modifiersData[a]._skip=!0,t.placement=_,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Yc(e,t,s){return void 0===s&&(s={x:0,y:0}),{top:e.top-t.height-s.y,right:e.right-t.width+s.x,bottom:e.bottom-t.height+s.y,left:e.left-t.width-s.x}}function $c(e){return[Uo,Wo,Ho,qo].some(function(t){return e[t]>=0})}const Qc={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,s=e.options,a=e.name,r=s.offset,n=void 0===r?[0,0]:r,l=Xo.reduce(function(e,s){return e[s]=function(e,t,s){var a=tc(e),r=[qo,Uo].indexOf(a)>=0?-1:1,n="function"===typeof s?s(Object.assign({},t,{placement:e})):s,l=n[0],i=n[1];return l=l||0,i=(i||0)*r,[qo,Wo].indexOf(a)>=0?{x:i,y:l}:{x:l,y:i}}(s,t.rects,n),e},{}),i=l[t.placement],o=i.x,c=i.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=o,t.modifiersData.popperOffsets.y+=c),t.modifiersData[a]=l}};const Kc={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,s=e.options,a=e.name,r=s.mainAxis,n=void 0===r||r,l=s.altAxis,i=void 0!==l&&l,o=s.boundary,c=s.rootBoundary,d=s.altBoundary,u=s.padding,m=s.tether,x=void 0===m||m,h=s.tetherOffset,p=void 0===h?0:h,g=Vc(t,{boundary:o,rootBoundary:c,padding:u,altBoundary:d}),f=tc(t.placement),b=Sc(t.placement),v=!b,y=jc(f),j="x"===y?"y":"x",N=t.modifiersData.popperOffsets,w=t.rects.reference,_=t.rects.popper,k="function"===typeof p?p(Object.assign({},t.rects,{placement:t.placement})):p,S="number"===typeof k?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),C=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,A={x:0,y:0};if(N){if(n){var E,T="y"===y?Uo:qo,P="y"===y?Ho:Wo,D="y"===y?"height":"width",M=N[y],R=M+g[T],L=M-g[P],F=x?-_[D]/2:0,O=b===Yo?w[D]:_[D],I=b===Yo?-_[D]:-w[D],z=t.elements.arrow,B=x&&z?mc(z):{width:0,height:0},U=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},H=U[T],W=U[P],q=Nc(0,w[D],B[D]),V=v?w[D]/2-F-q-H-S.mainAxis:O-q-H-S.mainAxis,G=v?-w[D]/2+F+q+W+S.mainAxis:I+q+W+S.mainAxis,Y=t.elements.arrow&&yc(t.elements.arrow),$=Y?"y"===y?Y.clientTop||0:Y.clientLeft||0:0,Q=null!=(E=null==C?void 0:C[y])?E:0,K=M+G-Q,J=Nc(x?ic(R,M+V-Q-$):R,M,x?lc(L,K):L);N[y]=J,A[y]=J-M}if(i){var X,Z="x"===y?Uo:qo,ee="x"===y?Ho:Wo,te=N[j],se="y"===j?"height":"width",ae=te+g[Z],re=te-g[ee],ne=-1!==[Uo,qo].indexOf(f),le=null!=(X=null==C?void 0:C[j])?X:0,ie=ne?ae:te-w[se]-_[se]-le+S.altAxis,oe=ne?te+w[se]+_[se]-le-S.altAxis:re,ce=x&&ne?function(e,t,s){var a=Nc(e,t,s);return a>s?s:a}(ie,te,oe):Nc(x?ie:ae,te,x?oe:re);N[j]=ce,A[j]=ce-te}t.modifiersData[a]=A}},requiresIfExists:["offset"]};function Jc(e,t,s){void 0===s&&(s=!1);var a=rc(t),r=rc(t)&&function(e){var t=e.getBoundingClientRect(),s=oc(t.width)/e.offsetWidth||1,a=oc(t.height)/e.offsetHeight||1;return 1!==s||1!==a}(t),n=fc(t),l=uc(e,r,s),i={scrollLeft:0,scrollTop:0},o={x:0,y:0};return(a||!a&&!s)&&(("body"!==hc(t)||Ic(n))&&(i=function(e){return e!==sc(e)&&rc(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:Fc(e);var t}(t)),rc(t)?((o=uc(t,!0)).x+=t.clientLeft,o.y+=t.clientTop):n&&(o.x=Oc(n))),{x:l.left+i.scrollLeft-o.x,y:l.top+i.scrollTop-o.y,width:l.width,height:l.height}}function Xc(e){var t=new Map,s=new Set,a=[];function r(e){s.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!s.has(e)){var a=t.get(e);a&&r(a)}}),a.push(e)}return e.forEach(function(e){t.set(e.name,e)}),e.forEach(function(e){s.has(e.name)||r(e)}),a}function Zc(e){var t;return function(){return t||(t=new Promise(function(s){Promise.resolve().then(function(){t=void 0,s(e())})})),t}}var ed={placement:"bottom",modifiers:[],strategy:"absolute"};function td(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return!t.some(function(e){return!(e&&"function"===typeof e.getBoundingClientRect)})}function sd(e){void 0===e&&(e={});var t=e,s=t.defaultModifiers,a=void 0===s?[]:s,r=t.defaultOptions,n=void 0===r?ed:r;return function(e,t,s){void 0===s&&(s=n);var r={placement:"bottom",orderedModifiers:[],options:Object.assign({},ed,n),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],i=!1,o={state:r,setOptions:function(s){var i="function"===typeof s?s(r.options):s;c(),r.options=Object.assign({},n,r.options,i),r.scrollParents={reference:ac(e)?Bc(e):e.contextElement?Bc(e.contextElement):[],popper:Bc(t)};var d=function(e){var t=Xc(e);return Zo.reduce(function(e,s){return e.concat(t.filter(function(e){return e.phase===s}))},[])}(function(e){var t=e.reduce(function(e,t){var s=e[t.name];return e[t.name]=s?Object.assign({},s,t,{options:Object.assign({},s.options,t.options),data:Object.assign({},s.data,t.data)}):t,e},{});return Object.keys(t).map(function(e){return t[e]})}([].concat(a,r.options.modifiers)));return r.orderedModifiers=d.filter(function(e){return e.enabled}),r.orderedModifiers.forEach(function(e){var t=e.name,s=e.options,a=void 0===s?{}:s,n=e.effect;if("function"===typeof n){var i=n({state:r,name:t,instance:o,options:a}),c=function(){};l.push(i||c)}}),o.update()},forceUpdate:function(){if(!i){var e=r.elements,t=e.reference,s=e.popper;if(td(t,s)){r.rects={reference:Jc(t,yc(s),"fixed"===r.options.strategy),popper:mc(s)},r.reset=!1,r.placement=r.options.placement,r.orderedModifiers.forEach(function(e){return r.modifiersData[e.name]=Object.assign({},e.data)});for(var a=0;a<r.orderedModifiers.length;a++)if(!0!==r.reset){var n=r.orderedModifiers[a],l=n.fn,c=n.options,d=void 0===c?{}:c,u=n.name;"function"===typeof l&&(r=l({state:r,options:d,name:u,instance:o})||r)}else r.reset=!1,a=-1}}},update:Zc(function(){return new Promise(function(e){o.forceUpdate(),e(r)})}),destroy:function(){c(),i=!0}};if(!td(e,t))return o;function c(){l.forEach(function(e){return e()}),l=[]}return o.setOptions(s).then(function(e){!i&&s.onFirstUpdate&&s.onFirstUpdate(e)}),o}}var ad=sd({defaultModifiers:[{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,s=e.name,a=t.rects.reference,r=t.rects.popper,n=t.modifiersData.preventOverflow,l=Vc(t,{elementContext:"reference"}),i=Vc(t,{altBoundary:!0}),o=Yc(l,a),c=Yc(i,r,n),d=$c(o),u=$c(c);t.modifiersData[s]={referenceClippingOffsets:o,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,s=e.name;t.modifiersData[s]=qc({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},Ec,Pc,Qc,Gc,Kc,kc]}),rd=function(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},nd={name:"applyStyles",enabled:!1},ld={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var t=e.state;return function(){var e=t.elements,s=e.reference,a=e.popper;if("removeAttribute"in s){var r=(s.getAttribute("aria-describedby")||"").split(",").filter(function(e){return e.trim()!==a.id});r.length?s.setAttribute("aria-describedby",r.join(",")):s.removeAttribute("aria-describedby")}}},fn:function(e){var t,s=e.state.elements,a=s.popper,r=s.reference,n=null==(t=a.getAttribute("role"))?void 0:t.toLowerCase();if(a.id&&"tooltip"===n&&"setAttribute"in r){var l=r.getAttribute("aria-describedby");if(l&&-1!==l.split(",").indexOf(a.id))return;r.setAttribute("aria-describedby",l?l+","+a.id:a.id)}}},id=[];const od=function(e,t,s){var r=void 0===s?{}:s,n=r.enabled,l=void 0===n||n,i=r.placement,o=void 0===i?"bottom":i,c=r.strategy,d=void 0===c?"absolute":c,u=r.modifiers,m=void 0===u?id:u,x=Le(r,["enabled","placement","strategy","modifiers"]),h=(0,a.useRef)(),p=(0,a.useCallback)(function(){var e;null==(e=h.current)||e.update()},[]),g=(0,a.useCallback)(function(){var e;null==(e=h.current)||e.forceUpdate()},[]),f=ec((0,a.useState)({placement:o,update:p,forceUpdate:g,attributes:{},styles:{popper:rd(d),arrow:{}}})),b=f[0],v=f[1],y=(0,a.useMemo)(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(e){var t=e.state,s={},a={};Object.keys(t.elements).forEach(function(e){s[e]=t.styles[e],a[e]=t.attributes[e]}),v({state:t,styles:s,attributes:a,update:p,forceUpdate:g,placement:t.placement})}}},[p,g,v]);return(0,a.useEffect)(function(){h.current&&l&&h.current.setOptions({placement:o,strategy:d,modifiers:[].concat(m,[y,nd])})},[d,o,y,l]),(0,a.useEffect)(function(){if(l&&null!=e&&null!=t)return h.current=ad(e,t,bi({},x,{placement:o,strategy:d,modifiers:[].concat(m,[ld,y])})),function(){null!=h.current&&(h.current.destroy(),h.current=void 0,v(function(e){return bi({},e,{attributes:{},styles:{popper:rd(d)}})}))}},[l,e,t]),b};var cd=!1,dd=!1;try{var ud={get passive(){return cd=!0},get once(){return dd=cd=!0}};Po&&(window.addEventListener("test",ud,ud),window.removeEventListener("test",ud,!0))}catch(Zp){}const md=function(e,t,s,a){if(a&&"boolean"!==typeof a&&!dd){var r=a.once,n=a.capture,l=s;!dd&&r&&(l=s.__once||function e(a){this.removeEventListener(t,e,n),s.call(this,a)},s.__once=l),e.addEventListener(t,l,cd?a:n)}e.addEventListener(t,s,a)};const xd=function(e,t,s,a){var r=a&&"boolean"!==typeof a?a.capture:a;e.removeEventListener(t,s,r),s.__once&&e.removeEventListener(t,s.__once,r)};const hd=function(e,t,s,a){return md(e,t,s,a),function(){xd(e,t,s,a)}};const pd=function(e){const t=(0,a.useRef)(e);return(0,a.useEffect)(()=>{t.current=e},[e]),t};function gd(e){const t=pd(e);return(0,a.useCallback)(function(){return t.current&&t.current(...arguments)},[t])}var fd=s(6440),bd=s.n(fd);const vd=function(e){return go(function(e){return e&&"setState"in e?ye.findDOMNode(e):null!=e?e:null}(e))};var yd=function(){};var jd=function(e){return e&&("current"in e?e.current:e)};const Nd=function(e,t,s){var r=void 0===s?{}:s,n=r.disabled,l=r.clickTrigger,i=void 0===l?"click":l,o=(0,a.useRef)(!1),c=t||yd,d=(0,a.useCallback)(function(t){var s,a,r=jd(e);bd()(!!r,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),o.current=!r||!!((a=t).metaKey||a.altKey||a.ctrlKey||a.shiftKey)||!function(e){return 0===e.button}(t)||!!wo(r,null!=(s=null==t.composedPath?void 0:t.composedPath()[0])?s:t.target)},[e]),u=gd(function(e){o.current||c(e)}),m=gd(function(e){27===e.keyCode&&c(e)});(0,a.useEffect)(function(){if(!n&&null!=e){var t=window.event,s=vd(jd(e)),a=hd(s,i,d,!0),r=hd(s,i,function(e){e!==t?u(e):t=void 0}),l=hd(s,"keyup",function(e){e!==t?m(e):t=void 0}),o=[];return"ontouchstart"in s.documentElement&&(o=[].slice.call(s.body.children).map(function(e){return hd(e,"mousemove",yd)})),function(){a(),r(),l(),o.forEach(function(e){return e()})}}},[e,n,i,d,u,m])};var wd=function(e){var t;return"undefined"===typeof document?null:null==e?go().body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),null!=(t=e)&&t.nodeType&&e||null)};function _d(e,t){var s=(0,a.useState)(function(){return wd(e)}),r=s[0],n=s[1];if(!r){var l=wd(e);l&&n(l)}return(0,a.useEffect)(function(){t&&r&&t(r)},[t,r]),(0,a.useEffect)(function(){var t=wd(e);t!==r&&n(t)},[e,r]),r}function kd(e){var t,s,a,r,n,l=e.enabled,i=e.enableEvents,o=e.placement,c=e.flip,d=e.offset,u=e.fixed,m=e.containerPadding,x=e.arrowElement,h=e.popperConfig,p=void 0===h?{}:h,g=function(e){var t={};return Array.isArray(e)?(null==e||e.forEach(function(e){t[e.name]=e}),t):e||t}(p.modifiers);return bi({},p,{placement:o,enabled:l,strategy:u?"fixed":p.strategy,modifiers:(n=bi({},g,{eventListeners:{enabled:i},preventOverflow:bi({},g.preventOverflow,{options:m?bi({padding:m},null==(t=g.preventOverflow)?void 0:t.options):null==(s=g.preventOverflow)?void 0:s.options}),offset:{options:bi({offset:d},null==(a=g.offset)?void 0:a.options)},arrow:bi({},g.arrow,{enabled:!!x,options:bi({},null==(r=g.arrow)?void 0:r.options,{element:x})}),flip:bi({enabled:!!c},g.flip)}),void 0===n&&(n={}),Array.isArray(n)?n:Object.keys(n).map(function(e){return n[e].name=e,n[e]}))})}var Sd=a.forwardRef(function(e,t){var s=e.flip,r=e.offset,n=e.placement,l=e.containerPadding,i=void 0===l?5:l,o=e.popperConfig,c=void 0===o?{}:o,d=e.transition,u=Io(),m=u[0],x=u[1],h=Io(),p=h[0],g=h[1],f=Bo(x,t),b=_d(e.container),v=_d(e.target),y=(0,a.useState)(!e.show),j=y[0],N=y[1],w=od(v,m,kd({placement:n,enableEvents:!!e.show,containerPadding:i||5,flip:s,offset:r,arrowElement:p,popperConfig:c})),_=w.styles,k=w.attributes,S=Le(w,["styles","attributes"]);e.show?j&&N(!1):e.transition||j||N(!0);var C=e.show||d&&!j;if(Nd(m,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!C)return null;var A=e.children(bi({},S,{show:!!e.show,props:bi({},k.popper,{style:_.popper,ref:f}),arrowProps:bi({},k.arrow,{style:_.arrow,ref:g})}));if(d){var E=e.onExit,T=e.onExiting,P=e.onEnter,D=e.onEntering,M=e.onEntered;A=a.createElement(d,{in:e.show,appear:!0,onExit:E,onExiting:T,onExited:function(){N(!0),e.onExited&&e.onExited.apply(e,arguments)},onEnter:P,onEntering:D,onEntered:M},A)}return b?ye.createPortal(A,b):null});Sd.displayName="Overlay",Sd.propTypes={show:wi().bool,placement:wi().oneOf(Xo),target:wi().any,container:wi().any,flip:wi().bool,children:wi().func.isRequired,containerPadding:wi().number,popperConfig:wi().object,rootClose:wi().bool,rootCloseEvent:wi().oneOf(["click","mousedown"]),rootCloseDisabled:wi().bool,onHide:function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),a=1;a<t;a++)s[a-1]=arguments[a];var r;return e.rootClose?(r=wi().func).isRequired.apply(r,[e].concat(s)):wi().func.apply(wi(),[e].concat(s))},transition:wi().elementType,onEnter:wi().func,onEntering:wi().func,onEntered:wi().func,onExit:wi().func,onExiting:wi().func,onExited:wi().func};const Cd=Sd;var Ad=s(9853),Ed=s.n(Ad);function Td(e,t){var s=_o(e);return s?s.innerHeight:t?e.clientHeight:Ao(e).height}var Pd,Dd=Function.prototype.bind.call(Function.prototype.call,[].slice);function Md(e,t){if(!Pd){var s=document.body,a=s.matches||s.matchesSelector||s.webkitMatchesSelector||s.mozMatchesSelector||s.msMatchesSelector;Pd=function(e,t){return a.call(e,t)}}return Pd(e,t)}function Rd(e,t,s){e.closest&&!s&&e.closest(t);var a=e;do{if(Md(a,t))return a;a=a.parentElement}while(a&&a!==s&&a.nodeType===document.ELEMENT_NODE);return null}var Ld=s(2520),Fd=s.n(Ld),Od=s(6604),Id=s.n(Od),zd=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function Bd(e,t){return e===t||!(!zd(e)||!zd(t))}function Ud(e,t){if(e.length!==t.length)return!1;for(var s=0;s<e.length;s++)if(!Bd(e[s],t[s]))return!1;return!0}function Hd(e,t){void 0===t&&(t=Ud);var s=null;function a(){for(var a=[],r=0;r<arguments.length;r++)a[r]=arguments[r];if(s&&s.lastThis===this&&t(a,s.lastArgs))return s.lastResult;var n=e.apply(this,a);return s={lastResult:n,lastArgs:a,lastThis:this},n}return a.clear=function(){s=null},a}function Wd(e,t){var s=_o(e);return s?s.innerWidth:t?e.clientWidth:Ao(e).width}var qd,Vd=s(7424),Gd=s.n(Vd);function Yd(e){if((!qd&&0!==qd||e)&&Po){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),qd=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return qd}function $d(e){return li(e)||mo(e)||oi(e)||ci()}function Qd(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var Kd=s(1163),Jd=s.n(Kd),Xd=s(1733),Zd=s.n(Xd),eu=s(1488),tu=s.n(eu),su=s(2717),au=s.n(su);s(1525),s(4462),s(8933),s(199),s(4443),s(7227),s(640),s(3270);function ru(e){return e.children}var nu="PREV",lu="NEXT",iu="TODAY",ou="DATE",cu={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},du=Object.keys(cu).map(function(e){return cu[e]});wi().oneOfType([wi().string,wi().func]),wi().any,wi().func,wi().oneOfType([wi().arrayOf(wi().oneOf(du)),wi().objectOf(function(e,t){if(-1!==du.indexOf(t)&&"boolean"===typeof e[t])return null;for(var s=arguments.length,a=new Array(s>2?s-2:0),r=2;r<s;r++)a[r-2]=arguments[r];return wi().elementType.apply(wi(),[e,t].concat(a))})]),wi().oneOfType([wi().oneOf(["overlap","no-overlap"]),wi().func]);var uu={seconds:1e3,minutes:6e4,hours:36e5,day:864e5};function mu(e,t){var s=zi(e,"month");return zi(s,"week",t.startOfWeek())}function xu(e,t){var s=Bi(e,"month");return Bi(s,"week",t.startOfWeek())}function hu(e,t){for(var s=mu(e,t),a=xu(e,t),r=[];Gi(s,a,"day");)r.push(s),s=Oi(s,1,"day");return r}function pu(e,t){var s=zi(e,t);return Ui(s,e)?s:Oi(s,1,t)}function gu(e,t){for(var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"day",a=e,r=[];Gi(a,t,s);)r.push(a),a=Oi(a,1,s);return r}function fu(e,t){return null==t&&null==e?null:(null==t&&(t=new Date),null==e&&(e=new Date),e=zi(e,"day"),e=Zi(e,Zi(t)),e=Xi(e,Xi(t)),e=Ji(e,Ji(t)),Ki(e,Ki(t)))}function bu(e){return 0===Zi(e)&&0===Xi(e)&&0===Ji(e)&&0===Ki(e)}function vu(e,t,s){return s&&"milliseconds"!==s?Math.round(Math.abs(+zi(e,s)/uu[s]-+zi(t,s)/uu[s])):Math.abs(+e-+t)}var yu=wi().oneOfType([wi().string,wi().func]);function ju(e,t,s,a,r){var n="function"===typeof a?a(s,r,e):t.call(e,s,a,r);return hi()(null==n||"string"===typeof n,"`localizer format(..)` must return a string, null, or undefined"),n}function Nu(e,t,s){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+s,0,0)}function wu(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function _u(e,t){return vu(e,t,"minutes")+wu(e,t)}function ku(e){var t=zi(e,"day");return vu(t,e,"minutes")+wu(t,e)}function Su(e,t){return Vi(e,t,"day")}function Cu(e,t,s){return Ui(e,t,"minutes")?qi(t,s,"minutes"):Wi(t,s,"minutes")}function Au(t,s){return function(t,s,a,r){return"day"===a&&(a="date"),Math.abs(e[a](t,void 0,r)-e[a](s,void 0,r))}(t,s,"day")}function Eu(e){var t=e.evtA,s=t.start,a=t.end,r=t.allDay,n=e.evtB,l=n.start,i=n.end,o=n.allDay,c=+zi(s,"day")-+zi(l,"day"),d=Au(s,a),u=Au(l,i);return c||u-d||!!o-!!r||+s-+l||+a-+i}function Tu(e){var t=e.event,s=t.start,a=t.end,r=e.range,n=r.start,l=r.end,i=zi(s,"day"),o=Gi(i,l,"day"),c=Hi(i,a,"minutes")?Wi(a,n,"minutes"):qi(a,n,"minutes");return o&&c}function Pu(e,t){return Ui(e,t,"day")}function Du(e,t){return bu(e)&&bu(t)}var Mu=Zl(function e(t){var s=this;Kl(this,e),hi()("function"===typeof t.format,"date localizer `format(..)` must be a function"),hi()("function"===typeof t.firstOfWeek,"date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||yu,this.formats=t.formats,this.format=function(){for(var e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return ju.apply(void 0,[s,t.format].concat(a))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||fu,this.inRange=t.inRange||Qi,this.lt=t.lt||Vi,this.lte=t.lte||Gi,this.gt=t.gt||Wi,this.gte=t.gte||qi,this.eq=t.eq||Ui,this.neq=t.neq||Hi,this.startOf=t.startOf||zi,this.endOf=t.endOf||Bi,this.add=t.add||Oi,this.range=t.range||gu,this.diff=t.diff||vu,this.ceil=t.ceil||pu,this.min=t.min||Yi,this.max=t.max||$i,this.minutes=t.minutes||Xi,this.daySpan=t.daySpan||Au,this.firstVisibleDay=t.firstVisibleDay||mu,this.lastVisibleDay=t.lastVisibleDay||xu,this.visibleDays=t.visibleDays||hu,this.getSlotDate=t.getSlotDate||Nu,this.getTimezoneOffset=t.getTimezoneOffset||function(e){return e.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||wu,this.getTotalMin=t.getTotalMin||_u,this.getMinutesFromMidnight=t.getMinutesFromMidnight||ku,this.continuesPrior=t.continuesPrior||Su,this.continuesAfter=t.continuesAfter||Cu,this.sortEvents=t.sortEvents||Eu,this.inEventRange=t.inEventRange||Tu,this.isSameDate=t.isSameDate||Pu,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||Du,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function Ru(e,t,s,a){var r=(0,Re.A)((0,Re.A)({},e.formats),s);return(0,Re.A)((0,Re.A)({},e),{},{messages:a,startOfWeek:function(){return e.startOfWeek(t)},format:function(s,a){return e.format(s,r[a]||a,t)}})}var Lu=function(e){function t(){var e;Kl(this,t);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=ai(this,t,[].concat(a))).navigate=function(t){e.props.onNavigate(t)},e.view=function(t){e.props.onView(t)},e}return ni(t,e),Zl(t,[{key:"render",value:function(){var e=this.props,t=e.localizer.messages,s=e.label;return a.createElement("div",{className:"rbc-toolbar"},a.createElement("span",{className:"rbc-btn-group"},a.createElement("button",{type:"button",onClick:this.navigate.bind(null,iu)},t.today),a.createElement("button",{type:"button",onClick:this.navigate.bind(null,nu)},t.previous),a.createElement("button",{type:"button",onClick:this.navigate.bind(null,lu)},t.next)),a.createElement("span",{className:"rbc-toolbar-label"},s),a.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(t)))}},{key:"viewNamesGroup",value:function(e){var t=this,s=this.props.views,r=this.props.view;if(s.length>1)return s.map(function(s){return a.createElement("button",{type:"button",key:s,className:mi({"rbc-active":r===s}),onClick:t.view.bind(null,s)},e[s])})}}])}(a.Component);function Fu(e,t){e&&e.apply(null,[].concat(t))}var Ou={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(e){return"+".concat(e," more")}};var Iu=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],zu=function(e){function t(){return Kl(this,t),ai(this,t,arguments)}return ni(t,e),Zl(t,[{key:"render",value:function(){var e=this.props,t=e.style,s=e.className,r=e.event,n=e.selected,l=e.isAllDay,i=e.onSelect,o=e.onDoubleClick,c=e.onKeyPress,d=e.localizer,u=e.continuesPrior,m=e.continuesAfter,x=e.accessors,h=e.getters,p=e.children,g=e.components,f=g.event,b=g.eventWrapper,v=e.slotStart,y=e.slotEnd,j=Fe(e,Iu);delete j.resizable;var N=x.title(r),w=x.tooltip(r),_=x.end(r),k=x.start(r),S=x.allDay(r),C=l||S||d.diff(k,d.ceil(_,"day"),"day")>1,A=h.eventProp(r,k,_,n),E=a.createElement("div",{className:"rbc-event-content",title:w||void 0},f?a.createElement(f,{event:r,continuesPrior:u,continuesAfter:m,title:N,isAllDay:S,localizer:d,slotStart:v,slotEnd:y}):N);return a.createElement(b,Object.assign({},this.props,{type:"date"}),a.createElement("div",Object.assign({},j,{style:(0,Re.A)((0,Re.A)({},A.style),t),className:mi("rbc-event",s,A.className,{"rbc-selected":n,"rbc-event-allday":C,"rbc-event-continues-prior":u,"rbc-event-continues-after":m}),onClick:function(e){return i&&i(r,e)},onDoubleClick:function(e){return o&&o(r,e)},onKeyDown:function(e){return c&&c(r,e)}}),"function"===typeof p?p(E):E))}}])}(a.Component);function Bu(e,t){return!(!e||null==t)&&Ed()(e,t)}function Uu(e,t){return(e.right-e.left)/t}function Hu(e,t,s,a){var r=Uu(e,a);return s?a-1-Math.floor((t-e.left)/r):Math.floor((t-e.left)/r)}function Wu(e){var t=e.containerRef,s=e.accessors,r=e.getters,n=e.selected,l=e.components,i=e.localizer,o=e.position,c=e.show,d=e.events,u=e.slotStart,m=e.slotEnd,x=e.onSelect,h=e.onDoubleClick,p=e.onKeyPress,g=e.handleDragStart,f=e.popperRef,b=e.target,v=e.offset;!function(e){var t=e.ref,s=e.callback;(0,a.useEffect)(function(){var e=function(e){t.current&&!t.current.contains(e.target)&&s()};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}},[t,s])}({ref:f,callback:c}),(0,a.useLayoutEffect)(function(){var e=function(e){var t=e.target,s=e.offset,a=e.container,r=e.box,n=Ao(t),l=n.top,i=n.left,o=n.width,c=n.height,d=Ao(a),u=d.top,m=d.left,x=d.width,h=d.height,p=Ao(r),g=p.width,f=p.height,b=u+h,v=m+x,y=l+f,j=i+g,N=s.x,w=s.y;return{topOffset:y>b?l-f-w:l+w+c,leftOffset:j>v?i+N-g+o:i+N}}({target:b,offset:v,container:t.current,box:f.current}),s=e.topOffset,a=e.leftOffset;f.current.style.top="".concat(s,"px"),f.current.style.left="".concat(a,"px")},[v.x,v.y,b]);var y=o.width,j={minWidth:y+y/2};return a.createElement("div",{style:j,className:"rbc-overlay",ref:f},a.createElement("div",{className:"rbc-overlay-header"},i.format(u,"dayHeaderFormat")),d.map(function(e,t){return a.createElement(zu,{key:t,type:"popup",localizer:i,event:e,getters:r,onSelect:x,accessors:s,components:l,onDoubleClick:h,onKeyPress:p,continuesPrior:i.lt(s.end(e),u,"day"),continuesAfter:i.gte(s.start(e),m,"day"),slotStart:u,slotEnd:m,selected:Bu(e,n),draggable:!0,onDragStart:function(){return g(e)},onDragEnd:function(){return c()}})}))}var qu=a.forwardRef(function(e,t){return a.createElement(Wu,Object.assign({},e,{popperRef:t}))});function Vu(e){var t=e.containerRef,s=e.popupOffset,r=void 0===s?5:s,n=e.overlay,l=e.accessors,i=e.localizer,o=e.components,c=e.getters,d=e.selected,u=e.handleSelectEvent,m=e.handleDoubleClickEvent,x=e.handleKeyPressEvent,h=e.handleDragStart,p=e.onHide,g=e.overlayDisplay,f=(0,a.useRef)(null);if(!n.position)return null;var b=r;isNaN(r)||(b={x:r,y:r});var v=n.position,y=n.events,j=n.date,N=n.end;return a.createElement(Cd,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:p,target:n.target},function(e){var s=e.props;return a.createElement(qu,Object.assign({},s,{containerRef:t,ref:f,target:n.target,offset:b,accessors:l,getters:c,selected:d,components:o,localizer:i,position:v,show:g,events:y,slotStart:j,slotEnd:N,onSelect:u,onDoubleClick:m,onKeyPress:x,handleDragStart:h}))})}qu.propTypes={accessors:wi().object.isRequired,getters:wi().object.isRequired,selected:wi().object,components:wi().object.isRequired,localizer:wi().object.isRequired,position:wi().object.isRequired,show:wi().func.isRequired,events:wi().array.isRequired,slotStart:wi().instanceOf(Date).isRequired,slotEnd:wi().instanceOf(Date),onSelect:wi().func,onDoubleClick:wi().func,onKeyPress:wi().func,handleDragStart:wi().func,style:wi().object,offset:wi().shape({x:wi().number,y:wi().number})};var Gu=a.forwardRef(function(e,t){return a.createElement(Vu,Object.assign({},e,{containerRef:t}))});function Yu(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;return hd(s,e,t,{passive:!1})}function $u(e,t){return!!function(e,t){var s=t.clientX,a=t.clientY;return Rd(document.elementFromPoint(s,a),".rbc-event",e)}(e,t)}function Qu(e,t){return!!function(e,t){var s=t.clientX,a=t.clientY;return Rd(document.elementFromPoint(s,a),".rbc-show-more",e)}(e,t)}function Ku(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}Gu.propTypes={popupOffset:wi().oneOfType([wi().number,wi().shape({x:wi().number,y:wi().number})]),overlay:wi().shape({position:wi().object,events:wi().array,date:wi().instanceOf(Date),end:wi().instanceOf(Date)}),accessors:wi().object.isRequired,localizer:wi().object.isRequired,components:wi().object.isRequired,getters:wi().object.isRequired,selected:wi().object,handleSelectEvent:wi().func,handleDoubleClickEvent:wi().func,handleKeyPressEvent:wi().func,handleDragStart:wi().func,onHide:wi().func,overlayDisplay:wi().func};var Ju=function(){return Zl(function e(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=s.global,r=void 0!==a&&a,n=s.longPressThreshold,l=void 0===n?250:n,i=s.validContainers,o=void 0===i?[]:i;Kl(this,e),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||r,this.longPressThreshold=l,this.validContainers=o,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=Yu("touchmove",function(){},window),this._removeKeyDownListener=Yu("keydown",this._keyListener),this._removeKeyUpListener=Yu("keyup",this._keyListener),this._removeDropFromOutsideListener=Yu("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=Yu("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()},[{key:"on",value:function(e,t){var s=this._listeners[e]||(this._listeners[e]=[]);return s.push(t),{remove:function(){var e=s.indexOf(t);-1!==e&&s.splice(e,1)}}}},{key:"emit",value:function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),a=1;a<t;a++)s[a-1]=arguments[a];var r;return(this._listeners[e]||[]).forEach(function(e){void 0===r&&(r=e.apply(void 0,s))}),r}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(e){var t=this._selectRect;return!(!t||!this.selecting)&&Xu(t,Zu(e))}},{key:"filter",value:function(e){return this._selectRect&&this.selecting?e.filter(this.isSelected,this):[]}},{key:"_addLongPressListener",value:function(e,t){var s=this,a=null,r=null,n=null,l=function(t){a=setTimeout(function(){o(),e(t)},s.longPressThreshold),r=Yu("touchmove",function(){return o()}),n=Yu("touchend",function(){return o()})},i=Yu("touchstart",l),o=function(){a&&clearTimeout(a),r&&r(),n&&n(),a=null,r=null,n=null};return t&&l(t),function(){o(),i()}}},{key:"_addInitialEventListener",value:function(){var e=this,t=Yu("mousedown",function(t){e._removeInitialEventListener(),e._handleInitialEvent(t),e._removeInitialEventListener=Yu("mousedown",e._handleInitialEvent)}),s=Yu("touchstart",function(t){e._removeInitialEventListener(),e._removeInitialEventListener=e._addLongPressListener(e._handleInitialEvent,t)});this._removeInitialEventListener=function(){t(),s()}}},{key:"_dropFromOutsideListener",value:function(e){var t=Ku(e),s=t.pageX,a=t.pageY,r=t.clientX,n=t.clientY;this.emit("dropFromOutside",{x:s,y:a,clientX:r,clientY:n}),e.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(e){var t=Ku(e),s=t.pageX,a=t.pageY,r=t.clientX,n=t.clientY;this.emit("dragOverFromOutside",{x:s,y:a,clientX:r,clientY:n}),e.preventDefault()}},{key:"_handleInitialEvent",value:function(e){if(this._initialEvent=e,!this.isDetached){var t,s=Ku(e),a=s.clientX,r=s.clientY,n=s.pageX,l=s.pageY,i=this.container();if(3!==e.which&&2!==e.button&&function(e,t,s){return!e||wo(e,document.elementFromPoint(t,s))}(i,a,r)){if(!this.globalMouse&&i&&!wo(i,e.target)){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;"object"!==(0,Ql.A)(e)&&(e={top:e,left:e,right:e,bottom:e});return e}(0),c=o.top,d=o.left,u=o.bottom,m=o.right;if(!Xu({top:(t=Zu(i)).top-c,left:t.left-d,bottom:t.bottom+u,right:t.right+m},{top:l,left:n}))return}if(!1!==this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(e.type),x:n,y:l,clientX:a,clientY:r}))switch(e.type){case"mousedown":this._removeEndListener=Yu("mouseup",this._handleTerminatingEvent),this._onEscListener=Yu("keydown",this._handleTerminatingEvent),this._removeMoveListener=Yu("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(e),this._removeEndListener=Yu("touchend",this._handleTerminatingEvent),this._removeMoveListener=Yu("touchmove",this._handleMoveEvent)}}}}},{key:"_isWithinValidContainer",value:function(e){var t=e.target,s=this.validContainers;return!(s&&s.length&&t)||s.some(function(e){return!!t.closest(e)})}},{key:"_handleTerminatingEvent",value:function(e){var t=this.selecting,s=this._selectRect;if(!t&&e.type.includes("key")&&(e=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,e){var a=!this.container||wo(this.container(),e.target),r=this._isWithinValidContainer(e);return"Escape"!==e.key&&r?!t&&a?this._handleClickEvent(e):t?this.emit("select",s):this.emit("reset"):this.emit("reset")}}},{key:"_handleClickEvent",value:function(e){var t=Ku(e),s=t.pageX,a=t.pageY,r=t.clientX,n=t.clientY,l=(new Date).getTime();return this._lastClickData&&l-this._lastClickData.timestamp<250?(this._lastClickData=null,this.emit("doubleClick",{x:s,y:a,clientX:r,clientY:n})):(this._lastClickData={timestamp:l},this.emit("click",{x:s,y:a,clientX:r,clientY:n}))}},{key:"_handleMoveEvent",value:function(e){if(null!==this._initialEventData&&!this.isDetached){var t=this._initialEventData,s=t.x,a=t.y,r=Ku(e),n=r.pageX,l=r.pageY,i=Math.abs(s-n),o=Math.abs(a-l),c=Math.min(n,s),d=Math.min(l,a),u=this.selecting,m=this.isClick(n,l);(!m||u||i||o)&&(u||m||this.emit("selectStart",this._initialEventData),m||(this.selecting=!0,this._selectRect={top:d,left:c,x:n,y:l,right:c+i,bottom:d+o},this.emit("selecting",this._selectRect)),e.preventDefault())}}},{key:"_keyListener",value:function(e){this.ctrl=e.metaKey||e.ctrlKey}},{key:"isClick",value:function(e,t){var s=this._initialEventData,a=s.x,r=s.y;return!s.isTouch&&Math.abs(e-a)<=5&&Math.abs(t-r)<=5}}])}();function Xu(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=Zu(e),r=a.top,n=a.left,l=a.right,i=void 0===l?n:l,o=a.bottom,c=void 0===o?r:o,d=Zu(t),u=d.top,m=d.left,x=d.right,h=void 0===x?m:x,p=d.bottom;return!(c-s<u||r+s>(void 0===p?u:p)||i-s<m||n+s>h)}function Zu(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),s=t.left+em("left"),a=t.top+em("top");return{top:a,left:s,right:(e.offsetWidth||0)+s,bottom:(e.offsetHeight||0)+a}}function em(e){return"left"===e?window.pageXOffset||document.body.scrollLeft||0:"top"===e?window.pageYOffset||document.body.scrollTop||0:void 0}var tm=function(e){function t(e,s){var r;return Kl(this,t),(r=ai(this,t,[e,s])).state={selecting:!1},r.containerRef=(0,a.createRef)(),r}return ni(t,e),Zl(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(e){!e.selectable&&this.props.selectable&&this._selectable(),e.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var e=this.props,t=e.range,s=e.getNow,r=e.getters,n=e.date,l=e.components.dateCellWrapper,i=e.localizer,o=this.state,c=o.selecting,d=o.startIdx,u=o.endIdx,m=s();return a.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},t.map(function(e,s){var o=c&&s>=d&&s<=u,x=r.dayProp(e),h=x.className,p=x.style;return a.createElement(l,{key:s,value:e,range:t},a.createElement("div",{style:p,className:mi("rbc-day-bg",h,o&&"rbc-selected-cell",i.isSameDate(e,m)&&"rbc-today",n&&i.neq(n,e,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var e=this,t=this.containerRef.current,s=this._selector=new Ju(this.props.container,{longPressThreshold:this.props.longPressThreshold}),a=function(s,a){if(!$u(t,s)&&!Qu(t,s)){var r=Zu(t),n=e.props,l=n.range,i=n.rtl;if(function(e,t){var s=t.x,a=t.y;return a>=e.top&&a<=e.bottom&&s>=e.left&&s<=e.right}(r,s)){var o=Hu(r,s.x,i,l.length);e._selectSlot({startIdx:o,endIdx:o,action:a,box:s})}}e._initial={},e.setState({selecting:!1})};s.on("selecting",function(a){var r=e.props,n=r.range,l=r.rtl,i=-1,o=-1;if(e.state.selecting||(Fu(e.props.onSelectStart,[a]),e._initial={x:a.x,y:a.y}),s.isSelected(t)){var c=Zu(t),d=function(e,t,s,a,r){var n=-1,l=-1,i=a-1,o=Uu(t,a),c=Hu(t,s.x,r,a),d=t.top<s.y&&t.bottom>s.y,u=t.top<e.y&&t.bottom>e.y,m=e.y>t.bottom,x=t.top>e.y;return s.top<t.top&&s.bottom>t.bottom&&(n=0,l=i),d&&(x?(n=0,l=c):m&&(n=c,l=i)),u&&(n=l=r?i-Math.floor((e.x-t.left)/o):Math.floor((e.x-t.left)/o),d?c<n?n=c:l=c:e.y<s.y?l=i:n=0),{startIdx:n,endIdx:l}}(e._initial,c,a,n.length,l);i=d.startIdx,o=d.endIdx}e.setState({selecting:!0,startIdx:i,endIdx:o})}),s.on("beforeSelect",function(t){if("ignoreEvents"===e.props.selectable)return!$u(e.containerRef.current,t)}),s.on("click",function(e){return a(e,"click")}),s.on("doubleClick",function(e){return a(e,"doubleClick")}),s.on("select",function(t){e._selectSlot((0,Re.A)((0,Re.A)({},e.state),{},{action:"select",bounds:t})),e._initial={},e.setState({selecting:!1}),Fu(e.props.onSelectEnd,[e.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(e){var t=e.endIdx,s=e.startIdx,a=e.action,r=e.bounds,n=e.box;-1!==t&&-1!==s&&this.props.onSelectSlot&&this.props.onSelectSlot({start:s,end:t,action:a,bounds:r,box:n,resourceId:this.props.resourceId})}}])}(a.Component),sm=(wi().object.isRequired,wi().object,wi().bool,wi().object.isRequired,wi().object.isRequired,wi().object.isRequired,wi().object.isRequired,wi().func,wi().func,wi().func,{segments:[],selected:{}}),am=function(e,t){var s=e.selected;e.isAllDay;var r=e.accessors,n=e.getters,l=e.onSelect,i=e.onDoubleClick,o=e.onKeyPress,c=e.localizer,d=e.slotMetrics,u=e.components,m=e.resizable,x=d.continuesPrior(t),h=d.continuesAfter(t);return a.createElement(zu,{event:t,getters:n,localizer:c,accessors:r,components:u,onSelect:l,onDoubleClick:i,onKeyPress:o,continuesPrior:x,continuesAfter:h,slotStart:d.first,slotEnd:d.last,selected:Bu(t,s),resizable:m})},rm=function(e,t,s){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:" ",n=Math.abs(t)/e*100+"%";return a.createElement("div",{key:s,className:"rbc-row-segment",style:{WebkitFlexBasis:n,flexBasis:n,maxWidth:n}},r)},nm=function(e){function t(){return Kl(this,t),ai(this,t,arguments)}return ni(t,e),Zl(t,[{key:"render",value:function(){var e=this,t=this.props,s=t.segments,r=t.slotMetrics.slots,n=t.className,l=1;return a.createElement("div",{className:mi(n,"rbc-row")},s.reduce(function(t,s,a){var n=s.event,i=s.left,o=s.right,c=s.span,d="_lvl_"+a,u=i-l,m=am(e.props,n);return u&&t.push(rm(r,u,"".concat(d,"_gap"))),t.push(rm(r,c,d,m)),l=o+1,t},[]))}}])}(a.Component);function lm(e){var t=e.dateRange,s=e.unit,a=void 0===s?"day":s,r=e.localizer;return{first:t[0],last:r.add(t[t.length-1],1,a)}}function im(e){var t,s,a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=[],l=[];for(t=0;t<e.length;t++){for(a=e[t],s=0;s<n.length&&cm(a,n[s]);s++);s>=r?l.push(a):(n[s]||(n[s]=[])).push(a)}for(t=0;t<n.length;t++)n[t].sort(function(e,t){return e.left-t.left});return{levels:n,extra:l}}function om(e,t,s,a,r){var n={start:a.start(e),end:a.end(e)},l={start:t,end:s};return r.inEventRange({event:n,range:l})}function cm(e,t){return t.some(function(t){return t.left<=e.right&&t.right>=e.left})}function dm(e,t,s,a){var r={start:s.start(e),end:s.end(e),allDay:s.allDay(e)},n={start:s.start(t),end:s.end(t),allDay:s.allDay(t)};return a.sortEvents({evtA:r,evtB:n})}nm.defaultProps=(0,Re.A)({},sm);var um=function(e,t){return e.left<=t&&e.right>=t},mm=function(e,t){return e.filter(function(e){return um(e,t)}).map(function(e){return e.event})},xm=function(e){function t(){return Kl(this,t),ai(this,t,arguments)}return ni(t,e),Zl(t,[{key:"render",value:function(){for(var e=this.props,t=e.segments,s=e.slotMetrics.slots,r=im(t).levels[0],n=1,l=1,i=[];n<=s;){var o="_lvl_"+n,c=r.filter(function(e){return um(e,n)})[0]||{},d=c.event,u=c.left,m=c.right,x=c.span;if(d){var h=Math.max(0,u-l);if(this.canRenderSlotEvent(u,x)){var p=am(this.props,d);h&&i.push(rm(s,h,o+"_gap")),i.push(rm(s,x,o,p)),l=n=m+1}else h&&i.push(rm(s,h,o+"_gap")),i.push(rm(s,1,o,this.renderShowMore(t,n))),l=n+=1}else{if(this.getHiddenEventsForSlot(t,n).length>0){var g=n-l;g&&i.push(rm(s,g,o+"_gap")),i.push(rm(s,1,o,this.renderShowMore(t,n))),l=n+=1;continue}n++}}return a.createElement("div",{className:"rbc-row"},i)}},{key:"getHiddenEventsForSlot",value:function(e,t){var s=mm(e,t),a=im(e).levels[0].filter(function(e){return um(e,t)}).map(function(e){return e.event});return s.filter(function(e){return!a.some(function(t){return t===e})})}},{key:"canRenderSlotEvent",value:function(e,t){var s=this.props.segments;return Id()(e,e+t).every(function(e){return 1===mm(s,e).length})}},{key:"renderShowMore",value:function(e,t){var s=this,r=this.props,n=r.localizer,l=r.slotMetrics,i=r.components,o=l.getEventsForSlot(t),c=mm(e,t),d=c.length;if(null!==i&&void 0!==i&&i.showMore){var u=i.showMore,m=l.getDateForSlot(t-1);return!!d&&a.createElement(u,{localizer:n,slotDate:m,slot:t,count:d,events:o,remainingEvents:c})}return!!d&&a.createElement("button",{type:"button",key:"sm_"+t,className:mi("rbc-button-link","rbc-show-more"),onClick:function(e){return s.showMore(t,e)}},n.messages.showMore(d,c,o))}},{key:"showMore",value:function(e,t){t.preventDefault(),t.stopPropagation(),this.props.onShowMore(e,t.target)}}])}(a.Component);xm.defaultProps=(0,Re.A)({},sm);var hm=function(e){var t=e.children;return a.createElement("div",{className:"rbc-row-content-scroll-container"},t)},pm=function(e,t){return e[0].range===t[0].range&&e[0].events===t[0].events};function gm(){return Hd(function(e){for(var t=e.range,s=e.events,a=e.maxRows,r=e.minRows,n=e.accessors,l=e.localizer,i=lm({dateRange:t,localizer:l}),o=i.first,c=i.last,d=s.map(function(e){return function(e,t,s,a){var r=lm({dateRange:t,localizer:a}),n=r.first,l=r.last,i=a.diff(n,l,"day"),o=a.max(a.startOf(s.start(e),"day"),n),c=a.min(a.ceil(s.end(e),"day"),l),d=Fd()(t,function(e){return a.isSameDate(e,o)}),u=a.diff(o,c,"day");return u=Math.min(u,i),{event:e,span:u=Math.max(u-a.segmentOffset,1),left:d+1,right:Math.max(d+u,1)}}(e,t,n,l)}),u=im(d,Math.max(a-1,1)),m=u.levels,x=u.extra,h=x.length>0?r-1:r;m.length<h;)m.push([]);return{first:o,last:c,levels:m,extra:x,range:t,slots:t.length,clone:function(t){return gm()((0,Re.A)((0,Re.A)({},e),t))},getDateForSlot:function(e){return t[e]},getSlotForDate:function(e){return t.find(function(t){return l.isSameDate(t,e)})},getEventsForSlot:function(e){return d.filter(function(t){return function(e,t){return e.left<=t&&e.right>=t}(t,e)}).map(function(e){return e.event})},continuesPrior:function(e){return l.continuesPrior(n.start(e),o)},continuesAfter:function(e){var t=n.start(e),s=n.end(e);return l.continuesAfter(t,s,c)}}},pm)}var fm=function(e){function t(){var e;Kl(this,t);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=ai(this,t,[].concat(r))).handleSelectSlot=function(t){var s=e.props,a=s.range;(0,s.onSelectSlot)(a.slice(t.start,t.end+1),t)},e.handleShowMore=function(t,s){var a,r,n,l=e.props,i=l.range,o=l.onShowMore,c=e.slotMetrics(e.props),d=(a=e.containerRef.current,r=".rbc-row-bg",Dd(a.querySelectorAll(r)))[0];d&&(n=d.children[t-1]),o(c.getEventsForSlot(t),i[t-1],n,t,s)},e.getContainer=function(){var t=e.props.container;return t?t():e.containerRef.current},e.renderHeadingCell=function(t,s){var a=e.props,r=a.renderHeader,n=a.getNow,l=a.localizer;return r({date:t,key:"header_".concat(s),className:mi("rbc-date-cell",l.isSameDate(t,n())&&"rbc-now")})},e.renderDummy=function(){var t=e.props,s=t.className,r=t.range,n=t.renderHeader,l=t.showAllEvents;return a.createElement("div",{className:s,ref:e.containerRef},a.createElement("div",{className:mi("rbc-row-content",l&&"rbc-row-content-scrollable")},n&&a.createElement("div",{className:"rbc-row",ref:e.headingRowRef},r.map(e.renderHeadingCell)),a.createElement("div",{className:"rbc-row",ref:e.eventRowRef},a.createElement("div",{className:"rbc-row-segment"},a.createElement("div",{className:"rbc-event"},a.createElement("div",{className:"rbc-event-content"},"\xa0"))))))},e.containerRef=(0,a.createRef)(),e.headingRowRef=(0,a.createRef)(),e.eventRowRef=(0,a.createRef)(),e.slotMetrics=gm(),e}return ni(t,e),Zl(t,[{key:"getRowLimit",value:function(){var e,t=Td(this.eventRowRef.current),s=null!==(e=this.headingRowRef)&&void 0!==e&&e.current?Td(this.headingRowRef.current):0,a=Td(this.containerRef.current)-s;return Math.max(Math.floor(a/t),1)}},{key:"render",value:function(){var e=this.props,t=e.date,s=e.rtl,r=e.range,n=e.className,l=e.selected,i=e.selectable,o=e.renderForMeasure,c=e.accessors,d=e.getters,u=e.components,m=e.getNow,x=e.renderHeader,h=e.onSelect,p=e.localizer,g=e.onSelectStart,f=e.onSelectEnd,b=e.onDoubleClick,v=e.onKeyPress,y=e.resourceId,j=e.longPressThreshold,N=e.isAllDay,w=e.resizable,_=e.showAllEvents;if(o)return this.renderDummy();var k=this.slotMetrics(this.props),S=k.levels,C=k.extra,A=_?hm:ru,E=u.weekWrapper,T={selected:l,accessors:c,getters:d,localizer:p,components:u,onSelect:h,onDoubleClick:b,onKeyPress:v,resourceId:y,slotMetrics:k,resizable:w};return a.createElement("div",{className:n,role:"rowgroup",ref:this.containerRef},a.createElement(tm,{localizer:p,date:t,getNow:m,rtl:s,range:r,selectable:i,container:this.getContainer,getters:d,onSelectStart:g,onSelectEnd:f,onSelectSlot:this.handleSelectSlot,components:u,longPressThreshold:j,resourceId:y}),a.createElement("div",{className:mi("rbc-row-content",_&&"rbc-row-content-scrollable"),role:"row"},x&&a.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},r.map(this.renderHeadingCell)),a.createElement(A,null,a.createElement(E,Object.assign({isAllDay:N},T,{rtl:this.props.rtl}),S.map(function(e,t){return a.createElement(nm,Object.assign({key:t,segments:e},T))}),!!C.length&&a.createElement(xm,Object.assign({segments:C,onShowMore:this.handleShowMore},T))))))}}])}(a.Component);fm.defaultProps={minRows:0,maxRows:1/0};var bm=function(e){var t=e.label;return a.createElement("span",{role:"columnheader","aria-sort":"none"},t)},vm=function(e){var t=e.label,s=e.drilldownView,r=e.onDrillDown;return s?a.createElement("button",{type:"button",className:"rbc-button-link",onClick:r},t):a.createElement("span",null,t)},ym=["date","className"],jm=function(e){function t(){var e;Kl(this,t);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=ai(this,t,[].concat(r))).getContainer=function(){return e.containerRef.current},e.renderWeek=function(t,s){var r=e.props,n=r.events,l=r.components,i=r.selectable,o=r.getNow,c=r.selected,d=r.date,u=r.localizer,m=r.longPressThreshold,x=r.accessors,h=r.getters,p=r.showAllEvents,g=e.state,f=g.needLimitMeasure,b=g.rowLimit,v=function(e,t,s,a,r){return e.filter(function(e){return om(e,t,s,a,r)})}(xo(n),t[0],t[t.length-1],x,u),y=function(e,t,s){var a=xo(e),r=[],n=[];a.forEach(function(e){var a=t.start(e),l=t.end(e);s.daySpan(a,l)>1?r.push(e):n.push(e)});var l=r.sort(function(e,a){return dm(e,a,t,s)}),i=n.sort(function(e,a){return dm(e,a,t,s)});return[].concat(xo(l),xo(i))}(v,x,u);return a.createElement(fm,{key:s,ref:0===s?e.slotRowRef:void 0,container:e.getContainer,className:"rbc-month-row",getNow:o,date:d,range:t,events:y,maxRows:p?1/0:b,selected:c,selectable:i,components:l,accessors:x,getters:h,localizer:u,renderHeader:e.readerDateHeading,renderForMeasure:f,onShowMore:e.handleShowMore,onSelect:e.handleSelectEvent,onDoubleClick:e.handleDoubleClickEvent,onKeyPress:e.handleKeyPressEvent,onSelectSlot:e.handleSelectSlot,longPressThreshold:m,rtl:e.props.rtl,resizable:e.props.resizable,showAllEvents:p})},e.readerDateHeading=function(t){var s=t.date,r=t.className,n=Fe(t,ym),l=e.props,i=l.date,o=l.getDrilldownView,c=l.localizer,d=c.neq(i,s,"month"),u=c.isSameDate(s,i),m=o(s),x=c.format(s,"dateFormat"),h=e.props.components.dateHeader||vm;return a.createElement("div",Object.assign({},n,{className:mi(r,d&&"rbc-off-range",u&&"rbc-current"),role:"cell"}),a.createElement(h,{label:x,date:s,drilldownView:m,isOffRange:d,onDrillDown:function(t){return e.handleHeadingClick(s,m,t)}}))},e.handleSelectSlot=function(t,s){e._pendingSelection=e._pendingSelection.concat(t),clearTimeout(e._selectTimer),e._selectTimer=setTimeout(function(){return e.selectDates(s)})},e.handleHeadingClick=function(t,s,a){a.preventDefault(),e.clearSelection(),Fu(e.props.onDrillDown,[t,s])},e.handleSelectEvent=function(){e.clearSelection();for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];Fu(e.props.onSelectEvent,s)},e.handleDoubleClickEvent=function(){e.clearSelection();for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];Fu(e.props.onDoubleClickEvent,s)},e.handleKeyPressEvent=function(){e.clearSelection();for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];Fu(e.props.onKeyPressEvent,s)},e.handleShowMore=function(t,s,a,r,n){var l=e.props,i=l.popup,o=l.onDrillDown,c=l.onShowMore,d=l.getDrilldownView,u=l.doShowMoreDrillDown;if(e.clearSelection(),i){var m=To(a,e.containerRef.current);e.setState({overlay:{date:s,events:t,position:m,target:n}})}else u&&Fu(o,[s,d(s)||cu.DAY]);Fu(c,[t,s,r])},e.overlayDisplay=function(){e.setState({overlay:null})},e.state={rowLimit:5,needLimitMeasure:!0,date:null},e.containerRef=(0,a.createRef)(),e.slotRowRef=(0,a.createRef)(),e._bgRows=[],e._pendingSelection=[],e}return ni(t,e),Zl(t,[{key:"componentDidMount",value:function(){var e,t=this;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){e||Oo(function(){e=!1,t.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var e=this.props,t=e.date,s=e.localizer,r=e.className,n=s.visibleDays(t,s),l=po()(n,7);return this._weekCount=l.length,a.createElement("div",{className:mi("rbc-month-view",r),role:"table","aria-label":"Month View",ref:this.containerRef},a.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(l[0])),l.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(e){var t=this.props,s=t.localizer,r=t.components,n=e[0],l=e[e.length-1],i=r.header||bm;return s.range(n,l,"day").map(function(e,t){return a.createElement("div",{key:"header_"+t,className:"rbc-header"},a.createElement(i,{date:e,localizer:s,label:s.format(e,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var e,t,s=this,r=null!==(e=null===(t=this.state)||void 0===t?void 0:t.overlay)&&void 0!==e?e:{},n=this.props,l=n.accessors,i=n.localizer,o=n.components,c=n.getters,d=n.selected,u=n.popupOffset,m=n.handleDragStart;return a.createElement(Gu,{overlay:r,accessors:l,localizer:i,components:o,getters:c,selected:d,popupOffset:u,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:m,show:!!r.position,overlayDisplay:this.overlayDisplay,onHide:function(){return s.setState({overlay:null})}})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(e){var t=this._pendingSelection.slice();this._pendingSelection=[],t.sort(function(e,t){return+e-+t});var s=new Date(t[0]),a=new Date(t[t.length-1]);a.setDate(t[t.length-1].getDate()+1),Fu(this.props.onSelectSlot,{slots:t,start:s,end:a,action:e.action,bounds:e.bounds,box:e.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(e,t){var s=e.date;return{date:s,needLimitMeasure:e.localizer.neq(s,t.date,"month")}}}])}(a.Component);jm.range=function(e,t){var s=t.localizer;return{start:s.firstVisibleDay(e,s),end:s.lastVisibleDay(e,s)}},jm.navigate=function(e,t,s){var a=s.localizer;switch(t){case nu:return a.add(e,-1,"month");case lu:return a.add(e,1,"month");default:return e}},jm.title=function(e,t){return t.localizer.format(e,"monthHeaderFormat")};var Nm=function(e){var t=e.min,s=e.max,a=e.step,r=e.slots,n=e.localizer;return"".concat(+n.startOf(t,"minutes"))+"".concat(+n.startOf(s,"minutes"))+"".concat(a,"-").concat(r)};function wm(e){for(var t=e.min,s=e.max,a=e.step,r=e.timeslots,n=e.localizer,l=Nm({start:t,end:s,step:a,timeslots:r,localizer:n}),i=1+n.getTotalMin(t,s),o=n.getMinutesFromMidnight(t),c=Math.ceil((i-1)/(a*r)),d=c*r,u=new Array(c),m=new Array(d),x=0;x<c;x++){u[x]=new Array(r);for(var h=0;h<r;h++){var p=x*r+h,g=p*a;m[p]=u[x][h]=n.getSlotDate(t,o,g)}}var f=m.length*a;function b(e){var s=n.diff(t,e,"minutes")+n.getDstOffset(t,e);return Math.min(s,i)}return m.push(n.getSlotDate(t,o,f)),{groups:u,update:function(e){return Nm(e)!==l?wm(e):this},dateIsInGroup:function(e,t){var a=u[t+1];return n.inRange(e,u[t][0],a?a[0]:s,"minutes")},nextSlot:function(e){var t=m[Math.min(m.findIndex(function(t){return t===e||n.eq(t,e)})+1,m.length-1)];return n.eq(t,e)&&(t=n.add(e,a,"minutes")),t},closestSlotToPosition:function(e){var t=Math.min(m.length-1,Math.max(0,Math.floor(e*d)));return m[t]},closestSlotFromPoint:function(e,t){var s=Math.abs(t.top-t.bottom);return this.closestSlotToPosition((e.y-t.top)/s)},closestSlotFromDate:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(n.lt(e,t,"minutes"))return m[0];if(n.gt(e,s,"minutes"))return m[m.length-1];var l=n.diff(t,e,"minutes");return m[(l-l%a)/a+r]},startsBeforeDay:function(e){return n.lt(e,t,"day")},startsAfterDay:function(e){return n.gt(e,s,"day")},startsBefore:function(e){return n.lt(n.merge(t,e),t,"minutes")},startsAfter:function(e){return n.gt(n.merge(s,e),s,"minutes")},getRange:function(e,r,l,i){l||(e=n.min(s,n.max(t,e))),i||(r=n.min(s,n.max(t,r)));var o=b(e),c=b(r),u=c>a*d&&!n.eq(s,r)?(o-a)/(a*d)*100:o/(a*d)*100;return{top:u,height:c/(a*d)*100-u,start:b(e),startDate:e,end:b(r),endDate:r}},getCurrentTimePosition:function(e){return b(e)/(a*d)*100}}}var _m=function(){return Zl(function e(t,s){var a=s.accessors,r=s.slotMetrics;Kl(this,e);var n=r.getRange(a.start(t),a.end(t)),l=n.start,i=n.startDate,o=n.end,c=n.endDate,d=n.top,u=n.height;this.start=l,this.end=o,this.startMs=+i,this.endMs=+c,this.top=d,this.height=u,this.data=t},[{key:"_width",get:function(){if(this.rows){var e=this.rows.reduce(function(e,t){return Math.max(e,t.leaves.length+1)},0)+1;return 100/e}return this.leaves?(100-this.container._width)/(this.leaves.length+1):this.row._width}},{key:"width",get:function(){var e=this._width,t=Math.min(100,1.7*this._width);if(this.rows)return t;if(this.leaves)return this.leaves.length>0?t:e;var s=this.row.leaves;return s.indexOf(this)===s.length-1?e:t}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var e=this.row,t=e.leaves,s=e.xOffset,a=e._width;return s+(t.indexOf(this)+1)*a}}])}();function km(e,t,s){return Math.abs(t.start-e.start)<s||t.start>e.start&&t.start<e.end}function Sm(e){for(var t=e.events,s=e.minimumStartDifference,a=e.slotMetrics,r=e.accessors,n=function(e){for(var t=Gd()(e,["startMs",function(e){return-e.endMs}]),s=[];t.length>0;){var a=t.shift();s.push(a);for(var r=0;r<t.length;r++){var n=t[r];if(!(a.endMs>n.startMs)){if(r>0){var l=t.splice(r,1)[0];s.push(l)}break}}}return s}(t.map(function(e){return new _m(e,{slotMetrics:a,accessors:r})})),l=[],i=function(){var e=n[o],t=l.find(function(t){return t.end>e.start||Math.abs(e.start-t.start)<s});if(!t)return e.rows=[],l.push(e),1;e.container=t;for(var a=null,r=t.rows.length-1;!a&&r>=0;r--)km(t.rows[r],e,s)&&(a=t.rows[r]);a?(a.leaves.push(e),e.row=a):(e.leaves=[],t.rows.push(e))},o=0;o<n.length;o++)i();return n.map(function(e){return{event:e.data,style:{top:e.top,height:e.height,width:e.width,xOffset:Math.max(0,e.xOffset)}}})}function Cm(e,t,s){for(var a=0;a<e.friends.length;++a)if(!(s.indexOf(e.friends[a])>-1)){t=t>e.friends[a].idx?t:e.friends[a].idx,s.push(e.friends[a]);var r=Cm(e.friends[a],t,s);t=t>r?t:r}return t}var Am={overlap:Sm,"no-overlap":function(e){var t=Sm({events:e.events,minimumStartDifference:e.minimumStartDifference,slotMetrics:e.slotMetrics,accessors:e.accessors});t.sort(function(e,t){return e=e.style,t=t.style,e.top!==t.top?e.top>t.top?1:-1:e.height!==t.height?e.top+e.height<t.top+t.height?1:-1:0});for(var s=0;s<t.length;++s)t[s].friends=[],delete t[s].style.left,delete t[s].style.left,delete t[s].idx,delete t[s].size;for(var a=0;a<t.length-1;++a)for(var r=t[a],n=r.style.top,l=r.style.top+r.style.height,i=a+1;i<t.length;++i){var o=t[i],c=o.style.top,d=o.style.top+o.style.height;(c>=n&&d<=l||d>n&&d<=l||c>=n&&c<l)&&(r.friends.push(o),o.friends.push(r))}for(var u=0;u<t.length;++u){for(var m=t[u],x=[],h=0;h<100;++h)x.push(1);for(var p=0;p<m.friends.length;++p)void 0!==m.friends[p].idx&&(x[m.friends[p].idx]=0);m.idx=x.indexOf(1)}for(var g=0;g<t.length;++g){var f;if(!t[g].size){var b=[];f=100/(Cm(t[g],0,b)+1),t[g].size=f;for(var v=0;v<b.length;++v)b[v].size=f}}for(var y=0;y<t.length;++y){var j=t[y];j.style.left=j.idx*j.size;for(var N=0,w=0;w<j.friends.length;++w){var _=j.friends[w].idx;N=N>_?N:_}N<=j.idx&&(j.size=100-j.idx*j.size);var k=0===j.idx?0:3;j.style.width="calc(".concat(j.size,"% - ").concat(k,"px)"),j.style.height="calc(".concat(j.style.height,"% - 2px)"),j.style.xOffset="calc(".concat(j.style.left,"% + ").concat(k,"px)")}return t}};var Em=function(e){function t(){return Kl(this,t),ai(this,t,arguments)}return ni(t,e),Zl(t,[{key:"render",value:function(){var e=this.props,t=e.renderSlot,s=e.resource,r=e.group,n=e.getters,l=e.components,i=(void 0===l?{}:l).timeSlotWrapper,o=void 0===i?ru:i,c=n?n.slotGroupProp(r):{};return a.createElement("div",Object.assign({className:"rbc-timeslot-group"},c),r.map(function(e,r){var l=n?n.slotProp(e,s):{};return a.createElement(o,{key:r,value:e,resource:s},a.createElement("div",Object.assign({},l,{className:mi("rbc-time-slot",l.className)}),t&&t(e,r)))}))}}])}(a.Component);function Tm(e){return"string"===typeof e?e:e+"%"}function Pm(e){var t=e.style,s=e.className,r=e.event,n=e.accessors,l=e.rtl,i=e.selected,o=e.label,c=e.continuesPrior,d=e.continuesAfter,u=e.getters,m=e.onClick,x=e.onDoubleClick,h=e.isBackgroundEvent,p=e.onKeyPress,g=e.components,f=g.event,b=g.eventWrapper,v=n.title(r),y=n.tooltip(r),j=n.end(r),N=n.start(r),w=u.eventProp(r,N,j,i),_=[a.createElement("div",{key:"1",className:"rbc-event-label"},o),a.createElement("div",{key:"2",className:"rbc-event-content"},f?a.createElement(f,{event:r,title:v}):v)],k=t.height,S=t.top,C=t.width,A=t.xOffset,E=(0,Re.A)((0,Re.A)({},w.style),{},(0,uo.A)({top:Tm(S),height:Tm(k),width:Tm(C)},l?"right":"left",Tm(A)));return a.createElement(b,Object.assign({type:"time"},e),a.createElement("div",{role:"button",tabIndex:0,onClick:m,onDoubleClick:x,style:E,onKeyDown:p,title:y?("string"===typeof o?o+": ":"")+y:void 0,className:mi(h?"rbc-background-event":"rbc-event",s,w.className,{"rbc-selected":i,"rbc-event-continues-earlier":c,"rbc-event-continues-later":d})},_))}var Dm=function(e){var t=e.children,s=e.className,r=e.style,n=e.innerRef;return a.createElement("div",{className:s,style:r,ref:n},t)},Mm=a.forwardRef(function(e,t){return a.createElement(Dm,Object.assign({},e,{innerRef:t}))}),Rm=["dayProp"],Lm=["eventContainerWrapper","timeIndicatorWrapper"],Fm=function(e){function t(){var e;Kl(this,t);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=ai(this,t,[].concat(r))).state={selecting:!1,timeIndicatorPosition:null},e.intervalTriggered=!1,e.renderEvents=function(t){var s=t.events,r=t.isBackgroundEvent,n=e.props,l=n.rtl,i=n.selected,o=n.accessors,c=n.localizer,d=n.getters,u=n.components,m=n.step,x=n.timeslots,h=n.dayLayoutAlgorithm,p=n.resizable,g=e.slotMetrics,f=c.messages,b=function(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,s=t;return t in Am&&(s=Am[t]),function(e){return!!(e&&e.constructor&&e.call&&e.apply)}(s)?s.apply(this,arguments):[]}({events:s,accessors:o,slotMetrics:g,minimumStartDifference:Math.ceil(m*x/2),dayLayoutAlgorithm:h});return b.map(function(t,s){var n,m,x=t.event,h=t.style,b=o.end(x),v=o.start(x),y=null!==(n=o.eventId(x))&&void 0!==n?n:"evt_"+s,j="eventTimeRangeFormat",N=g.startsBeforeDay(v),w=g.startsAfterDay(b);N?j="eventTimeRangeEndFormat":w&&(j="eventTimeRangeStartFormat"),m=N&&w?f.allDay:c.format({start:v,end:b},j);var _=N||g.startsBefore(v),k=w||g.startsAfter(b);return a.createElement(Pm,{style:h,event:x,label:m,key:y,getters:d,rtl:l,components:u,continuesPrior:_,continuesAfter:k,accessors:o,resource:e.props.resource,selected:Bu(x,i),onClick:function(t){return e._select((0,Re.A)((0,Re.A)((0,Re.A)({},x),e.props.resource&&{sourceResource:e.props.resource}),r&&{isBackgroundEvent:!0}),t)},onDoubleClick:function(t){return e._doubleClick(x,t)},isBackgroundEvent:r,onKeyPress:function(t){return e._keyPress(x,t)},resizable:p})})},e._selectable=function(){var t=e.containerRef.current,s=e.props,a=s.longPressThreshold,r=s.localizer,n=e._selector=new Ju(function(){return t},{longPressThreshold:a}),l=function(t){var s=e.props.onSelecting,a=e.state||{},n=i(t),l=n.startDate,o=n.endDate;s&&(r.eq(a.startDate,l,"minutes")&&r.eq(a.endDate,o,"minutes")||!1===s({start:l,end:o,resourceId:e.props.resource}))||e.state.start===n.start&&e.state.end===n.end&&e.state.selecting===n.selecting||e.setState(n)},i=function(s){var a=e.slotMetrics.closestSlotFromPoint(s,Zu(t));e.state.selecting||(e._initialSlot=a);var n=e._initialSlot;r.lte(n,a)?a=e.slotMetrics.nextSlot(a):r.gt(n,a)&&(n=e.slotMetrics.nextSlot(n));var l=e.slotMetrics.getRange(r.min(n,a),r.max(n,a));return(0,Re.A)((0,Re.A)({},l),{},{selecting:!0,top:"".concat(l.top,"%"),height:"".concat(l.height,"%")})},o=function(t,s){if(!$u(e.containerRef.current,t)){var a=i(t),r=a.startDate,n=a.endDate;e._selectSlot({startDate:r,endDate:n,action:s,box:t})}e.setState({selecting:!1})};n.on("selecting",l),n.on("selectStart",l),n.on("beforeSelect",function(t){if("ignoreEvents"===e.props.selectable)return!$u(e.containerRef.current,t)}),n.on("click",function(e){return o(e,"click")}),n.on("doubleClick",function(e){return o(e,"doubleClick")}),n.on("select",function(t){e.state.selecting&&(e._selectSlot((0,Re.A)((0,Re.A)({},e.state),{},{action:"select",bounds:t})),e.setState({selecting:!1}))}),n.on("reset",function(){e.state.selecting&&e.setState({selecting:!1})})},e._teardownSelectable=function(){e._selector&&(e._selector.teardown(),e._selector=null)},e._selectSlot=function(t){for(var s=t.startDate,a=t.endDate,r=t.action,n=t.bounds,l=t.box,i=s,o=[];e.props.localizer.lte(i,a);)o.push(i),i=new Date(+i+60*e.props.step*1e3);Fu(e.props.onSelectSlot,{slots:o,start:s,end:a,resourceId:e.props.resource,action:r,bounds:n,box:l})},e._select=function(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];Fu(e.props.onSelectEvent,s)},e._doubleClick=function(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];Fu(e.props.onDoubleClickEvent,s)},e._keyPress=function(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];Fu(e.props.onKeyPressEvent,s)},e.slotMetrics=wm(e.props),e.containerRef=(0,a.createRef)(),e}return ni(t,e),Zl(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(e,t){this.props.selectable&&!e.selectable&&this._selectable(),!this.props.selectable&&e.selectable&&this._teardownSelectable();var s=this.props,a=s.getNow,r=s.isNow,n=s.localizer,l=s.date,i=s.min,o=s.max,c=n.neq(e.getNow(),a(),"minutes");if(e.isNow!==r||c){if(this.clearTimeIndicatorInterval(),r){var d=!c&&n.eq(e.date,l,"minutes")&&t.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(d)}}else r&&(n.neq(e.min,i,"minutes")||n.neq(e.max,o,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.intervalTriggered||t||this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){e.intervalTriggered=!0,e.positionTimeIndicator(),e.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var e=this.props,t=e.min,s=e.max,a=(0,e.getNow)();if(a>=t&&a<=s){var r=this.slotMetrics.getCurrentTimePosition(a);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:r})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var e=this.props,t=e.date,s=e.max,r=e.rtl,n=e.isNow,l=e.resource,i=e.accessors,o=e.localizer,c=e.getters,d=c.dayProp,u=Fe(c,Rm),m=e.components,x=m.eventContainerWrapper,h=m.timeIndicatorWrapper,p=Fe(m,Lm);this.slotMetrics=this.slotMetrics.update(this.props);var g=this.slotMetrics,f=this.state,b=f.selecting,v=f.top,y=f.height,j={start:f.startDate,end:f.endDate},N=d(s,l),w=N.className,_=N.style,k={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},S=p.dayColumnWrapper||Mm;return a.createElement(S,{ref:this.containerRef,date:t,style:_,className:mi(w,"rbc-day-slot","rbc-time-column",n&&"rbc-now",n&&"rbc-today",b&&"rbc-slot-selecting"),slotMetrics:g,resource:l},g.groups.map(function(e,t){return a.createElement(Em,{key:t,group:e,resource:l,getters:u,components:p})}),a.createElement(x,{localizer:o,resource:l,accessors:i,getters:u,components:p,slotMetrics:g},a.createElement("div",{className:mi("rbc-events-container",r&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),b&&a.createElement("div",{className:"rbc-slot-selection",style:{top:v,height:y}},a.createElement("span",null,o.format(j,"selectRangeFormat"))),n&&this.intervalTriggered&&a.createElement(h,k,a.createElement("div",k)))}}])}(a.Component);Fm.defaultProps={dragThroughEvents:!0,timeslots:2};var Om=function(e){var t=e.label;return a.createElement(a.Fragment,null,t)},Im=function(e){function t(){var e;Kl(this,t);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=ai(this,t,[].concat(r))).handleHeaderClick=function(t,s,a){a.preventDefault(),Fu(e.props.onDrillDown,[t,s])},e.renderRow=function(t){var s=e.props,r=s.events,n=s.rtl,l=s.selectable,i=s.getNow,o=s.range,c=s.getters,d=s.localizer,u=s.accessors,m=s.components,x=s.resizable,h=u.resourceId(t),p=t?r.filter(function(e){return u.resource(e)===h}):r;return a.createElement(fm,{isAllDay:!0,rtl:n,getNow:i,minRows:2,maxRows:e.props.allDayMaxRows+1,range:o,events:p,resourceId:h,className:"rbc-allday-cell",selectable:l,selected:e.props.selected,components:m,accessors:u,getters:c,localizer:d,onSelect:e.props.onSelectEvent,onShowMore:e.props.onShowMore,onDoubleClick:e.props.onDoubleClickEvent,onKeyPress:e.props.onKeyPressEvent,onSelectSlot:e.props.onSelectSlot,longPressThreshold:e.props.longPressThreshold,resizable:x})},e}return ni(t,e),Zl(t,[{key:"renderHeaderCells",value:function(e){var t=this,s=this.props,r=s.localizer,n=s.getDrilldownView,l=s.getNow,i=s.getters.dayProp,o=s.components.header,c=void 0===o?bm:o,d=l();return e.map(function(e,s){var l=n(e),o=r.format(e,"dayFormat"),u=i(e),m=u.className,x=u.style,h=a.createElement(c,{date:e,label:o,localizer:r});return a.createElement("div",{key:s,style:x,className:mi("rbc-header",m,r.isSameDate(e,d)&&"rbc-today")},l?a.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(s){return t.handleHeaderClick(e,l,s)}},h):a.createElement("span",null,h))})}},{key:"render",value:function(){var e=this,t=this.props,s=t.width,r=t.rtl,n=t.resources,l=t.range,i=t.events,o=t.getNow,c=t.accessors,d=t.selectable,u=t.components,m=t.getters,x=t.scrollRef,h=t.localizer,p=t.isOverflowing,g=t.components,f=g.timeGutterHeader,b=g.resourceHeader,v=void 0===b?Om:b,y=t.resizable,j={};p&&(j[r?"marginLeft":"marginRight"]="".concat(Yd()-1,"px"));var N=n.groupEvents(i);return a.createElement("div",{style:j,ref:x,className:mi("rbc-time-header",p&&"rbc-overflowing")},a.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:s,minWidth:s,maxWidth:s}},f&&a.createElement(f,null)),n.map(function(t,s){var n=di(t,2),i=n[0],x=n[1];return a.createElement("div",{className:"rbc-time-header-content",key:i||s},x&&a.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(s)},a.createElement("div",{className:"rbc-header"},a.createElement(v,{index:s,label:c.resourceTitle(x),resource:x}))),a.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(l.length<=1?" rbc-time-header-cell-single-day":"")},e.renderHeaderCells(l)),a.createElement(fm,{isAllDay:!0,rtl:r,getNow:o,minRows:2,maxRows:e.props.allDayMaxRows+1,range:l,events:N.get(i)||[],resourceId:x&&i,className:"rbc-allday-cell",selectable:d,selected:e.props.selected,components:u,accessors:c,getters:m,localizer:h,onSelect:e.props.onSelectEvent,onShowMore:e.props.onShowMore,onDoubleClick:e.props.onDoubleClickEvent,onKeyDown:e.props.onKeyPressEvent,onSelectSlot:e.props.onSelectSlot,longPressThreshold:e.props.longPressThreshold,resizable:y}))}))}}])}(a.Component),zm=function(e){function t(){var e;Kl(this,t);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=ai(this,t,[].concat(a))).handleHeaderClick=function(t,s,a){a.preventDefault(),Fu(e.props.onDrillDown,[t,s])},e}return ni(t,e),Zl(t,[{key:"renderHeaderCells",value:function(e){var t=this,s=this.props,r=s.localizer,n=s.getDrilldownView,l=s.getNow,i=s.getters.dayProp,o=s.components,c=o.header,d=void 0===c?bm:c,u=o.resourceHeader,m=void 0===u?Om:u,x=s.resources,h=s.accessors,p=s.events,g=s.rtl,f=s.selectable,b=s.components,v=s.getters,y=s.resizable,j=l(),N=x.groupEvents(p);return e.map(function(s,o){var c=n(s),u=r.format(s,"dayFormat"),p=i(s),w=p.className,_=p.style,k=a.createElement(d,{date:s,label:u,localizer:r});return a.createElement("div",{key:o,className:"rbc-time-header-content rbc-resource-grouping"},a.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(e.length<=1?" rbc-time-header-cell-single-day":"")},a.createElement("div",{style:_,className:mi("rbc-header",w,r.isSameDate(s,j)&&"rbc-today")},c?a.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(e){return t.handleHeaderClick(s,c,e)}},k):a.createElement("span",null,k))),a.createElement("div",{className:"rbc-row"},x.map(function(e,t){var n=di(e,2),l=n[0],i=n[1];return a.createElement("div",{key:"resource_".concat(l,"_").concat(t),className:mi("rbc-header",w,r.isSameDate(s,j)&&"rbc-today")},a.createElement(m,{index:t,label:h.resourceTitle(i),resource:i}))})),a.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},x.map(function(e,n){var i=di(e,2),o=i[0],c=i[1],d=(N.get(o)||[]).filter(function(e){return r.isSameDate(e.start,s)||r.isSameDate(e.end,s)});return a.createElement(fm,{key:"resource_".concat(o,"_").concat(n),isAllDay:!0,rtl:g,getNow:l,minRows:2,maxRows:t.props.allDayMaxRows+1,range:[s],events:d,resourceId:c&&o,className:"rbc-allday-cell",selectable:f,selected:t.props.selected,components:b,accessors:h,getters:v,localizer:r,onSelect:t.props.onSelectEvent,onShowMore:t.props.onShowMore,onDoubleClick:t.props.onDoubleClickEvent,onKeyDown:t.props.onKeyPressEvent,onSelectSlot:t.props.onSelectSlot,longPressThreshold:t.props.longPressThreshold,resizable:y})})))})}},{key:"render",value:function(){var e=this.props,t=e.width,s=e.rtl,r=e.range,n=e.scrollRef,l=e.isOverflowing,i=e.components.timeGutterHeader,o={};return l&&(o[s?"marginLeft":"marginRight"]="".concat(Yd()-1,"px")),a.createElement("div",{style:o,ref:n,className:mi("rbc-time-header",l&&"rbc-overflowing")},a.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:t,minWidth:t,maxWidth:t}},i&&a.createElement(i,null)),this.renderHeaderCells(r))}}])}(a.Component);var Bm=function(e){var t=e.min,s=e.max,r=e.timeslots,n=e.step,l=e.localizer,i=e.getNow,o=e.resource,c=e.components,d=e.getters,u=e.gutterRef,m=c.timeGutterWrapper,x=(0,a.useMemo)(function(){return function(e){var t=e.min,s=e.max,a=e.localizer;return a.getTimezoneOffset(t)!==a.getTimezoneOffset(s)?{start:a.add(t,-1,"day"),end:a.add(s,-1,"day")}:{start:t,end:s}}({min:t,max:s,localizer:l})},[null===t||void 0===t?void 0:t.toISOString(),null===s||void 0===s?void 0:s.toISOString(),l]),h=x.start,p=x.end,g=di((0,a.useState)(wm({min:h,max:p,timeslots:r,step:n,localizer:l})),2),f=g[0],b=g[1];(0,a.useEffect)(function(){f&&b(f.update({min:h,max:p,timeslots:r,step:n,localizer:l}))},[null===h||void 0===h?void 0:h.toISOString(),null===p||void 0===p?void 0:p.toISOString(),r,n]);var v=(0,a.useCallback)(function(e,t){if(t)return null;var s=f.dateIsInGroup(i(),t);return a.createElement("span",{className:mi("rbc-label",s&&"rbc-now")},l.format(e,"timeGutterFormat"))},[f,l,i]);return a.createElement(m,{slotMetrics:f},a.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:u},f.groups.map(function(e,t){return a.createElement(Em,{key:t,group:e,resource:o,components:c,renderSlot:v,getters:d})})))},Um=a.forwardRef(function(e,t){return a.createElement(Bm,Object.assign({gutterRef:t},e))}),Hm={};var Wm=function(e){function t(e){var s;return Kl(this,t),(s=ai(this,t,[e])).handleScroll=function(e){s.scrollRef.current&&(s.scrollRef.current.scrollLeft=e.target.scrollLeft)},s.handleResize=function(){Fo(s.rafHandle),s.rafHandle=Oo(s.checkOverflow)},s.handleKeyPressEvent=function(){s.clearSelection();for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];Fu(s.props.onKeyPressEvent,t)},s.handleSelectEvent=function(){s.clearSelection();for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];Fu(s.props.onSelectEvent,t)},s.handleDoubleClickEvent=function(){s.clearSelection();for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];Fu(s.props.onDoubleClickEvent,t)},s.handleShowMore=function(e,t,a,r,n){var l=s.props,i=l.popup,o=l.onDrillDown,c=l.onShowMore,d=l.getDrilldownView,u=l.doShowMoreDrillDown;if(s.clearSelection(),i){var m=To(a,s.containerRef.current);s.setState({overlay:{date:t,events:e,position:(0,Re.A)((0,Re.A)({},m),{},{width:"200px"}),target:n}})}else u&&Fu(o,[t,d(t)||cu.DAY]);Fu(c,[e,t,r])},s.handleSelectAllDaySlot=function(e,t){var a=s.props.onSelectSlot,r=new Date(e[0]),n=new Date(e[e.length-1]);n.setDate(e[e.length-1].getDate()+1),Fu(a,{slots:e,start:r,end:n,action:t.action,resourceId:t.resourceId})},s.overlayDisplay=function(){s.setState({overlay:null})},s.checkOverflow=function(){if(!s._updatingOverflow){var e=s.contentRef.current;if(null!==e&&void 0!==e&&e.scrollHeight){var t=e.scrollHeight>e.clientHeight;s.state.isOverflowing!==t&&(s._updatingOverflow=!0,s.setState({isOverflowing:t},function(){s._updatingOverflow=!1}))}}},s.memoizedResources=Hd(function(e,t){return function(e,t){return{map:function(s){return e?e.map(function(e,a){return s([t.resourceId(e),e],a)}):[s([Hm,null],0)]},groupEvents:function(s){var a=new Map;return e?(s.forEach(function(e){var s=t.resource(e)||Hm;if(Array.isArray(s))s.forEach(function(t){var s=a.get(t)||[];s.push(e),a.set(t,s)});else{var r=a.get(s)||[];r.push(e),a.set(s,r)}}),a):(a.set(Hm,s),a)}}}(e,t)}),s.state={gutterWidth:void 0,isOverflowing:null},s.scrollRef=a.createRef(),s.contentRef=a.createRef(),s.containerRef=a.createRef(),s._scrollRatio=null,s.gutterRef=(0,a.createRef)(),s}return ni(t,e),Zl(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){null==this.props.width&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),Fo(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(e,t,s,r,n,l,i,o,c,d){var u=this.props,m=u.min,x=u.max,h=(r.get(t)||[]).filter(function(t){return l.inRange(e,i.start(t),i.end(t),"day")}),p=(n.get(t)||[]).filter(function(t){return l.inRange(e,i.start(t),i.end(t),"day")});return a.createElement(Fm,Object.assign({},this.props,{localizer:l,min:l.merge(e,m),max:l.merge(e,x),resource:s&&t,components:o,isNow:l.isSameDate(e,d),key:"".concat(t,"-").concat(e),date:e,events:h,backgroundEvents:p,dayLayoutAlgorithm:c}))}},{key:"renderResourcesFirst",value:function(e,t,s,a,r,n,l,i,o){var c=this;return t.map(function(t){var d=di(t,2),u=d[0],m=d[1];return e.map(function(e){return c.renderDayColumn(e,u,m,s,a,r,n,i,o,l)})})}},{key:"renderRangeFirst",value:function(e,t,s,r,n,l,i,o,c){var d=this;return e.map(function(e){return a.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:e},t.map(function(t){var u=di(t,2),m=u[0],x=u[1];return a.createElement("div",{style:{flex:1},key:l.resourceId(x)},d.renderDayColumn(e,m,x,s,r,n,l,o,c,i))}))})}},{key:"renderEvents",value:function(e,t,s,a){var r=this.props,n=r.accessors,l=r.localizer,i=r.resourceGroupingLayout,o=r.components,c=r.dayLayoutAlgorithm,d=this.memoizedResources(this.props.resources,n),u=d.groupEvents(t),m=d.groupEvents(s);return i?this.renderRangeFirst(e,d,u,m,l,n,a,o,c):this.renderResourcesFirst(e,d,u,m,l,n,a,o,c)}},{key:"render",value:function(){var e,t=this.props,s=t.events,r=t.backgroundEvents,n=t.range,l=t.width,i=t.rtl,o=t.selected,c=t.getNow,d=t.resources,u=t.components,m=t.accessors,x=t.getters,h=t.localizer,p=t.min,g=t.max,f=t.showMultiDayTimes,b=t.longPressThreshold,v=t.resizable,y=t.resourceGroupingLayout;l=l||this.state.gutterWidth;var j=n[0],N=n[n.length-1];this.slots=n.length;var w=[],_=[],k=[];s.forEach(function(e){if(om(e,j,N,m,h)){var t=m.start(e),s=m.end(e);m.allDay(e)||h.startAndEndAreDateOnly(t,s)||!f&&!h.isSameDate(t,s)?w.push(e):_.push(e)}}),r.forEach(function(e){om(e,j,N,m,h)&&k.push(e)}),w.sort(function(e,t){return dm(e,t,m,h)});var S={range:n,events:w,width:l,rtl:i,getNow:c,localizer:h,selected:o,allDayMaxRows:this.props.showAllEvents?1/0:null!==(e=this.props.allDayMaxRows)&&void 0!==e?e:1/0,resources:this.memoizedResources(d,m),selectable:this.props.selectable,accessors:m,getters:x,components:u,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:b,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:v};return a.createElement("div",{className:mi("rbc-time-view",d&&"rbc-time-view-resources"),ref:this.containerRef},d&&d.length>1&&y?a.createElement(zm,S):a.createElement(Im,S),this.props.popup&&this.renderOverlay(),a.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},a.createElement(Um,{date:j,ref:this.gutterRef,localizer:h,min:h.merge(j,p),max:h.merge(j,g),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:u,className:"rbc-time-gutter",getters:x}),this.renderEvents(n,_,k,c())))}},{key:"renderOverlay",value:function(){var e,t,s=this,r=null!==(e=null===(t=this.state)||void 0===t?void 0:t.overlay)&&void 0!==e?e:{},n=this.props,l=n.accessors,i=n.localizer,o=n.components,c=n.getters,d=n.selected,u=n.popupOffset,m=n.handleDragStart;return a.createElement(Gu,{overlay:r,accessors:l,localizer:i,components:o,getters:c,selected:d,popupOffset:u,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:m,show:!!r.position,overlayDisplay:this.overlayDisplay,onHide:function(){return s.setState({overlay:null})}})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var e=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var t,s=null!==(t=e.gutterRef)&&void 0!==t&&t.current?Wd(e.gutterRef.current):void 0;s&&e.state.gutterWidth!==s&&e.setState({gutterWidth:s})})}},{key:"applyScroll",value:function(){if(null!=this._scrollRatio&&!0===this.props.enableAutoScroll){var e=this.contentRef.current;e.scrollTop=e.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.min,s=e.max,a=e.scrollToTime,r=e.localizer,n=r.diff(r.merge(a,t),a,"milliseconds"),l=r.diff(t,s,"milliseconds");this._scrollRatio=n/l}}])}(a.Component);Wm.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var qm=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Vm=function(e){function t(){return Kl(this,t),ai(this,t,arguments)}return ni(t,e),Zl(t,[{key:"render",value:function(){var e=this.props,s=e.date,r=e.localizer,n=e.min,l=void 0===n?r.startOf(new Date,"day"):n,i=e.max,o=void 0===i?r.endOf(new Date,"day"):i,c=e.scrollToTime,d=void 0===c?r.startOf(new Date,"day"):c,u=e.enableAutoScroll,m=void 0===u||u,x=Fe(e,qm),h=t.range(s,{localizer:r});return a.createElement(Wm,Object.assign({},x,{range:h,eventOffset:10,localizer:r,min:l,max:o,scrollToTime:d,enableAutoScroll:m}))}}])}(a.Component);Vm.range=function(e,t){return[t.localizer.startOf(e,"day")]},Vm.navigate=function(e,t,s){var a=s.localizer;switch(t){case nu:return a.add(e,-1,"day");case lu:return a.add(e,1,"day");default:return e}},Vm.title=function(e,t){return t.localizer.format(e,"dayHeaderFormat")};var Gm=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Ym=function(e){function t(){return Kl(this,t),ai(this,t,arguments)}return ni(t,e),Zl(t,[{key:"render",value:function(){var e=this.props,s=e.date,r=e.localizer,n=e.min,l=void 0===n?r.startOf(new Date,"day"):n,i=e.max,o=void 0===i?r.endOf(new Date,"day"):i,c=e.scrollToTime,d=void 0===c?r.startOf(new Date,"day"):c,u=e.enableAutoScroll,m=void 0===u||u,x=Fe(e,Gm),h=t.range(s,this.props);return a.createElement(Wm,Object.assign({},x,{range:h,eventOffset:15,localizer:r,min:l,max:o,scrollToTime:d,enableAutoScroll:m}))}}])}(a.Component);Ym.defaultProps=Wm.defaultProps,Ym.navigate=function(e,t,s){var a=s.localizer;switch(t){case nu:return a.add(e,-1,"week");case lu:return a.add(e,1,"week");default:return e}},Ym.range=function(e,t){var s=t.localizer,a=s.startOfWeek(),r=s.startOf(e,"week",a),n=s.endOf(e,"week",a);return s.range(r,n)},Ym.title=function(e,t){var s=t.localizer,a=$d(Ym.range(e,{localizer:s})),r=a[0],n=a.slice(1);return s.format({start:r,end:n.pop()},"dayRangeHeaderFormat")};var $m=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function Qm(e,t){return Ym.range(e,t).filter(function(e){return-1===[6,0].indexOf(e.getDay())})}var Km=function(e){function t(){return Kl(this,t),ai(this,t,arguments)}return ni(t,e),Zl(t,[{key:"render",value:function(){var e=this.props,t=e.date,s=e.localizer,r=e.min,n=void 0===r?s.startOf(new Date,"day"):r,l=e.max,i=void 0===l?s.endOf(new Date,"day"):l,o=e.scrollToTime,c=void 0===o?s.startOf(new Date,"day"):o,d=e.enableAutoScroll,u=void 0===d||d,m=Fe(e,$m),x=Qm(t,this.props);return a.createElement(Wm,Object.assign({},m,{range:x,eventOffset:15,localizer:s,min:n,max:i,scrollToTime:c,enableAutoScroll:u}))}}])}(a.Component);Km.defaultProps=Wm.defaultProps,Km.range=Qm,Km.navigate=Ym.navigate,Km.title=function(e,t){var s=t.localizer,a=$d(Qm(e,{localizer:s})),r=a[0],n=a.slice(1);return s.format({start:r,end:n.pop()},"dayRangeHeaderFormat")};function Jm(e){var t=e.accessors,s=e.components,r=e.date,n=e.events,l=e.getters,i=e.length,o=void 0===i?30:i,c=e.localizer,d=e.onDoubleClickEvent,u=e.onSelectEvent,m=e.selected,x=(0,a.useRef)(null),h=(0,a.useRef)(null),p=(0,a.useRef)(null),g=(0,a.useRef)(null),f=(0,a.useRef)(null);(0,a.useEffect)(function(){v()});var b=function(e,r){var n="",l=s.time,i=c.messages.allDay,o=t.end(r),d=t.start(r);return t.allDay(r)||(c.eq(d,o)?i=c.format(d,"agendaTimeFormat"):c.isSameDate(d,o)?i=c.format({start:d,end:o},"agendaTimeRangeFormat"):c.isSameDate(e,d)?i=c.format(d,"agendaTimeFormat"):c.isSameDate(e,o)&&(i=c.format(o,"agendaTimeFormat"))),c.gt(e,d,"day")&&(n="rbc-continues-prior"),c.lt(e,o,"day")&&(n+=" rbc-continues-after"),a.createElement("span",{className:n.trim()},l?a.createElement(l,{event:r,day:e,label:i}):i)},v=function(){if(f.current){var e=x.current,t=f.current.firstChild;if(t){var s,a,r=g.current.scrollHeight>g.current.clientHeight,n=[],l=n;n=[Wd(t.children[0]),Wd(t.children[1])],l[0]===n[0]&&l[1]===n[1]||(h.current.style.width=n[0]+"px",p.current.style.width=n[1]+"px"),r?(a="rbc-header-overflowing",(s=e).classList?s.classList.add(a):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(s,a)||("string"===typeof s.className?s.className=s.className+" "+a:s.setAttribute("class",(s.className&&s.className.baseVal||"")+" "+a)),e.style.marginRight=Yd()+"px"):function(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=Qd(e.className,t):e.setAttribute("class",Qd(e.className&&e.className.baseVal||"",t))}(e,"rbc-header-overflowing")}}},y=c.messages,j=c.add(r,o,"day"),N=c.range(r,j,"day");return(n=n.filter(function(e){return om(e,c.startOf(r,"day"),c.endOf(j,"day"),t,c)})).sort(function(e,s){return+t.start(e)-+t.start(s)}),a.createElement("div",{className:"rbc-agenda-view"},0!==n.length?a.createElement(a.Fragment,null,a.createElement("table",{ref:x,className:"rbc-agenda-table"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",{className:"rbc-header",ref:h},y.date),a.createElement("th",{className:"rbc-header",ref:p},y.time),a.createElement("th",{className:"rbc-header"},y.event)))),a.createElement("div",{className:"rbc-agenda-content",ref:g},a.createElement("table",{className:"rbc-agenda-table"},a.createElement("tbody",{ref:f},N.map(function(e,r){return function(e,r,n){var i=s.event,o=s.date;return r=r.filter(function(s){return om(s,c.startOf(e,"day"),c.endOf(e,"day"),t,c)}),r.map(function(s,x){var h=t.title(s),p=t.end(s),g=t.start(s),f=l.eventProp(s,g,p,Bu(s,m)),v=0===x&&c.format(e,"agendaDateFormat"),y=0===x&&a.createElement("td",{rowSpan:r.length,className:"rbc-agenda-date-cell"},o?a.createElement(o,{day:e,label:v}):v);return a.createElement("tr",{key:n+"_"+x,className:f.className,style:f.style},y,a.createElement("td",{className:"rbc-agenda-time-cell"},b(e,s)),a.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(e){return u&&u(s,e)},onDoubleClick:function(e){return d&&d(s,e)}},i?a.createElement(i,{event:s,title:h}):h))},[])}(e,n,r)}))))):a.createElement("span",{className:"rbc-agenda-empty"},y.noEventsInRange))}Jm.range=function(e,t){var s=t.length,a=void 0===s?30:s;return{start:e,end:t.localizer.add(e,a,"day")}},Jm.navigate=function(e,t,s){var a=s.length,r=void 0===a?30:a,n=s.localizer;switch(t){case nu:return n.add(e,-r,"day");case lu:return n.add(e,r,"day");default:return e}},Jm.title=function(e,t){var s=t.length,a=void 0===s?30:s,r=t.localizer,n=r.add(e,a,"day");return r.format({start:e,end:n},"agendaHeaderFormat")};var Xm=(0,uo.A)((0,uo.A)((0,uo.A)((0,uo.A)((0,uo.A)({},cu.MONTH,jm),cu.WEEK,Ym),cu.WORK_WEEK,Km),cu.DAY,Vm),cu.AGENDA,Jm),Zm=["action","date","today"];var ex=function(e){return function(t){return function(e,t){var s=null;return"function"===typeof t?s=t(e):"string"===typeof t&&"object"===(0,Ql.A)(e)&&null!=e&&t in e&&(s=e[t]),s}(t,e)}},tx=["view","date","getNow","onNavigate"],sx=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function ax(e){if(Array.isArray(e))return e;for(var t=[],s=0,a=Object.entries(e);s<a.length;s++){var r=di(a[s],2),n=r[0];r[1]&&t.push(n)}return t}var rx=function(e){function t(){var e;Kl(this,t);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=ai(this,t,[].concat(a))).getViews=function(){var t=e.props.views;return Array.isArray(t)?au()(t,function(e,t){return e[t]=Xm[t]},{}):"object"===(0,Ql.A)(t)?Zd()(t,function(e,t){return!0===e?Xm[t]:e}):Xm},e.getView=function(){return e.getViews()[e.props.view]},e.getDrilldownView=function(t){var s=e.props,a=s.view,r=s.drilldownView,n=s.getDrilldownView;return n?n(t,a,Object.keys(e.getViews())):r},e.handleRangeChange=function(t,s,a){var r=e.props,n=r.onRangeChange,l=r.localizer;n&&s.range&&n(s.range(t,{localizer:l}),a)},e.handleNavigate=function(t,s){var a=e.props,r=a.view,n=a.date,l=a.getNow,i=a.onNavigate,o=Fe(a,tx),c=e.getView(),d=l();n=function(e,t){var s=t.action,a=t.date,r=t.today,n=Fe(t,Zm);switch(e="string"===typeof e?Xm[e]:e,s){case iu:a=r||new Date;break;case ou:break;default:hi()(e&&"function"===typeof e.navigate,"Calendar View components must implement a static `.navigate(date, action)` method.s"),a=e.navigate(a,s,n)}return a}(c,(0,Re.A)((0,Re.A)({},o),{},{action:t,date:s||n||d,today:d})),i(n,r,t),e.handleRangeChange(n,c)},e.handleViewChange=function(t){t!==e.props.view&&function(e,t){return-1!==ax(t.views).indexOf(e)}(t,e.props)&&e.props.onView(t);var s=e.getViews();e.handleRangeChange(e.props.date||e.props.getNow(),s[t],t)},e.handleSelectEvent=function(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];Fu(e.props.onSelectEvent,s)},e.handleDoubleClickEvent=function(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];Fu(e.props.onDoubleClickEvent,s)},e.handleKeyPressEvent=function(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];Fu(e.props.onKeyPressEvent,s)},e.handleSelectSlot=function(t){Fu(e.props.onSelectSlot,t)},e.handleDrillDown=function(t,s){var a=e.props.onDrillDown;a?a(t,s,e.drilldownView):(s&&e.handleViewChange(s),e.handleNavigate(ou,t))},e.state={context:t.getContext(e.props)},e}return ni(t,e),Zl(t,[{key:"render",value:function(){var e=this.props,t=e.view,s=e.toolbar,r=e.events,n=e.backgroundEvents,l=e.resourceGroupingLayout,i=e.style,o=e.className,c=e.elementProps,d=e.date,u=e.getNow,m=e.length,x=e.showMultiDayTimes,h=e.onShowMore,p=e.doShowMoreDrillDown;e.components,e.formats,e.messages,e.culture;var g=Fe(e,sx);d=d||u();var f=this.getView(),b=this.state.context,v=b.accessors,y=b.components,j=b.getters,N=b.localizer,w=b.viewNames,_=y.toolbar||Lu,k=f.title(d,{localizer:N,length:m});return a.createElement("div",Object.assign({},c,{className:mi(o,"rbc-calendar",g.rtl&&"rbc-rtl"),style:i}),s&&a.createElement(_,{date:d,view:t,views:w,label:k,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:N}),a.createElement(f,Object.assign({},g,{events:r,backgroundEvents:n,date:d,getNow:u,length:m,localizer:N,getters:j,components:y,accessors:v,showMultiDayTimes:x,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:h,doShowMoreDrillDown:p,resourceGroupingLayout:l})))}}],[{key:"getDerivedStateFromProps",value:function(e){return{context:t.getContext(e)}}},{key:"getContext",value:function(e){var t=e.startAccessor,s=e.endAccessor,a=e.allDayAccessor,r=e.tooltipAccessor,n=e.titleAccessor,l=e.resourceAccessor,i=e.resourceIdAccessor,o=e.resourceTitleAccessor,c=e.eventIdAccessor,d=e.eventPropGetter,u=e.backgroundEventPropGetter,m=e.slotPropGetter,x=e.slotGroupPropGetter,h=e.dayPropGetter,p=e.view,g=e.views,f=e.localizer,b=e.culture,v=e.messages,y=void 0===v?{}:v,j=e.components,N=void 0===j?{}:j,w=e.formats,_=void 0===w?{}:w,k=ax(g);return{viewNames:k,localizer:Ru(f,b,_,function(e){return(0,Re.A)((0,Re.A)({},Ou),e)}(y)),getters:{eventProp:function(){return d&&d.apply(void 0,arguments)||{}},backgroundEventProp:function(){return u&&u.apply(void 0,arguments)||{}},slotProp:function(){return m&&m.apply(void 0,arguments)||{}},slotGroupProp:function(){return x&&x.apply(void 0,arguments)||{}},dayProp:function(){return h&&h.apply(void 0,arguments)||{}}},components:Jd()(N[p]||{},tu()(N,k),{eventWrapper:ru,backgroundEventWrapper:ru,eventContainerWrapper:ru,dateCellWrapper:ru,weekWrapper:ru,timeSlotWrapper:ru,timeGutterWrapper:ru,timeIndicatorWrapper:ru}),accessors:{start:ex(t),end:ex(s),allDay:ex(a),tooltip:ex(r),title:ex(n),resource:ex(l),resourceId:ex(i),resourceTitle:ex(o),eventId:ex(c)}}}}])}(a.Component);rx.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:cu.MONTH,views:[cu.MONTH,cu.WEEK,cu.DAY,cu.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:cu.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var nx=function e(t,s,r){void 0===r&&(r=[]);var n,l=t.displayName||t.name||"Component",i=!!(n=t)&&("function"!==typeof n||n.prototype&&n.prototype.isReactComponent),o=Object.keys(s),c=o.map(fi);!i&&r.length&&hi()(!1);var d=function(e){function n(){for(var t,a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];(t=e.call.apply(e,[this].concat(n))||this).handlers=Object.create(null),o.forEach(function(e){var a=s[e];t.handlers[a]=function(s){if(t.props[a]){var r;t._notifying=!0;for(var n=arguments.length,l=new Array(n>1?n-1:0),i=1;i<n;i++)l[i-1]=arguments[i];(r=t.props)[a].apply(r,[s].concat(l)),t._notifying=!1}t.unmounted||t.setState(function(t){var a,r=t.values;return{values:bi(Object.create(null),r,(a={},a[e]=s,a))}})}}),r.length&&(t.attachRef=function(e){t.inner=e});var i=Object.create(null);return o.forEach(function(e){i[e]=t.props[fi(e)]}),t.state={values:i,prevProps:{}},t}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ri(e,t)}(n,e);var l=n.prototype;return l.shouldComponentUpdate=function(){return!this._notifying},n.getDerivedStateFromProps=function(e,t){var s=t.values,a=t.prevProps,r={values:bi(Object.create(null),s),prevProps:{}};return o.forEach(function(t){r.prevProps[t]=e[t],!gi(e,t)&&gi(a,t)&&(r.values[t]=e[fi(t)])}),r},l.componentWillUnmount=function(){this.unmounted=!0},l.render=function(){var e=this,s=this.props,r=s.innerRef,n=Le(s,["innerRef"]);c.forEach(function(e){delete n[e]});var l={};return o.forEach(function(t){var s=e.props[t];l[t]=void 0!==s?s:e.state.values[t]}),a.createElement(t,bi({},n,l,this.handlers,{ref:r||this.attachRef}))},n}(a.Component);!function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var s=null,a=null,r=null;if("function"===typeof t.componentWillMount?s="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(s="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?r="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(r="UNSAFE_componentWillUpdate"),null!==s||null!==a||null!==r){var n=e.displayName||e.name,l="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+n+" uses "+l+" but also contains the following legacy lifecycles:"+(null!==s?"\n  "+s:"")+(null!==a?"\n  "+a:"")+(null!==r?"\n  "+r:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=vi,t.componentWillReceiveProps=yi),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=ji;var i=t.componentDidUpdate;t.componentDidUpdate=function(e,t,s){var a=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:s;i.call(this,e,t,a)}}}(d),d.displayName="Uncontrolled("+l+")",d.propTypes=bi({innerRef:function(){}},function(e){var t={};return Object.keys(e).forEach(function(e){t[fi(e)]=pi}),t}(s)),r.forEach(function(e){d.prototype[e]=function(){var t;return(t=this.inner)[e].apply(t,arguments)}});var u=d;return a.forwardRef&&((u=a.forwardRef(function(e,t){return a.createElement(d,bi({},e,{innerRef:t,__source:{fileName:"/Users/jquense/src/uncontrollable/src/uncontrollable.js",lineNumber:128},__self:this}))})).propTypes=d.propTypes),u.ControlledComponent=t,u.deferControlTo=function(t,a,r){return void 0===a&&(a={}),e(t,bi({},s,a),r)},u}(rx,{view:"onView",date:"onNavigate",selected:"onSelectEvent"});var lx=function(e,t,s){var a=e.start,r=e.end;return"".concat(s.format(a,"p",t)," \u2013 ").concat(s.format(r,"p",t))},ix={dateFormat:"dd",dayFormat:"dd eee",weekdayFormat:"ccc",selectRangeFormat:lx,eventTimeRangeFormat:lx,eventTimeRangeStartFormat:function(e,t,s){var a=e.start;return"".concat(s.format(a,"h:mma",t)," \u2013 ")},eventTimeRangeEndFormat:function(e,t,s){var a=e.end;return" \u2013 ".concat(s.format(a,"h:mma",t))},timeGutterFormat:"p",monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"cccc MMM dd",dayRangeHeaderFormat:function(e,t,s){var a=e.start,r=e.end;return"".concat(s.format(a,"MMMM dd",t)," \u2013 ").concat(s.format(r,Ui(a,r,"month")?"dd":"MMMM dd",t))},agendaHeaderFormat:function(e,t,s){var a=e.start,r=e.end;return"".concat(s.format(a,"P",t)," \u2013 ").concat(s.format(r,"P",t))},agendaDateFormat:"ccc MMM dd",agendaTimeFormat:"p",agendaTimeRangeFormat:lx},ox=function(e){var t=e.startOfWeek,s=e.getDay,a=e.format,r=e.locales;return new Mu({formats:ix,firstOfWeek:function(e){return s(t(new Date,{locale:r[e]}))},format:function(e,t,s){return a(new Date(e),t,{locale:r[s]})}})};const cx={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function dx(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const s=t.width?String(t.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const ux={date:dx({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:dx({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:dx({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},mx={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function xx(e){return(t,s)=>{let a;if("formatting"===(null!==s&&void 0!==s&&s.context?String(s.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,r=null!==s&&void 0!==s&&s.width?String(s.width):t;a=e.formattingValues[r]||e.formattingValues[t]}else{const t=e.defaultWidth,r=null!==s&&void 0!==s&&s.width?String(s.width):e.defaultWidth;a=e.values[r]||e.values[t]}return a[e.argumentCallback?e.argumentCallback(t):t]}}const hx={ordinalNumber:(e,t)=>{const s=Number(e),a=s%100;if(a>20||a<10)switch(a%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},era:xx({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:xx({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:xx({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:xx({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:xx({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function px(e){return function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=s.width,r=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],n=t.match(r);if(!n)return null;const l=n[0],i=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],o=Array.isArray(i)?function(e,t){for(let s=0;s<e.length;s++)if(t(e[s]))return s;return}(i,e=>e.test(l)):function(e,t){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return s;return}(i,e=>e.test(l));let c;c=e.valueCallback?e.valueCallback(o):o,c=s.valueCallback?s.valueCallback(c):c;return{value:c,rest:t.slice(l.length)}}}const gx={ordinalNumber:(fx={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=e.match(fx.matchPattern);if(!s)return null;const a=s[0],r=e.match(fx.parsePattern);if(!r)return null;let n=fx.valueCallback?fx.valueCallback(r[0]):r[0];return n=t.valueCallback?t.valueCallback(n):n,{value:n,rest:e.slice(a.length)}}),era:px({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:px({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:px({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:px({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:px({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};var fx;const bx={code:"en-US",formatDistance:(e,t,s)=>{let a;const r=cx[e];return a="string"===typeof r?r:1===t?r.one:r.other.replace("{{count}}",t.toString()),null!==s&&void 0!==s&&s.addSuffix?s.comparison&&s.comparison>0?"in "+a:a+" ago":a},formatLong:ux,formatRelative:(e,t,s,a)=>mx[e],localize:hx,match:gx,options:{weekStartsOn:0,firstWeekContainsDate:1}};let vx={};function yx(){return vx}Math.pow(10,8);const jx=6048e5,Nx=Symbol.for("constructDateFrom");function wx(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&Nx in e?e[Nx](t):e instanceof Date?new e.constructor(t):new Date(t)}function _x(e,t){return wx(t||e,e)}function kx(e){const t=_x(e),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+e-+s}function Sx(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),a=1;a<t;a++)s[a-1]=arguments[a];const r=wx.bind(null,e||s.find(e=>"object"===typeof e));return s.map(r)}function Cx(e,t){const s=_x(e,null===t||void 0===t?void 0:t.in);return s.setHours(0,0,0,0),s}function Ax(e,t,s){const[a,r]=Sx(null===s||void 0===s?void 0:s.in,e,t),n=Cx(a),l=Cx(r),i=+n-kx(n),o=+l-kx(l);return Math.round((i-o)/864e5)}function Ex(e,t){const s=_x(e,null===t||void 0===t?void 0:t.in);return s.setFullYear(s.getFullYear(),0,1),s.setHours(0,0,0,0),s}function Tx(e,t){const s=_x(e,null===t||void 0===t?void 0:t.in);return Ax(s,Ex(s))+1}function Px(e,t){var s,a,r,n,l,i;const o=yx(),c=null!==(s=null!==(a=null!==(r=null!==(n=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==n?n:null===t||void 0===t||null===(l=t.locale)||void 0===l||null===(l=l.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==r?r:o.weekStartsOn)&&void 0!==a?a:null===(i=o.locale)||void 0===i||null===(i=i.options)||void 0===i?void 0:i.weekStartsOn)&&void 0!==s?s:0,d=_x(e,null===t||void 0===t?void 0:t.in),u=d.getDay(),m=(u<c?7:0)+u-c;return d.setDate(d.getDate()-m),d.setHours(0,0,0,0),d}function Dx(e,t){return Px(e,(0,Re.A)((0,Re.A)({},t),{},{weekStartsOn:1}))}function Mx(e,t){const s=_x(e,null===t||void 0===t?void 0:t.in),a=s.getFullYear(),r=wx(s,0);r.setFullYear(a+1,0,4),r.setHours(0,0,0,0);const n=Dx(r),l=wx(s,0);l.setFullYear(a,0,4),l.setHours(0,0,0,0);const i=Dx(l);return s.getTime()>=n.getTime()?a+1:s.getTime()>=i.getTime()?a:a-1}function Rx(e,t){const s=Mx(e,t),a=wx((null===t||void 0===t?void 0:t.in)||e,0);return a.setFullYear(s,0,4),a.setHours(0,0,0,0),Dx(a)}function Lx(e,t){const s=_x(e,null===t||void 0===t?void 0:t.in),a=+Dx(s)-+Rx(s);return Math.round(a/jx)+1}function Fx(e,t){var s,a,r,n,l,i;const o=_x(e,null===t||void 0===t?void 0:t.in),c=o.getFullYear(),d=yx(),u=null!==(s=null!==(a=null!==(r=null!==(n=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==n?n:null===t||void 0===t||null===(l=t.locale)||void 0===l||null===(l=l.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==r?r:d.firstWeekContainsDate)&&void 0!==a?a:null===(i=d.locale)||void 0===i||null===(i=i.options)||void 0===i?void 0:i.firstWeekContainsDate)&&void 0!==s?s:1,m=wx((null===t||void 0===t?void 0:t.in)||e,0);m.setFullYear(c+1,0,u),m.setHours(0,0,0,0);const x=Px(m,t),h=wx((null===t||void 0===t?void 0:t.in)||e,0);h.setFullYear(c,0,u),h.setHours(0,0,0,0);const p=Px(h,t);return+o>=+x?c+1:+o>=+p?c:c-1}function Ox(e,t){var s,a,r,n,l,i;const o=yx(),c=null!==(s=null!==(a=null!==(r=null!==(n=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==n?n:null===t||void 0===t||null===(l=t.locale)||void 0===l||null===(l=l.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==r?r:o.firstWeekContainsDate)&&void 0!==a?a:null===(i=o.locale)||void 0===i||null===(i=i.options)||void 0===i?void 0:i.firstWeekContainsDate)&&void 0!==s?s:1,d=Fx(e,t),u=wx((null===t||void 0===t?void 0:t.in)||e,0);u.setFullYear(d,0,c),u.setHours(0,0,0,0);return Px(u,t)}function Ix(e,t){const s=_x(e,null===t||void 0===t?void 0:t.in),a=+Px(s,t)-+Ox(s,t);return Math.round(a/jx)+1}function zx(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const Bx={y(e,t){const s=e.getFullYear(),a=s>0?s:1-s;return zx("yy"===t?a%100:a,t.length)},M(e,t){const s=e.getMonth();return"M"===t?String(s+1):zx(s+1,2)},d:(e,t)=>zx(e.getDate(),t.length),a(e,t){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];default:return"am"===s?"a.m.":"p.m."}},h:(e,t)=>zx(e.getHours()%12||12,t.length),H:(e,t)=>zx(e.getHours(),t.length),m:(e,t)=>zx(e.getMinutes(),t.length),s:(e,t)=>zx(e.getSeconds(),t.length),S(e,t){const s=t.length,a=e.getMilliseconds();return zx(Math.trunc(a*Math.pow(10,s-3)),t.length)}},Ux="midnight",Hx="noon",Wx="morning",qx="afternoon",Vx="evening",Gx="night",Yx={G:function(e,t,s){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(a,{width:"abbreviated"});case"GGGGG":return s.era(a,{width:"narrow"});default:return s.era(a,{width:"wide"})}},y:function(e,t,s){if("yo"===t){const t=e.getFullYear(),a=t>0?t:1-t;return s.ordinalNumber(a,{unit:"year"})}return Bx.y(e,t)},Y:function(e,t,s,a){const r=Fx(e,a),n=r>0?r:1-r;if("YY"===t){return zx(n%100,2)}return"Yo"===t?s.ordinalNumber(n,{unit:"year"}):zx(n,t.length)},R:function(e,t){return zx(Mx(e),t.length)},u:function(e,t){return zx(e.getFullYear(),t.length)},Q:function(e,t,s){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return zx(a,2);case"Qo":return s.ordinalNumber(a,{unit:"quarter"});case"QQQ":return s.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(a,{width:"narrow",context:"formatting"});default:return s.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,s){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return zx(a,2);case"qo":return s.ordinalNumber(a,{unit:"quarter"});case"qqq":return s.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(a,{width:"narrow",context:"standalone"});default:return s.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,s){const a=e.getMonth();switch(t){case"M":case"MM":return Bx.M(e,t);case"Mo":return s.ordinalNumber(a+1,{unit:"month"});case"MMM":return s.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(a,{width:"narrow",context:"formatting"});default:return s.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,s){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return zx(a+1,2);case"Lo":return s.ordinalNumber(a+1,{unit:"month"});case"LLL":return s.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(a,{width:"narrow",context:"standalone"});default:return s.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,s,a){const r=Ix(e,a);return"wo"===t?s.ordinalNumber(r,{unit:"week"}):zx(r,t.length)},I:function(e,t,s){const a=Lx(e);return"Io"===t?s.ordinalNumber(a,{unit:"week"}):zx(a,t.length)},d:function(e,t,s){return"do"===t?s.ordinalNumber(e.getDate(),{unit:"date"}):Bx.d(e,t)},D:function(e,t,s){const a=Tx(e);return"Do"===t?s.ordinalNumber(a,{unit:"dayOfYear"}):zx(a,t.length)},E:function(e,t,s){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return s.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(a,{width:"short",context:"formatting"});default:return s.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,s,a){const r=e.getDay(),n=(r-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(n);case"ee":return zx(n,2);case"eo":return s.ordinalNumber(n,{unit:"day"});case"eee":return s.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(r,{width:"short",context:"formatting"});default:return s.day(r,{width:"wide",context:"formatting"})}},c:function(e,t,s,a){const r=e.getDay(),n=(r-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(n);case"cc":return zx(n,t.length);case"co":return s.ordinalNumber(n,{unit:"day"});case"ccc":return s.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(r,{width:"narrow",context:"standalone"});case"cccccc":return s.day(r,{width:"short",context:"standalone"});default:return s.day(r,{width:"wide",context:"standalone"})}},i:function(e,t,s){const a=e.getDay(),r=0===a?7:a;switch(t){case"i":return String(r);case"ii":return zx(r,t.length);case"io":return s.ordinalNumber(r,{unit:"day"});case"iii":return s.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(a,{width:"short",context:"formatting"});default:return s.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,s){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(a,{width:"narrow",context:"formatting"});default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,s){const a=e.getHours();let r;switch(r=12===a?Hx:0===a?Ux:a/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(r,{width:"narrow",context:"formatting"});default:return s.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,s){const a=e.getHours();let r;switch(r=a>=17?Vx:a>=12?qx:a>=4?Wx:Gx,t){case"B":case"BB":case"BBB":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(r,{width:"narrow",context:"formatting"});default:return s.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,s){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),s.ordinalNumber(t,{unit:"hour"})}return Bx.h(e,t)},H:function(e,t,s){return"Ho"===t?s.ordinalNumber(e.getHours(),{unit:"hour"}):Bx.H(e,t)},K:function(e,t,s){const a=e.getHours()%12;return"Ko"===t?s.ordinalNumber(a,{unit:"hour"}):zx(a,t.length)},k:function(e,t,s){let a=e.getHours();return 0===a&&(a=24),"ko"===t?s.ordinalNumber(a,{unit:"hour"}):zx(a,t.length)},m:function(e,t,s){return"mo"===t?s.ordinalNumber(e.getMinutes(),{unit:"minute"}):Bx.m(e,t)},s:function(e,t,s){return"so"===t?s.ordinalNumber(e.getSeconds(),{unit:"second"}):Bx.s(e,t)},S:function(e,t){return Bx.S(e,t)},X:function(e,t,s){const a=e.getTimezoneOffset();if(0===a)return"Z";switch(t){case"X":return Qx(a);case"XXXX":case"XX":return Kx(a);default:return Kx(a,":")}},x:function(e,t,s){const a=e.getTimezoneOffset();switch(t){case"x":return Qx(a);case"xxxx":case"xx":return Kx(a);default:return Kx(a,":")}},O:function(e,t,s){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+$x(a,":");default:return"GMT"+Kx(a,":")}},z:function(e,t,s){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+$x(a,":");default:return"GMT"+Kx(a,":")}},t:function(e,t,s){return zx(Math.trunc(+e/1e3),t.length)},T:function(e,t,s){return zx(+e,t.length)}};function $x(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const s=e>0?"-":"+",a=Math.abs(e),r=Math.trunc(a/60),n=a%60;return 0===n?s+String(r):s+String(r)+t+zx(n,2)}function Qx(e,t){if(e%60===0){return(e>0?"-":"+")+zx(Math.abs(e)/60,2)}return Kx(e,t)}function Kx(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const s=e>0?"-":"+",a=Math.abs(e);return s+zx(Math.trunc(a/60),2)+t+zx(a%60,2)}const Jx=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Xx=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Zx={p:Xx,P:(e,t)=>{const s=e.match(/(P+)(p+)?/)||[],a=s[1],r=s[2];if(!r)return Jx(e,t);let n;switch(a){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",Jx(a,t)).replace("{{time}}",Xx(r,t))}},eh=/^D+$/,th=/^Y+$/,sh=["D","DD","YY","YYYY"];function ah(e){return eh.test(e)}function rh(e){return th.test(e)}function nh(e,t,s){const a=function(e,t,s){const a="Y"===e[0]?"years":"days of the month";return"Use `".concat(e.toLowerCase(),"` instead of `").concat(e,"` (in `").concat(t,"`) for formatting ").concat(a," to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md")}(e,t,s);if(console.warn(a),sh.includes(e))throw new RangeError(a)}function lh(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function ih(e){return!(!lh(e)&&"number"!==typeof e||isNaN(+_x(e)))}const oh=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ch=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,dh=/^'([^]*?)'?$/,uh=/''/g,mh=/[a-zA-Z]/;function xh(e,t,s){var a,r,n,l,i,o,c,d,u,m,x,h,p,g;const f=yx(),b=null!==(a=null!==(r=null===s||void 0===s?void 0:s.locale)&&void 0!==r?r:f.locale)&&void 0!==a?a:bx,v=null!==(n=null!==(l=null!==(i=null!==(o=null===s||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==o?o:null===s||void 0===s||null===(c=s.locale)||void 0===c||null===(c=c.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==i?i:f.firstWeekContainsDate)&&void 0!==l?l:null===(d=f.locale)||void 0===d||null===(d=d.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==n?n:1,y=null!==(u=null!==(m=null!==(x=null!==(h=null===s||void 0===s?void 0:s.weekStartsOn)&&void 0!==h?h:null===s||void 0===s||null===(p=s.locale)||void 0===p||null===(p=p.options)||void 0===p?void 0:p.weekStartsOn)&&void 0!==x?x:f.weekStartsOn)&&void 0!==m?m:null===(g=f.locale)||void 0===g||null===(g=g.options)||void 0===g?void 0:g.weekStartsOn)&&void 0!==u?u:0,j=_x(e,null===s||void 0===s?void 0:s.in);if(!ih(j))throw new RangeError("Invalid time value");let N=t.match(ch).map(e=>{const t=e[0];if("p"===t||"P"===t){return(0,Zx[t])(e,b.formatLong)}return e}).join("").match(oh).map(e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:hh(e)};if(Yx[t])return{isToken:!0,value:e};if(t.match(mh))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});b.localize.preprocessor&&(N=b.localize.preprocessor(j,N));const w={firstWeekContainsDate:v,weekStartsOn:y,locale:b};return N.map(a=>{if(!a.isToken)return a.value;const r=a.value;(null!==s&&void 0!==s&&s.useAdditionalWeekYearTokens||!rh(r))&&(null!==s&&void 0!==s&&s.useAdditionalDayOfYearTokens||!ah(r))||nh(r,t,String(e));return(0,Yx[r[0]])(j,r,b.localize,w)}).join("")}function hh(e){const t=e.match(dh);return t?t[1].replace(uh,"'"):e}function ph(){return Object.assign({},yx())}function gh(e,t){const s=function(e){var t;return"function"===typeof e&&(null===(t=e.prototype)||void 0===t?void 0:t.constructor)===e}(t)?new t(0):wx(t,0);return s.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),s.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),s}class fh{constructor(){(0,uo.A)(this,"subPriority",0)}validate(e,t){return!0}}class bh extends fh{constructor(e,t,s,a,r){super(),this.value=e,this.validateValue=t,this.setValue=s,this.priority=a,r&&(this.subPriority=r)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,s){return this.setValue(e,t,this.value,s)}}class vh extends fh{constructor(e,t){super(),(0,uo.A)(this,"priority",10),(0,uo.A)(this,"subPriority",-1),this.context=e||(e=>wx(t,e))}set(e,t){return t.timestampIsSet?e:wx(e,gh(e,this.context))}}class yh{run(e,t,s,a){const r=this.parse(e,t,s,a);return r?{setter:new bh(r.value,this.validate,this.set,this.priority,this.subPriority),rest:r.rest}:null}validate(e,t,s){return!0}}const jh=/^(1[0-2]|0?\d)/,Nh=/^(3[0-1]|[0-2]?\d)/,wh=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,_h=/^(5[0-3]|[0-4]?\d)/,kh=/^(2[0-3]|[0-1]?\d)/,Sh=/^(2[0-4]|[0-1]?\d)/,Ch=/^(1[0-1]|0?\d)/,Ah=/^(1[0-2]|0?\d)/,Eh=/^[0-5]?\d/,Th=/^[0-5]?\d/,Ph=/^\d/,Dh=/^\d{1,2}/,Mh=/^\d{1,3}/,Rh=/^\d{1,4}/,Lh=/^-?\d+/,Fh=/^-?\d/,Oh=/^-?\d{1,2}/,Ih=/^-?\d{1,3}/,zh=/^-?\d{1,4}/,Bh=/^([+-])(\d{2})(\d{2})?|Z/,Uh=/^([+-])(\d{2})(\d{2})|Z/,Hh=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,Wh=/^([+-])(\d{2}):(\d{2})|Z/,qh=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function Vh(e,t){return e?{value:t(e.value),rest:e.rest}:e}function Gh(e,t){const s=t.match(e);return s?{value:parseInt(s[0],10),rest:t.slice(s[0].length)}:null}function Yh(e,t){const s=t.match(e);if(!s)return null;if("Z"===s[0])return{value:0,rest:t.slice(1)};return{value:("+"===s[1]?1:-1)*(36e5*(s[2]?parseInt(s[2],10):0)+6e4*(s[3]?parseInt(s[3],10):0)+1e3*(s[5]?parseInt(s[5],10):0)),rest:t.slice(s[0].length)}}function $h(e){return Gh(Lh,e)}function Qh(e,t){switch(e){case 1:return Gh(Ph,t);case 2:return Gh(Dh,t);case 3:return Gh(Mh,t);case 4:return Gh(Rh,t);default:return Gh(new RegExp("^\\d{1,"+e+"}"),t)}}function Kh(e,t){switch(e){case 1:return Gh(Fh,t);case 2:return Gh(Oh,t);case 3:return Gh(Ih,t);case 4:return Gh(zh,t);default:return Gh(new RegExp("^-?\\d{1,"+e+"}"),t)}}function Jh(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function Xh(e,t){const s=t>0,a=s?t:1-t;let r;if(a<=50)r=e||100;else{const t=a+50;r=e+100*Math.trunc(t/100)-(e>=t%100?100:0)}return s?r:1-r}function Zh(e){return e%400===0||e%4===0&&e%100!==0}function ep(e,t,s){const a=_x(e,null===s||void 0===s?void 0:s.in),r=Ix(a,s)-t;return a.setDate(a.getDate()-7*r),_x(a,null===s||void 0===s?void 0:s.in)}function tp(e,t,s){const a=_x(e,null===s||void 0===s?void 0:s.in),r=Lx(a,s)-t;return a.setDate(a.getDate()-7*r),a}const sp=[31,28,31,30,31,30,31,31,30,31,30,31],ap=[31,29,31,30,31,30,31,31,30,31,30,31];function rp(e,t,s){const a=_x(e,null===s||void 0===s?void 0:s.in);return isNaN(t)?wx((null===s||void 0===s?void 0:s.in)||e,NaN):t?(a.setDate(a.getDate()+t),a):a}function np(e,t,s){var a,r,n,l,i,o;const c=yx(),d=null!==(a=null!==(r=null!==(n=null!==(l=null===s||void 0===s?void 0:s.weekStartsOn)&&void 0!==l?l:null===s||void 0===s||null===(i=s.locale)||void 0===i||null===(i=i.options)||void 0===i?void 0:i.weekStartsOn)&&void 0!==n?n:c.weekStartsOn)&&void 0!==r?r:null===(o=c.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.weekStartsOn)&&void 0!==a?a:0,u=_x(e,null===s||void 0===s?void 0:s.in),m=u.getDay(),x=7-d;return rp(u,t<0||t>6?t-(m+x)%7:((t%7+7)%7+x)%7-(m+x)%7,s)}function lp(e,t){const s=_x(e,null===t||void 0===t?void 0:t.in).getDay();return 0===s?7:s}function ip(e,t,s){const a=_x(e,null===s||void 0===s?void 0:s.in);return rp(a,t-lp(a,s),s)}const op={G:new class extends yh{constructor(){super(...arguments),(0,uo.A)(this,"priority",140),(0,uo.A)(this,"incompatibleTokens",["R","u","t","T"])}parse(e,t,s){switch(t){case"G":case"GG":case"GGG":return s.era(e,{width:"abbreviated"})||s.era(e,{width:"narrow"});case"GGGGG":return s.era(e,{width:"narrow"});default:return s.era(e,{width:"wide"})||s.era(e,{width:"abbreviated"})||s.era(e,{width:"narrow"})}}set(e,t,s){return t.era=s,e.setFullYear(s,0,1),e.setHours(0,0,0,0),e}},y:new class extends yh{constructor(){super(...arguments),(0,uo.A)(this,"priority",130),(0,uo.A)(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(e,t,s){const a=e=>({year:e,isTwoDigitYear:"yy"===t});switch(t){case"y":return Vh(Qh(4,e),a);case"yo":return Vh(s.ordinalNumber(e,{unit:"year"}),a);default:return Vh(Qh(t.length,e),a)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,s){const a=e.getFullYear();if(s.isTwoDigitYear){const t=Xh(s.year,a);return e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}const r="era"in t&&1!==t.era?1-s.year:s.year;return e.setFullYear(r,0,1),e.setHours(0,0,0,0),e}},Y:new class extends yh{constructor(){super(...arguments),(0,uo.A)(this,"priority",130),(0,uo.A)(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(e,t,s){const a=e=>({year:e,isTwoDigitYear:"YY"===t});switch(t){case"Y":return Vh(Qh(4,e),a);case"Yo":return Vh(s.ordinalNumber(e,{unit:"year"}),a);default:return Vh(Qh(t.length,e),a)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,s,a){const r=Fx(e,a);if(s.isTwoDigitYear){const t=Xh(s.year,r);return e.setFullYear(t,0,a.firstWeekContainsDate),e.setHours(0,0,0,0),Px(e,a)}const n="era"in t&&1!==t.era?1-s.year:s.year;return e.setFullYear(n,0,a.firstWeekContainsDate),e.setHours(0,0,0,0),Px(e,a)}},R:new class extends yh{constructor(){super(...arguments),(0,uo.A)(this,"priority",130),(0,uo.A)(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(e,t){return Kh("R"===t?4:t.length,e)}set(e,t,s){const a=wx(e,0);return a.setFullYear(s,0,4),a.setHours(0,0,0,0),Dx(a)}},u:new class extends yh{constructor(){super(...arguments),(0,uo.A)(this,"priority",130),(0,uo.A)(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(e,t){return Kh("u"===t?4:t.length,e)}set(e,t,s){return e.setFullYear(s,0,1),e.setHours(0,0,0,0),e}},Q:new class extends yh{constructor(){super(...arguments),(0,uo.A)(this,"priority",120),(0,uo.A)(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,t,s){switch(t){case"Q":case"QQ":return Qh(t.length,e);case"Qo":return s.ordinalNumber(e,{unit:"quarter"});case"QQQ":return s.quarter(e,{width:"abbreviated",context:"formatting"})||s.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(e,{width:"narrow",context:"formatting"});default:return s.quarter(e,{width:"wide",context:"formatting"})||s.quarter(e,{width:"abbreviated",context:"formatting"})||s.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,s){return e.setMonth(3*(s-1),1),e.setHours(0,0,0,0),e}},q:new class extends yh{constructor(){super(...arguments),(0,uo.A)(this,"priority",120),(0,uo.A)(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,t,s){switch(t){case"q":case"qq":return Qh(t.length,e);case"qo":return s.ordinalNumber(e,{unit:"quarter"});case"qqq":return s.quarter(e,{width:"abbreviated",context:"standalone"})||s.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(e,{width:"narrow",context:"standalone"});default:return s.quarter(e,{width:"wide",context:"standalone"})||s.quarter(e,{width:"abbreviated",context:"standalone"})||s.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,s){return e.setMonth(3*(s-1),1),e.setHours(0,0,0,0),e}},M:new class extends yh{constructor(){super(...arguments),(0,uo.A)(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),(0,uo.A)(this,"priority",110)}parse(e,t,s){const a=e=>e-1;switch(t){case"M":return Vh(Gh(jh,e),a);case"MM":return Vh(Qh(2,e),a);case"Mo":return Vh(s.ordinalNumber(e,{unit:"month"}),a);case"MMM":return s.month(e,{width:"abbreviated",context:"formatting"})||s.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(e,{width:"narrow",context:"formatting"});default:return s.month(e,{width:"wide",context:"formatting"})||s.month(e,{width:"abbreviated",context:"formatting"})||s.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,s){return e.setMonth(s,1),e.setHours(0,0,0,0),e}},L:new class extends yh{constructor(){super(...arguments),(0,uo.A)(this,"priority",110),(0,uo.A)(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(e,t,s){const a=e=>e-1;switch(t){case"L":return Vh(Gh(jh,e),a);case"LL":return Vh(Qh(2,e),a);case"Lo":return Vh(s.ordinalNumber(e,{unit:"month"}),a);case"LLL":return s.month(e,{width:"abbreviated",context:"standalone"})||s.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(e,{width:"narrow",context:"standalone"});default:return s.month(e,{width:"wide",context:"standalone"})||s.month(e,{width:"abbreviated",context:"standalone"})||s.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,s){return e.setMonth(s,1),e.setHours(0,0,0,0),e}},w:new class extends yh{constructor(){super(...arguments),(0,uo.A)(this,"priority",100),(0,uo.A)(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(e,t,s){switch(t){case"w":return Gh(_h,e);case"wo":return s.ordinalNumber(e,{unit:"week"});default:return Qh(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,s,a){return Px(ep(e,s,a),a)}},I:new class extends yh{constructor(){super(...arguments),(0,uo.A)(this,"priority",100),(0,uo.A)(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(e,t,s){switch(t){case"I":return Gh(_h,e);case"Io":return s.ordinalNumber(e,{unit:"week"});default:return Qh(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,s){return Dx(tp(e,s))}},d:new class extends yh{constructor(){super(...arguments),(0,uo.A)(this,"priority",90),(0,uo.A)(this,"subPriority",1),(0,uo.A)(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(e,t,s){switch(t){case"d":return Gh(Nh,e);case"do":return s.ordinalNumber(e,{unit:"date"});default:return Qh(t.length,e)}}validate(e,t){const s=Zh(e.getFullYear()),a=e.getMonth();return s?t>=1&&t<=ap[a]:t>=1&&t<=sp[a]}set(e,t,s){return e.setDate(s),e.setHours(0,0,0,0),e}},D:new class extends yh{constructor(){super(...arguments),(0,uo.A)(this,"priority",90),(0,uo.A)(this,"subpriority",1),(0,uo.A)(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(e,t,s){switch(t){case"D":case"DD":return Gh(wh,e);case"Do":return s.ordinalNumber(e,{unit:"date"});default:return Qh(t.length,e)}}validate(e,t){return Zh(e.getFullYear())?t>=1&&t<=366:t>=1&&t<=365}set(e,t,s){return e.setMonth(0,s),e.setHours(0,0,0,0),e}},E:new class extends yh{constructor(){super(...arguments),(0,uo.A)(this,"priority",90),(0,uo.A)(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(e,t,s){switch(t){case"E":case"EE":case"EEE":return s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"});default:return s.day(e,{width:"wide",context:"formatting"})||s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,s,a){return(e=np(e,s,a)).setHours(0,0,0,0),e}},e:new class extends yh{constructor(){super(...arguments),(0,uo.A)(this,"priority",90),(0,uo.A)(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(e,t,s,a){const r=e=>{const t=7*Math.floor((e-1)/7);return(e+a.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return Vh(Qh(t.length,e),r);case"eo":return Vh(s.ordinalNumber(e,{unit:"day"}),r);case"eee":return s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"});case"eeeee":return s.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"});default:return s.day(e,{width:"wide",context:"formatting"})||s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,s,a){return(e=np(e,s,a)).setHours(0,0,0,0),e}},c:new class extends yh{constructor(){super(...arguments),(0,uo.A)(this,"priority",90),(0,uo.A)(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(e,t,s,a){const r=e=>{const t=7*Math.floor((e-1)/7);return(e+a.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return Vh(Qh(t.length,e),r);case"co":return Vh(s.ordinalNumber(e,{unit:"day"}),r);case"ccc":return s.day(e,{width:"abbreviated",context:"standalone"})||s.day(e,{width:"short",context:"standalone"})||s.day(e,{width:"narrow",context:"standalone"});case"ccccc":return s.day(e,{width:"narrow",context:"standalone"});case"cccccc":return s.day(e,{width:"short",context:"standalone"})||s.day(e,{width:"narrow",context:"standalone"});default:return s.day(e,{width:"wide",context:"standalone"})||s.day(e,{width:"abbreviated",context:"standalone"})||s.day(e,{width:"short",context:"standalone"})||s.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,s,a){return(e=np(e,s,a)).setHours(0,0,0,0),e}},i:new class extends yh{constructor(){super(...arguments),(0,uo.A)(this,"priority",90),(0,uo.A)(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(e,t,s){const a=e=>0===e?7:e;switch(t){case"i":case"ii":return Qh(t.length,e);case"io":return s.ordinalNumber(e,{unit:"day"});case"iii":return Vh(s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"}),a);case"iiiii":return Vh(s.day(e,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Vh(s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"}),a);default:return Vh(s.day(e,{width:"wide",context:"formatting"})||s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"}),a)}}validate(e,t){return t>=1&&t<=7}set(e,t,s){return(e=ip(e,s)).setHours(0,0,0,0),e}},a:new class extends yh{constructor(){super(...arguments),(0,uo.A)(this,"priority",80),(0,uo.A)(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(e,t,s){switch(t){case"a":case"aa":case"aaa":return s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(e,{width:"narrow",context:"formatting"});default:return s.dayPeriod(e,{width:"wide",context:"formatting"})||s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,s){return e.setHours(Jh(s),0,0,0),e}},b:new class extends yh{constructor(){super(...arguments),(0,uo.A)(this,"priority",80),(0,uo.A)(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(e,t,s){switch(t){case"b":case"bb":case"bbb":return s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(e,{width:"narrow",context:"formatting"});default:return s.dayPeriod(e,{width:"wide",context:"formatting"})||s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,s){return e.setHours(Jh(s),0,0,0),e}},B:new class extends yh{constructor(){super(...arguments),(0,uo.A)(this,"priority",80),(0,uo.A)(this,"incompatibleTokens",["a","b","t","T"])}parse(e,t,s){switch(t){case"B":case"BB":case"BBB":return s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(e,{width:"narrow",context:"formatting"});default:return s.dayPeriod(e,{width:"wide",context:"formatting"})||s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,s){return e.setHours(Jh(s),0,0,0),e}},h:new class extends yh{constructor(){super(...arguments),(0,uo.A)(this,"priority",70),(0,uo.A)(this,"incompatibleTokens",["H","K","k","t","T"])}parse(e,t,s){switch(t){case"h":return Gh(Ah,e);case"ho":return s.ordinalNumber(e,{unit:"hour"});default:return Qh(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,s){const a=e.getHours()>=12;return a&&s<12?e.setHours(s+12,0,0,0):a||12!==s?e.setHours(s,0,0,0):e.setHours(0,0,0,0),e}},H:new class extends yh{constructor(){super(...arguments),(0,uo.A)(this,"priority",70),(0,uo.A)(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(e,t,s){switch(t){case"H":return Gh(kh,e);case"Ho":return s.ordinalNumber(e,{unit:"hour"});default:return Qh(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,s){return e.setHours(s,0,0,0),e}},K:new class extends yh{constructor(){super(...arguments),(0,uo.A)(this,"priority",70),(0,uo.A)(this,"incompatibleTokens",["h","H","k","t","T"])}parse(e,t,s){switch(t){case"K":return Gh(Ch,e);case"Ko":return s.ordinalNumber(e,{unit:"hour"});default:return Qh(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,s){return e.getHours()>=12&&s<12?e.setHours(s+12,0,0,0):e.setHours(s,0,0,0),e}},k:new class extends yh{constructor(){super(...arguments),(0,uo.A)(this,"priority",70),(0,uo.A)(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(e,t,s){switch(t){case"k":return Gh(Sh,e);case"ko":return s.ordinalNumber(e,{unit:"hour"});default:return Qh(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,s){const a=s<=24?s%24:s;return e.setHours(a,0,0,0),e}},m:new class extends yh{constructor(){super(...arguments),(0,uo.A)(this,"priority",60),(0,uo.A)(this,"incompatibleTokens",["t","T"])}parse(e,t,s){switch(t){case"m":return Gh(Eh,e);case"mo":return s.ordinalNumber(e,{unit:"minute"});default:return Qh(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,s){return e.setMinutes(s,0,0),e}},s:new class extends yh{constructor(){super(...arguments),(0,uo.A)(this,"priority",50),(0,uo.A)(this,"incompatibleTokens",["t","T"])}parse(e,t,s){switch(t){case"s":return Gh(Th,e);case"so":return s.ordinalNumber(e,{unit:"second"});default:return Qh(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,s){return e.setSeconds(s,0),e}},S:new class extends yh{constructor(){super(...arguments),(0,uo.A)(this,"priority",30),(0,uo.A)(this,"incompatibleTokens",["t","T"])}parse(e,t){return Vh(Qh(t.length,e),e=>Math.trunc(e*Math.pow(10,3-t.length)))}set(e,t,s){return e.setMilliseconds(s),e}},X:new class extends yh{constructor(){super(...arguments),(0,uo.A)(this,"priority",10),(0,uo.A)(this,"incompatibleTokens",["t","T","x"])}parse(e,t){switch(t){case"X":return Yh(Bh,e);case"XX":return Yh(Uh,e);case"XXXX":return Yh(Hh,e);case"XXXXX":return Yh(qh,e);default:return Yh(Wh,e)}}set(e,t,s){return t.timestampIsSet?e:wx(e,e.getTime()-kx(e)-s)}},x:new class extends yh{constructor(){super(...arguments),(0,uo.A)(this,"priority",10),(0,uo.A)(this,"incompatibleTokens",["t","T","X"])}parse(e,t){switch(t){case"x":return Yh(Bh,e);case"xx":return Yh(Uh,e);case"xxxx":return Yh(Hh,e);case"xxxxx":return Yh(qh,e);default:return Yh(Wh,e)}}set(e,t,s){return t.timestampIsSet?e:wx(e,e.getTime()-kx(e)-s)}},t:new class extends yh{constructor(){super(...arguments),(0,uo.A)(this,"priority",40),(0,uo.A)(this,"incompatibleTokens","*")}parse(e){return $h(e)}set(e,t,s){return[wx(e,1e3*s),{timestampIsSet:!0}]}},T:new class extends yh{constructor(){super(...arguments),(0,uo.A)(this,"priority",20),(0,uo.A)(this,"incompatibleTokens","*")}parse(e){return $h(e)}set(e,t,s){return[wx(e,s),{timestampIsSet:!0}]}}},cp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,dp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,up=/^'([^]*?)'?$/,mp=/''/g,xp=/\S/,hp=/[a-zA-Z]/;function pp(e,t,s,a){var r,n,l,i,o,c,d,u,m,x,h,p,g,f;const b=()=>wx((null===a||void 0===a?void 0:a.in)||s,NaN),v=ph(),y=null!==(r=null!==(n=null===a||void 0===a?void 0:a.locale)&&void 0!==n?n:v.locale)&&void 0!==r?r:bx,j=null!==(l=null!==(i=null!==(o=null!==(c=null===a||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==c?c:null===a||void 0===a||null===(d=a.locale)||void 0===d||null===(d=d.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==o?o:v.firstWeekContainsDate)&&void 0!==i?i:null===(u=v.locale)||void 0===u||null===(u=u.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==l?l:1,N=null!==(m=null!==(x=null!==(h=null!==(p=null===a||void 0===a?void 0:a.weekStartsOn)&&void 0!==p?p:null===a||void 0===a||null===(g=a.locale)||void 0===g||null===(g=g.options)||void 0===g?void 0:g.weekStartsOn)&&void 0!==h?h:v.weekStartsOn)&&void 0!==x?x:null===(f=v.locale)||void 0===f||null===(f=f.options)||void 0===f?void 0:f.weekStartsOn)&&void 0!==m?m:0;if(!t)return e?b():_x(s,null===a||void 0===a?void 0:a.in);const w={firstWeekContainsDate:j,weekStartsOn:N,locale:y},_=[new vh(null===a||void 0===a?void 0:a.in,s)],k=t.match(dp).map(e=>{const t=e[0];if(t in Zx){return(0,Zx[t])(e,y.formatLong)}return e}).join("").match(cp),S=[];for(let T of k){null!==a&&void 0!==a&&a.useAdditionalWeekYearTokens||!rh(T)||nh(T,t,e),null!==a&&void 0!==a&&a.useAdditionalDayOfYearTokens||!ah(T)||nh(T,t,e);const s=T[0],r=op[s];if(r){const{incompatibleTokens:t}=r;if(Array.isArray(t)){const e=S.find(e=>t.includes(e.token)||e.token===s);if(e)throw new RangeError("The format string mustn't contain `".concat(e.fullToken,"` and `").concat(T,"` at the same time"))}else if("*"===r.incompatibleTokens&&S.length>0)throw new RangeError("The format string mustn't contain `".concat(T,"` and any other token at the same time"));S.push({token:s,fullToken:T});const a=r.run(e,T,y.match,w);if(!a)return b();_.push(a.setter),e=a.rest}else{if(s.match(hp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+s+"`");if("''"===T?T="'":"'"===s&&(T=gp(T)),0!==e.indexOf(T))return b();e=e.slice(T.length)}}if(e.length>0&&xp.test(e))return b();const C=_.map(e=>e.priority).sort((e,t)=>t-e).filter((e,t,s)=>s.indexOf(e)===t).map(e=>_.filter(t=>t.priority===e).sort((e,t)=>t.subPriority-e.subPriority)).map(e=>e[0]);let A=_x(s,null===a||void 0===a?void 0:a.in);if(isNaN(+A))return b();const E={};for(const T of C){if(!T.validate(A,w))return b();const e=T.set(A,E,w);Array.isArray(e)?(A=e[0],Object.assign(E,e[1])):A=e}return A}function gp(e){return e.match(up)[1].replace(mp,"'")}function fp(e,t){return _x(e,null===t||void 0===t?void 0:t.in).getDay()}function bp(e,t,s){const a=_x(e,null===s||void 0===s?void 0:s.in);return a.setMinutes(t),a}function vp(e,t,s){const a=_x(e,null===s||void 0===s?void 0:s.in);return a.setHours(t),a}function yp(e,t,s){const[a,r]=Sx(null===s||void 0===s?void 0:s.in,e,t);return+Cx(a)===+Cx(r)}const jp=ox({format:xh,parse:pp,startOfWeek:Px,getDay:fp,locales:{"en-US":s(8392)}}),Np=e=>{let{teamId:t,leagueId:s}=e;const{user:r}=mt(),n=Z(),[l,i]=(0,a.useState)([]),[o,c]=(0,a.useState)(null),[d,u]=(0,a.useState)([]),[m,x]=(0,a.useState)([]),[h,p]=(0,a.useState)([]),[g,f]=(0,a.useState)(!0),[b,v]=(0,a.useState)(!1),[y,j]=(0,a.useState)(!1),[N,w]=(0,a.useState)([]),[_,k]=(0,a.useState)(""),[S,C]=(0,a.useState)(""),[A,E]=(0,a.useState)(!1);(0,a.useEffect)(()=>{t&&s&&(P(s),T())},[t,s]),(0,a.useEffect)(()=>{o&&t&&D()},[o,t]);const T=async()=>{try{const e=await(0,tt.WVP)(s);k(e.data.name||"League");const a=(await(0,tt.ApS)(s)).data.find(e=>e.id===t);a&&C(a.name||"Team")}catch(e){console.error("Error loading league/team info:",e)}};(0,a.useEffect)(()=>{const e=d.map((e,t)=>({id:"slot-".concat(t),title:"",start:e.start,end:e.end}));p(e)},[d]);const P=async e=>{f(!0);try{const t=await(0,tt.fIB)(e),s=t.data.map(e=>({week_number:e.week_number,week_start_date:e.week_start_date,week_end_date:e.week_end_date,is_current_week:"active"===e.status}));i(s);const a=s.find(e=>e.is_current_week)||s[0];a&&c(a)}catch(a){var t,s;console.error("Error loading available weeks:",a),_s.error((null===(t=a.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.error)||"Failed to load weeks")}finally{f(!1)}},D=async()=>{if(o&&t)try{const e=(await(0,tt.rxf)(t,o.week_number,s)).data;if(console.log("Loaded availability data:",e),e&&e.length>0){const t=e.find(e=>e.user_id===(null===r||void 0===r?void 0:r.member_id)||e.user_member_id===(null===r||void 0===r?void 0:r.member_id));if(console.log("User availability:",t),t&&t.is_captain?E(!0):E(!1),t&&t.time_slots){let e=t.time_slots;"string"===typeof e&&(e=JSON.parse(e)),console.log("Parsed time slots:",e);const s=new Date(o.week_start_date),a=s;console.log("League week start:",s),console.log("Calendar week start:",a);const r=e.map(e=>{let t=M(e.day)-s.getDay();t<0&&(t+=7);const r=rp(a,t),[n,l]=e.start_time.split(":").map(Number),[i,o]=e.end_time.split(":").map(Number),c=bp(vp(r,n),l),d=bp(vp(r,i),o);return console.log("Slot: ".concat(e.day," ").concat(e.start_time,"-").concat(e.end_time," -> ").concat(c.toLocaleString())),{start:c,end:d}});console.log("Converted slots to Date objects:",r),u(r),x(r)}else u([]),x([])}else u([]),x([])}catch(e){console.error("Error loading current availability:",e),u([]),x([])}},M=e=>["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].indexOf(e),R=e=>["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()],L=()=>{if(d.length!==m.length)return!0;const e=e=>({day:R(e.start),start:xh(e.start,"HH:mm"),end:xh(e.end,"HH:mm")}),t=d.map(e).sort((e,t)=>e.day.localeCompare(t.day)||e.start.localeCompare(t.start)),s=m.map(e).sort((e,t)=>e.day.localeCompare(t.day)||e.start.localeCompare(t.start));return JSON.stringify(t)!==JSON.stringify(s)},F=async(e,a)=>{v(!0);try{await(0,tt.Fv0)(t,{league_id:s,week_number:a,is_available:e.length>0,availability_notes:"",time_slots:e}),x([...d]),_s.success("Availability saved successfully!")}catch(l){var r,n;console.error("Error submitting availability:",l),_s.error((null===(r=l.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.error)||"Failed to save availability")}finally{v(!1)}},O=()=>l.findIndex(e=>e.week_number===(null===o||void 0===o?void 0:o.week_number)),I={event:e=>(0,ct.jsx)("div",{className:"flex items-center justify-center w-full h-full cursor-pointer hover:bg-green-600 transition-colors",title:"Click to remove",children:(0,ct.jsx)(Tn,{className:"w-3 h-3 sm:w-4 sm:h-4 text-white drop-shadow-md"})}),header:e=>{let{date:t}=e;const s=new Date,a=t.getDate()===s.getDate()&&t.getMonth()===s.getMonth()&&t.getFullYear()===s.getFullYear(),r=xh(t,"EEEEE"),n=xh(t,"d");return(0,ct.jsxs)("div",{style:{textAlign:"center"},children:[(0,ct.jsx)("div",{className:"day-letter",children:r}),(0,ct.jsx)("div",{className:"day-number ".concat(a?"today":""),children:n})]})},toolbar:()=>null,timeGutterHeader:()=>(0,ct.jsx)("div",{className:"text-[10px] text-gray-400"})};if(g)return(0,ct.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,ct.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-neon-green"})});if(!o)return(0,ct.jsxs)("div",{className:"text-center py-8",children:[(0,ct.jsx)(lr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,ct.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Schedule Available"}),(0,ct.jsx)("p",{className:"text-gray-600",children:"No schedule weeks found for this league."})]});const z=new Date,B=new Date(o.week_start_date),U=new Date(o.week_end_date),H=(z>=Cx(B)&&Cx(U),B);return(0,ct.jsxs)("div",{className:"w-full sm:max-w-6xl sm:mx-auto relative pb-0 sm:pb-6",children:[(0,ct.jsx)(xn,{}),(0,ct.jsxs)("div",{className:"sm:hidden bg-brand-dark-green text-white px-2 py-3",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ct.jsx)("button",{onClick:()=>{n(A?"/captain-dashboard/".concat(t,"/").concat(s):"/player/team/".concat(t,"/").concat(s))},className:"p-2 hover:bg-white/10 rounded-lg flex-shrink-0",children:(0,ct.jsx)(Fs,{className:"w-4 h-4"})}),(0,ct.jsxs)("div",{className:"flex-1 flex items-center justify-center px-2",children:[(0,ct.jsx)(Nt,{className:"w-5 h-5 mr-2"}),(0,ct.jsx)("span",{className:"text-base font-semibold",children:"Availability"})]}),(0,ct.jsx)("button",{onClick:()=>P(s),className:"p-2 hover:bg-white/10 rounded-lg flex-shrink-0",children:(0,ct.jsx)(Ut,{className:"w-4 h-4"})})]}),(_||S)&&(0,ct.jsxs)("div",{className:"text-center text-xs text-white/80",children:[S," \u2022 ",_]})]}),(0,ct.jsx)("div",{className:"hidden sm:block bg-gradient-to-br from-brand-dark-green to-brand-muted-green rounded-xl shadow-md mb-4 sm:mb-6 p-4 sm:p-6",children:(0,ct.jsxs)("div",{className:"flex items-start justify-between",children:[(0,ct.jsxs)("div",{className:"flex-1",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,ct.jsx)("button",{onClick:()=>{n(A?"/captain/dashboard/".concat(t,"/").concat(s):"/player/team/".concat(t,"/").concat(s))},className:"p-2 bg-white/10 hover:bg-white/20 border border-white/20 rounded-lg transition-colors",title:A?"Back to Captain Dashboard":"Back to Team Page",children:(0,ct.jsx)(Fs,{className:"w-5 h-5 text-white"})}),(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("h1",{className:"text-2xl sm:text-3xl font-bold text-white flex items-center",children:[(0,ct.jsx)(Nt,{className:"w-6 h-6 sm:w-8 sm:h-8 mr-2"}),"Availability Calendar"]}),(_||S)&&(0,ct.jsxs)("p",{className:"text-white/80 mt-1 text-sm font-medium",children:[S," \u2022 ",_]})]})]}),(0,ct.jsx)("p",{className:"text-white/90 text-sm sm:text-base",children:"Click empty slots to add availability \u2022 Click green blocks to remove"})]}),(0,ct.jsxs)("button",{onClick:()=>P(s),className:"flex items-center space-x-2 px-4 py-2 bg-white/10 text-white hover:bg-white/20 border border-white/20 rounded-lg transition-colors flex-shrink-0",children:[(0,ct.jsx)(Ut,{className:"w-4 h-4"}),(0,ct.jsx)("span",{children:"Refresh"})]})]})}),(0,ct.jsx)("div",{className:"bg-white shadow-none sm:shadow-md border-0 sm:border border-neutral-200 rounded-none sm:rounded-xl p-3 sm:p-6 mb-0 sm:mb-4",children:(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsx)("button",{onClick:()=>{const e=O();e>0&&c(l[e-1])},disabled:0===O(),className:"p-2 rounded-lg hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,ct.jsx)(Ws,{className:"w-5 h-5"})}),(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsxs)("h3",{className:"text-base sm:text-lg font-semibold",children:["Week ",o.week_number]}),(0,ct.jsxs)("p",{className:"text-xs sm:text-sm text-gray-600",children:[new Date(o.week_start_date).toLocaleDateString()," -"," ",new Date(o.week_end_date).toLocaleDateString()]})]}),(0,ct.jsx)("button",{onClick:()=>{const e=O();e<l.length-1&&c(l[e+1])},disabled:O()===l.length-1,className:"p-2 rounded-lg hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,ct.jsx)(yt,{className:"w-5 h-5"})})]})}),(0,ct.jsx)("div",{className:"bg-white shadow-none sm:shadow-md border-0 sm:border border-neutral-200 rounded-none sm:rounded-xl px-3 sm:px-6 py-3 mb-0 sm:mb-4",children:(0,ct.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between sm:justify-start space-x-4 text-sm",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600",children:[(0,ct.jsx)(Ks,{className:"w-4 h-4 text-green-600"}),(0,ct.jsxs)("span",{className:"text-xs sm:text-sm",children:[d.length," slot(s)"]})]}),L()&&(0,ct.jsx)("span",{className:"text-orange-600 font-medium text-xs sm:text-sm",children:"Unsaved changes"})]}),(0,ct.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[(0,ct.jsxs)("button",{onClick:()=>{window.confirm("Are you sure you want to clear all selected time slots?")&&(u([]),_s.info("All time slots cleared"))},disabled:0===d.length||b,className:"flex-1 sm:flex-none flex items-center justify-center space-x-2 px-3 sm:px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:[(0,ct.jsx)(Tn,{className:"w-4 h-4"}),(0,ct.jsx)("span",{className:"hidden sm:inline",children:"Clear All"}),(0,ct.jsx)("span",{className:"sm:hidden",children:"Clear"})]}),(0,ct.jsx)("button",{onClick:async()=>{if(!o||!t)return;const e=d.map(e=>({day:R(e.start),start_time:xh(e.start,"HH:mm"),end_time:xh(e.end,"HH:mm")}));if(1===o.week_number&&e.length>0)return w(e),void j(!0);await F(e,o.week_number)},disabled:!L()||b,className:"flex-1 sm:flex-none flex items-center justify-center space-x-2 px-4 sm:px-6 py-2 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed disabled:bg-gray-300 disabled:text-gray-600 bg-brand-neon-green text-brand-black hover:bg-green-400 text-sm font-medium",children:b?(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-brand-black"}),(0,ct.jsx)("span",{children:"Saving..."})]}):(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)(Yt,{className:"w-4 h-4"}),(0,ct.jsx)("span",{children:"Save"})]})})]})]})}),(0,ct.jsx)("div",{className:"bg-white shadow-none sm:shadow-md rounded-none sm:rounded-xl overflow-hidden",children:(0,ct.jsx)("div",{className:"h-[calc(100vh-280px)] sm:h-[600px] relative",children:(0,ct.jsx)(nx,{localizer:jp,events:h,startAccessor:"start",endAccessor:"end",style:{height:"100%"},views:[cu.WEEK],defaultView:cu.WEEK,view:cu.WEEK,date:H,onNavigate:()=>{},selectable:!0,onSelectSlot:e=>{const{start:t,end:s}=e,a=d.find(e=>yp(e.start,t)&&(t>=e.start&&t<e.end||s>e.start&&s<=e.end||t<=e.start&&s>=e.end));u(a?e=>e.filter(e=>e!==a):e=>[...e,{start:t,end:s}])},eventPropGetter:()=>({style:{backgroundColor:"#10B981",borderColor:"#059669",color:"#ffffff",borderRadius:"4px",opacity:.9,border:"2px solid"}}),components:I,step:30,timeslots:2,min:new Date(2024,0,1,7,0),max:new Date(2024,0,1,23,0),formats:{timeGutterFormat:e=>{const t=e.getHours();if(0!==e.getMinutes())return"";const s=t>=12?"PM":"AM";return"".concat(0===t?12:t>12?t-12:t," ").concat(s)}},toolbar:!0,popup:!0,longPressThreshold:0})})}),y&&(0,ct.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ct.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6 sm:p-8",children:[(0,ct.jsxs)("div",{className:"flex items-start space-x-3 mb-4",children:[(0,ct.jsx)(Nt,{className:"w-6 h-6 text-brand-neon-green flex-shrink-0 mt-1"}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Apply to All Weeks?"}),(0,ct.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Would you like to use this availability for all ",l.length," weeks in the season?"]})]})]}),(0,ct.jsxs)("div",{className:"mt-6 flex flex-col sm:flex-row gap-3",children:[(0,ct.jsx)("button",{onClick:async()=>{j(!1),await F(N,1),w([])},disabled:b,className:"flex-1 px-4 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50 font-medium",children:"Just Week 1"}),(0,ct.jsx)("button",{onClick:async()=>{j(!1),v(!0);try{const e=l.map(e=>(0,tt.Fv0)(t,{league_id:s,week_number:e.week_number,is_available:N.length>0,availability_notes:"",time_slots:N}));await Promise.all(e),x([...d]),_s.success("Availability saved for all ".concat(l.length," weeks!"))}catch(r){var e,a;console.error("Error applying to all weeks:",r),_s.error((null===(e=r.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.error)||"Failed to save availability")}finally{v(!1),w([])}},disabled:b,className:"flex-1 px-4 py-3 bg-brand-neon-green text-brand-black rounded-lg hover:bg-green-400 transition-colors disabled:opacity-50 font-medium",children:b?"Applying...":"Apply to All ".concat(l.length," Weeks")})]})]})})]})},wp=()=>{const{user:e}=mt(),[t,s]=(0,a.useState)([]),[r,n]=(0,a.useState)(null),[l,i]=(0,a.useState)([]),[o,c]=(0,a.useState)(null),[d,u]=(0,a.useState)({league_id:0,week_number:0,is_available:!0,availability_notes:""}),[m,x]=(0,a.useState)(!0),[h,p]=(0,a.useState)(!1),[g,f]=(0,a.useState)(null);(0,a.useEffect)(()=>{b()},[]),(0,a.useEffect)(()=>{r&&(v(r.league_id),u(e=>(0,Re.A)((0,Re.A)({},e),{},{league_id:r.league_id})))},[r]),(0,a.useEffect)(()=>{o&&(u(e=>(0,Re.A)((0,Re.A)({},e),{},{week_number:o.week_number})),y())},[o,r]);const b=async()=>{x(!0);try{const e=[{id:1,name:"Team Alpha",league_id:1},{id:2,name:"Team Beta",league_id:2}];s(e),e.length>0&&n(e[0])}catch(e){console.error("Error loading user teams:",e),_s.error("Failed to load your teams")}finally{x(!1)}},v=async e=>{try{const e=[{week_number:6,week_start_date:"2025-01-08",week_end_date:"2025-01-14",is_current_week:!1},{week_number:7,week_start_date:"2025-01-15",week_end_date:"2025-01-21",is_current_week:!1},{week_number:8,week_start_date:"2025-01-22",week_end_date:"2025-01-28",is_current_week:!0},{week_number:9,week_start_date:"2025-01-29",week_end_date:"2025-02-04",is_current_week:!1},{week_number:10,week_start_date:"2025-02-05",week_end_date:"2025-02-11",is_current_week:!1}];i(e);const t=e.find(e=>e.is_current_week);t?c(t):e.length>0&&c(e[0])}catch(t){console.error("Error loading available weeks:",t),_s.error("Failed to load available weeks")}},y=async()=>{if(r&&o)try{const e={is_available:8===o.week_number,availability_notes:8===o.week_number?"Available Tuesday and Thursday evenings":"",last_updated:"2025-01-20T10:30:00Z"};f(e),u(t=>(0,Re.A)((0,Re.A)({},t),{},{is_available:e.is_available,availability_notes:e.availability_notes}))}catch(e){console.error("Error loading current availability:",e)}},j=e=>{u(t=>(0,Re.A)((0,Re.A)({},t),{},{is_available:e}))},N=e=>new Date(e).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),w=()=>l.findIndex(e=>e.week_number===(null===o||void 0===o?void 0:o.week_number));return m?(0,ct.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,ct.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-neon-green"})}):0===t.length?(0,ct.jsxs)("div",{className:"text-center py-8",children:[(0,ct.jsx)(lr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,ct.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Teams Found"}),(0,ct.jsx)("p",{className:"text-gray-600",children:"You are not currently a member of any teams."})]}):(0,ct.jsxs)("div",{className:"max-w-2xl mx-auto space-y-6",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)(Nt,{className:"w-8 h-8 text-brand-neon-green"}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h1",{className:"text-2xl font-bold text-brand-black",children:"Submit Availability"}),(0,ct.jsx)("p",{className:"text-neutral-600",children:"Let your team know when you're available to play"})]})]}),(0,ct.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-lg p-6",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-brand-black mb-4",children:"Select Team"}),(0,ct.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map(e=>(0,ct.jsxs)("button",{onClick:()=>n(e),className:"p-4 rounded-lg border-2 transition-colors text-left ".concat((null===r||void 0===r?void 0:r.id)===e.id?"border-brand-neon-green bg-green-50":"border-neutral-200 hover:border-neutral-300"),children:[(0,ct.jsx)("h4",{className:"font-semibold text-brand-black",children:e.name}),(0,ct.jsxs)("p",{className:"text-sm text-neutral-600",children:["League ID: ",e.league_id]})]},e.id))})]}),r&&(0,ct.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-lg p-6",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-brand-black",children:"Select Week"}),(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsx)("button",{onClick:()=>{const e=w();e>0&&c(l[e-1])},disabled:0===w(),className:"p-2 rounded-lg border border-neutral-300 hover:bg-neutral-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,ct.jsx)(Ws,{className:"w-4 h-4"})}),(0,ct.jsx)("button",{onClick:()=>{const e=w();e<l.length-1&&c(l[e+1])},disabled:w()===l.length-1,className:"p-2 rounded-lg border border-neutral-300 hover:bg-neutral-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,ct.jsx)(yt,{className:"w-4 h-4"})})]})]}),o&&(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsxs)("h4",{className:"text-xl font-semibold text-brand-black",children:["Week ",o.week_number]}),(0,ct.jsx)("p",{className:"text-lg text-neutral-600",children:((e,t)=>{const s=N(e),a=N(t);return"".concat(s," - ").concat(a)})(o.week_start_date,o.week_end_date)}),o.is_current_week&&(0,ct.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-brand-neon-green text-brand-black mt-2",children:"Current Week"})]})]}),r&&o&&(0,ct.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-lg p-6",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-brand-black mb-4",children:"Your Availability"}),g&&(0,ct.jsx)("div",{className:"mb-6 p-4 bg-neutral-50 rounded-lg",children:(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-sm font-medium text-neutral-600",children:"Current Status"}),(0,ct.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[g.is_available?(0,ct.jsx)(Ks,{className:"w-4 h-4 text-green-600"}):(0,ct.jsx)(nr,{className:"w-4 h-4 text-red-600"}),(0,ct.jsx)("span",{className:"font-medium ".concat(g.is_available?"text-green-600":"text-red-600"),children:g.is_available?"Available":"Not Available"})]}),g.availability_notes&&(0,ct.jsxs)("p",{className:"text-sm text-neutral-500 mt-1",children:["Notes: ",g.availability_notes]})]}),g.last_updated&&(0,ct.jsxs)("p",{className:"text-xs text-neutral-400",children:["Updated: ",N(g.last_updated)]})]})}),(0,ct.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),r&&o){p(!0);try{const e={is_available:d.is_available,availability_notes:d.availability_notes,updated_at:(new Date).toISOString()};f({is_available:e.is_available,availability_notes:e.availability_notes,last_updated:e.updated_at}),_s.success("Availability submitted successfully!")}catch(t){console.error("Error submitting availability:",t),_s.error("Failed to submit availability. Please try again.")}finally{p(!1)}}else _s.error("Please select a team and week")},className:"space-y-6",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-3",children:"Are you available for this week?"}),(0,ct.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ct.jsx)("button",{type:"button",onClick:()=>j(!0),className:"p-4 rounded-lg border-2 transition-colors ".concat(d.is_available?"border-green-500 bg-green-50 text-green-700":"border-neutral-200 hover:border-neutral-300"),children:(0,ct.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,ct.jsx)(Ks,{className:"w-5 h-5"}),(0,ct.jsx)("span",{className:"font-medium",children:"Available"})]})}),(0,ct.jsx)("button",{type:"button",onClick:()=>j(!1),className:"p-4 rounded-lg border-2 transition-colors ".concat(d.is_available?"border-neutral-200 hover:border-neutral-300":"border-red-500 bg-red-50 text-red-700"),children:(0,ct.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,ct.jsx)(nr,{className:"w-5 h-5"}),(0,ct.jsx)("span",{className:"font-medium",children:"Not Available"})]})})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Additional Notes (Optional)"}),(0,ct.jsx)("textarea",{value:d.availability_notes,onChange:e=>{u(t=>(0,Re.A)((0,Re.A)({},t),{},{availability_notes:e.target.value}))},rows:4,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",placeholder:"e.g., Available Tuesday and Thursday evenings, or Out of town for work..."})]}),(0,ct.jsx)("div",{className:"flex justify-end",children:(0,ct.jsxs)("button",{type:"submit",disabled:h,className:"flex items-center space-x-2 px-6 py-3 bg-brand-neon-green text-brand-black rounded-lg hover:bg-green-400 transition-colors disabled:opacity-50",children:[(0,ct.jsx)(Yt,{className:"w-4 h-4"}),(0,ct.jsx)("span",{children:h?"Submitting...":"Submit Availability"})]})})]})]})]})},_p=We("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),kp=We("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),Sp=(e,t)=>{const s=new Date(e),a=new Date(t);return"".concat(s.toLocaleDateString()," - ").concat(a.toLocaleDateString())},Cp=e=>{switch(e){case"scheduled":return"bg-blue-100 text-blue-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},Ap=e=>{switch(e){case"scheduled":return(0,ct.jsx)(Qs,{className:"w-3 h-3"});case"in_progress":return(0,ct.jsx)(pt,{className:"w-3 h-3"});case"completed":return(0,ct.jsx)(qe,{className:"w-3 h-3"});default:return(0,ct.jsx)(Nt,{className:"w-3 h-3"})}},Ep=e=>{let{teamId:t,leagueId:s}=e;const{user:r}=mt(),n=Z(),[l,i]=(0,a.useState)(null),[o,c]=(0,a.useState)(!0),[d,u]=(0,a.useState)("roster");(0,a.useEffect)(()=>{t&&s&&m()},[t,s]);const m=async()=>{c(!0);try{var e,a,r,n,l,o;const c=(await(0,tt.$eo)(t,s)).data,d=c.roster.map(e=>({user_member_id:e.user_member_id,first_name:e.first_name,last_name:e.last_name,email_address:e.email_address||"",handicap:e.handicap||0,is_captain:e.is_captain,phone:e.phone})),u=c.upcomingMatches.map(e=>({id:e.id,week_number:e.week_number,week_start_date:e.week_start_date,week_end_date:e.week_end_date,opponent_name:e.opponent_name,opponent_captain_name:"",course_name:e.course_name,course_rating:e.course_rating,course_slope:e.course_slope,course_par:e.course_par,status:e.status,match_date:e.match_date})),m={team_id:c.team.id,wins:(null===(e=c.standings)||void 0===e?void 0:e.wins)||0,losses:(null===(a=c.standings)||void 0===a?void 0:a.losses)||0,ties:(null===(r=c.standings)||void 0===r?void 0:r.ties)||0,total_points:(null===(n=c.standings)||void 0===n?void 0:n.league_points)||0,aggregate_net_total:(null===(l=c.standings)||void 0===l?void 0:l.aggregate_net_score)||0,league_position:(null===(o=c.standings)||void 0===o?void 0:o.division_rank)||0,total_teams:0},x={team:{id:c.team.id,name:c.team.name,captain_id:c.team.captain_id,league_id:s,division_id:c.team.division_id||0,league_points:c.team.league_points||0,aggregate_net_score:c.team.aggregate_net_score||0,created_at:c.team.created_at},roster:d,upcomingMatches:u,standings:m};i(x)}catch(m){var d,u;console.error("Error loading team data:",m),_s.error((null===(d=m.response)||void 0===d||null===(u=d.data)||void 0===u?void 0:u.error)||"Failed to load team data")}finally{c(!1)}};return o?(0,ct.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,ct.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-neon-green"})}):l?(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)(Ye,{className:"w-8 h-8 text-brand-neon-green"}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h1",{className:"text-2xl font-bold text-brand-black",children:"My Team"}),(0,ct.jsx)("p",{className:"text-neutral-600",children:"View your team roster, schedule, and statistics"})]})]}),(0,ct.jsxs)("button",{onClick:()=>n("/player/availability/".concat(t,"/").concat(s)),className:"flex items-center space-x-2 px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg hover:bg-green-400 transition-colors",children:[(0,ct.jsx)(Nt,{className:"w-4 h-4"}),(0,ct.jsx)("span",{children:"Set Availability"})]})]}),(0,ct.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-lg p-6",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h2",{className:"text-2xl font-bold text-brand-black",children:l.team.name}),(0,ct.jsxs)("p",{className:"text-neutral-600",children:["League Points: ",l.team.league_points]})]}),(0,ct.jsxs)("div",{className:"text-right",children:[(0,ct.jsx)("p",{className:"text-sm text-neutral-600",children:"League Position"}),(0,ct.jsxs)("p",{className:"text-2xl font-bold text-brand-black",children:[l.standings.league_position,"/",l.standings.total_teams]})]})]}),(0,ct.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("p",{className:"text-sm text-neutral-600",children:"Wins"}),(0,ct.jsx)("p",{className:"text-xl font-bold text-green-600",children:l.standings.wins})]}),(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("p",{className:"text-sm text-neutral-600",children:"Losses"}),(0,ct.jsx)("p",{className:"text-xl font-bold text-red-600",children:l.standings.losses})]}),(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("p",{className:"text-sm text-neutral-600",children:"Ties"}),(0,ct.jsx)("p",{className:"text-xl font-bold text-yellow-600",children:l.standings.ties})]}),(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("p",{className:"text-sm text-neutral-600",children:"Total Points"}),(0,ct.jsx)("p",{className:"text-xl font-bold text-brand-black",children:l.standings.total_points})]})]})]}),(0,ct.jsx)("div",{className:"border-b border-neutral-200",children:(0,ct.jsxs)("nav",{className:"flex space-x-8",children:[(0,ct.jsxs)("button",{onClick:()=>u("roster"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("roster"===d?"border-brand-neon-green text-brand-neon-green":"border-transparent text-neutral-500 hover:text-neutral-700 hover:border-neutral-300"),children:[(0,ct.jsx)(Ye,{className:"w-4 h-4 inline mr-2"}),"Team Roster"]}),(0,ct.jsxs)("button",{onClick:()=>u("schedule"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("schedule"===d?"border-brand-neon-green text-brand-neon-green":"border-transparent text-neutral-500 hover:text-neutral-700 hover:border-neutral-300"),children:[(0,ct.jsx)(Nt,{className:"w-4 h-4 inline mr-2"}),"Match Schedule"]}),(0,ct.jsxs)("button",{onClick:()=>u("stats"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("stats"===d?"border-brand-neon-green text-brand-neon-green":"border-transparent text-neutral-500 hover:text-neutral-700 hover:border-neutral-300"),children:[(0,ct.jsx)(qe,{className:"w-4 h-4 inline mr-2"}),"Team Statistics"]})]})}),(0,ct.jsxs)("div",{className:"min-h-[400px]",children:["roster"===d&&(0,ct.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-lg overflow-hidden",children:[(0,ct.jsx)("div",{className:"px-6 py-4 border-b border-neutral-200",children:(0,ct.jsx)("h3",{className:"text-lg font-semibold text-brand-black",children:"Team Roster"})}),(0,ct.jsx)("div",{className:"divide-y divide-neutral-200",children:l.roster.map(e=>(0,ct.jsx)("div",{className:"p-6",children:(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ct.jsx)("div",{className:"flex-shrink-0",children:(0,ct.jsx)("div",{className:"w-12 h-12 bg-brand-neon-green rounded-full flex items-center justify-center",children:(0,ct.jsxs)("span",{className:"text-brand-black font-semibold",children:[e.first_name[0],e.last_name[0]]})})}),(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("h4",{className:"text-lg font-semibold text-brand-black",children:[e.first_name," ",e.last_name,e.is_captain&&(0,ct.jsx)("span",{className:"ml-2 inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-brand-neon-green text-brand-black",children:"Captain"})]}),(0,ct.jsxs)("p",{className:"text-sm text-neutral-600",children:["Handicap: ",e.handicap]}),(0,ct.jsxs)("div",{className:"flex items-center space-x-4 mt-1",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ct.jsx)(_p,{className:"w-3 h-3 text-neutral-400"}),(0,ct.jsx)("span",{className:"text-xs text-neutral-500",children:e.email_address})]}),e.phone&&(0,ct.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ct.jsx)(kp,{className:"w-3 h-3 text-neutral-400"}),(0,ct.jsx)("span",{className:"text-xs text-neutral-500",children:e.phone})]})]})]})]}),(0,ct.jsxs)("div",{className:"text-right",children:[(0,ct.jsx)("p",{className:"text-sm font-medium text-neutral-600",children:"Handicap"}),(0,ct.jsx)("p",{className:"text-lg font-bold text-brand-black",children:e.handicap})]})]})},e.user_member_id))})]}),"schedule"===d&&(0,ct.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-lg overflow-hidden",children:[(0,ct.jsx)("div",{className:"px-6 py-4 border-b border-neutral-200",children:(0,ct.jsx)("h3",{className:"text-lg font-semibold text-brand-black",children:"Match Schedule"})}),0===l.upcomingMatches.length?(0,ct.jsxs)("div",{className:"p-12 text-center",children:[(0,ct.jsx)(Nt,{className:"w-16 h-16 text-neutral-300 mx-auto mb-4"}),(0,ct.jsx)("h3",{className:"text-xl font-semibold text-neutral-600 mb-2",children:"Coming Soon"}),(0,ct.jsx)("p",{className:"text-neutral-500",children:"Match schedule will be available soon"})]}):(0,ct.jsx)("div",{className:"divide-y divide-neutral-200",children:l.upcomingMatches.map(e=>{return(0,ct.jsx)("div",{className:"p-6",children:(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ct.jsx)("div",{className:"flex-shrink-0",children:(0,ct.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:(0,ct.jsxs)("span",{className:"text-blue-600 font-semibold",children:["W",e.week_number]})})}),(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("h4",{className:"text-lg font-semibold text-brand-black",children:["vs ",e.opponent_name]}),(0,ct.jsx)("p",{className:"text-sm text-neutral-600",children:Sp(e.week_start_date,e.week_end_date)}),e.course_name&&(0,ct.jsxs)("div",{className:"flex items-center space-x-1 mt-1",children:[(0,ct.jsx)(Ge,{className:"w-3 h-3 text-neutral-400"}),(0,ct.jsx)("span",{className:"text-xs text-neutral-500",children:e.course_name})]}),e.match_date&&(0,ct.jsxs)("p",{className:"text-xs text-neutral-500 mt-1",children:["Match Date: ",(t=e.match_date,new Date(t).toLocaleDateString())]})]})]}),(0,ct.jsxs)("div",{className:"text-right",children:[(0,ct.jsxs)("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ".concat(Cp(e.status)),children:[Ap(e.status),(0,ct.jsx)("span",{className:"ml-1 capitalize",children:e.status.replace("_"," ")})]}),e.course_name&&(0,ct.jsxs)("div",{className:"mt-2 text-sm text-neutral-600",children:[(0,ct.jsxs)("p",{children:["Par ",e.course_par]}),(0,ct.jsxs)("p",{children:["Rating: ",e.course_rating]}),(0,ct.jsxs)("p",{children:["Slope: ",e.course_slope]})]})]})]})},e.id);var t})})]}),"stats"===d&&(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-lg p-6",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-brand-black mb-4",children:"Team Performance"}),(0,ct.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,ct.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,ct.jsx)(qe,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),(0,ct.jsx)("p",{className:"text-sm text-neutral-600",children:"Wins"}),(0,ct.jsx)("p",{className:"text-2xl font-bold text-green-600",children:l.standings.wins})]}),(0,ct.jsxs)("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[(0,ct.jsx)(pt,{className:"w-8 h-8 text-red-600 mx-auto mb-2"}),(0,ct.jsx)("p",{className:"text-sm text-neutral-600",children:"Losses"}),(0,ct.jsx)("p",{className:"text-2xl font-bold text-red-600",children:l.standings.losses})]}),(0,ct.jsxs)("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[(0,ct.jsx)(St,{className:"w-8 h-8 text-yellow-600 mx-auto mb-2"}),(0,ct.jsx)("p",{className:"text-sm text-neutral-600",children:"Ties"}),(0,ct.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:l.standings.ties})]}),(0,ct.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[(0,ct.jsx)(qe,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),(0,ct.jsx)("p",{className:"text-sm text-neutral-600",children:"Total Points"}),(0,ct.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:l.standings.total_points})]})]})]}),(0,ct.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-lg p-6",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-brand-black mb-4",children:"League Position"}),(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-brand-neon-green rounded-full mb-4",children:(0,ct.jsx)("span",{className:"text-3xl font-bold text-brand-black",children:l.standings.league_position})}),(0,ct.jsxs)("p",{className:"text-lg font-semibold text-brand-black",children:["out of ",l.standings.total_teams," teams"]}),(0,ct.jsxs)("p",{className:"text-sm text-neutral-600 mt-2",children:["Aggregate Net Score: ",l.standings.aggregate_net_total]})]})]}),(0,ct.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-lg p-6",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-brand-black mb-4",children:"Captain Information"}),(()=>{const e=l.roster.find(e=>e.is_captain);return e?(0,ct.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ct.jsx)("div",{className:"w-16 h-16 bg-brand-neon-green rounded-full flex items-center justify-center",children:(0,ct.jsxs)("span",{className:"text-brand-black font-semibold text-lg",children:[e.first_name[0],e.last_name[0]]})}),(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("h4",{className:"text-lg font-semibold text-brand-black",children:[e.first_name," ",e.last_name]}),(0,ct.jsxs)("p",{className:"text-sm text-neutral-600",children:["Handicap: ",e.handicap]}),(0,ct.jsxs)("div",{className:"flex items-center space-x-4 mt-2",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ct.jsx)(_p,{className:"w-4 h-4 text-neutral-400"}),(0,ct.jsx)("span",{className:"text-sm text-neutral-500",children:e.email_address})]}),e.phone&&(0,ct.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ct.jsx)(kp,{className:"w-4 h-4 text-neutral-400"}),(0,ct.jsx)("span",{className:"text-sm text-neutral-500",children:e.phone})]})]})]})]}):null})()]})]})]})]}):(0,ct.jsxs)("div",{className:"text-center py-8",children:[(0,ct.jsx)(Ye,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,ct.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Team Data"}),(0,ct.jsx)("p",{className:"text-gray-600",children:"Unable to load team information."})]})},Tp=We("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]),Pp=e=>{let{leagueId:t}=e;const[s,r]=(0,a.useState)(null),[n,l]=(0,a.useState)(!0),[i,o]=(0,a.useState)("all"),[c,d]=(0,a.useState)("rank"),[u,m]=(0,a.useState)("asc"),[x,h]=(0,a.useState)(new Set);(0,a.useEffect)(()=>{t&&p()},[t]);const p=async()=>{if(t){l(!0);try{const e=(await(0,tt.WVP)(t)).data,s=(await(0,tt.Lig)(t)).data,a=[],n={};s.divisions.forEach(e=>{const s=e.teams.map(s=>({league_id:t,division_id:e.division_id,division_name:e.division_name,team_id:s.team_id,team_name:s.team_name,captain_id:0,captain_name:s.captain_name||"Unknown",matches_played:s.wins+s.ties+s.losses,wins:s.wins,ties:s.ties,losses:s.losses,total_points:s.total_points,league_points:s.total_points,aggregate_net_score:s.aggregate_net_score,second_half_net_score:0,final_week_net_score:0,division_rank:s.rank_in_division,rank_in_division:s.rank_in_division,playoff_qualified:s.playoff_qualified,recent_form:""}));n[e.division_name]=s,a.push(...s)});const l={league:{id:e.id,name:e.name,season:e.season||"",playoff_format:e.playoff_format||"top_per_division",divisions_count:s.divisions.length},standings:a,divisions:n,playoff_format:e.playoff_format||"top_per_division"};r(l),s.divisions.length>0&&o(s.divisions[0].division_name)}catch(a){var e,s;console.error("Error loading standings:",a),_s.error((null===(e=a.response)||void 0===e||null===(s=e.data)||void 0===s?void 0:s.error)||"Failed to load standings")}finally{l(!1)}}},g=e=>{c===e?m("asc"===u?"desc":"asc"):(d(e),m("asc"))},f=e=>{switch(e){case"W":return(0,ct.jsx)(Xe,{className:"w-3 h-3 text-green-500"});case"L":return(0,ct.jsx)(Tp,{className:"w-3 h-3 text-red-500"});case"T":return(0,ct.jsx)(Nr,{className:"w-3 h-3 text-yellow-500"});default:return null}};if(n)return(0,ct.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,ct.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-neon-green"})});if(!s)return(0,ct.jsxs)("div",{className:"text-center py-8",children:[(0,ct.jsx)(qe,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,ct.jsx)("p",{className:"text-gray-600",children:"No standings data available"})]});const b=(()=>{if(!s)return[];let e=s.standings;return"all"!==i&&(e=s.divisions[i]||[]),e.sort((e,t)=>{switch(c){case"rank":return"asc"===u?e.rank_in_division-t.rank_in_division:t.rank_in_division-e.rank_in_division;case"team":return"asc"===u?e.team_name.localeCompare(t.team_name):t.team_name.localeCompare(e.team_name);case"points":return"asc"===u?e.league_points-t.league_points:t.league_points-e.league_points;case"record":const s=e.wins+.5*e.ties,a=t.wins+.5*t.ties;return"asc"===u?s-a:a-s;case"aggregate":return"asc"===u?e.aggregate_net_score-t.aggregate_net_score:t.aggregate_net_score-e.aggregate_net_score;default:return 0}})})();return(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)(qe,{className:"w-8 h-8 text-brand-neon-green"}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h1",{className:"text-2xl font-bold text-brand-black",children:s.league.name}),(0,ct.jsx)("p",{className:"text-neutral-600",children:s.league.season})]})]}),(0,ct.jsxs)("button",{onClick:p,className:"flex items-center space-x-2 px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg hover:bg-green-400 transition-colors",children:[(0,ct.jsx)(Ut,{className:"w-4 h-4"}),(0,ct.jsx)("span",{children:"Refresh"})]})]}),(0,ct.jsx)("div",{className:"border-b border-neutral-200",children:(0,ct.jsxs)("nav",{className:"flex space-x-8",children:[(0,ct.jsxs)("button",{onClick:()=>o("all"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("all"===i?"border-brand-neon-green text-brand-neon-green":"border-transparent text-neutral-500 hover:text-neutral-700 hover:border-neutral-300"),children:[(0,ct.jsx)(gt,{className:"w-4 h-4 inline mr-2"}),"All Divisions"]}),Object.keys(s.divisions).map(e=>(0,ct.jsxs)("button",{onClick:()=>o(e),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat(i===e?"border-brand-neon-green text-brand-neon-green":"border-transparent text-neutral-500 hover:text-neutral-700 hover:border-neutral-300"),children:[(0,ct.jsx)(Ye,{className:"w-4 h-4 inline mr-2"}),e]},e))]})}),(0,ct.jsx)("div",{className:"bg-white border border-neutral-200 rounded-lg overflow-hidden",children:(0,ct.jsx)("div",{className:"overflow-x-auto",children:(0,ct.jsxs)("table",{className:"min-w-full divide-y divide-neutral-200",children:[(0,ct.jsx)("thead",{className:"bg-neutral-50",children:(0,ct.jsxs)("tr",{children:[(0,ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider cursor-pointer hover:bg-neutral-100",onClick:()=>g("rank"),children:(0,ct.jsxs)("div",{className:"flex items-center",children:["Rank","rank"===c&&(0,ct.jsx)("span",{className:"ml-1",children:"asc"===u?"\u2191":"\u2193"})]})}),(0,ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider cursor-pointer hover:bg-neutral-100",onClick:()=>g("team"),children:(0,ct.jsxs)("div",{className:"flex items-center",children:["Team","team"===c&&(0,ct.jsx)("span",{className:"ml-1",children:"asc"===u?"\u2191":"\u2193"})]})}),(0,ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider cursor-pointer hover:bg-neutral-100",onClick:()=>g("points"),children:(0,ct.jsxs)("div",{className:"flex items-center",children:["Points","points"===c&&(0,ct.jsx)("span",{className:"ml-1",children:"asc"===u?"\u2191":"\u2193"})]})}),(0,ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider cursor-pointer hover:bg-neutral-100",onClick:()=>g("record"),children:(0,ct.jsxs)("div",{className:"flex items-center",children:["W-T-L","record"===c&&(0,ct.jsx)("span",{className:"ml-1",children:"asc"===u?"\u2191":"\u2193"})]})}),(0,ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider cursor-pointer hover:bg-neutral-100",onClick:()=>g("aggregate"),children:(0,ct.jsxs)("div",{className:"flex items-center",children:["Aggregate Net","aggregate"===c&&(0,ct.jsx)("span",{className:"ml-1",children:"asc"===u?"\u2191":"\u2193"})]})}),(0,ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Recent Form"}),(0,ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Playoff"}),(0,ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Actions"})]})}),(0,ct.jsx)("tbody",{className:"bg-white divide-y divide-neutral-200",children:b.map(e=>{var t,s;return(0,ct.jsxs)(a.Fragment,{children:[(0,ct.jsxs)("tr",{className:"hover:bg-neutral-50 cursor-pointer",onClick:()=>(e=>{const t=new Set(x);t.has(e)?t.delete(e):t.add(e),h(t)})(e.team_id),children:[(0,ct.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-brand-black",children:(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsxs)("span",{className:"text-lg font-bold",children:["#",e.rank_in_division]}),e.division_name&&"all"===i&&(0,ct.jsxs)("span",{className:"ml-2 text-xs text-neutral-500",children:["(",e.division_name,")"]})]})}),(0,ct.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,ct.jsx)("div",{className:"h-10 w-10 rounded-full bg-brand-neon-green flex items-center justify-center",children:(0,ct.jsx)("span",{className:"text-sm font-medium text-brand-black",children:e.team_name.charAt(0)})})}),(0,ct.jsxs)("div",{className:"ml-4",children:[(0,ct.jsx)("div",{className:"text-sm font-medium text-brand-black",children:e.team_name}),(0,ct.jsx)("div",{className:"text-sm text-neutral-500",children:e.captain_name})]})]})}),(0,ct.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-black",children:(0,ct.jsx)("span",{className:"text-lg font-bold",children:e.league_points})}),(0,ct.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-black",children:(0,ct.jsxs)("span",{className:"font-medium",children:[e.wins,"-",e.ties,"-",e.losses]})}),(0,ct.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-black",children:e.aggregate_net_score}),(0,ct.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-black",children:(0,ct.jsx)("div",{className:"flex items-center space-x-1",children:null===(t=e.recent_form)||void 0===t?void 0:t.split("").map((e,t)=>(0,ct.jsx)("span",{className:"flex items-center",children:f(e)},t))})}),(0,ct.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-black",children:(s=e.playoff_qualified,s?(0,ct.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(0,ct.jsx)(St,{className:"w-3 h-3 mr-1"}),"Playoff"]}):null)}),(0,ct.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-black",children:(0,ct.jsx)("button",{className:"p-1 hover:bg-neutral-100 rounded",children:x.has(e.team_id)?(0,ct.jsx)(zt,{className:"w-4 h-4"}):(0,ct.jsx)(yt,{className:"w-4 h-4"})})})]}),x.has(e.team_id)&&(0,ct.jsx)("tr",{className:"bg-neutral-50",children:(0,ct.jsx)("td",{colSpan:8,className:"px-6 py-4",children:(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h4",{className:"text-sm font-medium text-neutral-700 mb-2",children:"Team Stats"}),(0,ct.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,ct.jsxs)("div",{children:["Matches Played: ",(0,ct.jsx)("span",{className:"font-medium",children:e.matches_played})]}),(0,ct.jsxs)("div",{children:["Win %: ",(0,ct.jsxs)("span",{className:"font-medium",children:[e.matches_played>0?((e.wins+.5*e.ties)/e.matches_played*100).toFixed(1):0,"%"]})]}),(0,ct.jsxs)("div",{children:["Second Half Net: ",(0,ct.jsx)("span",{className:"font-medium",children:e.second_half_net_score})]}),(0,ct.jsxs)("div",{children:["Final Week Net: ",(0,ct.jsx)("span",{className:"font-medium",children:e.final_week_net_score})]})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h4",{className:"text-sm font-medium text-neutral-700 mb-2",children:"Tiebreaker Info"}),(0,ct.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,ct.jsxs)("div",{children:["Total Points: ",(0,ct.jsx)("span",{className:"font-medium",children:e.league_points})]}),(0,ct.jsxs)("div",{children:["Aggregate Net: ",(0,ct.jsx)("span",{className:"font-medium",children:e.aggregate_net_score})]}),(0,ct.jsxs)("div",{children:["Second Half: ",(0,ct.jsx)("span",{className:"font-medium",children:e.second_half_net_score})]}),(0,ct.jsxs)("div",{children:["Final Week: ",(0,ct.jsx)("span",{className:"font-medium",children:e.final_week_net_score})]})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h4",{className:"text-sm font-medium text-neutral-700 mb-2",children:"Actions"}),(0,ct.jsxs)("div",{className:"space-y-2",children:[(0,ct.jsx)("button",{className:"w-full text-left px-3 py-2 text-sm bg-white border border-neutral-300 rounded hover:bg-neutral-50",children:"View Team Details"}),(0,ct.jsx)("button",{className:"w-full text-left px-3 py-2 text-sm bg-white border border-neutral-300 rounded hover:bg-neutral-50",children:"View Match History"})]})]})]})})})]},e.team_id)})})]})})}),(0,ct.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)(pt,{className:"w-5 h-5 text-blue-600 mr-2"}),(0,ct.jsx)("h3",{className:"text-sm font-medium text-blue-800",children:"Playoff Format"})]}),(0,ct.jsxs)("p",{className:"text-sm text-blue-700 mt-1",children:["top_per_division"===s.playoff_format&&"Top team from each division qualifies for playoffs","top_overall"===s.playoff_format&&"Top ".concat(s.league.divisions_count," teams overall qualify for playoffs"),"bracket"===s.playoff_format&&"Top 2 teams from each division qualify for playoffs"]})]})]})},Dp=e=>{let{leagueId:t,divisionId:s,onBack:r}=e;const[n,l]=(0,a.useState)(null),[i,o]=(0,a.useState)(!0),[c,d]=(0,a.useState)("standings");(0,a.useEffect)(()=>{u()},[t,s]);const u=async()=>{o(!0);try{l({league:{id:t,name:"UAL Season 2 Winter 2025",season:"Winter 2025"},division:{id:s,league_id:t,division_name:1===s?"Division A":"Division B",division_order:s},standings:[{team_id:1,team_name:"Team Alpha",rank_in_division:1,matches_played:8,wins:6,ties:1,losses:1,league_points:13,aggregate_net_score:142,second_half_net_score:68,final_week_net_score:34,playoff_qualified:!0},{team_id:2,team_name:"Team Beta",rank_in_division:2,matches_played:8,wins:5,ties:2,losses:1,league_points:12,aggregate_net_score:148,second_half_net_score:72,final_week_net_score:36,playoff_qualified:!1},{team_id:3,team_name:"Team Gamma",rank_in_division:3,matches_played:8,wins:4,ties:1,losses:3,league_points:9,aggregate_net_score:155,second_half_net_score:78,final_week_net_score:39,playoff_qualified:!1}],matchups:[{id:1,week_number:8,division_id:s,division_name:1===s?"Division A":"Division B",team1_id:1,team2_id:2,team1_name:"Team Alpha",team2_name:"Team Beta",winner_team_id:1,status:"completed",week_start_date:"2025-01-22",week_end_date:"2025-01-28",course_name:"Pebble Beach",course_rating:72,course_slope:140,course_par:72,team1_individual_net:18,team2_individual_net:19,team1_alternate_shot_net:16,team2_alternate_shot_net:17,team1_total_net:34,team2_total_net:36,team1_points:1,team2_points:0,match_date:"2025-01-25",completed_at:"2025-01-25T18:30:00Z"},{id:2,week_number:7,division_id:s,division_name:1===s?"Division A":"Division B",team1_id:1,team2_id:3,team1_name:"Team Alpha",team2_name:"Team Gamma",winner_team_id:1,status:"completed",week_start_date:"2025-01-15",week_end_date:"2025-01-21",course_name:"Augusta National",course_rating:74,course_slope:135,course_par:72,team1_individual_net:17,team2_individual_net:20,team1_alternate_shot_net:15,team2_alternate_shot_net:18,team1_total_net:32,team2_total_net:38,team1_points:1,team2_points:0,match_date:"2025-01-18",completed_at:"2025-01-18T17:45:00Z"},{id:3,week_number:6,division_id:s,division_name:1===s?"Division A":"Division B",team1_id:2,team2_id:3,team1_name:"Team Beta",team2_name:"Team Gamma",winner_team_id:2,status:"completed",week_start_date:"2025-01-08",week_end_date:"2025-01-14",course_name:"St. Andrews",course_rating:71,course_slope:130,course_par:72,team1_individual_net:18,team2_individual_net:19,team1_alternate_shot_net:17,team2_alternate_shot_net:18,team1_total_net:35,team2_total_net:37,team1_points:1,team2_points:0,match_date:"2025-01-11",completed_at:"2025-01-11T16:20:00Z"}],headToHead:{1:{2:"W",3:"W"},2:{1:"L",3:"W"},3:{1:"L",2:"L"}}}),setTimeout(()=>{o(!1)},500)}catch(e){console.error("Error loading division standings:",e),_s.error("Failed to load division standings"),o(!1)}},m=e=>{switch(e){case"W":return(0,ct.jsx)(Xe,{className:"w-4 h-4 text-green-500"});case"L":return(0,ct.jsx)(Tp,{className:"w-4 h-4 text-red-500"});case"T":return(0,ct.jsx)(Nr,{className:"w-4 h-4 text-yellow-500"});default:return(0,ct.jsx)(Qs,{className:"w-4 h-4 text-gray-400"})}},x=e=>{switch(e){case"W":return"bg-green-100 text-green-800";case"L":return"bg-red-100 text-red-800";case"T":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return i?(0,ct.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,ct.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-neon-green"})}):n?(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[r&&(0,ct.jsx)("button",{onClick:r,className:"p-2 hover:bg-neutral-100 rounded-lg transition-colors",children:(0,ct.jsx)(Fs,{className:"w-5 h-5 text-neutral-600"})}),(0,ct.jsx)(qe,{className:"w-8 h-8 text-brand-neon-green"}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h1",{className:"text-2xl font-bold text-brand-black",children:n.division.division_name}),(0,ct.jsxs)("p",{className:"text-neutral-600",children:[n.league.name," - ",n.league.season]})]})]}),(0,ct.jsxs)("button",{onClick:u,className:"flex items-center space-x-2 px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg hover:bg-green-400 transition-colors",children:[(0,ct.jsx)(Ut,{className:"w-4 h-4"}),(0,ct.jsx)("span",{children:"Refresh"})]})]}),(0,ct.jsx)("div",{className:"border-b border-neutral-200",children:(0,ct.jsxs)("nav",{className:"flex space-x-8",children:[(0,ct.jsxs)("button",{onClick:()=>d("standings"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("standings"===c?"border-brand-neon-green text-brand-neon-green":"border-transparent text-neutral-500 hover:text-neutral-700 hover:border-neutral-300"),children:[(0,ct.jsx)(gt,{className:"w-4 h-4 inline mr-2"}),"Standings"]}),(0,ct.jsxs)("button",{onClick:()=>d("headToHead"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("headToHead"===c?"border-brand-neon-green text-brand-neon-green":"border-transparent text-neutral-500 hover:text-neutral-700 hover:border-neutral-300"),children:[(0,ct.jsx)(Ye,{className:"w-4 h-4 inline mr-2"}),"Head-to-Head"]}),(0,ct.jsxs)("button",{onClick:()=>d("schedule"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("schedule"===c?"border-brand-neon-green text-brand-neon-green":"border-transparent text-neutral-500 hover:text-neutral-700 hover:border-neutral-300"),children:[(0,ct.jsx)(Nt,{className:"w-4 h-4 inline mr-2"}),"Schedule"]})]})}),(0,ct.jsxs)("div",{className:"min-h-[600px]",children:["standings"===c&&(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsx)("div",{className:"bg-white border border-neutral-200 rounded-lg overflow-hidden",children:(0,ct.jsx)("div",{className:"overflow-x-auto",children:(0,ct.jsxs)("table",{className:"min-w-full divide-y divide-neutral-200",children:[(0,ct.jsx)("thead",{className:"bg-neutral-50",children:(0,ct.jsxs)("tr",{children:[(0,ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Rank"}),(0,ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Team"}),(0,ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Points"}),(0,ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"W-T-L"}),(0,ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Aggregate Net"}),(0,ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Second Half"}),(0,ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Final Week"}),(0,ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Playoff"})]})}),(0,ct.jsx)("tbody",{className:"bg-white divide-y divide-neutral-200",children:n.standings.map(e=>{return(0,ct.jsxs)("tr",{className:"hover:bg-neutral-50",children:[(0,ct.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-brand-black",children:(0,ct.jsxs)("span",{className:"text-lg font-bold",children:["#",e.rank_in_division]})}),(0,ct.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,ct.jsx)("div",{className:"h-10 w-10 rounded-full bg-brand-neon-green flex items-center justify-center",children:(0,ct.jsx)("span",{className:"text-sm font-medium text-brand-black",children:e.team_name.charAt(0)})})}),(0,ct.jsx)("div",{className:"ml-4",children:(0,ct.jsx)("div",{className:"text-sm font-medium text-brand-black",children:e.team_name})})]})}),(0,ct.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-black",children:(0,ct.jsx)("span",{className:"text-lg font-bold",children:e.league_points})}),(0,ct.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-black",children:(0,ct.jsxs)("span",{className:"font-medium",children:[e.wins,"-",e.ties,"-",e.losses]})}),(0,ct.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-black",children:e.aggregate_net_score}),(0,ct.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-black",children:e.second_half_net_score}),(0,ct.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-black",children:e.final_week_net_score}),(0,ct.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-black",children:(t=e.playoff_qualified,t?(0,ct.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(0,ct.jsx)(St,{className:"w-3 h-3 mr-1"}),"Playoff"]}):null)})]},e.team_id);var t})})]})})}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ct.jsx)("div",{className:"bg-white p-6 rounded-lg border border-neutral-200",children:(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)(qe,{className:"w-8 h-8 text-brand-neon-green"}),(0,ct.jsxs)("div",{className:"ml-4",children:[(0,ct.jsx)("p",{className:"text-sm font-medium text-neutral-600",children:"Teams in Division"}),(0,ct.jsx)("p",{className:"text-2xl font-bold text-brand-black",children:n.standings.length})]})]})}),(0,ct.jsx)("div",{className:"bg-white p-6 rounded-lg border border-neutral-200",children:(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)(pt,{className:"w-8 h-8 text-green-500"}),(0,ct.jsxs)("div",{className:"ml-4",children:[(0,ct.jsx)("p",{className:"text-sm font-medium text-neutral-600",children:"Playoff Qualified"}),(0,ct.jsx)("p",{className:"text-2xl font-bold text-brand-black",children:n.standings.filter(e=>e.playoff_qualified).length})]})]})}),(0,ct.jsx)("div",{className:"bg-white p-6 rounded-lg border border-neutral-200",children:(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)(Nt,{className:"w-8 h-8 text-blue-500"}),(0,ct.jsxs)("div",{className:"ml-4",children:[(0,ct.jsx)("p",{className:"text-sm font-medium text-neutral-600",children:"Total Matches"}),(0,ct.jsx)("p",{className:"text-2xl font-bold text-brand-black",children:n.matchups.length})]})]})})]})]}),"headToHead"===c&&(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-lg overflow-hidden",children:[(0,ct.jsxs)("div",{className:"px-6 py-4 border-b border-neutral-200",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-brand-black",children:"Head-to-Head Results"}),(0,ct.jsx)("p",{className:"text-sm text-neutral-600",children:"Results from each team's perspective"})]}),(0,ct.jsx)("div",{className:"overflow-x-auto",children:(0,ct.jsxs)("table",{className:"min-w-full",children:[(0,ct.jsx)("thead",{className:"bg-neutral-50",children:(0,ct.jsxs)("tr",{children:[(0,ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Team"}),n.standings.map(e=>(0,ct.jsx)("th",{className:"px-3 py-3 text-center text-xs font-medium text-neutral-500 uppercase tracking-wider",children:e.team_name.split(" ")[0]},e.team_id))]})}),(0,ct.jsx)("tbody",{className:"bg-white divide-y divide-neutral-200",children:n.standings.map(e=>(0,ct.jsxs)("tr",{children:[(0,ct.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-brand-black",children:e.team_name}),n.standings.map(t=>{var s,a;return(0,ct.jsx)("td",{className:"px-3 py-4 whitespace-nowrap text-center",children:e.team_id===t.team_id?(0,ct.jsx)("span",{className:"text-neutral-400",children:"-"}):(0,ct.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(x((null===(s=n.headToHead[e.team_id])||void 0===s?void 0:s[t.team_id])||"")),children:m((null===(a=n.headToHead[e.team_id])||void 0===a?void 0:a[t.team_id])||"")})},t.team_id)})]},e.team_id))})]})})]}),(0,ct.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,ct.jsx)("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"Legend"}),(0,ct.jsxs)("div",{className:"flex space-x-4 text-sm",children:[(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)(Xe,{className:"w-4 h-4 text-green-500 mr-1"}),(0,ct.jsx)("span",{className:"text-blue-700",children:"Win"})]}),(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)(Tp,{className:"w-4 h-4 text-red-500 mr-1"}),(0,ct.jsx)("span",{className:"text-blue-700",children:"Loss"})]}),(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)(Nr,{className:"w-4 h-4 text-yellow-500 mr-1"}),(0,ct.jsx)("span",{className:"text-blue-700",children:"Tie"})]}),(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)(Qs,{className:"w-4 h-4 text-gray-400 mr-1"}),(0,ct.jsx)("span",{className:"text-blue-700",children:"Not Played"})]})]})]})]}),"schedule"===c&&(0,ct.jsx)("div",{className:"space-y-6",children:(0,ct.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-lg overflow-hidden",children:[(0,ct.jsxs)("div",{className:"px-6 py-4 border-b border-neutral-200",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-brand-black",children:"Weekly Match Schedule"}),(0,ct.jsx)("p",{className:"text-sm text-neutral-600",children:"All matchups in this division"})]}),(0,ct.jsx)("div",{className:"overflow-x-auto",children:(0,ct.jsxs)("table",{className:"min-w-full divide-y divide-neutral-200",children:[(0,ct.jsx)("thead",{className:"bg-neutral-50",children:(0,ct.jsxs)("tr",{children:[(0,ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Week"}),(0,ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Date Range"}),(0,ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Matchup"}),(0,ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Course"}),(0,ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Result"}),(0,ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Status"})]})}),(0,ct.jsx)("tbody",{className:"bg-white divide-y divide-neutral-200",children:n.matchups.sort((e,t)=>t.week_number-e.week_number).map(e=>(0,ct.jsxs)("tr",{className:"hover:bg-neutral-50",children:[(0,ct.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-brand-black",children:["Week ",e.week_number]}),(0,ct.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-black",children:(0,ct.jsxs)("div",{children:[(0,ct.jsx)("div",{children:new Date(e.week_start_date).toLocaleDateString()}),(0,ct.jsxs)("div",{className:"text-xs text-neutral-500",children:["to ",new Date(e.week_end_date).toLocaleDateString()]})]})}),(0,ct.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-black",children:(0,ct.jsxs)("div",{children:[(0,ct.jsx)("div",{className:"font-medium",children:e.team1_name}),(0,ct.jsx)("div",{className:"text-xs text-neutral-500",children:"vs"}),(0,ct.jsx)("div",{className:"font-medium",children:e.team2_name})]})}),(0,ct.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-black",children:(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)(Ge,{className:"w-4 h-4 text-neutral-400 mr-1"}),e.course_name||"TBD"]})}),(0,ct.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-black",children:"completed"===e.status?(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("div",{className:"font-medium",children:[e.team1_total_net," - ",e.team2_total_net]}),(0,ct.jsxs)("div",{className:"text-xs text-neutral-500",children:["Winner: ",e.winner_team_id===e.team1_id?e.team1_name:e.team2_name]})]}):(0,ct.jsx)("span",{className:"text-neutral-400",children:"TBD"})}),(0,ct.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-black",children:(0,ct.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("completed"===e.status?"bg-green-100 text-green-800":"scheduled"===e.status?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})})]},e.id))})]})})]})})]})]}):(0,ct.jsxs)("div",{className:"text-center py-8",children:[(0,ct.jsx)(qe,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,ct.jsx)("p",{className:"text-gray-600",children:"No division standings data available"})]})},Mp=e=>{let{teamId:t,leagueId:s,onBack:r}=e;const[n,l]=(0,a.useState)(null),[i,o]=(0,a.useState)([]),[c,d]=(0,a.useState)(!0),[u,m]=(0,a.useState)("overview");(0,a.useEffect)(()=>{x(),h()},[t,s]);const x=async()=>{d(!0);try{var e,a,r,n,i,o,c,u,m,x,h,p,g,f,b,v,y,j,N,w;if(!s)return _s.error("League ID is required"),void d(!1);const _=(await(0,tt.$eo)(t,s)).data,k=(await(0,tt.Lig)(s)).data;let S=null;for(const e of k.divisions){const s=e.teams.find(e=>e.team_id===t);if(s){S=(0,Re.A)((0,Re.A)({},s),{},{division_name:e.division_name});break}}const C={total_matches:(null===(e=_.standings)||void 0===e?void 0:e.wins)+(null===(a=_.standings)||void 0===a?void 0:a.losses)+(null===(r=_.standings)||void 0===r?void 0:r.ties)||0,wins:(null===(n=_.standings)||void 0===n?void 0:n.wins)||0,ties:(null===(i=_.standings)||void 0===i?void 0:i.ties)||0,losses:(null===(o=_.standings)||void 0===o?void 0:o.losses)||0,total_points:(null===(c=_.standings)||void 0===c?void 0:c.league_points)||0,avg_total_net:0,best_total_net:0,worst_total_net:0,win_percentage:((null===(u=_.standings)||void 0===u?void 0:u.wins)||0)/Math.max(1,((null===(m=_.standings)||void 0===m?void 0:m.wins)||0)+((null===(x=_.standings)||void 0===x?void 0:x.losses)||0)+((null===(h=_.standings)||void 0===h?void 0:h.ties)||0))*100},A=_.roster.map(e=>({member_id:e.user_member_id,player_name:"".concat(e.first_name," ").concat(e.last_name),matches_played:0,avg_gross:0,best_gross:0,avg_net:0,best_net:0,handicap:e.handicap||0,role:e.is_captain?"captain":"member"})),E={team:{id:_.team.id,name:_.team.name,captain_id:_.team.captain_id,captain_name:(null===(p=_.roster.find(e=>e.is_captain))||void 0===p?void 0:p.first_name)+" "+(null===(g=_.roster.find(e=>e.is_captain))||void 0===g?void 0:g.last_name)||"Unknown",league_id:s,league_name:"Unknown",division_id:_.team.division_id||0,division_name:(null===(f=S)||void 0===f?void 0:f.division_name)||"Unknown",league_points:(null===(b=S)||void 0===b?void 0:b.total_points)||0,aggregate_net_score:(null===(v=S)||void 0===v?void 0:v.aggregate_net_score)||0,second_half_net_score:0,final_week_net_score:0},statistics:C,player_statistics:A,standings:{team_id:t,rank_in_division:(null===(y=S)||void 0===y?void 0:y.rank_in_division)||0,division_name:(null===(j=S)||void 0===j?void 0:j.division_name)||"Unknown",league_points:(null===(N=S)||void 0===N?void 0:N.total_points)||0,playoff_qualified:(null===(w=S)||void 0===w?void 0:w.playoff_qualified)||!1}};l(E)}catch(S){var _,k;console.error("Error loading team details:",S),_s.error((null===(_=S.response)||void 0===_||null===(k=_.data)||void 0===k?void 0:k.error)||"Failed to load team details")}finally{d(!1)}},h=async()=>{if(s)try{const e=await(0,tt.Nlt)(s),a=e.data.filter(e=>e.team1_id===t||e.team2_id===t),r=a.map(e=>{const s=e.team1_id===t,a=s?e.team1_total_net:e.team2_total_net,r=s?e.team2_total_net:e.team1_total_net;let n="pending";return"completed"===e.status&&a&&r&&(n=a<r?"won":a>r?"lost":"tied"),{id:e.id,league_id:e.league_id,week_number:e.week_number,opponent_name:s?e.team2_name:e.team1_name,opponent_id:s?e.team2_id:e.team1_id,team_score:a||0,opponent_score:r||0,result:n,course_name:e.course_name||"TBD",status:e.status,week_start_date:e.week_start_date||"",week_end_date:e.week_end_date||"",league_name:"Unknown",division_name:e.division_name||"Unknown"}});o(r)}catch(r){var e,a;console.error("Error loading match history:",r),_s.error((null===(e=r.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.error)||"Failed to load match history")}},p=e=>{switch(e){case"won":return(0,ct.jsx)(Xe,{className:"w-4 h-4 text-green-500"});case"lost":return(0,ct.jsx)(Tp,{className:"w-4 h-4 text-red-500"});case"tied":return(0,ct.jsx)(qe,{className:"w-4 h-4 text-yellow-500"});default:return null}},g=e=>{switch(e){case"won":return"bg-green-100 text-green-800";case"lost":return"bg-red-100 text-red-800";case"tied":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return c?(0,ct.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,ct.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-neon-green"})}):n?(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ct.jsx)(Ye,{className:"w-8 h-8 text-brand-neon-green"}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h1",{className:"text-2xl font-bold text-brand-black",children:"Team Details"}),(0,ct.jsx)("p",{className:"text-neutral-600",children:n.team.name})]})]}),(0,ct.jsxs)("button",{onClick:x,className:"flex items-center space-x-2 px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg hover:bg-green-400 transition-colors",children:[(0,ct.jsx)(Ut,{className:"w-4 h-4"}),(0,ct.jsx)("span",{children:"Refresh"})]})]}),(0,ct.jsx)("div",{className:"bg-white border border-neutral-200 rounded-lg p-6",children:(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)(St,{className:"w-8 h-8 text-brand-neon-green mx-auto mb-2"}),(0,ct.jsx)("p",{className:"text-sm text-neutral-600",children:"League Points"}),(0,ct.jsx)("p",{className:"text-2xl font-bold text-brand-black",children:n.team.league_points})]}),(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)(pt,{className:"w-8 h-8 text-blue-500 mx-auto mb-2"}),(0,ct.jsx)("p",{className:"text-sm text-neutral-600",children:"League Position"}),(0,ct.jsx)("p",{className:"text-2xl font-bold text-brand-black",children:n.standings.rank_in_division})]}),(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)(qe,{className:"w-8 h-8 text-yellow-500 mx-auto mb-2"}),(0,ct.jsx)("p",{className:"text-sm text-neutral-600",children:"Total Matches"}),(0,ct.jsx)("p",{className:"text-2xl font-bold text-brand-black",children:n.statistics.total_matches})]}),(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)(Xe,{className:"w-8 h-8 text-green-500 mx-auto mb-2"}),(0,ct.jsx)("p",{className:"text-sm text-neutral-600",children:"Win %"}),(0,ct.jsxs)("p",{className:"text-2xl font-bold text-brand-black",children:[n.statistics.win_percentage.toFixed(1),"%"]})]})]})}),(0,ct.jsx)("div",{className:"border-b border-neutral-200",children:(0,ct.jsxs)("nav",{className:"flex space-x-8",children:[(0,ct.jsxs)("button",{onClick:()=>m("overview"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("overview"===u?"border-brand-neon-green text-brand-neon-green":"border-transparent text-neutral-500 hover:text-neutral-700 hover:border-neutral-300"),children:[(0,ct.jsx)(Ye,{className:"w-4 h-4 inline mr-2"}),"Overview"]}),(0,ct.jsxs)("button",{onClick:()=>m("matches"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("matches"===u?"border-brand-neon-green text-brand-neon-green":"border-transparent text-neutral-500 hover:text-neutral-700 hover:border-neutral-300"),children:[(0,ct.jsx)(Nt,{className:"w-4 h-4 inline mr-2"}),"Match History"]}),(0,ct.jsxs)("button",{onClick:()=>m("players"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("players"===u?"border-brand-neon-green text-brand-neon-green":"border-transparent text-neutral-500 hover:text-neutral-700 hover:border-neutral-300"),children:[(0,ct.jsx)(St,{className:"w-4 h-4 inline mr-2"}),"Player Statistics"]})]})}),(0,ct.jsxs)("div",{className:"min-h-[400px]",children:["overview"===u&&(0,ct.jsx)("div",{className:"space-y-6",children:(0,ct.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-lg overflow-hidden",children:[(0,ct.jsx)("div",{className:"px-6 py-4 border-b border-neutral-200",children:(0,ct.jsx)("h3",{className:"text-lg font-semibold text-brand-black",children:"Team Statistics"})}),(0,ct.jsxs)("div",{className:"p-6",children:[(0,ct.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,ct.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,ct.jsx)(qe,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),(0,ct.jsx)("p",{className:"text-sm text-neutral-600",children:"Wins"}),(0,ct.jsx)("p",{className:"text-2xl font-bold text-green-600",children:n.statistics.wins})]}),(0,ct.jsxs)("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[(0,ct.jsx)(pt,{className:"w-8 h-8 text-red-600 mx-auto mb-2"}),(0,ct.jsx)("p",{className:"text-sm text-neutral-600",children:"Losses"}),(0,ct.jsx)("p",{className:"text-2xl font-bold text-red-600",children:n.statistics.losses})]}),(0,ct.jsxs)("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[(0,ct.jsx)(St,{className:"w-8 h-8 text-yellow-600 mx-auto mb-2"}),(0,ct.jsx)("p",{className:"text-sm text-neutral-600",children:"Ties"}),(0,ct.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:n.statistics.ties})]}),(0,ct.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[(0,ct.jsx)(qe,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),(0,ct.jsx)("p",{className:"text-sm text-neutral-600",children:"Total Points"}),(0,ct.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:n.statistics.total_points})]})]}),(0,ct.jsxs)("div",{className:"mt-6 grid grid-cols-2 gap-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-sm text-neutral-600",children:"Avg Total Net"}),(0,ct.jsx)("p",{className:"text-lg font-bold text-brand-black",children:n.statistics.avg_total_net.toFixed(2)})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-sm text-neutral-600",children:"Best Total Net"}),(0,ct.jsx)("p",{className:"text-lg font-bold text-brand-black",children:n.statistics.best_total_net})]})]})]})]})}),"matches"===u&&(0,ct.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-lg overflow-hidden",children:[(0,ct.jsx)("div",{className:"px-6 py-4 border-b border-neutral-200",children:(0,ct.jsx)("h3",{className:"text-lg font-semibold text-brand-black",children:"Match History"})}),(0,ct.jsx)("div",{className:"overflow-x-auto",children:(0,ct.jsxs)("table",{className:"min-w-full divide-y divide-neutral-200",children:[(0,ct.jsx)("thead",{className:"bg-neutral-50",children:(0,ct.jsxs)("tr",{children:[(0,ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Week"}),(0,ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Opponent"}),(0,ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Course"}),(0,ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Score"}),(0,ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Result"}),(0,ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Status"})]})}),(0,ct.jsx)("tbody",{className:"bg-white divide-y divide-neutral-200",children:i.map(e=>(0,ct.jsxs)("tr",{className:"hover:bg-neutral-50",children:[(0,ct.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-brand-black",children:["Week ",e.week_number]}),(0,ct.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-black",children:(0,ct.jsxs)("div",{children:[(0,ct.jsx)("div",{children:new Date(e.week_start_date).toLocaleDateString()}),(0,ct.jsxs)("div",{className:"text-xs text-neutral-500",children:["to ",new Date(e.week_end_date).toLocaleDateString()]})]})}),(0,ct.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-black",children:(0,ct.jsx)("div",{className:"font-medium",children:e.opponent_name})}),(0,ct.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-black",children:(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)(Ge,{className:"w-4 h-4 text-neutral-400 mr-1"}),e.course_name||"TBD"]})}),(0,ct.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-black",children:"completed"===e.status?(0,ct.jsxs)("div",{className:"font-medium",children:[e.team_score," - ",e.opponent_score]}):(0,ct.jsx)("span",{className:"text-neutral-400",children:"TBD"})}),(0,ct.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-black",children:(0,ct.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(g(e.result)),children:[p(e.result),(0,ct.jsx)("span",{className:"ml-1",children:e.result})]})}),(0,ct.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-black",children:(0,ct.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("completed"===e.status?"bg-green-100 text-green-800":"scheduled"===e.status?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})})]},e.id))})]})})]}),"trends"===u&&(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-lg overflow-hidden",children:[(0,ct.jsxs)("div",{className:"px-6 py-4 border-b border-neutral-200",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-brand-black",children:"Scoring Trends"}),(0,ct.jsx)("p",{className:"text-sm text-neutral-600",children:"Performance analysis over time"})]}),(0,ct.jsx)("div",{className:"p-6",children:(0,ct.jsxs)("div",{className:"text-center py-8",children:[(0,ct.jsx)(gt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,ct.jsx)("p",{className:"text-gray-600",children:"Scoring trends visualization coming soon"}),(0,ct.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"This will show team performance over time with charts and graphs"})]})})]}),(0,ct.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-lg overflow-hidden",children:[(0,ct.jsxs)("div",{className:"px-6 py-4 border-b border-neutral-200",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-brand-black",children:"Recent Form"}),(0,ct.jsx)("p",{className:"text-sm text-neutral-600",children:"Last 5 matches performance"})]}),(0,ct.jsxs)("div",{className:"p-6",children:[(0,ct.jsx)("div",{className:"flex items-center space-x-2",children:i.slice(0,5).map((e,t)=>(0,ct.jsx)("div",{className:"flex items-center",children:(0,ct.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(g(e.result)),children:p(e.result)})},t))}),(0,ct.jsx)("div",{className:"mt-4 text-sm text-neutral-600",children:(0,ct.jsxs)("p",{children:["Recent form: ",i.slice(0,5).map(e=>e.result).join("-")]})})]})]})]})]})]}):(0,ct.jsxs)("div",{className:"text-center py-8",children:[(0,ct.jsx)(Ye,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,ct.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Team Data"}),(0,ct.jsx)("p",{className:"text-gray-600",children:"Unable to load team information."})]})},Rp=e=>{let{leagueId:t,weekNumber:s,onBack:r}=e;const[n,l]=(0,a.useState)(null),[i,o]=(0,a.useState)(!0),[c,d]=(0,a.useState)(s||1),[u,m]=(0,a.useState)("results");(0,a.useEffect)(()=>{x()},[t,c]);const x=async()=>{o(!0);try{l({league:{id:t,name:"UAL Season 2 Winter 2025",season:"Winter 2025"},week_number:c,week_start_date:"2025-01-22",week_end_date:"2025-01-28",matchups:[{id:1,league_id:t,week_number:c,division_id:1,division_name:"Division A",team1_id:1,team2_id:2,team1_name:"Team Alpha",team2_name:"Team Beta",winner_team_id:1,status:"completed",week_start_date:"2025-01-22",week_end_date:"2025-01-28",course_name:"Pebble Beach",course_rating:72,course_slope:140,course_par:72,team1_individual_net:18,team2_individual_net:19,team1_alternate_shot_net:16,team2_alternate_shot_net:17,team1_total_net:34,team2_total_net:36,team1_points:1,team2_points:0,match_date:"2025-01-25",completed_at:"2025-01-25T18:30:00Z"},{id:2,league_id:t,week_number:c,division_id:1,division_name:"Division A",team1_id:3,team2_id:4,team1_name:"Team Gamma",team2_name:"Team Delta",winner_team_id:4,status:"completed",week_start_date:"2025-01-22",week_end_date:"2025-01-28",course_name:"Augusta National",course_rating:74,course_slope:135,course_par:72,team1_individual_net:20,team2_individual_net:17,team1_alternate_shot_net:18,team2_alternate_shot_net:15,team1_total_net:38,team2_total_net:32,team1_points:0,team2_points:1,match_date:"2025-01-26",completed_at:"2025-01-26T17:45:00Z"},{id:3,league_id:t,week_number:c,division_id:2,division_name:"Division B",team1_id:5,team2_id:6,team1_name:"Team Epsilon",team2_name:"Team Zeta",winner_team_id:null,status:"completed",week_start_date:"2025-01-22",week_end_date:"2025-01-28",course_name:"St. Andrews",course_rating:71,course_slope:130,course_par:72,team1_individual_net:18,team2_individual_net:18,team1_alternate_shot_net:17,team2_alternate_shot_net:17,team1_total_net:35,team2_total_net:35,team1_points:.5,team2_points:.5,match_date:"2025-01-27",completed_at:"2025-01-27T16:20:00Z"},{id:4,league_id:t,week_number:c,division_id:2,division_name:"Division B",team1_id:7,team2_id:8,team1_name:"Team Theta",team2_name:"Team Iota",winner_team_id:null,status:"scheduled",week_start_date:"2025-01-22",week_end_date:"2025-01-28",course_name:"Cypress Point",course_rating:73,course_slope:145,course_par:72,team1_individual_net:0,team2_individual_net:0,team1_alternate_shot_net:0,team2_alternate_shot_net:0,team1_total_net:0,team2_total_net:0,team1_points:0,team2_points:0,match_date:"2025-01-28",completed_at:""}],standings_changes:[{team_id:1,team_name:1,division_name:"Division A",previous_rank:2,current_rank:1,rank_change:-1,points_change:1,previous_points:12,current_points:13},{team_id:2,team_name:2,division_name:"Division A",previous_rank:1,current_rank:2,rank_change:1,points_change:0,previous_points:12,current_points:12},{team_id:4,team_name:4,division_name:"Division A",previous_rank:3,current_rank:3,rank_change:0,points_change:1,previous_points:8,current_points:9}],total_matches:4,completed_matches:3,pending_matches:1}),setTimeout(()=>{o(!1)},500)}catch(e){console.error("Error loading weekly results:",e),_s.error("Failed to load weekly results"),o(!1)}},h=e=>{const t=Array.from({length:12},(e,t)=>t+1),s=t.indexOf(c);"prev"===e&&s>0?d(t[s-1]):"next"===e&&s<t.length-1&&d(t[s+1])},p=(e,t)=>"completed"!==e.status?(0,ct.jsx)(Qs,{className:"w-4 h-4 text-gray-400"}):e.winner_team_id===t?(0,ct.jsx)(Xe,{className:"w-4 h-4 text-green-500"}):null===e.winner_team_id?(0,ct.jsx)(Nr,{className:"w-4 h-4 text-yellow-500"}):(0,ct.jsx)(Tp,{className:"w-4 h-4 text-red-500"}),g=(e,t)=>"completed"!==e.status?"bg-gray-100 text-gray-800":e.winner_team_id===t?"bg-green-100 text-green-800":null===e.winner_team_id?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",f=e=>{switch(e){case"completed":return"bg-green-100 text-green-800";case"scheduled":return"bg-blue-100 text-blue-800";case"in_progress":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},b=e=>e>0?(0,ct.jsx)(Xe,{className:"w-4 h-4 text-green-500"}):e<0?(0,ct.jsx)(Tp,{className:"w-4 h-4 text-red-500"}):(0,ct.jsx)(Nr,{className:"w-4 h-4 text-gray-500"}),v=e=>e>0?"text-green-600":e<0?"text-red-600":"text-gray-600";return i?(0,ct.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,ct.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-neon-green"})}):n?(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-3",children:[r&&(0,ct.jsx)("button",{onClick:r,className:"p-2 hover:bg-neutral-100 rounded-lg transition-colors",children:(0,ct.jsx)(Fs,{className:"w-5 h-5 text-neutral-600"})}),(0,ct.jsx)(Nt,{className:"w-8 h-8 text-brand-neon-green"}),(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("h1",{className:"text-2xl font-bold text-brand-black",children:["Week ",n.week_number," Results"]}),(0,ct.jsxs)("p",{className:"text-neutral-600",children:[n.league.name," - ",n.league.season]})]})]}),(0,ct.jsx)("div",{className:"flex items-center space-x-3",children:(0,ct.jsxs)("button",{onClick:()=>x(),className:"flex items-center space-x-2 px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg hover:bg-green-400 transition-colors",children:[(0,ct.jsx)(Ut,{className:"w-4 h-4"}),(0,ct.jsx)("span",{children:"Refresh"})]})})]}),(0,ct.jsx)("div",{className:"bg-white border border-neutral-200 rounded-lg p-4",children:(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("button",{onClick:()=>h("prev"),disabled:c<=1,className:"flex items-center space-x-2 px-4 py-2 bg-neutral-100 text-neutral-700 rounded-lg hover:bg-neutral-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,ct.jsx)(Ws,{className:"w-4 h-4"}),(0,ct.jsx)("span",{children:"Previous Week"})]}),(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsxs)("div",{className:"text-lg font-semibold text-brand-black",children:["Week ",n.week_number]}),(0,ct.jsxs)("div",{className:"text-sm text-neutral-600",children:[new Date(n.week_start_date).toLocaleDateString()," - ",new Date(n.week_end_date).toLocaleDateString()]})]}),(0,ct.jsxs)("button",{onClick:()=>h("next"),disabled:c>=12,className:"flex items-center space-x-2 px-4 py-2 bg-neutral-100 text-neutral-700 rounded-lg hover:bg-neutral-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,ct.jsx)("span",{children:"Next Week"}),(0,ct.jsx)(yt,{className:"w-4 h-4"})]})]})}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,ct.jsx)("div",{className:"bg-white p-6 rounded-lg border border-neutral-200",children:(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)(Nt,{className:"w-8 h-8 text-brand-neon-green"}),(0,ct.jsxs)("div",{className:"ml-4",children:[(0,ct.jsx)("p",{className:"text-sm font-medium text-neutral-600",children:"Total Matches"}),(0,ct.jsx)("p",{className:"text-2xl font-bold text-brand-black",children:n.total_matches})]})]})}),(0,ct.jsx)("div",{className:"bg-white p-6 rounded-lg border border-neutral-200",children:(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)(qe,{className:"w-8 h-8 text-green-500"}),(0,ct.jsxs)("div",{className:"ml-4",children:[(0,ct.jsx)("p",{className:"text-sm font-medium text-neutral-600",children:"Completed"}),(0,ct.jsx)("p",{className:"text-2xl font-bold text-brand-black",children:n.completed_matches})]})]})}),(0,ct.jsx)("div",{className:"bg-white p-6 rounded-lg border border-neutral-200",children:(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)(Qs,{className:"w-8 h-8 text-blue-500"}),(0,ct.jsxs)("div",{className:"ml-4",children:[(0,ct.jsx)("p",{className:"text-sm font-medium text-neutral-600",children:"Pending"}),(0,ct.jsx)("p",{className:"text-2xl font-bold text-brand-black",children:n.pending_matches})]})]})}),(0,ct.jsx)("div",{className:"bg-white p-6 rounded-lg border border-neutral-200",children:(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)(ft,{className:"w-8 h-8 text-purple-500"}),(0,ct.jsxs)("div",{className:"ml-4",children:[(0,ct.jsx)("p",{className:"text-sm font-medium text-neutral-600",children:"Completion Rate"}),(0,ct.jsxs)("p",{className:"text-2xl font-bold text-brand-black",children:[n.total_matches>0?(n.completed_matches/n.total_matches*100).toFixed(0):0,"%"]})]})]})})]}),(0,ct.jsx)("div",{className:"border-b border-neutral-200",children:(0,ct.jsxs)("nav",{className:"flex space-x-8",children:[(0,ct.jsxs)("button",{onClick:()=>m("results"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("results"===u?"border-brand-neon-green text-brand-neon-green":"border-transparent text-neutral-500 hover:text-neutral-700 hover:border-neutral-300"),children:[(0,ct.jsx)(qe,{className:"w-4 h-4 inline mr-2"}),"Match Results"]}),(0,ct.jsxs)("button",{onClick:()=>m("standings"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("standings"===u?"border-brand-neon-green text-brand-neon-green":"border-transparent text-neutral-500 hover:text-neutral-700 hover:border-neutral-300"),children:[(0,ct.jsx)(gt,{className:"w-4 h-4 inline mr-2"}),"Standings Changes"]}),(0,ct.jsxs)("button",{onClick:()=>m("summary"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("summary"===u?"border-brand-neon-green text-brand-neon-green":"border-transparent text-neutral-500 hover:text-neutral-700 hover:border-neutral-300"),children:[(0,ct.jsx)(pt,{className:"w-4 h-4 inline mr-2"}),"Week Summary"]})]})}),(0,ct.jsxs)("div",{className:"min-h-[600px]",children:["results"===u&&(0,ct.jsx)("div",{className:"space-y-6",children:(0,ct.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-lg overflow-hidden",children:[(0,ct.jsxs)("div",{className:"px-6 py-4 border-b border-neutral-200",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-brand-black",children:"Match Results"}),(0,ct.jsxs)("p",{className:"text-sm text-neutral-600",children:["All matchups for Week ",n.week_number]})]}),(0,ct.jsx)("div",{className:"overflow-x-auto",children:(0,ct.jsxs)("table",{className:"min-w-full divide-y divide-neutral-200",children:[(0,ct.jsx)("thead",{className:"bg-neutral-50",children:(0,ct.jsxs)("tr",{children:[(0,ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Division"}),(0,ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Matchup"}),(0,ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Course"}),(0,ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Scores"}),(0,ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Result"}),(0,ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Points"}),(0,ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Status"})]})}),(0,ct.jsx)("tbody",{className:"bg-white divide-y divide-neutral-200",children:n.matchups.map(e=>(0,ct.jsxs)("tr",{className:"hover:bg-neutral-50",children:[(0,ct.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-black",children:e.division_name}),(0,ct.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-black",children:(0,ct.jsxs)("div",{children:[(0,ct.jsx)("div",{className:"font-medium",children:e.team1_name}),(0,ct.jsx)("div",{className:"text-xs text-neutral-500",children:"vs"}),(0,ct.jsx)("div",{className:"font-medium",children:e.team2_name})]})}),(0,ct.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-black",children:(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)(Ge,{className:"w-4 h-4 text-neutral-400 mr-1"}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("div",{className:"font-medium",children:e.course_name||"TBD"}),e.course_par&&(0,ct.jsxs)("div",{className:"text-xs text-neutral-500",children:["Par ",e.course_par]})]})]})}),(0,ct.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-black",children:"completed"===e.status?(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("div",{className:"font-medium",children:[e.team1_total_net," - ",e.team2_total_net]}),(0,ct.jsxs)("div",{className:"text-xs text-neutral-500",children:["Individual: ",e.team1_individual_net," - ",e.team2_individual_net]}),(0,ct.jsxs)("div",{className:"text-xs text-neutral-500",children:["Alt Shot: ",e.team1_alternate_shot_net," - ",e.team2_alternate_shot_net]})]}):(0,ct.jsx)("span",{className:"text-neutral-400",children:"TBD"})}),(0,ct.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-black",children:(0,ct.jsxs)("div",{className:"flex space-x-2",children:[(0,ct.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(g(e,e.team1_id)),children:p(e,e.team1_id)}),(0,ct.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(g(e,e.team2_id)),children:p(e,e.team2_id)})]})}),(0,ct.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-black",children:"completed"===e.status?(0,ct.jsx)("div",{children:(0,ct.jsxs)("div",{className:"font-medium",children:[e.team1_points," - ",e.team2_points]})}):(0,ct.jsx)("span",{className:"text-neutral-400",children:"TBD"})}),(0,ct.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-black",children:(0,ct.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(f(e.status)),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})})]},e.id))})]})})]})}),"standings"===u&&(0,ct.jsx)("div",{className:"space-y-6",children:(0,ct.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-lg overflow-hidden",children:[(0,ct.jsxs)("div",{className:"px-6 py-4 border-b border-neutral-200",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-brand-black",children:"Standings Changes"}),(0,ct.jsxs)("p",{className:"text-sm text-neutral-600",children:["Rank and points changes after Week ",n.week_number]})]}),n.standings_changes.length>0?(0,ct.jsx)("div",{className:"overflow-x-auto",children:(0,ct.jsxs)("table",{className:"min-w-full divide-y divide-neutral-200",children:[(0,ct.jsx)("thead",{className:"bg-neutral-50",children:(0,ct.jsxs)("tr",{children:[(0,ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Team"}),(0,ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Division"}),(0,ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Rank Change"}),(0,ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Points Change"}),(0,ct.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Current Points"})]})}),(0,ct.jsx)("tbody",{className:"bg-white divide-y divide-neutral-200",children:n.standings_changes.map(e=>(0,ct.jsxs)("tr",{className:"hover:bg-neutral-50",children:[(0,ct.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-brand-black",children:e.team_name}),(0,ct.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-black",children:e.division_name}),(0,ct.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-black",children:(0,ct.jsxs)("div",{className:"flex items-center",children:[b(e.rank_change),(0,ct.jsx)("span",{className:"ml-1 font-medium ".concat(v(e.rank_change)),children:e.rank_change>0?"+".concat(e.rank_change):e.rank_change}),(0,ct.jsxs)("span",{className:"ml-2 text-xs text-neutral-500",children:["(",e.previous_rank," \u2192 ",e.current_rank,")"]})]})}),(0,ct.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-black",children:(0,ct.jsx)("span",{className:"font-medium ".concat(e.points_change>0?"text-green-600":e.points_change<0?"text-red-600":"text-gray-600"),children:e.points_change>0?"+".concat(e.points_change):e.points_change})}),(0,ct.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-brand-black",children:(0,ct.jsx)("span",{className:"font-bold",children:e.current_points})})]},e.team_id))})]})}):(0,ct.jsxs)("div",{className:"p-6 text-center",children:[(0,ct.jsx)(gt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,ct.jsx)("p",{className:"text-gray-600",children:"No standings changes data available"}),(0,ct.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Standings changes will be calculated after matches are completed"})]})]})}),"summary"===u&&(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-lg overflow-hidden",children:[(0,ct.jsxs)("div",{className:"px-6 py-4 border-b border-neutral-200",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-brand-black",children:"Week Summary"}),(0,ct.jsxs)("p",{className:"text-sm text-neutral-600",children:["Overview of Week ",n.week_number," performance"]})]}),(0,ct.jsx)("div",{className:"p-6",children:(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h4",{className:"text-sm font-medium text-neutral-700 mb-3",children:"Match Status"}),(0,ct.jsxs)("div",{className:"space-y-2",children:[(0,ct.jsxs)("div",{className:"flex justify-between",children:[(0,ct.jsx)("span",{className:"text-sm text-neutral-600",children:"Total Matches:"}),(0,ct.jsx)("span",{className:"text-sm font-medium text-brand-black",children:n.total_matches})]}),(0,ct.jsxs)("div",{className:"flex justify-between",children:[(0,ct.jsx)("span",{className:"text-sm text-neutral-600",children:"Completed:"}),(0,ct.jsx)("span",{className:"text-sm font-medium text-green-600",children:n.completed_matches})]}),(0,ct.jsxs)("div",{className:"flex justify-between",children:[(0,ct.jsx)("span",{className:"text-sm text-neutral-600",children:"Pending:"}),(0,ct.jsx)("span",{className:"text-sm font-medium text-blue-600",children:n.pending_matches})]}),(0,ct.jsxs)("div",{className:"flex justify-between border-t pt-2",children:[(0,ct.jsx)("span",{className:"text-sm font-medium text-neutral-700",children:"Completion Rate:"}),(0,ct.jsxs)("span",{className:"text-sm font-bold text-brand-black",children:[n.total_matches>0?(n.completed_matches/n.total_matches*100).toFixed(1):0,"%"]})]})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h4",{className:"text-sm font-medium text-neutral-700 mb-3",children:"Week Information"}),(0,ct.jsxs)("div",{className:"space-y-2",children:[(0,ct.jsxs)("div",{className:"flex justify-between",children:[(0,ct.jsx)("span",{className:"text-sm text-neutral-600",children:"Week Number:"}),(0,ct.jsx)("span",{className:"text-sm font-medium text-brand-black",children:n.week_number})]}),(0,ct.jsxs)("div",{className:"flex justify-between",children:[(0,ct.jsx)("span",{className:"text-sm text-neutral-600",children:"Start Date:"}),(0,ct.jsx)("span",{className:"text-sm font-medium text-brand-black",children:new Date(n.week_start_date).toLocaleDateString()})]}),(0,ct.jsxs)("div",{className:"flex justify-between",children:[(0,ct.jsx)("span",{className:"text-sm text-neutral-600",children:"End Date:"}),(0,ct.jsx)("span",{className:"text-sm font-medium text-brand-black",children:new Date(n.week_end_date).toLocaleDateString()})]}),(0,ct.jsxs)("div",{className:"flex justify-between border-t pt-2",children:[(0,ct.jsx)("span",{className:"text-sm font-medium text-neutral-700",children:"League:"}),(0,ct.jsx)("span",{className:"text-sm font-bold text-brand-black",children:n.league.name})]})]})]})]})})]}),(0,ct.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-lg overflow-hidden",children:[(0,ct.jsxs)("div",{className:"px-6 py-4 border-b border-neutral-200",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-brand-black",children:"Division Breakdown"}),(0,ct.jsxs)("p",{className:"text-sm text-neutral-600",children:["Matches by division for Week ",n.week_number]})]}),(0,ct.jsx)("div",{className:"p-6",children:(0,ct.jsx)("div",{className:"space-y-4",children:Object.entries(n.matchups.reduce((e,t)=>{const s=t.division_name;return e[s]||(e[s]={total:0,completed:0}),e[s].total++,"completed"===t.status&&e[s].completed++,e},{})).map(e=>{let[t,s]=e;return(0,ct.jsxs)("div",{className:"flex items-center justify-between p-4 bg-neutral-50 rounded-lg",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h4",{className:"text-sm font-medium text-brand-black",children:t}),(0,ct.jsxs)("p",{className:"text-xs text-neutral-600",children:[s.completed," of ",s.total," matches completed"]})]}),(0,ct.jsxs)("div",{className:"text-right",children:[(0,ct.jsxs)("div",{className:"text-sm font-medium text-brand-black",children:[s.total>0?(s.completed/s.total*100).toFixed(0):0,"%"]}),(0,ct.jsx)("div",{className:"text-xs text-neutral-600",children:"completion"})]})]},t)})})})]})]})]})]}):(0,ct.jsxs)("div",{className:"text-center py-8",children:[(0,ct.jsx)(Nt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,ct.jsx)("p",{className:"text-gray-600",children:"No weekly results data available"})]})},Lp=()=>{const{user:e,viewAsMode:t}=mt(),[s,r]=(0,a.useState)(!1),[n,l]=(0,a.useState)(null),[i,o]=(0,a.useState)(new Set),[c,d]=(0,a.useState)(null);(0,a.useEffect)(()=>{e&&(async()=>{try{r(!0),l(null);const s=t.isActive?t.viewAsClub:null===e||void 0===e?void 0:e.club;console.log("Loading club pro data...",{user:null===e||void 0===e?void 0:e.member_id,role:null===e||void 0===e?void 0:e.role,targetClub:s,viewAsMode:t.isActive});const[a,n]=await Promise.all([(0,tt.tNK)(s),(0,tt.BUI)(s)]);console.log("Handicaps response:",a.data),console.log("Tournaments response:",n.data);const i={club:a.data.club,members:a.data.players.map(e=>{const t=n.data.players.find(t=>t.member_id===e.member_id);return{member_id:e.member_id,first_name:e.first_name,last_name:e.last_name,sim_handicap:e.sim_handicap,total_rounds:e.total_rounds,tournaments:(null===t||void 0===t?void 0:t.tournaments)||[]}})};d(i)}catch(Zp){console.error("Failed to load club pro data",Zp),l(Zp instanceof Error?Zp.message:"Failed to load data")}finally{r(!1)}})()},[e,t]);return e?(0,ct.jsxs)("div",{className:"space-y-6",children:[n&&(0,ct.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,ct.jsx)("div",{className:"flex",children:(0,ct.jsxs)("div",{className:"ml-3",children:[(0,ct.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),(0,ct.jsx)("div",{className:"mt-2 text-sm text-red-700",children:(0,ct.jsx)("p",{children:n})})]})})}),(0,ct.jsxs)("div",{className:"bg-white/95 backdrop-blur-sm shadow rounded-lg p-4",children:[(0,ct.jsxs)("h2",{className:"text-lg font-semibold mb-3",children:["Member Summary ",null!==c&&void 0!==c&&c.club?"- ".concat(c.club):""]}),s&&(0,ct.jsx)("div",{children:"Loading..."}),!s&&c&&(0,ct.jsx)("div",{className:"overflow-x-auto",children:(0,ct.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ct.jsx)("thead",{className:"bg-gray-50",children:(0,ct.jsxs)("tr",{children:[(0,ct.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member"}),(0,ct.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SIM HCP"}),(0,ct.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rounds"}),(0,ct.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tournaments"}),(0,ct.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,ct.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"})]})}),(0,ct.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:c.members.map(e=>{var t;const s=i.has(e.member_id),r=e.tournaments.filter(e=>"active"===e.participation_status).length,n=e.tournaments.filter(e=>"completed"===e.participation_status).length,l=e.tournaments.filter(e=>"registered"===e.participation_status).length;return(0,ct.jsxs)(a.Fragment,{children:[(0,ct.jsxs)("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>(e=>{const t=new Set(i);t.has(e)?t.delete(e):t.add(e),o(t)})(e.member_id),children:[(0,ct.jsxs)("td",{className:"px-3 py-2 whitespace-nowrap font-medium text-gray-900",children:[e.first_name," ",e.last_name]}),(0,ct.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-gray-900",children:null!==(t=e.sim_handicap)&&void 0!==t?t:"-"}),(0,ct.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-gray-900",children:e.total_rounds}),(0,ct.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-gray-900",children:e.tournaments.length}),(0,ct.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,ct.jsxs)("div",{className:"flex gap-1",children:[r>0&&(0,ct.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[r," active"]}),n>0&&(0,ct.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[n," completed"]}),l>0&&(0,ct.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[l," registered"]}),0===e.tournaments.length&&(0,ct.jsx)("span",{className:"text-gray-400 text-xs",children:"No tournaments"})]})}),(0,ct.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-gray-400",children:(0,ct.jsx)("svg",{className:"w-4 h-4 transform transition-transform ".concat(s?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ct.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),s&&(0,ct.jsx)("tr",{children:(0,ct.jsx)("td",{colSpan:6,className:"px-3 py-2 bg-gray-50",children:(0,ct.jsxs)("div",{className:"ml-4",children:[(0,ct.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Tournament Details"}),e.tournaments.length>0?(0,ct.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:e.tournaments.map(e=>(0,ct.jsxs)("div",{className:"bg-white rounded p-2 text-sm border",children:[(0,ct.jsx)("div",{className:"font-medium text-gray-900",children:e.tournament_name}),(0,ct.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,ct.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("completed"===e.participation_status?"bg-green-100 text-green-800":"active"===e.participation_status?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"),children:e.participation_status}),e.start_date&&(0,ct.jsx)("span",{className:"text-gray-500 text-xs",children:new Date(e.start_date).toLocaleDateString()})]})]},e.tournament_id))}):(0,ct.jsx)("div",{className:"text-gray-500 text-sm",children:"No tournament participation"})]})})})]},e.member_id)})})]})})]})]}):null},Fp=()=>{const{login:e,loading:t}=mt(),[s,r]=(0,a.useState)(""),[n,l]=(0,a.useState)(""),[i,o]=(0,a.useState)(""),c=Z(),d=J();return(0,ct.jsxs)("div",{className:"max-w-md mx-auto bg-white/95 rounded-2xl p-4 sm:p-8 shadow-lg mt-8 sm:mt-16 mx-4 sm:mx-auto",children:[(0,ct.jsxs)("div",{className:"text-center mb-4 sm:mb-6",children:[(0,ct.jsx)("img",{src:"/logo-color.svg",alt:"Golf League Logo",className:"h-12 sm:h-16 w-auto mx-auto mb-3 sm:mb-4"}),(0,ct.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-brand-black",children:"Login"}),(0,ct.jsx)("p",{className:"text-neutral-600 mt-2 text-sm sm:text-base",children:"Welcome back to the golf league"})]}),(0,ct.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),o("");try{var a;await e(s,n);const t=(null===(a=d.state)||void 0===a?void 0:a.from)||"/profile";c(t)}catch(r){o("Invalid email or password")}},className:"space-y-4 sm:space-y-6",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Email"}),(0,ct.jsx)("input",{type:"email",value:s,onChange:e=>r(e.target.value),className:"w-full px-3 py-3 sm:py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent text-base",required:!0,placeholder:"Enter your email"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Password"}),(0,ct.jsx)("input",{type:"password",value:n,onChange:e=>l(e.target.value),className:"w-full px-3 py-3 sm:py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent text-base",required:!0,placeholder:"Enter your password"}),(0,ct.jsx)("div",{className:"text-right mt-1",children:(0,ct.jsx)(Te,{to:"/reset-password",className:"text-sm text-brand-neon-green hover:text-green-400",children:"Forgot password?"})})]}),i&&(0,ct.jsx)("div",{className:"text-red-600 text-sm text-center",children:i}),(0,ct.jsx)("button",{type:"submit",className:"w-full px-4 py-3 sm:py-2 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors disabled:opacity-50 text-base",disabled:t,children:t?"Logging in...":"Login"})]}),(0,ct.jsx)("div",{className:"mt-4 sm:mt-6 text-center",children:(0,ct.jsxs)("p",{className:"text-neutral-600 text-sm",children:["New member?"," ",(0,ct.jsx)(Te,{to:"/claim-account",className:"text-brand-neon-green hover:text-green-400 font-medium",children:"Claim your account"})]})})]})},Op=()=>{const{user:e}=mt(),t=Z(),[s,r]=(0,a.useState)({password:"",confirmPassword:""}),[n,l]=(0,a.useState)(""),[i,o]=(0,a.useState)(!1),c=e=>{r((0,Re.A)((0,Re.A)({},s),{},{[e.target.name]:e.target.value}))};return e?(0,ct.jsxs)("div",{className:"max-w-md mx-auto bg-white/95 rounded-2xl p-8 shadow-lg mt-16",children:[(0,ct.jsxs)("div",{className:"text-center mb-6",children:[(0,ct.jsx)("img",{src:"/logo-color.svg",alt:"Golf League Logo",className:"h-16 w-auto mx-auto mb-4"}),(0,ct.jsx)("h1",{className:"text-3xl font-bold text-brand-black",children:"Set Your Password"}),(0,ct.jsxs)("p",{className:"text-neutral-600 mt-2",children:["Welcome, ",e.first_name,"! Please set a password for your account."]})]}),(0,ct.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),l(""),s.password===s.confirmPassword)if(s.password.length<6)l("Password must be at least 6 characters long");else try{o(!0),await(0,tt.fQY)(s.password),t("/profile")}catch(n){var a,r;l((null===(a=n.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.error)||"Failed to set password")}finally{o(!1)}else l("Passwords do not match")},className:"space-y-6",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"New Password"}),(0,ct.jsx)("input",{type:"password",name:"password",value:s.password,onChange:c,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",required:!0,minLength:6})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Confirm Password"}),(0,ct.jsx)("input",{type:"password",name:"confirmPassword",value:s.confirmPassword,onChange:c,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",required:!0})]}),n&&(0,ct.jsx)("div",{className:"text-red-600 text-sm text-center",children:n}),(0,ct.jsx)("button",{type:"submit",className:"w-full px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors disabled:opacity-50",disabled:i,children:i?"Setting Password...":"Set Password"})]})]}):(0,ct.jsx)(pe,{to:"/login"})},Ip=()=>{const{login:e}=mt(),t=Z(),s=J(),[r,n]=(0,a.useState)("email"),[l,i]=(0,a.useState)(""),[o,c]=(0,a.useState)(""),[d,u]=(0,a.useState)(""),[m,x]=(0,a.useState)(null),[h,p]=(0,a.useState)(""),[g,f]=(0,a.useState)(!1),b=async a=>{if(a.preventDefault(),p(""),o===d)if(o.length<6)p("Password must be at least 6 characters long");else{f(!0);try{var r;await(0,tt.GTW)(l,o),await e(l,o);const a=(null===(r=s.state)||void 0===r?void 0:r.from)||"/profile";t(a)}catch(c){var n,i;p((null===(n=c.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.error)||"Failed to claim account")}finally{f(!1)}}else p("Passwords do not match")},v=()=>{n("email"),p(""),x(null)};return"password"===r&&m?(0,ct.jsxs)("div",{className:"max-w-md mx-auto bg-white/95 rounded-2xl p-8 shadow-lg mt-16",children:[(0,ct.jsxs)("div",{className:"text-center mb-6",children:[(0,ct.jsx)("img",{src:"/logo-color.svg",alt:"Golf League Logo",className:"h-16 w-auto mx-auto mb-4"}),(0,ct.jsx)("h1",{className:"text-3xl font-bold text-brand-black",children:"Set Your Password"}),(0,ct.jsxs)("p",{className:"text-neutral-600 mt-2",children:["Welcome, ",m.first_name," ",m.last_name,"!"]}),(0,ct.jsx)("p",{className:"text-neutral-600 text-sm",children:"Please set a password to claim your account"})]}),(0,ct.jsxs)("form",{onSubmit:b,className:"space-y-6",children:[(0,ct.jsx)("div",{className:"bg-neutral-50 p-4 rounded-lg",children:(0,ct.jsxs)("p",{className:"text-sm text-neutral-600",children:[(0,ct.jsx)("strong",{children:"Account Details:"}),(0,ct.jsx)("br",{}),"Name: ",m.first_name," ",m.last_name,(0,ct.jsx)("br",{}),"Email: ",m.email_address,(0,ct.jsx)("br",{}),"Club: ",m.club||"Not specified"]})}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Password"}),(0,ct.jsx)("input",{type:"password",value:o,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",required:!0,minLength:6,placeholder:"Enter your password"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Confirm Password"}),(0,ct.jsx)("input",{type:"password",value:d,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",required:!0,placeholder:"Confirm your password"})]}),h&&(0,ct.jsx)("div",{className:"text-red-600 text-sm text-center",children:h}),(0,ct.jsxs)("div",{className:"flex gap-3",children:[(0,ct.jsx)("button",{type:"button",onClick:v,className:"flex-1 px-4 py-2 border border-neutral-300 text-neutral-600 rounded-lg font-medium hover:bg-neutral-50 transition-colors",children:"Back"}),(0,ct.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors disabled:opacity-50",disabled:g,children:g?"Claiming Account...":"Claim Account"})]})]})]}):(0,ct.jsxs)("div",{className:"max-w-md mx-auto bg-white/95 rounded-2xl p-8 shadow-lg mt-16",children:[(0,ct.jsxs)("div",{className:"text-center mb-6",children:[(0,ct.jsx)("img",{src:"/logo-color.svg",alt:"Golf League Logo",className:"h-16 w-auto mx-auto mb-4"}),(0,ct.jsx)("h1",{className:"text-3xl font-bold text-brand-black",children:"Claim Your Account"}),(0,ct.jsx)("p",{className:"text-neutral-600 mt-2",children:"Enter your Mighty Network email to access your golf league account"})]}),(0,ct.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),p(""),f(!0);try{const e=await(0,tt.Ro1)(l),{user:t,hasPassword:s}=e.data;if(s)return void p("This account already has a password set. Please use the login page instead.");x(t),n("password")}catch(a){var t,s;p((null===(t=a.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.error)||"Failed to verify email")}finally{f(!1)}},className:"space-y-6",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Email Address"}),(0,ct.jsx)("input",{type:"email",value:l,onChange:e=>i(e.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",required:!0,placeholder:"Enter your email address"})]}),h&&(0,ct.jsx)("div",{className:"text-red-600 text-sm text-center",children:h}),(0,ct.jsx)("button",{type:"submit",className:"w-full px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors disabled:opacity-50",disabled:g,children:g?"Checking Email...":"Continue"})]}),(0,ct.jsx)("div",{className:"mt-6 text-center",children:(0,ct.jsxs)("p",{className:"text-neutral-600 text-sm",children:["Already have a password?"," ",(0,ct.jsx)("button",{onClick:()=>t("/login"),className:"text-brand-neon-green hover:text-green-400 font-medium",children:"Sign in here"})]})})]})},zp=()=>{const{login:e}=mt(),t=Z(),[s,r]=(0,a.useState)("email"),[n,l]=(0,a.useState)(""),[i,o]=(0,a.useState)(""),[c,d]=(0,a.useState)(""),[u,m]=(0,a.useState)(null),[x,h]=(0,a.useState)(""),[p,g]=(0,a.useState)(!1),f=async s=>{if(s.preventDefault(),h(""),i===c)if(i.length<6)h("Password must be at least 6 characters long");else{g(!0);try{await(0,tt.xwE)(n,i),await e(n,i),t("/profile")}catch(l){var a,r;h((null===(a=l.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.error)||"Failed to reset password")}finally{g(!1)}}else h("Passwords do not match")},b=()=>{r("email"),h(""),m(null)};return"password"===s&&u?(0,ct.jsxs)("div",{className:"max-w-md mx-auto bg-white/95 rounded-2xl p-8 shadow-lg mt-16",children:[(0,ct.jsxs)("div",{className:"text-center mb-6",children:[(0,ct.jsx)("img",{src:"/logo-color.svg",alt:"Golf League Logo",className:"h-16 w-auto mx-auto mb-4"}),(0,ct.jsx)("h1",{className:"text-3xl font-bold text-brand-black",children:"Reset Your Password"}),(0,ct.jsxs)("p",{className:"text-neutral-600 mt-2",children:["Welcome back, ",u.first_name," ",u.last_name,"!"]}),(0,ct.jsx)("p",{className:"text-neutral-600 text-sm",children:"Please enter your new password"})]}),(0,ct.jsxs)("form",{onSubmit:f,className:"space-y-6",children:[(0,ct.jsx)("div",{className:"bg-neutral-50 p-4 rounded-lg",children:(0,ct.jsxs)("p",{className:"text-sm text-neutral-600",children:[(0,ct.jsx)("strong",{children:"Account Details:"}),(0,ct.jsx)("br",{}),"Name: ",u.first_name," ",u.last_name,(0,ct.jsx)("br",{}),"Email: ",u.email_address,(0,ct.jsx)("br",{}),"Club: ",u.club||"Not specified"]})}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"New Password"}),(0,ct.jsx)("input",{type:"password",value:i,onChange:e=>o(e.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",required:!0,minLength:6,placeholder:"Enter your new password"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Confirm New Password"}),(0,ct.jsx)("input",{type:"password",value:c,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",required:!0,placeholder:"Confirm your new password"})]}),x&&(0,ct.jsx)("div",{className:"text-red-600 text-sm text-center",children:x}),(0,ct.jsxs)("div",{className:"flex gap-3",children:[(0,ct.jsx)("button",{type:"button",onClick:b,className:"flex-1 px-4 py-2 border border-neutral-300 text-neutral-600 rounded-lg font-medium hover:bg-neutral-50 transition-colors",children:"Back"}),(0,ct.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors disabled:opacity-50",disabled:p,children:p?"Resetting Password...":"Reset Password"})]})]})]}):(0,ct.jsxs)("div",{className:"max-w-md mx-auto bg-white/95 rounded-2xl p-8 shadow-lg mt-16",children:[(0,ct.jsxs)("div",{className:"text-center mb-6",children:[(0,ct.jsx)("img",{src:"/logo-color.svg",alt:"Golf League Logo",className:"h-16 w-auto mx-auto mb-4"}),(0,ct.jsx)("h1",{className:"text-3xl font-bold text-brand-black",children:"Reset Password"}),(0,ct.jsx)("p",{className:"text-neutral-600 mt-2",children:"Enter your Mighty Network email to reset your password"})]}),(0,ct.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),h(""),g(!0);try{const e=await(0,tt.Ro1)(n),{user:t,hasPassword:s}=e.data;if(!s)return void h('This account has not been claimed yet. Please use "Claim Account" instead.');m(t),r("password")}catch(a){var t,s;h((null===(t=a.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.error)||"Failed to verify email")}finally{g(!1)}},className:"space-y-6",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Email Address"}),(0,ct.jsx)("input",{type:"email",value:n,onChange:e=>l(e.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",required:!0,placeholder:"Enter your email address"})]}),x&&(0,ct.jsx)("div",{className:"text-red-600 text-sm text-center",children:x}),(0,ct.jsx)("button",{type:"submit",className:"w-full px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors disabled:opacity-50",disabled:p,children:p?"Checking Email...":"Continue"})]}),(0,ct.jsx)("div",{className:"mt-6 text-center",children:(0,ct.jsxs)("p",{className:"text-neutral-600 text-sm",children:["Remember your password?"," ",(0,ct.jsx)("button",{onClick:()=>t("/login"),className:"text-brand-neon-green hover:text-green-400 font-medium",children:"Sign in here"})]})})]})},Bp=We("group",[["path",{d:"M3 7V5c0-1.1.9-2 2-2h2",key:"adw53z"}],["path",{d:"M17 3h2c1.1 0 2 .9 2 2v2",key:"an4l38"}],["path",{d:"M21 17v2c0 1.1-.9 2-2 2h-2",key:"144t0e"}],["path",{d:"M7 21H5c-1.1 0-2-.9-2-2v-2",key:"rtnfgi"}],["rect",{width:"7",height:"5",x:"7",y:"7",rx:"1",key:"1eyiv7"}],["rect",{width:"7",height:"5",x:"10",y:"12",rx:"1",key:"1qlmkx"}]]),Up=ox({format:xh,parse:pp,startOfWeek:Px,getDay:fp,locales:{"en-US":s(8392)}}),Hp=()=>{const e=Z(),{user:t}=mt(),s=(null===t||void 0===t?void 0:t.club)||"No. 5",[r,n]=(0,a.useState)([]),[l,i]=(0,a.useState)([]),[o,c]=(0,a.useState)(!0),[d,u]=(0,a.useState)(""),[m,x]=(0,a.useState)(""),[h,p]=(0,a.useState)(null),[g,f]=(0,a.useState)(!0),[b,v]=(0,a.useState)(!1),[y,j]=(0,a.useState)(null),[N,w]=(0,a.useState)("solo"),[_,k]=(0,a.useState)(1),[S,C]=(0,a.useState)(1),[A,E]=(0,a.useState)(null),[T,P]=(0,a.useState)(!1),[D,M]=(0,a.useState)(!1),[R,L]=(0,a.useState)(null),[F,O]=(0,a.useState)("solo"),[I,z]=(0,a.useState)(1),[B,U]=(0,a.useState)(cu.DAY),[H,W]=(0,a.useState)(new Date),q=async()=>{try{c(!0);const e=(await tt.Ay$.get("/simulator-bookings",{params:{club_name:s}})).data;console.log("Fetched bookings:",e),n(e);const t=new Set;e.forEach(e=>{e.participants&&e.participants.forEach(e=>t.add(e))});let r={};if(t.size>0)try{const e=await tt.Ay$.get("/users");e.data.forEach(e=>{r[e.member_id]="".concat(e.first_name," ").concat(e.last_name)})}catch(a){console.error("Failed to fetch participant names:",a)}const l=e.map(e=>{var t;return(0,Re.A)((0,Re.A)({},e),{},{participantNames:(null===(t=e.participants)||void 0===t?void 0:t.map(e=>r[e]||"User ".concat(e)))||[]})});n(l),V(l)}catch(a){var e,t;console.error("Error fetching bookings:",a),u((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to fetch bookings")}finally{c(!1)}},V=e=>{const s=e.filter(e=>e.bay===S).map(e=>{var s;console.log("Processing booking:",e);const a=e.date.split("T")[0],r=new Date("".concat(a,"T").concat(e.start_time)),n=new Date("".concat(a,"T").concat(e.end_time)),l=(null===t||void 0===t?void 0:t.id)===e.user_id||(null===t||void 0===t?void 0:t.member_id)===e.user_id,i="social"===e.type&&!l&&!(null!==(s=e.participants)&&void 0!==s&&s.includes((null===t||void 0===t?void 0:t.id)||0)),o={id:e.id.toString(),title:"".concat(e.first_name," ").concat(e.last_name," - ").concat(e.type," - Bay ").concat(e.bay||1),start:r,end:n,booking:e,isOwnBooking:l,canJoin:i};return console.log("Created event:",o),o});console.log("All calendar events:",s),i(s)};(0,a.useEffect)(()=>{(async()=>{try{f(!0);const e=await tt.Ay$.get("/club-booking-settings/".concat(s));p(e.data)}catch(e){console.error("Error fetching booking settings:",e),p({id:0,club_name:s,number_of_bays:4,opening_time:"07:00",closing_time:"22:00",days_of_operation:"Mon,Tue,Wed,Thu,Fri,Sat,Sun",booking_duration_options:"30,60,90,120",max_advance_booking_days:30,min_booking_duration:30,max_booking_duration:240,enabled:!0})}finally{f(!1)}})(),q()},[]),(0,a.useEffect)(()=>{V(r)},[S,r]),(0,a.useEffect)(()=>{D&&A&&console.log("Reschedule dialog opened with:",{rescheduleSlot:R,selectedEvent:null===A||void 0===A?void 0:A.booking,rescheduleType:F,rescheduleBay:I})},[D,A,R,F,I]),(0,a.useEffect)(()=>{if(window.innerWidth<640&&B===cu.WEEK){const e=setTimeout(()=>{const e=(new Date).getDay(),t=document.querySelector(".rbc-time-content");if(t){const s=e/7*t.scrollWidth-window.innerWidth/2;t.scrollTo({left:Math.max(0,s),behavior:"smooth"})}},300);return()=>clearTimeout(e)}},[H,l,B]);const G=(e,t,s,a,n)=>r.find(r=>{if(n&&r.id===n)return!1;if(r.date.split("T")[0]!==e)return!1;if(r.bay!==a)return!1;const l=r.start_time,i=r.end_time;return t>=l&&t<i||s>l&&s<=i||t<=l&&s>=i}),Y=e=>{E(e),P(!0)},$={event:e=>{const t=e.event;return(0,ct.jsxs)("div",{className:"flex items-center justify-between w-full h-full p-1",children:[(0,ct.jsxs)("div",{className:"flex items-center min-w-0 flex-1",children:["social"===t.booking.type?(0,ct.jsx)(Bp,{className:"w-3 h-3 mr-1 flex-shrink-0"}):(0,ct.jsx)($e,{className:"w-3 h-3 mr-1 flex-shrink-0"}),(0,ct.jsx)("span",{className:"text-xs font-medium truncate",children:t.booking.first_name})]}),t.canJoin&&(0,ct.jsx)("button",{onClick:e=>{e.stopPropagation(),Y(t)},className:"ml-1 p-1.5 rounded-full hover:bg-white/20 transition-colors flex-shrink-0 min-w-[24px] min-h-[24px] flex items-center justify-center",title:"Join this social booking",children:(0,ct.jsx)(Gt,{className:"w-3 h-3"})})]})},toolbar:e=>(window.calendarNavigate=e.onNavigate,B===cu.DAY?(0,ct.jsx)("div",{className:"flex items-center justify-center p-3 bg-gray-50 border-b",children:(0,ct.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:xh(H,"EEEE, MMMM d, yyyy")})}):null),timeGutterHeader:()=>(0,ct.jsx)("div",{className:"text-[10px] text-gray-400"}),header:e=>{let{date:t,label:s}=e;const a=new Date,r=t.getDate()===a.getDate()&&t.getMonth()===a.getMonth()&&t.getFullYear()===a.getFullYear(),n=xh(t,"EEEEE"),l=xh(t,"d");return(0,ct.jsxs)("div",{style:{textAlign:"center"},children:[(0,ct.jsx)("div",{className:"day-letter",children:n}),(0,ct.jsx)("div",{className:"day-number ".concat(r?"today":""),children:l})]})}};return(0,ct.jsxs)("div",{className:"w-full sm:max-w-6xl sm:mx-auto relative pb-0 sm:pb-6",children:[(0,ct.jsx)(xn,{}),(0,ct.jsxs)("div",{className:"sm:hidden bg-brand-dark-green text-white px-2 py-3 flex items-center",children:[(0,ct.jsx)("button",{onClick:()=>e(-1),className:"p-2 hover:bg-white/10 rounded-lg flex-shrink-0",children:(0,ct.jsx)(Fs,{className:"w-5 h-5"})}),(0,ct.jsx)("div",{className:"flex-1 flex items-center justify-center px-2",children:(0,ct.jsxs)("span",{className:"text-base font-semibold",children:["Booking ",s]})}),h&&h.number_of_bays>1?(0,ct.jsxs)("div",{className:"flex items-center gap-1.5 pr-2 flex-shrink-0",children:[(0,ct.jsx)("span",{className:"text-xs opacity-90",children:"Bay"}),(0,ct.jsx)("div",{className:"flex gap-1",children:Array.from({length:h.number_of_bays},(e,t)=>t+1).map(e=>(0,ct.jsx)("button",{onClick:()=>C(e),className:"w-8 h-8 rounded-lg text-sm font-medium transition-colors ".concat(S===e?"bg-white text-brand-dark-green":"bg-white/20 text-white hover:bg-white/30"),children:e},e))})]}):(0,ct.jsx)("div",{className:"w-10 flex-shrink-0"})]}),(0,ct.jsx)("div",{className:"hidden sm:block bg-gradient-to-br from-brand-dark-green to-brand-muted-green rounded-xl shadow-md mb-4 sm:mb-6 p-4 sm:p-6",children:(0,ct.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,ct.jsxs)("div",{className:"flex-1",children:[(0,ct.jsxs)("h1",{className:"text-2xl sm:text-3xl font-bold text-white flex items-center",children:[(0,ct.jsx)(Nt,{className:"w-6 h-6 sm:w-8 sm:h-8 mr-2 sm:mr-3"}),"Simulator Bay Booking"]}),(0,ct.jsxs)("p",{className:"text-white/90 mt-2 text-sm sm:text-base",children:[s," - Tap calendar to create bookings"]})]}),(0,ct.jsx)(pa,{variant:"ghost",icon:Fs,onClick:()=>e(-1),className:"bg-white/10 text-white hover:bg-white/20 border-white/20 w-full sm:w-auto",size:"lg",children:"Back"})]})}),d&&(0,ct.jsx)(Pa,{variant:"outlined",className:"mb-4 border-red-300 bg-red-50 rounded-none sm:rounded-xl mx-0",children:(0,ct.jsx)(Ma,{className:"py-3",children:(0,ct.jsx)("p",{className:"text-red-800 text-sm sm:text-base",children:d})})}),m&&(0,ct.jsx)(Pa,{variant:"outlined",className:"mb-4 border-green-300 bg-green-50 rounded-none sm:rounded-xl mx-0",children:(0,ct.jsx)(Ma,{className:"py-3",children:(0,ct.jsx)("p",{className:"text-green-800 text-sm sm:text-base",children:m})})}),!g&&h&&(0,ct.jsx)(Pa,{variant:"elevated",className:"hidden sm:block mb-4 sm:mb-6 rounded-xl",children:(0,ct.jsx)(Ma,{children:(0,ct.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Select Simulator Bay"}),(0,ct.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:"Tap a bay to view its schedule"})]}),(0,ct.jsx)("div",{className:"grid grid-cols-2 sm:flex gap-2",children:Array.from({length:h.number_of_bays},(e,t)=>t+1).map(e=>(0,ct.jsxs)(pa,{variant:S===e?"primary":"outline",onClick:()=>C(e),size:"lg",className:"min-h-[48px]",children:["Bay ",e]},e))})]})})}),(0,ct.jsx)("div",{className:"bg-white shadow-none sm:shadow-md rounded-none sm:rounded-xl overflow-hidden",children:o||g?(0,ct.jsx)(Ma,{className:"py-16",children:(0,ct.jsx)(mn,{text:"Loading booking calendar..."})}):(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)("div",{className:"hidden sm:block bg-gray-50 border-b px-4 sm:px-6 py-3",children:(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ct.jsxs)("div",{className:"text-sm text-gray-600",children:[l.length," booking",1!==l.length?"s":""," loaded"]}),(0,ct.jsxs)("div",{className:"text-sm font-medium text-brand-dark-green",children:["Bay ",S]})]}),(0,ct.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded"}),(0,ct.jsx)("span",{className:"text-gray-600",children:"Solo"})]}),(0,ct.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ct.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded"}),(0,ct.jsx)("span",{className:"text-gray-600",children:"Social"})]})]})]})}),(0,ct.jsx)("div",{className:"h-[calc(100vh-120px)] sm:h-[600px] relative",children:h&&(0,ct.jsx)(nx,{localizer:Up,events:l,startAccessor:"start",endAccessor:"end",style:{height:"100%"},selectable:!0,onSelectSlot:e=>{let{start:t,end:s}=e;if(console.log("Slot selected:",{start:t,end:s}),D)return L({start:t,end:s}),void u("");if(D)return;const a=xh(t,"yyyy-MM-dd"),r=xh(t,"HH:mm"),n=xh(s,"HH:mm");console.log("Selected slot:",{selectedDate:a,selectedStart:r,selectedEnd:n});const l=G(a,r,n,S);l?u("This time slot is already booked by ".concat(l.first_name," ").concat(l.last_name," in Bay ").concat(l.bay||1,". Please choose a different time or bay.")):(j({start:t,end:s}),k(S),v(!0),u(""))},onSelectEvent:Y,eventPropGetter:e=>{let t={backgroundColor:"social"===e.booking.type?"#10B981":"#3B82F6",color:"white",borderRadius:"8px",border:"none",padding:"4px 8px",fontSize:"12px",fontWeight:"500"};return e.isOwnBooking&&(t.border="2px solid #F59E0B",t.boxShadow="0 2px 4px rgba(0,0,0,0.1)"),{style:t}},components:$,formats:{timeGutterFormat:e=>{const t=e.getHours();if(0!==e.getMinutes())return"";const s=t>=12?"PM":"AM";return"".concat(0===t?12:t>12?t-12:t," ").concat(s)}},step:30,timeslots:2,views:[cu.WEEK,cu.DAY],defaultView:B,view:B,onView:e=>U(e),date:H,onNavigate:e=>W(e),min:new Date(0,0,0,parseInt(h.opening_time.split(":")[0]),parseInt(h.opening_time.split(":")[1]),0),max:new Date(0,0,0,parseInt(h.closing_time.split(":")[0]),parseInt(h.closing_time.split(":")[1]),0),toolbar:!0,popup:!0,longPressThreshold:0})})]})}),(0,ct.jsxs)(Mr,{open:b,onClose:()=>v(!1),children:[(0,ct.jsx)(Rr,{children:"Create New Booking"}),(0,ct.jsx)(Lr,{children:(0,ct.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),(0,ct.jsx)("input",{type:"date",value:xh(y?y.start:new Date,"yyyy-MM-dd"),onChange:e=>{if(y){const t=new Date(e.target.value+"T00:00:00"),s=y.start,a=new Date(t.getFullYear(),t.getMonth(),t.getDate(),s.getHours(),s.getMinutes()),r=new Date(t.getFullYear(),t.getMonth(),t.getDate(),y.end.getHours(),y.end.getMinutes());j({start:a,end:r})}},className:"w-full px-4 py-3 sm:py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-dark-green focus:border-brand-dark-green text-base min-h-[48px]"})]}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Time"}),(0,ct.jsx)("input",{type:"time",value:y?xh(y.start,"HH:mm"):"",onChange:e=>{if(y){const[t,s]=e.target.value.split(":").map(Number),a=new Date(y.start);a.setHours(t,s),j({start:a,end:y.end})}},className:"w-full px-4 py-3 sm:py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-dark-green focus:border-brand-dark-green text-base min-h-[48px]"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Time"}),(0,ct.jsx)("input",{type:"time",value:y?xh(y.end,"HH:mm"):"",onChange:e=>{if(y){const[t,s]=e.target.value.split(":").map(Number),a=new Date(y.end);a.setHours(t,s),j({start:y.start,end:a})}},className:"w-full px-4 py-3 sm:py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-dark-green focus:border-brand-dark-green text-base min-h-[48px]"})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Booking Type"}),(0,ct.jsxs)("select",{value:N,onChange:e=>w(e.target.value),className:"w-full px-4 py-3 sm:py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-dark-green focus:border-brand-dark-green text-base min-h-[48px]",children:[(0,ct.jsx)("option",{value:"solo",children:"Solo"}),(0,ct.jsx)("option",{value:"social",children:"Social"})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Simulator Bay"}),(0,ct.jsx)("select",{value:_,onChange:e=>k(Number(e.target.value)),className:"w-full px-4 py-3 sm:py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-dark-green focus:border-brand-dark-green text-base min-h-[48px]",children:h&&Array.from({length:h.number_of_bays},(e,t)=>t+1).map(e=>(0,ct.jsxs)("option",{value:e,children:["Bay ",e]},e))})]})]})}),(0,ct.jsx)(Fr,{children:(0,ct.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 w-full sm:w-auto",children:[(0,ct.jsx)(pa,{variant:"outline",onClick:()=>v(!1),size:"lg",className:"w-full sm:w-auto order-2 sm:order-1",children:"Cancel"}),(0,ct.jsx)(pa,{variant:"primary",onClick:async()=>{if(!y)return;const e=xh(y.start,"yyyy-MM-dd"),t=xh(y.start,"HH:mm"),a=xh(y.end,"HH:mm");if(a<=t)return void u("End time must be after start time.");const r=G(e,t,a,_);if(r)u("This time slot is already booked by ".concat(r.first_name," ").concat(r.last_name," in Bay ").concat(r.bay||1,". Please choose a different time or bay."));else try{await tt.Ay$.post("/simulator-bookings",{date:e,start_time:t,end_time:a,type:N,bay:_,club_name:s}),x("Booking created successfully!"),v(!1),j(null),u(""),q()}catch(o){var n,l,i;const e=(null===(n=o.response)||void 0===n||null===(l=n.data)||void 0===l?void 0:l.error)||"Failed to create booking";409===(null===(i=o.response)||void 0===i?void 0:i.status)?u("Time slot already booked. Please choose a different time."):u(e)}},size:"lg",className:"w-full sm:w-auto order-1 sm:order-2",children:"Create Booking"})]})})]}),(0,ct.jsx)(Mr,{open:T&&null!==A,onClose:()=>P(!1),children:A&&(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)(Rr,{children:(0,ct.jsxs)("div",{className:"flex items-center",children:["social"===A.booking.type?(0,ct.jsx)(Bp,{className:"w-6 h-6 mr-3"}):(0,ct.jsx)($e,{className:"w-6 h-6 mr-3"}),(0,ct.jsx)("span",{children:"Booking Details"})]})}),(0,ct.jsx)(Lr,{children:(0,ct.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:[A.booking.first_name," ",A.booking.last_name]}),(0,ct.jsxs)("div",{className:"mt-3 space-y-2 text-sm sm:text-base text-gray-600",children:[(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)(Nt,{className:"w-4 h-4 mr-2 text-gray-400"}),xh(A.start,"EEEE, MMMM d, yyyy")]}),(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)(Qs,{className:"w-4 h-4 mr-2 text-gray-400"}),xh(A.start,"HH:mm")," - ",xh(A.end,"HH:mm")]}),(0,ct.jsxs)("div",{className:"flex items-center font-medium text-brand-dark-green",children:["Bay ",A.booking.bay||1]})]})]}),(0,ct.jsx)("div",{className:"flex items-center",children:(0,ct.jsxs)("span",{className:"px-4 py-2 rounded-full text-sm font-medium flex items-center ".concat("social"===A.booking.type?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"),children:["social"===A.booking.type?(0,ct.jsx)(Bp,{className:"w-4 h-4 mr-2"}):(0,ct.jsx)($e,{className:"w-4 h-4 mr-2"}),A.booking.type]})}),"social"===A.booking.type&&A.booking.participantNames&&A.booking.participantNames.length>0&&(0,ct.jsx)(Pa,{variant:"outlined",className:"bg-gray-50 border-gray-200",children:(0,ct.jsxs)(Ma,{className:"py-3",children:[(0,ct.jsx)("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Participants:"}),(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:A.booking.participantNames.join(", ")})]})})]})}),(0,ct.jsx)(Fr,{children:(0,ct.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 w-full sm:w-auto sm:justify-end",children:[(0,ct.jsx)(pa,{variant:"outline",onClick:()=>P(!1),size:"lg",className:"w-full sm:w-auto order-last",children:"Close"}),A.canJoin&&(0,ct.jsx)(pa,{variant:"primary",onClick:async()=>{if(A)try{await tt.Ay$.post("/simulator-bookings/".concat(A.booking.id,"/join")),x("You have joined the booking!"),P(!1),E(null),q()}catch(s){var e,t;u((null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to join booking")}},size:"lg",className:"w-full sm:w-auto bg-green-600 hover:bg-green-700 order-1",children:"Join Booking"}),A.isOwnBooking&&(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)(pa,{variant:"primary",onClick:()=>{if(!A)return;let e,t,s=A.booking.date;s.includes("T")&&(s=s.split("T")[0]);try{const a=A.booking.start_time||"09:00",r=A.booking.end_time||"10:00";if(e=new Date("".concat(s,"T").concat(a,":00")),t=new Date("".concat(s,"T").concat(r,":00")),isNaN(e.getTime())||isNaN(t.getTime()))throw new Error("Invalid date created");console.log("Opening reschedule dialog with dates:",{originalDate:A.booking.date,dateOnly:s,startDate:e.toISOString(),endDate:t.toISOString(),startTime:A.booking.start_time,endTime:A.booking.end_time})}catch(d){console.error("Error creating dates for reschedule:",d);const a=new Date;e=new Date(a.getFullYear(),a.getMonth(),a.getDate(),9,0),t=new Date(a.getFullYear(),a.getMonth(),a.getDate(),10,0),console.log("Using fallback dates:",{startDate:e.toISOString(),endDate:t.toISOString()})}L({start:e,end:t}),O(A.booking.type),z(A.booking.bay||S),M(!0),P(!1)},size:"lg",className:"w-full sm:w-auto bg-yellow-600 hover:bg-yellow-700 order-2",icon:En,children:"Reschedule"}),(0,ct.jsx)(pa,{variant:"primary",onClick:async()=>{if(A)try{await tt.Ay$.delete("/simulator-bookings/".concat(A.booking.id)),x("Booking cancelled successfully!"),P(!1),E(null),q()}catch(s){var e,t;u((null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to cancel booking")}},size:"lg",className:"w-full sm:w-auto bg-red-600 hover:bg-red-700 order-3",icon:Qe,children:"Cancel Booking"})]})]})})]})}),(0,ct.jsx)(Mr,{open:D&&null!==A,onClose:()=>{M(!1),L(null),u("")},size:"lg",children:A&&(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)(Rr,{children:"Reschedule Booking"}),(0,ct.jsxs)(Lr,{children:[(0,ct.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-3 sm:mb-4",children:"Current Booking"}),(0,ct.jsx)(Pa,{variant:"outlined",className:"bg-gray-50 border-gray-200",children:(0,ct.jsxs)(Ma,{className:"space-y-3",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("div",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:"Date"}),(0,ct.jsx)("div",{className:"text-sm sm:text-base font-medium text-gray-900",children:xh(A.start,"EEEE, MMMM d, yyyy")})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("div",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:"Time"}),(0,ct.jsx)("div",{className:"text-sm sm:text-base font-medium text-gray-900",children:"".concat(xh(A.start,"HH:mm")," - ").concat(xh(A.end,"HH:mm"))})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("div",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:"Type"}),(0,ct.jsx)("div",{className:"text-sm sm:text-base font-medium text-gray-900 capitalize",children:A.booking.type})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("div",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:"Bay"}),(0,ct.jsx)("div",{className:"text-sm sm:text-base font-medium text-gray-900",children:A.booking.bay||1})]})]})})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-3 sm:mb-4",children:"New Booking Details"}),(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),(0,ct.jsx)("input",{type:"date",value:xh(R?R.start:new Date,"yyyy-MM-dd"),onChange:e=>{console.log("Date input changed:",e.target.value);try{if(R){const t=new Date(e.target.value+"T00:00:00");if(isNaN(t.getTime()))throw new Error("Invalid date value");const s=R.start,a=new Date(t.getFullYear(),t.getMonth(),t.getDate(),s.getHours(),s.getMinutes()),r=new Date(t.getFullYear(),t.getMonth(),t.getDate(),R.end.getHours(),R.end.getMinutes());console.log("Updated reschedule slot:",{newStart:a,newEnd:r}),L({start:a,end:r})}else{const t=new Date(e.target.value+"T00:00:00");if(isNaN(t.getTime()))throw new Error("Invalid date value");const s=new Date(t.getFullYear(),t.getMonth(),t.getDate(),9,0),a=new Date(t.getFullYear(),t.getMonth(),t.getDate(),10,0);L({start:s,end:a})}}catch(d){console.error("Error updating date:",d),u("Invalid date selected. Please try again.")}},className:"w-full px-4 py-3 sm:py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-dark-green focus:border-brand-dark-green text-base min-h-[48px]"})]}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Time"}),(0,ct.jsx)("input",{type:"time",value:R?xh(R.start,"HH:mm"):"",onChange:e=>{if(R){const[t,s]=e.target.value.split(":").map(Number),a=new Date(R.start);a.setHours(t,s),L({start:a,end:R.end})}else{const[t,s]=e.target.value.split(":").map(Number),a=new Date,r=new Date(a.getFullYear(),a.getMonth(),a.getDate(),t,s),n=new Date(a.getFullYear(),a.getMonth(),a.getDate(),t+1,s);L({start:r,end:n})}},className:"w-full px-4 py-3 sm:py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-dark-green focus:border-brand-dark-green text-base min-h-[48px]"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Time"}),(0,ct.jsx)("input",{type:"time",value:R?xh(R.end,"HH:mm"):"",onChange:e=>{if(R){const[t,s]=e.target.value.split(":").map(Number),a=new Date(R.end);a.setHours(t,s),L({start:R.start,end:a})}else{const[t,s]=e.target.value.split(":").map(Number),a=new Date,r=new Date(a.getFullYear(),a.getMonth(),a.getDate(),t-1,s),n=new Date(a.getFullYear(),a.getMonth(),a.getDate(),t,s);L({start:r,end:n})}},className:"w-full px-4 py-3 sm:py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-dark-green focus:border-brand-dark-green text-base min-h-[48px]"})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Booking Type"}),(0,ct.jsxs)("select",{value:F,onChange:e=>O(e.target.value),className:"w-full px-4 py-3 sm:py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-dark-green focus:border-brand-dark-green text-base min-h-[48px]",children:[(0,ct.jsx)("option",{value:"solo",children:"Solo"}),(0,ct.jsx)("option",{value:"social",children:"Social"})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Simulator Bay"}),(0,ct.jsx)("select",{value:I,onChange:e=>z(Number(e.target.value)),className:"w-full px-4 py-3 sm:py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-dark-green focus:border-brand-dark-green text-base min-h-[48px]",children:h&&Array.from({length:h.number_of_bays},(e,t)=>t+1).map(e=>(0,ct.jsxs)("option",{value:e,children:["Bay ",e]},e))})]})]})]})]}),(0,ct.jsx)(Pa,{variant:"outlined",className:"mt-4 sm:mt-6 bg-blue-50 border-blue-200",children:(0,ct.jsxs)(Ma,{className:"py-3",children:[(0,ct.jsxs)("div",{className:"flex items-start space-x-2 text-blue-800",children:[(0,ct.jsx)(Qs,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),(0,ct.jsx)("span",{className:"text-xs sm:text-sm font-medium",children:'\ud83d\udca1 Tip: You can also click on the calendar to select a new time slot, then click "Reschedule Booking"'})]}),R&&(0,ct.jsxs)("div",{className:"mt-3 p-3 bg-white rounded-lg border border-blue-200",children:[(0,ct.jsx)("div",{className:"text-xs sm:text-sm font-medium text-blue-900 mb-1",children:"Selected Time Slot:"}),(0,ct.jsx)("div",{className:"text-xs sm:text-sm text-blue-700",children:xh(R.start,"EEEE, MMMM d, yyyy")}),(0,ct.jsxs)("div",{className:"text-xs sm:text-sm text-blue-700",children:[xh(R.start,"HH:mm")," - ",xh(R.end,"HH:mm")]})]})]})})]}),(0,ct.jsx)(Fr,{children:(0,ct.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 w-full sm:w-auto",children:[(0,ct.jsx)(pa,{variant:"outline",onClick:()=>{M(!1),L(null),u("")},size:"lg",className:"w-full sm:w-auto order-2 sm:order-1",children:"Cancel"}),(0,ct.jsx)(pa,{variant:"primary",onClick:async()=>{if(!A||!R)return void u("Please select a valid time slot for rescheduling.");if(R.end<=R.start)return void u("End time must be after start time.");const e=xh(R.start,"yyyy-MM-dd"),t=xh(R.start,"HH:mm"),s=xh(R.end,"HH:mm"),a=G(e,t,s,I,A.booking.id);if(a)u("This time slot is already booked by ".concat(a.first_name," ").concat(a.last_name," in Bay ").concat(a.bay||1,". Please choose a different time or bay."));else try{console.log("Rescheduling booking:",{id:A.booking.id,date:e,start_time:t,end_time:s,type:F,bay:I}),await tt.Ay$.put("/simulator-bookings/".concat(A.booking.id),{date:e,start_time:t,end_time:s,type:F,bay:I}),x("Booking rescheduled successfully!"),M(!1),P(!1),E(null),L(null),u(""),q()}catch(d){var r,n,l,i,o,c;console.error("Reschedule error:",d);const e=(null===(r=d.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.error)||"Failed to reschedule booking";409===(null===(l=d.response)||void 0===l?void 0:l.status)?u("Time slot already booked for Bay ".concat(I,". Please choose a different time or bay.")):400===(null===(i=d.response)||void 0===i?void 0:i.status)?u("Invalid booking data. Please check your selection."):403===(null===(o=d.response)||void 0===o?void 0:o.status)?u("You can only reschedule your own bookings."):404===(null===(c=d.response)||void 0===c?void 0:c.status)?u("Booking not found. It may have been deleted."):u(e)}},size:"lg",className:"w-full sm:w-auto bg-yellow-600 hover:bg-yellow-700 order-1 sm:order-2",icon:En,children:"Reschedule Booking"})]})})]})}),!b&&!T&&!D&&(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-50 pr-[50px]",children:(0,ct.jsxs)("div",{className:"bg-white rounded-full shadow-lg border border-gray-200 px-2 py-2 flex items-center gap-2",children:[(0,ct.jsx)("button",{onClick:()=>{var e,t;return null===(e=(t=window).calendarNavigate)||void 0===e?void 0:e.call(t,"PREV")},className:"p-2 rounded-full hover:bg-gray-100 transition-colors","aria-label":"Previous",children:(0,ct.jsx)(Ws,{className:"w-5 h-5 text-gray-700"})}),(0,ct.jsxs)("div",{className:"flex items-center bg-gray-100 rounded-full overflow-hidden",children:[(0,ct.jsx)("button",{onClick:()=>{var e,t;B===cu.DAY?null===(e=(t=window).calendarNavigate)||void 0===e||e.call(t,"TODAY"):U(cu.DAY)},className:"px-3 py-2 text-sm font-medium transition-colors ".concat(B===cu.DAY?"bg-brand-dark-green text-white":"text-gray-700 hover:bg-gray-200"),children:"Day"}),(0,ct.jsx)("button",{onClick:()=>{var e,t;B===cu.WEEK?null===(e=(t=window).calendarNavigate)||void 0===e||e.call(t,"TODAY"):U(cu.WEEK)},className:"px-3 py-2 text-sm font-medium transition-colors ".concat(B===cu.WEEK?"bg-brand-dark-green text-white":"text-gray-700 hover:bg-gray-200"),children:"Week"})]}),(0,ct.jsx)("button",{onClick:()=>{var e,t;return null===(e=(t=window).calendarNavigate)||void 0===e?void 0:e.call(t,"NEXT")},className:"p-2 rounded-full hover:bg-gray-100 transition-colors","aria-label":"Next",children:(0,ct.jsx)(yt,{className:"w-5 h-5 text-gray-700"})})]})}),(0,ct.jsx)("button",{onClick:()=>{const e=new Date,t=new Date(e);t.setHours(e.getHours()+1,0,0,0);const s=new Date(t);s.setHours(t.getHours()+1,0,0,0),j({start:t,end:s}),k(S),v(!0),u("")},className:"fixed bottom-6 right-6 w-14 h-14 bg-brand-dark-green text-white rounded-full shadow-lg hover:bg-brand-muted-green hover:shadow-xl transition-all duration-200 z-50 active:scale-95 flex items-center justify-center","aria-label":"Quick booking",title:"Create new booking",children:(0,ct.jsx)(Gt,{className:"w-6 h-6"})})]})]})},Wp=()=>{const e=Z(),{user:t}=mt(),[s,r]=(0,a.useState)([]),[n,l]=(0,a.useState)(!0),[i,o]=(0,a.useState)(""),[c,d]=(0,a.useState)(""),[u,m]=(0,a.useState)(!1),[x,h]=(0,a.useState)(!1),[p,g]=(0,a.useState)(null),[f,b]=(0,a.useState)({club_name:"",number_of_bays:4,opening_time:"07:00",closing_time:"22:00",days_of_operation:"Mon,Tue,Wed,Thu,Fri,Sat,Sun",booking_duration_options:"30,60,90,120",max_advance_booking_days:30,min_booking_duration:30,max_booking_duration:240,enabled:!0});(0,a.useEffect)(()=>{var s;"admin"===(null===t||void 0===t||null===(s=t.role)||void 0===s?void 0:s.toLowerCase())?v():e("/")},[t,e]);const v=async()=>{try{l(!0);const e=await tt.Ay$.get("/club-booking-settings");r(e.data)}catch(s){var e,t;o((null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to fetch booking settings")}finally{l(!1)}},y=()=>{b({club_name:"",number_of_bays:4,opening_time:"07:00",closing_time:"22:00",days_of_operation:"Mon,Tue,Wed,Thu,Fri,Sat,Sun",booking_duration_options:"30,60,90,120",max_advance_booking_days:30,min_booking_duration:30,max_booking_duration:240,enabled:!0})};return(0,ct.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-8",children:[(0,ct.jsx)("div",{className:"bg-gradient-to-br from-brand-dark-green to-brand-muted-green rounded-2xl shadow-xl p-6 mb-8 text-white",children:(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("h1",{className:"text-3xl font-bold flex items-center",children:[(0,ct.jsx)(sa,{className:"w-8 h-8 mr-3"}),"Booking Settings Management"]}),(0,ct.jsx)("p",{className:"text-white/90 mt-2",children:"Configure club-by-club booking settings"})]}),(0,ct.jsxs)("button",{onClick:()=>e(-1),className:"bg-white/10 backdrop-blur-sm text-white rounded-full px-4 py-2 hover:bg-white/20 transition-all duration-200 border border-white/20 hover:border-white/30 shadow-lg hover:shadow-xl flex items-center space-x-2",children:[(0,ct.jsx)(Qe,{className:"w-4 h-4"}),(0,ct.jsx)("span",{children:"Back"})]})]})}),i&&(0,ct.jsx)("div",{className:"bg-red-500/20 border border-red-400/50 text-red-800 px-4 py-3 rounded-lg mb-4",children:i}),c&&(0,ct.jsx)("div",{className:"bg-green-500/20 border border-green-400/50 text-green-800 px-4 py-3 rounded-lg mb-4",children:c}),(0,ct.jsx)("div",{className:"mb-6",children:(0,ct.jsxs)("button",{onClick:()=>{y(),m(!0)},className:"bg-brand-dark-green text-white px-6 py-3 rounded-lg hover:bg-brand-muted-green transition-colors font-medium flex items-center space-x-2",children:[(0,ct.jsx)(Gt,{className:"w-5 h-5"}),(0,ct.jsx)("span",{children:"Add New Club Settings"})]})}),n?(0,ct.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,ct.jsx)("div",{className:"text-gray-600",children:"Loading settings..."})}):0===s.length?(0,ct.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-12 text-center",children:[(0,ct.jsx)(sa,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,ct.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Booking Settings Found"}),(0,ct.jsx)("p",{className:"text-gray-600 mb-6",children:"Get started by adding booking settings for your first club."}),(0,ct.jsx)("button",{onClick:()=>{y(),m(!0)},className:"bg-brand-dark-green text-white px-6 py-3 rounded-lg hover:bg-brand-muted-green transition-colors font-medium",children:"Add Club Settings"})]}):(0,ct.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(e=>(0,ct.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[(0,ct.jsxs)("div",{className:"p-6 ".concat(e.enabled?"bg-green-50":"bg-gray-50"),children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ct.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:e.club_name}),(0,ct.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(e.enabled?"bg-green-100 text-green-800":"bg-gray-200 text-gray-700"),children:e.enabled?"Active":"Disabled"})]}),(0,ct.jsxs)("div",{className:"space-y-3",children:[(0,ct.jsxs)("div",{className:"flex items-center text-gray-700",children:[(0,ct.jsx)(Ge,{className:"w-4 h-4 mr-2 text-brand-dark-green"}),(0,ct.jsxs)("span",{className:"text-sm font-medium",children:[e.number_of_bays," Bays"]})]}),(0,ct.jsxs)("div",{className:"flex items-center text-gray-700",children:[(0,ct.jsx)(Qs,{className:"w-4 h-4 mr-2 text-brand-dark-green"}),(0,ct.jsxs)("span",{className:"text-sm",children:[e.opening_time," - ",e.closing_time]})]}),(0,ct.jsxs)("div",{className:"flex items-center text-gray-700",children:[(0,ct.jsx)(Nt,{className:"w-4 h-4 mr-2 text-brand-dark-green"}),(0,ct.jsxs)("span",{className:"text-sm",children:[e.days_of_operation.split(",").length," days/week"]})]}),(0,ct.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,ct.jsxs)("div",{children:["Min: ",e.min_booking_duration," min"]}),(0,ct.jsxs)("div",{children:["Max: ",e.max_booking_duration," min"]}),(0,ct.jsxs)("div",{children:["Advance: ",e.max_advance_booking_days," days"]})]})]})]}),(0,ct.jsxs)("div",{className:"bg-gray-50 px-6 py-4 flex justify-end space-x-3",children:[(0,ct.jsx)("button",{onClick:()=>(e=>{g(e),b({club_name:e.club_name,number_of_bays:e.number_of_bays,opening_time:e.opening_time,closing_time:e.closing_time,days_of_operation:e.days_of_operation,booking_duration_options:e.booking_duration_options,max_advance_booking_days:e.max_advance_booking_days,min_booking_duration:e.min_booking_duration,max_booking_duration:e.max_booking_duration,enabled:e.enabled}),h(!0)})(e),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:(0,ct.jsx)(En,{className:"w-4 h-4"})}),(0,ct.jsx)("button",{onClick:()=>(async(e,t)=>{if(window.confirm("Are you sure you want to delete booking settings for ".concat(t,"?")))try{await tt.Ay$.delete("/club-booking-settings/".concat(e)),d("Booking settings deleted successfully!"),v(),setTimeout(()=>d(""),3e3)}catch(r){var s,a;o((null===(s=r.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.error)||"Failed to delete booking settings"),setTimeout(()=>o(""),3e3)}})(e.id,e.club_name),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:(0,ct.jsx)(Tn,{className:"w-4 h-4"})})]})]},e.id))}),(u||x)&&(0,ct.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,ct.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full my-8 max-h-[90vh] overflow-y-auto",children:[(0,ct.jsx)("div",{className:"bg-gradient-to-br from-brand-dark-green to-brand-muted-green text-white p-6 rounded-t-2xl sticky top-0",children:(0,ct.jsx)("h2",{className:"text-xl font-bold",children:u?"Create New Booking Settings":"Edit Booking Settings"})}),(0,ct.jsxs)("div",{className:"p-6 space-y-6",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Club Name *"}),(0,ct.jsx)("input",{type:"text",value:f.club_name,onChange:e=>b((0,Re.A)((0,Re.A)({},f),{},{club_name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-dark-green focus:border-brand-dark-green",placeholder:"e.g., No. 5"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Bays"}),(0,ct.jsx)("input",{type:"number",min:"1",max:"10",value:f.number_of_bays,onChange:e=>b((0,Re.A)((0,Re.A)({},f),{},{number_of_bays:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-dark-green focus:border-brand-dark-green"})]}),(0,ct.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Opening Time"}),(0,ct.jsx)("input",{type:"time",value:f.opening_time,onChange:e=>b((0,Re.A)((0,Re.A)({},f),{},{opening_time:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-dark-green focus:border-brand-dark-green"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Closing Time"}),(0,ct.jsx)("input",{type:"time",value:f.closing_time,onChange:e=>b((0,Re.A)((0,Re.A)({},f),{},{closing_time:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-dark-green focus:border-brand-dark-green"})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Days of Operation"}),(0,ct.jsx)("div",{className:"flex flex-wrap gap-2",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(e=>(0,ct.jsx)("button",{type:"button",onClick:()=>(e=>{const t=f.days_of_operation.split(","),s=t.includes(e)?t.filter(t=>t!==e):[...t,e];b((0,Re.A)((0,Re.A)({},f),{},{days_of_operation:s.join(",")}))})(e),className:"px-4 py-2 rounded-lg font-medium transition-all ".concat(f.days_of_operation.split(",").includes(e)?"bg-brand-dark-green text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:e},e))})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Booking Duration Options (comma-separated minutes)"}),(0,ct.jsx)("input",{type:"text",value:f.booking_duration_options,onChange:e=>b((0,Re.A)((0,Re.A)({},f),{},{booking_duration_options:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-dark-green focus:border-brand-dark-green",placeholder:"e.g., 30,60,90,120"})]}),(0,ct.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Min Booking Duration (min)"}),(0,ct.jsx)("input",{type:"number",min:"15",step:"15",value:f.min_booking_duration,onChange:e=>b((0,Re.A)((0,Re.A)({},f),{},{min_booking_duration:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-dark-green focus:border-brand-dark-green"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Booking Duration (min)"}),(0,ct.jsx)("input",{type:"number",min:"15",step:"15",value:f.max_booking_duration,onChange:e=>b((0,Re.A)((0,Re.A)({},f),{},{max_booking_duration:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-dark-green focus:border-brand-dark-green"})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Advance Booking Days"}),(0,ct.jsx)("input",{type:"number",min:"1",value:f.max_advance_booking_days,onChange:e=>b((0,Re.A)((0,Re.A)({},f),{},{max_advance_booking_days:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-dark-green focus:border-brand-dark-green"})]}),(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)("input",{type:"checkbox",id:"enabled",checked:f.enabled,onChange:e=>b((0,Re.A)((0,Re.A)({},f),{},{enabled:e.target.checked})),className:"w-4 h-4 text-brand-dark-green focus:ring-brand-dark-green border-gray-300 rounded"}),(0,ct.jsx)("label",{htmlFor:"enabled",className:"ml-2 text-sm font-medium text-gray-700",children:"Enable booking for this club"})]})]}),(0,ct.jsxs)("div",{className:"bg-gray-50 px-6 py-4 rounded-b-2xl flex justify-end space-x-3 sticky bottom-0",children:[(0,ct.jsx)("button",{onClick:()=>{m(!1),h(!1),g(null),y()},className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),(0,ct.jsxs)("button",{onClick:u?async()=>{try{await tt.Ay$.post("/club-booking-settings",f),d("Booking settings created successfully!"),m(!1),y(),v(),setTimeout(()=>d(""),3e3)}catch(s){var e,t;o((null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to create booking settings"),setTimeout(()=>o(""),3e3)}}:async()=>{if(p)try{await tt.Ay$.put("/club-booking-settings/".concat(p.id),f),d("Booking settings updated successfully!"),h(!1),g(null),y(),v(),setTimeout(()=>d(""),3e3)}catch(s){var e,t;o((null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to update booking settings"),setTimeout(()=>o(""),3e3)}},className:"bg-brand-dark-green text-white px-6 py-2 rounded-lg hover:bg-brand-muted-green transition-colors font-medium flex items-center space-x-2",children:[(0,ct.jsx)(Yt,{className:"w-4 h-4"}),(0,ct.jsx)("span",{children:u?"Create":"Update"})]})]})]})})]})},qp=()=>{const e=Z(),{user:t}=mt(),[s,r]=(0,a.useState)([]),[n,l]=(0,a.useState)([]),[i,o]=(0,a.useState)(!0),[c,d]=(0,a.useState)(""),[u,m]=(0,a.useState)(""),[x,h]=(0,a.useState)(!1),[p,g]=(0,a.useState)(!1),[f,b]=(0,a.useState)(null),[v,y]=(0,a.useState)(null),[j,N]=(0,a.useState)(!1),[w,_]=(0,a.useState)({club_name:"",pro_first_name:"",pro_last_name:"",pro_member_id:null,pro_email:"",club_address:"",club_type:"Residential",number_of_bays:1,has_bathroom:!1,monitor_oem:"",monitor_model:"",software:"",hour_open:"07:00",hour_close:"21:00",is_active:!0}),[k,S]=(0,a.useState)({days_of_operation:"Mon,Tue,Wed,Thu,Fri,Sat,Sun",booking_duration_options:"30,60,90,120",max_advance_booking_days:30,min_booking_duration:30,max_booking_duration:240,enabled:!0});(0,a.useEffect)(()=>{var s;"admin"===(null===t||void 0===t||null===(s=t.role)||void 0===s?void 0:s.toLowerCase())?C():e("/")},[t,e]);const C=async()=>{try{o(!0);const[e,t]=await Promise.all([tt.Ay$.get("/clubs"),tt.Ay$.get("/club-booking-settings")]);r(e.data),l(t.data)}catch(s){var e,t;d((null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to fetch data")}finally{o(!1)}},A=()=>{_({club_name:"",pro_first_name:"",pro_last_name:"",pro_member_id:null,pro_email:"",club_address:"",club_type:"Residential",number_of_bays:1,has_bathroom:!1,monitor_oem:"",monitor_model:"",software:"",hour_open:"07:00",hour_close:"21:00",is_active:!0}),S({days_of_operation:"Mon,Tue,Wed,Thu,Fri,Sat,Sun",booking_duration_options:"30,60,90,120",max_advance_booking_days:30,min_booking_duration:30,max_booking_duration:240,enabled:!0}),N(!1)};return(0,ct.jsxs)(la,{children:[(0,ct.jsxs)("button",{onClick:()=>e("/admin/clubs"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors mb-4 group",children:[(0,ct.jsx)(Fs,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"}),(0,ct.jsx)("span",{className:"font-medium",children:"Back to Club Admin"})]}),(0,ct.jsx)(ia,{icon:(0,ct.jsx)(ea,{className:"w-6 h-6 text-brand-dark-green"}),title:"Club Management",subtitle:"Create and manage golf clubs and their booking systems"}),c&&(0,ct.jsx)("div",{className:"bg-red-500/20 border border-red-400/50 text-red-800 px-4 py-3 rounded-lg mb-4",children:c}),u&&(0,ct.jsx)("div",{className:"bg-green-500/20 border border-green-400/50 text-green-800 px-4 py-3 rounded-lg mb-4",children:u}),(0,ct.jsx)("div",{className:"mb-6",children:(0,ct.jsxs)(pa,{onClick:()=>{A(),h(!0)},variant:"neon",className:"flex items-center gap-2",children:[(0,ct.jsx)(Gt,{className:"w-5 h-5"}),"Create New Club"]})}),i?(0,ct.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,ct.jsx)("div",{className:"text-gray-600",children:"Loading clubs..."})}):0===s.length?(0,ct.jsx)(Pa,{variant:"dark-elevated",padding:"lg",children:(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)(ea,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,ct.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"No Clubs Found"}),(0,ct.jsx)("p",{className:"text-white/70 mb-6",children:"Get started by creating your first club."}),(0,ct.jsx)(pa,{onClick:()=>{A(),h(!0)},variant:"neon",children:"Create Club"})]})}):(0,ct.jsx)("div",{className:"grid grid-cols-1 gap-6",children:s.map(e=>{const t=v===e.id,s=(a=e.club_name,n.find(e=>e.club_name===a));var a;return(0,ct.jsx)(Pa,{variant:"dark-elevated",padding:"none",children:(0,ct.jsxs)("div",{className:"p-6",children:[(0,ct.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,ct.jsxs)("div",{className:"flex items-start gap-4",children:[(0,ct.jsx)("div",{className:"p-3 bg-brand-neon-green/10 rounded-lg",children:(0,ct.jsx)(ea,{className:"w-6 h-6 text-brand-neon-green"})}),(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,ct.jsx)("h3",{className:"text-xl font-bold",children:e.club_name}),(0,ct.jsx)(Ua,{variant:e.is_active?"success":"warning",size:"sm",children:e.is_active?"Active":"Inactive"}),e.club_type&&(0,ct.jsx)(Ua,{variant:"info",size:"sm",children:e.club_type})]}),(0,ct.jsxs)("div",{className:"flex items-center text-white/60 text-sm mb-2",children:[(0,ct.jsx)(Ge,{className:"w-4 h-4 mr-1"}),e.club_address]})]})]}),(0,ct.jsxs)("div",{className:"flex gap-2",children:[(0,ct.jsx)("button",{onClick:()=>(e=>{b(e),_({club_name:e.club_name,pro_first_name:e.pro_first_name||"",pro_last_name:e.pro_last_name||"",pro_member_id:e.pro_member_id,pro_email:e.pro_email||"",club_address:e.club_address,club_type:e.club_type||"Residential",number_of_bays:e.number_of_bays,has_bathroom:e.has_bathroom,monitor_oem:e.monitor_oem||"",monitor_model:e.monitor_model||"",software:e.software||"",hour_open:e.hour_open||"07:00",hour_close:e.hour_close||"21:00",is_active:e.is_active}),g(!0)})(e),className:"p-2 text-blue-400 hover:bg-blue-400/10 rounded-lg transition-colors",title:"Edit",children:(0,ct.jsx)(En,{className:"w-4 h-4"})}),(0,ct.jsx)("button",{onClick:()=>(async(e,t)=>{if(window.confirm("Are you sure you want to delete ".concat(t,"? This will also delete associated booking settings.")))try{await tt.Ay$.delete("/clubs/".concat(e)),m("Club deleted successfully!"),C(),setTimeout(()=>m(""),3e3)}catch(r){var s,a;d((null===(s=r.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.error)||"Failed to delete club"),setTimeout(()=>d(""),3e3)}})(e.id,e.club_name),className:"p-2 text-red-400 hover:bg-red-400/10 rounded-lg transition-colors",title:"Delete",children:(0,ct.jsx)(Tn,{className:"w-4 h-4"})}),(0,ct.jsx)("button",{onClick:()=>y(t?null:e.id),className:"p-2 text-white/60 hover:bg-white/10 rounded-lg transition-colors",children:t?(0,ct.jsx)(It,{className:"w-4 h-4"}):(0,ct.jsx)(zt,{className:"w-4 h-4"})})]})]}),(0,ct.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,ct.jsxs)("div",{className:"flex items-center text-white/70",children:[(0,ct.jsx)(Ot,{className:"w-4 h-4 mr-2 text-brand-neon-green"}),(0,ct.jsxs)("span",{children:[e.number_of_bays," ",1===e.number_of_bays?"Bay":"Bays"]})]}),e.hour_open&&e.hour_close&&(0,ct.jsxs)("div",{className:"flex items-center text-white/70",children:[(0,ct.jsx)(Qs,{className:"w-4 h-4 mr-2 text-brand-neon-green"}),(0,ct.jsxs)("span",{children:[e.hour_open," - ",e.hour_close]})]}),(e.pro_first_name||e.pro_last_name)&&(0,ct.jsxs)("div",{className:"flex items-center text-white/70",children:[(0,ct.jsx)($e,{className:"w-4 h-4 mr-2 text-brand-neon-green"}),(0,ct.jsxs)("span",{children:[e.pro_first_name," ",e.pro_last_name]})]}),s&&(0,ct.jsxs)("div",{className:"flex items-center text-white/70",children:[(0,ct.jsx)(Nt,{className:"w-4 h-4 mr-2 text-brand-neon-green"}),(0,ct.jsxs)("span",{children:["Booking ",s.enabled?"Enabled":"Disabled"]})]})]}),t&&(0,ct.jsx)("div",{className:"mt-6 pt-6 border-t border-white/10",children:(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h4",{className:"font-semibold mb-3 text-white/90",children:"Club Details"}),(0,ct.jsxs)("div",{className:"space-y-2 text-sm",children:[e.monitor_oem&&(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-white/50",children:"Monitor OEM:"}),(0,ct.jsx)("span",{className:"ml-2 text-white/80",children:e.monitor_oem})]}),e.monitor_model&&(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-white/50",children:"Monitor Model:"}),(0,ct.jsx)("span",{className:"ml-2 text-white/80",children:e.monitor_model})]}),e.software&&(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-white/50",children:"Software:"}),(0,ct.jsx)("span",{className:"ml-2 text-white/80",children:e.software})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-white/50",children:"Bathroom:"}),(0,ct.jsx)("span",{className:"ml-2 text-white/80",children:e.has_bathroom?"Yes":"No"})]})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ct.jsx)("h4",{className:"font-semibold text-white/90",children:"Booking Settings"}),!s&&(0,ct.jsxs)(pa,{onClick:()=>(async(e,t,s,a)=>{try{await tt.Ay$.post("/club-booking-settings",(0,Re.A)({club_name:e,number_of_bays:t,opening_time:s,closing_time:a},k)),m("Booking settings created successfully!"),C(),setTimeout(()=>m(""),3e3)}catch(l){var r,n;d((null===(r=l.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.error)||"Failed to create booking settings"),setTimeout(()=>d(""),3e3)}})(e.club_name,e.number_of_bays,e.hour_open||"07:00",e.hour_close||"21:00"),variant:"outline-neon",className:"text-xs py-1 px-3",children:[(0,ct.jsx)(sa,{className:"w-3 h-3 mr-1"}),"Enable Booking"]})]}),s?(0,ct.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-white/50",children:"Days:"}),(0,ct.jsxs)("span",{className:"ml-2 text-white/80",children:[s.days_of_operation.split(",").length," days/week"]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-white/50",children:"Duration Options:"}),(0,ct.jsxs)("span",{className:"ml-2 text-white/80",children:[s.booking_duration_options," min"]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-white/50",children:"Advance Booking:"}),(0,ct.jsxs)("span",{className:"ml-2 text-white/80",children:[s.max_advance_booking_days," days"]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-white/50",children:"Status:"}),(0,ct.jsx)(Ua,{variant:s.enabled?"success":"warning",size:"sm",className:"ml-2",children:s.enabled?"Enabled":"Disabled"})]})]}):(0,ct.jsx)("p",{className:"text-white/50 text-sm",children:"No booking settings configured"})]})]})})]})},e.id)})}),(x||p)&&(0,ct.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,ct.jsxs)("div",{className:"bg-brand-dark-green rounded-2xl shadow-2xl max-w-3xl w-full my-8 max-h-[90vh] overflow-y-auto",children:[(0,ct.jsx)("div",{className:"bg-gradient-to-br from-brand-dark-green to-brand-muted-green text-white p-6 rounded-t-2xl sticky top-0",children:(0,ct.jsxs)("h2",{className:"text-xl font-bold flex items-center gap-2",children:[(0,ct.jsx)(ea,{className:"w-6 h-6"}),x?"Create New Club":"Edit Club"]})}),(0,ct.jsxs)("div",{className:"p-6 space-y-6",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Basic Information"}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ct.jsxs)("div",{className:"md:col-span-2",children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Club Name *"}),(0,ct.jsx)("input",{type:"text",value:w.club_name,onChange:e=>_((0,Re.A)((0,Re.A)({},w),{},{club_name:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/40 focus:ring-2 focus:ring-brand-neon-green focus:border-brand-neon-green",placeholder:"e.g., No. 5"})]}),(0,ct.jsxs)("div",{className:"md:col-span-2",children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Address *"}),(0,ct.jsx)("input",{type:"text",value:w.club_address,onChange:e=>_((0,Re.A)((0,Re.A)({},w),{},{club_address:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/40 focus:ring-2 focus:ring-brand-neon-green focus:border-brand-neon-green",placeholder:"Full address"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Club Type"}),(0,ct.jsxs)("select",{value:w.club_type,onChange:e=>_((0,Re.A)((0,Re.A)({},w),{},{club_type:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:ring-2 focus:ring-brand-neon-green focus:border-brand-neon-green",children:[(0,ct.jsx)("option",{value:"Residential",children:"Residential"}),(0,ct.jsx)("option",{value:"Commercial",children:"Commercial"})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Number of Bays"}),(0,ct.jsx)("input",{type:"number",min:"1",value:w.number_of_bays,onChange:e=>_((0,Re.A)((0,Re.A)({},w),{},{number_of_bays:parseInt(e.target.value)})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:ring-2 focus:ring-brand-neon-green focus:border-brand-neon-green"})]})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Pro Information"}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Pro First Name"}),(0,ct.jsx)("input",{type:"text",value:w.pro_first_name,onChange:e=>_((0,Re.A)((0,Re.A)({},w),{},{pro_first_name:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/40 focus:ring-2 focus:ring-brand-neon-green focus:border-brand-neon-green"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Pro Last Name"}),(0,ct.jsx)("input",{type:"text",value:w.pro_last_name,onChange:e=>_((0,Re.A)((0,Re.A)({},w),{},{pro_last_name:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/40 focus:ring-2 focus:ring-brand-neon-green focus:border-brand-neon-green"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Pro Email"}),(0,ct.jsx)("input",{type:"email",value:w.pro_email,onChange:e=>_((0,Re.A)((0,Re.A)({},w),{},{pro_email:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/40 focus:ring-2 focus:ring-brand-neon-green focus:border-brand-neon-green"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Pro Member ID"}),(0,ct.jsx)("input",{type:"number",value:w.pro_member_id||"",onChange:e=>_((0,Re.A)((0,Re.A)({},w),{},{pro_member_id:e.target.value?parseInt(e.target.value):null})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/40 focus:ring-2 focus:ring-brand-neon-green focus:border-brand-neon-green"})]})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Facility & Equipment"}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Monitor OEM"}),(0,ct.jsx)("input",{type:"text",value:w.monitor_oem,onChange:e=>_((0,Re.A)((0,Re.A)({},w),{},{monitor_oem:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/40 focus:ring-2 focus:ring-brand-neon-green focus:border-brand-neon-green",placeholder:"e.g., Trackman, Bushnell"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Monitor Model"}),(0,ct.jsx)("input",{type:"text",value:w.monitor_model,onChange:e=>_((0,Re.A)((0,Re.A)({},w),{},{monitor_model:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/40 focus:ring-2 focus:ring-brand-neon-green focus:border-brand-neon-green",placeholder:"e.g., iO, BLP"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Software"}),(0,ct.jsx)("input",{type:"text",value:w.software,onChange:e=>_((0,Re.A)((0,Re.A)({},w),{},{software:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/40 focus:ring-2 focus:ring-brand-neon-green focus:border-brand-neon-green",placeholder:"e.g., GSPro, E6 Connect"})]}),(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)("input",{type:"checkbox",id:"has_bathroom",checked:w.has_bathroom,onChange:e=>_((0,Re.A)((0,Re.A)({},w),{},{has_bathroom:e.target.checked})),className:"w-4 h-4 text-brand-neon-green focus:ring-brand-neon-green border-white/30 rounded"}),(0,ct.jsx)("label",{htmlFor:"has_bathroom",className:"ml-2 text-sm font-medium text-white/80",children:"Has Bathroom"})]})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Operating Hours"}),(0,ct.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Opening Time"}),(0,ct.jsx)("input",{type:"time",value:w.hour_open,onChange:e=>_((0,Re.A)((0,Re.A)({},w),{},{hour_open:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:ring-2 focus:ring-brand-neon-green focus:border-brand-neon-green"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Closing Time"}),(0,ct.jsx)("input",{type:"time",value:w.hour_close,onChange:e=>_((0,Re.A)((0,Re.A)({},w),{},{hour_close:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:ring-2 focus:ring-brand-neon-green focus:border-brand-neon-green"})]})]})]}),x&&(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Booking Settings (Optional)"}),(0,ct.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,ct.jsx)("input",{type:"checkbox",checked:j,onChange:e=>N(e.target.checked),className:"w-4 h-4 text-brand-neon-green focus:ring-brand-neon-green border-white/30 rounded mr-2"}),(0,ct.jsx)("span",{className:"text-sm text-white/80",children:"Enable Booking System"})]})]}),j&&(0,ct.jsxs)("div",{className:"space-y-4 p-4 bg-white/5 rounded-lg",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Days of Operation"}),(0,ct.jsx)("div",{className:"flex flex-wrap gap-2",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(e=>(0,ct.jsx)("button",{type:"button",onClick:()=>(e=>{const t=k.days_of_operation.split(","),s=t.includes(e)?t.filter(t=>t!==e):[...t,e];S((0,Re.A)((0,Re.A)({},k),{},{days_of_operation:s.join(",")}))})(e),className:"px-3 py-1.5 rounded-lg text-sm font-medium transition-all ".concat(k.days_of_operation.split(",").includes(e)?"bg-brand-neon-green text-brand-dark-green":"bg-white/10 text-white/70 hover:bg-white/20"),children:e},e))})]}),(0,ct.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Min Duration (min)"}),(0,ct.jsx)("input",{type:"number",min:"15",step:"15",value:k.min_booking_duration,onChange:e=>S((0,Re.A)((0,Re.A)({},k),{},{min_booking_duration:parseInt(e.target.value)})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:ring-2 focus:ring-brand-neon-green focus:border-brand-neon-green"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Max Duration (min)"}),(0,ct.jsx)("input",{type:"number",min:"15",step:"15",value:k.max_booking_duration,onChange:e=>S((0,Re.A)((0,Re.A)({},k),{},{max_booking_duration:parseInt(e.target.value)})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:ring-2 focus:ring-brand-neon-green focus:border-brand-neon-green"})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Max Advance Booking Days"}),(0,ct.jsx)("input",{type:"number",min:"1",value:k.max_advance_booking_days,onChange:e=>S((0,Re.A)((0,Re.A)({},k),{},{max_advance_booking_days:parseInt(e.target.value)})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:ring-2 focus:ring-brand-neon-green focus:border-brand-neon-green"})]})]})]}),(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)("input",{type:"checkbox",id:"is_active",checked:w.is_active,onChange:e=>_((0,Re.A)((0,Re.A)({},w),{},{is_active:e.target.checked})),className:"w-4 h-4 text-brand-neon-green focus:ring-brand-neon-green border-white/30 rounded"}),(0,ct.jsx)("label",{htmlFor:"is_active",className:"ml-2 text-sm font-medium text-white/80",children:"Club is Active"})]})]}),(0,ct.jsxs)("div",{className:"bg-white/5 px-6 py-4 rounded-b-2xl flex justify-end gap-3 sticky bottom-0",children:[(0,ct.jsx)(pa,{onClick:()=>{h(!1),g(!1),b(null),A()},variant:"outline",children:"Cancel"}),(0,ct.jsxs)(pa,{onClick:x?async()=>{try{await tt.Ay$.post("/clubs",w);j&&await tt.Ay$.post("/club-booking-settings",(0,Re.A)({club_name:w.club_name,number_of_bays:w.number_of_bays,opening_time:w.hour_open,closing_time:w.hour_close},k)),m("Club created successfully!"),h(!1),A(),C(),setTimeout(()=>m(""),3e3)}catch(s){var e,t;d((null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to create club"),setTimeout(()=>d(""),3e3)}}:async()=>{if(f)try{await tt.Ay$.put("/clubs/".concat(f.id),w),m("Club updated successfully!"),g(!1),b(null),A(),C(),setTimeout(()=>m(""),3e3)}catch(s){var e,t;d((null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to update club"),setTimeout(()=>d(""),3e3)}},variant:"neon",className:"flex items-center gap-2",children:[(0,ct.jsx)(Yt,{className:"w-4 h-4"}),x?"Create Club":"Update Club"]})]})]})})]})},Vp=e=>{let{children:t,clubName:s}=e;const{user:r}=mt(),n=s||(null===r||void 0===r?void 0:r.club)||"No. 5",l=Z(),[i,o]=(0,a.useState)(!0),[c,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(!1),[x,h]=(0,a.useState)("");return(0,a.useEffect)(()=>{(async()=>{try{o(!0);const s=await tt.Ay$.get("/user/onboarding-status");console.log("BookingGuard: onboarding-status response:",s.data);const a=s.data.onboarding_complete||!1;d(a);try{const e=await tt.Ay$.get("/club-booking-settings/".concat(n));console.log("BookingGuard: club settings response:",e.data),m(e.data.enabled||!1)}catch(t){var e;console.error("Error checking club settings:",t),404===(null===(e=t.response)||void 0===e?void 0:e.status)&&h("Booking settings not configured for this club"),m(!1)}}catch(t){console.error("Error checking onboarding status:",t),d(!1)}finally{o(!1)}})()},[n]),i?(0,ct.jsx)("div",{className:"max-w-3xl mx-auto py-8",children:(0,ct.jsx)(mn,{text:"Checking booking access..."})}):c&&u?(0,ct.jsx)(ct.Fragment,{children:t}):c&&!u?(0,ct.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,ct.jsxs)(Pa,{variant:"elevated",padding:"lg",children:[(0,ct.jsx)(Da,{title:(0,ct.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ct.jsx)(rr,{className:"w-6 h-6 text-orange-500"}),(0,ct.jsx)("span",{children:"Booking Currently Unavailable"})]})}),(0,ct.jsx)(Ma,{children:(0,ct.jsxs)("div",{className:"text-center py-6",children:[(0,ct.jsx)("div",{className:"w-20 h-20 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,ct.jsx)(Nt,{className:"w-10 h-10 text-orange-600"})}),(0,ct.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Booking is Disabled"}),(0,ct.jsx)("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:x||"Simulator bay booking is currently disabled for ".concat(n,". Please check back later or contact the club for more information.")}),(0,ct.jsx)(pa,{variant:"outline",onClick:()=>l("/profile"),children:"Back to Profile"})]})})]})}):(0,ct.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,ct.jsxs)(Pa,{variant:"elevated",padding:"lg",children:[(0,ct.jsx)(Da,{title:(0,ct.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ct.jsx)(wl,{className:"w-6 h-6 text-yellow-500"}),(0,ct.jsx)("span",{children:"Complete Onboarding to Unlock"})]})}),(0,ct.jsx)(Ma,{children:(0,ct.jsxs)("div",{className:"text-center py-6",children:[(0,ct.jsx)("div",{className:"w-20 h-20 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,ct.jsx)(Nt,{className:"w-10 h-10 text-yellow-600"})}),(0,ct.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Almost There!"}),(0,ct.jsx)("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Before you can book simulator bays, you need to complete a quick onboarding process. This includes watching a welcome video, answering a few questions, and acknowledging our waiver."}),(0,ct.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,ct.jsx)(pa,{variant:"primary",icon:et,iconPosition:"right",size:"lg",onClick:()=>l("/club-onboarding"),children:"Start Onboarding"}),(0,ct.jsx)(pa,{variant:"ghost",onClick:()=>l("/profile"),children:"Back to Profile"})]})]})})]})})},Gp=[{id:1,question:"Will you treat this club like it's yours?"},{id:2,question:"Will you live by both rules?"},{id:3,question:"Do you get what makes this different \u2014 more importantly, is it something you want to be part of?"}],Yp=e=>{let{onComplete:t,onBack:s}=e;const[r,n]=(0,a.useState)(!1),[l,i]=(0,a.useState)(!1),[o,c]=(0,a.useState)({}),[d,u]=(0,a.useState)(!1),[m,x]=(0,a.useState)(!1),[h,p]=(0,a.useState)(""),g=Object.keys(o).length===Gp.length,f=g&&Gp.every(e=>"yes"===o[e.id]);return(0,ct.jsx)("div",{className:"max-w-3xl mx-auto",children:(0,ct.jsxs)(Pa,{variant:"elevated",padding:"lg",children:[(0,ct.jsx)(Da,{title:(0,ct.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ct.jsx)(qe,{className:"w-6 h-6 text-yellow-500"}),(0,ct.jsx)("span",{children:"Welcome to the Club"})]})}),(0,ct.jsxs)(Ma,{children:[(0,ct.jsxs)("div",{className:"prose prose-gray max-w-none mb-8",children:[(0,ct.jsx)("p",{className:"text-gray-700 leading-relaxed",children:"Important that we levelset across all locations and all members."}),(0,ct.jsx)("p",{className:"text-gray-700 leading-relaxed",children:"First thing \u2014 watch the quick video below. It's just 2 minutes, but it matters. You'll not only better understand who we are, what we're doing, and why \u2014 but also how we make everything work, with your help."})]}),(0,ct.jsx)("div",{className:"mb-8",children:(0,ct.jsx)("div",{className:"relative aspect-video bg-gray-900 rounded-xl overflow-hidden",children:r?(0,ct.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-green-900/20",children:(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)(Ks,{className:"w-16 h-16 text-green-400 mx-auto mb-2"}),(0,ct.jsx)("p",{className:"text-green-400 font-medium",children:"Video Completed!"})]})}):(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)("iframe",{className:"absolute inset-0 w-full h-full",src:"https://youtube.com/embed/jyJfpinJkHg",title:"Club Welcome Video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),(0,ct.jsx)("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center",children:(0,ct.jsx)(pa,{variant:"primary",icon:Ks,onClick:()=>{n(!0),setTimeout(()=>i(!0),500)},size:"lg",className:"shadow-lg",children:"I've Watched the Video"})})]})})}),l&&!d&&(0,ct.jsxs)("div",{className:"animate-fade-in",children:[(0,ct.jsx)("div",{className:"prose prose-gray max-w-none mb-8",children:(0,ct.jsx)("p",{className:"text-gray-700 leading-relaxed",children:"This club only works because everyone \u2014 Members, Club Pros, and Neighborhood National \u2014 contributes. Not just money. Effort, care, attention. That's what keeps the neighborhood real."})}),(0,ct.jsxs)("div",{className:"bg-gray-50 rounded-xl p-6 mb-8",children:[(0,ct.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"The Two Rules"}),(0,ct.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,ct.jsxs)("div",{className:"flex gap-3",children:[(0,ct.jsx)("span",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-brand-dark-green text-white flex items-center justify-center font-bold",children:"1"}),(0,ct.jsx)("p",{className:"text-gray-800 font-medium pt-1",children:"Treat the club like it's your own."})]}),(0,ct.jsxs)("div",{className:"flex gap-3",children:[(0,ct.jsx)("span",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-brand-dark-green text-white flex items-center justify-center font-bold",children:"2"}),(0,ct.jsx)("p",{className:"text-gray-800 font-medium pt-1",children:"Don't be an asshole."})]})]}),(0,ct.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Rule #2 is simple. It's clear. And it tends to take care of itself."}),(0,ct.jsx)("p",{className:"text-gray-600 text-sm",children:"Rule #1 takes more intention. It means respecting the space and the people. It means acting like a member, not a customer."})]}),(0,ct.jsxs)("div",{className:"mb-8",children:[(0,ct.jsxs)("p",{className:"text-gray-700 mb-4",children:["No script for Rule #1 \u2014 that would defeat the point. But here are a few things it does ",(0,ct.jsx)("strong",{children:"not"})," mean:"]}),(0,ct.jsxs)("ul",{className:"space-y-3 text-gray-600",children:[(0,ct.jsxs)("li",{className:"flex gap-2",children:[(0,ct.jsx)(nr,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),(0,ct.jsxs)("span",{children:["Hole in the wall once? Happens. Same person doing it again and again? ",(0,ct.jsx)("strong",{children:"Not okay."})]})]}),(0,ct.jsxs)("li",{className:"flex gap-2",children:[(0,ct.jsx)(nr,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),(0,ct.jsxs)("span",{children:["Catch the edge of the hitting strip once on accident? Happens. Keep doing it instead of moving 6 inches forward/back? ",(0,ct.jsx)("strong",{children:"Not okay."})]})]}),(0,ct.jsxs)("li",{className:"flex gap-2",children:[(0,ct.jsx)(nr,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),(0,ct.jsxs)("span",{children:["Bring guests? Love it. Same guests, week after week, 4+ hours, no 5-star review and no one signs up for another membership? ",(0,ct.jsx)("strong",{children:"Not okay."})]})]})]}),(0,ct.jsx)("p",{className:"text-gray-700 mt-4 italic",children:"You wouldn't be OK with these sorts of these things if this club were yours \u2014 and that's the guidepost we need you to live by."})]}),(0,ct.jsxs)("div",{className:"bg-brand-dark-green/5 rounded-xl p-6 mb-8",children:[(0,ct.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"The Reality"}),(0,ct.jsx)("p",{className:"text-gray-700 mb-3",children:"Club Pros put in more than they get back. Same for us in the Pro Shop. We're all fine with that, and actually love to do it \u2014 when members contribute beyond the dues that they pay as well."}),(0,ct.jsx)("p",{className:"text-gray-700",children:"That's how this works. With everyone working together. Members, Club Pros, and Neighborhood National. We're all investing \u2014 money, time, energy \u2014 into building something that doesn't exist anywhere\u2026 something too good to be true from the outside, but very true once you move in."})]}),(0,ct.jsxs)("div",{className:"border-t border-gray-200 pt-8",children:[(0,ct.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Agreement"}),(0,ct.jsx)("p",{className:"text-gray-600 mb-6",children:"You've watched the video, read the pledge, and seen the examples. Now just a few simple questions to make sure we're on the same page:"}),(0,ct.jsx)("div",{className:"space-y-6",children:Gp.map(e=>(0,ct.jsxs)("div",{className:"p-4 bg-white rounded-lg border border-gray-200",children:[(0,ct.jsx)("p",{className:"font-medium text-gray-900 mb-3",children:e.question}),(0,ct.jsx)(Er,{name:"agreement-".concat(e.id),options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],value:o[e.id]||"",onChange:t=>((e,t)=>{c(s=>(0,Re.A)((0,Re.A)({},s),{},{[e]:String(t)})),p("")})(e.id,t),orientation:"horizontal"})]},e.id))}),(0,ct.jsx)("p",{className:"text-sm text-gray-500 mt-4 text-center",children:'All "Yes" required to unlock the waiver and booking.'}),h&&(0,ct.jsx)("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:h}),(0,ct.jsx)("div",{className:"mt-6 flex justify-end",children:(0,ct.jsx)(pa,{variant:"primary",icon:et,iconPosition:"right",onClick:()=>{g?(u(!0),f&&(setTimeout(()=>t(3),1500),setTimeout(()=>x(!0),3e3))):p("Please answer all questions.")},disabled:!g,children:"Continue"})})]})]}),d&&(0,ct.jsx)("div",{className:"p-6 rounded-lg ".concat(f?"bg-green-100 border border-green-300":"bg-red-100 border border-red-300"),children:(0,ct.jsxs)("div",{className:"flex items-center gap-4",children:[f?(0,ct.jsx)(Ks,{className:"w-12 h-12 text-green-600 flex-shrink-0"}):(0,ct.jsx)(nr,{className:"w-12 h-12 text-red-600 flex-shrink-0"}),(0,ct.jsx)("div",{className:"flex-1",children:f?(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)("p",{className:"text-xl font-semibold text-green-800",children:"Welcome to the neighborhood!"}),(0,ct.jsx)("p",{className:"text-green-700 text-sm mt-1",children:"Redirecting to waiver..."})]}):(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)("p",{className:"text-xl font-semibold text-red-800",children:"We need all Yes answers to proceed"}),(0,ct.jsx)("p",{className:"text-red-700 text-sm mt-1",children:"This club requires full commitment to the principles above. If you're not sure, that's okay \u2014 but we can't move forward without alignment."})]})}),f&&m&&(0,ct.jsx)(pa,{variant:"primary",icon:et,iconPosition:"right",onClick:()=>t(3),children:"Continue"})]})})]}),(0,ct.jsxs)(Ra,{divided:!0,children:[s&&(0,ct.jsx)(pa,{variant:"ghost",icon:Fs,onClick:s,children:"Back"}),d&&!f&&(0,ct.jsx)(pa,{variant:"primary",onClick:()=>{c({}),u(!1),x(!1),p("")},children:"Try Again"})]})]})})},$p=e=>{let{onComplete:t,onBack:s}=e;const[r,n]=(0,a.useState)(!1),[l,i]=(0,a.useState)(!1),[o,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(!1),[m,x]=(0,a.useState)(!1),h=r&&o;return(0,ct.jsx)("div",{className:"max-w-3xl mx-auto",children:(0,ct.jsxs)(Pa,{variant:"elevated",padding:"lg",children:[(0,ct.jsx)(Da,{title:(0,ct.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ct.jsx)(er,{className:"w-6 h-6 text-brand-dark-green"}),(0,ct.jsx)("span",{children:"Waiver & Release Form"})]}),subtitle:"Watch the short video and read the waiver to unlock booking access"}),(0,ct.jsxs)(Ma,{children:[(0,ct.jsxs)("div",{className:"mb-8",children:[(0,ct.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[r?(0,ct.jsx)(Ks,{className:"w-5 h-5 text-green-600"}):(0,ct.jsx)("span",{className:"w-5 h-5 rounded-full border-2 border-gray-300 flex items-center justify-center text-xs font-medium text-gray-500",children:"1"}),(0,ct.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Watch the 10-second Waiver Video"})]}),(0,ct.jsx)("p",{className:"text-gray-600 mb-4 text-sm",children:"This video may make you laugh, but the point is serious - agreeing to the waiver is required to use the club."}),(0,ct.jsx)("div",{className:"relative aspect-video bg-gray-900 rounded-xl overflow-hidden",children:r?(0,ct.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-green-900/20",children:(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)(Ks,{className:"w-12 h-12 text-green-400 mx-auto mb-2"}),(0,ct.jsx)("p",{className:"text-green-400 font-medium",children:"Video Watched!"})]})}):(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)("iframe",{className:"absolute inset-0 w-full h-full",src:"https://youtube.com/embed/QclNVkld1UU",title:"Waiver Video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),(0,ct.jsx)("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center",children:(0,ct.jsx)(pa,{variant:"primary",icon:Ks,onClick:()=>{n(!0)},className:"shadow-lg",children:"I've Watched the Video"})})]})})]}),(0,ct.jsxs)("div",{className:"mb-6",children:[(0,ct.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[o?(0,ct.jsx)(Ks,{className:"w-5 h-5 text-green-600"}):(0,ct.jsx)("span",{className:"w-5 h-5 rounded-full border-2 border-gray-300 flex items-center justify-center text-xs font-medium text-gray-500",children:"2"}),(0,ct.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Read the Full Waiver"})]}),!o&&(0,ct.jsxs)("p",{className:"text-sm text-amber-700 bg-amber-50 border border-amber-200 rounded-lg px-3 py-2 mb-4 flex items-center gap-2",children:[(0,ct.jsx)(rr,{className:"w-4 h-4 flex-shrink-0"}),"Please scroll to the bottom to read the entire waiver"]}),(0,ct.jsx)("div",{className:"h-64 overflow-y-auto border border-gray-300 rounded-lg p-4 bg-gray-50 text-sm text-gray-700 leading-relaxed",onScroll:e=>{const t=e.currentTarget;Math.abs(t.scrollHeight-t.scrollTop-t.clientHeight)<20&&!o&&c(!0)},children:(0,ct.jsx)("pre",{className:"whitespace-pre-wrap font-sans",children:'RELEASE OF LIABILITY AND ASSUMPTION OF RISK\n\nI am choosing to participate in using a golf simulator and the related facilities (the "Activity") leased by Neighborhood National, LLC a North Carolina limited liability company (the "Company"), located at 4409 Randall Rd, Durham, NC 27707 (the "Club"). In consideration of being permitted by the Company and the Club to participate in the Activity and in recognition of the Company\'s and Club\'s reliance hereon, I agree to all the terms and conditions set forth in this instrument (this "Release").\n\nI AM AWARE AND UNDERSTAND THAT THE ACTIVITY IS A POTENTIALLY DANGEROUS ACTIVITY AND INVOLVES THE RISK OF SERIOUS INJURY, DISABILITY, DEATH, AND/OR PROPERTY DAMAGE. I ACKNOWLEDGE THAT ANY INJURIES THAT I SUSTAIN MAY RESULT FROM OR BE COMPOUNDED BY THE ACTIONS, OMISSIONS, OR NEGLIGENCE OF THE COMPANY OR THE CLUB. NOTWITHSTANDING THE RISK, I ACKNOWLEDGE THAT I AM VOLUNTARILY PARTICIPATING IN THE ACTIVITY WITH KNOWLEDGE OF THE DANGER INVOLVED AND HEREBY AGREE TO ACCEPT AND ASSUME ANY AND ALL RISKS OF INJURY, DISABILITY, DEATH, AND/OR PROPERTY DAMAGE ARISING FROM MY PARTICIPATION IN THE ACTIVITY, WHETHER CAUSED BY THE ORDINARY NEGLIGENCE OF THE COMPANY OR THE CLUB OR OTHERWISE.\n\nI hereby expressly waive and release any and all claims, now known or hereafter known, against the Company, the Club, the Club owner, and their officers, directors, manager(s), owners, employees, agents, affiliates, shareholders/members, successors, and assigns (collectively, "Releasees"), on account of injury, disability, death, or property damage arising out of or attributable to my participation in the Activity, whether arising out of the ordinary negligence of the Company, the Club, the Club owner, or any other Releasees or otherwise. I covenant not to make or bring any such claim against the Company, the Club, the Club owner, or any other Releasee, and forever release and discharge the Company, the Club, and all other Releasees from liability under such claims. This waiver and release does not extend to claims for gross negligence, willful misconduct, or any other liabilities that North Carolina law does not permit to be released by agreement.\n\nI shall defend, indemnify, and hold harmless the Company, the Club, the Club owner, and all other Releasees against any and all losses, damages, liabilities, deficiencies, claims, actions, judgments, settlements, interest, awards, penalties, fines, costs, or expenses of whatever kind, including reasonable attorney fees, fees, the costs of enforcing any right to indemnification under this Release, and the cost of pursuing any insurance providers, incurred by/awarded against the Company, the Club, the Club owner, or any other Releasees arising out or resulting from any claim of a third party related to my participation in the Activity, including any claim related to my own negligence or the ordinary negligence of the Company, the Club, or the Club owner.\n\nThis Release and the Membership Agreement constitute the sole and entire agreement of the Company and me with respect to the subject matter contained herein and supersedes all prior and contemporaneous understandings, agreements, representations, and warranties, both written and oral, with respect to such subject matter. If any term or provision of this Release is invalid, illegal, or unenforceable in any jurisdiction, such invalidity, illegality, or unenforceability shall not affect any other term or provision of this Release or invalidate or render unenforceable such term or provision in any other jurisdiction. This Release is binding on and shall inure to the benefit of the Company, the Club, the Club Owner, and me and their respective successors and assigns. All matters arising out of or relating to this Release shall be governed by and construed in accordance with the internal laws of the State of North Carolina without giving effect to any choice or conflict of law provision or rule (whether of the State of North Carolina or any other jurisdiction). Any claim or cause of action arising under this Release may be brought only in the federal and state courts located in Greensboro, North Carolina and I hereby consent to the exclusive jurisdiction of such courts.\n\nBY ANSWERING "YES" TO THE QUESTION BELOW, I ACKNOWLEDGE THAT I HAVE READ AND UNDERSTOOD ALL OF THE TERMS OF THIS RELEASE AND THAT I AM VOLUNTARILY GIVING UP SUBSTANTIAL LEGAL RIGHTS, INCLUDING THE RIGHT TO SUE THE COMPANY.'})})]}),(0,ct.jsxs)("div",{className:"mb-4",children:[(0,ct.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[d?(0,ct.jsx)(Ks,{className:"w-5 h-5 text-green-600"}):(0,ct.jsx)("span",{className:"w-5 h-5 rounded-full border-2 border-gray-300 flex items-center justify-center text-xs font-medium text-gray-500",children:"3"}),(0,ct.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Acknowledge & Accept"})]}),(0,ct.jsxs)("div",{className:"p-4 rounded-lg border-2 transition-all ".concat(h?d?"border-green-300 bg-green-50":"border-brand-dark-green bg-white":"border-gray-200 bg-gray-50 opacity-60"),children:[(0,ct.jsx)(Cr,{label:(0,ct.jsx)("span",{className:"font-medium",children:"I have read and understood all of the terms of this Release and I am voluntarily giving up substantial legal rights, including the right to sue the Company."}),checked:d,onChange:e=>u(e.target.checked),disabled:!h}),!h&&(0,ct.jsx)("p",{className:"mt-2 text-xs text-gray-500 ml-7",children:"Complete steps 1 and 2 above to enable this checkbox"})]})]}),d&&(0,ct.jsx)("div",{className:"p-4 bg-green-100 border border-green-300 rounded-lg",children:(0,ct.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ct.jsx)(Ks,{className:"w-6 h-6 text-green-600 flex-shrink-0"}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"font-semibold text-green-800",children:"You're almost there!"}),(0,ct.jsx)("p",{className:"text-green-700 text-sm",children:'Click "Complete & Unlock Booking" to finish the onboarding process and gain access to the simulator booking system.'})]})]})})]}),(0,ct.jsxs)(Ra,{divided:!0,children:[(0,ct.jsx)(pa,{variant:"ghost",icon:Fs,onClick:s,children:"Back"}),(0,ct.jsx)(pa,{variant:"success",icon:et,iconPosition:"right",onClick:async()=>{d&&(x(!0),await new Promise(e=>setTimeout(e,1e3)),t())},disabled:!d,loading:m,children:"Complete & Unlock Booking"})]})]})})},Qp=()=>{const{user:e,refreshUser:t}=mt(),s=Z(),r=(null===e||void 0===e?void 0:e.club)||"No. 5",[n,l]=(0,a.useState)("welcome"),[i,o]=(0,a.useState)(!0),[c,d]=(0,a.useState)(""),[u,m]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{try{o(!0);const e=(await tt.Ay$.get("/user/onboarding-status")).data;m(e),e.onboarding_complete?l("complete"):e.welcome_completed?l("waiver"):l("welcome")}catch(e){console.error("Error fetching onboarding status:",e),l("welcome")}finally{o(!1)}})()},[]);const x=()=>{s("/profile")},h=[{id:"welcome",label:"Welcome Video & Quiz",complete:null===u||void 0===u?void 0:u.welcome_completed},{id:"waiver",label:"Waiver Acknowledgement",complete:null===u||void 0===u?void 0:u.waiver_acknowledged}];return i?(0,ct.jsx)("div",{className:"max-w-3xl mx-auto py-8",children:(0,ct.jsx)(mn,{text:"Loading your onboarding progress..."})}):(0,ct.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,ct.jsxs)("div",{className:"mb-6",children:[(0,ct.jsx)(pa,{variant:"ghost",icon:Fs,onClick:x,className:"mb-4",children:"Back to Profile"}),(0,ct.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-white mb-2",children:"Club Onboarding"}),(0,ct.jsx)("p",{className:"text-white/80",children:"Complete these steps to unlock simulator bay booking"})]}),(0,ct.jsx)(Pa,{variant:"elevated",padding:"md",className:"mb-6",children:(0,ct.jsx)(Ma,{children:(0,ct.jsx)("div",{className:"flex items-center justify-between",children:h.map((e,t)=>(0,ct.jsxs)(a.Fragment,{children:[(0,ct.jsxs)("div",{className:"flex items-center gap-3",children:[e.complete?(0,ct.jsx)(Ks,{className:"w-6 h-6 text-green-600"}):n===e.id?(0,ct.jsx)("div",{className:"w-6 h-6 rounded-full bg-brand-dark-green text-white flex items-center justify-center text-sm font-medium",children:t+1}):(0,ct.jsx)(Jn,{className:"w-6 h-6 text-gray-300"}),(0,ct.jsx)("span",{className:"text-sm font-medium ".concat(e.complete?"text-green-700":n===e.id?"text-brand-dark-green":"text-gray-400"),children:e.label})]}),t<h.length-1&&(0,ct.jsx)("div",{className:"flex-1 h-0.5 mx-4 ".concat(e.complete?"bg-green-400":"bg-gray-200")})]},e.id))})})}),c&&(0,ct.jsxs)("div",{className:"mb-6 p-4 bg-red-100 border border-red-300 rounded-lg text-red-700",children:[c,(0,ct.jsx)("button",{onClick:()=>d(""),className:"ml-2 underline hover:no-underline",children:"Dismiss"})]}),"welcome"===n&&(0,ct.jsx)(Yp,{onComplete:async e=>{try{await tt.Ay$.post("/user/onboarding/welcome",{quiz_score:e}),l("waiver"),m(e=>e?(0,Re.A)((0,Re.A)({},e),{},{welcome_completed:!0}):null)}catch(t){console.error("Error saving welcome completion:",t),d("Failed to save progress. Please try again.")}},onBack:x}),"waiver"===n&&(0,ct.jsx)($p,{onComplete:async()=>{try{await tt.Ay$.post("/user/onboarding/waiver"),l("complete"),m(e=>e?(0,Re.A)((0,Re.A)({},e),{},{waiver_acknowledged:!0,onboarding_complete:!0}):null),await t()}catch(e){console.error("Error saving waiver acknowledgement:",e),d("Failed to save progress. Please try again.")}},onBack:()=>l("welcome")}),"complete"===n&&(0,ct.jsx)(Pa,{variant:"elevated",padding:"lg",children:(0,ct.jsxs)(Ma,{className:"text-center py-8",children:[(0,ct.jsx)("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,ct.jsx)(Ks,{className:"w-12 h-12 text-green-600"})}),(0,ct.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Onboarding Complete!"}),(0,ct.jsxs)("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:["You've completed all the required steps. You now have full access to book simulator bays at ",r,"."]}),(0,ct.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,ct.jsx)(pa,{variant:"primary",icon:Nt,size:"lg",onClick:()=>{s("/simulator-booking")},children:"Go to Booking"}),(0,ct.jsx)(pa,{variant:"outline",onClick:x,children:"Back to Profile"})]}),(0,ct.jsxs)("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[(0,ct.jsx)("p",{className:"text-xs text-gray-400 mb-2",children:"Testing"}),(0,ct.jsx)(pa,{variant:"ghost",size:"sm",icon:tl,onClick:async()=>{try{await tt.Ay$.delete("/user/onboarding"),m(null),l("welcome")}catch(e){console.error("Error resetting onboarding:",e),d("Failed to reset onboarding")}},className:"text-gray-400 hover:text-gray-600",children:"Reset Onboarding"})]})]})})]})},Kp=()=>{const{viewAsMode:e,exitViewAsMode:t}=mt();return e.isActive?(0,ct.jsxs)("div",{className:"fixed top-20 right-4 z-40 bg-yellow-500 text-black px-4 py-2 rounded-lg shadow-lg border-2 border-yellow-600 flex items-center space-x-2",children:[(0,ct.jsx)(rr,{className:"w-4 h-4"}),(0,ct.jsx)("span",{className:"font-semibold",children:"Viewing as:"}),(0,ct.jsx)("span",{className:"font-bold",children:e.viewAsPrimaryRole}),(0,ct.jsx)("span",{className:"text-yellow-800",children:"from"}),(0,ct.jsx)("span",{className:"font-bold",children:e.viewAsClub}),(0,ct.jsx)("button",{onClick:t,className:"ml-2 p-1 hover:bg-yellow-600 rounded transition-colors",title:"Exit view-as mode",children:(0,ct.jsx)(Qe,{className:"w-4 h-4"})})]}):null};function Jp(e,t){return new Promise(function(s,a){let r;return Xp(e).then(function(e){try{return r=e,s(new Blob([t.slice(0,2),r,t.slice(2)],{type:"image/jpeg"}))}catch(e){return a(e)}},a)})}const Xp=e=>new Promise((t,s)=>{const a=new FileReader;a.addEventListener("load",e=>{let{target:{result:a}}=e;const r=new DataView(a);let n=0;if(65496!==r.getUint16(n))return s("not a valid JPEG");for(n+=2;;){const e=r.getUint16(n);if(65498===e)break;const l=r.getUint16(n+2);if(65505===e&&1165519206===r.getUint32(n+4)){const e=n+10;let i;switch(r.getUint16(e)){case 18761:i=!0;break;case 19789:i=!1;break;default:return s("TIFF header contains invalid endian")}if(42!==r.getUint16(e+2,i))return s("TIFF header contains invalid version");const o=r.getUint32(e+4,i),c=e+o+2+12*r.getUint16(e+o,i);for(let t=e+o+2;t<c;t+=12)if(274==r.getUint16(t,i)){if(3!==r.getUint16(t+2,i))return s("Orientation data type is invalid");if(1!==r.getUint32(t+4,i))return s("Orientation data count is invalid");r.setUint16(t+8,1,i);break}return t(a.slice(n,n+2+l))}n+=2+l}return t(new Blob)}),a.readAsArrayBuffer(e)});var Zp={},eg={get exports(){return Zp},set exports(e){Zp=e}};!function(){var e,t,s={};eg.exports=s,s.parse=function(e,t){for(var a=s.bin.readUshort,r=s.bin.readUint,n=0,l={},i=new Uint8Array(e),o=i.length-4;101010256!=r(i,o);)o--;n=o,n+=4;var c=a(i,n+=4);a(i,n+=2);var d=r(i,n+=2),u=r(i,n+=4);n+=4,n=u;for(var m=0;m<c;m++){r(i,n),n+=4,n+=4,n+=4,r(i,n+=4),d=r(i,n+=4);var x=r(i,n+=4),h=a(i,n+=4),p=a(i,n+2),g=a(i,n+4);n+=6;var f=r(i,n+=8);n+=4,n+=h+p+g,s._readLocal(i,f,l,d,x,t)}return l},s._readLocal=function(e,t,a,r,n,l){var i=s.bin.readUshort,o=s.bin.readUint;o(e,t),i(e,t+=4),i(e,t+=2);var c=i(e,t+=2);o(e,t+=2),o(e,t+=4),t+=4;var d=i(e,t+=8),u=i(e,t+=2);t+=2;var m=s.bin.readUTF8(e,t,d);if(t+=d,t+=u,l)a[m]={size:n,csize:r};else{var x=new Uint8Array(e.buffer,t);if(0==c)a[m]=new Uint8Array(x.buffer.slice(t,t+r));else{if(8!=c)throw"unknown compression method: "+c;var h=new Uint8Array(n);s.inflateRaw(x,h),a[m]=h}}},s.inflateRaw=function(e,t){return s.F.inflate(e,t)},s.inflate=function(e,t){return e[0],e[1],s.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},s.deflate=function(e,t){null==t&&(t={level:6});var a=0,r=new Uint8Array(50+Math.floor(1.1*e.length));r[a]=120,r[a+1]=156,a+=2,a=s.F.deflateRaw(e,r,a,t.level);var n=s.adler(e,0,e.length);return r[a+0]=n>>>24&255,r[a+1]=n>>>16&255,r[a+2]=n>>>8&255,r[a+3]=n>>>0&255,new Uint8Array(r.buffer,0,a+4)},s.deflateRaw=function(e,t){null==t&&(t={level:6});var a=new Uint8Array(50+Math.floor(1.1*e.length)),r=s.F.deflateRaw(e,a,r,t.level);return new Uint8Array(a.buffer,0,r)},s.encode=function(e,t){null==t&&(t=!1);var a=0,r=s.bin.writeUint,n=s.bin.writeUshort,l={};for(var i in e){var o=!s._noNeed(i)&&!t,c=e[i],d=s.crc.crc(c,0,c.length);l[i]={cpr:o,usize:c.length,crc:d,file:o?s.deflateRaw(c):c}}for(var i in l)a+=l[i].file.length+30+46+2*s.bin.sizeUTF8(i);a+=22;var u=new Uint8Array(a),m=0,x=[];for(var i in l){var h=l[i];x.push(m),m=s._writeHeader(u,m,i,h,0)}var p=0,g=m;for(var i in l)h=l[i],x.push(m),m=s._writeHeader(u,m,i,h,1,x[p++]);var f=m-g;return r(u,m,101010256),m+=4,n(u,m+=4,p),n(u,m+=2,p),r(u,m+=2,f),r(u,m+=4,g),m+=4,m+=2,u.buffer},s._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return-1!="png,jpg,jpeg,zip".indexOf(t)},s._writeHeader=function(e,t,a,r,n,l){var i=s.bin.writeUint,o=s.bin.writeUshort,c=r.file;return i(e,t,0==n?67324752:33639248),t+=4,1==n&&(t+=2),o(e,t,20),o(e,t+=2,0),o(e,t+=2,r.cpr?8:0),i(e,t+=2,0),i(e,t+=4,r.crc),i(e,t+=4,c.length),i(e,t+=4,r.usize),o(e,t+=4,s.bin.sizeUTF8(a)),o(e,t+=2,0),t+=2,1==n&&(t+=2,t+=2,i(e,t+=6,l),t+=4),t+=s.bin.writeUTF8(e,t,a),0==n&&(e.set(c,t),t+=c.length),t},s.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var s=t,a=0;a<8;a++)1&s?s=3988292384^s>>>1:s>>>=1;e[t]=s}return e}(),update:function(e,t,a,r){for(var n=0;n<r;n++)e=s.crc.table[255&(e^t[a+n])]^e>>>8;return e},crc:function(e,t,a){return 4294967295^s.crc.update(4294967295,e,t,a)}},s.adler=function(e,t,s){for(var a=1,r=0,n=t,l=t+s;n<l;){for(var i=Math.min(n+5552,l);n<i;)r+=a+=e[n++];a%=65521,r%=65521}return r<<16|a},s.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,s){e[t]=255&s,e[t+1]=s>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,s){e[t]=255&s,e[t+1]=s>>8&255,e[t+2]=s>>16&255,e[t+3]=s>>24&255},readASCII:function(e,t,s){for(var a="",r=0;r<s;r++)a+=String.fromCharCode(e[t+r]);return a},writeASCII:function(e,t,s){for(var a=0;a<s.length;a++)e[t+a]=s.charCodeAt(a)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,a){for(var r,n="",l=0;l<a;l++)n+="%"+s.bin.pad(e[t+l].toString(16));try{r=decodeURIComponent(n)}catch(r){return s.bin.readASCII(e,t,a)}return r},writeUTF8:function(e,t,s){for(var a=s.length,r=0,n=0;n<a;n++){var l=s.charCodeAt(n);if(0==(4294967168&l))e[t+r]=l,r++;else if(0==(4294965248&l))e[t+r]=192|l>>6,e[t+r+1]=128|63&l,r+=2;else if(0==(4294901760&l))e[t+r]=224|l>>12,e[t+r+1]=128|l>>6&63,e[t+r+2]=128|63&l,r+=3;else{if(0!=(4292870144&l))throw"e";e[t+r]=240|l>>18,e[t+r+1]=128|l>>12&63,e[t+r+2]=128|l>>6&63,e[t+r+3]=128|63&l,r+=4}}return r},sizeUTF8:function(e){for(var t=e.length,s=0,a=0;a<t;a++){var r=e.charCodeAt(a);if(0==(4294967168&r))s++;else if(0==(4294965248&r))s+=2;else if(0==(4294901760&r))s+=3;else{if(0!=(4292870144&r))throw"e";s+=4}}return s}},s.F={},s.F.deflateRaw=function(e,t,a,r){var n=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][r],l=s.F.U,i=s.F._goodIndex;s.F._hash;var o=s.F._putsE,c=0,d=a<<3,u=0,m=e.length;if(0==r){for(;c<m;)o(t,d,c+(_=Math.min(65535,m-c))==m?1:0),d=s.F._copyExact(e,c,_,t,d+8),c+=_;return d>>>3}var x=l.lits,h=l.strt,p=l.prev,g=0,f=0,b=0,v=0,y=0,j=0;for(m>2&&(h[j=s.F._hash(e,0)]=0),c=0;c<m;c++){if(y=j,c+1<m-2){j=s.F._hash(e,c+1);var N=c+1&32767;p[N]=h[j],h[j]=N}if(u<=c){(g>14e3||f>26697)&&m-c>100&&(u<c&&(x[g]=c-u,g+=2,u=c),d=s.F._writeBlock(c==m-1||u==m?1:0,x,g,v,e,b,c-b,t,d),g=f=v=0,b=c);var w=0;c<m-2&&(w=s.F._bestMatch(e,c,p,y,Math.min(n[2],m-c),n[3]));var _=w>>>16,k=65535&w;if(0!=w){k=65535&w;var S=i(_=w>>>16,l.of0);l.lhst[257+S]++;var C=i(k,l.df0);l.dhst[C]++,v+=l.exb[S]+l.dxb[C],x[g]=_<<23|c-u,x[g+1]=k<<16|S<<8|C,g+=2,u=c+_}else l.lhst[e[c]]++;f++}}for(b==c&&0!=e.length||(u<c&&(x[g]=c-u,g+=2,u=c),d=s.F._writeBlock(1,x,g,v,e,b,c-b,t,d),g=0,f=0,g=f=v=0,b=c);0!=(7&d);)d++;return d>>>3},s.F._bestMatch=function(e,t,a,r,n,l){var i=32767&t,o=a[i],c=i-o+32768&32767;if(o==i||r!=s.F._hash(e,t-c))return 0;for(var d=0,u=0,m=Math.min(32767,t);c<=m&&0!=--l&&o!=i;){if(0==d||e[t+d]==e[t+d-c]){var x=s.F._howLong(e,t,c);if(x>d){if(u=c,(d=x)>=n)break;c+2<x&&(x=c+2);for(var h=0,p=0;p<x-2;p++){var g=t-c+p+32768&32767,f=g-a[g]+32768&32767;f>h&&(h=f,o=g)}}}c+=(i=o)-(o=a[i])+32768&32767}return d<<16|u},s.F._howLong=function(e,t,s){if(e[t]!=e[t-s]||e[t+1]!=e[t+1-s]||e[t+2]!=e[t+2-s])return 0;var a=t,r=Math.min(e.length,t+258);for(t+=3;t<r&&e[t]==e[t-s];)t++;return t-a},s.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},s.saved=0,s.F._writeBlock=function(e,t,a,r,n,l,i,o,c){var d,u,m,x,h,p,g,f,b,v=s.F.U,y=s.F._putsF,j=s.F._putsE;v.lhst[256]++,u=(d=s.F.getTrees())[0],m=d[1],x=d[2],h=d[3],p=d[4],g=d[5],f=d[6],b=d[7];var N=32+(0==(c+3&7)?0:8-(c+3&7))+(i<<3),w=r+s.F.contSize(v.fltree,v.lhst)+s.F.contSize(v.fdtree,v.dhst),_=r+s.F.contSize(v.ltree,v.lhst)+s.F.contSize(v.dtree,v.dhst);_+=14+3*g+s.F.contSize(v.itree,v.ihst)+(2*v.ihst[16]+3*v.ihst[17]+7*v.ihst[18]);for(var k=0;k<286;k++)v.lhst[k]=0;for(k=0;k<30;k++)v.dhst[k]=0;for(k=0;k<19;k++)v.ihst[k]=0;var S=N<w&&N<_?0:w<_?1:2;if(y(o,c,e),y(o,c+1,S),c+=3,0==S){for(;0!=(7&c);)c++;c=s.F._copyExact(n,l,i,o,c)}else{var C,A;if(1==S&&(C=v.fltree,A=v.fdtree),2==S){s.F.makeCodes(v.ltree,u),s.F.revCodes(v.ltree,u),s.F.makeCodes(v.dtree,m),s.F.revCodes(v.dtree,m),s.F.makeCodes(v.itree,x),s.F.revCodes(v.itree,x),C=v.ltree,A=v.dtree,j(o,c,h-257),j(o,c+=5,p-1),j(o,c+=5,g-4),c+=4;for(var E=0;E<g;E++)j(o,c+3*E,v.itree[1+(v.ordr[E]<<1)]);c+=3*g,c=s.F._codeTiny(f,v.itree,o,c),c=s.F._codeTiny(b,v.itree,o,c)}for(var T=l,P=0;P<a;P+=2){for(var D=t[P],M=D>>>23,R=T+(8388607&D);T<R;)c=s.F._writeLit(n[T++],C,o,c);if(0!=M){var L=t[P+1],F=L>>16,O=L>>8&255,I=255&L;j(o,c=s.F._writeLit(257+O,C,o,c),M-v.of0[O]),c+=v.exb[O],y(o,c=s.F._writeLit(I,A,o,c),F-v.df0[I]),c+=v.dxb[I],T+=M}}c=s.F._writeLit(256,C,o,c)}return c},s.F._copyExact=function(e,t,s,a,r){var n=r>>>3;return a[n]=s,a[n+1]=s>>>8,a[n+2]=255-a[n],a[n+3]=255-a[n+1],n+=4,a.set(new Uint8Array(e.buffer,t,s),n),r+(s+4<<3)},s.F.getTrees=function(){for(var e=s.F.U,t=s.F._hufTree(e.lhst,e.ltree,15),a=s.F._hufTree(e.dhst,e.dtree,15),r=[],n=s.F._lenCodes(e.ltree,r),l=[],i=s.F._lenCodes(e.dtree,l),o=0;o<r.length;o+=2)e.ihst[r[o]]++;for(o=0;o<l.length;o+=2)e.ihst[l[o]]++;for(var c=s.F._hufTree(e.ihst,e.itree,7),d=19;d>4&&0==e.itree[1+(e.ordr[d-1]<<1)];)d--;return[t,a,c,n,i,d,r,l]},s.F.getSecond=function(e){for(var t=[],s=0;s<e.length;s+=2)t.push(e[s+1]);return t},s.F.nonZero=function(e){for(var t="",s=0;s<e.length;s+=2)0!=e[s+1]&&(t+=(s>>1)+",");return t},s.F.contSize=function(e,t){for(var s=0,a=0;a<t.length;a++)s+=t[a]*e[1+(a<<1)];return s},s.F._codeTiny=function(e,t,a,r){for(var n=0;n<e.length;n+=2){var l=e[n],i=e[n+1];r=s.F._writeLit(l,t,a,r);var o=16==l?2:17==l?3:7;l>15&&(s.F._putsE(a,r,i,o),r+=o)}return r},s.F._lenCodes=function(e,t){for(var s=e.length;2!=s&&0==e[s-1];)s-=2;for(var a=0;a<s;a+=2){var r=e[a+1],n=a+3<s?e[a+3]:-1,l=a+5<s?e[a+5]:-1,i=0==a?-1:e[a-1];if(0==r&&n==r&&l==r){for(var o=a+5;o+2<s&&e[o+2]==r;)o+=2;(c=Math.min(o+1-a>>>1,138))<11?t.push(17,c-3):t.push(18,c-11),a+=2*c-2}else if(r==i&&n==r&&l==r){for(o=a+5;o+2<s&&e[o+2]==r;)o+=2;var c=Math.min(o+1-a>>>1,6);t.push(16,c-3),a+=2*c-2}else t.push(r,0)}return s>>>1},s.F._hufTree=function(e,t,a){var r=[],n=e.length,l=t.length,i=0;for(i=0;i<l;i+=2)t[i]=0,t[i+1]=0;for(i=0;i<n;i++)0!=e[i]&&r.push({lit:i,f:e[i]});var o=r.length,c=r.slice(0);if(0==o)return 0;if(1==o){var d=r[0].lit;return c=0==d?1:0,t[1+(d<<1)]=1,t[1+(c<<1)]=1,1}r.sort(function(e,t){return e.f-t.f});var u=r[0],m=r[1],x=0,h=1,p=2;for(r[0]={lit:-1,f:u.f+m.f,l:u,r:m,d:0};h!=o-1;)u=x!=h&&(p==o||r[x].f<r[p].f)?r[x++]:r[p++],m=x!=h&&(p==o||r[x].f<r[p].f)?r[x++]:r[p++],r[h++]={lit:-1,f:u.f+m.f,l:u,r:m};var g=s.F.setDepth(r[h-1],0);for(g>a&&(s.F.restrictDepth(c,a,g),g=a),i=0;i<o;i++)t[1+(c[i].lit<<1)]=c[i].d;return g},s.F.setDepth=function(e,t){return-1!=e.lit?(e.d=t,t):Math.max(s.F.setDepth(e.l,t+1),s.F.setDepth(e.r,t+1))},s.F.restrictDepth=function(e,t,s){var a=0,r=1<<s-t,n=0;for(e.sort(function(e,t){return t.d==e.d?e.f-t.f:t.d-e.d}),a=0;a<e.length&&e[a].d>t;a++){var l=e[a].d;e[a].d=t,n+=r-(1<<s-l)}for(n>>>=s-t;n>0;)(l=e[a].d)<t?(e[a].d++,n-=1<<t-l-1):a++;for(;a>=0;a--)e[a].d==t&&n<0&&(e[a].d--,n++);0!=n&&console.log("debt left")},s.F._goodIndex=function(e,t){var s=0;return t[16|s]<=e&&(s|=16),t[8|s]<=e&&(s|=8),t[4|s]<=e&&(s|=4),t[2|s]<=e&&(s|=2),t[1|s]<=e&&(s|=1),s},s.F._writeLit=function(e,t,a,r){return s.F._putsF(a,r,t[e<<1]),r+t[1+(e<<1)]},s.F.inflate=function(e,t){var a=Uint8Array;if(3==e[0]&&0==e[1])return t||new a(0);var r=s.F,n=r._bitsF,l=r._bitsE,i=r._decodeTiny,o=r.makeCodes,c=r.codes2map,d=r._get17,u=r.U,m=null==t;m&&(t=new a(e.length>>>2<<3));for(var x,h,p=0,g=0,f=0,b=0,v=0,y=0,j=0,N=0,w=0;0==p;)if(p=n(e,w,1),g=n(e,w+1,2),w+=3,0!=g){if(m&&(t=s.F._check(t,N+(1<<17))),1==g&&(x=u.flmap,h=u.fdmap,y=511,j=31),2==g){f=l(e,w,5)+257,b=l(e,w+5,5)+1,v=l(e,w+10,4)+4,w+=14;for(var _=0;_<38;_+=2)u.itree[_]=0,u.itree[_+1]=0;var k=1;for(_=0;_<v;_++){var S=l(e,w+3*_,3);u.itree[1+(u.ordr[_]<<1)]=S,S>k&&(k=S)}w+=3*v,o(u.itree,k),c(u.itree,k,u.imap),x=u.lmap,h=u.dmap,w=i(u.imap,(1<<k)-1,f+b,e,w,u.ttree);var C=r._copyOut(u.ttree,0,f,u.ltree);y=(1<<C)-1;var A=r._copyOut(u.ttree,f,b,u.dtree);j=(1<<A)-1,o(u.ltree,C),c(u.ltree,C,x),o(u.dtree,A),c(u.dtree,A,h)}for(;;){var E=x[d(e,w)&y];w+=15&E;var T=E>>>4;if(T>>>8==0)t[N++]=T;else{if(256==T)break;var P=N+T-254;if(T>264){var D=u.ldef[T-257];P=N+(D>>>3)+l(e,w,7&D),w+=7&D}var M=h[d(e,w)&j];w+=15&M;var R=M>>>4,L=u.ddef[R],F=(L>>>4)+n(e,w,15&L);for(w+=15&L,m&&(t=s.F._check(t,N+(1<<17)));N<P;)t[N]=t[N++-F],t[N]=t[N++-F],t[N]=t[N++-F],t[N]=t[N++-F];N=P}}}else{0!=(7&w)&&(w+=8-(7&w));var O=4+(w>>>3),I=e[O-4]|e[O-3]<<8;m&&(t=s.F._check(t,N+I)),t.set(new a(e.buffer,e.byteOffset+O,I),N),w=O+I<<3,N+=I}return t.length==N?t:t.slice(0,N)},s.F._check=function(e,t){var s=e.length;if(t<=s)return e;var a=new Uint8Array(Math.max(s<<1,t));return a.set(e,0),a},s.F._decodeTiny=function(e,t,a,r,n,l){for(var i=s.F._bitsE,o=s.F._get17,c=0;c<a;){var d=e[o(r,n)&t];n+=15&d;var u=d>>>4;if(u<=15)l[c]=u,c++;else{var m=0,x=0;16==u?(x=3+i(r,n,2),n+=2,m=l[c-1]):17==u?(x=3+i(r,n,3),n+=3):18==u&&(x=11+i(r,n,7),n+=7);for(var h=c+x;c<h;)l[c]=m,c++}}return n},s.F._copyOut=function(e,t,s,a){for(var r=0,n=0,l=a.length>>>1;n<s;){var i=e[n+t];a[n<<1]=0,a[1+(n<<1)]=i,i>r&&(r=i),n++}for(;n<l;)a[n<<1]=0,a[1+(n<<1)]=0,n++;return r},s.F.makeCodes=function(e,t){for(var a,r,n,l,i=s.F.U,o=e.length,c=i.bl_count,d=0;d<=t;d++)c[d]=0;for(d=1;d<o;d+=2)c[e[d]]++;var u=i.next_code;for(a=0,c[0]=0,r=1;r<=t;r++)a=a+c[r-1]<<1,u[r]=a;for(n=0;n<o;n+=2)0!=(l=e[n+1])&&(e[n]=u[l],u[l]++)},s.F.codes2map=function(e,t,a){for(var r=e.length,n=s.F.U.rev15,l=0;l<r;l+=2)if(0!=e[l+1])for(var i=l>>1,o=e[l+1],c=i<<4|o,d=t-o,u=e[l]<<d,m=u+(1<<d);u!=m;)a[n[u]>>>15-t]=c,u++},s.F.revCodes=function(e,t){for(var a=s.F.U.rev15,r=15-t,n=0;n<e.length;n+=2){var l=e[n]<<t-e[n+1];e[n]=a[l]>>>r}},s.F._putsE=function(e,t,s){s<<=7&t;var a=t>>>3;e[a]|=s,e[a+1]|=s>>>8},s.F._putsF=function(e,t,s){s<<=7&t;var a=t>>>3;e[a]|=s,e[a+1]|=s>>>8,e[a+2]|=s>>>16},s.F._bitsE=function(e,t,s){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<s)-1},s.F._bitsF=function(e,t,s){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<s)-1},s.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},s.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},s.F.U=(e=Uint16Array,t=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new t(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new t(286),dhst:new t(30),ihst:new t(19),lits:new t(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var e=s.F.U,t=0;t<32768;t++){var a=t;a=(4278255360&(a=(4042322160&(a=(3435973836&(a=(2863311530&a)>>>1|(1431655765&a)<<1))>>>2|(858993459&a)<<2))>>>4|(252645135&a)<<4))>>>8|(16711935&a)<<8,e.rev15[t]=(a>>>16|a<<16)>>>17}function r(e,t,s){for(;0!=t--;)e.push(0,s)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];r(e.fltree,144,8),r(e.fltree,112,9),r(e.fltree,24,7),r(e.fltree,8,8),s.F.makeCodes(e.fltree,9),s.F.codes2map(e.fltree,9,e.flmap),s.F.revCodes(e.fltree,9),r(e.fdtree,32,5),s.F.makeCodes(e.fdtree,5),s.F.codes2map(e.fdtree,5,e.fdmap),s.F.revCodes(e.fdtree,5),r(e.itree,19,0),r(e.ltree,286,0),r(e.dtree,30,0),r(e.ttree,320,0)}()}();var tg=function(e,t){return t.forEach(function(t){t&&"string"!=typeof t&&!Array.isArray(t)&&Object.keys(t).forEach(function(s){if("default"!==s&&!(s in e)){var a=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:function(){return t[s]}})}})}),Object.freeze(e)}({__proto__:null,default:Zp},[Zp]);const sg=function(){var e={nextZero(e,t){for(;0!=e[t];)t++;return t},readUshort:(e,t)=>e[t]<<8|e[t+1],writeUshort(e,t,s){e[t]=s>>8&255,e[t+1]=255&s},readUint:(e,t)=>16777216*e[t]+(e[t+1]<<16|e[t+2]<<8|e[t+3]),writeUint(e,t,s){e[t]=s>>24&255,e[t+1]=s>>16&255,e[t+2]=s>>8&255,e[t+3]=255&s},readASCII(e,t,s){let a="";for(let r=0;r<s;r++)a+=String.fromCharCode(e[t+r]);return a},writeASCII(e,t,s){for(let a=0;a<s.length;a++)e[t+a]=s.charCodeAt(a)},readBytes(e,t,s){const a=[];for(let r=0;r<s;r++)a.push(e[t+r]);return a},pad:e=>e.length<2?"0".concat(e):e,readUTF8(t,s,a){let r,n="";for(let l=0;l<a;l++)n+="%".concat(e.pad(t[s+l].toString(16)));try{r=decodeURIComponent(n)}catch(r){return e.readASCII(t,s,a)}return r}};function t(t,s,a,r){const l=s*a,i=n(r),o=Math.ceil(s*i/8),c=new Uint8Array(4*l),d=new Uint32Array(c.buffer),{ctype:u}=r,{depth:m}=r,x=e.readUshort;if(6==u){const e=l<<2;if(8==m)for(var h=0;h<e;h+=4)c[h]=t[h],c[h+1]=t[h+1],c[h+2]=t[h+2],c[h+3]=t[h+3];if(16==m)for(h=0;h<e;h++)c[h]=t[h<<1]}else if(2==u){const e=r.tabs.tRNS;if(null==e){if(8==m)for(h=0;h<l;h++){var p=3*h;d[h]=255<<24|t[p+2]<<16|t[p+1]<<8|t[p]}if(16==m)for(h=0;h<l;h++)p=6*h,d[h]=255<<24|t[p+4]<<16|t[p+2]<<8|t[p]}else{var g=e[0];const s=e[1],a=e[2];if(8==m)for(h=0;h<l;h++){var f=h<<2;p=3*h,d[h]=255<<24|t[p+2]<<16|t[p+1]<<8|t[p],t[p]==g&&t[p+1]==s&&t[p+2]==a&&(c[f+3]=0)}if(16==m)for(h=0;h<l;h++)f=h<<2,p=6*h,d[h]=255<<24|t[p+4]<<16|t[p+2]<<8|t[p],x(t,p)==g&&x(t,p+2)==s&&x(t,p+4)==a&&(c[f+3]=0)}}else if(3==u){const e=r.tabs.PLTE,n=r.tabs.tRNS,i=n?n.length:0;if(1==m)for(var b=0;b<a;b++){var v=b*o,y=b*s;for(h=0;h<s;h++){f=y+h<<2;var j=3*(N=t[v+(h>>3)]>>7-(7&h)&1);c[f]=e[j],c[f+1]=e[j+1],c[f+2]=e[j+2],c[f+3]=N<i?n[N]:255}}if(2==m)for(b=0;b<a;b++)for(v=b*o,y=b*s,h=0;h<s;h++)f=y+h<<2,j=3*(N=t[v+(h>>2)]>>6-((3&h)<<1)&3),c[f]=e[j],c[f+1]=e[j+1],c[f+2]=e[j+2],c[f+3]=N<i?n[N]:255;if(4==m)for(b=0;b<a;b++)for(v=b*o,y=b*s,h=0;h<s;h++)f=y+h<<2,j=3*(N=t[v+(h>>1)]>>4-((1&h)<<2)&15),c[f]=e[j],c[f+1]=e[j+1],c[f+2]=e[j+2],c[f+3]=N<i?n[N]:255;if(8==m)for(h=0;h<l;h++){var N;f=h<<2,j=3*(N=t[h]),c[f]=e[j],c[f+1]=e[j+1],c[f+2]=e[j+2],c[f+3]=N<i?n[N]:255}}else if(4==u){if(8==m)for(h=0;h<l;h++){f=h<<2;var w=t[_=h<<1];c[f]=w,c[f+1]=w,c[f+2]=w,c[f+3]=t[_+1]}if(16==m)for(h=0;h<l;h++){var _;f=h<<2,w=t[_=h<<2],c[f]=w,c[f+1]=w,c[f+2]=w,c[f+3]=t[_+2]}}else if(0==u)for(g=r.tabs.tRNS?r.tabs.tRNS:-1,b=0;b<a;b++){const e=b*o,a=b*s;if(1==m)for(var k=0;k<s;k++){var S=(w=255*(t[e+(k>>>3)]>>>7-(7&k)&1))==255*g?0:255;d[a+k]=S<<24|w<<16|w<<8|w}else if(2==m)for(k=0;k<s;k++)S=(w=85*(t[e+(k>>>2)]>>>6-((3&k)<<1)&3))==85*g?0:255,d[a+k]=S<<24|w<<16|w<<8|w;else if(4==m)for(k=0;k<s;k++)S=(w=17*(t[e+(k>>>1)]>>>4-((1&k)<<2)&15))==17*g?0:255,d[a+k]=S<<24|w<<16|w<<8|w;else if(8==m)for(k=0;k<s;k++)S=(w=t[e+k])==g?0:255,d[a+k]=S<<24|w<<16|w<<8|w;else if(16==m)for(k=0;k<s;k++)w=t[e+(k<<1)],S=x(t,e+(k<<1))==g?0:255,d[a+k]=S<<24|w<<16|w<<8|w}return c}function s(e,t,s,i){const o=n(e),c=Math.ceil(s*o/8),d=new Uint8Array((c+1+e.interlace)*i);return t=e.tabs.CgBI?r(t,d):a(t,d),0==e.interlace?t=l(t,e,0,s,i):1==e.interlace&&(t=function(e,t){const s=t.width,a=t.height,r=n(t),i=r>>3,o=Math.ceil(s*r/8),c=new Uint8Array(a*o);let d=0;const u=[0,0,4,0,2,0,1],m=[0,4,0,2,0,1,0],x=[8,8,8,4,4,2,2],h=[8,8,4,4,2,2,1];let p=0;for(;p<7;){const n=x[p],f=h[p];let b=0,v=0,y=u[p];for(;y<a;)y+=n,v++;let j=m[p];for(;j<s;)j+=f,b++;const N=Math.ceil(b*r/8);l(e,t,d,b,v);let w=0,_=u[p];for(;_<a;){let t=m[p],a=d+w*N<<3;for(;t<s;){var g;if(1==r&&(g=(g=e[a>>3])>>7-(7&a)&1,c[_*o+(t>>3)]|=g<<7-(7&t)),2==r&&(g=(g=e[a>>3])>>6-(7&a)&3,c[_*o+(t>>2)]|=g<<6-((3&t)<<1)),4==r&&(g=(g=e[a>>3])>>4-(7&a)&15,c[_*o+(t>>1)]|=g<<4-((1&t)<<2)),r>=8){const s=_*o+t*i;for(let t=0;t<i;t++)c[s+t]=e[(a>>3)+t]}a+=r,t+=f}w++,_+=n}b*v!=0&&(d+=v*(1+N)),p+=1}return c}(t,e)),t}function a(e,t){return r(new Uint8Array(e.buffer,2,e.length-6),t)}var r=function(){const e={H:{}};return e.H.N=function(t,s){const a=Uint8Array;let r,n,l=0,i=0,o=0,c=0,d=0,u=0,m=0,x=0,h=0;if(3==t[0]&&0==t[1])return s||new a(0);const p=e.H,g=p.b,f=p.e,b=p.R,v=p.n,y=p.A,j=p.Z,N=p.m,w=null==s;for(w&&(s=new a(t.length>>>2<<5));0==l;)if(l=g(t,h,1),i=g(t,h+1,2),h+=3,0!=i){if(w&&(s=e.H.W(s,x+(1<<17))),1==i&&(r=N.J,n=N.h,u=511,m=31),2==i){o=f(t,h,5)+257,c=f(t,h+5,5)+1,d=f(t,h+10,4)+4,h+=14;let e=1;for(var _=0;_<38;_+=2)N.Q[_]=0,N.Q[_+1]=0;for(_=0;_<d;_++){const s=f(t,h+3*_,3);N.Q[1+(N.X[_]<<1)]=s,s>e&&(e=s)}h+=3*d,v(N.Q,e),y(N.Q,e,N.u),r=N.w,n=N.d,h=b(N.u,(1<<e)-1,o+c,t,h,N.v);const s=p.V(N.v,0,o,N.C);u=(1<<s)-1;const a=p.V(N.v,o,c,N.D);m=(1<<a)-1,v(N.C,s),y(N.C,s,r),v(N.D,a),y(N.D,a,n)}for(;;){const e=r[j(t,h)&u];h+=15&e;const a=e>>>4;if(a>>>8==0)s[x++]=a;else{if(256==a)break;{let e=x+a-254;if(a>264){const s=N.q[a-257];e=x+(s>>>3)+f(t,h,7&s),h+=7&s}const r=n[j(t,h)&m];h+=15&r;const l=r>>>4,i=N.c[l],o=(i>>>4)+g(t,h,15&i);for(h+=15&i;x<e;)s[x]=s[x++-o],s[x]=s[x++-o],s[x]=s[x++-o],s[x]=s[x++-o];x=e}}}}else{0!=(7&h)&&(h+=8-(7&h));const r=4+(h>>>3),n=t[r-4]|t[r-3]<<8;w&&(s=e.H.W(s,x+n)),s.set(new a(t.buffer,t.byteOffset+r,n),x),h=r+n<<3,x+=n}return s.length==x?s:s.slice(0,x)},e.H.W=function(e,t){const s=e.length;if(t<=s)return e;const a=new Uint8Array(s<<1);return a.set(e,0),a},e.H.R=function(t,s,a,r,n,l){const i=e.H.e,o=e.H.Z;let c=0;for(;c<a;){const e=t[o(r,n)&s];n+=15&e;const a=e>>>4;if(a<=15)l[c]=a,c++;else{let e=0,t=0;16==a?(t=3+i(r,n,2),n+=2,e=l[c-1]):17==a?(t=3+i(r,n,3),n+=3):18==a&&(t=11+i(r,n,7),n+=7);const s=c+t;for(;c<s;)l[c]=e,c++}}return n},e.H.V=function(e,t,s,a){let r=0,n=0;const l=a.length>>>1;for(;n<s;){const s=e[n+t];a[n<<1]=0,a[1+(n<<1)]=s,s>r&&(r=s),n++}for(;n<l;)a[n<<1]=0,a[1+(n<<1)]=0,n++;return r},e.H.n=function(t,s){const a=e.H.m,r=t.length;let n,l,i,o;const c=a.j;for(var d=0;d<=s;d++)c[d]=0;for(d=1;d<r;d+=2)c[t[d]]++;const u=a.K;for(n=0,c[0]=0,l=1;l<=s;l++)n=n+c[l-1]<<1,u[l]=n;for(i=0;i<r;i+=2)o=t[i+1],0!=o&&(t[i]=u[o],u[o]++)},e.H.A=function(t,s,a){const r=t.length,n=e.H.m.r;for(let e=0;e<r;e+=2)if(0!=t[e+1]){const r=e>>1,l=t[e+1],i=r<<4|l,o=s-l;let c=t[e]<<o;const d=c+(1<<o);for(;c!=d;)a[n[c]>>>15-s]=i,c++}},e.H.l=function(t,s){const a=e.H.m.r,r=15-s;for(let e=0;e<t.length;e+=2){const n=t[e]<<s-t[e+1];t[e]=a[n]>>>r}},e.H.M=function(e,t,s){s<<=7&t;const a=t>>>3;e[a]|=s,e[a+1]|=s>>>8},e.H.I=function(e,t,s){s<<=7&t;const a=t>>>3;e[a]|=s,e[a+1]|=s>>>8,e[a+2]|=s>>>16},e.H.e=function(e,t,s){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<s)-1},e.H.b=function(e,t,s){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<s)-1},e.H.Z=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},e.H.i=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},e.H.m=function(){const e=Uint16Array,t=Uint32Array;return{K:new e(16),j:new e(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new e(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new t(32),J:new e(512),_:[],h:new e(32),$:[],w:new e(32768),C:[],v:[],d:new e(32768),D:[],u:new e(512),Q:[],r:new e(32768),s:new t(286),Y:new t(30),a:new t(19),t:new t(15e3),k:new e(65536),g:new e(32768)}}(),function(){const t=e.H.m;for(var s=0;s<32768;s++){let e=s;e=(2863311530&e)>>>1|(1431655765&e)<<1,e=(3435973836&e)>>>2|(858993459&e)<<2,e=(4042322160&e)>>>4|(252645135&e)<<4,e=(4278255360&e)>>>8|(16711935&e)<<8,t.r[s]=(e>>>16|e<<16)>>>17}function a(e,t,s){for(;0!=t--;)e.push(0,s)}for(s=0;s<32;s++)t.q[s]=t.S[s]<<3|t.T[s],t.c[s]=t.p[s]<<4|t.z[s];a(t._,144,8),a(t._,112,9),a(t._,24,7),a(t._,8,8),e.H.n(t._,9),e.H.A(t._,9,t.J),e.H.l(t._,9),a(t.$,32,5),e.H.n(t.$,5),e.H.A(t.$,5,t.h),e.H.l(t.$,5),a(t.Q,19,0),a(t.C,286,0),a(t.D,30,0),a(t.v,320,0)}(),e.H.N}();function n(e){return[1,null,3,1,2,null,4][e.ctype]*e.depth}function l(e,t,s,a,r){let l=n(t);const o=Math.ceil(a*l/8);let c,d;l=Math.ceil(l/8);let u=e[s],m=0;if(u>1&&(e[s]=[0,0,1][u-2]),3==u)for(m=l;m<o;m++)e[m+1]=e[m+1]+(e[m+1-l]>>>1)&255;for(let n=0;n<r;n++)if(c=s+n*o,d=c+n+1,u=e[d-1],m=0,0==u)for(;m<o;m++)e[c+m]=e[d+m];else if(1==u){for(;m<l;m++)e[c+m]=e[d+m];for(;m<o;m++)e[c+m]=e[d+m]+e[c+m-l]}else if(2==u)for(;m<o;m++)e[c+m]=e[d+m]+e[c+m-o];else if(3==u){for(;m<l;m++)e[c+m]=e[d+m]+(e[c+m-o]>>>1);for(;m<o;m++)e[c+m]=e[d+m]+(e[c+m-o]+e[c+m-l]>>>1)}else{for(;m<l;m++)e[c+m]=e[d+m]+i(0,e[c+m-o],0);for(;m<o;m++)e[c+m]=e[d+m]+i(e[c+m-l],e[c+m-o],e[c+m-l-o])}return e}function i(e,t,s){const a=e+t-s,r=a-e,n=a-t,l=a-s;return r*r<=n*n&&r*r<=l*l?e:n*n<=l*l?t:s}function o(t,s,a){a.width=e.readUint(t,s),s+=4,a.height=e.readUint(t,s),s+=4,a.depth=t[s],s++,a.ctype=t[s],s++,a.compress=t[s],s++,a.filter=t[s],s++,a.interlace=t[s],s++}function c(e,t,s,a,r,n,l,i,o){const c=Math.min(t,r),d=Math.min(s,n);let u=0,m=0;for(let j=0;j<d;j++)for(let s=0;s<c;s++)if(l>=0&&i>=0?(u=j*t+s<<2,m=(i+j)*r+l+s<<2):(u=(-i+j)*t-l+s<<2,m=j*r+s<<2),0==o)a[m]=e[u],a[m+1]=e[u+1],a[m+2]=e[u+2],a[m+3]=e[u+3];else if(1==o){var x=e[u+3]*(1/255),h=e[u]*x,p=e[u+1]*x,g=e[u+2]*x,f=a[m+3]*(1/255),b=a[m]*f,v=a[m+1]*f,y=a[m+2]*f;const t=1-x,s=x+f*t,r=0==s?0:1/s;a[m+3]=255*s,a[m+0]=(h+b*t)*r,a[m+1]=(p+v*t)*r,a[m+2]=(g+y*t)*r}else if(2==o)x=e[u+3],h=e[u],p=e[u+1],g=e[u+2],f=a[m+3],b=a[m],v=a[m+1],y=a[m+2],x==f&&h==b&&p==v&&g==y?(a[m]=0,a[m+1]=0,a[m+2]=0,a[m+3]=0):(a[m]=h,a[m+1]=p,a[m+2]=g,a[m+3]=x);else if(3==o){if(x=e[u+3],h=e[u],p=e[u+1],g=e[u+2],f=a[m+3],b=a[m],v=a[m+1],y=a[m+2],x==f&&h==b&&p==v&&g==y)continue;if(x<220&&f>20)return!1}return!0}return{decode:function(t){const n=new Uint8Array(t);let l=8;const i=e,c=i.readUshort,d=i.readUint,u={tabs:{},frames:[]},m=new Uint8Array(n.length);let x,h=0,p=0;const g=[137,80,78,71,13,10,26,10];for(var f=0;f<8;f++)if(n[f]!=g[f])throw"The input is not a PNG file!";for(;l<n.length;){const t=i.readUint(n,l);l+=4;const g=i.readASCII(n,l,4);if(l+=4,"IHDR"==g)o(n,l,u);else if("iCCP"==g){for(var b=l;0!=n[b];)b++;i.readASCII(n,l,b-l),n[b+1];const s=n.slice(b+2,l+t);let o=null;try{o=a(s)}catch(e){o=r(s)}u.tabs[g]=o}else if("CgBI"==g)u.tabs[g]=n.slice(l,l+4);else if("IDAT"==g){for(f=0;f<t;f++)m[h+f]=n[l+f];h+=t}else if("acTL"==g)u.tabs[g]={num_frames:d(n,l),num_plays:d(n,l+4)},x=new Uint8Array(n.length);else if("fcTL"==g){0!=p&&((_=u.frames[u.frames.length-1]).data=s(u,x.slice(0,p),_.rect.width,_.rect.height),p=0);const e={x:d(n,l+12),y:d(n,l+16),width:d(n,l+4),height:d(n,l+8)};let t=c(n,l+22);t=c(n,l+20)/(0==t?100:t);const a={rect:e,delay:Math.round(1e3*t),dispose:n[l+24],blend:n[l+25]};u.frames.push(a)}else if("fdAT"==g){for(f=0;f<t-4;f++)x[p+f]=n[l+f+4];p+=t-4}else if("pHYs"==g)u.tabs[g]=[i.readUint(n,l),i.readUint(n,l+4),n[l+8]];else if("cHRM"==g)for(u.tabs[g]=[],f=0;f<8;f++)u.tabs[g].push(i.readUint(n,l+4*f));else if("tEXt"==g||"zTXt"==g){null==u.tabs[g]&&(u.tabs[g]={});var v=i.nextZero(n,l),y=i.readASCII(n,l,v-l),j=l+t-v-1;if("tEXt"==g)w=i.readASCII(n,v+1,j);else{var N=a(n.slice(v+2,v+2+j));w=i.readUTF8(N,0,N.length)}u.tabs[g][y]=w}else if("iTXt"==g){null==u.tabs[g]&&(u.tabs[g]={}),v=0,b=l,v=i.nextZero(n,b),y=i.readASCII(n,b,v-b);const e=n[b=v+1];var w;n[b+1],b+=2,v=i.nextZero(n,b),i.readASCII(n,b,v-b),b=v+1,v=i.nextZero(n,b),i.readUTF8(n,b,v-b),j=t-((b=v+1)-l),0==e?w=i.readUTF8(n,b,j):(N=a(n.slice(b,b+j)),w=i.readUTF8(N,0,N.length)),u.tabs[g][y]=w}else if("PLTE"==g)u.tabs[g]=i.readBytes(n,l,t);else if("hIST"==g){const e=u.tabs.PLTE.length/3;for(u.tabs[g]=[],f=0;f<e;f++)u.tabs[g].push(c(n,l+2*f))}else if("tRNS"==g)3==u.ctype?u.tabs[g]=i.readBytes(n,l,t):0==u.ctype?u.tabs[g]=c(n,l):2==u.ctype&&(u.tabs[g]=[c(n,l),c(n,l+2),c(n,l+4)]);else if("gAMA"==g)u.tabs[g]=i.readUint(n,l)/1e5;else if("sRGB"==g)u.tabs[g]=n[l];else if("bKGD"==g)0==u.ctype||4==u.ctype?u.tabs[g]=[c(n,l)]:2==u.ctype||6==u.ctype?u.tabs[g]=[c(n,l),c(n,l+2),c(n,l+4)]:3==u.ctype&&(u.tabs[g]=n[l]);else if("IEND"==g)break;l+=t,i.readUint(n,l),l+=4}var _;return 0!=p&&((_=u.frames[u.frames.length-1]).data=s(u,x.slice(0,p),_.rect.width,_.rect.height)),u.data=s(u,m,u.width,u.height),delete u.compress,delete u.interlace,delete u.filter,u},toRGBA8:function(e){const s=e.width,a=e.height;if(null==e.tabs.acTL)return[t(e.data,s,a,e).buffer];const r=[];null==e.frames[0].data&&(e.frames[0].data=e.data);const n=s*a*4,l=new Uint8Array(n),i=new Uint8Array(n),o=new Uint8Array(n);for(let u=0;u<e.frames.length;u++){const m=e.frames[u],x=m.rect.x,h=m.rect.y,p=m.rect.width,g=m.rect.height,f=t(m.data,p,g,e);if(0!=u)for(var d=0;d<n;d++)o[d]=l[d];if(0==m.blend?c(f,p,g,l,s,a,x,h,0):1==m.blend&&c(f,p,g,l,s,a,x,h,1),r.push(l.buffer.slice(0)),0==m.dispose);else if(1==m.dispose)c(i,p,g,l,s,a,x,h,0);else if(2==m.dispose)for(d=0;d<n;d++)l[d]=o[d]}return r},_paeth:i,_copyTile:c,_bin:e}}();!function(){const{_copyTile:e}=sg,{_bin:t}=sg,s=sg._paeth;var a={table:function(){const e=new Uint32Array(256);for(let t=0;t<256;t++){let s=t;for(let e=0;e<8;e++)1&s?s=3988292384^s>>>1:s>>>=1;e[t]=s}return e}(),update(e,t,s,r){for(let n=0;n<r;n++)e=a.table[255&(e^t[s+n])]^e>>>8;return e},crc:(e,t,s)=>4294967295^a.update(4294967295,e,t,s)};function r(e,t,s,a){t[s]+=e[0]*a>>4,t[s+1]+=e[1]*a>>4,t[s+2]+=e[2]*a>>4,t[s+3]+=e[3]*a>>4}function n(e){return Math.max(0,Math.min(255,e))}function l(e,t){const s=e[0]-t[0],a=e[1]-t[1],r=e[2]-t[2],n=e[3]-t[3];return s*s+a*a+r*r+n*n}function i(e,t,s,a,i,o,c){null==c&&(c=1);const d=a.length,u=[];for(var m=0;m<d;m++){const e=a[m];u.push([e>>>0&255,e>>>8&255,e>>>16&255,e>>>24&255])}for(m=0;m<d;m++){let e=4294967295;for(var x=0,h=0;h<d;h++){var p=l(u[m],u[h]);h!=m&&p<e&&(e=p,x=h)}}const g=new Uint32Array(i.buffer),f=new Int16Array(t*s*4),b=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(m=0;m<b.length;m++)b[m]=255*((b[m]+.5)/16-.5);for(let y=0;y<s;y++)for(let i=0;i<t;i++){var v;m=4*(y*t+i),2!=c?v=[n(e[m]+f[m]),n(e[m+1]+f[m+1]),n(e[m+2]+f[m+2]),n(e[m+3]+f[m+3])]:(p=b[4*(3&y)+(3&i)],v=[n(e[m]+p),n(e[m+1]+p),n(e[m+2]+p),n(e[m+3]+p)]),x=0;let j=16777215;for(h=0;h<d;h++){const e=l(v,u[h]);e<j&&(j=e,x=h)}const N=u[x],w=[v[0]-N[0],v[1]-N[1],v[2]-N[2],v[3]-N[3]];1==c&&(i!=t-1&&r(w,f,m+4,7),y!=s-1&&(0!=i&&r(w,f,m+4*t-4,3),r(w,f,m+4*t,5),i!=t-1&&r(w,f,m+4*t+4,1))),o[m>>2]=x,g[m>>2]=a[x]}}function o(e,s,r,n,l){null==l&&(l={});const{crc:i}=a,o=t.writeUint,c=t.writeUshort,d=t.writeASCII;let u=8;const m=e.frames.length>1;let x,h=!1,p=33+(m?20:0);if(null!=l.sRGB&&(p+=13),null!=l.pHYs&&(p+=21),null!=l.iCCP&&(x=pako.deflate(l.iCCP),p+=21+x.length+4),3==e.ctype){for(var g=e.plte.length,f=0;f<g;f++)e.plte[f]>>>24!=255&&(h=!0);p+=8+3*g+4+(h?8+1*g+4:0)}for(var b=0;b<e.frames.length;b++)m&&(p+=38),p+=(N=e.frames[b]).cimg.length+12,0!=b&&(p+=4);p+=12;const v=new Uint8Array(p),y=[137,80,78,71,13,10,26,10];for(f=0;f<8;f++)v[f]=y[f];if(o(v,u,13),u+=4,d(v,u,"IHDR"),u+=4,o(v,u,s),u+=4,o(v,u,r),u+=4,v[u]=e.depth,u++,v[u]=e.ctype,u++,v[u]=0,u++,v[u]=0,u++,v[u]=0,u++,o(v,u,i(v,u-17,17)),u+=4,null!=l.sRGB&&(o(v,u,1),u+=4,d(v,u,"sRGB"),u+=4,v[u]=l.sRGB,u++,o(v,u,i(v,u-5,5)),u+=4),null!=l.iCCP){const e=13+x.length;o(v,u,e),u+=4,d(v,u,"iCCP"),u+=4,d(v,u,"ICC profile"),u+=11,u+=2,v.set(x,u),u+=x.length,o(v,u,i(v,u-(e+4),e+4)),u+=4}if(null!=l.pHYs&&(o(v,u,9),u+=4,d(v,u,"pHYs"),u+=4,o(v,u,l.pHYs[0]),u+=4,o(v,u,l.pHYs[1]),u+=4,v[u]=l.pHYs[2],u++,o(v,u,i(v,u-13,13)),u+=4),m&&(o(v,u,8),u+=4,d(v,u,"acTL"),u+=4,o(v,u,e.frames.length),u+=4,o(v,u,null!=l.loop?l.loop:0),u+=4,o(v,u,i(v,u-12,12)),u+=4),3==e.ctype){for(o(v,u,3*(g=e.plte.length)),u+=4,d(v,u,"PLTE"),u+=4,f=0;f<g;f++){const t=3*f,s=e.plte[f],a=255&s,r=s>>>8&255,n=s>>>16&255;v[u+t+0]=a,v[u+t+1]=r,v[u+t+2]=n}if(u+=3*g,o(v,u,i(v,u-3*g-4,3*g+4)),u+=4,h){for(o(v,u,g),u+=4,d(v,u,"tRNS"),u+=4,f=0;f<g;f++)v[u+f]=e.plte[f]>>>24&255;u+=g,o(v,u,i(v,u-g-4,g+4)),u+=4}}let j=0;for(b=0;b<e.frames.length;b++){var N=e.frames[b];m&&(o(v,u,26),u+=4,d(v,u,"fcTL"),u+=4,o(v,u,j++),u+=4,o(v,u,N.rect.width),u+=4,o(v,u,N.rect.height),u+=4,o(v,u,N.rect.x),u+=4,o(v,u,N.rect.y),u+=4,c(v,u,n[b]),u+=2,c(v,u,1e3),u+=2,v[u]=N.dispose,u++,v[u]=N.blend,u++,o(v,u,i(v,u-30,30)),u+=4);const t=N.cimg;o(v,u,(g=t.length)+(0==b?0:4)),u+=4;const s=u;d(v,u,0==b?"IDAT":"fdAT"),u+=4,0!=b&&(o(v,u,j++),u+=4),v.set(t,u),u+=g,o(v,u,i(v,s,u-s)),u+=4}return o(v,u,0),u+=4,d(v,u,"IEND"),u+=4,o(v,u,i(v,u-4,4)),u+=4,v.buffer}function c(e,t,s){for(let a=0;a<e.frames.length;a++){const r=e.frames[a];r.rect.width;const n=r.rect.height,l=new Uint8Array(n*r.bpl+n);r.cimg=x(r.img,n,r.bpp,r.bpl,l,t,s)}}function d(t,s,a,r,n){const l=n[0],o=n[1],c=n[2],d=n[3],x=n[4],h=n[5];let g=6,f=8,b=255;for(var v=0;v<t.length;v++){const e=new Uint8Array(t[v]);for(var y=e.length,j=0;j<y;j+=4)b&=e[j+3]}const N=255!=b,w=function(t,s,a,r,n,l){const i=[];for(var o=0;o<t.length;o++){const u=new Uint8Array(t[o]),x=new Uint32Array(u.buffer);var c;let p=0,g=0,f=s,b=a,v=r?1:0;if(0!=o){const y=l||r||1==o||0!=i[o-2].dispose?1:2;let j=0,N=1e9;for(let e=0;e<y;e++){var d=new Uint8Array(t[o-1-e]);const r=new Uint32Array(t[o-1-e]);let l=s,i=a,c=-1,u=-1;for(let e=0;e<a;e++)for(let t=0;t<s;t++)x[h=e*s+t]!=r[h]&&(t<l&&(l=t),t>c&&(c=t),e<i&&(i=e),e>u&&(u=e));-1==c&&(l=i=c=u=0),n&&(1==(1&l)&&l--,1==(1&i)&&i--);const m=(c-l+1)*(u-i+1);m<N&&(N=m,j=e,p=l,g=i,f=c-l+1,b=u-i+1)}d=new Uint8Array(t[o-1-j]),1==j&&(i[o-1].dispose=2),c=new Uint8Array(f*b*4),e(d,s,a,c,f,b,-p,-g,0),v=e(u,s,a,c,f,b,-p,-g,3)?1:0,1==v?m(u,s,a,c,{x:p,y:g,width:f,height:b}):e(u,s,a,c,f,b,-p,-g,0)}else c=u.slice(0);i.push({rect:{x:p,y:g,width:f,height:b},img:c,blend:v,dispose:0})}if(r)for(o=0;o<i.length;o++){if(1==(p=i[o]).blend)continue;const e=p.rect,r=i[o-1].rect,l=Math.min(e.x,r.x),c=Math.min(e.y,r.y),d={x:l,y:c,width:Math.max(e.x+e.width,r.x+r.width)-l,height:Math.max(e.y+e.height,r.y+r.height)-c};i[o-1].dispose=1,o-1!=0&&u(t,s,a,i,o-1,d,n),u(t,s,a,i,o,d,n)}let x=0;if(1!=t.length)for(var h=0;h<i.length;h++){var p;x+=(p=i[h]).rect.width*p.rect.height}return i}(t,s,a,l,o,c),_={},k=[],S=[];if(0!=r){const e=[];for(j=0;j<w.length;j++)e.push(w[j].img.buffer);const t=function(e){let t=0;for(var s=0;s<e.length;s++)t+=e[s].byteLength;const a=new Uint8Array(t);let r=0;for(s=0;s<e.length;s++){const t=new Uint8Array(e[s]),n=t.length;for(let e=0;e<n;e+=4){let s=t[e],n=t[e+1],l=t[e+2];const i=t[e+3];0==i&&(s=n=l=0),a[r+e]=s,a[r+e+1]=n,a[r+e+2]=l,a[r+e+3]=i}r+=n}return a.buffer}(e),s=p(t,r);for(j=0;j<s.plte.length;j++)k.push(s.plte[j].est.rgba);let a=0;for(j=0;j<w.length;j++){const e=(A=w[j]).img.length;var C=new Uint8Array(s.inds.buffer,a>>2,e>>2);S.push(C);const t=new Uint8Array(s.abuf,a,e);h&&i(A.img,A.rect.width,A.rect.height,k,t,C),A.img.set(t),a+=e}}else for(v=0;v<w.length;v++){var A=w[v];const e=new Uint32Array(A.img.buffer);var E=A.rect.width;for(y=e.length,C=new Uint8Array(y),S.push(C),j=0;j<y;j++){const t=e[j];if(0!=j&&t==e[j-1])C[j]=C[j-1];else if(j>E&&t==e[j-E])C[j]=C[j-E];else{let e=_[t];if(null==e&&(_[t]=e=k.length,k.push(t),k.length>=300))break;C[j]=e}}}const T=k.length;for(T<=256&&0==x&&(f=T<=2?1:T<=4?2:T<=16?4:8,f=Math.max(f,d)),v=0;v<w.length;v++){(A=w[v]).rect.x,A.rect.y,E=A.rect.width;const e=A.rect.height;let t=A.img;new Uint32Array(t.buffer);let s=4*E,a=4;if(T<=256&&0==x){s=Math.ceil(f*E/8);var P=new Uint8Array(s*e);const r=S[v];for(let t=0;t<e;t++){j=t*s;const e=t*E;if(8==f)for(var D=0;D<E;D++)P[j+D]=r[e+D];else if(4==f)for(D=0;D<E;D++)P[j+(D>>1)]|=r[e+D]<<4-4*(1&D);else if(2==f)for(D=0;D<E;D++)P[j+(D>>2)]|=r[e+D]<<6-2*(3&D);else if(1==f)for(D=0;D<E;D++)P[j+(D>>3)]|=r[e+D]<<7-1*(7&D)}t=P,g=3,a=1}else if(0==N&&1==w.length){P=new Uint8Array(E*e*3);const r=E*e;for(j=0;j<r;j++){const e=3*j,s=4*j;P[e]=t[s],P[e+1]=t[s+1],P[e+2]=t[s+2]}t=P,g=2,a=3,s=3*E}A.img=t,A.bpl=s,A.bpp=a}return{ctype:g,depth:f,plte:k,frames:w}}function u(t,s,a,r,n,l,i){const o=Uint8Array,c=Uint32Array,d=new o(t[n-1]),u=new c(t[n-1]),x=n+1<t.length?new o(t[n+1]):null,h=new o(t[n]),p=new c(h.buffer);let g=s,f=a,b=-1,v=-1;for(let e=0;e<l.height;e++)for(let t=0;t<l.width;t++){const a=l.x+t,i=l.y+e,o=i*s+a,c=p[o];0==c||0==r[n-1].dispose&&u[o]==c&&(null==x||0!=x[4*o+3])||(a<g&&(g=a),a>b&&(b=a),i<f&&(f=i),i>v&&(v=i))}-1==b&&(g=f=b=v=0),i&&(1==(1&g)&&g--,1==(1&f)&&f--),l={x:g,y:f,width:b-g+1,height:v-f+1};const y=r[n];y.rect=l,y.blend=1,y.img=new Uint8Array(l.width*l.height*4),0==r[n-1].dispose?(e(d,s,a,y.img,l.width,l.height,-l.x,-l.y,0),m(h,s,a,y.img,l)):e(h,s,a,y.img,l.width,l.height,-l.x,-l.y,0)}function m(t,s,a,r,n){e(t,s,a,r,n.width,n.height,-n.x,-n.y,2)}function x(e,t,s,a,r,n,l){const i=[];let o,c=[0,1,2,3,4];-1!=n?c=[n]:(t*a>5e5||1==s)&&(c=[0]),l&&(o={level:0});const d=tg;for(var u=0;u<c.length;u++){for(let n=0;n<t;n++)h(r,e,n,a,s,c[u]);i.push(d.deflate(r,o))}let m,x=1e9;for(u=0;u<i.length;u++)i[u].length<x&&(m=u,x=i[u].length);return i[m]}function h(e,t,a,r,n,l){const i=a*r;let o=i+a;if(e[o]=l,o++,0==l)if(r<500)for(var c=0;c<r;c++)e[o+c]=t[i+c];else e.set(new Uint8Array(t.buffer,i,r),o);else if(1==l){for(c=0;c<n;c++)e[o+c]=t[i+c];for(c=n;c<r;c++)e[o+c]=t[i+c]-t[i+c-n]+256&255}else if(0==a){for(c=0;c<n;c++)e[o+c]=t[i+c];if(2==l)for(c=n;c<r;c++)e[o+c]=t[i+c];if(3==l)for(c=n;c<r;c++)e[o+c]=t[i+c]-(t[i+c-n]>>1)+256&255;if(4==l)for(c=n;c<r;c++)e[o+c]=t[i+c]-s(t[i+c-n],0,0)+256&255}else{if(2==l)for(c=0;c<r;c++)e[o+c]=t[i+c]+256-t[i+c-r]&255;if(3==l){for(c=0;c<n;c++)e[o+c]=t[i+c]+256-(t[i+c-r]>>1)&255;for(c=n;c<r;c++)e[o+c]=t[i+c]+256-(t[i+c-r]+t[i+c-n]>>1)&255}if(4==l){for(c=0;c<n;c++)e[o+c]=t[i+c]+256-s(0,t[i+c-r],0)&255;for(c=n;c<r;c++)e[o+c]=t[i+c]+256-s(t[i+c-n],t[i+c-r],t[i+c-n-r])&255}}}function p(e,t){const s=new Uint8Array(e),a=s.slice(0),r=new Uint32Array(a.buffer),n=g(a,t),l=n[0],i=n[1],o=s.length,c=new Uint8Array(o>>2);let d;if(s.length<2e7)for(var u=0;u<o;u+=4)d=f(l,m=s[u]*(1/255),x=s[u+1]*(1/255),h=s[u+2]*(1/255),p=s[u+3]*(1/255)),c[u>>2]=d.ind,r[u>>2]=d.est.rgba;else for(u=0;u<o;u+=4){var m=s[u]*(1/255),x=s[u+1]*(1/255),h=s[u+2]*(1/255),p=s[u+3]*(1/255);for(d=l;d.left;)d=b(d.est,m,x,h,p)<=0?d.left:d.right;c[u>>2]=d.ind,r[u>>2]=d.est.rgba}return{abuf:a.buffer,inds:c,plte:i}}function g(e,t,s){null==s&&(s=1e-4);const a=new Uint32Array(e.buffer),r={i0:0,i1:e.length,bst:null,est:null,tdst:0,left:null,right:null};r.bst=j(e,r.i0,r.i1),r.est=N(r.bst);const n=[r];for(;n.length<t;){let t=0,r=0;for(var l=0;l<n.length;l++)n[l].est.L>t&&(t=n[l].est.L,r=l);if(t<s)break;const i=n[r],o=v(e,a,i.i0,i.i1,i.est.e,i.est.eMq255);if(i.i0>=o||i.i1<=o){i.est.L=0;continue}const c={i0:i.i0,i1:o,bst:null,est:null,tdst:0,left:null,right:null};c.bst=j(e,c.i0,c.i1),c.est=N(c.bst);const d={i0:o,i1:i.i1,bst:null,est:null,tdst:0,left:null,right:null};for(d.bst={R:[],m:[],N:i.bst.N-c.bst.N},l=0;l<16;l++)d.bst.R[l]=i.bst.R[l]-c.bst.R[l];for(l=0;l<4;l++)d.bst.m[l]=i.bst.m[l]-c.bst.m[l];d.est=N(d.bst),i.left=c,i.right=d,n[r]=c,n.push(d)}for(n.sort((e,t)=>t.bst.N-e.bst.N),l=0;l<n.length;l++)n[l].ind=l;return[r,n]}function f(e,t,s,a,r){if(null==e.left)return e.tdst=function(e,t,s,a,r){const n=t-e[0],l=s-e[1],i=a-e[2],o=r-e[3];return n*n+l*l+i*i+o*o}(e.est.q,t,s,a,r),e;const n=b(e.est,t,s,a,r);let l=e.left,i=e.right;n>0&&(l=e.right,i=e.left);const o=f(l,t,s,a,r);if(o.tdst<=n*n)return o;const c=f(i,t,s,a,r);return c.tdst<o.tdst?c:o}function b(e,t,s,a,r){const{e:n}=e;return n[0]*t+n[1]*s+n[2]*a+n[3]*r-e.eMq}function v(e,t,s,a,r,n){for(a-=4;s<a;){for(;y(e,s,r)<=n;)s+=4;for(;y(e,a,r)>n;)a-=4;if(s>=a)break;const l=t[s>>2];t[s>>2]=t[a>>2],t[a>>2]=l,s+=4,a-=4}for(;y(e,s,r)>n;)s-=4;return s+4}function y(e,t,s){return e[t]*s[0]+e[t+1]*s[1]+e[t+2]*s[2]+e[t+3]*s[3]}function j(e,t,s){const a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=[0,0,0,0],n=s-t>>2;for(let l=t;l<s;l+=4){const t=e[l]*(1/255),s=e[l+1]*(1/255),n=e[l+2]*(1/255),i=e[l+3]*(1/255);r[0]+=t,r[1]+=s,r[2]+=n,r[3]+=i,a[0]+=t*t,a[1]+=t*s,a[2]+=t*n,a[3]+=t*i,a[5]+=s*s,a[6]+=s*n,a[7]+=s*i,a[10]+=n*n,a[11]+=n*i,a[15]+=i*i}return a[4]=a[1],a[8]=a[2],a[9]=a[6],a[12]=a[3],a[13]=a[7],a[14]=a[11],{R:a,m:r,N:n}}function N(e){const{R:t}=e,{m:s}=e,{N:a}=e,r=s[0],n=s[1],l=s[2],i=s[3],o=0==a?0:1/a,c=[t[0]-r*r*o,t[1]-r*n*o,t[2]-r*l*o,t[3]-r*i*o,t[4]-n*r*o,t[5]-n*n*o,t[6]-n*l*o,t[7]-n*i*o,t[8]-l*r*o,t[9]-l*n*o,t[10]-l*l*o,t[11]-l*i*o,t[12]-i*r*o,t[13]-i*n*o,t[14]-i*l*o,t[15]-i*i*o],d=c,u=w;let m=[Math.random(),Math.random(),Math.random(),Math.random()],x=0,h=0;if(0!=a)for(let g=0;g<16&&(m=u.multVec(d,m),h=Math.sqrt(u.dot(m,m)),m=u.sml(1/h,m),!(0!=g&&Math.abs(h-x)<1e-9));g++)x=h;const p=[r*o,n*o,l*o,i*o];return{Cov:c,q:p,e:m,L:x,eMq255:u.dot(u.sml(255,p),m),eMq:u.dot(m,p),rgba:(Math.round(255*p[3])<<24|Math.round(255*p[2])<<16|Math.round(255*p[1])<<8|Math.round(255*p[0]))>>>0}}var w={multVec:(e,t)=>[e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3],e[4]*t[0]+e[5]*t[1]+e[6]*t[2]+e[7]*t[3],e[8]*t[0]+e[9]*t[1]+e[10]*t[2]+e[11]*t[3],e[12]*t[0]+e[13]*t[1]+e[14]*t[2]+e[15]*t[3]],dot:(e,t)=>e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3],sml:(e,t)=>[e*t[0],e*t[1],e*t[2],e*t[3]]};sg.encode=function(e,t,s,a,r,n,l){null==a&&(a=0),null==l&&(l=!1);const i=d(e,t,s,a,[!1,!1,!1,0,l,!1]);return c(i,-1),o(i,t,s,r,n)},sg.encodeLL=function(e,t,s,a,r,n,l,i){const d={ctype:0+(1==a?0:2)+(0==r?0:4),depth:n,frames:[]},u=(a+r)*n,m=u*t;for(let o=0;o<e.length;o++)d.frames.push({rect:{x:0,y:0,width:t,height:s},img:new Uint8Array(e[o]),blend:0,dispose:1,bpp:Math.ceil(u/8),bpl:Math.ceil(m/8)});return c(d,0,!0),o(d,t,s,l,i)},sg.encode.compress=d,sg.encode.dither=i,sg.quantize=p,sg.quantize.getKDtree=g,sg.quantize.getNearest=f}();const ag={toArrayBuffer(e,t){const s=e.width,a=e.height,r=s<<2,n=e.getContext("2d").getImageData(0,0,s,a),l=new Uint32Array(n.data.buffer),i=(32*s+31)/32<<2,o=i*a,c=122+o,d=new ArrayBuffer(c),u=new DataView(d),m=1<<20;let x,h,p,g,f=m,b=0,v=0,y=0;function j(e){u.setUint16(v,e,!0),v+=2}function N(e){u.setUint32(v,e,!0),v+=4}function w(e){v+=e}j(19778),N(c),w(4),N(122),N(108),N(s),N(-a>>>0),j(1),j(32),N(3),N(o),N(2835),N(2835),w(8),N(16711680),N(65280),N(255),N(4278190080),N(1466527264),function e(){for(;b<a&&f>0;){for(g=122+b*i,x=0;x<r;)f--,h=l[y++],p=h>>>24,u.setUint32(g+x,h<<8|p),x+=4;b++}y<l.length?(f=m,setTimeout(e,ag._dly)):t(d)}()},toBlob(e,t){this.toArrayBuffer(e,e=>{t(new Blob([e],{type:"image/bmp"}))})},_dly:9};var rg={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},ng={[rg.CHROME]:16384,[rg.FIREFOX]:11180,[rg.DESKTOP_SAFARI]:16384,[rg.IE]:8192,[rg.IOS]:4096,[rg.ETC]:8192};const lg="undefined"!=typeof window,ig="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,og=lg&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),cg=(lg||ig)&&(og&&og.getOriginalSymbol(window,"File")||"undefined"!=typeof File&&File),dg=(lg||ig)&&(og&&og.getOriginalSymbol(window,"FileReader")||"undefined"!=typeof FileReader&&FileReader);function ug(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();return new Promise(a=>{const r=e.split(","),n=r[0].match(/:(.*?);/)[1],l=globalThis.atob(r[1]);let i=l.length;const o=new Uint8Array(i);for(;i--;)o[i]=l.charCodeAt(i);const c=new Blob([o],{type:n});c.name=t,c.lastModified=s,a(c)})}function mg(e){return new Promise((t,s)=>{const a=new dg;a.onload=()=>t(a.result),a.onerror=e=>s(e),a.readAsDataURL(e)})}function xg(e){return new Promise((t,s)=>{const a=new Image;a.onload=()=>t(a),a.onerror=e=>s(e),a.src=e})}function hg(){if(void 0!==hg.cachedResult)return hg.cachedResult;let e=rg.ETC;const{userAgent:t}=navigator;return/Chrom(e|ium)/i.test(t)?e=rg.CHROME:/iP(ad|od|hone)/i.test(t)&&/WebKit/i.test(t)?e=rg.IOS:/Safari/i.test(t)?e=rg.DESKTOP_SAFARI:/Firefox/i.test(t)?e=rg.FIREFOX:(/MSIE/i.test(t)||1==!!document.documentMode)&&(e=rg.IE),hg.cachedResult=e,hg.cachedResult}function pg(e,t){const s=hg(),a=ng[s];let r=e,n=t,l=r*n;const i=r>n?n/r:r/n;for(;l>a*a;){const e=(a+r)/2,t=(a+n)/2;e<t?(n=t,r=t*i):(n=e*i,r=e),l=r*n}return{width:r,height:n}}function gg(e,t){let s,a;try{if(s=new OffscreenCanvas(e,t),a=s.getContext("2d"),null===a)throw new Error("getContext of OffscreenCanvas returns null")}catch(e){s=document.createElement("canvas"),a=s.getContext("2d")}return s.width=e,s.height=t,[s,a]}function fg(e,t){const{width:s,height:a}=pg(e.width,e.height),[r,n]=gg(s,a);return t&&/jpe?g/.test(t)&&(n.fillStyle="white",n.fillRect(0,0,r.width,r.height)),n.drawImage(e,0,0,r.width,r.height),r}function bg(){return void 0!==bg.cachedResult||(bg.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"undefined"!=typeof document&&"ontouchend"in document),bg.cachedResult}function vg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(s,a){let r,n;var l=function(){try{return n=fg(r,t.fileType||e.type),s([r,n])}catch(e){return a(e)}},i=function(t){try{var s=function(e){try{throw e}catch(e){return a(e)}};try{let t;return mg(e).then(function(e){try{return t=e,xg(t).then(function(e){try{return r=e,function(){try{return l()}catch(e){return a(e)}}()}catch(e){return s(e)}},s)}catch(e){return s(e)}},s)}catch(e){s(e)}}catch(e){return a(e)}};try{if(bg()||[rg.DESKTOP_SAFARI,rg.MOBILE_SAFARI].includes(hg()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(e).then(function(e){try{return r=e,l()}catch(e){return i()}},i)}catch(e){i()}})}function yg(e,t,s,a){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return new Promise(function(n,l){let i;if("image/png"===t){let c,d,u;return c=e.getContext("2d"),({data:d}=c.getImageData(0,0,e.width,e.height)),u=sg.encode([d.buffer],e.width,e.height,4096*r),i=new Blob([u],{type:t}),i.name=s,i.lastModified=a,o.call(this)}{if("image/bmp"===t)return new Promise(t=>ag.toBlob(e,t)).then(function(e){try{return i=e,i.name=s,i.lastModified=a,m.call(this)}catch(e){return l(e)}}.bind(this),l);{if("function"==typeof OffscreenCanvas&&e instanceof OffscreenCanvas)return e.convertToBlob({type:t,quality:r}).then(function(e){try{return i=e,i.name=s,i.lastModified=a,x.call(this)}catch(e){return l(e)}}.bind(this),l);{let h;return h=e.toDataURL(t,r),ug(h,s,a).then(function(e){try{return i=e,x.call(this)}catch(e){return l(e)}}.bind(this),l)}function x(){return m.call(this)}}function m(){return o.call(this)}}function o(){return n(i)}})}function jg(e){e.width=0,e.height=0}function Ng(){return new Promise(function(e,t){let s,a,r,n,l;return void 0!==Ng.cachedResult?e(Ng.cachedResult):(s="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==",ug("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(s){try{return a=s,vg(a).then(function(s){try{return r=s[1],yg(r,a.type,a.name,a.lastModified).then(function(s){try{return n=s,jg(r),vg(n).then(function(s){try{return l=s[0],Ng.cachedResult=1===l.width&&2===l.height,e(Ng.cachedResult)}catch(e){return t(e)}},t)}catch(e){return t(e)}},t)}catch(e){return t(e)}},t)}catch(e){return t(e)}},t))})}function wg(e){return new Promise((t,s)=>{const a=new dg;a.onload=e=>{const s=new DataView(e.target.result);if(65496!=s.getUint16(0,!1))return t(-2);const a=s.byteLength;let r=2;for(;r<a;){if(s.getUint16(r+2,!1)<=8)return t(-1);const e=s.getUint16(r,!1);if(r+=2,65505==e){if(1165519206!=s.getUint32(r+=2,!1))return t(-1);const e=18761==s.getUint16(r+=6,!1);r+=s.getUint32(r+4,e);const a=s.getUint16(r,e);r+=2;for(let n=0;n<a;n++)if(274==s.getUint16(r+12*n,e))return t(s.getUint16(r+12*n+8,e))}else{if(65280!=(65280&e))break;r+=s.getUint16(r,!1)}}return t(-1)},a.onerror=e=>s(e),a.readAsArrayBuffer(e)})}function _g(e,t){const{width:s}=e,{height:a}=e,{maxWidthOrHeight:r}=t;let n,l=e;return isFinite(r)&&(s>r||a>r)&&([l,n]=gg(s,a),s>a?(l.width=r,l.height=a/s*r):(l.width=s/a*r,l.height=r),n.drawImage(e,0,0,l.width,l.height),jg(e)),l}function kg(e,t){const{width:s}=e,{height:a}=e,[r,n]=gg(s,a);switch(t>4&&t<9?(r.width=a,r.height=s):(r.width=s,r.height=a),t){case 2:n.transform(-1,0,0,1,s,0);break;case 3:n.transform(-1,0,0,-1,s,a);break;case 4:n.transform(1,0,0,-1,0,a);break;case 5:n.transform(0,1,1,0,0,0);break;case 6:n.transform(0,1,-1,0,a,0);break;case 7:n.transform(0,-1,-1,0,a,s);break;case 8:n.transform(0,-1,1,0,0,s)}return n.drawImage(e,0,0,s,a),jg(e),r}function Sg(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new Promise(function(a,r){let n,l,i,o,c,d,u,m,x,h,p,g,f,b,v,y,j,N,w,_;function k(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;if(t.signal&&t.signal.aborted)throw t.signal.reason;n+=e,t.onProgress(Math.min(n,100))}function S(e){if(t.signal&&t.signal.aborted)throw t.signal.reason;n=Math.min(Math.max(e,n),100),t.onProgress(n)}return n=s,l=t.maxIteration||10,i=1024*t.maxSizeMB*1024,k(),vg(e,t).then(function(s){try{return[,o]=s,k(),c=_g(o,t),k(),new Promise(function(s,a){var r;if(!(r=t.exifOrientation))return wg(e).then(function(e){try{return r=e,n.call(this)}catch(e){return a(e)}}.bind(this),a);function n(){return s(r)}return n.call(this)}).then(function(s){try{return d=s,k(),Ng().then(function(s){try{return u=s?c:kg(c,d),k(),m=t.initialQuality||1,x=t.fileType||e.type,yg(u,x,e.name,e.lastModified,m).then(function(s){try{{if(h=s,k(),p=h.size>i,g=h.size>e.size,!p&&!g)return S(100),a(h);var n;function C(){if(l--&&(v>i||v>f)){let t,s;return t=_?.95*w.width:w.width,s=_?.95*w.height:w.height,[j,N]=gg(t,s),N.drawImage(w,0,0,t,s),m*="image/png"===x?.85:.95,yg(j,x,e.name,e.lastModified,m).then(function(e){try{return y=e,jg(w),w=j,v=y.size,S(Math.min(99,Math.floor((b-v)/(b-i)*100))),C}catch(e){return r(e)}},r)}return[1]}return f=e.size,b=h.size,v=b,w=u,_=!t.alwaysKeepResolution&&p,(n=function(e){for(;e;){if(e.then)return void e.then(n,r);try{if(e.pop){if(e.length)return e.pop()?A.call(this):e;e=C}else e=e.call(this)}catch(e){return r(e)}}}.bind(this))(C);function A(){return jg(w),jg(j),jg(c),jg(u),jg(o),S(100),a(y)}}}catch(d){return r(d)}}.bind(this),r)}catch(e){return r(e)}}.bind(this),r)}catch(e){return r(e)}}.bind(this),r)}catch(e){return r(e)}}.bind(this),r)})}let Cg;function Ag(e,t){return new Promise((s,a)=>{Cg||(Cg=function(e){const t=[];return"function"==typeof e?t.push("(".concat(e,")()")):t.push(e),URL.createObjectURL(new Blob(t))}("\nlet scriptImported = false\nself.addEventListener('message', async (e) => {\n  const { file, id, imageCompressionLibUrl, options } = e.data\n  options.onProgress = (progress) => self.postMessage({ progress, id })\n  try {\n    if (!scriptImported) {\n      // console.log('[worker] importScripts', imageCompressionLibUrl)\n      self.importScripts(imageCompressionLibUrl)\n      scriptImported = true\n    }\n    // console.log('[worker] self', self)\n    const compressedFile = await imageCompression(file, options)\n    self.postMessage({ file: compressedFile, id })\n  } catch (e) {\n    // console.error('[worker] error', e)\n    self.postMessage({ error: e.message + '\\n' + e.stack, id })\n  }\n})\n"));const r=new Worker(Cg);r.addEventListener("message",function(e){if(t.signal&&t.signal.aborted)r.terminate();else if(void 0===e.data.progress){if(e.data.error)return a(new Error(e.data.error)),void r.terminate();s(e.data.file),r.terminate()}else t.onProgress(e.data.progress)}),r.addEventListener("error",a),t.signal&&t.signal.addEventListener("abort",()=>{a(t.signal.reason),r.terminate()}),r.postMessage({file:e,imageCompressionLibUrl:t.libURL,options:(0,Re.A)((0,Re.A)({},t),{},{onProgress:void 0,signal:void 0})})})}function Eg(e,t){return new Promise(function(s,a){let r,n,l,i,o,c;if(r=(0,Re.A)({},t),l=0,({onProgress:i}=r),r.maxSizeMB=r.maxSizeMB||Number.POSITIVE_INFINITY,o="boolean"!=typeof r.useWebWorker||r.useWebWorker,delete r.useWebWorker,r.onProgress=e=>{l=e,"function"==typeof i&&i(l)},!(e instanceof Blob||e instanceof cg))return a(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(e.type))return a(new Error("The file given is not an image"));if(c="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,!o||"function"!=typeof Worker||c)return Sg(e,r).then(function(e){try{return n=e,m.call(this)}catch(e){return a(e)}}.bind(this),a);var d=function(){try{return m.call(this)}catch(e){return a(e)}}.bind(this),u=function(t){try{return Sg(e,r).then(function(e){try{return n=e,d()}catch(e){return a(e)}},a)}catch(e){return a(e)}};try{return r.libURL=r.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",Ag(e,r).then(function(e){try{return n=e,d()}catch(e){return u()}},u)}catch(e){u()}function m(){try{n.name=e.name,n.lastModified=e.lastModified}catch(e){}try{r.preserveExif&&"image/jpeg"===e.type&&(!r.fileType||r.fileType&&r.fileType===e.type)&&(n=Jp(e,n))}catch(e){}return s(n)}})}Eg.getDataUrlFromFile=mg,Eg.getFilefromDataUrl=ug,Eg.loadImage=xg,Eg.drawImageInCanvas=fg,Eg.drawFileInCanvas=vg,Eg.canvasToFile=yg,Eg.getExifOrientation=wg,Eg.handleMaxWidthOrHeight=_g,Eg.followExifOrientation=kg,Eg.cleanupCanvasMemory=jg,Eg.isAutoOrientationInBrowser=Ng,Eg.approximateBelowMaximumCanvasSizeOfBrowser=pg,Eg.copyExifWithoutOrientation=Jp,Eg.getBrowserName=hg,Eg.version="2.0.2";const Tg={profile:{maxSizeMB:.5,maxWidthOrHeight:800,useWebWorker:!0,fileType:"image/jpeg",initialQuality:.85},screenshot:{maxSizeMB:1.5,maxWidthOrHeight:1920,useWebWorker:!0,fileType:"image/jpeg",initialQuality:.85},detail:{maxSizeMB:.8,maxWidthOrHeight:1200,useWebWorker:!0,fileType:"image/jpeg",initialQuality:.85}};async function Pg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"screenshot",s=arguments.length>2?arguments[2]:void 0;try{const a=Tg[t],r=(0,Re.A)((0,Re.A)({},a),s),n=await Eg(e,r),l=new File([n],e.name,{type:n.type,lastModified:Date.now()});return console.log("Image compressed: ".concat((e.size/1024/1024).toFixed(2),"MB \u2192 ").concat((l.size/1024/1024).toFixed(2),"MB")),l}catch(a){return console.error("Error compressing image:",a),e}}function Dg(e){return e.type.startsWith("image/")}const Mg=We("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);var Rg,Lg="clover",Fg="https://js.stripe.com",Og="".concat(Fg,"/").concat(Lg,"/stripe.js"),Ig=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,zg=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,Bg="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",Ug=function(e){return Ig.test(e)||zg.test(e)},Hg=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",s=document.createElement("script");s.src="".concat(Og).concat(t);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(s),s},Wg=null,qg=null,Vg=null,Gg=function(e){return null!==Wg?Wg:(Wg=new Promise(function(t,s){if("undefined"!==typeof window&&"undefined"!==typeof document)if(window.Stripe&&e&&console.warn(Bg),window.Stripe)t(window.Stripe);else try{var a=function(){for(var e=document.querySelectorAll('script[src^="'.concat(Fg,'"]')),t=0;t<e.length;t++){var s=e[t];if(Ug(s.src))return s}return null}();if(a&&e)console.warn(Bg);else if(a){if(a&&null!==Vg&&null!==qg){var r;a.removeEventListener("load",Vg),a.removeEventListener("error",qg),null===(r=a.parentNode)||void 0===r||r.removeChild(a),a=Hg(e)}}else a=Hg(e);Vg=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}}(t,s),qg=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}}(s),a.addEventListener("load",Vg),a.addEventListener("error",qg)}catch(n){return void s(n)}else t(null)}),Wg.catch(function(e){return Wg=null,Promise.reject(e)}))},Yg=!1,$g=function(){return Rg||(Rg=Gg(null).catch(function(e){return Rg=null,Promise.reject(e)}))};Promise.resolve().then(function(){return $g()}).catch(function(e){Yg||console.warn(e)});var Qg=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];Yg=!0;var a=Date.now();return $g().then(function(e){return function(e,t,s){if(null===e)return null;var a=t[0].match(/^pk_test/),r=function(e){return 3===e?"v3":e}(e.version),n=Lg;a&&r!==n&&console.warn("Stripe.js@".concat(r," was loaded on the page, but @stripe/stripe-js@").concat("8.5.2"," expected Stripe.js@").concat(n,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var l=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"8.5.2",startTime:t})}(l,s),l}(e,t,a)})};s(4756);function Kg(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}function Jg(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Kg(Object(s),!0).forEach(function(t){Zg(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Kg(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function Xg(e){return Xg="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xg(e)}function Zg(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function ef(e,t){if(null==e)return{};var s,a,r=function(e,t){if(null==e)return{};var s,a,r={},n=Object.keys(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||(r[s]=e[s]);return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function tf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var s=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==s)return;var a,r,n=[],l=!0,i=!1;try{for(s=s.call(e);!(l=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);l=!0);}catch(o){i=!0,r=o}finally{try{l||null==s.return||s.return()}finally{if(i)throw r}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return sf(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);"Object"===s&&e.constructor&&(s=e.constructor.name);if("Map"===s||"Set"===s)return Array.from(e);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return sf(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sf(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,a=new Array(t);s<t;s++)a[s]=e[s];return a}var af=function(e,t,s){var r=!!s,n=a.useRef(s);a.useEffect(function(){n.current=s},[s]),a.useEffect(function(){if(!r||!e)return function(){};var s=function(){n.current&&n.current.apply(n,arguments)};return e.on(t,s),function(){e.off(t,s)}},[r,t,e,n])},rf=function(e){var t=a.useRef(e);return a.useEffect(function(){t.current=e},[e]),t.current},nf=function(e){return null!==e&&"object"===Xg(e)},lf="[object Object]",of=function e(t,s){if(!nf(t)||!nf(s))return t===s;var a=Array.isArray(t);if(a!==Array.isArray(s))return!1;var r=Object.prototype.toString.call(t)===lf;if(r!==(Object.prototype.toString.call(s)===lf))return!1;if(!r&&!a)return t===s;var n=Object.keys(t),l=Object.keys(s);if(n.length!==l.length)return!1;for(var i={},o=0;o<n.length;o+=1)i[n[o]]=!0;for(var c=0;c<l.length;c+=1)i[l[c]]=!0;var d=Object.keys(i);if(d.length!==n.length)return!1;var u=t,m=s;return d.every(function(t){return e(u[t],m[t])})},cf=function(e,t,s){return nf(e)?Object.keys(e).reduce(function(a,r){var n=!nf(t)||!of(e[r],t[r]);return s.includes(r)?(n&&console.warn("Unsupported prop change: options.".concat(r," is not a mutable property.")),a):n?Jg(Jg({},a||{}),{},Zg({},r,e[r])):a},null):null},df="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",uf=function(e){var t,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:df;if(null===e||nf(t=e)&&"function"===typeof t.elements&&"function"===typeof t.createToken&&"function"===typeof t.createPaymentMethod&&"function"===typeof t.confirmCardPayment)return e;throw new Error(s)},mf=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:df;if(function(e){return nf(e)&&"function"===typeof e.then}(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(e){return uf(e,t)})};var s=uf(e,t);return null===s?{tag:"empty"}:{tag:"sync",stripe:s}},xf=function(e){e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"5.4.0"}),e.registerAppInfo({name:"react-stripe-js",version:"5.4.0",url:"https://stripe.com/docs/stripe-js/react"}))},hf=a.createContext(null);hf.displayName="ElementsContext";var pf=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},gf=function(e){var t=e.stripe,s=e.options,r=e.children,n=a.useMemo(function(){return mf(t)},[t]),l=tf(a.useState(function(){return{stripe:"sync"===n.tag?n.stripe:null,elements:"sync"===n.tag?n.stripe.elements(s):null}}),2),i=l[0],o=l[1];a.useEffect(function(){var e=!0,t=function(e){o(function(t){return t.stripe?t:{stripe:e,elements:e.elements(s)}})};return"async"!==n.tag||i.stripe?"sync"!==n.tag||i.stripe||t(n.stripe):n.stripePromise.then(function(s){s&&e&&t(s)}),function(){e=!1}},[n,i,s]);var c=rf(t);a.useEffect(function(){null!==c&&c!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[c,t]);var d=rf(s);return a.useEffect(function(){if(i.elements){var e=cf(s,d,["clientSecret","fonts"]);e&&i.elements.update(e)}},[s,d,i.elements]),a.useEffect(function(){xf(i.stripe)},[i.stripe]),a.createElement(hf.Provider,{value:i},r)};gf.propTypes={stripe:Ni.any,options:Ni.object};var ff=function(e){var t=a.useContext(hf);return pf(t,e)},bf=function(){return ff("calls useElements()").elements};Ni.func.isRequired;var vf=a.createContext(null);vf.displayName="CheckoutContext",Ni.any,Ni.shape({clientSecret:Ni.oneOfType([Ni.string,Ni.instanceOf(Promise)]).isRequired,elementsOptions:Ni.object}).isRequired;var yf=function(e){var t=a.useContext(vf),s=a.useContext(hf);if(t){if(s)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t}return pf(s,e)},jf=["mode"],Nf=function(e,t){var s,r="".concat((s=e).charAt(0).toUpperCase()+s.slice(1),"Element"),n=t?function(e){yf("mounts <".concat(r,">"));var t=e.id,s=e.className;return a.createElement("div",{id:t,className:s})}:function(t){var s,n=t.id,l=t.className,i=t.options,o=void 0===i?{}:i,c=t.onBlur,d=t.onFocus,u=t.onReady,m=t.onChange,x=t.onEscape,h=t.onClick,p=t.onLoadError,g=t.onLoaderStart,f=t.onNetworksChange,b=t.onConfirm,v=t.onCancel,y=t.onShippingAddressChange,j=t.onShippingRateChange,N=t.onSavedPaymentMethodRemove,w=t.onSavedPaymentMethodUpdate,_=yf("mounts <".concat(r,">")),k="elements"in _?_.elements:null,S="checkoutState"in _?_.checkoutState:null,C="success"===(null===S||void 0===S?void 0:S.type)||"loading"===(null===S||void 0===S?void 0:S.type)?S.sdk:null,A=tf(a.useState(null),2),E=A[0],T=A[1],P=a.useRef(null),D=a.useRef(null);af(E,"blur",c),af(E,"focus",d),af(E,"escape",x),af(E,"click",h),af(E,"loaderror",p),af(E,"loaderstart",g),af(E,"networkschange",f),af(E,"confirm",b),af(E,"cancel",v),af(E,"shippingaddresschange",y),af(E,"shippingratechange",j),af(E,"savedpaymentmethodremove",N),af(E,"savedpaymentmethodupdate",w),af(E,"change",m),u&&(s="expressCheckout"===e?u:function(){u(E)}),af(E,"ready",s),a.useLayoutEffect(function(){if(null===P.current&&null!==D.current&&(k||C)){var t=null;if(C)switch(e){case"paymentForm":t=C.createPaymentFormElement();break;case"payment":t=C.createPaymentElement(o);break;case"address":if(!("mode"in o))throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");var s=o.mode,a=ef(o,jf);if("shipping"===s)t=C.createShippingAddressElement(a);else{if("billing"!==s)throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.");t=C.createBillingAddressElement(a)}break;case"expressCheckout":t=C.createExpressCheckoutElement(o);break;case"currencySelector":t=C.createCurrencySelectorElement();break;case"taxId":t=C.createTaxIdElement(o);break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else k&&(t=k.create(e,o));P.current=t,T(t),t&&t.mount(D.current)}},[k,C,o]);var M=rf(o);return a.useEffect(function(){if(P.current){var e=cf(o,M,["paymentRequest"]);e&&"update"in P.current&&P.current.update(e)}},[o,M]),a.useLayoutEffect(function(){return function(){if(P.current&&"function"===typeof P.current.destroy)try{P.current.destroy(),P.current=null}catch(e){}}},[]),a.createElement("div",{id:n,className:l,ref:D})};return n.propTypes={id:Ni.string,className:Ni.string,onChange:Ni.func,onBlur:Ni.func,onFocus:Ni.func,onReady:Ni.func,onEscape:Ni.func,onClick:Ni.func,onLoadError:Ni.func,onLoaderStart:Ni.func,onNetworksChange:Ni.func,onConfirm:Ni.func,onCancel:Ni.func,onShippingAddressChange:Ni.func,onShippingRateChange:Ni.func,onSavedPaymentMethodRemove:Ni.func,onSavedPaymentMethodUpdate:Ni.func,options:Ni.object},n.displayName=r,n.__elementType=e,n},wf="undefined"===typeof window,_f=a.createContext(null);_f.displayName="EmbeddedCheckoutProviderContext";var kf=function(){return yf("calls useStripe()").stripe},Sf=(Nf("auBankAccount",wf),Nf("card",wf));Nf("cardNumber",wf),Nf("cardExpiry",wf),Nf("cardCvc",wf),Nf("iban",wf),Nf("payment",wf),Nf("expressCheckout",wf),Nf("paymentRequestButton",wf),Nf("linkAuthentication",wf),Nf("address",wf),Nf("shippingAddress",wf),Nf("paymentMethodMessaging",wf),Nf("taxId",wf);const Cf=Qg("pk_live_51OMksoIxApvccLawqRPtBKJIIPhLpnQREnN0ZUyPLvgodAJC1mXTUTuSdquuP1S8vX0R79MUD1u6ABTE4pbJqkhn00njjVlrNc"),Af={style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}},Ef=e=>{let{challenge:t,challengeType:s,isReup:r,currentGroups:n,onClose:l,onSuccess:i}=e;const o=kf(),c=bf(),[d,u]=(0,a.useState)(null),[m,x]=(0,a.useState)(null),[h,p]=(0,a.useState)(!0),[g,f]=(0,a.useState)(!1),[b,v]=(0,a.useState)(null),y=r?(null===s||void 0===s?void 0:s.default_reup_fee)||3:t.entry_fee||(null===s||void 0===s?void 0:s.default_entry_fee)||5,j=(null===s||void 0===s?void 0:s.shots_per_group)||4,N=null===s||void 0===s?void 0:s.payout_config;(0,a.useEffect)(()=>{(async()=>{try{p(!0),v(null);const e=await(0,tt.AAz)(t.id,r);u(e.data.clientSecret),x(e.data.paymentIntentId)}catch(a){var e,s;console.error("Error creating payment intent:",a),v((null===(e=a.response)||void 0===e||null===(s=e.data)||void 0===s?void 0:s.error)||"Failed to initialize payment")}finally{p(!1)}})()},[t.id,r]);return(0,ct.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),o&&c&&d){f(!0),v(null);try{const e=c.getElement(Sf);if(!e)throw new Error("Card element not found");const{error:s,paymentIntent:a}=await o.confirmCardPayment(d,{payment_method:{card:e}});if(s)throw new Error(s.message);if("succeeded"!==(null===a||void 0===a?void 0:a.status))throw new Error("Payment was not successful");await(0,tt.LdG)(t.id,{payment_intent_id:a.id,is_reup:r}),i()}catch(s){console.error("Payment error:",s),v(s.message||"Payment failed"),_s.error(s.message||"Payment failed")}finally{f(!1)}}},className:"flex flex-col overflow-hidden h-full",children:[(0,ct.jsx)(Rr,{children:r?"Re-up: Group ".concat(n+1):"Enter Challenge"}),(0,ct.jsx)(Lr,{children:(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,ct.jsx)("h3",{className:"font-medium text-gray-900",children:t.challenge_name}),(0,ct.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Hole ",t.designated_hole,t.required_distance_yards&&" \u2022 ".concat(t.required_distance_yards," yards")]})]}),(0,ct.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ct.jsx)("span",{className:"font-medium",children:r?"Re-up Fee":"Entry Fee"}),(0,ct.jsxs)("span",{className:"text-xl font-bold text-green-600",children:["$",Number(y).toFixed(2)]})]}),(0,ct.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[(0,ct.jsxs)("p",{children:["Includes ",j,"-shot group"]}),N&&(0,ct.jsxs)("div",{className:"mt-2 pt-2 border-t",children:[(0,ct.jsx)("p",{className:"font-medium text-gray-700 mb-1",children:"Pot Distribution:"}),(0,ct.jsxs)("ul",{className:"space-y-1 text-xs",children:[N.ctp.enabled&&(0,ct.jsxs)("li",{children:["\u2022 ",N.ctp.pot_percentage,"% to CTP prize pool"]}),N.hio.enabled&&(0,ct.jsxs)("li",{children:["\u2022 ",N.hio.pot_percentage,"% to HIO jackpot"]}),(0,ct.jsxs)("li",{children:["\u2022 ",N.admin_fee_percentage,"% admin fee"]})]})]})]})]}),h?(0,ct.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,ct.jsx)(ca,{className:"w-6 h-6 animate-spin text-indigo-600"}),(0,ct.jsx)("span",{className:"ml-2 text-gray-600",children:"Loading payment form..."})]}):b&&!d?(0,ct.jsx)(cr,{variant:"error",children:b}):(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,ct.jsx)(Mg,{className:"w-4 h-4 inline mr-2"}),"Card Details"]}),(0,ct.jsx)("div",{className:"border rounded-lg p-3 bg-white",children:(0,ct.jsx)(Sf,{options:Af})})]}),b&&d&&(0,ct.jsx)(cr,{variant:"error",children:b}),(0,ct.jsx)(cr,{variant:"info",children:(0,ct.jsxs)("div",{className:"flex gap-2",children:[(0,ct.jsx)(ar,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"font-medium",children:"Secure Payment"}),(0,ct.jsx)("p",{className:"mt-1 text-sm",children:"Your payment is processed securely through Stripe. Your entry will be confirmed immediately after payment."})]})]})})]})}),(0,ct.jsxs)(Fr,{children:[(0,ct.jsx)(pa,{type:"button",variant:"secondary",onClick:l,children:"Cancel"}),(0,ct.jsx)(pa,{type:"submit",variant:"neon",disabled:g||h||!o||!d,children:g?(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)(ca,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)(Xn,{className:"w-4 h-4 mr-2"}),"Pay $",Number(y).toFixed(2)]})})]})]})},Tf=e=>{let{challenge:t,challengeType:s,isReup:a=!1,currentGroups:r=0,onClose:n,onSuccess:l}=e;return(0,ct.jsx)(Mr,{open:!0,onClose:n,size:"md",children:(0,ct.jsx)(gf,{stripe:Cf,children:(0,ct.jsx)(Ef,{challenge:t,challengeType:s,isReup:a,currentGroups:r,onClose:n,onSuccess:l})})})},Pf=We("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),Df=We("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Mf=e=>{let{challenge:t,group:s,shotsPerGroup:r,onClose:n,onSuccess:l}=e;const[i,o]=(0,a.useState)("screenshot"),[c,d]=(0,a.useState)(null),[u,m]=(0,a.useState)(""),[x,h]=(0,a.useState)(null),[p,g]=(0,a.useState)([{shot_number:1,feet:"",inches:"",is_hole_in_one:!1}]),[f,b]=(0,a.useState)(!1),[v,y]=(0,a.useState)(null),[j,N]=(0,a.useState)([]),w=(0,a.useRef)(null),_=(e,t,s)=>{const a=[...p];a[e]=(0,Re.A)((0,Re.A)({},a[e]),{},{[t]:s}),"is_hole_in_one"===t&&s&&(a[e].feet="0",a[e].inches="0"),g(a)},k=(e,t)=>{const s=parseInt(e||"0"),a=parseInt(t||"0");return 0===s&&0===a?'0"':0===s?"".concat(a,'"'):0===a?"".concat(s,"'"):"".concat(s,"' ").concat(a,'"')};return(0,ct.jsxs)(Mr,{open:!0,onClose:n,size:"md",children:[(0,ct.jsx)(Rr,{children:(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("div",{className:"text-lg font-semibold",children:["Submit Shots - Group ",s.group_number]}),(0,ct.jsxs)("p",{className:"text-sm text-gray-500 font-normal",children:["screenshot"===i&&"Step 1: Upload group screenshot","shots"===i&&"Step 2: Enter shot distances","details"===i&&"Step 3: Upload detail screenshots"]})]})}),(0,ct.jsx)(Lr,{children:(0,ct.jsxs)("div",{className:"space-y-4",children:["screenshot"===i&&(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsxs)("div",{className:"bg-blue-50 rounded-lg p-3 text-sm text-blue-800",children:[(0,ct.jsx)("p",{className:"font-medium",children:"Screenshot Requirements:"}),(0,ct.jsxs)("ul",{className:"mt-1 space-y-1 list-disc list-inside",children:[(0,ct.jsxs)("li",{children:["Show all ",r," shots in the group"]}),(0,ct.jsx)("li",{children:"System date visible in taskbar"}),(0,ct.jsx)("li",{children:"Player name and hole number visible"})]})]}),x?(0,ct.jsxs)("div",{className:"relative",children:[(0,ct.jsx)("img",{src:x,alt:"Screenshot preview",className:"w-full rounded-lg border"}),(0,ct.jsx)("button",{onClick:()=>{d(null),h(null)},className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full",children:(0,ct.jsx)(Qe,{className:"w-4 h-4"})})]}):(0,ct.jsxs)("div",{onClick:()=>{var e;return null===(e=w.current)||void 0===e?void 0:e.click()},className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center cursor-pointer hover:border-blue-500 transition-colors",children:[(0,ct.jsx)(Pf,{className:"w-10 h-10 text-gray-400 mx-auto mb-2"}),(0,ct.jsx)("p",{className:"text-gray-600",children:"Click to upload screenshot"}),(0,ct.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"PNG, JPG (automatically compressed)"})]}),(0,ct.jsx)("input",{ref:w,type:"file",accept:"image/*",onChange:async e=>{var t;const s=null===(t=e.target.files)||void 0===t?void 0:t[0];if(s){if(!Dg(s))return void y("Please select an image file");try{s.size>2097152&&_s.info("Compressing image...",{autoClose:1e3});const e=await Pg(s,"screenshot");d(e),h(URL.createObjectURL(e)),y(null)}catch(v){console.error("Error processing image:",v),y("Failed to process image")}}},className:"hidden"}),(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Screenshot Date ",(0,ct.jsx)("span",{className:"text-gray-400",children:"(from taskbar)"})]}),(0,ct.jsx)("input",{type:"date",value:u,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),"shots"===i&&(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsxs)("p",{className:"text-sm text-gray-600",children:["Enter the distance for each shot you want to submit (1-",r," shots)."]}),p.map((e,t)=>(0,ct.jsxs)("div",{className:"border rounded-lg p-3",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ct.jsxs)("span",{className:"font-medium",children:["Shot ",e.shot_number]}),p.length>1&&(0,ct.jsx)("button",{onClick:()=>(e=>{if(p.length>1){const t=p.filter((t,s)=>s!==e);g(t.map((e,t)=>(0,Re.A)((0,Re.A)({},e),{},{shot_number:t+1})))}})(t),className:"text-red-500 hover:text-red-700",children:(0,ct.jsx)(Tn,{className:"w-4 h-4"})})]}),(0,ct.jsxs)("label",{className:"flex items-center gap-2 mb-3 cursor-pointer",children:[(0,ct.jsx)("input",{type:"checkbox",checked:e.is_hole_in_one,onChange:e=>_(t,"is_hole_in_one",e.target.checked),className:"w-4 h-4 text-green-600 rounded"}),(0,ct.jsx)("span",{className:"text-sm font-medium text-green-700",children:"Hole-in-One!"})]}),!e.is_hole_in_one&&(0,ct.jsxs)("div",{className:"flex gap-3",children:[(0,ct.jsxs)("div",{className:"flex-1",children:[(0,ct.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Feet"}),(0,ct.jsx)("input",{type:"number",min:"0",max:"100",value:e.feet,onChange:e=>_(t,"feet",e.target.value),className:"w-full px-3 py-2 border rounded-lg",placeholder:"0"})]}),(0,ct.jsxs)("div",{className:"flex-1",children:[(0,ct.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Inches"}),(0,ct.jsx)("input",{type:"number",min:"0",max:"11",value:e.inches,onChange:e=>_(t,"inches",e.target.value),className:"w-full px-3 py-2 border rounded-lg",placeholder:"0"})]})]}),(0,ct.jsx)("div",{className:"mt-3",children:(0,ct.jsxs)("label",{className:"flex items-center gap-2 text-sm text-gray-600 cursor-pointer hover:text-blue-600",children:[(0,ct.jsx)(Df,{className:"w-4 h-4"}),e.detailFile?(0,ct.jsx)("span",{className:"text-green-600",children:e.detailFile.name}):(0,ct.jsx)("span",{children:"Add detail screenshot (optional)"}),(0,ct.jsx)("input",{type:"file",accept:"image/*",onChange:async e=>{var s;const a=null===(s=e.target.files)||void 0===s?void 0:s[0];if(a){if(!Dg(a))return void _s.error("Please select an image file");try{a.size>2097152&&_s.info("Compressing image...",{autoClose:1e3});const e=await Pg(a,"detail");_(t,"detailFile",e)}catch(v){console.error("Error processing image:",v),_s.error("Failed to process image")}}},className:"hidden"})]})}),(e.feet||e.inches||e.is_hole_in_one)&&(0,ct.jsxs)("div",{className:"mt-2 text-sm text-gray-500",children:["Distance: ",e.is_hole_in_one?"HOLE-IN-ONE!":k(e.feet,e.inches)]})]},t)),p.length<r&&(0,ct.jsxs)("button",{onClick:()=>{if(p.length<r){const e=p.length+1;g([...p,{shot_number:e,feet:"",inches:"",is_hole_in_one:!1}])}},className:"w-full py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:border-blue-500 hover:text-blue-600 flex items-center justify-center gap-2",children:[(0,ct.jsx)(Gt,{className:"w-4 h-4"}),"Add Shot (",p.length,"/",r,")"]})]}),"details"===i&&(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsx)("div",{className:"bg-green-50 rounded-lg p-3",children:(0,ct.jsxs)("p",{className:"text-sm text-green-800",children:[(0,ct.jsx)(Os,{className:"w-4 h-4 inline mr-1"}),"Shots submitted successfully! Now uploading detail screenshots..."]})}),p.filter(e=>e.detailFile).map(e=>{var t;return(0,ct.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[(0,ct.jsx)(pt,{className:"w-5 h-5 text-blue-600"}),(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("p",{className:"font-medium",children:["Shot ",e.shot_number]}),(0,ct.jsx)("p",{className:"text-sm text-gray-500",children:null===(t=e.detailFile)||void 0===t?void 0:t.name})]})]},e.shot_number)})]}),v&&(0,ct.jsx)(cr,{variant:"error",className:"mt-4",children:v})]})}),(0,ct.jsxs)(Fr,{children:["screenshot"===i&&(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)(pa,{type:"button",variant:"secondary",onClick:n,children:"Cancel"}),(0,ct.jsx)(pa,{type:"button",variant:"primary",onClick:async()=>{if(c){b(!0),y(null);try{await(0,tt.Nt7)(t.id,s.id,c,u||void 0),o("shots")}catch(r){var e,a;y((null===(e=r.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.error)||"Failed to upload screenshot")}finally{b(!1)}}else y("Please select a screenshot")},disabled:!c||f,children:f?"Uploading...":"Next: Enter Shots"})]}),"shots"===i&&(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)(pa,{type:"button",variant:"secondary",onClick:()=>o("screenshot"),children:"Back"}),(0,ct.jsx)(pa,{type:"button",variant:"success",onClick:async()=>{for(const t of p)if(!t.is_hole_in_one&&!t.feet&&!t.inches)return void y("Please enter distance for shot ".concat(t.shot_number));b(!0),y(null);try{const e=p.map(e=>({shot_number:e.shot_number,distance_from_pin_inches:e.is_hole_in_one?0:12*parseInt(e.feet||"0")+parseInt(e.inches||"0"),is_hole_in_one:e.is_hole_in_one})),a=await(0,tt.LtE)(t.id,s.id,e);N(a.data.shots);const r=p.filter(e=>e.detailFile);r.length>0?o("details"):l()}catch(r){var e,a;y((null===(e=r.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.error)||"Failed to submit shots")}finally{b(!1)}},disabled:f,children:f?"Submitting...":"Submit Shots"})]}),"details"===i&&(0,ct.jsx)(pa,{type:"button",variant:"success",onClick:async()=>{b(!0),y(null);try{for(const e of p)if(e.detailFile){const s=j.find(t=>t.shot_number===e.shot_number);s&&await(0,tt.FSS)(t.id,s.id,e.detailFile)}l()}catch(a){var e,s;y((null===(e=a.response)||void 0===e||null===(s=e.data)||void 0===s?void 0:s.error)||"Failed to upload detail screenshots")}finally{b(!1)}},disabled:f,className:"w-full",children:f?"Uploading...":"Complete Submission"})]})]})},Rf=e=>{let{onComplete:t,onBack:s,challengeHole:r,courseName:n}=e;const[l,i]=(0,a.useState)(0),o=[{title:"Welcome to Closest to the Pin",icon:(0,ct.jsx)(qe,{className:"w-6 h-6 text-yellow-500"}),content:(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsx)("p",{className:"text-gray-700 leading-relaxed",children:"You're about to enter a Closest to the Pin challenge! This is a fun, competitive way to test your accuracy on a specific hole."}),(0,ct.jsxs)("p",{className:"text-gray-700 leading-relaxed",children:[(0,ct.jsx)("strong",{children:"Here's how it works:"})," You'll set up a one-person scramble in GSPro, taking four shots at the designated hole. Your best shot counts, and the closest to the pin wins!"]}),(0,ct.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[(0,ct.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"This Week's Challenge"}),n&&(0,ct.jsxs)("div",{className:"text-sm mb-1",children:[(0,ct.jsx)("span",{className:"text-gray-600",children:"Course:"})," ",(0,ct.jsx)("span",{className:"font-medium",children:n})]}),r&&(0,ct.jsxs)("div",{className:"text-sm",children:[(0,ct.jsx)("span",{className:"text-gray-600",children:"Hole:"})," ",(0,ct.jsxs)("span",{className:"font-medium",children:["#",r]})]})]}),(0,ct.jsx)("p",{className:"text-sm text-gray-600 italic",children:"Don't worry - we'll walk you through the entire setup process step by step."})]})},{title:"Step 1: Start the Match",icon:(0,ct.jsx)(pt,{className:"w-6 h-6 text-blue-500"}),content:(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[(0,ct.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Launch GSPro and start your match:"}),(0,ct.jsxs)("ol",{className:"space-y-2 text-gray-700",children:[(0,ct.jsxs)("li",{className:"flex gap-2",children:[(0,ct.jsx)("span",{className:"font-bold text-blue-600 flex-shrink-0",children:"1."}),(0,ct.jsxs)("span",{children:["Launch ",(0,ct.jsx)("strong",{children:"GSPro"})]})]}),(0,ct.jsxs)("li",{className:"flex gap-2",children:[(0,ct.jsx)("span",{className:"font-bold text-blue-600 flex-shrink-0",children:"2."}),(0,ct.jsxs)("span",{children:["From the welcome screen, select ",(0,ct.jsx)("strong",{children:"Local Match"})]})]}),(0,ct.jsxs)("li",{className:"flex gap-2",children:[(0,ct.jsx)("span",{className:"font-bold text-blue-600 flex-shrink-0",children:"3."}),(0,ct.jsxs)("span",{children:["Search for ",(0,ct.jsx)("strong",{children:n||"the course listed for this week's challenge"})]})]}),(0,ct.jsxs)("li",{className:"flex gap-2",children:[(0,ct.jsx)("span",{className:"font-bold text-blue-600 flex-shrink-0",children:"4."}),(0,ct.jsxs)("span",{children:["Click ",(0,ct.jsx)("strong",{children:"Play Now"})]})]})]})]}),(0,ct.jsx)("div",{className:"rounded-lg overflow-hidden border border-gray-300",children:(0,ct.jsx)("img",{src:"/ctp-tutorial/image2.png",alt:"GSPro Local Match Screen",className:"w-full h-auto"})})]})},{title:"Step 2: Add Players (The Key Part!)",icon:(0,ct.jsx)(Ye,{className:"w-6 h-6 text-green-500"}),content:(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsxs)("div",{className:"bg-yellow-50 rounded-lg border border-yellow-200 p-4",children:[(0,ct.jsxs)("h4",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[(0,ct.jsx)(Ks,{className:"w-5 h-5 text-yellow-600"}),"This is the important part!"]}),(0,ct.jsxs)("p",{className:"text-gray-700",children:["You're going to add ",(0,ct.jsx)("strong",{children:"yourself four times"}),". This creates a scramble format where you can take four shots."]})]}),(0,ct.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[(0,ct.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Here's how:"}),(0,ct.jsxs)("ol",{className:"space-y-2 text-gray-700",children:[(0,ct.jsxs)("li",{className:"flex gap-2",children:[(0,ct.jsx)("span",{className:"font-bold text-green-600 flex-shrink-0",children:"1."}),(0,ct.jsx)("span",{children:"Add your player"})]}),(0,ct.jsxs)("li",{className:"flex gap-2",children:[(0,ct.jsx)("span",{className:"font-bold text-green-600 flex-shrink-0",children:"2."}),(0,ct.jsx)("span",{children:"Add the same player again"})]}),(0,ct.jsxs)("li",{className:"flex gap-2",children:[(0,ct.jsx)("span",{className:"font-bold text-green-600 flex-shrink-0",children:"3."}),(0,ct.jsx)("span",{children:"Add the same player again"})]}),(0,ct.jsxs)("li",{className:"flex gap-2",children:[(0,ct.jsx)("span",{className:"font-bold text-green-600 flex-shrink-0",children:"4."}),(0,ct.jsx)("span",{children:"Add the same player again"})]})]}),(0,ct.jsxs)("p",{className:"mt-3 text-gray-700",children:["You should now see your name listed ",(0,ct.jsx)("strong",{children:"four times"}),"."]}),(0,ct.jsxs)("p",{className:"mt-2 text-gray-700",children:["Then, ",(0,ct.jsx)("strong",{children:"assign all four to the same team color"}),"."]})]}),(0,ct.jsx)("div",{className:"bg-blue-50 rounded-lg p-3 border border-blue-200",children:(0,ct.jsxs)("p",{className:"text-sm text-gray-700",children:[(0,ct.jsx)("strong",{children:"Playing with a friend?"})," Player 1 adds themselves four times with one team color, Player 2 adds themselves four times with a different team color. GSPro supports up to 8 total players."]})}),(0,ct.jsx)("div",{className:"rounded-lg overflow-hidden border border-gray-300",children:(0,ct.jsx)("img",{src:"/ctp-tutorial/image3.png",alt:"Adding Players in GSPro",className:"w-full h-auto"})})]})},{title:"Step 3: Match Settings",icon:(0,ct.jsx)(sa,{className:"w-6 h-6 text-purple-500"}),content:(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsxs)("p",{className:"text-gray-700",children:["Open ",(0,ct.jsx)("strong",{children:"Match Settings"})," and configure the following to ensure fair play:"]}),(0,ct.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[(0,ct.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Essential Settings:"}),(0,ct.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-gray-600",children:"Format:"})," ",(0,ct.jsx)("span",{className:"font-medium",children:"Scramble"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-gray-600",children:"Pin Placement:"})," ",(0,ct.jsx)("span",{className:"font-medium",children:"Friday"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-gray-600",children:"Mulligans:"})," ",(0,ct.jsx)("span",{className:"font-medium text-red-600",children:"OFF"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-gray-600",children:"Tee Box:"})," ",(0,ct.jsx)("span",{className:"font-medium",children:"Blue"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-gray-600",children:"Putting:"})," ",(0,ct.jsx)("span",{className:"font-medium",children:"Pick Your Putt"})]})]})]}),(0,ct.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[(0,ct.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Course Setup:"}),(0,ct.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-gray-600",children:"Green Firmness:"})," ",(0,ct.jsx)("span",{className:"font-medium",children:"Normal"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-gray-600",children:"Fairway Firmness:"})," ",(0,ct.jsx)("span",{className:"font-medium",children:"Normal"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-gray-600",children:"Elevation:"})," ",(0,ct.jsx)("span",{className:"font-medium",children:"Course"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-gray-600",children:"Stimp:"})," ",(0,ct.jsx)("span",{className:"font-medium",children:"11"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-gray-600",children:"Wind:"})," ",(0,ct.jsx)("span",{className:"font-medium",children:"No wind"})]})]}),(0,ct.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"*Unless noted otherwise in the challenge settings"})]}),(0,ct.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[(0,ct.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Holes:"}),(0,ct.jsxs)("ol",{className:"space-y-2 text-sm text-gray-700",children:[(0,ct.jsxs)("li",{className:"flex gap-2",children:[(0,ct.jsx)("span",{className:"font-bold text-purple-600",children:"\u2022"}),(0,ct.jsx)("span",{children:"Deselect all holes"})]}),(0,ct.jsxs)("li",{className:"flex gap-2",children:[(0,ct.jsx)("span",{className:"font-bold text-purple-600",children:"\u2022"}),(0,ct.jsxs)("span",{children:["Select only ",(0,ct.jsxs)("strong",{children:["Hole ",r||"[challenge hole]"]})]})]})]})]}),(0,ct.jsx)("div",{className:"rounded-lg overflow-hidden border border-gray-300",children:(0,ct.jsx)("img",{src:"/ctp-tutorial/image4.png",alt:"Match Settings in GSPro",className:"w-full h-auto"})})]})},{title:"Step 4: Take Your Shots",icon:(0,ct.jsx)(pt,{className:"w-6 h-6 text-orange-500"}),content:(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsx)("p",{className:"text-gray-700 leading-relaxed",children:"You'll be placed on the tee. Now it's time to show what you've got!"}),(0,ct.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[(0,ct.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Taking Your Shots:"}),(0,ct.jsxs)("ul",{className:"space-y-2 text-gray-700",children:[(0,ct.jsxs)("li",{className:"flex gap-2",children:[(0,ct.jsx)(Ks,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),(0,ct.jsx)("span",{children:"Hit all four shots at the pin"})]}),(0,ct.jsxs)("li",{className:"flex gap-2",children:[(0,ct.jsx)(Ks,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),(0,ct.jsxs)("span",{children:["If a shot goes into water or a hazard, choose ",(0,ct.jsx)("strong",{children:"Drop Zone"})," so you can finish the sequence"]})]})]})]}),(0,ct.jsx)("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:(0,ct.jsxs)("p",{className:"text-gray-700",children:["After all four shots, GSPro will show the ",(0,ct.jsx)("strong",{children:"Pick Your Shot"})," screen. This is where the magic happens!"]})})]})},{title:"Step 5: Pick Your Shot Screen (Critical!)",icon:(0,ct.jsx)(Dt,{className:"w-6 h-6 text-red-500"}),content:(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsxs)("div",{className:"bg-red-50 rounded-lg border border-red-200 p-4",children:[(0,ct.jsxs)("h4",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[(0,ct.jsx)(Dt,{className:"w-5 h-5 text-red-600"}),"This screen is your official distance summary!"]}),(0,ct.jsx)("p",{className:"text-gray-700",children:"The Pick Your Shot screen shows each shot and how far it finished from the pin."})]}),(0,ct.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[(0,ct.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"What you'll see:"}),(0,ct.jsxs)("ul",{className:"space-y-2 text-gray-700",children:[(0,ct.jsxs)("li",{className:"flex gap-2",children:[(0,ct.jsx)("span",{className:"text-blue-600",children:"\u2022"}),(0,ct.jsx)("span",{children:"Each of your four shots"})]}),(0,ct.jsxs)("li",{className:"flex gap-2",children:[(0,ct.jsx)("span",{className:"text-blue-600",children:"\u2022"}),(0,ct.jsx)("span",{children:"How far each shot finished from the pin"})]}),(0,ct.jsxs)("li",{className:"flex gap-2",children:[(0,ct.jsx)("span",{className:"text-blue-600",children:"\u2022"}),(0,ct.jsx)("span",{children:"Which shot is closest (this is what you'll submit!)"})]})]})]}),(0,ct.jsxs)("div",{className:"bg-yellow-50 rounded-lg border border-yellow-200 p-4",children:[(0,ct.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"\ud83d\udcf8 What you need to do:"}),(0,ct.jsxs)("ol",{className:"space-y-2 text-gray-700",children:[(0,ct.jsxs)("li",{className:"flex gap-2",children:[(0,ct.jsx)("span",{className:"font-bold text-yellow-600",children:"1."}),(0,ct.jsx)("span",{children:"Note which shot is closest and the distance"})]}),(0,ct.jsxs)("li",{className:"flex gap-2",children:[(0,ct.jsx)("span",{className:"font-bold text-yellow-600",children:"2."}),(0,ct.jsx)("span",{children:(0,ct.jsx)("strong",{children:"Take a picture of this screen with your phone"})})]}),(0,ct.jsxs)("li",{className:"flex gap-2",children:[(0,ct.jsx)("span",{className:"font-bold text-yellow-600",children:"3."}),(0,ct.jsx)("span",{children:"Make sure the player name and distances are visible"})]}),(0,ct.jsxs)("li",{className:"flex gap-2",children:[(0,ct.jsx)("span",{className:"font-bold text-yellow-600",children:"4."}),(0,ct.jsx)("span",{children:"Make sure the Windows date/time (bottom right) is visible"})]})]})]}),(0,ct.jsx)("div",{className:"rounded-lg overflow-hidden border border-gray-300",children:(0,ct.jsx)("img",{src:"/ctp-tutorial/image5.png",alt:"Pick Your Shot Screen in GSPro",className:"w-full h-auto"})})]})},{title:"Step 6: Submit to the Portal",icon:(0,ct.jsx)(Pf,{className:"w-6 h-6 text-indigo-500"}),content:(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsx)("p",{className:"text-gray-700 leading-relaxed",children:"Now that you have your photo and know your best distance, it's time to submit your entry!"}),(0,ct.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[(0,ct.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Submission Steps:"}),(0,ct.jsxs)("ol",{className:"space-y-2 text-gray-700",children:[(0,ct.jsxs)("li",{className:"flex gap-2",children:[(0,ct.jsx)("span",{className:"font-bold text-indigo-600",children:"1."}),(0,ct.jsxs)("span",{children:["After entering the challenge, click ",(0,ct.jsx)("strong",{children:'"Submit Distance & Photo"'})]})]}),(0,ct.jsxs)("li",{className:"flex gap-2",children:[(0,ct.jsx)("span",{className:"font-bold text-indigo-600",children:"2."}),(0,ct.jsx)("span",{children:"Enter the distance of your closest shot"})]}),(0,ct.jsxs)("li",{className:"flex gap-2",children:[(0,ct.jsx)("span",{className:"font-bold text-indigo-600",children:"3."}),(0,ct.jsx)("span",{children:"Upload the photo you took of the Pick Your Shot screen"})]}),(0,ct.jsxs)("li",{className:"flex gap-2",children:[(0,ct.jsx)("span",{className:"font-bold text-indigo-600",children:"4."}),(0,ct.jsx)("span",{children:"Submit and check the leaderboard to see where you rank!"})]})]})]}),(0,ct.jsxs)("div",{className:"bg-green-50 rounded-lg border border-green-200 p-4",children:[(0,ct.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Optional: Re-Up!"}),(0,ct.jsxs)("p",{className:"text-gray-700 text-sm",children:["After finishing, you can tap ",(0,ct.jsx)("strong",{children:"Play Again"})," on the scorecard. You'll be taken right back to the tee to do another set of four shots."]})]}),(0,ct.jsx)("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:(0,ct.jsx)("p",{className:"text-center text-gray-700 font-medium",children:"That's it! You're ready to compete. Good luck! \ud83c\udfaf"})})]})}],c=o[l],d=l===o.length-1,u=0===l;return(0,ct.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,ct.jsxs)(Pa,{variant:"elevated",padding:"lg",children:[(0,ct.jsx)(Da,{title:(0,ct.jsxs)("div",{className:"flex items-center gap-3",children:[c.icon,(0,ct.jsx)("span",{children:c.title})]})}),(0,ct.jsxs)(Ma,{children:[(0,ct.jsxs)("div",{className:"mb-6",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ct.jsxs)("span",{className:"text-sm font-medium text-gray-600",children:["Step ",l+1," of ",o.length]}),(0,ct.jsxs)("span",{className:"text-sm text-gray-500",children:[Math.round((l+1)/o.length*100),"% Complete"]})]}),(0,ct.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,ct.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat((l+1)/o.length*100,"%")}})})]}),(0,ct.jsx)("div",{className:"animate-fade-in",children:c.content})]}),(0,ct.jsx)(Ra,{divided:!0,children:(0,ct.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,ct.jsx)(pa,{variant:"ghost",icon:Fs,onClick:()=>{u&&s?s():u||i(l-1)},disabled:u&&!s,children:u?"Cancel":"Back"}),(0,ct.jsx)("div",{className:"flex gap-2",children:o.map((e,t)=>(0,ct.jsx)("div",{className:"w-2 h-2 rounded-full transition-all ".concat(t===l?"bg-blue-600 w-4":t<l?"bg-blue-400":"bg-gray-300")},t))}),(0,ct.jsx)(pa,{variant:"primary",icon:d?Ks:et,iconPosition:"right",onClick:()=>{d?t():i(l+1)},children:d?"Got It!":"Next"})]})})]})})},Lf=e=>{let{open:t,onClose:s,onContinue:a,challengeName:r,courseName:n,hole:l,distance:i,instructions:o,platforms:c=["GSPro","Trackman"],gsproSettings:d,trackmanSettings:u,prizeImages:m}=e;const x=c.includes("GSPro"),h=c.includes("Trackman");return(0,ct.jsxs)(Mr,{open:t,onClose:s,size:"lg",children:[(0,ct.jsx)(Rr,{children:(0,ct.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ct.jsx)("div",{className:"bg-indigo-600 p-2 rounded-lg",children:(0,ct.jsx)(ar,{className:"w-5 h-5 text-white"})}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold",children:"Challenge Settings"}),(0,ct.jsx)("p",{className:"text-sm text-gray-500",children:r})]})]})}),(0,ct.jsx)(Lr,{children:(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[(0,ct.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Challenge Details"}),(0,ct.jsxs)("div",{className:"space-y-1 text-sm",children:[n&&(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-gray-600",children:"Course:"})," ",(0,ct.jsx)("span",{className:"font-medium",children:n})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-gray-600",children:"Hole:"})," ",(0,ct.jsxs)("span",{className:"font-medium",children:["#",l]})]}),i&&(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-gray-600",children:"Distance:"})," ",(0,ct.jsxs)("span",{className:"font-medium",children:[i," yards"]})]})]})]}),o&&(0,ct.jsxs)("div",{className:"bg-yellow-50 rounded-lg p-4 border border-yellow-200",children:[(0,ct.jsxs)("h4",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[(0,ct.jsx)(ar,{className:"w-4 h-4"}),"Important Notes"]}),(0,ct.jsx)("p",{className:"text-sm text-gray-700 whitespace-pre-line",children:o})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("h4",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[(0,ct.jsx)(Ot,{className:"w-4 h-4"}),"Supported Platforms"]}),(0,ct.jsx)("div",{className:"flex gap-2",children:c.map(e=>(0,ct.jsx)(Ua,{variant:"info",children:e},e))})]}),x&&d&&(0,ct.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[(0,ct.jsxs)("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[(0,ct.jsx)(sa,{className:"w-4 h-4"}),"GSPro Settings"]}),(0,ct.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[d.pins&&(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-gray-600",children:"Pins:"})," ",(0,ct.jsx)("span",{className:"font-medium",children:d.pins})]}),d.putting&&(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-gray-600",children:"Putting:"})," ",(0,ct.jsx)("span",{className:"font-medium",children:d.putting})]}),d.elevation&&(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-gray-600",children:"Elevation:"})," ",(0,ct.jsx)("span",{className:"font-medium",children:d.elevation})]}),d.stimp&&(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-gray-600",children:"Stimp:"})," ",(0,ct.jsx)("span",{className:"font-medium",children:d.stimp})]}),d.mulligan&&(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-gray-600",children:"Mulligan:"})," ",(0,ct.jsx)("span",{className:"font-medium",children:d.mulligan})]}),d.gameplay&&(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-gray-600",children:"Game Play:"})," ",(0,ct.jsx)("span",{className:"font-medium",children:d.gameplay})]}),d.fairway_firmness&&(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-gray-600",children:"Fairway Firmness:"})," ",(0,ct.jsx)("span",{className:"font-medium",children:d.fairway_firmness})]}),d.green_firmness&&(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-gray-600",children:"Green Firmness:"})," ",(0,ct.jsx)("span",{className:"font-medium",children:d.green_firmness})]}),d.wind&&(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-gray-600",children:"Wind:"})," ",(0,ct.jsx)("span",{className:"font-medium",children:d.wind})]}),d.teebox&&(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-gray-600",children:"Tee Box:"})," ",(0,ct.jsx)("span",{className:"font-medium",children:d.teebox})]})]})]}),h&&u&&(0,ct.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[(0,ct.jsxs)("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[(0,ct.jsx)(sa,{className:"w-4 h-4"}),"Trackman Settings"]}),(0,ct.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[u.pins&&(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-gray-600",children:"Pins:"})," ",(0,ct.jsx)("span",{className:"font-medium",children:u.pins})]}),u.putting&&(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-gray-600",children:"Putting:"})," ",(0,ct.jsx)("span",{className:"font-medium",children:u.putting})]}),u.stimp&&(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-gray-600",children:"Stimp:"})," ",(0,ct.jsx)("span",{className:"font-medium",children:u.stimp})]}),u.fairway_firmness&&(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-gray-600",children:"Fairway Firmness:"})," ",(0,ct.jsx)("span",{className:"font-medium",children:u.fairway_firmness})]}),u.green_firmness&&(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-gray-600",children:"Green Firmness:"})," ",(0,ct.jsx)("span",{className:"font-medium",children:u.green_firmness})]}),u.wind&&(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-gray-600",children:"Wind:"})," ",(0,ct.jsx)("span",{className:"font-medium",children:u.wind})]})]})]}),((null===m||void 0===m?void 0:m.first)||(null===m||void 0===m?void 0:m.second)||(null===m||void 0===m?void 0:m.third))&&(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[(0,ct.jsx)(qe,{className:"w-4 h-4"}),"Prizes"]}),(0,ct.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[m.first&&(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("img",{src:m.first,alt:"1st Place Prize",className:"w-full h-32 object-cover rounded-lg border-2 border-yellow-400 mb-2"}),(0,ct.jsx)(Ua,{variant:"warning",children:"1st Place"})]}),m.second&&(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("img",{src:m.second,alt:"2nd Place Prize",className:"w-full h-32 object-cover rounded-lg border-2 border-gray-400 mb-2"}),(0,ct.jsx)(Ua,{variant:"default",children:"2nd Place"})]}),m.third&&(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("img",{src:m.third,alt:"3rd Place Prize",className:"w-full h-32 object-cover rounded-lg border-2 border-orange-600 mb-2"}),(0,ct.jsx)(Ua,{variant:"error",children:"3rd Place"})]})]})]})]})}),(0,ct.jsxs)(Fr,{children:[(0,ct.jsx)(pa,{variant:"secondary",onClick:s,children:"Cancel"}),(0,ct.jsx)(pa,{variant:"primary",onClick:a,children:"Continue to Submit Shots"})]})]})},Ff=e=>{var t,s;let{challenge:r,challengeType:n,myEntry:l,onEnterSuccess:i,onSubmitSuccess:o,onViewLeaderboard:c}=e;const[d,u]=(0,a.useState)(!1),[m,x]=(0,a.useState)(!1),[h,p]=(0,a.useState)(!1),[g,f]=(0,a.useState)(!1),[b,v]=(0,a.useState)(null),[y,j]=(0,a.useState)(null),[N,w]=(0,a.useState)(!1),[_,k]=(0,a.useState)("submit"),[S,C]=(0,a.useState)(!1),A=0===Number(r.entry_fee||0);(0,a.useEffect)(()=>{(async()=>{try{const e=await(0,tt.cDt)();v(e.data)}catch(e){console.error("Error loading onboarding status:",e)}})()},[]),(0,a.useEffect)(()=>{console.log("Challenge:",r.challenge_name,{entry_fee:r.entry_fee,isFreeChallenge:A,has_entry:!!l})},[r.id]);const{timeRemaining:E,hoursRemaining:T,challengeDuration:P}=(0,a.useMemo)(()=>{const e=new Date,t=new Date(r.week_start_date),s=new Date(r.week_end_date),a=s.getTime()-e.getTime(),n=Math.floor(a/36e5),l=Math.floor(n/24),i=s.getTime()-t.getTime(),o=Math.ceil(i/864e5);let c="";return c=l>1?"".concat(l,"d"):n>0?"".concat(n,"h"):"".concat(Math.floor(a/6e4),"m"),{timeRemaining:c,hoursRemaining:n,challengeDuration:"".concat(o,"d open")}},[r.week_start_date,r.week_end_date]),D=(null===l||void 0===l||null===(t=l.groups)||void 0===t?void 0:t.filter(e=>!e.shots||0===e.shots.length||"purchased"===e.status))||[],M=D.length>0,R=async()=>{try{await(0,tt.ztm)(),f(!1),v(e=>e?(0,Re.A)((0,Re.A)({},e),{},{ctp_tutorial_completed:!0}):null),A?L():(w(!1),u(!0))}catch(e){console.error("Error completing CTP tutorial:",e),_s.error("Failed to save tutorial progress")}},L=async()=>{C(!0);try{await(0,tt.qJe)(r.id,{payment_method:"free",payment_amount:0,payment_notes:"Free challenge entry"}),null===i||void 0===i||i()}catch(s){var e,t;console.error("Error entering free challenge:",s),_s.error((null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to enter challenge")}finally{C(!1)}},F=()=>{w(!0),u(!0)},O=()=>{D.length>0&&(j(D[0]),r.instructions||r.gspro_settings||r.trackman_settings?x(!0):p(!0))},I=l?M?{label:"Submit",handler:O}:A?{label:"View",handler:c}:{label:"Re-up",handler:F}:{label:A?"Enter for Free":"Join",handler:()=>{console.log("handleEnterClick called"),f(!0)},loading:S},z=M&&!A?{options:[{value:"reup",label:"Re-up $3"},{value:"submit",label:"Submit",badge:D.length}],value:_,onChange:e=>{const t=e;k(t),"reup"===t?F():"submit"===t&&O()}}:void 0;return g?(0,ct.jsx)(Rf,{onComplete:R,onBack:()=>f(!1),challengeHole:r.designated_hole,courseName:r.course_name}):(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)(fn,(0,Re.A)((0,Re.A)({variant:"compact-minimal",title:r.challenge_name,titleBadge:(()=>{const e=P.match(/(\d+)d/);return e?"".concat(e[1]," day"):null})()||void 0,subtitle:(()=>{const e=[];console.log("Challenge data:",{course_name:r.course_name,course_id:r.course_id,yardage:r.yardage,required_distance_yards:r.required_distance_yards,full_challenge:r}),null!==n&&void 0!==n&&n.type_name&&e.push(n.type_name),r.course_name&&e.push(r.course_name),r.designated_hole&&e.push("Hole ".concat(r.designated_hole));const t=r.yardage||r.required_distance_yards;return t&&e.push("".concat(t," yds")),e.join(" \u2022 ")})(),status:T<0?"closed":T<24?"ending-soon":"open",participants:{current:r.total_entries},endDate:E,prize:null!==l&&void 0!==l&&l.best_shot?(e=>{if(void 0===e||null===e)return"--";if(0===e)return"ACE!";const t=Math.floor(e/12),s=e%12;return"".concat(t,"' ").concat(s,'"')})(l.best_shot.distance_from_pin_inches):"--"},M&&z?{segmentedActions:z}:{onAction:I.handler,actionLabel:I.label}),{},{onClick:c})),d&&(0,ct.jsx)(Tf,{challenge:r,challengeType:n,isReup:N,currentGroups:(null===l||void 0===l||null===(s=l.groups)||void 0===s?void 0:s.length)||0,onClose:()=>{u(!1),w(!1)},onSuccess:()=>{u(!1),w(!1),null===i||void 0===i||i()}}),m&&(0,ct.jsx)(Lf,{open:m,onClose:()=>{x(!1),j(null)},onContinue:()=>{x(!1),p(!0)},challengeName:r.challenge_name,courseName:r.course_name,hole:r.designated_hole,distance:r.required_distance_yards,instructions:r.instructions,platforms:r.platforms,gsproSettings:r.gspro_settings,trackmanSettings:r.trackman_settings,prizeImages:{first:r.prize_1st_image_url,second:r.prize_2nd_image_url,third:r.prize_3rd_image_url}}),h&&y&&(0,ct.jsx)(Mf,{challenge:r,group:y,shotsPerGroup:(null===n||void 0===n?void 0:n.shots_per_group)||4,onClose:()=>{p(!1),j(null)},onSuccess:()=>{p(!1),j(null),null===o||void 0===o||o()}})]})},Of=()=>{const{user:e}=mt(),t=Z(),[s,r]=(0,a.useState)([]),[n,l]=(0,a.useState)(new Map),[i,o]=(0,a.useState)([]),[c,d]=(0,a.useState)(null),[u,m]=(0,a.useState)(!0),[x,h]=(0,a.useState)("ending"),[p,g]=(0,a.useState)("all");(0,a.useEffect)(()=>{f()},[]);const f=async()=>{m(!0);try{const[t,s,a]=await Promise.all([(0,tt.fvp)({status:"active"}),(0,tt.FcG)(),(0,tt.NIO)().catch(()=>({data:null}))]);if(r(t.data),o(s.data),a.data&&d(a.data),e){const e=new Map;await Promise.all(t.data.map(async t=>{try{const s=await(0,tt.WJf)(t.id);e.set(t.id,s.data)}catch(a){var s;404!==(null===(s=a.response)||void 0===s?void 0:s.status)&&console.error("Error loading entry for challenge ".concat(t.id,":"),a)}})),l(e)}}catch(t){console.error("Error loading challenges:",t),_s.error("Failed to load challenges")}finally{m(!1)}},b=()=>{f()},v=()=>{f()},y=(0,a.useMemo)(()=>{const e=((e,t)=>{const s=[...e];switch(t){case"ending":return s.sort((e,t)=>new Date(e.week_end_date).getTime()-new Date(t.week_end_date).getTime());case"newest":return s.sort((e,t)=>new Date(t.week_start_date).getTime()-new Date(e.week_start_date).getTime());case"pot":return s.sort((e,t)=>.5*Number(t.total_entry_fees)-.5*Number(e.total_entry_fees));case"entries":return s.sort((e,t)=>t.total_entries-e.total_entries);default:return s}})(s,x),t=((e,t)=>{switch(t){case"all":default:return e;case"not_entered":return e.filter(e=>!n.has(e.id));case"entered":return e.filter(e=>n.has(e.id));case"needs_submission":return e.filter(e=>{const t=n.get(e.id);return!(!t||!t.groups)&&t.groups.some(e=>!e.shots||0===e.shots.length||"purchased"===e.status)})}})(e,p),a=[],r=[],l=[];return t.forEach(e=>{const t=(e=>{const t=new Date,s=new Date(e).getTime()-t.getTime();return Math.floor(s/36e5)})(e.week_end_date);t<0?l.push(e):t<24?a.push(e):r.push(e)}),{endingSoon:a,active:r,closed:l,total:t.length}},[s,x,p,n]),j=e=>{if(e.challenge_type_id)return i.find(t=>t.id===e.challenge_type_id)};return u?(0,ct.jsx)("div",{className:"space-y-6",children:(0,ct.jsx)(mn,{text:"Loading challenges..."})}):0===s.length?(0,ct.jsx)("div",{className:"space-y-6",children:(0,ct.jsx)(sr,{icon:pt,title:"No Active Challenges",description:"There are no CTP challenges running right now. Check back soon for new challenges!",children:(0,ct.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Challenges typically run throughout the week with different durations and prize pools."})})}):(0,ct.jsxs)("div",{className:"space-y-6",children:[0===y.total&&(0,ct.jsx)(sr,{icon:pt,title:"No Challenges Match Your Filter",description:"not_entered"===p?"You've entered all active challenges!":"entered"===p?"You haven't entered any challenges yet.":"needs_submission"===p?"All your shot groups are submitted. Nice work!":"Try adjusting your filters."}),y.endingSoon.length>0&&(0,ct.jsx)("div",{className:"space-y-4",children:y.endingSoon.map(e=>(0,ct.jsx)(Ff,{challenge:e,challengeType:j(e),myEntry:n.get(e.id),onEnterSuccess:b,onSubmitSuccess:v,onViewLeaderboard:()=>t("/challenges/".concat(e.id))},e.id))}),y.active.length>0&&(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsxs)("div",{className:"flex items-center gap-2 pb-2 border-b border-brand-neon-green/30",children:[(0,ct.jsxs)("div",{className:"flex items-center gap-2 text-brand-neon-green",children:[(0,ct.jsx)(pt,{className:"w-5 h-5"}),(0,ct.jsx)("h2",{className:"text-lg font-bold",children:"Active Challenges"})]}),(0,ct.jsxs)("span",{className:"text-sm text-white/70",children:["(",y.active.length," challenge",1!==y.active.length?"s":"",")"]})]}),y.active.map(e=>(0,ct.jsx)(Ff,{challenge:e,challengeType:j(e),myEntry:n.get(e.id),onEnterSuccess:b,onSubmitSuccess:v,onViewLeaderboard:()=>t("/challenges/".concat(e.id))},e.id))]}),y.closed.length>0&&(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsxs)("div",{className:"flex items-center gap-2 pb-2 border-b border-white/20",children:[(0,ct.jsxs)("div",{className:"flex items-center gap-2 text-white/60",children:[(0,ct.jsx)(pt,{className:"w-5 h-5"}),(0,ct.jsx)("h2",{className:"text-lg font-bold",children:"Closed Challenges"})]}),(0,ct.jsxs)("span",{className:"text-sm text-white/40",children:["(",y.closed.length," challenge",1!==y.closed.length?"s":"",")"]})]}),y.closed.map(e=>(0,ct.jsx)(Ff,{challenge:e,challengeType:j(e),myEntry:n.get(e.id),onEnterSuccess:b,onSubmitSuccess:v,onViewLeaderboard:()=>t("/challenges/".concat(e.id))},e.id))]})]})};var If=s(5872);const zf=e=>{let{challenge:t,onBack:s}=e;const{user:r}=mt(),[n,l]=(0,a.useState)("ctp"),[i,o]=(0,a.useState)([]),[c,d]=(0,a.useState)([]),[u,m]=(0,a.useState)(null),[x,h]=(0,a.useState)(!0),[p,g]=(0,a.useState)(null);(0,a.useEffect)(()=>{f()},[t.id]);const f=async()=>{try{h(!0);const[e,s,a]=await Promise.all([(0,tt.cZT)(t.id),(0,tt.HGu)(t.id),(0,tt.NIO)()]);o(e.data),d(s.data),m(a.data)}catch(e){console.error("Error fetching leaderboards:",e),g("Failed to load leaderboard")}finally{h(!1)}},b=e=>{if(0===e)return"HOLE-IN-ONE!";const t=Math.floor(e/12),s=e%12;return 0===t?"".concat(s,'"'):0===s?"".concat(t,"'"):"".concat(t,"' ").concat(s,'"')},v=i.find(e=>e.user_id===(null===r||void 0===r?void 0:r.member_id));return(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsxs)("div",{className:"flex items-center gap-4",children:[s&&(0,ct.jsx)("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,ct.jsx)(Fs,{className:"w-5 h-5"})}),(0,ct.jsxs)("div",{className:"flex-1",children:[(0,ct.jsx)("h2",{className:"text-xl font-bold",children:t.challenge_name}),(0,ct.jsxs)("p",{className:"text-sm text-gray-600",children:["Hole ",t.designated_hole,t.required_distance_yards&&" \u2022 ".concat(t.required_distance_yards," yds")]})]})]}),(0,ct.jsxs)("div",{className:"bg-blue-50 rounded-lg p-3 text-center mb-4",children:[(0,ct.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:i.length}),(0,ct.jsx)("p",{className:"text-xs text-blue-700",children:"Total Entries"})]}),0===Number(t.entry_fee||0)&&(t.prize_1st_image_url||t.prize_2nd_image_url||t.prize_3rd_image_url)&&(0,ct.jsxs)("div",{className:"mb-4",children:[(0,ct.jsxs)("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[(0,ct.jsx)(qe,{className:"w-4 h-4 text-yellow-600"}),"Prizes"]}),(0,ct.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[t.prize_1st_image_url&&(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("img",{src:t.prize_1st_image_url,alt:"1st Place Prize",className:"w-full h-32 object-cover rounded-lg border-2 border-yellow-400 mb-2"}),(0,ct.jsx)("span",{className:"text-xs font-medium text-yellow-600",children:"1st Place"})]}),t.prize_2nd_image_url&&(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("img",{src:t.prize_2nd_image_url,alt:"2nd Place Prize",className:"w-full h-32 object-cover rounded-lg border-2 border-gray-400 mb-2"}),(0,ct.jsx)("span",{className:"text-xs font-medium text-gray-600",children:"2nd Place"})]}),t.prize_3rd_image_url&&(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("img",{src:t.prize_3rd_image_url,alt:"3rd Place Prize",className:"w-full h-32 object-cover rounded-lg border-2 border-orange-600 mb-2"}),(0,ct.jsx)("span",{className:"text-xs font-medium text-orange-600",children:"3rd Place"})]})]})]}),v&&(0,ct.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-sm font-medium text-yellow-800",children:"Your Best Shot"}),(0,ct.jsx)("p",{className:"text-lg font-bold text-yellow-900",children:v.is_hole_in_one?"HOLE-IN-ONE!":b(v.distance_inches)})]}),(0,ct.jsxs)("div",{className:"text-right",children:[(0,ct.jsx)("p",{className:"text-sm text-yellow-800",children:"Rank"}),(0,ct.jsxs)("p",{className:"text-2xl font-bold text-yellow-900",children:["#",v.rank]})]})]})}),(0,ct.jsxs)("div",{className:"flex border-b",children:[(0,ct.jsxs)("button",{onClick:()=>l("ctp"),className:"flex-1 py-3 text-sm font-medium border-b-2 transition-colors ".concat("ctp"===n?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:[(0,ct.jsx)(pt,{className:"w-4 h-4 inline mr-2"}),"Closest to Pin (",i.length,")"]}),(0,ct.jsxs)("button",{onClick:()=>l("hio"),className:"flex-1 py-3 text-sm font-medium border-b-2 transition-colors ".concat("hio"===n?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700"),children:[(0,ct.jsx)(qe,{className:"w-4 h-4 inline mr-2"}),"Hole-in-Ones (",c.length,")"]})]}),x&&(0,ct.jsx)("div",{className:"py-8 text-center text-gray-500",children:"Loading leaderboard..."}),p&&(0,ct.jsx)(cr,{variant:"error",className:"my-4",children:p}),!x&&"ctp"===n&&(0,ct.jsx)("div",{className:"space-y-2",children:0===i.length?(0,ct.jsx)("p",{className:"py-8 text-center text-gray-500",children:"No shots submitted yet"}):i.map(e=>{var t,s;return(0,ct.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg ".concat(e.user_id===(null===r||void 0===r?void 0:r.member_id)?"bg-yellow-50 border border-yellow-200":"bg-gray-50"),children:[(0,ct.jsx)("div",{className:"w-8 flex justify-center",children:(s=e.rank,1===s?(0,ct.jsx)(ht,{className:"w-5 h-5 text-yellow-500"}):2===s?(0,ct.jsx)(ht,{className:"w-5 h-5 text-gray-400"}):3===s?(0,ct.jsx)(ht,{className:"w-5 h-5 text-amber-600"}):(0,ct.jsx)("span",{className:"w-5 text-center text-gray-500",children:s}))}),e.profile_photo_url?(0,ct.jsx)("img",{src:e.profile_photo_url,alt:"",className:"w-10 h-10 rounded-full object-cover"}):(0,ct.jsx)("div",{className:"w-10 h-10 rounded-full bg-gray-300 flex items-center justify-center",children:(0,ct.jsx)("span",{className:"text-sm font-medium text-gray-600",children:null===(t=e.first_name)||void 0===t?void 0:t[0]})}),(0,ct.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ct.jsxs)("p",{className:"font-medium truncate",children:[e.first_name," ",e.last_name,e.user_id===(null===r||void 0===r?void 0:r.member_id)&&(0,ct.jsx)("span",{className:"text-yellow-600 text-xs ml-2",children:"(You)"})]}),e.club&&(0,ct.jsx)("p",{className:"text-xs text-gray-500 truncate",children:e.club})]}),(0,ct.jsxs)("div",{className:"text-right",children:[(0,ct.jsx)("p",{className:"font-bold ".concat(e.is_hole_in_one?"text-green-600":"text-gray-900"),children:e.is_hole_in_one?"ACE!":b(e.distance_inches)}),(0,ct.jsxs)("div",{className:"flex items-center justify-end gap-1 text-xs",children:[e.verified?(0,ct.jsx)(Ks,{className:"w-3 h-3 text-green-500"}):(0,ct.jsx)(Qs,{className:"w-3 h-3 text-yellow-500"}),(0,ct.jsx)("span",{className:"text-gray-400",children:e.verified?"Verified":"Pending"})]})]})]},e.shot_id)})}),!x&&"hio"===n&&(0,ct.jsx)("div",{className:"space-y-2",children:0===c.length?(0,ct.jsxs)("div",{className:"py-8 text-center",children:[(0,ct.jsx)(qe,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),(0,ct.jsx)("p",{className:"text-gray-500",children:"No hole-in-ones yet"}),(0,ct.jsxs)("p",{className:"text-sm text-gray-400 mt-1",children:["Jackpot: $",Number((null===u||void 0===u?void 0:u.current_amount)||0).toFixed(2),u&&u.weeks_accumulated>0&&(0,ct.jsxs)("span",{children:[" (",u.weeks_accumulated," weeks)"]})]})]}):(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4 text-center mb-4",children:[(0,ct.jsx)(qe,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),(0,ct.jsxs)("p",{className:"text-2xl font-bold text-purple-700",children:[c.length," Hole-in-One",1!==c.length?"s":"","!"]}),(0,ct.jsxs)("p",{className:"text-sm text-purple-600 mt-1",children:["Jackpot split: $",(Number((null===u||void 0===u?void 0:u.current_amount)||0)/c.length).toFixed(2)," each"]})]}),c.map(e=>{var t;return(0,ct.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg ".concat(e.user_id===(null===r||void 0===r?void 0:r.member_id)?"bg-purple-50 border border-purple-200":"bg-gray-50"),children:[(0,ct.jsx)(qe,{className:"w-6 h-6 text-yellow-500"}),e.profile_photo_url?(0,ct.jsx)("img",{src:e.profile_photo_url,alt:"",className:"w-10 h-10 rounded-full object-cover"}):(0,ct.jsx)("div",{className:"w-10 h-10 rounded-full bg-gray-300 flex items-center justify-center",children:(0,ct.jsx)("span",{className:"text-sm font-medium text-gray-600",children:null===(t=e.first_name)||void 0===t?void 0:t[0]})}),(0,ct.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ct.jsxs)("p",{className:"font-medium truncate",children:[e.first_name," ",e.last_name]}),(0,ct.jsxs)("p",{className:"text-xs text-gray-500",children:["Group ",e.group_number,", Shot ",e.shot_number]})]}),(0,ct.jsxs)("div",{className:"flex items-center gap-2",children:[e.detail_screenshot_url&&(0,ct.jsx)("a",{href:(0,If.Lo)(e.detail_screenshot_url),target:"_blank",rel:"noopener noreferrer",className:"p-1 text-blue-600 hover:text-blue-800",children:(0,ct.jsx)(Df,{className:"w-4 h-4"})}),e.verified?(0,ct.jsx)(Ks,{className:"w-5 h-5 text-green-500"}):(0,ct.jsx)(Qs,{className:"w-5 h-5 text-yellow-500"})]})]},e.shot_id)})]})}),"completed"===t.status&&(0,ct.jsxs)("div",{className:"mt-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:[(0,ct.jsx)("h3",{className:"font-bold text-green-800 mb-2",children:"Challenge Complete!"}),(0,ct.jsx)("p",{className:"text-sm text-green-700",children:"Results have been finalized. Payouts will be processed shortly."})]})]})},Bf=e=>{let{challengeId:t,onBack:s,onSubmitDistance:r}=e;const{user:n}=mt(),[l,i]=(0,a.useState)(null),[o,c]=(0,a.useState)([]),[d,u]=(0,a.useState)(!0),[m,x]=(0,a.useState)(!1);(0,a.useEffect)(()=>{h()},[t]);const h=async()=>{u(!0);try{const e=await(0,tt.s5f)(t);i(e.data);const s=Boolean(e.data.challenge_type_id);if(x(s),!s){const e=await(0,tt.DS5)(t);c(e.data)}}catch(e){console.error("Error loading leaderboard:",e),_s.error("Failed to load leaderboard")}finally{u(!1)}},p=e=>{if(void 0===e||null===e)return"--";if(0===e)return"Hole-in-One!";const t=Math.floor(e/12),s=e%12;return"".concat(t,"' ").concat(s,'"')},g=e=>{switch(e){case 1:return"text-yellow-500";case 2:return"text-gray-400";case 3:return"text-orange-600";default:return"text-gray-300"}},f=(e,t)=>t.hole_in_one?(0,ct.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ct.jsx)(qe,{className:"w-5 h-5 text-yellow-500"}),(0,ct.jsx)("span",{className:"font-bold text-yellow-600",children:"ACE!"})]}):e<=3?(0,ct.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ct.jsx)(ht,{className:"w-5 h-5 ".concat(g(e))}),(0,ct.jsx)("span",{className:"font-bold",children:e})]}):(0,ct.jsx)("span",{className:"font-semibold text-gray-600",children:e}),b=e=>"winner"===e.status?(0,ct.jsxs)(Ua,{variant:"success",children:[(0,ct.jsx)(qe,{className:"w-3 h-3 mr-1"}),"Winner"]}):"verified"===e.status?(0,ct.jsxs)(Ua,{variant:"success",children:[(0,ct.jsx)(Ks,{className:"w-3 h-3 mr-1"}),"Verified"]}):"submitted"===e.status?(0,ct.jsxs)(Ua,{variant:"info",children:[(0,ct.jsx)(Qs,{className:"w-3 h-3 mr-1"}),"Submitted"]}):(0,ct.jsx)(Ua,{variant:"error",children:"Pending"});if(d)return(0,ct.jsx)(Pa,{children:(0,ct.jsx)(Ma,{className:"py-8",children:(0,ct.jsx)(mn,{text:"Loading leaderboard..."})})});if(!l)return(0,ct.jsx)(Pa,{children:(0,ct.jsx)(Ma,{className:"py-8",children:(0,ct.jsx)(sr,{icon:pt,title:"Challenge Not Found",description:"Unable to load challenge information"})})});if(m)return(0,ct.jsx)(Pa,{children:(0,ct.jsx)(Ma,{children:(0,ct.jsx)(zf,{challenge:l,onBack:s})})});const v=o.find(e=>e.user_id===(null===n||void 0===n?void 0:n.member_id));o.filter(e=>e.hole_in_one);return(0,ct.jsxs)(Pa,{children:[(0,ct.jsx)(Da,{children:(0,ct.jsxs)("div",{className:"flex items-start justify-between",children:[(0,ct.jsxs)("div",{className:"flex-1",children:[s&&(0,ct.jsxs)(pa,{variant:"ghost",size:"sm",onClick:s,className:"mb-3",children:[(0,ct.jsx)(Fs,{className:"w-4 h-4 mr-2"}),"Back"]}),(0,ct.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ct.jsx)("div",{className:"bg-indigo-600 p-3 rounded-lg",children:(0,ct.jsx)(qe,{className:"w-6 h-6 text-white"})}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Challenge Leaderboard"}),(0,ct.jsx)("p",{className:"text-gray-600",children:l.challenge_name})]})]})]}),(0,ct.jsx)(Ua,{variant:"active"===l.status?"success":"default",size:"lg",children:l.status.charAt(0).toUpperCase()+l.status.slice(1)})]})}),(0,ct.jsxs)(Ma,{children:[(0,ct.jsxs)("div",{className:"mb-6",children:[(0,ct.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,ct.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,ct.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Designated Hole"}),(0,ct.jsxs)("div",{className:"text-2xl font-bold text-indigo-600",children:["Hole ",l.designated_hole]})]}),(0,ct.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,ct.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Total Entries"}),(0,ct.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:o.length})]})]}),0===Number(l.entry_fee||0)&&(l.prize_1st_image_url||l.prize_2nd_image_url||l.prize_3rd_image_url)&&(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[(0,ct.jsx)(qe,{className:"w-5 h-5 text-yellow-600"}),"Prizes"]}),(0,ct.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[l.prize_1st_image_url&&(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("img",{src:l.prize_1st_image_url,alt:"1st Place Prize",className:"w-full h-40 object-cover rounded-lg border-2 border-yellow-400 mb-2"}),(0,ct.jsx)(Ua,{variant:"warning",children:"1st Place"})]}),l.prize_2nd_image_url&&(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("img",{src:l.prize_2nd_image_url,alt:"2nd Place Prize",className:"w-full h-40 object-cover rounded-lg border-2 border-gray-400 mb-2"}),(0,ct.jsx)(Ua,{variant:"default",children:"2nd Place"})]}),l.prize_3rd_image_url&&(0,ct.jsxs)("div",{className:"text-center",children:[(0,ct.jsx)("img",{src:l.prize_3rd_image_url,alt:"3rd Place Prize",className:"w-full h-40 object-cover rounded-lg border-2 border-orange-600 mb-2"}),(0,ct.jsx)(Ua,{variant:"error",children:"3rd Place"})]})]})]})]}),v&&(0,ct.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 mb-6 border-2 border-blue-200",children:[(0,ct.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"Your Standing"}),(0,ct.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"Rank"}),(0,ct.jsx)("div",{className:"text-lg font-bold",children:v.rank||"--"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"Distance"}),(0,ct.jsx)("div",{className:"text-lg font-bold",children:p(v.distance_from_pin_inches)})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"Status"}),(0,ct.jsx)("div",{children:b(v)})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"Photo"}),(0,ct.jsx)("div",{children:v.photo_url?(0,ct.jsxs)(Ua,{variant:"success",children:[(0,ct.jsx)(Ks,{className:"w-3 h-3 mr-1"}),"Uploaded"]}):(0,ct.jsxs)(Ua,{variant:"error",children:[(0,ct.jsx)(Dt,{className:"w-3 h-3 mr-1"}),"Required"]})})]})]}),!v.distance_from_pin_inches&&r&&(0,ct.jsxs)(pa,{variant:"primary",size:"sm",onClick:()=>r(v),className:"mt-3",children:[(0,ct.jsx)(pt,{className:"w-4 h-4 mr-2"}),"Submit Distance & Photo"]})]}),0===o.length?(0,ct.jsx)(sr,{icon:qe,title:"No Entries Yet",description:"Be the first to enter this challenge!"}):(0,ct.jsx)("div",{className:"overflow-x-auto",children:(0,ct.jsxs)(Kr,{children:[(0,ct.jsx)(Jr,{children:(0,ct.jsxs)(Zr,{children:[(0,ct.jsx)(en,{className:"w-20",children:"Rank"}),(0,ct.jsx)(en,{children:"Player"}),(0,ct.jsx)(en,{children:"Distance"}),(0,ct.jsx)(en,{children:"Score"}),(0,ct.jsx)(en,{children:"Status"}),(0,ct.jsx)(en,{className:"text-center",children:"Photo"})]})}),(0,ct.jsx)(Xr,{children:o.map((e,t)=>(0,ct.jsxs)(Zr,{className:e.user_id===(null===n||void 0===n?void 0:n.member_id)?"bg-blue-50":"",children:[(0,ct.jsx)(tn,{children:f(e.rank||t+1,e)}),(0,ct.jsx)(tn,{children:(0,ct.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ct.jsx)(un,{src:e.profile_photo_url,alt:"".concat(e.first_name," ").concat(e.last_name),size:"sm"}),(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("div",{className:"font-semibold text-gray-900",children:[e.first_name," ",e.last_name,e.user_id===(null===n||void 0===n?void 0:n.member_id)&&(0,ct.jsx)("span",{className:"ml-2 text-xs text-blue-600",children:"(You)"})]}),(0,ct.jsx)("div",{className:"text-xs text-gray-500",children:e.club})]})]})}),(0,ct.jsx)(tn,{children:(0,ct.jsx)("span",{className:e.hole_in_one?"font-bold text-yellow-600":"font-semibold",children:p(e.distance_from_pin_inches)})}),(0,ct.jsx)(tn,{children:null!==e.score_on_hole&&void 0!==e.score_on_hole?(0,ct.jsx)(Ua,{variant:1===e.score_on_hole?"success":"default",children:e.score_on_hole}):"--"}),(0,ct.jsx)(tn,{children:b(e)}),(0,ct.jsx)(tn,{className:"text-center",children:e.photo_url?(0,ct.jsxs)("a",{href:e.photo_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-indigo-600 hover:text-indigo-800",children:[(0,ct.jsx)(Dt,{className:"w-4 h-4"}),e.photo_verified&&(0,ct.jsx)(Ks,{className:"w-3 h-3 text-green-600"})]}):(0,ct.jsx)("span",{className:"text-gray-400",children:"--"})})]},e.id))})]})})]})]})},Uf=()=>{var e;const[t,r]=(0,a.useState)("current"),[n,l]=(0,a.useState)([]),[i,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(null),[u,m]=(0,a.useState)([]),[x,h]=(0,a.useState)(null),[p,g]=(0,a.useState)([]),[f,b]=(0,a.useState)(!1),[v,y]=(0,a.useState)(!1),[j,N]=(0,a.useState)(null),[w,_]=(0,a.useState)(!1),[k,S]=(0,a.useState)(!1),[C,A]=(0,a.useState)(!1),[E,T]=(0,a.useState)(null),[P,D]=(0,a.useState)(!1),[M,R]=(0,a.useState)(null),[L,F]=(0,a.useState)(""),[O,I]=(0,a.useState)(""),[z,B]=(0,a.useState)(""),[U,H]=(0,a.useState)({challenge_name:"",designated_hole:1,entry_fee:5,reup_fee:3,week_start_date:"",week_end_date:"",course_id:"",challenge_type_id:"",required_distance_yards:""}),[W,q]=(0,a.useState)(!1),[V,G]=(0,a.useState)(!1),[Y,$]=(0,a.useState)(!0),[Q,K]=(0,a.useState)(!0),[J,X]=(0,a.useState)({pin_day:"Thursday",attempts_per_hole:3,selected_options:[],mode:"par3-holes",tee_type:"White"}),[Z,ee]=(0,a.useState)({instructions:"",platforms:["GSPro","Trackman"],gsproSettings:{pins:"Friday",putting:"No Gimme",elevation:"Course",stimp:"11",mulligan:"No",gameplay:"Force Realistic",fairway_firmness:"Normal",green_firmness:"Normal",wind:"None",teebox:"Blue"},trackmanSettings:{pins:"Medium",putting:"No Gimme",stimp:"11",fairway_firmness:"Medium",green_firmness:"Medium",wind:"Calm"},prize1stUrl:"",prize2ndUrl:"",prize3rdUrl:""}),[te,se]=(0,a.useState)({first:!1,second:!1,third:!1}),[ae,re]=(0,a.useState)([]),[ne,le]=(0,a.useState)(null),[ie,oe]=(0,a.useState)([]),[ce,de]=(0,a.useState)([]),[ue,me]=(0,a.useState)(""),[xe,he]=(0,a.useState)(!1),[pe,ge]=(0,a.useState)([]),[fe,be]=(0,a.useState)(null),[ve,ye]=(0,a.useState)(""),[je,Ne]=(0,a.useState)("");(0,a.useEffect)(()=>{we()},[t]),(0,a.useEffect)(()=>{(async()=>{try{const e=await(0,tt.B9o)(void 0,void 0,1e4);de(e.data.courses||[])}catch(e){console.error("Error fetching simulator courses:",e)}})()},[]),(0,a.useEffect)(()=>{(async()=>{if(W)try{const e=await(0,tt.hcu)();re(e.data)}catch(e){console.error("Error fetching CTP-eligible courses:",e),_s.error("Failed to load CTP-eligible courses")}})()},[W]),(0,a.useEffect)(()=>{(async()=>{if(W&&fe&&fe.id)try{const e=await(0,tt.E6Y)(fe.id);le(e.data)}catch(e){console.error("Error fetching course hole details:",e),_s.error("Failed to load course hole details")}})()},[W,fe]),(0,a.useEffect)(()=>{if(!ne||!ne.holes)return void oe([]);const e=[],t=["Black","Blue","White","Yellow","Green","Red","Junior","Par3"];ne.holes.forEach(s=>{t.forEach(t=>{var a,r;const n=null===(a=s.tees)||void 0===a?void 0:a[t],l=null===(r=s.pins)||void 0===r?void 0:r[J.pin_day];if(n&&l){const a=n.x-l.x,r=n.z-l.z,i=Math.round(1.09361*Math.sqrt(a*a+r*r));e.push({id:"hole-".concat(s.hole,"-").concat(t.toLowerCase()),hole:s.hole,par:s.par,teeType:t,pinDay:J.pin_day,distanceYards:i,teePos:n,pinPos:l})}})}),e.sort((e,t)=>e.distanceYards-t.distanceYards),oe(e)},[ne,J.pin_day]),(0,a.useEffect)(()=>{if(ue.trim()){const e=(W?ae:ce).filter(e=>e.name.toLowerCase().includes(ue.toLowerCase())||e.location&&e.location.toLowerCase().includes(ue.toLowerCase()));ge(e)}else ge([])},[ue,ce,ae,W]),(0,a.useEffect)(()=>{const e=e=>{e.target.closest(".course-dropdown-container")||he(!1)};if(xe)return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[xe]);const we=async()=>{b(!0);try{const[e,s,a,r]=await Promise.all([(0,tt.fvp)({status:"history"===t?"completed":"active"}),(0,tt.ZjX)(),(0,tt.FcG)(),(0,tt.NIO)().catch(()=>({data:null}))]);l(e.data),o(s.data),m(a.data),r.data&&d(r.data),e.data.length>0&&"current"===t&&_e(e.data[0],!1)}catch(e){console.error("Error loading data:",e),_s.error("Failed to load challenge data")}finally{b(!1)}},_e=async function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];h(e);try{const s=await(0,tt.wlU)(e.id);g(s.data),t&&r("entries")}catch(s){console.error("Error loading entries:",s),_s.error("Failed to load entries")}},ke=async(e,t)=>{try{se((0,Re.A)((0,Re.A)({},te),{},{[t]:!0})),_s.info("Uploading prize photo...",{autoClose:1e3});const s=await(0,tt.aWC)(e,t),a="first"===t?"prize1stUrl":"second"===t?"prize2ndUrl":"prize3rdUrl";ee((0,Re.A)((0,Re.A)({},Z),{},{[a]:s.data.photoUrl})),_s.success("Prize photo uploaded successfully!")}catch(r){var s,a;console.error("Error uploading prize photo:",r),_s.error((null===(s=r.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.error)||"Failed to upload prize photo")}finally{se((0,Re.A)((0,Re.A)({},te),{},{[t]:!1}))}},Se=e=>{const t="first"===e?"prize1stUrl":"second"===e?"prize2ndUrl":"prize3rdUrl";ee((0,Re.A)((0,Re.A)({},Z),{},{[t]:""}))},Ce=e=>{if(void 0===e||null===e)return"--";if(0===e)return"Hole-in-One!";const t=Math.floor(e/12),s=e%12;return"".concat(t,"' ").concat(s,'"')};return(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)(Pa,{children:[(0,ct.jsx)(Da,{children:(0,ct.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,ct.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ct.jsx)("div",{className:"bg-yellow-500 p-2 sm:p-3 rounded-lg",children:(0,ct.jsx)(qe,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h2",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:"Challenge Admin"}),(0,ct.jsx)("p",{className:"text-xs sm:text-sm text-gray-600",children:"Manage weekly challenges"})]})]}),(0,ct.jsxs)(pa,{variant:"primary",size:"sm",responsive:!0,onClick:()=>{N(null),H({challenge_name:"",designated_hole:1,entry_fee:5,reup_fee:3,week_start_date:"",week_end_date:"",course_id:"",challenge_type_id:"",required_distance_yards:""}),G(!1),q(!1),$(!0),K(!0),ee({instructions:"",platforms:["GSPro","Trackman"],gsproSettings:{pins:"Friday",putting:"No Gimme",elevation:"Course",stimp:"11",mulligan:"No",gameplay:"Force Realistic",fairway_firmness:"Normal",green_firmness:"Normal",wind:"None",teebox:"Blue"},trackmanSettings:{pins:"Medium",putting:"No Gimme",stimp:"11",fairway_firmness:"Medium",green_firmness:"Medium",wind:"Calm"},prize1stUrl:"",prize2ndUrl:"",prize3rdUrl:""}),X({pin_day:"Thursday",attempts_per_hole:3,selected_options:[],mode:"par3-holes",tee_type:"White"}),be(null),me(""),le(null),oe([]),y(!0)},children:[(0,ct.jsx)(Gt,{className:"w-4 h-4 mr-1 sm:mr-2"}),"Create"]})]})}),(0,ct.jsx)(Ma,{})]}),(0,ct.jsxs)(Pa,{children:[(0,ct.jsx)(Ur,{tabs:[{label:"Current Challenge",id:"current"},{label:"Entries",id:"entries"},{label:"History",id:"history"}],value:t,onChange:e=>r(e)}),(0,ct.jsx)(Ma,{children:f?(0,ct.jsx)(mn,{text:"Loading..."}):(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)(Hr,{value:"current",activeValue:t,children:0===n.length?(0,ct.jsx)(sr,{icon:qe,title:"No Active Challenge",description:"Create a new challenge to get started"}):(0,ct.jsx)("div",{className:"space-y-4",children:n.map(e=>(0,ct.jsx)("div",{className:"border rounded-lg p-4 hover:bg-gray-50 cursor-pointer",onClick:()=>_e(e),children:(0,ct.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3",children:[(0,ct.jsxs)("div",{className:"flex-1",children:[(0,ct.jsx)("h3",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:e.challenge_name}),(0,ct.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-4 mt-2 sm:mt-3 text-xs sm:text-sm",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-gray-600",children:"Hole:"}),(0,ct.jsx)("span",{className:"ml-1 sm:ml-2 font-semibold",children:e.designated_hole})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-gray-600",children:"Entries:"}),(0,ct.jsx)("span",{className:"ml-1 sm:ml-2 font-semibold",children:e.total_entries})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-gray-600",children:"Pending Review:"}),(0,ct.jsx)("span",{className:"ml-1 sm:ml-2 font-semibold ".concat((e.pending_verification_count||0)>0?"text-orange-600":"text-gray-900"),children:e.pending_verification_count||0})]}),(0,ct.jsx)("div",{children:(0,ct.jsx)(Ua,{variant:"active"===e.status?"success":"default",children:e.status})})]})]}),"active"===e.status&&(0,ct.jsxs)("div",{className:"flex gap-2 self-end sm:self-start",children:[(0,ct.jsx)(pa,{variant:"secondary",size:"xs",responsive:!0,onClick:t=>{t.stopPropagation(),(e=>{var t,s,a,r,n,l,i,o,c,d,u,m,x,h,p,g,f,b,v;N(e),H({challenge_name:e.challenge_name,designated_hole:e.designated_hole,entry_fee:e.entry_fee||0,reup_fee:e.reup_fee||0,week_start_date:e.week_start_date.split("T")[0],week_end_date:e.week_end_date.split("T")[0],course_id:(null===(t=e.course_id)||void 0===t?void 0:t.toString())||"",challenge_type_id:(null===(s=e.challenge_type_id)||void 0===s?void 0:s.toString())||"",required_distance_yards:(null===(a=e.required_distance_yards)||void 0===a?void 0:a.toString())||""}),ee({instructions:e.instructions||"",platforms:e.platforms||["GSPro","Trackman"],gsproSettings:{pins:(null===(r=e.gspro_settings)||void 0===r?void 0:r.pins)||"Friday",putting:(null===(n=e.gspro_settings)||void 0===n?void 0:n.putting)||"No Gimme",elevation:(null===(l=e.gspro_settings)||void 0===l?void 0:l.elevation)||"Course",stimp:(null===(i=e.gspro_settings)||void 0===i?void 0:i.stimp)||"11",mulligan:(null===(o=e.gspro_settings)||void 0===o?void 0:o.mulligan)||"No",gameplay:(null===(c=e.gspro_settings)||void 0===c?void 0:c.gameplay)||"Force Realistic",fairway_firmness:(null===(d=e.gspro_settings)||void 0===d?void 0:d.fairway_firmness)||"Normal",green_firmness:(null===(u=e.gspro_settings)||void 0===u?void 0:u.green_firmness)||"Normal",wind:(null===(m=e.gspro_settings)||void 0===m?void 0:m.wind)||"None",teebox:(null===(x=e.gspro_settings)||void 0===x?void 0:x.teebox)||"Blue"},trackmanSettings:{pins:(null===(h=e.trackman_settings)||void 0===h?void 0:h.pins)||"Medium",putting:(null===(p=e.trackman_settings)||void 0===p?void 0:p.putting)||"No Gimme",stimp:(null===(g=e.trackman_settings)||void 0===g?void 0:g.stimp)||"11",fairway_firmness:(null===(f=e.trackman_settings)||void 0===f?void 0:f.fairway_firmness)||"Medium",green_firmness:(null===(b=e.trackman_settings)||void 0===b?void 0:b.green_firmness)||"Medium",wind:(null===(v=e.trackman_settings)||void 0===v?void 0:v.wind)||"Calm"},prize1stUrl:e.prize_1st_image_url||"",prize2ndUrl:e.prize_2nd_image_url||"",prize3rdUrl:e.prize_3rd_image_url||""}),e.course_name&&(me(e.course_name),be({id:e.course_id,name:e.course_name}));const j=e.platforms||["GSPro","Trackman"];$(j.includes("GSPro")),K(j.includes("Trackman")),G(0===Number(e.entry_fee||0)),y(!0)})(e)},children:(0,ct.jsx)(Rn,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),(0,ct.jsx)(pa,{variant:"danger",size:"xs",responsive:!0,onClick:t=>{t.stopPropagation(),h(e),_(!0)},children:"Finalize"}),(0,ct.jsx)(pa,{variant:"secondary",size:"xs",responsive:!0,onClick:t=>{t.stopPropagation(),h(e),S(!0)},children:(0,ct.jsx)(Tn,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]})]})},e.id))})}),(0,ct.jsx)(Hr,{value:"entries",activeValue:t,children:x?0===p.length?(0,ct.jsx)(sr,{icon:Ye,title:"No Entries Yet",description:"Waiting for players to enter the challenge"}):(0,ct.jsx)("div",{className:"space-y-3 sm:space-y-4",children:p.map(e=>(0,ct.jsxs)("div",{className:"border rounded-lg p-3 sm:p-4",children:[(0,ct.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 sm:gap-0 mb-3",children:[(0,ct.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,ct.jsx)(un,{src:e.profile_photo_url,alt:"".concat(e.first_name," ").concat(e.last_name),size:"sm"}),(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("div",{className:"font-semibold text-sm sm:text-base",children:[e.first_name," ",e.last_name]}),(0,ct.jsx)("div",{className:"text-xs text-gray-500",children:e.club})]})]}),(0,ct.jsxs)("div",{className:"text-left sm:text-right ml-9 sm:ml-0",children:[e.best_shot?(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-xs sm:text-sm text-gray-500",children:"Best: "}),(0,ct.jsx)("span",{className:"font-bold text-sm sm:text-base ".concat(e.best_shot.is_hole_in_one?"text-yellow-600":"text-green-600"),children:e.best_shot.is_hole_in_one?"ACE!":Ce(e.best_shot.distance_from_pin_inches)})]}):(0,ct.jsx)("span",{className:"text-gray-400 text-sm",children:"No shots"}),e.total_shots>0&&(0,ct.jsxs)("div",{className:"text-xs text-gray-500",children:[e.verified_shots,"/",e.total_shots," verified"]})]})]}),e.groups&&e.groups.length>0&&(0,ct.jsx)("div",{className:"space-y-2 sm:space-y-3",children:e.groups.map(e=>(0,ct.jsxs)("div",{className:"bg-gray-50 rounded-lg p-2 sm:p-3",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ct.jsxs)("span",{className:"font-medium text-xs sm:text-sm",children:["Group ",e.group_number]}),e.group_screenshot_url&&(0,ct.jsxs)("a",{href:(0,If.Lo)(e.group_screenshot_url),target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:text-indigo-800 text-xs",children:[(0,ct.jsx)(Dt,{className:"w-3 h-3 inline mr-1"}),"Screenshot"]})]}),e.shots&&e.shots.length>0?(0,ct.jsx)("div",{className:"space-y-1.5 sm:space-y-2",children:e.shots.map(e=>(0,ct.jsxs)("div",{className:"flex items-center justify-between p-1.5 sm:p-2 rounded ".concat(e.verified?"bg-green-50":"bg-yellow-50"),children:[(0,ct.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,ct.jsxs)("span",{className:"text-[10px] sm:text-xs text-gray-500",children:["#",e.shot_number,":"]}),(0,ct.jsx)("span",{className:"font-medium text-xs sm:text-sm ".concat(e.is_hole_in_one?"text-yellow-600":""),children:e.is_hole_in_one?"HIO!":Ce(e.distance_from_pin_inches)})]}),(0,ct.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,ct.jsx)(Ua,{variant:e.verified?"success":"warning",className:"text-[10px] sm:text-xs",children:e.verified?"OK":"Pending"}),!e.verified&&(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)(pa,{variant:"primary",size:"xs",onClick:()=>{R(e);const t=e.distance_from_pin_inches||0,s=Math.floor(t/12),a=t%12;F(s.toString()),I(a.toString()),B(""),D(!0)},children:(0,ct.jsx)(Rn,{className:"w-3 h-3"})}),(0,ct.jsx)(pa,{variant:"success",size:"xs",onClick:async()=>{try{const{verifyShot:t}=await Promise.resolve().then(s.bind(s,6291));await t(x.id,e.id),_s.success("Shot verified!"),_e(x,!1)}catch(t){_s.error("Failed to verify shot")}},children:(0,ct.jsx)(Ks,{className:"w-3 h-3"})})]})]})]},e.id))}):(0,ct.jsx)("p",{className:"text-xs text-gray-400",children:"No shots submitted yet"})]},e.id))}),!e.groups&&(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsx)("div",{children:(0,ct.jsx)("span",{className:"text-sm ".concat(e.hole_in_one?"font-bold text-yellow-600":""),children:Ce(e.distance_from_pin_inches)})}),(0,ct.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,ct.jsx)(Ua,{variant:"winner"===e.status||"verified"===e.status?"success":"submitted"===e.status?"info":"warning",className:"text-xs",children:e.status}),!e.distance_verified&&(0,ct.jsx)(pa,{variant:"primary",size:"xs",onClick:()=>{var t;T(e),ye((null===(t=e.distance_from_pin_inches)||void 0===t?void 0:t.toString())||""),A(!0)},children:(0,ct.jsx)(Rn,{className:"w-3 h-3"})})]})]})]},e.id))}):(0,ct.jsx)(sr,{icon:Ye,title:"No Challenge Selected",description:"Select a challenge to view entries"})}),(0,ct.jsx)(Hr,{value:"history",activeValue:t,children:0===n.length?(0,ct.jsx)(sr,{icon:qe,title:"No Completed Challenges",description:"Completed challenges will appear here"}):(0,ct.jsx)("div",{className:"space-y-3 sm:space-y-4",children:n.map(e=>(0,ct.jsxs)("div",{className:"border rounded-lg p-3 sm:p-4",children:[(0,ct.jsx)("h3",{className:"font-semibold text-gray-900 text-sm sm:text-base mb-2",children:e.challenge_name}),(0,ct.jsx)("div",{className:"grid grid-cols-2 gap-2 sm:gap-4 text-xs sm:text-sm",children:(0,ct.jsxs)("div",{children:[(0,ct.jsx)("span",{className:"text-gray-600",children:"Type:"}),(0,ct.jsx)("span",{className:"ml-1 sm:ml-2 font-semibold",children:e.has_hole_in_one?"HIO":"CTP"})]})})]},e.id))})})]})})]}),v&&(0,ct.jsx)(Mr,{open:!0,onClose:()=>{y(!1),N(null)},size:"md",children:(0,ct.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=!!j;try{const e={challenge_name:U.challenge_name,designated_hole:U.designated_hole,entry_fee:U.entry_fee,reup_fee:U.reup_fee,week_start_date:U.week_start_date,week_end_date:U.week_end_date,course_id:U.course_id?parseInt(U.course_id):void 0,challenge_type_id:U.challenge_type_id?parseInt(U.challenge_type_id):void 0,required_distance_yards:U.required_distance_yards?parseInt(U.required_distance_yards):void 0};if(W){e.is_ctp_challenge=!0,e.ctp_pin_day=J.pin_day,e.ctp_attempts_per_hole=J.attempts_per_hole;const t=ie.filter(e=>J.selected_options.includes(e.id)).map(e=>({hole:e.hole,par:e.par,teeType:e.teeType,distance:e.distanceYards,teePos:e.teePos,pinPos:e.pinPos}));e.ctp_holes_config=t,e.sim_id="nn-no5"}Z.instructions&&(e.instructions=Z.instructions);const s=[];Y&&s.push("GSPro"),Q&&s.push("Trackman"),s.length>0&&(e.platforms=s),Y&&(e.gspro_settings=Z.gsproSettings),Q&&(e.trackman_settings=Z.trackmanSettings),Z.prize1stUrl&&(e.prize_1st_image_url=Z.prize1stUrl),Z.prize2ndUrl&&(e.prize_2nd_image_url=Z.prize2ndUrl),Z.prize3rdUrl&&(e.prize_3rd_image_url=Z.prize3rdUrl),t?(await(0,tt.Vq_)(j.id,e),_s.success("Challenge updated successfully!")):(await(0,tt.ONX)(e),_s.success("Challenge created successfully!")),y(!1),N(null),we(),H({challenge_name:"",designated_hole:1,entry_fee:5,reup_fee:3,week_start_date:"",week_end_date:"",course_id:"",challenge_type_id:"",required_distance_yards:""}),G(!1),q(!1),$(!0),K(!0),ee({instructions:"",platforms:["GSPro","Trackman"],gsproSettings:{pins:"Friday",putting:"No Gimme",elevation:"Course",stimp:"11",mulligan:"No",gameplay:"Force Realistic",fairway_firmness:"Normal",green_firmness:"Normal",wind:"None",teebox:"Blue"},trackmanSettings:{pins:"Medium",putting:"No Gimme",stimp:"11",fairway_firmness:"Medium",green_firmness:"Medium",wind:"Calm"},prize1stUrl:"",prize2ndUrl:"",prize3rdUrl:""}),X({pin_day:"Thursday",attempts_per_hole:3,selected_options:[],mode:"par3-holes",tee_type:"White"}),be(null),me(""),le(null),oe([])}catch(r){var s,a;console.error("Error ".concat(t?"updating":"creating"," challenge:"),r),_s.error((null===(s=r.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.error)||"Failed to ".concat(t?"update":"create"," challenge"))}},className:"flex flex-col overflow-hidden h-full",children:[(0,ct.jsx)(Rr,{children:j?"Edit Challenge":"Create New Challenge"}),(0,ct.jsx)(Lr,{children:(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Challenge Type"}),(0,ct.jsxs)("select",{value:U.challenge_type_id,onChange:e=>{const t=e.target.value,s=u.find(e=>e.id.toString()===t);H((0,Re.A)((0,Re.A)({},U),{},{challenge_type_id:t,entry_fee:s?Number(s.default_entry_fee):5,reup_fee:s?Number(s.default_reup_fee):3}))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[(0,ct.jsx)("option",{value:"",children:"Select a challenge type..."}),u.map(e=>(0,ct.jsx)("option",{value:e.id,children:e.type_name},e.id))]}),U.challenge_type_id&&(0,ct.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:null===(e=u.find(e=>e.id.toString()===U.challenge_type_id))||void 0===e?void 0:e.description})]}),(0,ct.jsxs)("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-4",children:[(0,ct.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,ct.jsx)("input",{type:"checkbox",checked:W,onChange:e=>{if(q(e.target.checked),e.target.checked){const e=u.find(e=>"ctp-auto"===e.type_key);e&&H((0,Re.A)((0,Re.A)({},U),{},{challenge_type_id:e.id.toString(),entry_fee:Number(e.default_entry_fee),reup_fee:Number(e.default_reup_fee)}))}},className:"w-4 h-4 text-indigo-600 rounded focus:ring-2 focus:ring-indigo-500"}),(0,ct.jsx)("span",{className:"ml-3 text-sm font-medium text-indigo-900",children:"Automated CTP Challenge (Simulator)"})]}),(0,ct.jsx)("p",{className:"mt-2 text-xs text-indigo-700",children:"Enable for automated shot capture from simulator. Challenges will be available as custom rounds in GSPro."})]}),(0,ct.jsx)(vr,{label:"Challenge Name",value:U.challenge_name,onChange:e=>H((0,Re.A)((0,Re.A)({},U),{},{challenge_name:e.target.value})),required:!0,placeholder:W?"Saturday CTP Challenge":"Week 1 Five-Shot Challenge"}),(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Course ",W?(0,ct.jsx)("span",{className:"text-red-500",children:"*"}):(0,ct.jsx)("span",{className:"text-xs text-gray-500",children:"(Optional)"})]}),(0,ct.jsxs)("div",{className:"relative course-dropdown-container",children:[(0,ct.jsx)("div",{className:"flex items-center space-x-2",children:(0,ct.jsxs)("div",{className:"flex-1 relative",children:[(0,ct.jsx)("input",{type:"text",value:ue,onChange:e=>{return t=e.target.value,me(t),he(!0),void(t||(be(null),H((0,Re.A)((0,Re.A)({},U),{},{course_id:""}))));var t},onFocus:()=>he(!0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Search for a course..."}),ue&&(0,ct.jsx)("button",{type:"button",onClick:()=>{be(null),me(""),H((0,Re.A)((0,Re.A)({},U),{},{course_id:""})),he(!1)},className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:(0,ct.jsx)(nr,{className:"w-4 h-4"})})]})}),xe&&(pe.length>0||ue)&&(0,ct.jsx)("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:pe.length>0?pe.map(e=>(0,ct.jsx)("button",{type:"button",onClick:()=>(e=>{be(e),H((0,Re.A)((0,Re.A)({},U),{},{course_id:e.id.toString()})),me(e.name),he(!1)})(e),className:"w-full px-4 py-3 text-left hover:bg-indigo-50 border-b border-gray-100 last:border-b-0",children:(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{className:"flex-1",children:[(0,ct.jsx)("div",{className:"font-medium text-gray-900",children:e.name}),e.location&&(0,ct.jsx)("div",{className:"text-sm text-gray-500",children:e.location})]}),W&&!e.ctp_ready&&(0,ct.jsx)("span",{className:"ml-2 px-2 py-1 text-xs bg-yellow-100 text-yellow-800 rounded",children:"Needs Sync"})]})},e.id)):ue?(0,ct.jsx)("div",{className:"px-4 py-3 text-gray-500 text-sm",children:"No courses found"}):null}),W&&fe&&!fe.ctp_ready&&(0,ct.jsx)("div",{className:"mt-2 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,ct.jsxs)("p",{className:"text-xs text-yellow-800",children:[(0,ct.jsx)("strong",{children:"\u26a0\ufe0f Course needs hole data sync:"})," This course doesn't have detailed tee/pin position data yet. The sim PC needs to sync this course's .gspcrse file data before CTP challenges can be created. You can select it now, but the challenge won't be fully configured until the data is synced."]})})]})]}),W&&(0,ct.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 space-y-4",children:[(0,ct.jsx)("h4",{className:"font-medium text-gray-900",children:"CTP Configuration"}),(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Challenge Mode ",(0,ct.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ct.jsxs)("select",{value:J.mode,onChange:e=>X((0,Re.A)((0,Re.A)({},J),{},{mode:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0,children:[(0,ct.jsx)("option",{value:"par3-holes",children:"Par 3 Holes Only"}),(0,ct.jsx)("option",{value:"par3-tees",children:"All Holes from Par 3 Tees"})]}),(0,ct.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"par3-holes"===J.mode?"Play only the par 3 holes on this course":"Play all 18 holes from the par 3 tee boxes"})]}),(0,ct.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:["par3-holes"===J.mode&&(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Tee Type ",(0,ct.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ct.jsxs)("select",{value:J.tee_type,onChange:e=>X((0,Re.A)((0,Re.A)({},J),{},{tee_type:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0,children:[(0,ct.jsx)("option",{value:"Black",children:"Black Tees"}),(0,ct.jsx)("option",{value:"Blue",children:"Blue Tees"}),(0,ct.jsx)("option",{value:"White",children:"White Tees"}),(0,ct.jsx)("option",{value:"Yellow",children:"Yellow Tees"}),(0,ct.jsx)("option",{value:"Green",children:"Green Tees"}),(0,ct.jsx)("option",{value:"Red",children:"Red Tees"}),(0,ct.jsx)("option",{value:"Junior",children:"Junior Tees"})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Pin Position ",(0,ct.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ct.jsxs)("select",{value:J.pin_day,onChange:e=>X((0,Re.A)((0,Re.A)({},J),{},{pin_day:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0,children:[(0,ct.jsx)("option",{value:"Thursday",children:"Thursday"}),(0,ct.jsx)("option",{value:"Friday",children:"Friday"}),(0,ct.jsx)("option",{value:"Saturday",children:"Saturday"}),(0,ct.jsx)("option",{value:"Sunday",children:"Sunday"})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Attempts Per Hole ",(0,ct.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,ct.jsx)("input",{type:"number",min:"1",max:"5",value:J.attempts_per_hole,onChange:e=>X((0,Re.A)((0,Re.A)({},J),{},{attempts_per_hole:parseInt(e.target.value)||3})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]})]}),ne&&ne.holes&&ne.holes.length>0&&(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Holes Preview"}),(0,ct.jsx)("div",{className:"bg-white rounded-lg border border-gray-300 p-3 max-h-48 overflow-y-auto",children:(0,ct.jsx)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:ne.holes.map((e,t)=>{var s,a;const r="par3-tees"===J.mode?"Par3":J.tee_type,n=null===(s=e.tees)||void 0===s?void 0:s[r],l=null===(a=e.pins)||void 0===a?void 0:a[J.pin_day];let i=0;if(n&&l){const e=n.x-l.x,t=n.z-l.z;i=Math.round(1.09361*Math.sqrt(e*e+t*t))}return(0,ct.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[(0,ct.jsxs)("span",{className:"font-medium",children:["Hole ",e.hole]}),(0,ct.jsxs)("span",{className:"text-gray-600",children:["Par ",e.par," \u2022 ",i||"?"," yds"]})]},t)})})}),(0,ct.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"par3-holes"===J.mode?"".concat(ne.holes.length," par 3 hole").concat(1!==ne.holes.length?"s":""," available"):"18 holes from par 3 tees"})]}),ie.length>0&&(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Available Par 3 Options ",(0,ct.jsx)("span",{className:"text-red-500",children:"*"}),(0,ct.jsx)("span",{className:"ml-2 text-xs text-gray-500 font-normal",children:"(sorted by distance)"})]}),(0,ct.jsx)("div",{className:"bg-white rounded-lg border border-gray-300 max-h-64 overflow-y-auto",children:(0,ct.jsxs)("table",{className:"w-full text-sm",children:[(0,ct.jsx)("thead",{className:"bg-gray-50 sticky top-0",children:(0,ct.jsxs)("tr",{children:[(0,ct.jsx)("th",{className:"px-3 py-2 text-left w-12"}),(0,ct.jsx)("th",{className:"px-3 py-2 text-left",children:"Hole"}),(0,ct.jsx)("th",{className:"px-3 py-2 text-left",children:"Tees"}),(0,ct.jsx)("th",{className:"px-3 py-2 text-left",children:"Par"}),(0,ct.jsx)("th",{className:"px-3 py-2 text-right",children:"Yards"})]})}),(0,ct.jsx)("tbody",{className:"divide-y divide-gray-200",children:ie.map(e=>(0,ct.jsxs)("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>{const t=J.selected_options.includes(e.id);X((0,Re.A)((0,Re.A)({},J),{},{selected_options:t?J.selected_options.filter(t=>t!==e.id):[...J.selected_options,e.id]}))},children:[(0,ct.jsx)("td",{className:"px-3 py-2",children:(0,ct.jsx)("input",{type:"checkbox",checked:J.selected_options.includes(e.id),onChange:()=>{},className:"w-4 h-4 text-indigo-600 rounded"})}),(0,ct.jsxs)("td",{className:"px-3 py-2 font-medium",children:["#",e.hole]}),(0,ct.jsx)("td",{className:"px-3 py-2",children:(0,ct.jsx)("span",{className:"inline-block px-2 py-1 text-xs rounded ".concat("Par3"===e.teeType?"bg-purple-100 text-purple-800":"Black"===e.teeType?"bg-gray-800 text-white":"Blue"===e.teeType?"bg-blue-100 text-blue-800":"White"===e.teeType?"bg-gray-100 text-gray-800":"Yellow"===e.teeType?"bg-yellow-100 text-yellow-800":"Green"===e.teeType?"bg-green-100 text-green-800":"Red"===e.teeType?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:e.teeType})}),(0,ct.jsx)("td",{className:"px-3 py-2",children:e.par}),(0,ct.jsx)("td",{className:"px-3 py-2 text-right font-semibold",children:e.distanceYards})]},e.id))})]})}),(0,ct.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:[J.selected_options.length," option",1!==J.selected_options.length?"s":""," selected"]})]}),0===ie.length&&fe&&fe.ctp_ready&&(0,ct.jsx)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,ct.jsx)("p",{className:"text-xs text-blue-800",children:"No par 3 options available for the selected pin position. Try selecting a different pin day."})})]}),!W&&(0,ct.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ct.jsx)(vr,{label:"Designated Hole",type:"number",min:"1",max:"18",value:U.designated_hole,onChange:e=>H((0,Re.A)((0,Re.A)({},U),{},{designated_hole:parseInt(e.target.value)})),required:!0}),(0,ct.jsx)(vr,{label:"Required Distance (yards)",type:"number",min:"50",max:"250",value:U.required_distance_yards,onChange:e=>H((0,Re.A)((0,Re.A)({},U),{},{required_distance_yards:e.target.value})),placeholder:"150"})]}),(0,ct.jsx)("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ct.jsx)(qe,{className:"w-5 h-5 text-blue-600"}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("div",{className:"font-semibold text-gray-900",children:"Free Challenge"}),(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"No entry fee, one entry per member, no re-ups"})]})]}),(0,ct.jsx)(Pr,{checked:V,onChange:e=>{const t=e.target.checked;G(t),H(t?(0,Re.A)((0,Re.A)({},U),{},{entry_fee:0,reup_fee:0}):(0,Re.A)((0,Re.A)({},U),{},{entry_fee:5,reup_fee:3}))},switchSize:"lg"})]})}),(0,ct.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ct.jsx)(vr,{label:"Entry Fee ($)",type:"number",min:"0",step:"0.01",value:U.entry_fee,onChange:e=>H((0,Re.A)((0,Re.A)({},U),{},{entry_fee:parseFloat(e.target.value)})),disabled:V,required:!0}),(0,ct.jsx)(vr,{label:"Re-up Fee ($)",type:"number",min:"0",step:"0.01",value:U.reup_fee,onChange:e=>H((0,Re.A)((0,Re.A)({},U),{},{reup_fee:parseFloat(e.target.value)})),disabled:V,required:!0})]}),(0,ct.jsx)(vr,{label:"Week Start Date",type:"date",value:U.week_start_date,onChange:e=>H((0,Re.A)((0,Re.A)({},U),{},{week_start_date:e.target.value})),required:!0}),(0,ct.jsx)(vr,{label:"Week End Date",type:"date",value:U.week_end_date,onChange:e=>H((0,Re.A)((0,Re.A)({},U),{},{week_end_date:e.target.value})),required:!0}),(0,ct.jsxs)("div",{className:"border-t pt-4",children:[(0,ct.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Challenge Settings (Optional)"}),(0,ct.jsx)(yr,{label:"Instructions/Notes",rows:3,value:Z.instructions,onChange:e=>ee((0,Re.A)((0,Re.A)({},Z),{},{instructions:e.target.value})),placeholder:"Add any special instructions or notes for participants..."}),(0,ct.jsxs)("div",{className:"mt-6",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ct.jsx)("h5",{className:"font-semibold text-gray-900",children:"GSPro Settings"}),(0,ct.jsx)(Pr,{checked:Y,onChange:e=>$(e.target.checked),switchSize:"md"})]}),Y&&(0,ct.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Pins"}),(0,ct.jsxs)("select",{value:Z.gsproSettings.pins,onChange:e=>ee((0,Re.A)((0,Re.A)({},Z),{},{gsproSettings:(0,Re.A)((0,Re.A)({},Z.gsproSettings),{},{pins:e.target.value})})),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[(0,ct.jsx)("option",{value:"Friday",children:"Friday"}),(0,ct.jsx)("option",{value:"Saturday",children:"Saturday"}),(0,ct.jsx)("option",{value:"Sunday",children:"Sunday"}),(0,ct.jsx)("option",{value:"Easy",children:"Easy"}),(0,ct.jsx)("option",{value:"Hard",children:"Hard"})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Putting"}),(0,ct.jsxs)("select",{value:Z.gsproSettings.putting,onChange:e=>ee((0,Re.A)((0,Re.A)({},Z),{},{gsproSettings:(0,Re.A)((0,Re.A)({},Z.gsproSettings),{},{putting:e.target.value})})),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[(0,ct.jsx)("option",{value:"No Gimme",children:"No Gimme"}),(0,ct.jsx)("option",{value:"3' Gimme",children:"3' Gimme"}),(0,ct.jsx)("option",{value:"5' Gimme",children:"5' Gimme"}),(0,ct.jsx)("option",{value:"8' Gimme",children:"8' Gimme"}),(0,ct.jsx)("option",{value:"10' Gimme",children:"10' Gimme"})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Elevation"}),(0,ct.jsxs)("select",{value:Z.gsproSettings.elevation,onChange:e=>ee((0,Re.A)((0,Re.A)({},Z),{},{gsproSettings:(0,Re.A)((0,Re.A)({},Z.gsproSettings),{},{elevation:e.target.value})})),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[(0,ct.jsx)("option",{value:"Course",children:"Course"}),(0,ct.jsx)("option",{value:"Off",children:"Off"}),(0,ct.jsx)("option",{value:"High",children:"High"}),(0,ct.jsx)("option",{value:"Low",children:"Low"})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Stimp"}),(0,ct.jsxs)("select",{value:Z.gsproSettings.stimp,onChange:e=>ee((0,Re.A)((0,Re.A)({},Z),{},{gsproSettings:(0,Re.A)((0,Re.A)({},Z.gsproSettings),{},{stimp:e.target.value})})),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[(0,ct.jsx)("option",{value:"8",children:"8"}),(0,ct.jsx)("option",{value:"9",children:"9"}),(0,ct.jsx)("option",{value:"10",children:"10"}),(0,ct.jsx)("option",{value:"11",children:"11"}),(0,ct.jsx)("option",{value:"12",children:"12"}),(0,ct.jsx)("option",{value:"13",children:"13"}),(0,ct.jsx)("option",{value:"14",children:"14"})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Mulligan"}),(0,ct.jsxs)("select",{value:Z.gsproSettings.mulligan,onChange:e=>ee((0,Re.A)((0,Re.A)({},Z),{},{gsproSettings:(0,Re.A)((0,Re.A)({},Z.gsproSettings),{},{mulligan:e.target.value})})),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[(0,ct.jsx)("option",{value:"No",children:"No"}),(0,ct.jsx)("option",{value:"Yes",children:"Yes"}),(0,ct.jsx)("option",{value:"1 per hole",children:"1 per hole"}),(0,ct.jsx)("option",{value:"2 per round",children:"2 per round"})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Game Play"}),(0,ct.jsxs)("select",{value:Z.gsproSettings.gameplay,onChange:e=>ee((0,Re.A)((0,Re.A)({},Z),{},{gsproSettings:(0,Re.A)((0,Re.A)({},Z.gsproSettings),{},{gameplay:e.target.value})})),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[(0,ct.jsx)("option",{value:"Force Realistic",children:"Force Realistic"}),(0,ct.jsx)("option",{value:"Allow Unrealistic",children:"Allow Unrealistic"}),(0,ct.jsx)("option",{value:"Tournament Mode",children:"Tournament Mode"})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Fairway Firmness"}),(0,ct.jsxs)("select",{value:Z.gsproSettings.fairway_firmness,onChange:e=>ee((0,Re.A)((0,Re.A)({},Z),{},{gsproSettings:(0,Re.A)((0,Re.A)({},Z.gsproSettings),{},{fairway_firmness:e.target.value})})),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[(0,ct.jsx)("option",{value:"Normal",children:"Normal"}),(0,ct.jsx)("option",{value:"Soft",children:"Soft"}),(0,ct.jsx)("option",{value:"Firm",children:"Firm"}),(0,ct.jsx)("option",{value:"Very Firm",children:"Very Firm"})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Green Firmness"}),(0,ct.jsxs)("select",{value:Z.gsproSettings.green_firmness,onChange:e=>ee((0,Re.A)((0,Re.A)({},Z),{},{gsproSettings:(0,Re.A)((0,Re.A)({},Z.gsproSettings),{},{green_firmness:e.target.value})})),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[(0,ct.jsx)("option",{value:"Normal",children:"Normal"}),(0,ct.jsx)("option",{value:"Soft",children:"Soft"}),(0,ct.jsx)("option",{value:"Firm",children:"Firm"}),(0,ct.jsx)("option",{value:"Very Firm",children:"Very Firm"})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Wind"}),(0,ct.jsxs)("select",{value:Z.gsproSettings.wind,onChange:e=>ee((0,Re.A)((0,Re.A)({},Z),{},{gsproSettings:(0,Re.A)((0,Re.A)({},Z.gsproSettings),{},{wind:e.target.value})})),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[(0,ct.jsx)("option",{value:"None",children:"None"}),(0,ct.jsx)("option",{value:"Light",children:"Light"}),(0,ct.jsx)("option",{value:"Moderate",children:"Moderate"}),(0,ct.jsx)("option",{value:"Strong",children:"Strong"}),(0,ct.jsx)("option",{value:"Random",children:"Random"})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Tee Box"}),(0,ct.jsxs)("select",{value:Z.gsproSettings.teebox,onChange:e=>ee((0,Re.A)((0,Re.A)({},Z),{},{gsproSettings:(0,Re.A)((0,Re.A)({},Z.gsproSettings),{},{teebox:e.target.value})})),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[(0,ct.jsx)("option",{value:"Black",children:"Black"}),(0,ct.jsx)("option",{value:"Blue",children:"Blue"}),(0,ct.jsx)("option",{value:"White",children:"White"}),(0,ct.jsx)("option",{value:"Yellow",children:"Yellow"}),(0,ct.jsx)("option",{value:"Green",children:"Green"}),(0,ct.jsx)("option",{value:"Red",children:"Red"})]})]})]})]}),(0,ct.jsxs)("div",{className:"mt-6",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ct.jsx)("h5",{className:"font-semibold text-gray-900",children:"Trackman Settings"}),(0,ct.jsx)(Pr,{checked:Q,onChange:e=>K(e.target.checked),switchSize:"md"})]}),Q&&(0,ct.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Pins"}),(0,ct.jsxs)("select",{value:Z.trackmanSettings.pins,onChange:e=>ee((0,Re.A)((0,Re.A)({},Z),{},{trackmanSettings:(0,Re.A)((0,Re.A)({},Z.trackmanSettings),{},{pins:e.target.value})})),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[(0,ct.jsx)("option",{value:"Easy",children:"Easy"}),(0,ct.jsx)("option",{value:"Medium",children:"Medium"}),(0,ct.jsx)("option",{value:"Hard",children:"Hard"})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Putting"}),(0,ct.jsxs)("select",{value:Z.trackmanSettings.putting,onChange:e=>ee((0,Re.A)((0,Re.A)({},Z),{},{trackmanSettings:(0,Re.A)((0,Re.A)({},Z.trackmanSettings),{},{putting:e.target.value})})),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[(0,ct.jsx)("option",{value:"No Gimme",children:"No Gimme"}),(0,ct.jsx)("option",{value:"3' Gimme",children:"3' Gimme"}),(0,ct.jsx)("option",{value:"5' Gimme",children:"5' Gimme"})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Stimp"}),(0,ct.jsxs)("select",{value:Z.trackmanSettings.stimp,onChange:e=>ee((0,Re.A)((0,Re.A)({},Z),{},{trackmanSettings:(0,Re.A)((0,Re.A)({},Z.trackmanSettings),{},{stimp:e.target.value})})),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[(0,ct.jsx)("option",{value:"8",children:"8"}),(0,ct.jsx)("option",{value:"9",children:"9"}),(0,ct.jsx)("option",{value:"10",children:"10"}),(0,ct.jsx)("option",{value:"11",children:"11"}),(0,ct.jsx)("option",{value:"12",children:"12"}),(0,ct.jsx)("option",{value:"13",children:"13"}),(0,ct.jsx)("option",{value:"14",children:"14"})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Fairway Firmness"}),(0,ct.jsxs)("select",{value:Z.trackmanSettings.fairway_firmness,onChange:e=>ee((0,Re.A)((0,Re.A)({},Z),{},{trackmanSettings:(0,Re.A)((0,Re.A)({},Z.trackmanSettings),{},{fairway_firmness:e.target.value})})),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[(0,ct.jsx)("option",{value:"Easy",children:"Easy"}),(0,ct.jsx)("option",{value:"Medium",children:"Medium"}),(0,ct.jsx)("option",{value:"Hard",children:"Hard"})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Green Firmness"}),(0,ct.jsxs)("select",{value:Z.trackmanSettings.green_firmness,onChange:e=>ee((0,Re.A)((0,Re.A)({},Z),{},{trackmanSettings:(0,Re.A)((0,Re.A)({},Z.trackmanSettings),{},{green_firmness:e.target.value})})),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[(0,ct.jsx)("option",{value:"Easy",children:"Easy"}),(0,ct.jsx)("option",{value:"Medium",children:"Medium"}),(0,ct.jsx)("option",{value:"Hard",children:"Hard"})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Wind"}),(0,ct.jsxs)("select",{value:Z.trackmanSettings.wind,onChange:e=>ee((0,Re.A)((0,Re.A)({},Z),{},{trackmanSettings:(0,Re.A)((0,Re.A)({},Z.trackmanSettings),{},{wind:e.target.value})})),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[(0,ct.jsx)("option",{value:"Calm",children:"Calm"}),(0,ct.jsx)("option",{value:"Light",children:"Light"}),(0,ct.jsx)("option",{value:"Moderate",children:"Moderate"}),(0,ct.jsx)("option",{value:"Strong",children:"Strong"})]})]})]})]}),(0,ct.jsxs)("div",{className:"mt-4",children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prize Images (Optional)"}),(0,ct.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"1st Place"}),Z.prize1stUrl?(0,ct.jsxs)("div",{className:"relative",children:[(0,ct.jsx)("img",{src:Z.prize1stUrl,alt:"1st Place Prize",className:"w-full h-32 object-cover rounded-lg border-2 border-yellow-400"}),(0,ct.jsx)("button",{type:"button",onClick:()=>Se("first"),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:(0,ct.jsx)(Qe,{className:"w-3 h-3"})})]}):(0,ct.jsxs)("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[(0,ct.jsx)("input",{type:"file",accept:"image/*",className:"hidden",disabled:te.first,onChange:e=>{var t;const s=null===(t=e.target.files)||void 0===t?void 0:t[0];s&&ke(s,"first")}}),te.first?(0,ct.jsx)("div",{className:"text-xs text-gray-500",children:"Uploading..."}):(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)(Pf,{className:"w-6 h-6 text-gray-400 mb-1"}),(0,ct.jsx)("span",{className:"text-xs text-gray-500",children:"Upload"})]})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"2nd Place"}),Z.prize2ndUrl?(0,ct.jsxs)("div",{className:"relative",children:[(0,ct.jsx)("img",{src:Z.prize2ndUrl,alt:"2nd Place Prize",className:"w-full h-32 object-cover rounded-lg border-2 border-gray-400"}),(0,ct.jsx)("button",{type:"button",onClick:()=>Se("second"),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:(0,ct.jsx)(Qe,{className:"w-3 h-3"})})]}):(0,ct.jsxs)("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[(0,ct.jsx)("input",{type:"file",accept:"image/*",className:"hidden",disabled:te.second,onChange:e=>{var t;const s=null===(t=e.target.files)||void 0===t?void 0:t[0];s&&ke(s,"second")}}),te.second?(0,ct.jsx)("div",{className:"text-xs text-gray-500",children:"Uploading..."}):(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)(Pf,{className:"w-6 h-6 text-gray-400 mb-1"}),(0,ct.jsx)("span",{className:"text-xs text-gray-500",children:"Upload"})]})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"3rd Place"}),Z.prize3rdUrl?(0,ct.jsxs)("div",{className:"relative",children:[(0,ct.jsx)("img",{src:Z.prize3rdUrl,alt:"3rd Place Prize",className:"w-full h-32 object-cover rounded-lg border-2 border-orange-600"}),(0,ct.jsx)("button",{type:"button",onClick:()=>Se("third"),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:(0,ct.jsx)(Qe,{className:"w-3 h-3"})})]}):(0,ct.jsxs)("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[(0,ct.jsx)("input",{type:"file",accept:"image/*",className:"hidden",disabled:te.third,onChange:e=>{var t;const s=null===(t=e.target.files)||void 0===t?void 0:t[0];s&&ke(s,"third")}}),te.third?(0,ct.jsx)("div",{className:"text-xs text-gray-500",children:"Uploading..."}):(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)(Pf,{className:"w-6 h-6 text-gray-400 mb-1"}),(0,ct.jsx)("span",{className:"text-xs text-gray-500",children:"Upload"})]})]})]})]})]})]})]})}),(0,ct.jsxs)(Fr,{children:[(0,ct.jsx)(pa,{type:"button",variant:"secondary",size:"sm",responsive:!0,onClick:()=>y(!1),children:"Cancel"}),(0,ct.jsx)(pa,{type:"submit",variant:"primary",size:"sm",responsive:!0,children:"Create"})]})]})}),C&&E&&(0,ct.jsxs)(Mr,{open:!0,onClose:()=>A(!1),size:"md",children:[(0,ct.jsx)(Rr,{children:"Verify Entry"}),(0,ct.jsx)(Lr,{children:(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:["Player: ",(0,ct.jsxs)("strong",{children:[E.first_name," ",E.last_name]})]}),(0,ct.jsxs)("p",{className:"text-sm text-gray-600",children:["Reported Distance: ",(0,ct.jsx)("strong",{children:Ce(E.distance_from_pin_inches)})]})]}),(0,ct.jsx)(vr,{label:"Verified Distance (inches)",type:"number",min:"0",max:"600",value:ve,onChange:e=>ye(e.target.value),required:!0}),(0,ct.jsx)(yr,{label:"Override Reason (if different)",rows:3,value:je,onChange:e=>Ne(e.target.value),placeholder:"Explain any distance adjustments..."})]})}),(0,ct.jsxs)(Fr,{children:[(0,ct.jsx)(pa,{variant:"secondary",size:"sm",responsive:!0,onClick:()=>A(!1),children:"Cancel"}),(0,ct.jsx)(pa,{variant:"primary",size:"sm",responsive:!0,onClick:async()=>{if(!E)return;const e=parseInt(ve)||0;if(e<0||e>600)_s.error("Invalid distance");else try{await(0,tt.Nt4)(E.challenge_id,E.id,{distance_from_pin_inches:e,distance_override_reason:je}),_s.success("Entry verified!"),A(!1),T(null),x&&_e(x)}catch(t){console.error("Error verifying entry:",t),_s.error("Failed to verify entry")}},children:"Verify"})]})]}),P&&M&&(0,ct.jsxs)(Mr,{open:!0,onClose:()=>D(!1),size:"md",children:[(0,ct.jsx)(Rr,{children:"Edit & Verify Shot"}),(0,ct.jsx)(Lr,{children:(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:["Shot #",M.shot_number]}),(0,ct.jsxs)("p",{className:"text-sm text-gray-600",children:["Reported Distance: ",(0,ct.jsx)("strong",{children:Ce(M.distance_from_pin_inches)})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Corrected Distance"}),(0,ct.jsxs)("div",{className:"flex gap-3 items-end",children:[(0,ct.jsx)("div",{className:"flex-1",children:(0,ct.jsx)(vr,{label:"Feet",type:"number",min:"0",max:"100",value:L,onChange:e=>F(e.target.value),required:!0,placeholder:"0"})}),(0,ct.jsx)("div",{className:"flex-1",children:(0,ct.jsx)(vr,{label:"Inches",type:"number",min:"0",max:"11",value:O,onChange:e=>I(e.target.value),required:!0,placeholder:"0"})})]}),(0,ct.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Total: ",12*(parseInt(L)||0)+(parseInt(O)||0)," inches"]})]}),(0,ct.jsx)(yr,{label:"Correction Reason (optional)",rows:3,value:z,onChange:e=>B(e.target.value),placeholder:"Explain why the distance was corrected..."}),(0,ct.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:(0,ct.jsx)("p",{className:"text-xs text-gray-600",children:"This will update the shot distance and mark it as verified. Use this when the photo shows a different distance than what was submitted."})})]})}),(0,ct.jsxs)(Fr,{children:[(0,ct.jsx)(pa,{variant:"secondary",size:"sm",responsive:!0,onClick:()=>D(!1),children:"Cancel"}),(0,ct.jsx)(pa,{variant:"primary",size:"sm",responsive:!0,onClick:async()=>{if(!M||!x)return;const e=parseInt(L)||0,t=parseInt(O)||0;if(e<0||t<0||t>=12)return void _s.error("Invalid distance (inches must be 0-11)");const a=12*e+t;try{const{verifyShot:e}=await Promise.resolve().then(s.bind(s,6291));await e(x.id,M.id,{override_distance_inches:a,override_reason:z||void 0}),_s.success("Shot verified with updated distance!"),D(!1),R(null),F(""),I(""),B(""),_e(x,!1)}catch(r){console.error("Error verifying shot:",r),_s.error("Failed to verify shot")}},children:"Update & Verify"})]})]}),w&&x&&(0,ct.jsx)(Ir,{open:!0,title:"Finalize Challenge?",message:"This will determine the winner. Total entries: ".concat(x.total_entries,". This action cannot be undone."),confirmText:"Finalize",variant:"danger",onConfirm:async()=>{if(x)try{await(0,tt.K6q)(x.id);_s.success("Challenge finalized! Winner determined."),_(!1),we()}catch(s){var e,t;console.error("Error finalizing challenge:",s),_s.error((null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to finalize challenge")}},onClose:()=>_(!1)}),k&&x&&(0,ct.jsx)(Ir,{open:!0,title:"Delete Challenge?",message:'This will permanently delete "'.concat(x.challenge_name,'" and all associated entries, shots, and payments. This action cannot be undone.'),confirmText:"Delete",variant:"danger",onConfirm:async()=>{if(x)try{await(0,tt.TE_)(x.id),_s.success("Challenge deleted successfully"),S(!1),h(null),we()}catch(s){var e,t;console.error("Error deleting challenge:",s),_s.error((null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to delete challenge")}},onClose:()=>S(!1)})]})},Hf=e=>{let{title:t,description:s,children:a}=e;return(0,ct.jsxs)("section",{children:[(0,ct.jsxs)("div",{className:"mb-6",children:[(0,ct.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:t}),(0,ct.jsx)("p",{className:"text-gray-600",children:s})]}),a]})},Wf=e=>{let{title:t,children:s}=e;return(0,ct.jsx)(Pa,{children:(0,ct.jsxs)("div",{className:"p-6",children:[(0,ct.jsx)("h3",{className:"text-sm font-semibold text-gray-700 mb-4 uppercase tracking-wide",children:t}),(0,ct.jsx)("div",{className:"space-y-4",children:s})]})})},qf=()=>{const[e,t]=(0,a.useState)(!1),[s,r]=(0,a.useState)("all"),[n,l]=(0,a.useState)(!1),[i,o]=(0,a.useState)("day"),[c,d]=(0,a.useState)("option1");return If.cA.isDevelopment?(0,ct.jsx)(la,{children:(0,ct.jsxs)("div",{className:"space-y-12",children:[(0,ct.jsxs)("div",{className:"text-center space-y-4",children:[(0,ct.jsx)("div",{className:"inline-block bg-purple-100 text-purple-800 px-4 py-2 rounded-full text-sm font-medium",children:"\ud83d\udee0\ufe0f Development Only"}),(0,ct.jsx)("h1",{className:"text-4xl font-bold text-gray-900",children:"Component Showcase"}),(0,ct.jsx)("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"A comprehensive showcase of all available UI components in the Golf League App. This page is only accessible in development mode."})]}),(0,ct.jsx)("div",{className:"flex justify-center overflow-x-auto px-4 sm:px-0",children:(0,ct.jsx)("div",{className:"inline-flex bg-white rounded-lg shadow-sm border border-gray-200 p-1 min-w-min",children:[{id:"all",label:"All Components"},{id:"buttons",label:"Buttons & Actions"},{id:"data",label:"Data Display"},{id:"feedback",label:"Feedback"},{id:"forms",label:"Forms"}].map(e=>(0,ct.jsx)("button",{onClick:()=>r(e.id),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors whitespace-nowrap ".concat(s===e.id?"bg-indigo-600 text-white":"text-gray-600 hover:bg-gray-100"),children:e.label},e.id))})}),(0,ct.jsxs)("div",{className:"space-y-16",children:[("all"===s||"buttons"===s)&&(0,ct.jsx)(Hf,{title:"Buttons",description:"Various button styles and states",children:(0,ct.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,ct.jsx)(Wf,{title:"Primary Button",children:(0,ct.jsxs)("div",{className:"space-y-3",children:[(0,ct.jsx)(pa,{variant:"primary",children:"Primary Button"}),(0,ct.jsx)(pa,{variant:"primary",disabled:!0,children:"Disabled Button"})]})}),(0,ct.jsx)(Wf,{title:"Secondary Button",children:(0,ct.jsxs)("div",{className:"space-y-3",children:[(0,ct.jsx)(pa,{variant:"secondary",children:"Secondary Button"}),(0,ct.jsx)(pa,{variant:"secondary",disabled:!0,children:"Disabled Button"})]})}),(0,ct.jsx)(Wf,{title:"Danger Button",children:(0,ct.jsxs)("div",{className:"space-y-3",children:[(0,ct.jsx)(pa,{variant:"danger",children:"Danger Button"}),(0,ct.jsx)(pa,{variant:"danger",disabled:!0,children:"Disabled Button"})]})}),(0,ct.jsx)(Wf,{title:"Neon Button (Accent)",children:(0,ct.jsxs)("div",{className:"space-y-3",children:[(0,ct.jsx)(pa,{variant:"neon",children:"Neon CTA Button"}),(0,ct.jsx)(pa,{variant:"outline-neon",children:"Outline Neon"})]})}),(0,ct.jsx)(Wf,{title:"Button Sizes",children:(0,ct.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ct.jsx)(pa,{size:"sm",children:"Small"}),(0,ct.jsx)(pa,{size:"md",children:"Medium"}),(0,ct.jsx)(pa,{size:"lg",children:"Large"})]})})]})}),("all"===s||"buttons"===s)&&(0,ct.jsx)(Hf,{title:"Badges",description:"Status indicators and labels",children:(0,ct.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,ct.jsx)(Wf,{title:"Badge Variants",children:(0,ct.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,ct.jsx)(Ua,{variant:"success",children:"Success"}),(0,ct.jsx)(Ua,{variant:"warning",children:"Warning"}),(0,ct.jsx)(Ua,{variant:"error",children:"Error"}),(0,ct.jsx)(Ua,{variant:"info",children:"Info"}),(0,ct.jsx)(Ua,{variant:"default",children:"Default"})]})}),(0,ct.jsx)(Wf,{title:"Neon Badge (Accent)",children:(0,ct.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,ct.jsx)(Ua,{variant:"neon",children:"Memberships Available"}),(0,ct.jsx)(Ua,{variant:"neon",style:"subtle",children:"New Feature"}),(0,ct.jsx)(Ua,{variant:"neon",style:"outlined",children:"Limited Offer"})]})})]})}),("all"===s||"buttons"===s)&&(0,ct.jsx)(Hf,{title:"Floating Action & Circle Buttons",description:"Primary action and selection buttons",children:(0,ct.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,ct.jsx)(Wf,{title:"Floating Action Button",children:(0,ct.jsxs)("div",{className:"space-y-3",children:[(0,ct.jsx)("p",{className:"text-sm text-gray-600",children:"Note: FAB uses fixed positioning. In real use, it appears at screen corners."}),(0,ct.jsxs)("div",{className:"flex gap-3",children:[(0,ct.jsx)("button",{onClick:()=>alert("FAB clicked!"),className:"w-14 h-14 bg-brand-dark-green text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-200 active:scale-95 flex items-center justify-center",children:(0,ct.jsx)(Gt,{className:"w-6 h-6"})}),(0,ct.jsx)("div",{className:"flex-1 text-sm text-gray-600",children:(0,ct.jsxs)("code",{className:"block text-xs bg-gray-100 p-2 rounded",children:["<FloatingActionButton",(0,ct.jsx)("br",{}),"\xa0\xa0icon={Plus}",(0,ct.jsx)("br",{}),"\xa0\xa0onClick={handleClick}",(0,ct.jsx)("br",{}),'\xa0\xa0variant="primary"',(0,ct.jsx)("br",{}),"/>"]})})]})]})}),(0,ct.jsxs)(Wf,{title:"FAB Variants & Sizes",children:[(0,ct.jsxs)("div",{className:"flex flex-wrap gap-3 items-center",children:[(0,ct.jsx)("button",{className:"w-12 h-12 bg-brand-dark-green text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-200 flex items-center justify-center",children:(0,ct.jsx)(Gt,{className:"w-5 h-5"})}),(0,ct.jsx)("button",{className:"w-14 h-14 bg-gray-600 text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-200 flex items-center justify-center",children:(0,ct.jsx)(Nt,{className:"w-6 h-6"})}),(0,ct.jsx)("button",{className:"w-16 h-16 bg-green-600 text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-200 flex items-center justify-center",children:(0,ct.jsx)(_p,{className:"w-7 h-7"})})]}),(0,ct.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Sizes: sm (48px), md (56px), lg (64px)"})]}),(0,ct.jsx)(Wf,{title:"Circle Buttons (Bay Selectors)",children:(0,ct.jsx)("div",{className:"flex gap-2",children:[1,2,3,4,5].map(e=>(0,ct.jsx)(va,{active:1===e,onClick:()=>{},size:"md",variant:"primary",children:e},e))})}),(0,ct.jsx)(Wf,{title:"Circle Button Variants",children:(0,ct.jsxs)("div",{className:"space-y-3",children:[(0,ct.jsxs)("div",{className:"flex gap-2",children:[(0,ct.jsx)(va,{active:!0,variant:"primary",size:"sm",children:"A"}),(0,ct.jsx)(va,{variant:"primary",size:"sm",children:"B"}),(0,ct.jsx)(va,{variant:"primary",size:"sm",children:"C"})]}),(0,ct.jsxs)("div",{className:"flex gap-2",children:[(0,ct.jsx)(va,{active:!0,variant:"secondary",size:"md",children:"1"}),(0,ct.jsx)(va,{variant:"secondary",size:"md",children:"2"}),(0,ct.jsx)(va,{variant:"secondary",size:"md",children:"3"})]}),(0,ct.jsxs)("div",{className:"flex gap-2",children:[(0,ct.jsx)(va,{active:!0,variant:"outline",size:"lg",children:"X"}),(0,ct.jsx)(va,{variant:"outline",size:"lg",children:"Y"}),(0,ct.jsx)(va,{variant:"outline",size:"lg",children:"Z"})]})]})})]})}),("all"===s||"buttons"===s)&&(0,ct.jsx)(Hf,{title:"Segmented Controls",description:"Toggle controls for switching between options",children:(0,ct.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,ct.jsx)(Wf,{title:"View Toggle (Day/Week)",children:(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsx)(wa,{view:i,onChange:o,views:["day","week","month"]}),(0,ct.jsxs)("p",{className:"text-sm text-gray-600",children:["Current view: ",(0,ct.jsx)("strong",{children:i})]})]})}),(0,ct.jsx)(Wf,{title:"Custom Segmented Control",children:(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsx)(Na,{options:[{value:"option1",label:"Option 1"},{value:"option2",label:"Option 2"},{value:"option3",label:"Option 3"}],value:c,onChange:d,variant:"primary"}),(0,ct.jsxs)("p",{className:"text-sm text-gray-600",children:["Selected: ",(0,ct.jsx)("strong",{children:c})]})]})}),(0,ct.jsx)(Wf,{title:"Segmented Control Sizes",children:(0,ct.jsxs)("div",{className:"space-y-3",children:[(0,ct.jsx)(Na,{options:[{value:"a",label:"Small"},{value:"b",label:"Size"}],value:"a",onChange:()=>{},size:"sm"}),(0,ct.jsx)(Na,{options:[{value:"a",label:"Medium"},{value:"b",label:"Size"}],value:"a",onChange:()=>{},size:"md"}),(0,ct.jsx)(Na,{options:[{value:"a",label:"Large"},{value:"b",label:"Size"}],value:"a",onChange:()=>{},size:"lg"})]})}),(0,ct.jsx)(Wf,{title:"Segmented Control Variants",children:(0,ct.jsxs)("div",{className:"space-y-3",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"Default"}),(0,ct.jsx)(Na,{options:[{value:"a",label:"Option A"},{value:"b",label:"Option B"}],value:"a",onChange:()=>{},variant:"default"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"Primary"}),(0,ct.jsx)(Na,{options:[{value:"a",label:"Option A"},{value:"b",label:"Option B"}],value:"a",onChange:()=>{},variant:"primary"})]}),(0,ct.jsxs)("div",{className:"bg-brand-dark-green p-3 rounded-lg",children:[(0,ct.jsx)("p",{className:"text-xs text-white mb-2",children:"Compact (on dark bg)"}),(0,ct.jsx)(Na,{options:[{value:"a",label:"Option A"},{value:"b",label:"Option B"}],value:"a",onChange:()=>{},variant:"compact"})]})]})})]})}),("all"===s||"data"===s)&&(0,ct.jsx)(Hf,{title:"Avatars",description:"User profile images",children:(0,ct.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,ct.jsx)(Wf,{title:"Avatar Sizes",children:(0,ct.jsxs)("div",{className:"flex items-center gap-4",children:[(0,ct.jsx)(un,{size:"sm",name:"John Doe"}),(0,ct.jsx)(un,{size:"md",name:"Jane Smith"}),(0,ct.jsx)(un,{size:"lg",name:"Bob Wilson"})]})}),(0,ct.jsx)(Wf,{title:"Avatar with Image",children:(0,ct.jsxs)("div",{className:"flex items-center gap-4",children:[(0,ct.jsx)(un,{size:"md",name:"Test User",src:"https://via.placeholder.com/150"}),(0,ct.jsx)(un,{size:"md",name:"No Image"})]})})]})}),("all"===s||"data"===s)&&(0,ct.jsxs)(Hf,{title:"Cards",description:"Container components",children:[(0,ct.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,ct.jsx)(Pa,{children:(0,ct.jsxs)("div",{className:"p-6",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Basic Card"}),(0,ct.jsx)("p",{className:"text-gray-600",children:"This is a basic card component with padding and rounded corners."})]})}),(0,ct.jsx)(Pa,{children:(0,ct.jsxs)("div",{className:"p-6",children:[(0,ct.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,ct.jsx)(qe,{className:"w-6 h-6 text-yellow-500"}),(0,ct.jsx)("h3",{className:"text-lg font-semibold",children:"Card with Icon"})]}),(0,ct.jsx)("p",{className:"text-gray-600",children:"Cards can contain icons, images, and various content types."})]})})]}),(0,ct.jsxs)("div",{className:"grid gap-6 mt-6",children:[(0,ct.jsx)(Wf,{title:"Dark Green Card Variants (Website Style)",children:(0,ct.jsxs)("div",{className:"bg-brand-dark-green rounded-xl p-6 space-y-4",children:[(0,ct.jsx)(Pa,{variant:"testimonial",padding:"md",children:(0,ct.jsxs)("div",{className:"flex items-start gap-3",children:[(0,ct.jsx)("div",{className:"w-12 h-12 rounded-full bg-brand-neon-green bg-opacity-20 flex items-center justify-center flex-shrink-0",children:(0,ct.jsx)(qe,{className:"w-6 h-6 text-brand-neon-green"})}),(0,ct.jsxs)("div",{className:"flex-1",children:[(0,ct.jsx)("h4",{className:"font-bold text-white",children:"Testimonial Card"}),(0,ct.jsx)("p",{className:"text-gray-300 text-sm",children:"Club Pro"}),(0,ct.jsx)("p",{className:"text-white mt-2 text-sm",children:'"This semi-transparent card works great on dark backgrounds!"'})]})]})}),(0,ct.jsxs)(Pa,{variant:"dark-elevated",padding:"md",children:[(0,ct.jsx)("h4",{className:"font-bold mb-2",children:"Dark Elevated Card"}),(0,ct.jsx)("p",{className:"text-gray-200 text-sm",children:"Solid dark green background with shadow - perfect for highlighted content."})]})]})}),(0,ct.jsx)(Wf,{title:"Testimonial Components (Website Style)",children:(0,ct.jsxs)(pn,{title:"What Club Pros Are Saying",subtitle:"Real feedback from real pros",children:[(0,ct.jsx)(hn,{name:"Erin Thorne",role:"Club Pro at No 6",quote:"Golf's hard. Excited to make it easier for everyone. Excited to help connect folks nearby. And excited to actually be able to swing more myself too!"}),(0,ct.jsx)(hn,{name:"Dan Miller",role:"Club Pro at No 2",quote:"I was gonna get a sim anyway and this just seemed fun. Took a few talks on the homefront with two kids at home, and now we're all enjoying it together!"})]})})]})]}),("all"===s||"layout"===s)&&(0,ct.jsx)(Hf,{title:"Feed Items",description:"Mobile-optimized feed/list items for challenges, events, and tournaments",children:(0,ct.jsxs)("div",{className:"space-y-8 px-0.5",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h3",{className:"text-sm font-semibold text-gray-700 mb-3 uppercase tracking-wide px-1.5",children:"Variant 1: Compact List"}),(0,ct.jsxs)("div",{className:"space-y-2 px-0.5",children:[(0,ct.jsx)(fn,{variant:"compact",title:"Weekend Warriors Challenge",subtitle:"9-hole best ball",status:"open",participants:{current:12,max:16},endDate:"Ends Dec 31",prize:"$500",icon:qe,onAction:()=>alert("Join clicked!"),actionLabel:"Join",onClick:()=>alert("Card clicked!")}),(0,ct.jsx)(fn,{variant:"compact",title:"Monthly Scramble",subtitle:"Team of 4",status:"ending-soon",participants:{current:28,max:32},endDate:"2 days left",prize:"$1,000",onAction:()=>alert("Join clicked!"),onClick:()=>alert("Card clicked!")}),(0,ct.jsx)(fn,{variant:"compact",title:"Club Championship",subtitle:"36-hole stroke play",status:"full",participants:{current:64,max:64},endDate:"Closed",prize:"Trophy",onClick:()=>alert("Card clicked!")})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h3",{className:"text-sm font-semibold text-gray-700 mb-3 uppercase tracking-wide px-1.5",children:"Variant 1b: Compact with Status Accent"}),(0,ct.jsxs)("div",{className:"space-y-2 px-0.5",children:[(0,ct.jsx)(fn,{variant:"compact-accent",title:"Free Entry Championship",subtitle:"18-hole medal play",status:"open",icon:qe,participants:{current:24,max:50},endDate:"Jan 20",onAction:()=>alert("Join clicked!"),actionLabel:"Join",onClick:()=>alert("Card clicked!")}),(0,ct.jsx)(fn,{variant:"compact-accent",title:"$100 Buy-in Tournament",subtitle:"36-hole championship",status:"ending-soon",icon:Xn,participants:{current:38,max:48},endDate:"2 days left",prize:"$5,000",onAction:()=>alert("Enter clicked!"),actionLabel:"Enter",onClick:()=>alert("Card clicked!")}),(0,ct.jsx)(fn,{variant:"compact-accent",title:"Members Only Event",subtitle:"Best ball pairs",status:"full",icon:Ye,participants:{current:32,max:32},endDate:"Closed",prize:"Trophy",onClick:()=>alert("Card clicked!")}),(0,ct.jsx)(fn,{variant:"compact-accent",title:"Spring League Registration",subtitle:"12-week season",status:"closed",icon:Je,participants:{current:64},endDate:"Registration ended",onClick:()=>alert("Card clicked!")})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h3",{className:"text-sm font-semibold text-gray-700 mb-3 uppercase tracking-wide px-1.5",children:"Variant 1c: Compact Minimal (Status via Color)"}),(0,ct.jsxs)("div",{className:"space-y-2 px-0.5",children:[(0,ct.jsx)(fn,{variant:"compact-minimal",title:"Weekend Championship",subtitle:"18-hole medal play",status:"open",participants:{current:24,max:50},endDate:"Jan 20",onAction:()=>alert("Join clicked!"),actionLabel:"Join",onClick:()=>alert("Card clicked!")}),(0,ct.jsx)(fn,{variant:"compact-minimal",title:"Premium Tournament",subtitle:"36-hole championship",status:"ending-soon",participants:{current:38,max:48},endDate:"2 days left",prize:"$5,000",onAction:()=>alert("Enter clicked!"),actionLabel:"Enter",onClick:()=>alert("Card clicked!")}),(0,ct.jsx)(fn,{variant:"compact-minimal",title:"Members Only Event",subtitle:"Best ball pairs",status:"full",participants:{current:32,max:32},endDate:"Closed",onAction:()=>alert("Cannot join - full!"),actionLabel:"Full",onClick:()=>alert("Card clicked!")}),(0,ct.jsx)(fn,{variant:"compact-minimal",title:"Spring League Registration",subtitle:"12-week season",status:"closed",participants:{current:64},endDate:"Registration ended",onAction:()=>alert("Cannot join - closed!"),actionLabel:"Closed",onClick:()=>alert("Card clicked!")})]})]}),(0,ct.jsx)(Wf,{title:"Variant 2: Featured Card",children:(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ct.jsx)(fn,{variant:"featured",title:"Spring Open Tournament",subtitle:"18-hole championship",description:"Join our premier tournament featuring cash prizes and professional scoring. Open to all skill levels.",status:"open",participants:{current:45,max:128},prize:"$5,000",onAction:()=>alert("Register clicked!"),actionLabel:"Register",onClick:()=>alert("Card clicked!")}),(0,ct.jsx)(fn,{variant:"featured",title:"League Night",subtitle:"Weekly 9-hole league",description:"Play every Thursday evening in our friendly league. Season runs for 12 weeks.",status:"open",participants:{current:32},prize:"Prizes",onAction:()=>alert("Join League!"),actionLabel:"Join",onClick:()=>alert("Card clicked!")})]})})]})}),("all"===s||"data"===s)&&(0,ct.jsx)(Hf,{title:"Tables",description:"Data tables",children:(0,ct.jsx)(Wf,{title:"Basic Table",children:(0,ct.jsx)(sn,{columns:[{id:"name",label:"Player",accessor:"name",sortable:!0},{id:"score",label:"Score",accessor:"score",sortable:!0},{id:"rank",label:"Rank",accessor:"rank",sortable:!0}],data:[{name:"John Doe",score:72,rank:1},{name:"Jane Smith",score:74,rank:2},{name:"Bob Wilson",score:76,rank:3}],keyExtractor:e=>e.rank})})}),("all"===s||"feedback"===s)&&(0,ct.jsx)(Hf,{title:"Loading States",description:"Loading indicators",children:(0,ct.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,ct.jsx)(Wf,{title:"Spinner",children:(0,ct.jsx)("div",{className:"h-32 flex items-center justify-center",children:(0,ct.jsx)($a,{size:"lg"})})}),(0,ct.jsx)(Wf,{title:"Simple Loading",children:(0,ct.jsx)("div",{className:"h-32 flex items-center justify-center",children:(0,ct.jsx)(mn,{text:"Loading data..."})})})]})}),("all"===s||"feedback"===s)&&(0,ct.jsx)(Hf,{title:"Empty & Error States",description:"Feedback states",children:(0,ct.jsxs)("div",{className:"grid gap-6",children:[(0,ct.jsx)(Wf,{title:"Empty State",children:(0,ct.jsx)(sr,{icon:qe,title:"No Tournaments Found",description:"There are no active tournaments at the moment.",children:(0,ct.jsx)(pa,{variant:"primary",className:"mt-4",children:"Create Tournament"})})}),(0,ct.jsx)(Wf,{title:"Error State",children:(0,ct.jsx)(dr,{title:"Failed to Load Data",message:"We couldn't fetch the tournament data. Please try again."})})]})}),("all"===s||"feedback"===s)&&(0,ct.jsx)(Hf,{title:"Modals",description:"Dialog windows",children:(0,ct.jsxs)(Wf,{title:"Modal Example",children:[(0,ct.jsx)(pa,{onClick:()=>t(!0),children:"Open Modal"}),(0,ct.jsx)(Mr,{open:e,onClose:()=>t(!1),children:(0,ct.jsxs)("div",{className:"p-6",children:[(0,ct.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Example Modal"}),(0,ct.jsx)("p",{className:"text-gray-600",children:"This is an example modal dialog. It can contain forms, information, or any other content you need to display."}),(0,ct.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,ct.jsx)(pa,{variant:"secondary",onClick:()=>t(!1),children:"Cancel"}),(0,ct.jsx)(pa,{variant:"primary",onClick:()=>t(!1),children:"Confirm"})]})]})})]})}),("all"===s||"forms"===s)&&(0,ct.jsx)(Hf,{title:"Form Inputs",description:"Form elements",children:(0,ct.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,ct.jsx)(Wf,{title:"Text Input",children:(0,ct.jsx)(vr,{label:"Email Address",type:"email",placeholder:"john@example.com"})}),(0,ct.jsx)(Wf,{title:"Input with Error",children:(0,ct.jsx)(vr,{label:"Username",type:"text",placeholder:"username",error:"This username is already taken"})}),(0,ct.jsx)(Wf,{title:"Checkbox",children:(0,ct.jsx)(Cr,{label:"I agree to the terms and conditions",checked:n,onChange:e=>l(e.target.checked)})}),(0,ct.jsx)(Wf,{title:"Dropdown",children:(0,ct.jsxs)("div",{className:"w-full",children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Tournament"}),(0,ct.jsx)(nn,{options:[{value:"1",label:"Weekly Challenge"},{value:"2",label:"Monthly Cup"},{value:"3",label:"Annual Championship"}],value:"1",onChange:e=>console.log("Selected:",e)})]})})]})}),("all"===s||"buttons"===s)&&(0,ct.jsx)(Hf,{title:"Tabs",description:"Navigation tabs",children:(0,ct.jsx)(Wf,{title:"Tab Navigation",children:(0,ct.jsx)("div",{className:"overflow-x-auto",children:(0,ct.jsx)(Ur,{tabs:[{id:"overview",label:"Overview"},{id:"profile",label:"Profile"},{id:"settings",label:"Settings"}],value:"overview",onChange:e=>console.log("Tab changed to:",e)})})})}),("all"===s||"feedback"===s)&&(0,ct.jsx)(Hf,{title:"Tooltips",description:"Hover information",children:(0,ct.jsx)(Wf,{title:"Tooltip Example",children:(0,ct.jsxs)("div",{className:"flex gap-4",children:[(0,ct.jsx)(ln,{content:"This is a helpful tooltip",children:(0,ct.jsx)(pa,{variant:"secondary",children:"Hover me"})}),(0,ct.jsx)(ln,{content:"Tooltips can provide additional context",children:(0,ct.jsxs)("span",{className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-100 rounded-lg cursor-help",children:[(0,ct.jsx)(_p,{className:"w-4 h-4"}),"Info Icon"]})})]})})})]}),(0,ct.jsxs)("div",{className:"text-center py-8 border-t border-gray-200",children:[(0,ct.jsx)("p",{className:"text-gray-600",children:"All components are built with React + TypeScript and styled with Tailwind CSS"}),(0,ct.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:["Environment: ",If.cA.isDevelopment?"Development":"Production"]})]})]})}):(0,ct.jsx)(pe,{to:"/",replace:!0})},Vf=We("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),Gf=()=>{var e,t;const s=Z(),r=J(),[n,l]=(0,a.useState)([]),[i,o]=(0,a.useState)(!0),[c,d]=(0,a.useState)(""),[u,m]=(0,a.useState)(""),[x,h]=(0,a.useState)(!1),[p,g]=(0,a.useState)(null),[f,b]=(0,a.useState)([]),[v,y]=(0,a.useState)(!1),[j,N]=(0,a.useState)({title:"",description:"",entry_fee:0,max_registrations:void 0,status:"draft",stripe_enabled:!0,payment_organizer:void 0,payment_organizer_name:"",payment_venmo_url:"",has_registration_form:!1,registration_form_template:"",registration_form_data:null});(0,a.useEffect)(()=>{k(),_()},[u]),(0,a.useEffect)(()=>{const e=r.state;if(null!==e&&void 0!==e&&e.editSignupId&&n.length>0){const t=n.find(t=>t.id===e.editSignupId);t?(C(t),s(r.pathname,{replace:!0,state:{}})):w(e.editSignupId)}},[r.state,n]);const w=async e=>{try{const t=await(0,tt.D4n)(e);C(t.data),s(r.pathname,{replace:!0,state:{}})}catch(t){console.error("Error fetching signup for edit:",t),_s.error("Failed to load signup for editing")}},_=async()=>{try{y(!0);const e=await(0,tt.ebi)();b(e.data)}catch(e){console.error("Error fetching registration templates:",e),_s.error("Failed to load registration templates")}finally{y(!1)}},k=async()=>{try{o(!0);const e=await(0,tt.A7I)({status:u||void 0,search:c||void 0});l(e.data)}catch(e){console.error("Error fetching signups:",e)}finally{o(!1)}},S=()=>{k()},C=e=>{g(e),N({title:e.title,description:e.description,entry_fee:e.entry_fee,max_registrations:e.max_registrations,registration_opens_at:e.registration_opens_at,registration_closes_at:e.registration_closes_at,status:e.status,stripe_enabled:e.stripe_enabled,venmo_url:e.venmo_url,payment_organizer:e.payment_organizer,payment_organizer_name:e.payment_organizer_name,payment_venmo_url:e.payment_venmo_url,confirmation_message:e.confirmation_message,has_registration_form:e.has_registration_form||!1,registration_form_template:e.registration_form_template||"",registration_form_data:e.registration_form_data||null})},A=()=>{N({title:"",description:"",entry_fee:0,max_registrations:void 0,status:"draft",stripe_enabled:!0,payment_organizer:void 0,payment_organizer_name:"",payment_venmo_url:"",has_registration_form:!1,registration_form_template:"",registration_form_data:null})},E=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e);return(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsx)(bn,{title:"Signup Management",subtitle:"Create and manage event signups",icon:Nt,action:(0,ct.jsxs)(pa,{onClick:()=>h(!0),className:"flex items-center gap-2",children:[(0,ct.jsx)(Gt,{className:"w-4 h-4"}),"Create Signup"]})}),(0,ct.jsx)(Pa,{className:"p-4",children:(0,ct.jsxs)("div",{className:"flex gap-4 items-end",children:[(0,ct.jsxs)("div",{className:"flex-1",children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),(0,ct.jsxs)("div",{className:"relative",children:[(0,ct.jsx)(vr,{type:"text",placeholder:"Search by title or description...",value:c,onChange:e=>d(e.target.value),onKeyPress:e=>"Enter"===e.key&&S(),className:"pr-10"}),(0,ct.jsx)(Za,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 cursor-pointer",onClick:S})]})]}),(0,ct.jsxs)("div",{className:"w-48",children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,ct.jsxs)("select",{value:u,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-brand-neon-green",children:[(0,ct.jsx)("option",{value:"",children:"All Statuses"}),(0,ct.jsx)("option",{value:"draft",children:"Draft"}),(0,ct.jsx)("option",{value:"open",children:"Open"}),(0,ct.jsx)("option",{value:"closed",children:"Closed"}),(0,ct.jsx)("option",{value:"archived",children:"Archived"})]})]}),(0,ct.jsx)(pa,{onClick:S,variant:"outline",children:"Apply Filters"})]})}),(0,ct.jsx)(Pa,{children:(0,ct.jsxs)(Kr,{children:[(0,ct.jsx)("thead",{children:(0,ct.jsxs)("tr",{children:[(0,ct.jsx)("th",{children:"Title"}),(0,ct.jsx)("th",{children:"Status"}),(0,ct.jsx)("th",{children:"Entry Fee"}),(0,ct.jsx)("th",{children:"Registrations"}),(0,ct.jsx)("th",{children:"Revenue"}),(0,ct.jsx)("th",{children:"Capacity"}),(0,ct.jsx)("th",{children:"Created"}),(0,ct.jsx)("th",{children:"Actions"})]})}),(0,ct.jsx)("tbody",{children:i?(0,ct.jsx)("tr",{children:(0,ct.jsx)("td",{colSpan:8,className:"text-center py-8",children:(0,ct.jsx)("div",{className:"flex justify-center items-center",children:(0,ct.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-neon-green"})})})}):0===n.length?(0,ct.jsx)("tr",{children:(0,ct.jsx)("td",{colSpan:8,className:"text-center py-8 text-gray-500",children:"No signups found. Create your first signup to get started!"})}):n.map(e=>{return(0,ct.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,ct.jsx)("td",{children:(0,ct.jsxs)("div",{children:[(0,ct.jsx)("div",{className:"font-medium text-gray-900",children:e.title}),e.description&&(0,ct.jsx)("div",{className:"text-sm text-gray-500 truncate max-w-md",children:e.description})]})}),(0,ct.jsx)("td",{children:(a=e.status,(0,ct.jsx)(Ua,{variant:{open:"success",draft:"default",closed:"warning",archived:"info"}[a]||"default",children:a}))}),(0,ct.jsx)("td",{className:"font-medium",children:E(e.entry_fee)}),(0,ct.jsx)("td",{children:(0,ct.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ct.jsx)(Ye,{className:"w-4 h-4 text-gray-400"}),(0,ct.jsx)("span",{className:"font-medium text-brand-neon-green",children:e.paid_registrations||0}),(0,ct.jsxs)("span",{className:"text-gray-500",children:["/ ",e.total_registrations||0," total"]})]})}),(0,ct.jsx)("td",{children:(0,ct.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ct.jsx)(Xn,{className:"w-4 h-4 text-green-600"}),(0,ct.jsx)("span",{className:"font-medium",children:E(e.total_revenue||0)})]})}),(0,ct.jsx)("td",{children:e.max_registrations?(0,ct.jsxs)("span",{className:"text-gray-600",children:[e.total_registrations||0," / ",e.max_registrations]}):(0,ct.jsx)("span",{className:"text-gray-400",children:"Unlimited"})}),(0,ct.jsx)("td",{className:"text-sm text-gray-600",children:(t=e.created_at,t?new Date(t).toLocaleDateString():"N/A")}),(0,ct.jsx)("td",{children:(0,ct.jsxs)("div",{className:"flex gap-2",children:[(0,ct.jsx)("button",{onClick:()=>s("/admin/signups/".concat(e.id)),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",title:"View Details",children:(0,ct.jsx)(wt,{className:"w-4 h-4"})}),(0,ct.jsx)("button",{onClick:()=>C(e),className:"p-1 text-gray-600 hover:bg-gray-100 rounded",title:"Edit",children:(0,ct.jsx)(Vf,{className:"w-4 h-4"})}),(0,ct.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this signup?"))try{await(0,tt.giF)(e),l(n.filter(t=>t.id!==e))}catch(t){console.error("Error deleting signup:",t),window.alert("Failed to delete signup")}})(e.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Delete",children:(0,ct.jsx)(Tn,{className:"w-4 h-4"})})]})})]},e.id);var t,a})})]})}),(0,ct.jsxs)(Mr,{open:x||null!==p,onClose:()=>{h(!1),g(null),A()},size:"lg",children:[(0,ct.jsx)(Rr,{children:p?"Edit Signup":"Create New Signup"}),(0,ct.jsx)(Lr,{children:(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),(0,ct.jsx)(vr,{type:"text",value:j.title,onChange:e=>N((0,Re.A)((0,Re.A)({},j),{},{title:e.target.value})),placeholder:"Summer League 2025",required:!0})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,ct.jsx)("textarea",{value:j.description||"",onChange:e=>N((0,Re.A)((0,Re.A)({},j),{},{description:e.target.value})),placeholder:"Provide details about the event...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-brand-neon-green"})]}),(0,ct.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Entry Fee ($)"}),(0,ct.jsx)(vr,{type:"number",step:"0.01",value:j.entry_fee,onChange:e=>N((0,Re.A)((0,Re.A)({},j),{},{entry_fee:parseFloat(e.target.value)})),min:"0"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Registrations"}),(0,ct.jsx)(vr,{type:"number",value:j.max_registrations||"",onChange:e=>N((0,Re.A)((0,Re.A)({},j),{},{max_registrations:e.target.value?parseInt(e.target.value):void 0})),placeholder:"Unlimited",min:"1"})]})]}),(0,ct.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Registration Opens"}),(0,ct.jsx)(vr,{type:"datetime-local",value:(null===(e=j.registration_opens_at)||void 0===e?void 0:e.slice(0,16))||"",onChange:e=>N((0,Re.A)((0,Re.A)({},j),{},{registration_opens_at:e.target.value}))})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Registration Closes"}),(0,ct.jsx)(vr,{type:"datetime-local",value:(null===(t=j.registration_closes_at)||void 0===t?void 0:t.slice(0,16))||"",onChange:e=>N((0,Re.A)((0,Re.A)({},j),{},{registration_closes_at:e.target.value}))})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,ct.jsxs)("select",{value:j.status,onChange:e=>N((0,Re.A)((0,Re.A)({},j),{},{status:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-brand-neon-green",children:[(0,ct.jsx)("option",{value:"draft",children:"Draft"}),(0,ct.jsx)("option",{value:"open",children:"Open"}),(0,ct.jsx)("option",{value:"closed",children:"Closed"}),(0,ct.jsx)("option",{value:"archived",children:"Archived"})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Organizer"}),(0,ct.jsxs)("select",{value:j.payment_organizer||"",onChange:e=>N((0,Re.A)((0,Re.A)({},j),{},{payment_organizer:e.target.value?e.target.value:void 0})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-brand-neon-green",children:[(0,ct.jsx)("option",{value:"",children:"Select payment organizer..."}),(0,ct.jsx)("option",{value:"jeff",children:"Jeff Testa"}),(0,ct.jsx)("option",{value:"adam",children:"Adam Christopher"}),(0,ct.jsx)("option",{value:"other",children:"Other (Custom)"})]})]}),"other"===j.payment_organizer&&(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Organizer Name"}),(0,ct.jsx)(vr,{type:"text",value:j.payment_organizer_name||"",onChange:e=>N((0,Re.A)((0,Re.A)({},j),{},{payment_organizer_name:e.target.value})),placeholder:"Enter organizer name"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Venmo URL"}),(0,ct.jsx)(vr,{type:"text",value:j.payment_venmo_url||"",onChange:e=>N((0,Re.A)((0,Re.A)({},j),{},{payment_venmo_url:e.target.value})),placeholder:"https://venmo.com/..."})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmation Message"}),(0,ct.jsx)("textarea",{value:j.confirmation_message||"",onChange:e=>N((0,Re.A)((0,Re.A)({},j),{},{confirmation_message:e.target.value})),placeholder:"Thanks for registering! We'll send you more details soon.",rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-brand-neon-green"})]}),(0,ct.jsxs)("div",{className:"border-t pt-4",children:[(0,ct.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,ct.jsx)(er,{className:"w-5 h-5 text-brand-dark-green"}),(0,ct.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:"Registration Form"})]}),(0,ct.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,ct.jsx)("input",{type:"checkbox",id:"has_registration_form",checked:j.has_registration_form,onChange:e=>N((0,Re.A)((0,Re.A)({},j),{},{has_registration_form:e.target.checked})),className:"rounded border-gray-300 text-brand-dark-green focus:ring-brand-dark-green"}),(0,ct.jsx)("label",{htmlFor:"has_registration_form",className:"text-sm font-medium text-gray-700",children:"Enable Custom Registration Form"})]}),j.has_registration_form&&(0,ct.jsxs)("div",{className:"space-y-4 pl-6",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Template"}),v?(0,ct.jsx)("div",{className:"text-center py-4",children:(0,ct.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-brand-neon-green mx-auto"})}):0===f.length?(0,ct.jsx)("p",{className:"text-sm text-gray-500",children:"No templates available. Please create one first."}):(0,ct.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:f.map(e=>(0,ct.jsxs)("button",{type:"button",onClick:()=>(e=>{N(t=>(0,Re.A)((0,Re.A)({},t),{},{registration_form_template:e.template_key,registration_form_data:{name:e.name,description:e.description,questions:e.questions}})),_s.success("Applied ".concat(e.name," template"))})(e),className:"p-3 rounded-lg border text-left transition-all ".concat(j.registration_form_template===e.template_key?"border-brand-dark-green bg-green-50":"border-gray-200 hover:border-brand-dark-green"),children:[(0,ct.jsx)("div",{className:"font-medium text-gray-900",children:e.name}),(0,ct.jsx)("div",{className:"text-xs text-gray-600 mt-1",children:e.description})]},e.id))})]}),j.registration_form_template&&j.registration_form_data&&(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Template Preview"}),(0,ct.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,ct.jsx)("h6",{className:"font-medium text-gray-900 mb-3",children:j.registration_form_data.name}),j.registration_form_data.questions.map((e,t)=>(0,ct.jsxs)("div",{className:"mb-3 text-sm",children:[(0,ct.jsxs)("p",{className:"font-medium text-gray-700 mb-1",children:[e.question,e.required&&(0,ct.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,ct.jsxs)("div",{className:"ml-4 text-gray-600",children:["text"===e.type&&(0,ct.jsxs)("p",{className:"italic",children:["Text input",e.placeholder?": ".concat(e.placeholder):""]}),"radio"===e.type&&e.options&&(0,ct.jsx)("div",{className:"space-y-1",children:e.options.map((e,t)=>(0,ct.jsxs)("div",{children:["\u25cb ",e]},t))}),"checkbox"===e.type&&e.options&&(0,ct.jsx)("div",{className:"space-y-1",children:e.options.map((e,t)=>(0,ct.jsxs)("div",{children:["\u2610 ",e]},t))}),e.conditional&&(0,ct.jsxs)("p",{className:"text-xs text-blue-600 mt-1",children:['Shows when "',e.conditional.dependsOn,'" is "',e.conditional.showWhen,'"']})]})]},t))]})]})]})]}),(0,ct.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ct.jsx)("input",{type:"checkbox",id:"stripe_enabled",checked:j.stripe_enabled,onChange:e=>N((0,Re.A)((0,Re.A)({},j),{},{stripe_enabled:e.target.checked})),className:"rounded border-gray-300 text-brand-neon-green focus:ring-brand-neon-green"}),(0,ct.jsx)("label",{htmlFor:"stripe_enabled",className:"text-sm text-gray-700",children:"Enable Stripe payments"})]})]})}),(0,ct.jsxs)(Fr,{children:[(0,ct.jsx)(pa,{onClick:()=>{h(!1),g(null),A()},variant:"outline",children:"Cancel"}),(0,ct.jsx)(pa,{onClick:p?async()=>{if(p)try{const e=await(0,tt.YvE)(p.id,j);l(n.map(t=>t.id===p.id?e.data:t)),g(null),A()}catch(e){console.error("Error updating signup:",e),window.alert("Failed to update signup")}}:async()=>{try{const e=await(0,tt.$LN)(j);l([e.data,...n]),h(!1),A()}catch(e){console.error("Error creating signup:",e),window.alert("Failed to create signup")}},disabled:!j.title,children:p?"Update Signup":"Create Signup"})]})]})]})},Yf=e=>{let{selectedMembers:t,onChange:s,userClub:r,restrictToClub:n=!0,maxSelections:l,required:i=!1}=e;const[o,c]=(0,a.useState)([]),[d,u]=(0,a.useState)([]),[m,x]=(0,a.useState)(""),[h,p]=(0,a.useState)(!1),[g,f]=(0,a.useState)(!1),b=(0,a.useRef)(null);(0,a.useEffect)(()=>{v()},[r,n]),(0,a.useEffect)(()=>{const e=e=>{b.current&&!b.current.contains(e.target)&&f(!1)};return g&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[g]),(0,a.useEffect)(()=>{const e=o.filter(e=>"".concat(e.first_name," ").concat(e.last_name).toLowerCase().includes(m.toLowerCase()));u(e)},[m,o]);const v=async()=>{try{p(!0);const e=n?r:void 0,t=await(0,tt.sM$)(e);c(t.data),u(t.data)}catch(e){console.error("Error fetching members:",e)}finally{p(!1)}},y=!!l&&t.length>=l;return(0,ct.jsxs)("div",{ref:b,className:"space-y-2",children:[t.length>0&&(0,ct.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:o.filter(e=>t.includes(e.member_id)).map(e=>(0,ct.jsxs)(Ua,{variant:"success",className:"flex items-center gap-1",children:[e.first_name," ",e.last_name,(0,ct.jsx)("button",{type:"button",onClick:()=>{return a=e.member_id,void s(t.filter(e=>e!==a));var a},className:"ml-1 hover:text-red-600",children:(0,ct.jsx)(Qe,{className:"w-3 h-3"})})]},e.member_id))}),(0,ct.jsxs)("div",{className:"relative",children:[(0,ct.jsxs)("div",{className:"relative",children:[(0,ct.jsx)(Za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,ct.jsx)("input",{type:"text",value:m,onChange:e=>{x(e.target.value),f(!0)},onFocus:()=>f(!0),placeholder:y?"Maximum ".concat(l," selections reached"):"Search ".concat(n&&r?"".concat(r," members"):"members","..."),disabled:y,className:"w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-brand-neon-green disabled:bg-gray-100 disabled:cursor-not-allowed"}),(m||g)&&!y&&(0,ct.jsx)("button",{type:"button",onClick:()=>{x(""),f(!1)},className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 focus:outline-none","aria-label":"Clear search",children:(0,ct.jsx)(Qe,{className:"w-4 h-4"})})]}),g&&!y&&(0,ct.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:h?(0,ct.jsx)("div",{className:"p-4 text-center text-gray-500",children:(0,ct.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-brand-neon-green mx-auto"})}):0===d.length?(0,ct.jsx)("div",{className:"p-4 text-center text-gray-500",children:m?'No members found matching "'.concat(m,'"'):"No members available"}):d.map(e=>{const a=t.includes(e.member_id);return(0,ct.jsxs)("button",{type:"button",onClick:()=>(e=>{if(t.includes(e))s(t.filter(t=>t!==e));else{if(l&&t.length>=l)return;s([...t,e]),f(!1),x("")}})(e.member_id),className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center justify-between ".concat(a?"bg-green-50":""),children:[(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("div",{className:"font-medium text-gray-900",children:[e.first_name," ",e.last_name]}),(0,ct.jsx)("div",{className:"text-sm text-gray-500",children:e.club})]}),a&&(0,ct.jsx)(Ua,{variant:"success",className:"text-xs",children:"Selected"})]},e.member_id)})})]}),(0,ct.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,ct.jsxs)("span",{children:[t.length," ",1===t.length?"member":"members"," selected",l&&" (max ".concat(l,")")]}),g&&(0,ct.jsx)("button",{type:"button",onClick:()=>f(!1),className:"text-brand-dark-green hover:underline",children:"Close"})]}),i&&0===t.length&&(0,ct.jsx)("p",{className:"text-sm text-red-600",children:"At least one member must be selected"})]})},$f=()=>{const{id:e}=ee(),t=Z(),[s,r]=(0,a.useState)(null),[n,l]=(0,a.useState)([]),[i,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(!0),[u,m]=(0,a.useState)(null),[x,h]=(0,a.useState)(!1),[p,g]=(0,a.useState)(""),[f,b]=(0,a.useState)(!1),[v,y]=(0,a.useState)(!1),[j,N]=(0,a.useState)([]),[w,_]=(0,a.useState)(null),[k,S]=(0,a.useState)(null),[C,A]=(0,a.useState)(new Set),[E,T]=(0,a.useState)({}),[P,D]=(0,a.useState)({status:"pending",payment_status:"pending",payment_method:"manual",payment_amount:0,admin_notes:""});(0,a.useEffect)(()=>{e&&M()},[e]);const M=async()=>{if(e)try{d(!0);const[s,a,n,i]=await Promise.all([(0,tt.D4n)(parseInt(e)),(0,tt.t9n)(parseInt(e)),(0,tt.ynX)(parseInt(e)),(0,tt.loF)()]);r(s.data),l(a.data),o(n.data);const c={};if(i.data.forEach(e=>{c[e.member_id]="".concat(e.first_name," ").concat(e.last_name)}),T(c),s.data.registration_form_template)try{const e=(await(0,tt.ebi)()).data.find(e=>e.template_key===s.data.registration_form_template||e.id.toString()===s.data.registration_form_template);e&&S(e)}catch(t){console.error("Error fetching registration template:",t)}}catch(s){console.error("Error fetching signup details:",s),window.alert("Failed to load signup details")}finally{d(!1)}},R=e=>(0,ct.jsx)(Ua,{variant:{paid:"success",pending:"warning",cancelled:"default",refunded:"info"}[e]||"default",children:e}),L=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),F=e=>e?new Date(e).toLocaleString():"N/A",O=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"full";if(!e||!e[t])return"N/A";const a=e[t];if(Array.isArray(a)){if(0===a.length)return"None";if("number"===typeof a[0]){const e=a.map(e=>E[e]||"User #".concat(e));return"short"===s&&e.length>2?"".concat(e.slice(0,2).join(", "),", +").concat(e.length-2," more"):e.join(", ")}return a.join(", ")}return a},I=e=>{if(!k||!e.registration_data)return"N/A";const t=k.questions.find(e=>e.question.toLowerCase().includes("captain")||e.question.toLowerCase().includes("player")||e.question.toLowerCase().includes("role"));return t?O(e.registration_data,t.id,"short"):"N/A"},z=e=>{if(!k||!e.registration_data)return"N/A";const t=k.questions.find(e=>"member_multiselect"===e.type);return t?O(e.registration_data,t.id,"short"):"N/A"};return c?(0,ct.jsx)("div",{className:"flex justify-center items-center min-h-[400px]",children:(0,ct.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-neon-green"})}):s?(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsx)(vn,{title:s.title,subtitle:s.description,onBack:()=>t("/admin/signups"),action:(0,ct.jsxs)("div",{className:"flex items-center gap-3",children:[R(s.status),(0,ct.jsxs)("div",{className:"flex gap-2",children:[(0,ct.jsxs)(pa,{onClick:()=>{g((null===s||void 0===s?void 0:s.status)||"draft"),h(!0)},variant:"outline",className:"flex items-center gap-2",children:[(0,ct.jsx)(sa,{className:"w-4 h-4"}),"Change Status"]}),(0,ct.jsxs)(pa,{onClick:()=>t("/admin/signups",{state:{editSignupId:s.id}}),variant:"outline",className:"flex items-center gap-2",children:[(0,ct.jsx)(Vf,{className:"w-4 h-4"}),"Edit"]}),(0,ct.jsxs)(pa,{onClick:async()=>{if(e&&window.confirm("Are you sure you want to delete this signup? This action cannot be undone and will remove all registrations."))try{await(0,tt.giF)(parseInt(e)),_s.success("Signup deleted successfully"),t("/admin/signups")}catch(r){var s,a;console.error("Error deleting signup:",r),_s.error((null===(s=r.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.error)||"Failed to delete signup")}},variant:"outline",className:"flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:[(0,ct.jsx)(Tn,{className:"w-4 h-4"}),"Delete"]})]})]})}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,ct.jsx)(Pa,{className:"p-6",children:(0,ct.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ct.jsx)("div",{className:"p-3 bg-green-100 rounded-lg",children:(0,ct.jsx)(Xn,{className:"w-6 h-6 text-green-600"})}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-sm text-gray-600",children:"Total Revenue"}),(0,ct.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:L((null===i||void 0===i?void 0:i.total_revenue)||0)})]})]})}),(0,ct.jsx)(Pa,{className:"p-6",children:(0,ct.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ct.jsx)("div",{className:"p-3 bg-blue-100 rounded-lg",children:(0,ct.jsx)(Ye,{className:"w-6 h-6 text-blue-600"})}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-sm text-gray-600",children:"Total Registrations"}),(0,ct.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null===i||void 0===i?void 0:i.total_registrations)||0})]})]})}),(0,ct.jsx)(Pa,{className:"p-6",children:(0,ct.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ct.jsx)("div",{className:"p-3 bg-green-100 rounded-lg",children:(0,ct.jsx)(Ks,{className:"w-6 h-6 text-green-600"})}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-sm text-gray-600",children:"Paid"}),(0,ct.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null===i||void 0===i?void 0:i.paid_count)||0})]})]})}),(0,ct.jsx)(Pa,{className:"p-6",children:(0,ct.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ct.jsx)("div",{className:"p-3 bg-yellow-100 rounded-lg",children:(0,ct.jsx)(Qs,{className:"w-6 h-6 text-yellow-600"})}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-sm text-gray-600",children:"Pending"}),(0,ct.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null===i||void 0===i?void 0:i.pending_count)||0})]})]})})]}),(0,ct.jsxs)(Pa,{className:"p-6",children:[(0,ct.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Signup Information"}),(0,ct.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-sm text-gray-600",children:"Entry Fee"}),(0,ct.jsx)("p",{className:"font-medium",children:L(s.entry_fee)})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-sm text-gray-600",children:"Max Registrations"}),(0,ct.jsx)("p",{className:"font-medium",children:s.max_registrations||"Unlimited"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-sm text-gray-600",children:"Registration Opens"}),(0,ct.jsx)("p",{className:"font-medium",children:F(s.registration_opens_at)})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-sm text-gray-600",children:"Registration Closes"}),(0,ct.jsx)("p",{className:"font-medium",children:F(s.registration_closes_at)})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-sm text-gray-600",children:"Stripe Enabled"}),(0,ct.jsx)("p",{className:"font-medium",children:s.stripe_enabled?"Yes":"No"})]}),s.venmo_url&&(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-sm text-gray-600",children:"Venmo URL"}),(0,ct.jsx)("a",{href:s.venmo_url,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-blue-600 hover:underline",children:"View Venmo"})]})]})]}),(0,ct.jsxs)(Pa,{children:[(0,ct.jsxs)("div",{className:"p-6 border-b border-gray-200 flex justify-between items-center",children:[(0,ct.jsx)("h2",{className:"text-xl font-semibold",children:"Registrations"}),(0,ct.jsxs)("div",{className:"flex gap-2",children:[(0,ct.jsxs)(pa,{onClick:()=>b(!0),className:"flex items-center gap-2",children:[(0,ct.jsx)(Ze,{className:"w-4 h-4"}),"Add Users"]}),(0,ct.jsxs)(pa,{onClick:M,variant:"outline",className:"flex items-center gap-2",children:[(0,ct.jsx)(Ut,{className:"w-4 h-4"}),"Refresh"]})]})]}),(0,ct.jsxs)(Kr,{children:[(0,ct.jsx)("thead",{children:(0,ct.jsxs)("tr",{children:[(0,ct.jsx)("th",{className:"w-10"}),(0,ct.jsx)("th",{children:"Name"}),(0,ct.jsx)("th",{children:"Club"}),(0,ct.jsx)("th",{children:"Role"}),(0,ct.jsx)("th",{children:"Team Members"}),(0,ct.jsx)("th",{children:"Status"}),(0,ct.jsx)("th",{children:"Actions"})]})}),(0,ct.jsx)("tbody",{children:0===n.length?(0,ct.jsx)("tr",{children:(0,ct.jsx)("td",{colSpan:7,className:"text-center py-8 text-gray-500",children:"No registrations yet"})}):n.map(t=>{const r=C.has(t.id);return(0,ct.jsxs)(a.Fragment,{children:[(0,ct.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,ct.jsx)("td",{children:(0,ct.jsx)("button",{onClick:()=>{return e=t.id,void A(t=>{const s=new Set(t);return s.has(e)?s.delete(e):s.add(e),s});var e},className:"p-1 hover:bg-gray-100 rounded",title:r?"Collapse details":"Expand details",children:r?(0,ct.jsx)(zt,{className:"w-4 h-4 text-gray-600"}):(0,ct.jsx)(yt,{className:"w-4 h-4 text-gray-600"})})}),(0,ct.jsxs)("td",{children:[(0,ct.jsx)("div",{className:"font-medium text-gray-900",children:t.first_name&&t.last_name?"".concat(t.first_name," ").concat(t.last_name):"Unknown User"}),t.email_address&&(0,ct.jsx)("div",{className:"text-sm text-gray-500",children:t.email_address})]}),(0,ct.jsx)("td",{className:"text-sm text-gray-700",children:t.club||"N/A"}),(0,ct.jsx)("td",{className:"text-sm text-gray-700",children:I(t)}),(0,ct.jsx)("td",{className:"text-sm text-gray-700 max-w-xs",children:(0,ct.jsx)("div",{className:"truncate",title:z(t),children:z(t)})}),(0,ct.jsx)("td",{children:(0,ct.jsxs)("div",{className:"flex flex-col gap-1",children:[R(t.status),(0,ct.jsx)("span",{className:"text-xs text-gray-600",children:L(t.payment_amount||0)})]})}),(0,ct.jsx)("td",{children:(0,ct.jsxs)("div",{className:"flex gap-2",children:["pending"===t.status&&"venmo"===t.payment_method&&(0,ct.jsx)(pa,{onClick:()=>(async t=>{if(e&&window.confirm("Are you sure you want to manually verify this payment?"))try{m(t),await(0,tt.q$0)(parseInt(e),t),await M(),window.alert("Payment verified successfully")}catch(s){console.error("Error verifying payment:",s),window.alert("Failed to verify payment")}finally{m(null)}})(t.id),variant:"outline",size:"sm",disabled:u===t.id,children:u===t.id?(0,ct.jsx)(Ut,{className:"w-4 h-4 animate-spin"}):(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)(Ks,{className:"w-4 h-4"}),"Verify"]})}),"paid"===t.status&&"completed"===t.payment_status&&(0,ct.jsx)(pa,{onClick:()=>(async t=>{if(e&&window.confirm("Are you sure you want to refund this payment? This action cannot be undone."))try{m(t),await(0,tt.k6k)(parseInt(e),t),await M(),window.alert("Payment refunded successfully")}catch(s){console.error("Error refunding payment:",s),window.alert("Failed to refund payment")}finally{m(null)}})(t.id),variant:"outline",size:"sm",disabled:u===t.id,children:u===t.id?(0,ct.jsx)(Ut,{className:"w-4 h-4 animate-spin"}):(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)(nr,{className:"w-4 h-4"}),"Refund"]})}),(0,ct.jsx)("button",{onClick:()=>(e=>{_(e),D({status:e.status,payment_status:e.payment_status||"pending",payment_method:e.payment_method||"manual",payment_amount:e.payment_amount||(null===s||void 0===s?void 0:s.entry_fee)||0,admin_notes:""}),y(!0)})(t),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",title:"Edit Registration",children:(0,ct.jsx)(Vf,{className:"w-4 h-4"})}),(0,ct.jsx)("button",{onClick:()=>(async(t,s)=>{if(e&&window.confirm("Are you sure you want to remove ".concat(s," from this signup?")))try{await(0,tt.ZLM)(parseInt(e),t),await M(),_s.success("Registration removed successfully")}catch(n){var a,r;console.error("Error deleting registration:",n),_s.error((null===(a=n.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.error)||"Failed to remove registration")}})(t.id,"".concat(t.first_name," ").concat(t.last_name)),className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Remove Registration",children:(0,ct.jsx)(Tn,{className:"w-4 h-4"})})]})})]}),r&&(0,ct.jsx)("tr",{className:"bg-gray-50",children:(0,ct.jsx)("td",{colSpan:7,className:"p-4",children:(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h4",{className:"text-sm font-semibold text-gray-900 mb-3 pb-2 border-b border-gray-200",children:"Payment Details"}),(0,ct.jsxs)("div",{className:"space-y-2",children:[(0,ct.jsxs)("div",{className:"flex justify-between",children:[(0,ct.jsx)("span",{className:"text-xs text-gray-600",children:"Payment Status:"}),(0,ct.jsx)("span",{className:"text-sm font-medium",children:(n=t.payment_status||"pending",(0,ct.jsx)(Ua,{variant:{completed:"success",pending:"warning",failed:"error",refunded:"default"}[n]||"default",children:n}))})]}),(0,ct.jsxs)("div",{className:"flex justify-between",children:[(0,ct.jsx)("span",{className:"text-xs text-gray-600",children:"Payment Method:"}),(0,ct.jsx)("span",{className:"text-sm font-medium text-gray-900",children:t.payment_method||"N/A"})]}),(0,ct.jsxs)("div",{className:"flex justify-between",children:[(0,ct.jsx)("span",{className:"text-xs text-gray-600",children:"Amount:"}),(0,ct.jsx)("span",{className:"text-sm font-medium text-gray-900",children:L(t.payment_amount||0)})]}),t.payment_reference&&(0,ct.jsxs)("div",{className:"flex justify-between",children:[(0,ct.jsx)("span",{className:"text-xs text-gray-600",children:"Reference:"}),(0,ct.jsx)("span",{className:"text-sm font-medium text-gray-900",children:t.payment_reference})]}),t.payment_date&&(0,ct.jsxs)("div",{className:"flex justify-between",children:[(0,ct.jsx)("span",{className:"text-xs text-gray-600",children:"Payment Date:"}),(0,ct.jsx)("span",{className:"text-sm font-medium text-gray-900",children:F(t.payment_date)})]}),t.verified_by_name&&(0,ct.jsxs)("div",{className:"flex justify-between",children:[(0,ct.jsx)("span",{className:"text-xs text-gray-600",children:"Verified By:"}),(0,ct.jsx)("span",{className:"text-sm font-medium text-gray-900",children:t.verified_by_name})]})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h4",{className:"text-sm font-semibold text-gray-900 mb-3 pb-2 border-b border-gray-200",children:"Registration Details"}),(0,ct.jsxs)("div",{className:"space-y-2",children:[(0,ct.jsxs)("div",{className:"flex justify-between",children:[(0,ct.jsx)("span",{className:"text-xs text-gray-600",children:"User ID:"}),(0,ct.jsx)("span",{className:"text-sm font-medium text-gray-900",children:t.user_id})]}),(0,ct.jsxs)("div",{className:"flex justify-between",children:[(0,ct.jsx)("span",{className:"text-xs text-gray-600",children:"Registered:"}),(0,ct.jsx)("span",{className:"text-sm font-medium text-gray-900",children:F(t.registered_at)})]}),(0,ct.jsxs)("div",{className:"flex justify-between",children:[(0,ct.jsx)("span",{className:"text-xs text-gray-600",children:"Last Updated:"}),(0,ct.jsx)("span",{className:"text-sm font-medium text-gray-900",children:F(t.updated_at)})]})]})]})]}),(null===k||void 0===k?void 0:k.questions)&&k.questions.length>0&&(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h4",{className:"text-sm font-semibold text-gray-900 mb-3 pb-2 border-b border-gray-200",children:"Registration Form (Full Details)"}),(0,ct.jsx)("div",{className:"grid grid-cols-2 gap-4",children:k.questions.map(e=>(0,ct.jsxs)("div",{className:"bg-white p-3 rounded border border-gray-200",children:[(0,ct.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:e.question}),(0,ct.jsx)("p",{className:"text-sm font-medium text-gray-900",children:O(t.registration_data,e.id,"full")})]},e.id))})]})]})})})]},t.id);var n})})]})]}),(0,ct.jsxs)(Mr,{open:x,onClose:()=>h(!1),size:"sm",children:[(0,ct.jsx)(Rr,{children:"Change Signup Status"}),(0,ct.jsx)(Lr,{children:(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsx)("div",{children:(0,ct.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Current Status: ",(0,ct.jsx)(Ua,{variant:"info",children:s.status})]})}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Status"}),(0,ct.jsxs)("select",{value:p,onChange:e=>g(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-brand-neon-green",children:[(0,ct.jsx)("option",{value:"draft",children:"Draft"}),(0,ct.jsx)("option",{value:"open",children:"Open"}),(0,ct.jsx)("option",{value:"closed",children:"Closed"}),(0,ct.jsx)("option",{value:"cancelled",children:"Cancelled"}),(0,ct.jsx)("option",{value:"archived",children:"Archived"})]})]}),(0,ct.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[(0,ct.jsx)("p",{className:"text-sm text-blue-800",children:(0,ct.jsx)("strong",{children:"Status Guide:"})}),(0,ct.jsxs)("ul",{className:"text-xs text-blue-700 mt-2 space-y-1",children:[(0,ct.jsxs)("li",{children:[(0,ct.jsx)("strong",{children:"Draft:"})," Not visible to users"]}),(0,ct.jsxs)("li",{children:[(0,ct.jsx)("strong",{children:"Open:"})," Accepting registrations"]}),(0,ct.jsxs)("li",{children:[(0,ct.jsx)("strong",{children:"Closed:"})," No longer accepting registrations"]}),(0,ct.jsxs)("li",{children:[(0,ct.jsx)("strong",{children:"Cancelled:"})," Event cancelled"]}),(0,ct.jsxs)("li",{children:[(0,ct.jsx)("strong",{children:"Archived:"})," Completed and archived"]})]})]})]})}),(0,ct.jsxs)(Fr,{children:[(0,ct.jsx)(pa,{onClick:()=>h(!1),variant:"outline",children:"Cancel"}),(0,ct.jsx)(pa,{onClick:async()=>{if(e&&p)try{await(0,tt.YvE)(parseInt(e),{status:p}),_s.success("Status updated successfully"),h(!1),await M()}catch(a){var t,s;console.error("Error updating status:",a),_s.error((null===(t=a.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.error)||"Failed to update status")}},disabled:!p||p===s.status,children:"Update Status"})]})]}),(0,ct.jsxs)(Mr,{open:f,onClose:()=>{b(!1),N([])},size:"md",children:[(0,ct.jsx)(Rr,{children:"Add Users to Signup"}),(0,ct.jsx)(Lr,{children:(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsx)("p",{className:"text-sm text-gray-600",children:"Select users to manually add to this signup. They will be marked as paid."}),(0,ct.jsx)(Yf,{selectedMembers:j,onChange:N,restrictToClub:!1,required:!1})]})}),(0,ct.jsxs)(Fr,{children:[(0,ct.jsx)(pa,{onClick:()=>{b(!1),N([])},variant:"outline",children:"Cancel"}),(0,ct.jsxs)(pa,{onClick:async()=>{if(e&&0!==j.length)try{const t=j.map(t=>(0,tt.u7U)(parseInt(e),{user_id:t,status:"paid",payment_status:"completed",payment_method:"manual",payment_amount:(null===s||void 0===s?void 0:s.entry_fee)||0,admin_notes:"Manually added by admin"}));await Promise.all(t),b(!1),N([]),await M(),_s.success("Successfully added ".concat(j.length," user(s)"))}catch(r){var t,a;console.error("Error adding users:",r),_s.error((null===(t=r.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)||"Failed to add users")}else _s.error("Please select at least one user")},disabled:0===j.length,children:["Add ",j.length>0?"".concat(j.length," "):"","User",1!==j.length?"s":""]})]})]}),(0,ct.jsxs)(Mr,{open:v,onClose:()=>{y(!1),_(null)},size:"md",children:[(0,ct.jsxs)(Rr,{children:["Edit Registration - ",null===w||void 0===w?void 0:w.first_name," ",null===w||void 0===w?void 0:w.last_name]}),(0,ct.jsx)(Lr,{children:(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Registration Status"}),(0,ct.jsxs)("select",{value:P.status,onChange:e=>D((0,Re.A)((0,Re.A)({},P),{},{status:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-brand-neon-green",children:[(0,ct.jsx)("option",{value:"pending",children:"Pending"}),(0,ct.jsx)("option",{value:"paid",children:"Paid"}),(0,ct.jsx)("option",{value:"cancelled",children:"Cancelled"}),(0,ct.jsx)("option",{value:"refunded",children:"Refunded"})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Status"}),(0,ct.jsxs)("select",{value:P.payment_status,onChange:e=>D((0,Re.A)((0,Re.A)({},P),{},{payment_status:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-brand-neon-green",children:[(0,ct.jsx)("option",{value:"pending",children:"Pending"}),(0,ct.jsx)("option",{value:"completed",children:"Completed"}),(0,ct.jsx)("option",{value:"failed",children:"Failed"}),(0,ct.jsx)("option",{value:"refunded",children:"Refunded"})]})]})]}),(0,ct.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Method"}),(0,ct.jsxs)("select",{value:P.payment_method,onChange:e=>D((0,Re.A)((0,Re.A)({},P),{},{payment_method:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-brand-neon-green",children:[(0,ct.jsx)("option",{value:"manual",children:"Manual"}),(0,ct.jsx)("option",{value:"stripe",children:"Stripe"}),(0,ct.jsx)("option",{value:"venmo",children:"Venmo"}),(0,ct.jsx)("option",{value:"cash",children:"Cash"}),(0,ct.jsx)("option",{value:"check",children:"Check"})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Amount"}),(0,ct.jsx)(vr,{type:"number",step:"0.01",value:P.payment_amount,onChange:e=>D((0,Re.A)((0,Re.A)({},P),{},{payment_amount:parseFloat(e.target.value)||0}))})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Notes"}),(0,ct.jsx)("textarea",{value:P.admin_notes,onChange:e=>D((0,Re.A)((0,Re.A)({},P),{},{admin_notes:e.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-brand-neon-green",placeholder:"Add notes about this update..."})]})]})}),(0,ct.jsxs)(Fr,{children:[(0,ct.jsx)(pa,{onClick:()=>{y(!1),_(null)},variant:"outline",children:"Cancel"}),(0,ct.jsx)(pa,{onClick:async()=>{if(e&&w)try{await(0,tt.PhA)(parseInt(e),w.id,P),y(!1),_(null),await M(),_s.success("Registration updated successfully")}catch(a){var t,s;console.error("Error updating registration:",a),_s.error((null===(t=a.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.error)||"Failed to update registration")}},children:"Update Registration"})]})]})]}):(0,ct.jsxs)("div",{className:"text-center py-12",children:[(0,ct.jsx)("p",{className:"text-gray-600",children:"Signup not found"}),(0,ct.jsx)(pa,{onClick:()=>t("/admin/signups"),className:"mt-4",children:"Back to Signups"})]})},Qf=()=>{const e=Z(),{user:t}=mt(),[s,r]=(0,a.useState)([]),[n,l]=(0,a.useState)(!0),[i,o]=(0,a.useState)([]),[c,d]=(0,a.useState)([]),[u,m]=(0,a.useState)(!1);(0,a.useEffect)(()=>{x(),t&&h(),p()},[t]);const x=async()=>{try{l(!0);const e=await(0,tt.$QX)();r(e.data)}catch(e){console.error("Error fetching signups:",e)}finally{l(!1)}},h=async()=>{try{const e=await(0,tt.e7u)();o(e.data)}catch(e){console.error("Error fetching user registrations:",e)}},p=async()=>{try{m(!0);const e=await(0,tt.fvp)({status:"active",limit:3});d(e.data)}catch(e){console.error("Error fetching challenges:",e)}finally{m(!1)}},g=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),f=e=>e?new Date(e).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):"N/A",b=e=>{if("open"!==e.status)return!1;const t=new Date;return!(e.registration_opens_at&&new Date(e.registration_opens_at)>t)&&(!(e.registration_closes_at&&new Date(e.registration_closes_at)<t)&&!(e.max_registrations&&e.total_registrations&&e.total_registrations>=e.max_registrations))},v=e=>i.find(t=>t.signup_id===e);return n?(0,ct.jsx)("div",{className:"flex justify-center items-center min-h-[400px]",children:(0,ct.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-neon-green"})}):(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsx)(bn,{title:"Event Signups",subtitle:"Register for upcoming events and tournaments",icon:Nt}),0===s.length?(0,ct.jsxs)(Pa,{className:"p-12 text-center",children:[(0,ct.jsx)(Ye,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),(0,ct.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Events Available"}),(0,ct.jsx)("p",{className:"text-gray-600",children:"Check back later for upcoming events and tournaments."})]}):(0,ct.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(t=>{const s=(e=>{if("open"!==e.status)return{text:"Not Available",icon:nr,color:"text-gray-500"};const t=new Date;return e.registration_opens_at&&new Date(e.registration_opens_at)>t?{text:"Opens Soon",icon:Qs,color:"text-yellow-600"}:e.registration_closes_at&&new Date(e.registration_closes_at)<t?{text:"Closed",icon:nr,color:"text-red-600"}:e.max_registrations&&e.total_registrations&&e.total_registrations>=e.max_registrations?{text:"Full",icon:nr,color:"text-red-600"}:{text:"Open",icon:Ks,color:"text-green-600"}})(t),a=s.icon,r=b(t),n=v(t.id),l=(e=>{const t=v(e.id);return t?"paid"===t.status?"Registered \u2713":"Complete Payment":b(e)?"Register Now":"View Details"})(t);return(0,ct.jsxs)(Pa,{className:"flex flex-col hover:shadow-lg transition-shadow",children:[t.image_url&&(0,ct.jsx)("img",{src:t.image_url,alt:t.title,className:"w-full h-48 object-cover rounded-t-lg"}),(0,ct.jsxs)("div",{className:"p-6 flex-1 flex flex-col",children:[(0,ct.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,ct.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:t.title}),(0,ct.jsxs)("div",{className:"flex gap-2",children:[(i=t.status,(0,ct.jsx)(Ua,{variant:{open:"success",draft:"default",closed:"warning",archived:"info"}[i]||"default",children:i})),n&&(0,ct.jsx)(Ua,{variant:"paid"===n.status?"success":"warning",children:"paid"===n.status?"Paid":"Pending"})]})]}),t.description&&(0,ct.jsx)("p",{className:"text-gray-600 mb-4 flex-1 line-clamp-3",children:t.description}),(0,ct.jsxs)("div",{className:"space-y-3",children:[(0,ct.jsxs)("div",{className:"flex items-center gap-2 text-gray-700",children:[(0,ct.jsx)(Xn,{className:"w-5 h-5 text-green-600"}),(0,ct.jsx)("span",{className:"font-semibold",children:g(t.entry_fee)})]}),(0,ct.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,ct.jsx)(Ye,{className:"w-5 h-5"}),(0,ct.jsxs)("span",{className:"text-sm",children:[t.total_registrations||0,t.max_registrations?" / ".concat(t.max_registrations):""," registered"]})]}),t.registration_closes_at&&(0,ct.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,ct.jsx)(Nt,{className:"w-5 h-5"}),(0,ct.jsxs)("span",{className:"text-sm",children:["Closes ",f(t.registration_closes_at)]})]}),(0,ct.jsxs)("div",{className:"flex items-center gap-2 ".concat(s.color),children:[(0,ct.jsx)(a,{className:"w-5 h-5"}),(0,ct.jsx)("span",{className:"text-sm font-medium",children:s.text})]})]}),(0,ct.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:(0,ct.jsx)(pa,{onClick:()=>e("/signups/".concat(t.id)),className:"w-full",variant:"paid"===(null===n||void 0===n?void 0:n.status)?"primary":"pending"===(null===n||void 0===n?void 0:n.status)?"neon":r?"primary":"outline",children:l})})]})]},t.id);var i})}),(0,ct.jsxs)("div",{className:"mt-12",children:[(0,ct.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,ct.jsx)(qe,{className:"w-6 h-6 text-brand-neon-green"}),(0,ct.jsx)("h2",{className:"text-2xl font-bold text-white",children:"CTP Challenges"})]}),u?(0,ct.jsx)("div",{className:"flex justify-center items-center min-h-[200px]",children:(0,ct.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-neon-green"})}):0===c.length?(0,ct.jsxs)(Pa,{className:"p-8 text-center",children:[(0,ct.jsx)(pt,{className:"w-12 h-12 mx-auto text-gray-400 mb-3"}),(0,ct.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"No Active Challenges"}),(0,ct.jsx)("p",{className:"text-gray-600 mb-4",children:"Check back soon for new challenges!"})]}):(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(t=>{const s=0===Number(t.entry_fee||0);return console.log("SignupList Challenge:",t.challenge_name,{entry_fee:t.entry_fee,entry_fee_type:typeof t.entry_fee,isFreeChallenge:s}),(0,ct.jsx)(Pa,{className:"flex flex-col hover:shadow-lg transition-shadow",children:(0,ct.jsxs)("div",{className:"p-6 flex-1 flex flex-col",children:[(0,ct.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,ct.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:t.challenge_name}),(0,ct.jsx)(Ua,{variant:"active"===t.status?"success":"default",children:t.status})]}),(0,ct.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,ct.jsxs)("div",{className:"flex items-center gap-2 text-gray-700",children:[(0,ct.jsx)(pt,{className:"w-5 h-5 text-indigo-600"}),(0,ct.jsxs)("span",{className:"text-sm",children:["Hole ",t.designated_hole]})]}),(0,ct.jsxs)("div",{className:"flex items-center gap-2 text-gray-700",children:[(0,ct.jsx)(Xn,{className:"w-5 h-5 text-green-600"}),(0,ct.jsx)("span",{className:"font-semibold",children:s?"Free Entry":g(t.entry_fee)})]}),(0,ct.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,ct.jsx)(Ye,{className:"w-5 h-5"}),(0,ct.jsxs)("span",{className:"text-sm",children:[t.total_entries||0," entries"]})]}),(0,ct.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,ct.jsx)(Nt,{className:"w-5 h-5"}),(0,ct.jsxs)("span",{className:"text-sm",children:["Ends ",f(t.week_end_date)]})]})]}),(0,ct.jsx)("div",{className:"mt-auto pt-4 border-t border-gray-200",children:(0,ct.jsx)(pa,{onClick:()=>e("/challenges"),className:"w-full",variant:"primary",children:"Enter Challenge"})})]})},t.id)})}),(0,ct.jsx)("div",{className:"text-center mt-6",children:(0,ct.jsx)(pa,{onClick:()=>e("/challenges"),variant:"outline",className:"border-brand-neon-green text-brand-neon-green hover:bg-brand-neon-green hover:text-black",children:"View All Challenges"})})]})]})]})},Kf=e=>{let{questions:t,formData:s,onChange:a,userClub:r}=e;const n=e=>{var t,n,l;if(!(e=>!e.conditional||s[e.conditional.dependsOn]===e.conditional.showWhen)(e))return null;const i=s[e.id];switch(e.type){case"text":return(0,ct.jsxs)("div",{className:"mb-4",children:[(0,ct.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.question,e.required&&(0,ct.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,ct.jsx)(vr,{type:"text",value:i||"",onChange:t=>a(e.id,t.target.value),placeholder:e.placeholder,required:e.required})]},e.id);case"radio":return(0,ct.jsxs)("div",{className:"mb-4",children:[(0,ct.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.question,e.required&&(0,ct.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,ct.jsx)("div",{className:"space-y-2",children:null===(t=e.options)||void 0===t?void 0:t.map(t=>(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)("input",{type:"radio",id:"".concat(e.id,"-").concat(t),name:e.id,value:t,checked:i===t,onChange:t=>a(e.id,t.target.value),required:e.required,className:"w-4 h-4 text-brand-dark-green focus:ring-brand-dark-green"}),(0,ct.jsx)("label",{htmlFor:"".concat(e.id,"-").concat(t),className:"ml-2 text-sm text-gray-700",children:t})]},t))})]},e.id);case"checkbox":return(0,ct.jsxs)("div",{className:"mb-4",children:[(0,ct.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.question,e.required&&(0,ct.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,ct.jsx)("div",{className:"space-y-2",children:null===(n=e.options)||void 0===n?void 0:n.map(t=>(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)("input",{type:"checkbox",id:"".concat(e.id,"-").concat(t),checked:(i||[]).includes(t),onChange:s=>{const r=i||[],n=s.target.checked?[...r,t]:r.filter(e=>e!==t);a(e.id,n)},className:"rounded border-gray-300 text-brand-dark-green focus:ring-brand-dark-green"}),(0,ct.jsx)("label",{htmlFor:"".concat(e.id,"-").concat(t),className:"ml-2 text-sm text-gray-700",children:t})]},t))})]},e.id);case"member_multiselect":return(0,ct.jsxs)("div",{className:"mb-4",children:[(0,ct.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.question,e.required&&(0,ct.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,ct.jsx)(Yf,{selectedMembers:i||[],onChange:t=>a(e.id,t),userClub:r,restrictToClub:null===(l=e.restrictToClub)||void 0===l||l,maxSelections:e.maxSelections,required:e.required})]},e.id);default:return null}};return(0,ct.jsx)("div",{className:"space-y-4",children:t.map(e=>n(e))})},Jf=Qg("pk_live_51OMksoIxApvccLawqRPtBKJIIPhLpnQREnN0ZUyPLvgodAJC1mXTUTuSdquuP1S8vX0R79MUD1u6ABTE4pbJqkhn00njjVlrNc"),Xf={style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}},Zf=e=>{let{signupId:t,clientSecret:s,onSuccess:r,amount:n}=e;const l=kf(),i=bf(),[o,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(null);return(0,ct.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),l&&i){c(!0),u(null);try{const e=i.getElement(Sf);if(!e)throw new Error("Card element not found");const{error:a,paymentIntent:n}=await l.confirmCardPayment(s,{payment_method:{card:e}});if(a)throw new Error(a.message);if("succeeded"!==(null===n||void 0===n?void 0:n.status))throw new Error("Payment was not successful");await(0,tt.Y7O)(t,n.id),r()}catch(a){u(a.message||"An unexpected error occurred")}finally{c(!1)}}},className:"space-y-4",children:[(0,ct.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[(0,ct.jsx)("p",{className:"text-sm text-gray-600",children:"Amount to pay"}),(0,ct.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(n)})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,ct.jsx)(Mg,{className:"w-4 h-4 inline mr-2"}),"Card Details"]}),(0,ct.jsx)("div",{className:"border rounded-lg p-3 bg-white",children:(0,ct.jsx)(Sf,{options:Xf})})]}),d&&(0,ct.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 text-sm text-red-800",children:d}),(0,ct.jsx)(pa,{type:"submit",disabled:!l||o,className:"w-full",children:o?"Processing...":"Pay Now"})]})},eb=()=>{const{id:e}=ee(),t=Z(),s=J(),{user:r}=mt(),[n,l]=(0,a.useState)(null),[i,o]=(0,a.useState)(!0),[c,d]=(0,a.useState)("details"),[u,m]=(0,a.useState)("stripe"),[x,h]=(0,a.useState)(null),[p,g]=(0,a.useState)(null),[f,b]=(0,a.useState)(""),[v,y]=(0,a.useState)(!1),[j,N]=(0,a.useState)(!1),[w,_]=(0,a.useState)(null),[k,S]=(0,a.useState)(null),[C,A]=(0,a.useState)({});(0,a.useEffect)(()=>{e&&E()},[e,r]);const E=async()=>{if(e)try{o(!0);const s=[(0,tt.M8e)(e)];r&&s.push((0,tt.KiS)(parseInt(e)));const a=await Promise.all(s),n=a[0],i=a[1];if(l(n.data),console.log("Signup data:",n.data),console.log("Registration form template:",n.data.registration_form_template),i?(console.log("Registration status:",i.data),N(i.data.registered),i.data.registered&&_(i.data.registration)):(N(!1),_(null)),n.data.registration_form_template)try{const e=await(0,tt.ebi)();console.log("Available templates:",e.data);const t=e.data.find(e=>e.template_key===n.data.registration_form_template||e.id.toString()===n.data.registration_form_template);console.log("Found template:",t),t?S(t):console.warn("Template not found for key:",n.data.registration_form_template)}catch(t){console.error("Error fetching registration template:",t)}}catch(s){console.error("Error loading page data:",s),window.alert("Failed to load signup details")}finally{o(!1)}},T=async()=>{if(!e||!r)return window.alert("You must be logged in to register"),void t("/login",{state:{from:s.pathname+s.search}});if(w||!k||(()=>{if(!k)return!0;for(const e of k.questions)if(e.required){const t=C[e.id];if(!t||Array.isArray(t)&&0===t.length)return window.alert("Please answer: ".concat(e.question)),!1}return!0})())try{y(!0);let t=p;if(w)t=w.id,g(t);else{t=(await(0,tt.pP9)(parseInt(e),k?C:void 0)).data.id,g(t)}if(null!==n&&void 0!==n&&n.entry_fee&&n.entry_fee>0&&n.stripe_enabled&&"stripe"===u){const t=await(0,tt.fI$)(parseInt(e));h(t.data.clientSecret),d("payment")}else null!==n&&void 0!==n&&n.entry_fee&&n.entry_fee>0&&"venmo"===u?d("payment"):d("complete")}catch(i){var a,l;console.error("Error registering:",i),null!==(a=i.response)&&void 0!==a&&null!==(l=a.data)&&void 0!==l&&l.error?window.alert(i.response.data.error):window.alert("Failed to register for signup")}finally{y(!1)}},P=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),D=e=>e?new Date(e).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"}):"N/A";return i?(0,ct.jsx)("div",{className:"flex justify-center items-center min-h-[400px]",children:(0,ct.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-neon-green"})}):n?"complete"===c?(0,ct.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,ct.jsxs)(Pa,{className:"p-8 text-center",children:[(0,ct.jsx)(Ks,{className:"w-16 h-16 mx-auto text-green-600 mb-4"}),(0,ct.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Registration Complete!"}),(0,ct.jsx)("p",{className:"text-gray-600 mb-6",children:n.confirmation_message||"Thank you for registering! You will receive a confirmation email shortly."}),"venmo"===u&&(0,ct.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:(0,ct.jsx)("p",{className:"text-sm text-yellow-800",children:"Your registration is pending payment verification. An admin will verify your Venmo payment shortly."})}),(0,ct.jsxs)("div",{className:"flex gap-3 justify-center",children:[(0,ct.jsx)(pa,{onClick:()=>t("/profile"),variant:"primary",children:"Back to Your Profile"}),(0,ct.jsx)(pa,{onClick:()=>t("/signups"),variant:"outline",children:"View All Signups"})]})]})}):(0,ct.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,ct.jsx)(vn,{title:n.title,onBack:()=>t("/signups")}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,ct.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,ct.jsxs)(Pa,{className:"p-6",children:[(0,ct.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,ct.jsx)(Nt,{className:"w-5 h-5 text-brand-neon-green"}),(0,ct.jsx)("h2",{className:"text-xl font-semibold",children:"About This Event"})]}),n.description&&(0,ct.jsx)("p",{className:"text-gray-700 mb-4 leading-relaxed",children:n.description}),(0,ct.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-200",children:[(0,ct.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ct.jsx)(Xn,{className:"w-5 h-5 text-green-600"}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-sm text-gray-600",children:"Entry Fee"}),(0,ct.jsx)("p",{className:"font-semibold",children:P(n.entry_fee)})]})]}),(0,ct.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ct.jsx)(Ye,{className:"w-5 h-5 text-blue-600"}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-sm text-gray-600",children:"Registered"}),(0,ct.jsxs)("p",{className:"font-semibold",children:[n.total_registrations||0,n.max_registrations?" / ".concat(n.max_registrations):""]})]})]}),n.registration_opens_at&&(0,ct.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ct.jsx)(Nt,{className:"w-5 h-5 text-purple-600"}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-sm text-gray-600",children:"Opens"}),(0,ct.jsx)("p",{className:"font-semibold text-sm",children:D(n.registration_opens_at)})]})]}),n.registration_closes_at&&(0,ct.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ct.jsx)(Qs,{className:"w-5 h-5 text-orange-600"}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-sm text-gray-600",children:"Closes"}),(0,ct.jsx)("p",{className:"font-semibold text-sm",children:D(n.registration_closes_at)})]})]})]})]}),"payment"===c&&(0,ct.jsxs)(Pa,{className:"p-6",children:[(0,ct.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Payment"}),"stripe"===u&&x?(0,ct.jsx)(gf,{stripe:Jf,children:(0,ct.jsx)(Zf,{signupId:parseInt(e),clientSecret:x,onSuccess:()=>d("complete"),amount:n.entry_fee})}):"venmo"===u?(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[(0,ct.jsx)("p",{className:"text-blue-800 text-sm font-medium mb-1",children:"Payment Instructions:"}),(0,ct.jsxs)("ol",{className:"text-blue-700 text-sm space-y-1",children:[(0,ct.jsx)("li",{children:"1. Click the Venmo link below"}),(0,ct.jsxs)("li",{children:["2. Send $",n.entry_fee," to the organizer"]}),(0,ct.jsx)("li",{children:"3. Include your name in the payment note"}),(0,ct.jsx)("li",{children:"4. Enter your transaction ID below"}),(0,ct.jsx)("li",{children:"5. The organizer will mark you as paid once they confirm payment"})]})]}),n.payment_organizer&&"other"!==n.payment_organizer&&(0,ct.jsxs)("div",{className:"border rounded-lg p-3 ".concat("jeff"===n.payment_organizer?"bg-green-50 border-green-200":"bg-blue-50 border-blue-200"),children:[(0,ct.jsx)("p",{className:"text-sm mb-2 ".concat("jeff"===n.payment_organizer?"text-green-700":"text-blue-700"),children:"jeff"===n.payment_organizer?"Jeff Testa":"Adam Christopher"}),(0,ct.jsxs)("a",{href:"jeff"===n.payment_organizer?"https://venmo.com/u/JeffTesta":"https://venmo.com/u/NN_No10",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-2 text-white rounded-lg text-sm font-medium transition-colors ".concat("jeff"===n.payment_organizer?"bg-green-600 hover:bg-green-700":"bg-blue-600 hover:bg-blue-700"),children:[(0,ct.jsx)(Xn,{className:"w-4 h-4 mr-2"}),"Pay $",n.entry_fee," on Venmo"]})]}),"other"===n.payment_organizer&&n.payment_organizer_name&&(0,ct.jsxs)("div",{className:"border rounded-lg p-3 bg-purple-50 border-purple-200",children:[(0,ct.jsx)("p",{className:"text-sm mb-2 text-purple-700",children:n.payment_organizer_name}),n.payment_venmo_url&&(0,ct.jsxs)("a",{href:n.payment_venmo_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-2 bg-purple-600 text-white rounded-lg text-sm font-medium hover:bg-purple-700 transition-colors",children:[(0,ct.jsx)(Xn,{className:"w-4 h-4 mr-2"}),"Pay $",n.entry_fee," on Venmo"]})]}),!n.payment_organizer&&n.venmo_url&&(0,ct.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:(0,ct.jsxs)("a",{href:n.venmo_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-blue-600 hover:underline",children:["Open Venmo",(0,ct.jsx)(Zn,{className:"w-4 h-4"})]})}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Venmo Transaction ID"}),(0,ct.jsx)("input",{type:"text",value:f,onChange:e=>b(e.target.value),placeholder:"Enter your Venmo transaction ID",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-brand-neon-green"})]}),(0,ct.jsx)(pa,{onClick:async()=>{if(e&&f.trim())try{y(!0),await(0,tt.Gk7)(parseInt(e),f),d("complete")}catch(t){console.error("Error submitting Venmo payment:",t),window.alert("Failed to submit Venmo payment")}finally{y(!1)}else window.alert("Please enter your Venmo transaction ID")},disabled:v||!f.trim(),className:"w-full",children:v?"Submitting...":"Submit Payment"})]}):null]})]}),(0,ct.jsx)("div",{className:"lg:col-span-1",children:(0,ct.jsxs)(Pa,{className:"p-6 sticky top-6",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Registration Status"}),r?j?(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsxs)("div",{className:"flex items-center gap-2 mb-3 ".concat("paid"===(null===w||void 0===w?void 0:w.status)?"text-green-600":"text-yellow-600"),children:["paid"===(null===w||void 0===w?void 0:w.status)?(0,ct.jsx)(Ks,{className:"w-5 h-5"}):(0,ct.jsx)(Qs,{className:"w-5 h-5"}),(0,ct.jsx)("span",{className:"font-medium",children:"paid"===(null===w||void 0===w?void 0:w.status)?"Already Registered":"Registration Pending"})]}),(0,ct.jsxs)("div",{className:"border rounded-lg p-4 space-y-2 ".concat("paid"===(null===w||void 0===w?void 0:w.status)?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"),children:[(0,ct.jsx)("p",{className:"text-sm ".concat("paid"===(null===w||void 0===w?void 0:w.status)?"text-green-800":"text-yellow-800"),children:"paid"===(null===w||void 0===w?void 0:w.status)?"You're registered for this event!":"Your registration is pending payment."}),w&&(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsxs)("div",{className:"pt-2 border-t ".concat("paid"===w.status?"border-green-200":"border-yellow-200"),children:[(0,ct.jsx)("p",{className:"text-xs font-medium ".concat("paid"===w.status?"text-green-700":"text-yellow-700"),children:"Payment Status:"}),(0,ct.jsx)(Ua,{variant:"paid"===w.status?"success":"warning",children:"paid"===w.status?"Payment Complete":"Payment Pending"})]}),"paid"!==w.status&&"venmo"===w.payment_method&&(0,ct.jsx)("p",{className:"text-xs text-yellow-700 mt-2",children:"Your Venmo payment is pending admin verification."}),w.payment_amount&&(0,ct.jsx)("div",{className:"pt-2 border-t ".concat("paid"===w.status?"border-green-200":"border-yellow-200"),children:(0,ct.jsxs)("p",{className:"text-xs ".concat("paid"===w.status?"text-green-700":"text-yellow-700"),children:["Amount: ",P(w.payment_amount)]})})]})]}),"paid"!==(null===w||void 0===w?void 0:w.status)&&"venmo"!==(null===w||void 0===w?void 0:w.payment_method)&&(null===n||void 0===n?void 0:n.entry_fee)&&n.entry_fee>0&&(0,ct.jsxs)("div",{className:"space-y-3",children:[(0,ct.jsx)("div",{className:"text-sm text-gray-700 font-medium",children:"Complete Your Payment:"}),n.stripe_enabled&&(0,ct.jsx)("div",{className:"space-y-2",children:(0,ct.jsxs)("label",{className:"flex items-center gap-2 p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[(0,ct.jsx)("input",{type:"radio",name:"paymentMethod",value:"stripe",checked:"stripe"===u,onChange:()=>m("stripe"),className:"text-brand-neon-green"}),(0,ct.jsx)(Mg,{className:"w-5 h-5 text-gray-600"}),(0,ct.jsx)("span",{className:"text-sm",children:"Credit/Debit Card"})]})}),(n.venmo_url||n.venmo_username)&&(0,ct.jsxs)("label",{className:"flex items-center gap-2 p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[(0,ct.jsx)("input",{type:"radio",name:"paymentMethod",value:"venmo",checked:"venmo"===u,onChange:()=>m("venmo"),className:"text-brand-neon-green"}),(0,ct.jsx)(Xn,{className:"w-5 h-5 text-blue-500"}),(0,ct.jsx)("span",{className:"text-sm",children:"Venmo"})]}),(0,ct.jsx)(pa,{onClick:T,disabled:v,className:"w-full",children:v?"Processing...":"Complete Payment"})]}),(0,ct.jsx)(pa,{onClick:()=>t("/signups"),variant:"outline",className:"w-full",children:"View All Signups"})]}):(()=>{if(!n||"open"!==n.status)return!1;const e=new Date;return!(n.registration_opens_at&&new Date(n.registration_opens_at)>e)&&(!(n.registration_closes_at&&new Date(n.registration_closes_at)<e)&&!(n.max_registrations&&n.total_registrations&&n.total_registrations>=n.max_registrations))})()?"details"===c?(0,ct.jsxs)("div",{className:"space-y-4",children:[(console.log("Rendering registration step - registrationTemplate:",k),console.log("Questions:",null===k||void 0===k?void 0:k.questions),console.log("Questions length:",null===k||void 0===k||null===(M=k.questions)||void 0===M?void 0:M.length),k&&k.questions&&k.questions.length>0?(0,ct.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mb-4",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Registration Information"}),(0,ct.jsx)(Kf,{questions:k.questions,formData:C,onChange:(e,t)=>{console.log("Form data changed:",e,t),A((0,Re.A)((0,Re.A)({},C),{},{[e]:t}))},userClub:null===r||void 0===r?void 0:r.club})]}):null),n.entry_fee>0?(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,ct.jsx)("p",{className:"text-xs text-blue-600 font-medium uppercase mb-1",children:"Entry Fee"}),(0,ct.jsx)("p",{className:"text-3xl font-bold text-blue-900",children:P(n.entry_fee)})]}),(0,ct.jsxs)("div",{className:"space-y-3",children:[(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsx)("label",{className:"text-sm font-semibold text-gray-900",children:"Select Payment Method"}),(0,ct.jsx)("span",{className:"text-xs text-gray-500",children:"Required"})]}),(0,ct.jsxs)("div",{className:"space-y-2",children:[n.stripe_enabled&&(0,ct.jsxs)("label",{className:"flex items-center gap-3 p-4 border-2 rounded-lg cursor-pointer transition-all ".concat("stripe"===u?"border-brand-neon-green bg-green-50 shadow-sm":"border-gray-200 hover:border-gray-300 bg-white"),children:[(0,ct.jsx)("input",{type:"radio",name:"paymentMethod",value:"stripe",checked:"stripe"===u,onChange:()=>m("stripe"),className:"w-4 h-4 text-brand-neon-green focus:ring-brand-neon-green"}),(0,ct.jsx)(Mg,{className:"w-5 h-5 ".concat("stripe"===u?"text-brand-neon-green":"text-gray-400")}),(0,ct.jsxs)("div",{className:"flex-1",children:[(0,ct.jsx)("p",{className:"font-medium ".concat("stripe"===u?"text-gray-900":"text-gray-700"),children:"Credit Card"}),(0,ct.jsx)("p",{className:"text-xs text-gray-500",children:"Pay securely with Stripe"})]})]}),(n.venmo_url||n.payment_organizer)&&(0,ct.jsxs)("label",{className:"flex items-center gap-3 p-4 border-2 rounded-lg cursor-pointer transition-all ".concat("venmo"===u?"border-brand-neon-green bg-green-50 shadow-sm":"border-gray-200 hover:border-gray-300 bg-white"),children:[(0,ct.jsx)("input",{type:"radio",name:"paymentMethod",value:"venmo",checked:"venmo"===u,onChange:()=>m("venmo"),className:"w-4 h-4 text-brand-neon-green focus:ring-brand-neon-green"}),(0,ct.jsx)(Xn,{className:"w-5 h-5 ".concat("venmo"===u?"text-brand-neon-green":"text-gray-400")}),(0,ct.jsxs)("div",{className:"flex-1",children:[(0,ct.jsx)("p",{className:"font-medium ".concat("venmo"===u?"text-gray-900":"text-gray-700"),children:"Venmo"}),(0,ct.jsx)("p",{className:"text-xs text-gray-500",children:"Pay via Venmo app"})]})]})]})]}),(0,ct.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[(0,ct.jsx)(pa,{onClick:T,disabled:v,className:"w-full",size:"lg",children:v?"Processing...":"Continue to Payment"}),(0,ct.jsx)("p",{className:"text-xs text-center text-gray-500 mt-2",children:"You'll complete payment in the next step"})]})]}):(0,ct.jsxs)(ct.Fragment,{children:[(0,ct.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,ct.jsxs)("div",{className:"flex items-center gap-2 text-green-700",children:[(0,ct.jsx)(Ks,{className:"w-5 h-5"}),(0,ct.jsx)("p",{className:"font-medium",children:"Free Event"})]}),(0,ct.jsx)("p",{className:"text-sm text-green-600 mt-1",children:"No payment required"})]}),(0,ct.jsx)(pa,{onClick:T,disabled:v,className:"w-full",size:"lg",children:v?"Registering...":"Complete Registration"})]})]}):null:(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsxs)("div",{className:"flex items-center gap-2 text-red-600",children:[(0,ct.jsx)(nr,{className:"w-5 h-5"}),(0,ct.jsx)("span",{className:"font-medium",children:"Registration Closed"})]}),(0,ct.jsx)("p",{className:"text-sm text-gray-600",children:"Registration for this event is not currently available."})]}):(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsx)("p",{className:"text-sm text-gray-600",children:"You must be logged in to register."}),(0,ct.jsx)(pa,{onClick:()=>t("/login",{state:{from:s.pathname+s.search}}),className:"w-full",children:"Log In"})]})]})})]})]}):(0,ct.jsxs)("div",{className:"text-center py-12",children:[(0,ct.jsx)("p",{className:"text-gray-600",children:"Signup not found"}),(0,ct.jsx)(pa,{onClick:()=>t("/signups"),className:"mt-4",children:"Back to Signups"})]});var M},tb=We("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),sb=()=>{var e;const[t,s]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0),[l,i]=(0,a.useState)(""),[o,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(!1),[m,x]=(0,a.useState)(null),[h,p]=(0,a.useState)(null),[g,f]=(0,a.useState)({name:"",description:"",category:"general",template_key:"",questions:[],is_active:!0}),[b,v]=(0,a.useState)(null),[y,j]=(0,a.useState)({id:"",question:"",type:"text",required:!1,options:[],placeholder:""}),[N,w]=(0,a.useState)("");(0,a.useEffect)(()=>{_()},[l]),(0,a.useEffect)(()=>{"text"===y.type&&w("")},[y.type]);const _=async()=>{try{n(!0);const e=await(0,tt.F4m)({category:l||void 0});s(e.data)}catch(e){console.error("Error fetching templates:",e),_s.error("Failed to fetch templates")}finally{n(!1)}},k=()=>{f({name:"",description:"",category:"general",template_key:"",questions:[],is_active:!0}),j({id:"",question:"",type:"text",required:!1,options:[],placeholder:""}),w(""),v(null)},S=(e,t)=>{const s=[...g.questions],a="up"===t?e-1:e+1;a<0||a>=s.length||([s[e],s[a]]=[s[a],s[e]],f((0,Re.A)((0,Re.A)({},g),{},{questions:s})))},C=e=>(0,ct.jsx)(Ua,{variant:{general:"default",event:"info",tournament:"warning",league:"success"}[e]||"default",children:e});return(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsx)(bn,{title:"Registration Templates",subtitle:"Create and manage reusable registration form templates",icon:er,action:(0,ct.jsxs)(pa,{onClick:()=>c(!0),className:"flex items-center gap-2",children:[(0,ct.jsx)(Gt,{className:"w-4 h-4"}),"Create Template"]})}),(0,ct.jsx)(Pa,{className:"p-4",children:(0,ct.jsx)("div",{className:"flex gap-4 items-end",children:(0,ct.jsxs)("div",{className:"w-48",children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),(0,ct.jsxs)("select",{value:l,onChange:e=>i(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-brand-neon-green",children:[(0,ct.jsx)("option",{value:"",children:"All Categories"}),(0,ct.jsx)("option",{value:"general",children:"General"}),(0,ct.jsx)("option",{value:"event",children:"Event"}),(0,ct.jsx)("option",{value:"tournament",children:"Tournament"}),(0,ct.jsx)("option",{value:"league",children:"League"})]})]})})}),(0,ct.jsx)(Pa,{children:(0,ct.jsxs)(Kr,{children:[(0,ct.jsx)("thead",{children:(0,ct.jsxs)("tr",{children:[(0,ct.jsx)("th",{children:"Name"}),(0,ct.jsx)("th",{children:"Category"}),(0,ct.jsx)("th",{children:"Questions"}),(0,ct.jsx)("th",{children:"Status"}),(0,ct.jsx)("th",{children:"Type"}),(0,ct.jsx)("th",{children:"Created By"}),(0,ct.jsx)("th",{children:"Actions"})]})}),(0,ct.jsx)("tbody",{children:r?(0,ct.jsx)("tr",{children:(0,ct.jsx)("td",{colSpan:7,className:"text-center py-8",children:(0,ct.jsx)("div",{className:"flex justify-center items-center",children:(0,ct.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-neon-green"})})})}):0===t.length?(0,ct.jsx)("tr",{children:(0,ct.jsx)("td",{colSpan:7,className:"text-center py-8 text-gray-500",children:"No templates found. Create your first template to get started!"})}):t.map(e=>(0,ct.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,ct.jsx)("td",{children:(0,ct.jsxs)("div",{children:[(0,ct.jsx)("div",{className:"font-medium text-gray-900",children:e.name}),e.description&&(0,ct.jsx)("div",{className:"text-sm text-gray-500 truncate max-w-md",children:e.description})]})}),(0,ct.jsx)("td",{children:C(e.category)}),(0,ct.jsxs)("td",{className:"text-gray-600",children:[e.questions.length," questions"]}),(0,ct.jsx)("td",{children:(0,ct.jsx)(Ua,{variant:e.is_active?"success":"default",children:e.is_active?"Active":"Inactive"})}),(0,ct.jsx)("td",{children:(0,ct.jsx)(Ua,{variant:e.is_system?"info":"default",children:e.is_system?"System":"Custom"})}),(0,ct.jsx)("td",{className:"text-sm text-gray-600",children:e.created_by_name||"System"}),(0,ct.jsx)("td",{children:(0,ct.jsxs)("div",{className:"flex gap-2",children:[(0,ct.jsx)("button",{onClick:()=>(e=>{p(e),u(!0)})(e),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",title:"Preview",children:(0,ct.jsx)(wt,{className:"w-4 h-4"})}),(0,ct.jsx)("button",{onClick:()=>(e=>{f({name:"".concat(e.name," (Copy)"),description:e.description||"",category:e.category,template_key:"".concat(e.template_key,"_copy_").concat(Date.now()),questions:[...e.questions],is_active:!0}),c(!0)})(e),className:"p-1 text-green-600 hover:bg-green-50 rounded",title:"Duplicate",children:(0,ct.jsx)(tb,{className:"w-4 h-4"})}),(0,ct.jsx)("button",{onClick:()=>(e=>{x(e),f({name:e.name,description:e.description||"",category:e.category,template_key:e.template_key,questions:[...e.questions],is_active:e.is_active})})(e),className:"p-1 text-gray-600 hover:bg-gray-100 rounded",title:"Edit",children:(0,ct.jsx)(Vf,{className:"w-4 h-4"})}),(0,ct.jsx)("button",{onClick:()=>(async e=>{const a=e.is_system?"System templates cannot be deleted, but will be deactivated. Continue?":"Are you sure you want to delete this template? This action cannot be undone.";if(window.confirm(a))try{await(0,tt.daj)(e.id),e.is_system?(s(t.map(t=>t.id===e.id?(0,Re.A)((0,Re.A)({},t),{},{is_active:!1}):t)),_s.success("System template deactivated")):(s(t.filter(t=>t.id!==e.id)),_s.success("Template deleted successfully"))}catch(l){var r,n;console.error("Error deleting template:",l),_s.error((null===(r=l.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.error)||"Failed to delete template")}})(e),className:"p-1 text-red-600 hover:bg-red-50 rounded",title:e.is_system?"Deactivate":"Delete",children:(0,ct.jsx)(Tn,{className:"w-4 h-4"})})]})})]},e.id))})]})}),(0,ct.jsxs)(Mr,{open:o||null!==m,onClose:()=>{c(!1),x(null),k()},size:"xl",children:[(0,ct.jsx)(Rr,{children:m?"Edit Template":"Create New Template"}),(0,ct.jsx)(Lr,{children:(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Template Name *"}),(0,ct.jsx)(vr,{type:"text",value:g.name,onChange:e=>f((0,Re.A)((0,Re.A)({},g),{},{name:e.target.value})),placeholder:"e.g., Basic Information",required:!0})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Template Key *"}),(0,ct.jsx)(vr,{type:"text",value:g.template_key,onChange:e=>f((0,Re.A)((0,Re.A)({},g),{},{template_key:e.target.value.toLowerCase().replace(/\s+/g,"_")})),placeholder:"e.g., basic_info",required:!0}),(0,ct.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Unique identifier (lowercase, underscores only)"})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,ct.jsx)("textarea",{value:g.description,onChange:e=>f((0,Re.A)((0,Re.A)({},g),{},{description:e.target.value})),placeholder:"Brief description of this template...",rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-brand-neon-green"})]}),(0,ct.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),(0,ct.jsxs)("select",{value:g.category,onChange:e=>f((0,Re.A)((0,Re.A)({},g),{},{category:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-brand-neon-green",children:[(0,ct.jsx)("option",{value:"general",children:"General"}),(0,ct.jsx)("option",{value:"event",children:"Event"}),(0,ct.jsx)("option",{value:"tournament",children:"Tournament"}),(0,ct.jsx)("option",{value:"league",children:"League"})]})]}),(0,ct.jsxs)("div",{className:"flex items-center mt-6",children:[(0,ct.jsx)("input",{type:"checkbox",id:"is_active",checked:g.is_active,onChange:e=>f((0,Re.A)((0,Re.A)({},g),{},{is_active:e.target.checked})),className:"rounded border-gray-300 text-brand-dark-green focus:ring-brand-dark-green"}),(0,ct.jsx)("label",{htmlFor:"is_active",className:"ml-2 text-sm text-gray-700",children:"Active"})]})]}),(0,ct.jsxs)("div",{className:"border-t pt-4",children:[(0,ct.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Questions"}),(0,ct.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4 mb-4",children:[(0,ct.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Question ID *"}),(0,ct.jsx)(vr,{type:"text",value:y.id,onChange:e=>j((0,Re.A)((0,Re.A)({},y),{},{id:e.target.value.toLowerCase().replace(/\s+/g,"_")})),placeholder:"e.g., phone_number"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),(0,ct.jsxs)("select",{value:y.type,onChange:e=>j((0,Re.A)((0,Re.A)({},y),{},{type:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-brand-neon-green",children:[(0,ct.jsx)("option",{value:"text",children:"Text"}),(0,ct.jsx)("option",{value:"radio",children:"Radio (Single Choice)"}),(0,ct.jsx)("option",{value:"checkbox",children:"Checkbox (Multiple Choice)"}),(0,ct.jsx)("option",{value:"member_multiselect",children:"Member Multi-Select"})]})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Question Text *"}),(0,ct.jsx)(vr,{type:"text",value:y.question,onChange:e=>j((0,Re.A)((0,Re.A)({},y),{},{question:e.target.value})),placeholder:"Enter your question"})]}),"text"===y.type&&(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Placeholder"}),(0,ct.jsx)(vr,{type:"text",value:y.placeholder||"",onChange:e=>j((0,Re.A)((0,Re.A)({},y),{},{placeholder:e.target.value})),placeholder:"e.g., (555) 123-4567"})]}),("radio"===y.type||"checkbox"===y.type)&&(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Options (one per line)"}),(0,ct.jsx)("textarea",{value:N,onChange:e=>w(e.target.value),placeholder:"Option 1\nOption 2\nOption 3",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-brand-neon-green"}),(0,ct.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Enter each option on a new line"})]}),"member_multiselect"===y.type&&(0,ct.jsxs)("div",{className:"space-y-3",children:[(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)("input",{type:"checkbox",id:"restrict_to_club",checked:null===(e=y.restrictToClub)||void 0===e||e,onChange:e=>j((0,Re.A)((0,Re.A)({},y),{},{restrictToClub:e.target.checked})),className:"rounded border-gray-300 text-brand-dark-green focus:ring-brand-dark-green"}),(0,ct.jsx)("label",{htmlFor:"restrict_to_club",className:"ml-2 text-sm text-gray-700",children:"Restrict to user's club only"})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximum Selections (optional)"}),(0,ct.jsx)(vr,{type:"number",min:"1",value:y.maxSelections||"",onChange:e=>j((0,Re.A)((0,Re.A)({},y),{},{maxSelections:e.target.value?parseInt(e.target.value):void 0})),placeholder:"No limit"}),(0,ct.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Leave blank for no limit"})]})]}),(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)("input",{type:"checkbox",id:"question_required",checked:y.required,onChange:e=>j((0,Re.A)((0,Re.A)({},y),{},{required:e.target.checked})),className:"rounded border-gray-300 text-brand-dark-green focus:ring-brand-dark-green"}),(0,ct.jsx)("label",{htmlFor:"question_required",className:"ml-2 text-sm text-gray-700",children:"Required"})]}),(0,ct.jsx)(pa,{onClick:()=>{if(!y.question||!y.id)return void _s.error("Question text and ID are required");const e=(0,Re.A)({},y);if("radio"!==y.type&&"checkbox"!==y.type||(e.options=N.split("\n").map(e=>e.trim()).filter(e=>e.length>0),0!==e.options.length)){if(null!==b){const t=[...g.questions];t[b]=e,f((0,Re.A)((0,Re.A)({},g),{},{questions:t})),v(null)}else f((0,Re.A)((0,Re.A)({},g),{},{questions:[...g.questions,e]}));j({id:"",question:"",type:"text",required:!1,options:[],placeholder:""}),w("")}else _s.error("Please add at least one option for radio/checkbox questions")},className:"w-full",children:null!==b?"Update Question":"Add Question"})]}),g.questions.length>0&&(0,ct.jsx)("div",{className:"space-y-2",children:g.questions.map((e,t)=>(0,ct.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:(0,ct.jsxs)("div",{className:"flex justify-between items-start",children:[(0,ct.jsxs)("div",{className:"flex-1",children:[(0,ct.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ct.jsx)("span",{className:"font-medium text-gray-900",children:e.question}),e.required&&(0,ct.jsx)("span",{className:"text-red-500",children:"*"}),(0,ct.jsx)(Ua,{variant:"default",children:e.type})]}),"text"===e.type&&e.placeholder&&(0,ct.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Placeholder: ",e.placeholder]}),("radio"===e.type||"checkbox"===e.type)&&e.options&&(0,ct.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Options: ",e.options.join(", ")]}),"member_multiselect"===e.type&&(0,ct.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[e.restrictToClub?"Club members only":"All members",e.maxSelections&&" \u2022 Max ".concat(e.maxSelections," selections")]})]}),(0,ct.jsxs)("div",{className:"flex gap-1",children:[(0,ct.jsx)("button",{onClick:()=>S(t,"up"),disabled:0===t,className:"p-1 text-gray-600 hover:bg-gray-100 rounded disabled:opacity-30",title:"Move Up",children:"\u2191"}),(0,ct.jsx)("button",{onClick:()=>S(t,"down"),disabled:t===g.questions.length-1,className:"p-1 text-gray-600 hover:bg-gray-100 rounded disabled:opacity-30",title:"Move Down",children:"\u2193"}),(0,ct.jsx)("button",{onClick:()=>(e=>{const t=g.questions[e];j((0,Re.A)({},t)),t.options&&t.options.length>0?w(t.options.join("\n")):w(""),v(e)})(t),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",title:"Edit",children:(0,ct.jsx)(Vf,{className:"w-4 h-4"})}),(0,ct.jsx)("button",{onClick:()=>(e=>{f((0,Re.A)((0,Re.A)({},g),{},{questions:g.questions.filter((t,s)=>s!==e)}))})(t),className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Remove",children:(0,ct.jsx)(Tn,{className:"w-4 h-4"})})]})]})},t))})]})]})}),(0,ct.jsxs)(Fr,{children:[(0,ct.jsx)(pa,{onClick:()=>{c(!1),x(null),k()},variant:"outline",children:"Cancel"}),(0,ct.jsx)(pa,{onClick:m?async()=>{if(m)try{if(!g.name||!g.template_key||0===g.questions.length)return void _s.error("Please fill in all required fields and add at least one question");const e=await(0,tt.hVF)(m.id,g);s(t.map(t=>t.id===m.id?e.data:t)),x(null),k(),_s.success("Template updated successfully")}catch(r){var e,a;console.error("Error updating template:",r),_s.error((null===(e=r.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.error)||"Failed to update template")}}:async()=>{try{if(!g.name||!g.template_key||0===g.questions.length)return void _s.error("Please fill in all required fields and add at least one question");const e=await(0,tt.A21)(g);s([e.data,...t]),c(!1),k(),_s.success("Template created successfully")}catch(r){var e,a;console.error("Error creating template:",r),_s.error((null===(e=r.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.error)||"Failed to create template")}},disabled:!g.name||!g.template_key||0===g.questions.length,children:m?"Update Template":"Create Template"})]})]}),(0,ct.jsxs)(Mr,{open:d,onClose:()=>{u(!1),p(null)},size:"lg",children:[(0,ct.jsxs)(Rr,{children:["Preview: ",null===h||void 0===h?void 0:h.name]}),(0,ct.jsx)(Lr,{children:h&&(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,ct.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,ct.jsx)("span",{className:"font-semibold",children:"Category:"}),C(h.category)]}),h.description&&(0,ct.jsx)("p",{className:"text-gray-700",children:h.description})]}),(0,ct.jsx)("div",{className:"space-y-4",children:h.questions.map((e,t)=>(0,ct.jsxs)("div",{className:"border-b pb-4",children:[(0,ct.jsxs)("p",{className:"font-medium text-gray-900 mb-2",children:[e.question,e.required&&(0,ct.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),"text"===e.type&&(0,ct.jsx)(vr,{type:"text",placeholder:e.placeholder||"",disabled:!0,className:"bg-gray-50"}),"radio"===e.type&&e.options&&(0,ct.jsx)("div",{className:"space-y-2",children:e.options.map((e,t)=>(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)("input",{type:"radio",disabled:!0,className:"mr-2"}),(0,ct.jsx)("label",{className:"text-gray-700",children:e})]},t))}),"checkbox"===e.type&&e.options&&(0,ct.jsx)("div",{className:"space-y-2",children:e.options.map((e,t)=>(0,ct.jsxs)("div",{className:"flex items-center",children:[(0,ct.jsx)("input",{type:"checkbox",disabled:!0,className:"mr-2"}),(0,ct.jsx)("label",{className:"text-gray-700",children:e})]},t))}),"member_multiselect"===e.type&&(0,ct.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[(0,ct.jsxs)("p",{className:"text-sm text-blue-800 mb-2",children:[(0,ct.jsx)("strong",{children:"Member Selection:"})," ",e.restrictToClub?"Club members only":"All members"]}),e.maxSelections&&(0,ct.jsxs)("p",{className:"text-sm text-blue-700",children:["Maximum ",e.maxSelections," ",1===e.maxSelections?"selection":"selections"]}),(0,ct.jsx)("div",{className:"mt-2 p-2 bg-white rounded border border-blue-200",children:(0,ct.jsx)("p",{className:"text-xs text-gray-600 italic",children:"Users will be able to search and select members from their club"})})]})]},t))})]})}),(0,ct.jsx)(Fr,{children:(0,ct.jsx)(pa,{onClick:()=>{u(!1),p(null)},children:"Close"})})]})]})},ab=e=>{var t;let{results:s,onNewSearch:r}=e;const[n,l]=(0,a.useState)("combinations"),i=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),o=e=>{let{price:t,totalBudget:s,color:a,label:r}=e;const n=t/s*100;return(0,ct.jsxs)("div",{className:"mb-3",children:[(0,ct.jsxs)("div",{className:"flex justify-between items-baseline mb-1",children:[(0,ct.jsx)("span",{className:"text-xs font-medium text-gray-700",children:r}),(0,ct.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,ct.jsx)("span",{className:"text-sm font-bold text-gray-900",children:i(t)}),(0,ct.jsxs)("span",{className:"text-xs text-gray-500",children:["(",n.toFixed(1),"%)"]})]})]}),(0,ct.jsx)("div",{className:"relative h-6 bg-gray-100 rounded overflow-hidden",children:(0,ct.jsx)("div",{className:"h-full ".concat(a," transition-all duration-300 flex items-center justify-end pr-2"),style:{width:"".concat(n,"%")},children:n>15&&(0,ct.jsxs)("span",{className:"text-xs font-medium text-white",children:[n.toFixed(0),"%"]})})})]})},c=[{id:"combinations",label:"Complete Setups (".concat(s.valid_combinations.length,")")},{id:"launch-monitors",label:"Launch Monitors (".concat(s.launch_monitors.length,")")},{id:"projectors",label:"Projectors (".concat(s.projectors.length,")")},{id:"hitting-mats",label:"Hitting Mats (".concat(s.hitting_mats.length,")")},{id:"impact-screens",label:"Impact Screens (".concat(s.impact_screens.length,")")},{id:"computers",label:"Computers (".concat(s.computers.length,")")},{id:"software",label:"Software (".concat(s.software.length,")")}];return(0,ct.jsxs)("div",{className:"space-y-6",children:[s.room_width_note&&(0,ct.jsx)(Pa,{variant:"outlined",padding:"md",className:"".concat(s.input.width<11?"border-red-500 bg-red-50":s.input.width<13?"border-yellow-500 bg-yellow-50":"border-blue-500 bg-blue-50"),children:(0,ct.jsxs)("div",{className:"flex items-start gap-3",children:[(0,ct.jsx)("span",{className:"text-2xl",children:s.input.width<11?"\u26a0\ufe0f":s.input.width<13?"\u26a1":"\u2705"}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("h3",{className:"font-semibold mb-1",children:"Room Width Analysis"}),(0,ct.jsx)("p",{className:"text-sm",children:s.room_width_note})]})]})}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,ct.jsxs)(Pa,{variant:"elevated",padding:"md",children:[(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"Your Budget"}),(0,ct.jsx)("div",{className:"text-2xl font-bold text-brand-dark-green",children:i(s.input.budget)}),s.min_budget_utilization&&(0,ct.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Min ",(100*s.min_budget_utilization).toFixed(0),"% utilized"]})]}),(0,ct.jsxs)(Pa,{variant:"elevated",padding:"md",children:[(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"Room Size"}),(0,ct.jsxs)("div",{className:"text-2xl font-bold text-brand-dark-green",children:[s.input.ceiling,"' \xd7 ",s.input.width,"' \xd7 ",s.input.depth,"'"]})]}),(0,ct.jsxs)(Pa,{variant:"elevated",padding:"md",children:[(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"Complete Setups Found"}),(0,ct.jsx)("div",{className:"text-2xl font-bold text-brand-dark-green",children:s.valid_combinations.length}),(0,ct.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Top rated combinations"})]}),(0,ct.jsxs)(Pa,{variant:"elevated",padding:"md",children:[(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:"Total Combinations"}),(0,ct.jsx)("div",{className:"text-2xl font-bold text-gray-700",children:s.total_combinations_found.toLocaleString()}),(0,ct.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Filtered by budget use"})]})]}),(0,ct.jsxs)(Pa,{variant:"elevated",padding:"none",children:[(0,ct.jsx)(Ur,{tabs:c,value:n,onChange:l,variant:"pill"}),(0,ct.jsxs)("div",{className:"p-6",children:["combinations"===n&&(0,ct.jsx)("div",{className:"space-y-6",children:0===s.valid_combinations.length?(0,ct.jsxs)("div",{className:"text-center py-12",children:[(0,ct.jsx)("p",{className:"text-xl text-gray-600 mb-4",children:"No complete simulator setups found within your budget and room constraints."}),(0,ct.jsx)("p",{className:"text-gray-500 mb-6",children:"Try increasing your budget or adjusting your room dimensions."}),(0,ct.jsx)(pa,{variant:"primary",onClick:r,children:"Adjust Search"})]}):s.valid_combinations.map((e,t)=>{return(0,ct.jsxs)(Pa,{variant:"outlined",padding:"lg",className:"hover:shadow-lg transition-shadow",children:[(0,ct.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsxs)("h3",{className:"text-xl font-bold text-brand-dark-green",children:["Setup #",t+1]}),(0,ct.jsxs)("div",{className:"flex gap-2 mt-2",children:[(a=e.total_rating,a>=35?(0,ct.jsx)(Ua,{variant:"success",children:"Excellent"}):a>=30?(0,ct.jsx)(Ua,{variant:"info",children:"Great"}):a>=25?(0,ct.jsx)(Ua,{variant:"warning",children:"Good"}):(0,ct.jsx)(Ua,{variant:"default",children:"Basic"})),(0,ct.jsxs)(Ua,{variant:"default",children:["Rating: ",e.total_rating.toFixed(1)]})]})]}),(0,ct.jsxs)("div",{className:"text-right",children:[(0,ct.jsx)("div",{className:"text-2xl font-bold text-brand-dark-green",children:i(e.total_price)}),(0,ct.jsxs)("div",{className:"text-sm text-green-600",children:[i(e.budget_remaining)," remaining"]})]})]}),(0,ct.jsxs)("div",{className:"mb-6 p-4 bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg border border-gray-200",children:[(0,ct.jsxs)("h4",{className:"text-sm font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,ct.jsx)("span",{children:"\ud83d\udcb0"}),"Budget Breakdown",(0,ct.jsx)("span",{className:"ml-auto text-xs font-normal text-gray-600",children:"All bars scaled to total budget"})]}),(0,ct.jsx)(o,{price:e.launch_monitor.price,totalBudget:s.input.budget,color:"bg-blue-600",label:"\ud83c\udfaf Launch Monitor"}),(0,ct.jsx)(o,{price:e.projector.price,totalBudget:s.input.budget,color:"bg-purple-600",label:"\ud83d\udcfd\ufe0f Projector"}),(0,ct.jsx)(o,{price:e.hitting_mat.price,totalBudget:s.input.budget,color:"bg-green-600",label:"\ud83d\udfe2 Hitting Mat"}),(0,ct.jsx)(o,{price:e.impact_screen.price,totalBudget:s.input.budget,color:"bg-orange-600",label:"\ud83c\udfac Impact Screen"}),(0,ct.jsx)(o,{price:e.computer.price,totalBudget:s.input.budget,color:"bg-red-600",label:"\ud83d\udcbb Computer"}),e.recommended_software&&(0,ct.jsx)(o,{price:e.recommended_software.price,totalBudget:s.input.budget,color:"bg-indigo-600",label:"\ud83c\udfae Software"}),(0,ct.jsx)("div",{className:"mt-4 pt-3 border-t border-gray-300",children:(0,ct.jsxs)("div",{className:"flex justify-between items-baseline",children:[(0,ct.jsx)("span",{className:"text-xs font-medium text-gray-700",children:"Total Allocated"}),(0,ct.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,ct.jsx)("span",{className:"text-base font-bold text-brand-dark-green",children:i(e.total_price)}),(0,ct.jsxs)("span",{className:"text-xs text-gray-600",children:["(",(e.total_price/s.input.budget*100).toFixed(1),"% of budget)"]})]})]})})]}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,ct.jsxs)("div",{className:"border-l-4 border-blue-500 pl-4",children:[(0,ct.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Launch Monitor"}),(0,ct.jsx)("div",{className:"font-semibold",children:e.launch_monitor.name}),(0,ct.jsxs)("div",{className:"text-sm text-gray-600",children:[e.launch_monitor.technology," \u2022 ",e.launch_monitor.placement]}),(0,ct.jsx)("div",{className:"text-sm font-bold text-blue-600 mt-1",children:i(e.launch_monitor.price)})]}),(0,ct.jsxs)("div",{className:"border-l-4 border-purple-500 pl-4",children:[(0,ct.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Projector"}),(0,ct.jsx)("div",{className:"font-semibold",children:e.projector.name}),(0,ct.jsxs)("div",{className:"text-sm text-gray-600",children:["Throw Ratio: ",e.projector.throw_ratio," \u2022 ",e.projector.max_image_size,'"']}),(0,ct.jsx)("div",{className:"text-sm font-bold text-purple-600 mt-1",children:i(e.projector.price)})]}),(0,ct.jsxs)("div",{className:"border-l-4 border-green-500 pl-4",children:[(0,ct.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Hitting Mat"}),(0,ct.jsx)("div",{className:"font-semibold",children:e.hitting_mat.name}),(0,ct.jsxs)("div",{className:"text-sm text-gray-600",children:["Rating: ",e.hitting_mat.rating,"/10"]}),(0,ct.jsx)("div",{className:"text-sm font-bold text-green-600 mt-1",children:i(e.hitting_mat.price)})]}),(0,ct.jsxs)("div",{className:"border-l-4 border-orange-500 pl-4",children:[(0,ct.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Impact Screen"}),(0,ct.jsx)("div",{className:"font-semibold",children:e.impact_screen.name}),(0,ct.jsxs)("div",{className:"text-sm text-gray-600",children:[e.impact_screen.dimensions," \u2022 ",e.impact_screen.material]}),(0,ct.jsx)("div",{className:"text-sm font-bold text-orange-600 mt-1",children:i(e.impact_screen.price)})]}),(0,ct.jsxs)("div",{className:"border-l-4 border-red-500 pl-4",children:[(0,ct.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Computer"}),(0,ct.jsx)("div",{className:"font-semibold",children:e.computer.name}),(0,ct.jsxs)("div",{className:"text-sm text-gray-600",children:[e.computer.graphics_card," \u2022 ",e.computer.performance_tier]}),(0,ct.jsx)("div",{className:"text-sm font-bold text-red-600 mt-1",children:i(e.computer.price)})]}),e.recommended_software&&(0,ct.jsxs)("div",{className:"border-l-4 border-indigo-500 pl-4",children:[(0,ct.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Compatible Software"}),(0,ct.jsx)("div",{className:"font-semibold",children:e.recommended_software.name}),(0,ct.jsx)("div",{className:"text-sm text-gray-600",children:e.recommended_software.pricing_model}),(0,ct.jsx)("div",{className:"text-sm font-bold text-indigo-600 mt-1",children:i(e.recommended_software.price)})]})]})]},t);var a})}),"combinations"!==n&&(0,ct.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:null===(t=s[n.replace("-","_")])||void 0===t?void 0:t.map((e,t)=>(0,ct.jsxs)(Pa,{variant:"outlined",padding:"md",children:[(0,ct.jsx)("h4",{className:"font-semibold mb-2",children:e.name}),(0,ct.jsxs)("div",{className:"text-sm text-gray-600 space-y-1 mb-3",children:[e.technology&&(0,ct.jsxs)("div",{children:["\u2022 ",e.technology]}),e.processor&&(0,ct.jsxs)("div",{children:["\u2022 ",e.processor]}),e.graphics_card&&(0,ct.jsxs)("div",{children:["\u2022 ",e.graphics_card]}),e.performance_tier&&(0,ct.jsxs)("div",{children:["\u2022 ",e.performance_tier]}),e.pricing_model&&(0,ct.jsxs)("div",{children:["\u2022 ",e.pricing_model]}),e.rating&&(0,ct.jsxs)("div",{children:["\u2022 Rating: ",e.rating,"/10"]}),e.score&&(0,ct.jsxs)("div",{children:["\u2022 Score: ",e.score,"/10"]})]}),(0,ct.jsx)("div",{className:"text-lg font-bold text-brand-dark-green",children:i(e.price)}),e.purchase_url&&(0,ct.jsx)("a",{href:e.purchase_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline mt-2 inline-block",children:"View Product \u2192"})]},t))})]})]}),(0,ct.jsx)("div",{className:"flex justify-center gap-4",children:(0,ct.jsx)(pa,{variant:"primary",onClick:r,children:"New Search"})})]})};var rb=s(9722);const nb=()=>{const[e,t]=(0,a.useState)({ceiling:"10",width:"15",depth:"20",budget:"10000",minBudgetUtilization:"75"}),[s,r]=(0,a.useState)({launch_monitor:"high",projector:"medium",hitting_mat:"low",impact_screen:"medium",computer:"medium"}),[n,l]=(0,a.useState)(null),[i,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)(null),u=(e,s)=>{t(t=>(0,Re.A)((0,Re.A)({},t),{},{[e]:s}))},m=()=>{t({ceiling:"10",width:"15",depth:"20",budget:"10000",minBudgetUtilization:"75"}),r({launch_monitor:"high",projector:"medium",hitting_mat:"low",impact_screen:"medium",computer:"medium"}),l(null),d(null)};return(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsxs)("div",{className:"text-center mb-8",children:[(0,ct.jsx)("h1",{className:"text-3xl font-bold text-brand-dark-green mb-2",children:"Golf Simulator Builder"}),(0,ct.jsx)("p",{className:"text-gray-600",children:"Find the perfect golf simulator setup for your space and budget"})]}),(0,ct.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,ct.jsxs)(Pa,{variant:"elevated",padding:"lg",className:"mb-8",children:[(0,ct.jsx)("h2",{className:"text-2xl font-bold text-brand-dark-green mb-6",children:"Room Dimensions & Budget"}),(0,ct.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),d(null),o(!0);try{const t=await rb.A.post("".concat(If.cA.apiBaseUrl,"/simulator/recommendations"),{ceiling:parseFloat(e.ceiling),width:parseFloat(e.width),depth:parseFloat(e.depth),budget:parseFloat(e.budget),minBudgetUtilization:parseFloat(e.minBudgetUtilization)/100,priorities:s});l(t.data)}catch(n){var a,r;console.error("Error fetching recommendations:",n),d((null===(a=n.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.error)||"Failed to fetch recommendations. Please try again.")}finally{o(!1)}},children:[(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[(0,ct.jsx)(vr,{label:"Ceiling Height (feet)",type:"number",step:"0.5",min:"7",max:"20",value:e.ceiling,onChange:e=>u("ceiling",e.target.value),required:!0,placeholder:"10"}),(0,ct.jsx)(vr,{label:"Room Width (feet)",type:"number",step:"0.5",min:"8",max:"30",value:e.width,onChange:e=>u("width",e.target.value),required:!0,placeholder:"15"}),(0,ct.jsx)(vr,{label:"Room Depth (feet)",type:"number",step:"0.5",min:"10",max:"40",value:e.depth,onChange:e=>u("depth",e.target.value),required:!0,placeholder:"20"}),(0,ct.jsx)(vr,{label:"Total Budget ($)",type:"number",step:"100",min:"1000",max:"100000",value:e.budget,onChange:e=>u("budget",e.target.value),required:!0,placeholder:"10000"})]}),(0,ct.jsxs)("div",{className:"mb-6",children:[(0,ct.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Minimum Budget Utilization: ",e.minBudgetUtilization,"%"]}),(0,ct.jsx)("input",{type:"range",min:"50",max:"95",step:"5",value:e.minBudgetUtilization,onChange:e=>u("minBudgetUtilization",e.target.value),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),(0,ct.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,ct.jsx)("span",{children:"50% - More options"}),(0,ct.jsx)("span",{children:"95% - Best value"})]}),(0,ct.jsxs)("p",{className:"text-xs text-gray-600 mt-2",children:["Only show setups that use at least ",e.minBudgetUtilization,"% of your budget. Higher values filter out under-budget combinations."]})]}),(0,ct.jsxs)("div",{className:"mb-6",children:[(0,ct.jsx)("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"What's most important to you?"}),(0,ct.jsx)("p",{className:"text-xs text-gray-600 mb-4",children:"Set your priorities for each category. High priority = best quality options, Low priority = budget options."}),(0,ct.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{key:"launch_monitor",label:"Launch Monitor",icon:"\ud83c\udfaf"},{key:"projector",label:"Projector",icon:"\ud83d\udcfd\ufe0f"},{key:"hitting_mat",label:"Hitting Mat",icon:"\ud83d\udfe2"},{key:"impact_screen",label:"Impact Screen",icon:"\ud83c\udfac"},{key:"computer",label:"Computer",icon:"\ud83d\udcbb"}].map(e=>{let{key:t,label:a,icon:n}=e;return(0,ct.jsxs)("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[(0,ct.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:[n," ",a]}),(0,ct.jsx)("div",{className:"flex gap-1",children:["low","medium","high"].map(e=>(0,ct.jsx)("button",{type:"button",onClick:()=>((e,t)=>{r(s=>(0,Re.A)((0,Re.A)({},s),{},{[e]:t}))})(t,e),className:"px-3 py-1 text-xs font-medium rounded transition-colors ".concat(s[t]===e?"high"===e?"bg-green-600 text-white":"medium"===e?"bg-blue-600 text-white":"bg-gray-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:"low"===e?"Budget":"medium"===e?"Mid":"Best"},e))})]},t)})})]}),c&&(0,ct.jsx)("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:c}),(0,ct.jsxs)("div",{className:"flex gap-4",children:[(0,ct.jsx)(pa,{type:"submit",variant:"primary",disabled:i,className:"flex-1 md:flex-initial",children:i?"Finding Recommendations...":"Get Recommendations"}),(0,ct.jsx)(pa,{type:"button",variant:"secondary",onClick:m,disabled:i,children:"Reset"})]})]}),(0,ct.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[(0,ct.jsx)("h3",{className:"font-semibold text-brand-dark-green mb-3",children:"\ud83d\udca1 Quick Tips"}),(0,ct.jsxs)("ul",{className:"text-sm text-gray-600 space-y-2",children:[(0,ct.jsxs)("li",{children:["\u2022 ",(0,ct.jsx)("strong",{children:"Minimum space:"})," 10' ceiling \xd7 11' width \xd7 13' depth"]}),(0,ct.jsxs)("li",{children:["\u2022 ",(0,ct.jsx)("strong",{children:"Optimal space:"})," 10' ceiling \xd7 16' width \xd7 20' depth"]}),(0,ct.jsxs)("li",{children:["\u2022 ",(0,ct.jsx)("strong",{children:"Budget tiers:"})," Entry ($3K-$7K) | Mid ($7K-$15K) | Premium ($15K+)"]}),(0,ct.jsxs)("li",{children:["\u2022 ",(0,ct.jsx)("strong",{children:"Room width:"})," Determines if you can accommodate both left and right-handed players"]})]})]})]}),i&&(0,ct.jsxs)(Pa,{variant:"elevated",padding:"lg",className:"text-center",children:[(0,ct.jsx)(mn,{}),(0,ct.jsxs)("p",{className:"mt-4 text-gray-600",children:["Analyzing ",e.ceiling,"' \xd7 ",e.width,"' \xd7 ",e.depth,"' space with $",parseFloat(e.budget).toLocaleString()," budget..."]})]}),!i&&n&&(0,ct.jsx)(ab,{results:n,onNewSearch:m})]})]})},lb=()=>{const[e,t]=(0,a.useState)([]),[s,r]=(0,a.useState)(!0),[n,l]=(0,a.useState)(null);(0,a.useEffect)(()=>{i();const e=setInterval(i,3e4);return()=>clearInterval(e)},[]);const i=async()=>{try{const e=await tt.Ay$.get("/sims/sync-status");t(e.data),l(null)}catch(e){l(e.message)}finally{r(!1)}},o=e=>{if(!e.is_active)return{status:"inactive",color:"text-gray-500",label:"Inactive"};if(e.consecutive_errors>5)return{status:"error",color:"text-red-600",label:"Critical"};if(e.consecutive_errors>0)return{status:"warning",color:"text-yellow-600",label:"Warning"};if(!e.last_sync_at)return{status:"unknown",color:"text-gray-500",label:"Unknown"};const t=new Date(e.last_sync_at),s=((new Date).getTime()-t.getTime())/1e3/60;return s<5?{status:"healthy",color:"text-green-600",label:"Healthy"}:s<30?{status:"warning",color:"text-yellow-600",label:"Warning"}:{status:"stale",color:"text-orange-600",label:"Stale"}},c=e=>{if(!e)return"Never";const t=new Date(e),s=(new Date).getTime()-t.getTime(),a=Math.floor(s/6e4),r=Math.floor(a/60),n=Math.floor(r/24);return a<1?"Just now":a<60?"".concat(a,"m ago"):r<24?"".concat(r,"h ago"):n<7?"".concat(n,"d ago"):t.toLocaleDateString()};return s?(0,ct.jsx)("div",{className:"flex justify-center items-center min-h-[400px]",children:(0,ct.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-neon-green"})}):(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsx)(bn,{title:"Shot Capture System",subtitle:"Monitor simulator sync health and shot statistics",icon:ft}),n&&(0,ct.jsx)(Pa,{className:"p-4 border-red-200 bg-red-50",children:(0,ct.jsxs)("div",{className:"flex items-center gap-2 text-red-800",children:[(0,ct.jsx)(lr,{className:"w-5 h-5"}),(0,ct.jsxs)("p",{className:"font-medium",children:["Error loading sync status: ",n]})]})}),(0,ct.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,ct.jsx)(Pa,{className:"p-6",children:(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Total Simulators"}),(0,ct.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:e.length})]}),(0,ct.jsx)(tr,{className:"w-10 h-10 text-brand-neon-green"})]})}),(0,ct.jsx)(Pa,{className:"p-6",children:(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Active Syncing"}),(0,ct.jsx)("p",{className:"text-3xl font-bold text-green-600",children:e.filter(e=>e.is_active&&e.last_sync_at).length})]}),(0,ct.jsx)(Ht,{className:"w-10 h-10 text-green-600"})]})}),(0,ct.jsx)(Pa,{className:"p-6",children:(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Healthy"}),(0,ct.jsx)("p",{className:"text-3xl font-bold text-green-600",children:e.filter(e=>"healthy"===o(e).status).length})]}),(0,ct.jsx)(Ks,{className:"w-10 h-10 text-green-600"})]})}),(0,ct.jsx)(Pa,{className:"p-6",children:(0,ct.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Total Shots"}),(0,ct.jsx)("p",{className:"text-3xl font-bold text-brand-dark-green",children:e.reduce((e,t)=>e+(t.total_shots_received||0),0).toLocaleString()})]}),(0,ct.jsx)(ft,{className:"w-10 h-10 text-brand-dark-green"})]})})]}),(0,ct.jsxs)("div",{className:"space-y-4",children:[(0,ct.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Simulators"}),0===e.length?(0,ct.jsxs)(Pa,{className:"p-12 text-center",children:[(0,ct.jsx)(tr,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),(0,ct.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Simulators Configured"}),(0,ct.jsxs)("p",{className:"text-gray-600",children:["Run ",(0,ct.jsx)("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"node scripts/create_simulator_api_key.js"})," to add a simulator."]})]}):(0,ct.jsx)("div",{className:"grid grid-cols-1 gap-4",children:e.map(e=>{const t=o(e);return(0,ct.jsxs)(Pa,{className:"p-6",children:[(0,ct.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,ct.jsxs)("div",{className:"flex-1",children:[(0,ct.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,ct.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.sim_name}),(0,ct.jsx)(Ua,{variant:"healthy"===t.status?"success":"error"===t.status?"error":"warning",children:t.label}),!e.is_active&&(0,ct.jsx)(Ua,{variant:"default",children:"Inactive"})]}),(0,ct.jsx)("p",{className:"text-sm text-gray-600",children:e.location}),(0,ct.jsxs)("p",{className:"text-xs text-gray-500 font-mono mt-1",children:["ID: ",e.sim_id]})]})}),(0,ct.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Total Shots"}),(0,ct.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:(e.total_shots_received||0).toLocaleString()})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Last Sync"}),(0,ct.jsxs)("div",{className:"flex items-center gap-1",children:[(0,ct.jsx)(Qs,{className:"w-3 h-3 text-gray-400"}),(0,ct.jsx)("p",{className:"text-sm text-gray-700",children:c(e.last_sync_at)})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Last Shot"}),(0,ct.jsxs)("div",{className:"flex items-center gap-1",children:[(0,ct.jsx)(ft,{className:"w-3 h-3 text-gray-400"}),(0,ct.jsx)("p",{className:"text-sm text-gray-700",children:c(e.last_shot_received_at)})]})]}),(0,ct.jsxs)("div",{children:[(0,ct.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Listener Version"}),(0,ct.jsx)("p",{className:"text-sm text-gray-700 font-mono",children:e.listener_version||"Unknown"})]})]}),e.consecutive_errors>0&&(0,ct.jsx)("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,ct.jsxs)("div",{className:"flex items-start gap-2",children:[(0,ct.jsx)(lr,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),(0,ct.jsxs)("div",{className:"flex-1",children:[(0,ct.jsxs)("p",{className:"text-sm font-medium text-red-800",children:[e.consecutive_errors," consecutive error",e.consecutive_errors>1?"s":""]}),e.last_error_message&&(0,ct.jsx)("p",{className:"text-xs text-red-700 mt-1 font-mono",children:e.last_error_message}),e.last_error_at&&(0,ct.jsxs)("p",{className:"text-xs text-red-600 mt-1",children:["Last error: ",c(e.last_error_at)]})]})]})})]},e.sim_id)})})]}),(0,ct.jsx)("div",{className:"text-center",children:(0,ct.jsxs)("p",{className:"text-xs text-gray-500",children:["Auto-refreshing every 30 seconds \u2022 Last updated: ",(new Date).toLocaleTimeString()]})})]})},ib=()=>{const{tournamentId:e}=ee();return(0,ct.jsx)($s,{tournamentId:parseInt(e||"1"),tournamentName:"Weekly Tournament"})},ob=()=>{const{tournamentId:e}=ee();return(0,ct.jsx)(Bt,{tournamentId:parseInt(e||"1"),tournamentName:"Weekly Tournament"})},cb=()=>{const{leagueId:e}=ee();return(0,ct.jsx)(Pp,{leagueId:parseInt(e||"1")})},db=()=>{const{leagueId:e,divisionId:t}=ee();return(0,ct.jsx)(Dp,{leagueId:parseInt(e||"1"),divisionId:parseInt(t||"1")})},ub=()=>{const{teamId:e,leagueId:t}=ee();return(0,ct.jsx)(Mp,{teamId:parseInt(e||"1"),leagueId:t?parseInt(t):void 0})},mb=()=>{const{teamId:e,leagueId:t}=ee();return(0,ct.jsx)(ql,{teamId:parseInt(e||"1"),leagueId:parseInt(t||"1")})},xb=()=>{const{teamId:e,leagueId:t}=ee();return(0,ct.jsx)(Np,{teamId:parseInt(e||"1"),leagueId:parseInt(t||"1")})},hb=()=>{const{teamId:e,leagueId:t}=ee();return(0,ct.jsx)(Ep,{teamId:parseInt(e||"1"),leagueId:parseInt(t||"1")})},pb=()=>{const{leagueId:e,weekNumber:t}=ee();return(0,ct.jsx)(Rp,{leagueId:parseInt(e||"1"),weekNumber:t?parseInt(t):void 0})},gb=()=>{const e=J(),t=new URLSearchParams(e.search).get("tournament");return console.log("AvailableTournamentsWrapper: tournamentId from query params:",t),(0,ct.jsx)(Nl,{})},fb=()=>{const{challengeId:e}=ee(),t=Z();return(0,ct.jsx)(Bf,{challengeId:parseInt(e||"0"),onBack:()=>t("/challenges")})},bb=()=>(0,ct.jsxs)("div",{className:"space-y-6",children:[(0,ct.jsx)("div",{className:"flex items-center justify-between",children:(0,ct.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[(0,ct.jsx)(qe,{className:"w-8 h-8 text-yellow-500"}),"CTP Challenges"]})}),(0,ct.jsx)(Of,{})]});function vb(e){let{children:t}=e;const{user:s,loading:r}=mt(),n=J(),l=Z();return console.log("ProtectedRoute: loading=",r,"user=",s?"exists":"none","pathname=",n.pathname),(0,a.useEffect)(()=>{r||s||(console.log("ProtectedRoute: Redirecting to login from",n.pathname),l("/login",{state:{from:n.pathname+n.search}}))},[r,s,l,n]),r?(console.log("ProtectedRoute: Showing loading state"),(0,ct.jsx)("div",{className:"p-4 text-center",children:"Loading..."})):s?(console.log("ProtectedRoute: Rendering protected content for",n.pathname),(0,ct.jsx)(ct.Fragment,{children:t})):(console.log("ProtectedRoute: No user, showing loading while redirecting"),(0,ct.jsx)("div",{className:"p-4 text-center",children:"Redirecting to login..."}))}function yb(e){let{children:t}=e;const{user:s,loading:r}=mt(),{hasPermission:n}=_t(),l=Z(),i=J(),o=n("access_admin_panel");return console.log("AdminProtectedRoute: loading=",r,"user=",s?"exists":"none","hasAccess=",o,"pathname=",i.pathname),(0,a.useEffect)(()=>{r||(s?o||(console.log("AdminProtectedRoute: User lacks access_admin_panel permission, redirecting to home"),l("/")):(console.log("AdminProtectedRoute: No user, redirecting to login"),l("/login")))},[r,s,l,o]),r?(console.log("AdminProtectedRoute: Showing loading state"),(0,ct.jsx)("div",{className:"p-4 text-center",children:"Loading..."})):s?o?(console.log("AdminProtectedRoute: Rendering admin content for",i.pathname),(0,ct.jsx)(ct.Fragment,{children:t})):(console.log("AdminProtectedRoute: User lacks permission, showing loading while redirecting"),(0,ct.jsx)("div",{className:"p-4 text-center",children:"Redirecting..."})):(console.log("AdminProtectedRoute: No user, showing loading while redirecting"),(0,ct.jsx)("div",{className:"p-4 text-center",children:"Redirecting to login..."}))}function jb(e){let{children:t}=e;const{user:s,loading:r}=mt(),{hasAnyPermission:n}=_t(),l=Z(),i=J(),o=n(["view_club_handicaps","manage_club_members"]);return console.log("ClubProProtectedRoute: loading=",r,"user=",s?"exists":"none","hasAccess=",o,"pathname=",i.pathname),(0,a.useEffect)(()=>{r||(s?o||l("/"):l("/login"))},[r,s,l,o]),r?(0,ct.jsx)("div",{className:"p-4 text-center",children:"Loading..."}):s?o?(0,ct.jsx)(ct.Fragment,{children:t}):(0,ct.jsx)("div",{className:"p-4 text-center",children:"Redirecting..."}):(0,ct.jsx)("div",{className:"p-4 text-center",children:"Redirecting to login..."})}function Nb(e){let{children:t}=e;const{user:s,loading:r}=mt(),{hasPermission:n}=_t(),l=Z(),i=J(),o=n("access_beta_features");return console.log("BetaProtectedRoute: loading=",r,"user=",s?"exists":"none","hasAccess=",o,"pathname=",i.pathname),(0,a.useEffect)(()=>{r||(s?o||l("/"):l("/login",{state:{from:i.pathname+i.search}}))},[r,s,l,o,i]),r?(0,ct.jsx)("div",{className:"p-4 text-center",children:"Loading..."}):s?o?(0,ct.jsx)(ct.Fragment,{children:t}):(0,ct.jsx)("div",{className:"p-4 text-center",children:"Access restricted to beta testers..."}):(0,ct.jsx)("div",{className:"p-4 text-center",children:"Redirecting to login..."})}function wb(e){let{children:t}=e;const{user:s,loading:r}=mt(),n=Z(),l=J();return console.log("SignupsProtectedRoute: loading=",r,"user=",s?"exists":"none","pathname=",l.pathname),(0,a.useEffect)(()=>{r||s||n("/login",{state:{from:l.pathname+l.search}})},[r,s,n,l]),r?(0,ct.jsx)("div",{className:"p-4 text-center",children:"Loading..."}):s?(0,ct.jsx)(ct.Fragment,{children:t}):(0,ct.jsx)("div",{className:"p-4 text-center",children:"Redirecting to login..."})}function _b(){const{user:e,loading:t}=mt(),s=Z(),r=J();return console.log("HomeRoute: loading=",t,"user=",e?"exists":"none","pathname=",r.pathname),(0,a.useEffect)(()=>{!t&&e&&(console.log("HomeRoute: User is logged in, redirecting to profile"),s("/profile",{replace:!0}))},[t,e,s]),t?(console.log("HomeRoute: Showing loading state"),(0,ct.jsx)("div",{className:"p-4 text-center",children:"Loading..."})):e?(console.log("HomeRoute: User is logged in, showing loading while redirecting"),(0,ct.jsx)("div",{className:"p-4 text-center",children:"Redirecting to profile..."})):(console.log("HomeRoute: Rendering dashboard for non-authenticated user"),(0,ct.jsx)(xt,{}))}function kb(){const[e,t]=(0,a.useState)(!1),{user:s,logout:r}=mt(),n=J();console.log("Navigation: user=",s?"exists":"none","current pathname=",n.pathname);const l=[...s?[]:[{to:"/",icon:Ve,label:"Home"}],{to:"/signups",icon:qe,label:"Compete"},{to:"/simulator-courses",icon:Ge,label:"Neighborhood Courses"},{to:"https://neighborhood-national.mn.co/",icon:Ye,label:"Community",external:!0},...s?[{to:"/profile",icon:$e,label:"Profile"}]:[]];return(0,ct.jsxs)("nav",{className:"bg-white/95 backdrop-blur-sm shadow-lg relative z-50",children:[(0,ct.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,ct.jsxs)("div",{className:"flex justify-between h-16",children:[(0,ct.jsx)("div",{className:"flex items-center",children:(0,ct.jsx)("div",{className:"flex-shrink-0",children:(0,ct.jsx)(Te,{to:"/",className:"flex items-center",children:(0,ct.jsx)("img",{src:"/Logo_N_Dark.png",alt:"NN Logo",className:"h-8 w-auto sm:h-10"})})})}),(0,ct.jsxs)("div",{className:"hidden md:flex items-center space-x-4",children:[l.map(e=>e.external?(0,ct.jsxs)("a",{href:e.to,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-3 py-2 rounded-md text-sm font-medium text-brand-black hover:bg-brand-neon-green hover:text-brand-black transition-colors",children:[(0,ct.jsx)(e.icon,{className:"w-5 h-5 mr-2"}),e.label]},e.to):(0,ct.jsxs)(Te,{to:e.to,className:"flex items-center px-3 py-2 rounded-md text-sm font-medium text-brand-black hover:bg-brand-neon-green hover:text-brand-black transition-colors",children:[(0,ct.jsx)(e.icon,{className:"w-5 h-5 mr-2"}),e.label]},e.to)),(0,ct.jsx)("div",{className:"ml-4 flex items-center space-x-2",children:s?(0,ct.jsx)(ct.Fragment,{children:(0,ct.jsx)("button",{onClick:r,className:"flex items-center px-3 py-2 rounded-md text-sm font-medium text-red-600 hover:bg-red-50 transition-colors",children:"Logout"})}):(0,ct.jsx)(ct.Fragment,{children:(0,ct.jsx)(Te,{to:"/login",className:"flex items-center px-3 py-2 rounded-md text-sm font-medium text-brand-black hover:bg-brand-neon-green hover:text-brand-black transition-colors",children:"Login"})})})]}),(0,ct.jsx)("div",{className:"md:hidden flex items-center",children:(0,ct.jsxs)("button",{onClick:()=>t(!e),className:"inline-flex items-center justify-center p-3 rounded-md text-brand-black hover:bg-brand-neon-green hover:text-brand-black transition-colors focus:outline-none focus:ring-2 focus:ring-brand-neon-green focus:ring-offset-2","aria-expanded":"false","aria-label":"Toggle navigation menu",children:[(0,ct.jsx)("span",{className:"sr-only",children:"Open main menu"}),e?(0,ct.jsx)(Qe,{className:"block h-6 w-6","aria-hidden":"true"}):(0,ct.jsx)(Ke,{className:"block h-6 w-6","aria-hidden":"true"})]})})]})}),(0,ct.jsx)("div",{className:"md:hidden ".concat(e?"block":"hidden"),children:(0,ct.jsxs)("div",{className:"px-4 pt-2 pb-4 space-y-2 bg-white/95 backdrop-blur-sm border-t border-gray-200",children:[l.map(e=>e.external?(0,ct.jsxs)("a",{href:e.to,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-3 rounded-lg text-base font-medium text-brand-black hover:bg-brand-neon-green hover:text-brand-black transition-colors",onClick:()=>t(!1),children:[(0,ct.jsx)(e.icon,{className:"w-6 h-6 mr-3"}),e.label]},e.to):(0,ct.jsxs)(Te,{to:e.to,className:"flex items-center px-4 py-3 rounded-lg text-base font-medium text-brand-black hover:bg-brand-neon-green hover:text-brand-black transition-colors",onClick:()=>t(!1),children:[(0,ct.jsx)(e.icon,{className:"w-6 h-6 mr-3"}),e.label]},e.to)),(0,ct.jsx)("div",{className:"border-t border-gray-200 pt-3 mt-3",children:s?(0,ct.jsx)(ct.Fragment,{children:(0,ct.jsx)("button",{onClick:()=>{r(),t(!1)},className:"flex items-center w-full px-4 py-3 rounded-lg text-base font-medium text-red-600 hover:bg-red-50 transition-colors",children:"Logout"})}):(0,ct.jsx)(ct.Fragment,{children:(0,ct.jsx)(Te,{to:"/login",className:"flex items-center px-4 py-3 rounded-lg text-base font-medium text-brand-black hover:bg-brand-neon-green hover:text-brand-black transition-colors",onClick:()=>t(!1),children:"Login"})})})]})})]})}function Sb(){return(0,ct.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-brand-dark-green to-brand-muted-green",children:[(0,ct.jsx)(Kp,{}),(0,ct.jsx)(kb,{}),(0,ct.jsxs)(be,{children:[(0,ct.jsx)(ge,{path:"/weekly-scoring/:tournamentId",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(vb,{children:(0,ct.jsx)(ib,{})})})}),(0,ct.jsx)(ge,{path:"/weekly-leaderboard/:tournamentId",element:(0,ct.jsx)(ob,{})}),(0,ct.jsx)(ge,{path:"/",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(_b,{})})}),(0,ct.jsx)(ge,{path:"/leaderboard",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(Vt,{})})}),(0,ct.jsx)(ge,{path:"/leaderboard/tournament/:tournamentId",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(Vt,{})})}),(0,ct.jsx)(ge,{path:"/tournaments",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(vb,{children:(0,ct.jsx)(gb,{})})})}),(0,ct.jsx)(ge,{path:"/club-pro",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(jb,{children:(0,ct.jsx)(Lp,{})})})}),(0,ct.jsx)(ge,{path:"/scoring",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(Ls,{})})}),(0,ct.jsx)(ge,{path:"/tournament-scoring",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(vb,{children:(0,ct.jsx)(Zs,{})})})}),(0,ct.jsx)(ge,{path:"/simulator-courses",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(hl,{})})}),(0,ct.jsx)(ge,{path:"/simulator-builder",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(nb,{})})}),(0,ct.jsx)(ge,{path:"/profile",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(vb,{children:(0,ct.jsx)(dl,{})})})}),(0,ct.jsx)(ge,{path:"/beta-profile",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(Nb,{children:(0,ct.jsx)(ul,{})})})}),(0,ct.jsx)(ge,{path:"/admin",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(yb,{children:(0,ct.jsx)(yn,{})})})}),(0,ct.jsx)(ge,{path:"/admin/users",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(yb,{children:(0,ct.jsx)(wn,{})})})}),(0,ct.jsx)(ge,{path:"/admin/clubs",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(yb,{children:(0,ct.jsx)(_n,{})})})}),(0,ct.jsx)(ge,{path:"/admin/engagement",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(yb,{children:(0,ct.jsx)(Sn,{})})})}),(0,ct.jsx)(ge,{path:"/admin/shot-capture",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(yb,{children:(0,ct.jsx)(lb,{})})})}),(0,ct.jsx)(ge,{path:"/admin/feature-testing",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(yb,{children:(0,ct.jsx)(Mn,{})})})}),(0,ct.jsx)(ge,{path:"/admin/club-management",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(yb,{children:(0,ct.jsx)(qp,{})})})}),(0,ct.jsx)(ge,{path:"/tournament-management",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(vb,{children:(0,ct.jsx)(Qn,{})})})}),(0,ct.jsx)(ge,{path:"/user-tracking",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(yb,{children:(0,ct.jsx)(vl,{})})})}),(0,ct.jsx)(ge,{path:"/admin/users/:userId",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(yb,{children:(0,ct.jsx)(yl,{})})})}),(0,ct.jsx)(ge,{path:"/admin/permissions",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(yb,{children:(0,ct.jsx)(Cl,{})})})}),(0,ct.jsx)(ge,{path:"/admin/league-management",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(yb,{children:(0,ct.jsx)(Al,{})})})}),(0,ct.jsx)(ge,{path:"/admin/league/:leagueId",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(yb,{children:(0,ct.jsx)(zl,{})})})}),(0,ct.jsx)(ge,{path:"/captain-dashboard/:teamId/:leagueId",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(vb,{children:(0,ct.jsx)(mb,{})})})}),(0,ct.jsx)(ge,{path:"/league-scoring",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(vb,{children:(0,ct.jsx)($l,{})})})}),(0,ct.jsx)(ge,{path:"/league-scoring/:matchupId",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(vb,{children:(0,ct.jsx)($l,{})})})}),(0,ct.jsx)(ge,{path:"/player/availability/:teamId/:leagueId",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(vb,{children:(0,ct.jsx)(xb,{})})})}),(0,ct.jsx)(ge,{path:"/player/availability-form",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(vb,{children:(0,ct.jsx)(wp,{})})})}),(0,ct.jsx)(ge,{path:"/player/team/:teamId/:leagueId",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(vb,{children:(0,ct.jsx)(hb,{})})})}),(0,ct.jsx)(ge,{path:"/leagues",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(Bl,{})})}),(0,ct.jsx)(ge,{path:"/league-standings/:leagueId",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(cb,{})})}),(0,ct.jsx)(ge,{path:"/league-standings/:leagueId/division/:divisionId",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(db,{})})}),(0,ct.jsx)(ge,{path:"/team/:teamId",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(ub,{})})}),(0,ct.jsx)(ge,{path:"/team/:teamId/league/:leagueId",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(ub,{})})}),(0,ct.jsx)(ge,{path:"/weekly-results/:leagueId",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(pb,{})})}),(0,ct.jsx)(ge,{path:"/weekly-results/:leagueId/week/:weekNumber",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(pb,{})})}),(0,ct.jsx)(ge,{path:"/login",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(Fp,{})})}),(0,ct.jsx)(ge,{path:"/claim-account",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(Ip,{})})}),(0,ct.jsx)(ge,{path:"/reset-password",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(zp,{})})}),(0,ct.jsx)(ge,{path:"/password-setup",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(vb,{children:(0,ct.jsx)(Op,{})})})}),(0,ct.jsx)(ge,{path:"/simulator-booking",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-0 sm:px-6 lg:px-8 py-0 sm:py-8",children:(0,ct.jsx)(Nb,{children:(0,ct.jsx)(Vp,{children:(0,ct.jsx)(Hp,{})})})})}),(0,ct.jsx)(ge,{path:"/club-onboarding",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(Nb,{children:(0,ct.jsx)(Qp,{})})})}),(0,ct.jsx)(ge,{path:"/booking-settings",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(yb,{children:(0,ct.jsx)(Wp,{})})})}),(0,ct.jsx)(ge,{path:"/challenges",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(vb,{children:(0,ct.jsx)(bb,{})})})}),(0,ct.jsx)(ge,{path:"/challenges/:challengeId",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(vb,{children:(0,ct.jsx)(fb,{})})})}),(0,ct.jsx)(ge,{path:"/challenges/admin",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(yb,{children:(0,ct.jsx)(Uf,{})})})}),(0,ct.jsx)(ge,{path:"/signups/:id",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(wb,{children:(0,ct.jsx)(eb,{})})})}),(0,ct.jsx)(ge,{path:"/signups",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(wb,{children:(0,ct.jsx)(Qf,{})})})}),(0,ct.jsx)(ge,{path:"/admin/signups/:id",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(yb,{children:(0,ct.jsx)($f,{})})})}),(0,ct.jsx)(ge,{path:"/admin/signups",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(yb,{children:(0,ct.jsx)(Gf,{})})})}),(0,ct.jsx)(ge,{path:"/admin/registration-templates",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(yb,{children:(0,ct.jsx)(sb,{})})})}),(0,ct.jsx)(ge,{path:"/dev/components",element:(0,ct.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,ct.jsx)(qf,{})})})]})]})}const Cb=function(){return(0,ct.jsx)(ut,{children:(0,ct.jsxs)(Ce,{children:[(0,ct.jsx)(Sb,{}),(0,ct.jsx)(Rs,{})]})})},Ab=e=>{e&&e instanceof Function&&s.e(453).then(s.bind(s,6453)).then(t=>{let{getCLS:s,getFID:a,getFCP:r,getLCP:n,getTTFB:l}=t;s(e),a(e),r(e),n(e),l(e)})};n.createRoot(document.getElementById("root")).render((0,ct.jsx)(a.StrictMode,{children:(0,ct.jsx)(Cb,{})})),Ab()})()})();
//# sourceMappingURL=main.935287ce.js.map