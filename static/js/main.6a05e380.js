/*! For license information please see main.6a05e380.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,r)=>{var s=r(853),a=r(43),n=r(950);function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function i(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(i(e)!==e)throw Error(l(188))}function m(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=m(e)))return t;e=e.sibling}return null}var x=Object.assign,h=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),v=Symbol.for("react.consumer"),j=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),S=Symbol.for("react.lazy");Symbol.for("react.scope");var C=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var E=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var T=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=T&&e[T]||e["@@iterator"])?e:null}var L=Symbol.for("react.client.reference");function R(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===L?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case b:return"Fragment";case y:return"Profiler";case g:return"StrictMode";case w:return"Suspense";case _:return"SuspenseList";case C:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case f:return"Portal";case j:return e.displayName||"Context";case v:return(e._context.displayName||"Context")+".Consumer";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case k:return null!==(t=e.displayName||null)?t:R(e.type)||"Memo";case S:t=e._payload,e=e._init;try{return R(e(t))}catch(r){}}return null}var M=Array.isArray,A=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},O=[],F=-1;function z(e){return{current:e}}function U(e){0>F||(e.current=O[F],O[F]=null,F--)}function H(e,t){F++,O[F]=e.current,e.current=t}var B,W,q=z(null),V=z(null),G=z(null),$=z(null);function Y(e,t){switch(H(G,t),H(V,e),H(q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?bu(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=gu(t=bu(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(q),H(q,e)}function Q(){U(q),U(V),U(G)}function K(e){null!==e.memoizedState&&H($,e);var t=q.current,r=gu(t,e.type);t!==r&&(H(V,e),H(q,r))}function J(e){V.current===e&&(U(q),U(V)),$.current===e&&(U($),dm._currentValue=I)}function X(e){if(void 0===B)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||"",W=-1<r.stack.indexOf("\n    at")?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+B+e+W}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var r=function(){throw Error()};if(Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(r,[])}catch(a){var s=a}Reflect.construct(e,[],r)}else{try{r.call()}catch(n){s=n}e.call(r.prototype)}}else{try{throw Error()}catch(l){s=l}(r=e())&&"function"===typeof r.catch&&r.catch(function(){})}}catch(o){if(o&&s&&"string"===typeof o.stack)return[o.stack,s.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var n=s.DetermineComponentFrameRoot(),l=n[0],o=n[1];if(l&&o){var i=l.split("\n"),c=o.split("\n");for(a=s=0;s<i.length&&!i[s].includes("DetermineComponentFrameRoot");)s++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(s===i.length||a===c.length)for(s=i.length-1,a=c.length-1;1<=s&&0<=a&&i[s]!==c[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==c[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==c[a]){var d="\n"+i[s].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=s&&0<=a);break}}}finally{Z=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?X(r):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return X(e.type);case 16:return X("Lazy");case 13:return e.child!==t&&null!==t?X("Suspense Fallback"):X("Suspense");case 19:return X("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return X("Activity");default:return""}}function re(e){try{var t="",r=null;do{t+=te(e,r),r=e,e=e.return}while(e);return t}catch(s){return"\nError generating stack: "+s.message+"\n"+s.stack}}var se=Object.prototype.hasOwnProperty,ae=s.unstable_scheduleCallback,ne=s.unstable_cancelCallback,le=s.unstable_shouldYield,oe=s.unstable_requestPaint,ie=s.unstable_now,ce=s.unstable_getCurrentPriorityLevel,de=s.unstable_ImmediatePriority,ue=s.unstable_UserBlockingPriority,me=s.unstable_NormalPriority,xe=s.unstable_LowPriority,he=s.unstable_IdlePriority,pe=s.log,fe=s.unstable_setDisableYieldValue,be=null,ge=null;function ye(e){if("function"===typeof pe&&fe(e),ge&&"function"===typeof ge.setStrictMode)try{ge.setStrictMode(be,e)}catch(t){}}var ve=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(je(e)/Ne|0)|0},je=Math.log,Ne=Math.LN2;var we=256,_e=262144,ke=4194304;function Se(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ce(e,t,r){var s=e.pendingLanes;if(0===s)return 0;var a=0,n=e.suspendedLanes,l=e.pingedLanes;e=e.warmLanes;var o=134217727&s;return 0!==o?0!==(s=o&~n)?a=Se(s):0!==(l&=o)?a=Se(l):r||0!==(r=o&~e)&&(a=Se(r)):0!==(o=s&~n)?a=Se(o):0!==l?a=Se(l):r||0!==(r=s&~e)&&(a=Se(r)),0===a?0:0!==t&&t!==a&&0===(t&n)&&((n=a&-a)>=(r=t&-t)||32===n&&0!==(4194048&r))?t:a}function Ee(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Te(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Pe(){var e=ke;return 0===(62914560&(ke<<=1))&&(ke=4194304),e}function Le(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Re(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Me(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-ve(t);e.entangledLanes|=t,e.entanglements[s]=1073741824|e.entanglements[s]|261930&r}function Ae(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-ve(r),a=1<<s;a&t|e[s]&t&&(e[s]|=t),r&=~a}}function De(e,t){var r=t&-t;return 0!==((r=0!==(42&r)?1:Ie(r))&(e.suspendedLanes|t))?0:r}function Ie(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Oe(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Fe(){var e=D.p;return 0!==e?e:void 0===(e=window.event)?32:Sm(e.type)}function ze(e,t){var r=D.p;try{return D.p=e,t()}finally{D.p=r}}var Ue=Math.random().toString(36).slice(2),He="__reactFiber$"+Ue,Be="__reactProps$"+Ue,We="__reactContainer$"+Ue,qe="__reactEvents$"+Ue,Ve="__reactListeners$"+Ue,Ge="__reactHandles$"+Ue,$e="__reactResources$"+Ue,Ye="__reactMarker$"+Ue;function Qe(e){delete e[He],delete e[Be],delete e[qe],delete e[Ve],delete e[Ge]}function Ke(e){var t=e[He];if(t)return t;for(var r=e.parentNode;r;){if(t=r[We]||r[He]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=Iu(e);null!==e;){if(r=e[He])return r;e=Iu(e)}return t}r=(e=r).parentNode}return null}function Je(e){if(e=e[He]||e[We]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Xe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(l(33))}function Ze(e){var t=e[$e];return t||(t=e[$e]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Ye]=!0}var tt=new Set,rt={};function st(e,t){at(e,t),at(e+"Capture",t)}function at(e,t){for(rt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var nt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lt={},ot={};function it(e,t,r){if(a=t,se.call(ot,a)||!se.call(lt,a)&&(nt.test(a)?ot[a]=!0:(lt[a]=!0,0)))if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var s=t.toLowerCase().slice(0,5);if("data-"!==s&&"aria-"!==s)return void e.removeAttribute(t)}e.setAttribute(t,""+r)}var a}function ct(e,t,r){if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+r)}}function dt(e,t,r,s){if(null===s)e.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(r)}e.setAttributeNS(t,r,""+s)}}function ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function mt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function xt(e){if(!e._valueTracker){var t=mt(e)?"checked":"value";e._valueTracker=function(e,t,r){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof s&&"function"===typeof s.get&&"function"===typeof s.set){var a=s.get,n=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,n.call(this,e)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=mt(e)?e.checked?"true":"false":e.value),(e=s)!==r&&(t.setValue(e),!0)}function pt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var ft=/[\n"\\]/g;function bt(e){return e.replace(ft,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,r,s,a,n,l,o){e.name="",null!=l&&"function"!==typeof l&&"symbol"!==typeof l&&"boolean"!==typeof l?e.type=l:e.removeAttribute("type"),null!=t?"number"===l?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ut(t)):e.value!==""+ut(t)&&(e.value=""+ut(t)):"submit"!==l&&"reset"!==l||e.removeAttribute("value"),null!=t?vt(e,l,ut(t)):null!=r?vt(e,l,ut(r)):null!=s&&e.removeAttribute("value"),null==a&&null!=n&&(e.defaultChecked=!!n),null!=a&&(e.checked=a&&"function"!==typeof a&&"symbol"!==typeof a),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ut(o):e.removeAttribute("name")}function yt(e,t,r,s,a,n,l,o){if(null!=n&&"function"!==typeof n&&"symbol"!==typeof n&&"boolean"!==typeof n&&(e.type=n),null!=t||null!=r){if(!("submit"!==n&&"reset"!==n||void 0!==t&&null!==t))return void xt(e);r=null!=r?""+ut(r):"",t=null!=t?""+ut(t):r,o||t===e.value||(e.value=t),e.defaultValue=t}s="function"!==typeof(s=null!=s?s:a)&&"symbol"!==typeof s&&!!s,e.checked=o?e.checked:!!s,e.defaultChecked=!!s,null!=l&&"function"!==typeof l&&"symbol"!==typeof l&&"boolean"!==typeof l&&(e.name=l),xt(e)}function vt(e,t,r){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function jt(e,t,r,s){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&s&&(e[r].defaultSelected=!0)}else{for(r=""+ut(r),t=null,a=0;a<e.length;a++){if(e[a].value===r)return e[a].selected=!0,void(s&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function Nt(e,t,r){null==t||((t=""+ut(t))!==e.value&&(e.value=t),null!=r)?e.defaultValue=null!=r?""+ut(r):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,r,s){if(null==t){if(null!=s){if(null!=r)throw Error(l(92));if(M(s)){if(1<s.length)throw Error(l(93));s=s[0]}r=s}null==r&&(r=""),t=r}r=ut(t),e.defaultValue=r,(s=e.textContent)===r&&""!==s&&null!==s&&(e.value=s),xt(e)}function _t(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function St(e,t,r){var s=0===t.indexOf("--");null==r||"boolean"===typeof r||""===r?s?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":s?e.setProperty(t,r):"number"!==typeof r||0===r||kt.has(t)?"float"===t?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function Ct(e,t,r){if(null!=t&&"object"!==typeof t)throw Error(l(62));if(e=e.style,null!=r){for(var s in r)!r.hasOwnProperty(s)||null!=t&&t.hasOwnProperty(s)||(0===s.indexOf("--")?e.setProperty(s,""):"float"===s?e.cssFloat="":e[s]="");for(var a in t)s=t[a],t.hasOwnProperty(a)&&r[a]!==s&&St(e,a,s)}else for(var n in t)t.hasOwnProperty(n)&&St(e,n,t[n])}function Et(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Lt(e){return Pt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Rt(){}var Mt=null;function At(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Dt=null,It=null;function Ot(e){var t=Je(e);if(t&&(e=t.stateNode)){var r=e[Be]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+bt(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var a=s[Be]||null;if(!a)throw Error(l(90));gt(s,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<r.length;t++)(s=r[t]).form===e.form&&ht(s)}break e;case"textarea":Nt(e,r.value,r.defaultValue);break e;case"select":null!=(t=r.value)&&jt(e,!!r.multiple,t,!1)}}}var Ft=!1;function zt(e,t,r){if(Ft)return e(t,r);Ft=!0;try{return e(t)}finally{if(Ft=!1,(null!==Dt||null!==It)&&(Zc(),Dt&&(t=Dt,e=It,It=Dt=null,Ot(t),e)))for(t=0;t<e.length;t++)Ot(e[t])}}function Ut(e,t){var r=e.stateNode;if(null===r)return null;var s=r[Be]||null;if(null===s)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(s=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!s;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(l(231,t,typeof r));return r}var Ht=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Bt=!1;if(Ht)try{var Wt={};Object.defineProperty(Wt,"passive",{get:function(){Bt=!0}}),window.addEventListener("test",Wt,Wt),window.removeEventListener("test",Wt,Wt)}catch(Jm){Bt=!1}var qt=null,Vt=null,Gt=null;function $t(){if(Gt)return Gt;var e,t,r=Vt,s=r.length,a="value"in qt?qt.value:qt.textContent,n=a.length;for(e=0;e<s&&r[e]===a[e];e++);var l=s-e;for(t=1;t<=l&&r[s-t]===a[n-t];t++);return Gt=a.slice(e,1<t?1-t:void 0)}function Yt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Qt(){return!0}function Kt(){return!1}function Jt(e){function t(t,r,s,a,n){for(var l in this._reactName=t,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=n,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(a):a[l]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?Qt:Kt,this.isPropagationStopped=Kt,this}return x(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Qt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Qt)},persist:function(){},isPersistent:Qt}),t}var Xt,Zt,er,tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rr=Jt(tr),sr=x({},tr,{view:0,detail:0}),ar=Jt(sr),nr=x({},sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==er&&(er&&"mousemove"===e.type?(Xt=e.screenX-er.screenX,Zt=e.screenY-er.screenY):Zt=Xt=0,er=e),Xt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),lr=Jt(nr),or=Jt(x({},nr,{dataTransfer:0})),ir=Jt(x({},sr,{relatedTarget:0})),cr=Jt(x({},tr,{animationName:0,elapsedTime:0,pseudoElement:0})),dr=Jt(x({},tr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),ur=Jt(x({},tr,{data:0})),mr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hr[e])&&!!t[e]}function fr(){return pr}var br=Jt(x({},sr,{key:function(e){if(e.key){var t=mr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Yt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fr,charCode:function(e){return"keypress"===e.type?Yt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Yt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gr=Jt(x({},nr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yr=Jt(x({},sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fr})),vr=Jt(x({},tr,{propertyName:0,elapsedTime:0,pseudoElement:0})),jr=Jt(x({},nr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Nr=Jt(x({},tr,{newState:0,oldState:0})),wr=[9,13,27,32],_r=Ht&&"CompositionEvent"in window,kr=null;Ht&&"documentMode"in document&&(kr=document.documentMode);var Sr=Ht&&"TextEvent"in window&&!kr,Cr=Ht&&(!_r||kr&&8<kr&&11>=kr),Er=String.fromCharCode(32),Tr=!1;function Pr(e,t){switch(e){case"keyup":return-1!==wr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Rr=!1;var Mr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ar(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Mr[e.type]:"textarea"===t}function Dr(e,t,r,s){Dt?It?It.push(s):It=[s]:Dt=s,0<(t=su(t,"onChange")).length&&(r=new rr("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var Ir=null,Or=null;function Fr(e){Qd(e,0)}function zr(e){if(ht(Xe(e)))return e}function Ur(e,t){if("change"===e)return t}var Hr=!1;if(Ht){var Br;if(Ht){var Wr="oninput"in document;if(!Wr){var qr=document.createElement("div");qr.setAttribute("oninput","return;"),Wr="function"===typeof qr.oninput}Br=Wr}else Br=!1;Hr=Br&&(!document.documentMode||9<document.documentMode)}function Vr(){Ir&&(Ir.detachEvent("onpropertychange",Gr),Or=Ir=null)}function Gr(e){if("value"===e.propertyName&&zr(Or)){var t=[];Dr(t,Or,e,At(e)),zt(Fr,t)}}function $r(e,t,r){"focusin"===e?(Vr(),Or=r,(Ir=t).attachEvent("onpropertychange",Gr)):"focusout"===e&&Vr()}function Yr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return zr(Or)}function Qr(e,t){if("click"===e)return zr(t)}function Kr(e,t){if("input"===e||"change"===e)return zr(t)}var Jr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Xr(e,t){if(Jr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var a=r[s];if(!se.call(t,a)||!Jr(e[a],t[a]))return!1}return!0}function Zr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function es(e,t){var r,s=Zr(e);for(e=0;s;){if(3===s.nodeType){if(r=e+s.textContent.length,e<=t&&r>=t)return{node:s,offset:t-e};e=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Zr(s)}}function ts(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ts(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rs(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(s){r=!1}if(!r)break;t=pt((e=t.contentWindow).document)}return t}function ss(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var as=Ht&&"documentMode"in document&&11>=document.documentMode,ns=null,ls=null,os=null,is=!1;function cs(e,t,r){var s=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;is||null==ns||ns!==pt(s)||("selectionStart"in(s=ns)&&ss(s)?s={start:s.selectionStart,end:s.selectionEnd}:s={anchorNode:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset},os&&Xr(os,s)||(os=s,0<(s=su(ls,"onSelect")).length&&(t=new rr("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=ns)))}function ds(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var us={animationend:ds("Animation","AnimationEnd"),animationiteration:ds("Animation","AnimationIteration"),animationstart:ds("Animation","AnimationStart"),transitionrun:ds("Transition","TransitionRun"),transitionstart:ds("Transition","TransitionStart"),transitioncancel:ds("Transition","TransitionCancel"),transitionend:ds("Transition","TransitionEnd")},ms={},xs={};function hs(e){if(ms[e])return ms[e];if(!us[e])return e;var t,r=us[e];for(t in r)if(r.hasOwnProperty(t)&&t in xs)return ms[e]=r[t];return e}Ht&&(xs=document.createElement("div").style,"AnimationEvent"in window||(delete us.animationend.animation,delete us.animationiteration.animation,delete us.animationstart.animation),"TransitionEvent"in window||delete us.transitionend.transition);var ps=hs("animationend"),fs=hs("animationiteration"),bs=hs("animationstart"),gs=hs("transitionrun"),ys=hs("transitionstart"),vs=hs("transitioncancel"),js=hs("transitionend"),Ns=new Map,ws="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _s(e,t){Ns.set(e,t),st(t,[e])}ws.push("scrollEnd");var ks="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Ss=[],Cs=0,Es=0;function Ts(){for(var e=Cs,t=Es=Cs=0;t<e;){var r=Ss[t];Ss[t++]=null;var s=Ss[t];Ss[t++]=null;var a=Ss[t];Ss[t++]=null;var n=Ss[t];if(Ss[t++]=null,null!==s&&null!==a){var l=s.pending;null===l?a.next=a:(a.next=l.next,l.next=a),s.pending=a}0!==n&&Ms(r,a,n)}}function Ps(e,t,r,s){Ss[Cs++]=e,Ss[Cs++]=t,Ss[Cs++]=r,Ss[Cs++]=s,Es|=s,e.lanes|=s,null!==(e=e.alternate)&&(e.lanes|=s)}function Ls(e,t,r,s){return Ps(e,t,r,s),As(e)}function Rs(e,t){return Ps(e,null,null,t),As(e)}function Ms(e,t,r){e.lanes|=r;var s=e.alternate;null!==s&&(s.lanes|=r);for(var a=!1,n=e.return;null!==n;)n.childLanes|=r,null!==(s=n.alternate)&&(s.childLanes|=r),22===n.tag&&(null===(e=n.stateNode)||1&e._visibility||(a=!0)),e=n,n=n.return;return 3===e.tag?(n=e.stateNode,a&&null!==t&&(a=31-ve(r),null===(s=(e=n.hiddenUpdates)[a])?e[a]=[t]:s.push(t),t.lane=536870912|r),n):null}function As(e){if(50<qc)throw qc=0,Vc=null,Error(l(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Ds={};function Is(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Os(e,t,r,s){return new Is(e,t,r,s)}function Fs(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zs(e,t){var r=e.alternate;return null===r?((r=Os(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=65011712&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Us(e,t){e.flags&=65011714;var r=e.alternate;return null===r?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Hs(e,t,r,s,a,n){var o=0;if(s=e,"function"===typeof e)Fs(e)&&(o=1);else if("string"===typeof e)o=function(e,t,r){if(1===r||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,r,q.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=Os(31,r,t,a)).elementType=C,e.lanes=n,e;case b:return Bs(r.children,a,n,t);case g:o=8,a|=24;break;case y:return(e=Os(12,r,t,2|a)).elementType=y,e.lanes=n,e;case w:return(e=Os(13,r,t,a)).elementType=w,e.lanes=n,e;case _:return(e=Os(19,r,t,a)).elementType=_,e.lanes=n,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case j:o=10;break e;case v:o=9;break e;case N:o=11;break e;case k:o=14;break e;case S:o=16,s=null;break e}o=29,r=Error(l(130,null===e?"null":typeof e,"")),s=null}return(t=Os(o,r,t,a)).elementType=e,t.type=s,t.lanes=n,t}function Bs(e,t,r,s){return(e=Os(7,e,s,t)).lanes=r,e}function Ws(e,t,r){return(e=Os(6,e,null,t)).lanes=r,e}function qs(e){var t=Os(18,null,null,0);return t.stateNode=e,t}function Vs(e,t,r){return(t=Os(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Gs=new WeakMap;function $s(e,t){if("object"===typeof e&&null!==e){var r=Gs.get(e);return void 0!==r?r:(t={value:e,source:t,stack:re(t)},Gs.set(e,t),t)}return{value:e,source:t,stack:re(t)}}var Ys=[],Qs=0,Ks=null,Js=0,Xs=[],Zs=0,ea=null,ta=1,ra="";function sa(e,t){Ys[Qs++]=Js,Ys[Qs++]=Ks,Ks=e,Js=t}function aa(e,t,r){Xs[Zs++]=ta,Xs[Zs++]=ra,Xs[Zs++]=ea,ea=e;var s=ta;e=ra;var a=32-ve(s)-1;s&=~(1<<a),r+=1;var n=32-ve(t)+a;if(30<n){var l=a-a%5;n=(s&(1<<l)-1).toString(32),s>>=l,a-=l,ta=1<<32-ve(t)+a|r<<a|s,ra=n+e}else ta=1<<n|r<<a|s,ra=e}function na(e){null!==e.return&&(sa(e,1),aa(e,1,0))}function la(e){for(;e===Ks;)Ks=Ys[--Qs],Ys[Qs]=null,Js=Ys[--Qs],Ys[Qs]=null;for(;e===ea;)ea=Xs[--Zs],Xs[Zs]=null,ra=Xs[--Zs],Xs[Zs]=null,ta=Xs[--Zs],Xs[Zs]=null}function oa(e,t){Xs[Zs++]=ta,Xs[Zs++]=ra,Xs[Zs++]=ea,ta=t.id,ra=t.overflow,ea=e}var ia=null,ca=null,da=!1,ua=null,ma=!1,xa=Error(l(519));function ha(e){throw va($s(Error(l(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),xa}function pa(e){var t=e.stateNode,r=e.type,s=e.memoizedProps;switch(t[He]=e,t[Be]=s,r){case"dialog":Kd("cancel",t),Kd("close",t);break;case"iframe":case"object":case"embed":Kd("load",t);break;case"video":case"audio":for(r=0;r<$d.length;r++)Kd($d[r],t);break;case"source":Kd("error",t);break;case"img":case"image":case"link":Kd("error",t),Kd("load",t);break;case"details":Kd("toggle",t);break;case"input":Kd("invalid",t),yt(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Kd("invalid",t);break;case"textarea":Kd("invalid",t),wt(t,s.value,s.defaultValue,s.children)}"string"!==typeof(r=s.children)&&"number"!==typeof r&&"bigint"!==typeof r||t.textContent===""+r||!0===s.suppressHydrationWarning||cu(t.textContent,r)?(null!=s.popover&&(Kd("beforetoggle",t),Kd("toggle",t)),null!=s.onScroll&&Kd("scroll",t),null!=s.onScrollEnd&&Kd("scrollend",t),null!=s.onClick&&(t.onclick=Rt),t=!0):t=!1,t||ha(e,!0)}function fa(e){for(ia=e.return;ia;)switch(ia.tag){case 5:case 31:case 13:return void(ma=!1);case 27:case 3:return void(ma=!0);default:ia=ia.return}}function ba(e){if(e!==ia)return!1;if(!da)return fa(e),da=!0,!1;var t,r=e.tag;if((t=3!==r&&27!==r)&&((t=5===r)&&(t=!("form"!==(t=e.type)&&"button"!==t)||yu(e.type,e.memoizedProps)),t=!t),t&&ca&&ha(e),fa(e),13===r){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(l(317));ca=Du(e)}else if(31===r){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(l(317));ca=Du(e)}else 27===r?(r=ca,Su(e.type)?(e=Au,Au=null,ca=e):ca=r):ca=ia?Mu(e.stateNode.nextSibling):null;return!0}function ga(){ca=ia=null,da=!1}function ya(){var e=ua;return null!==e&&(null===Pc?Pc=e:Pc.push.apply(Pc,e),ua=null),e}function va(e){null===ua?ua=[e]:ua.push(e)}var ja=z(null),Na=null,wa=null;function _a(e,t,r){H(ja,t._currentValue),t._currentValue=r}function ka(e){e._currentValue=ja.current,U(ja)}function Sa(e,t,r){for(;null!==e;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==s&&(s.childLanes|=t)):null!==s&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function Ca(e,t,r,s){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var n=a.dependencies;if(null!==n){var o=a.child;n=n.firstContext;e:for(;null!==n;){var i=n;n=a;for(var c=0;c<t.length;c++)if(i.context===t[c]){n.lanes|=r,null!==(i=n.alternate)&&(i.lanes|=r),Sa(n.return,r,e),s||(o=null);break e}n=i.next}}else if(18===a.tag){if(null===(o=a.return))throw Error(l(341));o.lanes|=r,null!==(n=o.alternate)&&(n.lanes|=r),Sa(o,r,e),o=null}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===e){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}}function Ea(e,t,r,s){e=null;for(var a=t,n=!1;null!==a;){if(!n)if(0!==(524288&a.flags))n=!0;else if(0!==(262144&a.flags))break;if(10===a.tag){var o=a.alternate;if(null===o)throw Error(l(387));if(null!==(o=o.memoizedProps)){var i=a.type;Jr(a.pendingProps.value,o.value)||(null!==e?e.push(i):e=[i])}}else if(a===$.current){if(null===(o=a.alternate))throw Error(l(387));o.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(dm):e=[dm])}a=a.return}null!==e&&Ca(t,e,r,s),t.flags|=262144}function Ta(e){for(e=e.firstContext;null!==e;){if(!Jr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Pa(e){Na=e,wa=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function La(e){return Ma(Na,e)}function Ra(e,t){return null===Na&&Pa(e),Ma(e,t)}function Ma(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},null===wa){if(null===e)throw Error(l(308));wa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else wa=wa.next=t;return r}var Aa="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Da=s.unstable_scheduleCallback,Ia=s.unstable_NormalPriority,Oa={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fa(){return{controller:new Aa,data:new Map,refCount:0}}function za(e){e.refCount--,0===e.refCount&&Da(Ia,function(){e.controller.abort()})}var Ua=null,Ha=0,Ba=0,Wa=null;function qa(){if(0===--Ha&&null!==Ua){null!==Wa&&(Wa.status="fulfilled");var e=Ua;Ua=null,Ba=0,Wa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Va=A.S;A.S=function(e,t){Mc=ie(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ua){var r=Ua=[];Ha=0,Ba=Bd(),Wa={status:"pending",value:void 0,then:function(e){r.push(e)}}}Ha++,t.then(qa,qa)}(0,t),null!==Va&&Va(e,t)};var Ga=z(null);function $a(){var e=Ga.current;return null!==e?e:hc.pooledCache}function Ya(e,t){H(Ga,null===t?Ga.current:t.pool)}function Qa(){var e=$a();return null===e?null:{parent:Oa._currentValue,pool:e}}var Ka=Error(l(460)),Ja=Error(l(474)),Xa=Error(l(542)),Za={then:function(){}};function en(e){return"fulfilled"===(e=e.status)||"rejected"===e}function tn(e,t,r){switch(void 0===(r=e[r])?e.push(t):r!==t&&(t.then(Rt,Rt),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw nn(e=t.reason),e;default:if("string"===typeof t.status)t.then(Rt,Rt);else{if(null!==(e=hc)&&100<e.shellSuspendCounter)throw Error(l(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var r=t;r.status="fulfilled",r.value=e}},function(e){if("pending"===t.status){var r=t;r.status="rejected",r.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw nn(e=t.reason),e}throw sn=t,Ka}}function rn(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw sn=t,Ka;throw t}}var sn=null;function an(){if(null===sn)throw Error(l(459));var e=sn;return sn=null,e}function nn(e){if(e===Ka||e===Xa)throw Error(l(483))}var ln=null,on=0;function cn(e){var t=on;return on+=1,null===ln&&(ln=[]),tn(ln,e,t)}function dn(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function un(e,t){if(t.$$typeof===h)throw Error(l(525));throw e=Object.prototype.toString.call(t),Error(l(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function mn(e){function t(t,r){if(e){var s=t.deletions;null===s?(t.deletions=[r],t.flags|=16):s.push(r)}}function r(r,s){if(!e)return null;for(;null!==s;)t(r,s),s=s.sibling;return null}function s(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=zs(e,t)).index=0,e.sibling=null,e}function n(t,r,s){return t.index=s,e?null!==(s=t.alternate)?(s=s.index)<r?(t.flags|=67108866,r):s:(t.flags|=67108866,r):(t.flags|=1048576,r)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function i(e,t,r,s){return null===t||6!==t.tag?((t=Ws(r,e.mode,s)).return=e,t):((t=a(t,r)).return=e,t)}function c(e,t,r,s){var n=r.type;return n===b?u(e,t,r.props.children,s,r.key):null!==t&&(t.elementType===n||"object"===typeof n&&null!==n&&n.$$typeof===S&&rn(n)===t.type)?(dn(t=a(t,r.props),r),t.return=e,t):(dn(t=Hs(r.type,r.key,r.props,null,e.mode,s),r),t.return=e,t)}function d(e,t,r,s){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Vs(r,e.mode,s)).return=e,t):((t=a(t,r.children||[])).return=e,t)}function u(e,t,r,s,n){return null===t||7!==t.tag?((t=Bs(r,e.mode,s,n)).return=e,t):((t=a(t,r)).return=e,t)}function m(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Ws(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return dn(r=Hs(t.type,t.key,t.props,null,e.mode,r),t),r.return=e,r;case f:return(t=Vs(t,e.mode,r)).return=e,t;case S:return m(e,t=rn(t),r)}if(M(t)||P(t))return(t=Bs(t,e.mode,r,null)).return=e,t;if("function"===typeof t.then)return m(e,cn(t),r);if(t.$$typeof===j)return m(e,Ra(e,t),r);un(e,t)}return null}function x(e,t,r,s){var a=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return null!==a?null:i(e,t,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return r.key===a?c(e,t,r,s):null;case f:return r.key===a?d(e,t,r,s):null;case S:return x(e,t,r=rn(r),s)}if(M(r)||P(r))return null!==a?null:u(e,t,r,s,null);if("function"===typeof r.then)return x(e,t,cn(r),s);if(r.$$typeof===j)return x(e,t,Ra(e,r),s);un(e,r)}return null}function h(e,t,r,s,a){if("string"===typeof s&&""!==s||"number"===typeof s||"bigint"===typeof s)return i(t,e=e.get(r)||null,""+s,a);if("object"===typeof s&&null!==s){switch(s.$$typeof){case p:return c(t,e=e.get(null===s.key?r:s.key)||null,s,a);case f:return d(t,e=e.get(null===s.key?r:s.key)||null,s,a);case S:return h(e,t,r,s=rn(s),a)}if(M(s)||P(s))return u(t,e=e.get(r)||null,s,a,null);if("function"===typeof s.then)return h(e,t,r,cn(s),a);if(s.$$typeof===j)return h(e,t,r,Ra(t,s),a);un(t,s)}return null}function g(i,c,d,u){if("object"===typeof d&&null!==d&&d.type===b&&null===d.key&&(d=d.props.children),"object"===typeof d&&null!==d){switch(d.$$typeof){case p:e:{for(var y=d.key;null!==c;){if(c.key===y){if((y=d.type)===b){if(7===c.tag){r(i,c.sibling),(u=a(c,d.props.children)).return=i,i=u;break e}}else if(c.elementType===y||"object"===typeof y&&null!==y&&y.$$typeof===S&&rn(y)===c.type){r(i,c.sibling),dn(u=a(c,d.props),d),u.return=i,i=u;break e}r(i,c);break}t(i,c),c=c.sibling}d.type===b?((u=Bs(d.props.children,i.mode,u,d.key)).return=i,i=u):(dn(u=Hs(d.type,d.key,d.props,null,i.mode,u),d),u.return=i,i=u)}return o(i);case f:e:{for(y=d.key;null!==c;){if(c.key===y){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){r(i,c.sibling),(u=a(c,d.children||[])).return=i,i=u;break e}r(i,c);break}t(i,c),c=c.sibling}(u=Vs(d,i.mode,u)).return=i,i=u}return o(i);case S:return g(i,c,d=rn(d),u)}if(M(d))return function(a,l,o,i){for(var c=null,d=null,u=l,p=l=0,f=null;null!==u&&p<o.length;p++){u.index>p?(f=u,u=null):f=u.sibling;var b=x(a,u,o[p],i);if(null===b){null===u&&(u=f);break}e&&u&&null===b.alternate&&t(a,u),l=n(b,l,p),null===d?c=b:d.sibling=b,d=b,u=f}if(p===o.length)return r(a,u),da&&sa(a,p),c;if(null===u){for(;p<o.length;p++)null!==(u=m(a,o[p],i))&&(l=n(u,l,p),null===d?c=u:d.sibling=u,d=u);return da&&sa(a,p),c}for(u=s(u);p<o.length;p++)null!==(f=h(u,a,p,o[p],i))&&(e&&null!==f.alternate&&u.delete(null===f.key?p:f.key),l=n(f,l,p),null===d?c=f:d.sibling=f,d=f);return e&&u.forEach(function(e){return t(a,e)}),da&&sa(a,p),c}(i,c,d,u);if(P(d)){if("function"!==typeof(y=P(d)))throw Error(l(150));return function(a,o,i,c){if(null==i)throw Error(l(151));for(var d=null,u=null,p=o,f=o=0,b=null,g=i.next();null!==p&&!g.done;f++,g=i.next()){p.index>f?(b=p,p=null):b=p.sibling;var y=x(a,p,g.value,c);if(null===y){null===p&&(p=b);break}e&&p&&null===y.alternate&&t(a,p),o=n(y,o,f),null===u?d=y:u.sibling=y,u=y,p=b}if(g.done)return r(a,p),da&&sa(a,f),d;if(null===p){for(;!g.done;f++,g=i.next())null!==(g=m(a,g.value,c))&&(o=n(g,o,f),null===u?d=g:u.sibling=g,u=g);return da&&sa(a,f),d}for(p=s(p);!g.done;f++,g=i.next())null!==(g=h(p,a,f,g.value,c))&&(e&&null!==g.alternate&&p.delete(null===g.key?f:g.key),o=n(g,o,f),null===u?d=g:u.sibling=g,u=g);return e&&p.forEach(function(e){return t(a,e)}),da&&sa(a,f),d}(i,c,d=y.call(d),u)}if("function"===typeof d.then)return g(i,c,cn(d),u);if(d.$$typeof===j)return g(i,c,Ra(i,d),u);un(i,d)}return"string"===typeof d&&""!==d||"number"===typeof d||"bigint"===typeof d?(d=""+d,null!==c&&6===c.tag?(r(i,c.sibling),(u=a(c,d)).return=i,i=u):(r(i,c),(u=Ws(d,i.mode,u)).return=i,i=u),o(i)):r(i,c)}return function(e,t,r,s){try{on=0;var a=g(e,t,r,s);return ln=null,a}catch(l){if(l===Ka||l===Xa)throw l;var n=Os(29,l,null,e.mode);return n.lanes=s,n.return=e,n}}}var xn=mn(!0),hn=mn(!1),pn=!1;function fn(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function gn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function yn(e,t,r){var s=e.updateQueue;if(null===s)return null;if(s=s.shared,0!==(2&xc)){var a=s.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),s.pending=t,t=As(e),Ms(e,null,r),t}return Ps(e,s,t,r),As(e)}function vn(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&r))){var s=t.lanes;r|=s&=e.pendingLanes,t.lanes=r,Ae(e,r)}}function jn(e,t){var r=e.updateQueue,s=e.alternate;if(null!==s&&r===(s=s.updateQueue)){var a=null,n=null;if(null!==(r=r.firstBaseUpdate)){do{var l={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};null===n?a=n=l:n=n.next=l,r=r.next}while(null!==r);null===n?a=n=t:n=n.next=t}else a=n=t;return r={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:n,shared:s.shared,callbacks:s.callbacks},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var Nn=!1;function wn(){if(Nn){if(null!==Wa)throw Wa}}function _n(e,t,r,s){Nn=!1;var a=e.updateQueue;pn=!1;var n=a.firstBaseUpdate,l=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var i=o,c=i.next;i.next=null,null===l?n=c:l.next=c,l=i;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==l&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=i))}if(null!==n){var u=a.baseState;for(l=0,d=c=i=null,o=n;;){var m=-536870913&o.lane,h=m!==o.lane;if(h?(fc&m)===m:(s&m)===m){0!==m&&m===Ba&&(Nn=!0),null!==d&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var p=e,f=o;m=t;var b=r;switch(f.tag){case 1:if("function"===typeof(p=f.payload)){u=p.call(b,u,m);break e}u=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(m="function"===typeof(p=f.payload)?p.call(b,u,m):p)||void 0===m)break e;u=x({},u,m);break e;case 2:pn=!0}}null!==(m=o.callback)&&(e.flags|=64,h&&(e.flags|=8192),null===(h=a.callbacks)?a.callbacks=[m]:h.push(m))}else h={lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=h,i=u):d=d.next=h,l|=m;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(h=o).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}null===d&&(i=u),a.baseState=i,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null===n&&(a.shared.lanes=0),_c|=l,e.lanes=l,e.memoizedState=u}}function kn(e,t){if("function"!==typeof e)throw Error(l(191,e));e.call(t)}function Sn(e,t){var r=e.callbacks;if(null!==r)for(e.callbacks=null,e=0;e<r.length;e++)kn(r[e],t)}var Cn=z(null),En=z(0);function Tn(e,t){H(En,e=Nc),H(Cn,t),Nc=e|t.baseLanes}function Pn(){H(En,Nc),H(Cn,Cn.current)}function Ln(){Nc=En.current,U(Cn),U(En)}var Rn=z(null),Mn=null;function An(e){var t=e.alternate;H(zn,1&zn.current),H(Rn,e),null===Mn&&(null===t||null!==Cn.current||null!==t.memoizedState)&&(Mn=e)}function Dn(e){H(zn,zn.current),H(Rn,e),null===Mn&&(Mn=e)}function In(e){22===e.tag?(H(zn,zn.current),H(Rn,e),null===Mn&&(Mn=e)):On()}function On(){H(zn,zn.current),H(Rn,Rn.current)}function Fn(e){U(Rn),Mn===e&&(Mn=null),U(zn)}var zn=z(0);function Un(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||Lu(r)||Ru(r)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Hn=0,Bn=null,Wn=null,qn=null,Vn=!1,Gn=!1,$n=!1,Yn=0,Qn=0,Kn=null,Jn=0;function Xn(){throw Error(l(321))}function Zn(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Jr(e[r],t[r]))return!1;return!0}function el(e,t,r,s,a,n){return Hn=n,Bn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,A.H=null===e||null===e.memoizedState?fo:bo,$n=!1,n=r(s,a),$n=!1,Gn&&(n=rl(t,r,s,a)),tl(e),n}function tl(e){A.H=po;var t=null!==Wn&&null!==Wn.next;if(Hn=0,qn=Wn=Bn=null,Vn=!1,Qn=0,Kn=null,t)throw Error(l(300));null===e||Mo||null!==(e=e.dependencies)&&Ta(e)&&(Mo=!0)}function rl(e,t,r,s){Bn=e;var a=0;do{if(Gn&&(Kn=null),Qn=0,Gn=!1,25<=a)throw Error(l(301));if(a+=1,qn=Wn=null,null!=e.updateQueue){var n=e.updateQueue;n.lastEffect=null,n.events=null,n.stores=null,null!=n.memoCache&&(n.memoCache.index=0)}A.H=go,n=t(r,s)}while(Gn);return n}function sl(){var e=A.H,t=e.useState()[0];return t="function"===typeof t.then?cl(t):t,e=e.useState()[0],(null!==Wn?Wn.memoizedState:null)!==e&&(Bn.flags|=1024),t}function al(){var e=0!==Yn;return Yn=0,e}function nl(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function ll(e){if(Vn){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Vn=!1}Hn=0,qn=Wn=Bn=null,Gn=!1,Qn=Yn=0,Kn=null}function ol(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===qn?Bn.memoizedState=qn=e:qn=qn.next=e,qn}function il(){if(null===Wn){var e=Bn.alternate;e=null!==e?e.memoizedState:null}else e=Wn.next;var t=null===qn?Bn.memoizedState:qn.next;if(null!==t)qn=t,Wn=e;else{if(null===e){if(null===Bn.alternate)throw Error(l(467));throw Error(l(310))}e={memoizedState:(Wn=e).memoizedState,baseState:Wn.baseState,baseQueue:Wn.baseQueue,queue:Wn.queue,next:null},null===qn?Bn.memoizedState=qn=e:qn=qn.next=e}return qn}function cl(e){var t=Qn;return Qn+=1,null===Kn&&(Kn=[]),e=tn(Kn,e,t),t=Bn,null===(null===qn?t.memoizedState:qn.next)&&(t=t.alternate,A.H=null===t||null===t.memoizedState?fo:bo),e}function dl(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return cl(e);if(e.$$typeof===j)return La(e)}throw Error(l(438,String(e)))}function ul(e){var t=null,r=Bn.updateQueue;if(null!==r&&(t=r.memoCache),null==t){var s=Bn.alternate;null!==s&&(null!==(s=s.updateQueue)&&(null!=(s=s.memoCache)&&(t={data:s.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===r&&(r={lastEffect:null,events:null,stores:null,memoCache:null},Bn.updateQueue=r),r.memoCache=t,void 0===(r=t.data[t.index]))for(r=t.data[t.index]=Array(e),s=0;s<e;s++)r[s]=E;return t.index++,r}function ml(e,t){return"function"===typeof t?t(e):t}function xl(e){return hl(il(),Wn,e)}function hl(e,t,r){var s=e.queue;if(null===s)throw Error(l(311));s.lastRenderedReducer=r;var a=e.baseQueue,n=s.pending;if(null!==n){if(null!==a){var o=a.next;a.next=n.next,n.next=o}t.baseQueue=a=n,s.pending=null}if(n=e.baseState,null===a)e.memoizedState=n;else{var i=o=null,c=null,d=t=a.next,u=!1;do{var m=-536870913&d.lane;if(m!==d.lane?(fc&m)===m:(Hn&m)===m){var x=d.revertLane;if(0===x)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),m===Ba&&(u=!0);else{if((Hn&x)===x){d=d.next,x===Ba&&(u=!0);continue}m={lane:0,revertLane:d.revertLane,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(i=c=m,o=n):c=c.next=m,Bn.lanes|=x,_c|=x}m=d.action,$n&&r(n,m),n=d.hasEagerState?d.eagerState:r(n,m)}else x={lane:m,revertLane:d.revertLane,gesture:d.gesture,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(i=c=x,o=n):c=c.next=x,Bn.lanes|=m,_c|=m;d=d.next}while(null!==d&&d!==t);if(null===c?o=n:c.next=i,!Jr(n,e.memoizedState)&&(Mo=!0,u&&null!==(r=Wa)))throw r;e.memoizedState=n,e.baseState=o,e.baseQueue=c,s.lastRenderedState=n}return null===a&&(s.lanes=0),[e.memoizedState,s.dispatch]}function pl(e){var t=il(),r=t.queue;if(null===r)throw Error(l(311));r.lastRenderedReducer=e;var s=r.dispatch,a=r.pending,n=t.memoizedState;if(null!==a){r.pending=null;var o=a=a.next;do{n=e(n,o.action),o=o.next}while(o!==a);Jr(n,t.memoizedState)||(Mo=!0),t.memoizedState=n,null===t.baseQueue&&(t.baseState=n),r.lastRenderedState=n}return[n,s]}function fl(e,t,r){var s=Bn,a=il(),n=da;if(n){if(void 0===r)throw Error(l(407));r=r()}else r=t();var o=!Jr((Wn||a).memoizedState,r);if(o&&(a.memoizedState=r,Mo=!0),a=a.queue,Hl(yl.bind(null,s,a,e),[e]),a.getSnapshot!==t||o||null!==qn&&1&qn.memoizedState.tag){if(s.flags|=2048,Il(9,{destroy:void 0},gl.bind(null,s,a,r,t),null),null===hc)throw Error(l(349));n||0!==(127&Hn)||bl(s,t,r)}return r}function bl(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=Bn.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Bn.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function gl(e,t,r,s){t.value=r,t.getSnapshot=s,vl(t)&&jl(e)}function yl(e,t,r){return r(function(){vl(t)&&jl(e)})}function vl(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Jr(e,r)}catch(s){return!0}}function jl(e){var t=Rs(e,2);null!==t&&Yc(t,e,2)}function Nl(e){var t=ol();if("function"===typeof e){var r=e;if(e=r(),$n){ye(!0);try{r()}finally{ye(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:e},t}function wl(e,t,r,s){return e.baseState=r,hl(e,Wn,"function"===typeof s?s:ml)}function _l(e,t,r,s,a){if(mo(e))throw Error(l(485));if(null!==(e=t.action)){var n={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){n.listeners.push(e)}};null!==A.T?r(!0):n.isTransition=!1,s(n),null===(r=t.pending)?(n.next=t.pending=n,kl(t,n)):(n.next=r.next,t.pending=r.next=n)}}function kl(e,t){var r=t.action,s=t.payload,a=e.state;if(t.isTransition){var n=A.T,l={};A.T=l;try{var o=r(a,s),i=A.S;null!==i&&i(l,o),Sl(e,t,o)}catch(c){El(e,t,c)}finally{null!==n&&null!==l.types&&(n.types=l.types),A.T=n}}else try{Sl(e,t,n=r(a,s))}catch(d){El(e,t,d)}}function Sl(e,t,r){null!==r&&"object"===typeof r&&"function"===typeof r.then?r.then(function(r){Cl(e,t,r)},function(r){return El(e,t,r)}):Cl(e,t,r)}function Cl(e,t,r){t.status="fulfilled",t.value=r,Tl(t),e.state=r,null!==(t=e.pending)&&((r=t.next)===t?e.pending=null:(r=r.next,t.next=r,kl(e,r)))}function El(e,t,r){var s=e.pending;if(e.pending=null,null!==s){s=s.next;do{t.status="rejected",t.reason=r,Tl(t),t=t.next}while(t!==s)}e.action=null}function Tl(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Pl(e,t){return t}function Ll(e,t){if(da){var r=hc.formState;if(null!==r){e:{var s=Bn;if(da){if(ca){t:{for(var a=ca,n=ma;8!==a.nodeType;){if(!n){a=null;break t}if(null===(a=Mu(a.nextSibling))){a=null;break t}}a="F!"===(n=a.data)||"F"===n?a:null}if(a){ca=Mu(a.nextSibling),s="F!"===a.data;break e}}ha(s)}s=!1}s&&(t=r[0])}}return(r=ol()).memoizedState=r.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pl,lastRenderedState:t},r.queue=s,r=io.bind(null,Bn,s),s.dispatch=r,s=Nl(!1),n=uo.bind(null,Bn,!1,s.queue),a={state:t,dispatch:null,action:e,pending:null},(s=ol()).queue=a,r=_l.bind(null,Bn,a,n,r),a.dispatch=r,s.memoizedState=e,[t,r,!1]}function Rl(e){return Ml(il(),Wn,e)}function Ml(e,t,r){if(t=hl(e,t,Pl)[0],e=xl(ml)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var s=cl(t)}catch(l){if(l===Ka)throw Xa;throw l}else s=t;var a=(t=il()).queue,n=a.dispatch;return r!==t.memoizedState&&(Bn.flags|=2048,Il(9,{destroy:void 0},Al.bind(null,a,r),null)),[s,n,e]}function Al(e,t){e.action=t}function Dl(e){var t=il(),r=Wn;if(null!==r)return Ml(t,r,e);il(),t=t.memoizedState;var s=(r=il()).queue.dispatch;return r.memoizedState=e,[t,s,!1]}function Il(e,t,r,s){return e={tag:e,create:r,deps:s,inst:t,next:null},null===(t=Bn.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Bn.updateQueue=t),null===(r=t.lastEffect)?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e),e}function Ol(){return il().memoizedState}function Fl(e,t,r,s){var a=ol();Bn.flags|=e,a.memoizedState=Il(1|t,{destroy:void 0},r,void 0===s?null:s)}function zl(e,t,r,s){var a=il();s=void 0===s?null:s;var n=a.memoizedState.inst;null!==Wn&&null!==s&&Zn(s,Wn.memoizedState.deps)?a.memoizedState=Il(t,n,r,s):(Bn.flags|=e,a.memoizedState=Il(1|t,n,r,s))}function Ul(e,t){Fl(8390656,8,e,t)}function Hl(e,t){zl(2048,8,e,t)}function Bl(e){var t=il().memoizedState;return function(e){Bn.flags|=4;var t=Bn.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Bn.updateQueue=t,t.events=[e];else{var r=t.events;null===r?t.events=[e]:r.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&xc))throw Error(l(440));return t.impl.apply(void 0,arguments)}}function Wl(e,t){return zl(4,2,e,t)}function ql(e,t){return zl(4,4,e,t)}function Vl(e,t){if("function"===typeof t){e=e();var r=t(e);return function(){"function"===typeof r?r():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Gl(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null,zl(4,4,Vl.bind(null,t,e),r)}function $l(){}function Yl(e,t){var r=il();t=void 0===t?null:t;var s=r.memoizedState;return null!==t&&Zn(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function Ql(e,t){var r=il();t=void 0===t?null:t;var s=r.memoizedState;if(null!==t&&Zn(t,s[1]))return s[0];if(s=e(),$n){ye(!0);try{e()}finally{ye(!1)}}return r.memoizedState=[s,t],s}function Kl(e,t,r){return void 0===r||0!==(1073741824&Hn)&&0===(261930&fc)?e.memoizedState=t:(e.memoizedState=r,e=$c(),Bn.lanes|=e,_c|=e,r)}function Jl(e,t,r,s){return Jr(r,t)?r:null!==Cn.current?(e=Kl(e,r,s),Jr(e,t)||(Mo=!0),e):0===(42&Hn)||0!==(1073741824&Hn)&&0===(261930&fc)?(Mo=!0,e.memoizedState=r):(e=$c(),Bn.lanes|=e,_c|=e,t)}function Xl(e,t,r,s,a){var n=D.p;D.p=0!==n&&8>n?n:8;var l=A.T,o={};A.T=o,uo(e,!1,t,r);try{var i=a(),c=A.S;if(null!==c&&c(o,i),null!==i&&"object"===typeof i&&"function"===typeof i.then)co(e,t,function(e,t){var r=[],s={status:"pending",value:null,reason:null,then:function(e){r.push(e)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var e=0;e<r.length;e++)(0,r[e])(t)},function(e){for(s.status="rejected",s.reason=e,e=0;e<r.length;e++)(0,r[e])(void 0)}),s}(i,s),Gc());else co(e,t,s,Gc())}catch(d){co(e,t,{then:function(){},status:"rejected",reason:d},Gc())}finally{D.p=n,null!==l&&null!==o.types&&(l.types=o.types),A.T=l}}function Zl(){}function eo(e,t,r,s){if(5!==e.tag)throw Error(l(476));var a=to(e).queue;Xl(e,a,t,I,null===r?Zl:function(){return ro(e),r(s)})}function to(e){var t=e.memoizedState;if(null!==t)return t;var r={};return(t={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:I},next:null}).next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:r},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ro(e){var t=to(e);null===t.next&&(t=e.alternate.memoizedState),co(e,t.next.queue,{},Gc())}function so(){return La(dm)}function ao(){return il().memoizedState}function no(){return il().memoizedState}function lo(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var r=Gc(),s=yn(t,e=gn(r),r);return null!==s&&(Yc(s,t,r),vn(s,t,r)),t={cache:Fa()},void(e.payload=t)}t=t.return}}function oo(e,t,r){var s=Gc();r={lane:s,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},mo(e)?xo(t,r):null!==(r=Ls(e,t,r,s))&&(Yc(r,e,s),ho(r,t,s))}function io(e,t,r){co(e,t,r,Gc())}function co(e,t,r,s){var a={lane:s,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(mo(e))xo(t,a);else{var n=e.alternate;if(0===e.lanes&&(null===n||0===n.lanes)&&null!==(n=t.lastRenderedReducer))try{var l=t.lastRenderedState,o=n(l,r);if(a.hasEagerState=!0,a.eagerState=o,Jr(o,l))return Ps(e,t,a,0),null===hc&&Ts(),!1}catch(i){}if(null!==(r=Ls(e,t,a,s)))return Yc(r,e,s),ho(r,t,s),!0}return!1}function uo(e,t,r,s){if(s={lane:2,revertLane:Bd(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},mo(e)){if(t)throw Error(l(479))}else null!==(t=Ls(e,r,s,2))&&Yc(t,e,2)}function mo(e){var t=e.alternate;return e===Bn||null!==t&&t===Bn}function xo(e,t){Gn=Vn=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function ho(e,t,r){if(0!==(4194048&r)){var s=t.lanes;r|=s&=e.pendingLanes,t.lanes=r,Ae(e,r)}}var po={readContext:La,use:dl,useCallback:Xn,useContext:Xn,useEffect:Xn,useImperativeHandle:Xn,useLayoutEffect:Xn,useInsertionEffect:Xn,useMemo:Xn,useReducer:Xn,useRef:Xn,useState:Xn,useDebugValue:Xn,useDeferredValue:Xn,useTransition:Xn,useSyncExternalStore:Xn,useId:Xn,useHostTransitionStatus:Xn,useFormState:Xn,useActionState:Xn,useOptimistic:Xn,useMemoCache:Xn,useCacheRefresh:Xn};po.useEffectEvent=Xn;var fo={readContext:La,use:dl,useCallback:function(e,t){return ol().memoizedState=[e,void 0===t?null:t],e},useContext:La,useEffect:Ul,useImperativeHandle:function(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null,Fl(4194308,4,Vl.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Fl(4194308,4,e,t)},useInsertionEffect:function(e,t){Fl(4,2,e,t)},useMemo:function(e,t){var r=ol();t=void 0===t?null:t;var s=e();if($n){ye(!0);try{e()}finally{ye(!1)}}return r.memoizedState=[s,t],s},useReducer:function(e,t,r){var s=ol();if(void 0!==r){var a=r(t);if($n){ye(!0);try{r(t)}finally{ye(!1)}}}else a=t;return s.memoizedState=s.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},s.queue=e,e=e.dispatch=oo.bind(null,Bn,e),[s.memoizedState,e]},useRef:function(e){return e={current:e},ol().memoizedState=e},useState:function(e){var t=(e=Nl(e)).queue,r=io.bind(null,Bn,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:$l,useDeferredValue:function(e,t){return Kl(ol(),e,t)},useTransition:function(){var e=Nl(!1);return e=Xl.bind(null,Bn,e.queue,!0,!1),ol().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var s=Bn,a=ol();if(da){if(void 0===r)throw Error(l(407));r=r()}else{if(r=t(),null===hc)throw Error(l(349));0!==(127&fc)||bl(s,t,r)}a.memoizedState=r;var n={value:r,getSnapshot:t};return a.queue=n,Ul(yl.bind(null,s,n,e),[e]),s.flags|=2048,Il(9,{destroy:void 0},gl.bind(null,s,n,r,t),null),r},useId:function(){var e=ol(),t=hc.identifierPrefix;if(da){var r=ra;t="_"+t+"R_"+(r=(ta&~(1<<32-ve(ta)-1)).toString(32)+r),0<(r=Yn++)&&(t+="H"+r.toString(32)),t+="_"}else t="_"+t+"r_"+(r=Jn++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:so,useFormState:Ll,useActionState:Ll,useOptimistic:function(e){var t=ol();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=uo.bind(null,Bn,!0,r),r.dispatch=t,[e,t]},useMemoCache:ul,useCacheRefresh:function(){return ol().memoizedState=lo.bind(null,Bn)},useEffectEvent:function(e){var t=ol(),r={impl:e};return t.memoizedState=r,function(){if(0!==(2&xc))throw Error(l(440));return r.impl.apply(void 0,arguments)}}},bo={readContext:La,use:dl,useCallback:Yl,useContext:La,useEffect:Hl,useImperativeHandle:Gl,useInsertionEffect:Wl,useLayoutEffect:ql,useMemo:Ql,useReducer:xl,useRef:Ol,useState:function(){return xl(ml)},useDebugValue:$l,useDeferredValue:function(e,t){return Jl(il(),Wn.memoizedState,e,t)},useTransition:function(){var e=xl(ml)[0],t=il().memoizedState;return["boolean"===typeof e?e:cl(e),t]},useSyncExternalStore:fl,useId:ao,useHostTransitionStatus:so,useFormState:Rl,useActionState:Rl,useOptimistic:function(e,t){return wl(il(),0,e,t)},useMemoCache:ul,useCacheRefresh:no};bo.useEffectEvent=Bl;var go={readContext:La,use:dl,useCallback:Yl,useContext:La,useEffect:Hl,useImperativeHandle:Gl,useInsertionEffect:Wl,useLayoutEffect:ql,useMemo:Ql,useReducer:pl,useRef:Ol,useState:function(){return pl(ml)},useDebugValue:$l,useDeferredValue:function(e,t){var r=il();return null===Wn?Kl(r,e,t):Jl(r,Wn.memoizedState,e,t)},useTransition:function(){var e=pl(ml)[0],t=il().memoizedState;return["boolean"===typeof e?e:cl(e),t]},useSyncExternalStore:fl,useId:ao,useHostTransitionStatus:so,useFormState:Dl,useActionState:Dl,useOptimistic:function(e,t){var r=il();return null!==Wn?wl(r,0,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:ul,useCacheRefresh:no};function yo(e,t,r,s){r=null===(r=r(s,t=e.memoizedState))||void 0===r?t:x({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}go.useEffectEvent=Bl;var vo={enqueueSetState:function(e,t,r){e=e._reactInternals;var s=Gc(),a=gn(s);a.payload=t,void 0!==r&&null!==r&&(a.callback=r),null!==(t=yn(e,a,s))&&(Yc(t,e,s),vn(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=Gc(),a=gn(s);a.tag=1,a.payload=t,void 0!==r&&null!==r&&(a.callback=r),null!==(t=yn(e,a,s))&&(Yc(t,e,s),vn(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Gc(),s=gn(r);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=yn(e,s,r))&&(Yc(t,e,r),vn(t,e,r))}};function jo(e,t,r,s,a,n,l){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(s,n,l):!t.prototype||!t.prototype.isPureReactComponent||(!Xr(r,s)||!Xr(a,n))}function No(e,t,r,s){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,s),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&vo.enqueueReplaceState(t,t.state,null)}function wo(e,t){var r=t;if("ref"in t)for(var s in r={},t)"ref"!==s&&(r[s]=t[s]);if(e=e.defaultProps)for(var a in r===t&&(r=x({},r)),e)void 0===r[a]&&(r[a]=e[a]);return r}function _o(e){ks(e)}function ko(e){console.error(e)}function So(e){ks(e)}function Co(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function Eo(e,t,r){try{(0,e.onCaughtError)(r.value,{componentStack:r.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function To(e,t,r){return(r=gn(r)).tag=3,r.payload={element:null},r.callback=function(){Co(e,t)},r}function Po(e){return(e=gn(e)).tag=3,e}function Lo(e,t,r,s){var a=r.type.getDerivedStateFromError;if("function"===typeof a){var n=s.value;e.payload=function(){return a(n)},e.callback=function(){Eo(t,r,s)}}var l=r.stateNode;null!==l&&"function"===typeof l.componentDidCatch&&(e.callback=function(){Eo(t,r,s),"function"!==typeof a&&(null===Ic?Ic=new Set([this]):Ic.add(this));var e=s.stack;this.componentDidCatch(s.value,{componentStack:null!==e?e:""})})}var Ro=Error(l(461)),Mo=!1;function Ao(e,t,r,s){t.child=null===e?hn(t,null,r,s):xn(t,e.child,r,s)}function Do(e,t,r,s,a){r=r.render;var n=t.ref;if("ref"in s){var l={};for(var o in s)"ref"!==o&&(l[o]=s[o])}else l=s;return Pa(t),s=el(e,t,r,l,n,a),o=al(),null===e||Mo?(da&&o&&na(t),t.flags|=1,Ao(e,t,s,a),t.child):(nl(e,t,a),ai(e,t,a))}function Io(e,t,r,s,a){if(null===e){var n=r.type;return"function"!==typeof n||Fs(n)||void 0!==n.defaultProps||null!==r.compare?((e=Hs(r.type,null,s,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=n,Oo(e,t,n,s,a))}if(n=e.child,!ni(e,a)){var l=n.memoizedProps;if((r=null!==(r=r.compare)?r:Xr)(l,s)&&e.ref===t.ref)return ai(e,t,a)}return t.flags|=1,(e=zs(n,s)).ref=t.ref,e.return=t,t.child=e}function Oo(e,t,r,s,a){if(null!==e){var n=e.memoizedProps;if(Xr(n,s)&&e.ref===t.ref){if(Mo=!1,t.pendingProps=s=n,!ni(e,a))return t.lanes=e.lanes,ai(e,t,a);0!==(131072&e.flags)&&(Mo=!0)}}return qo(e,t,r,s,a)}function Fo(e,t,r,s){var a=s.children,n=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===s.mode){if(0!==(128&t.flags)){if(n=null!==n?n.baseLanes|r:r,null!==e){for(s=t.child=e.child,a=0;null!==s;)a=a|s.lanes|s.childLanes,s=s.sibling;s=a&~n}else s=0,t.child=null;return Uo(e,t,n,r,s)}if(0===(536870912&r))return s=t.lanes=536870912,Uo(e,t,null!==n?n.baseLanes|r:r,r,s);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ya(0,null!==n?n.cachePool:null),null!==n?Tn(t,n):Pn(),In(t)}else null!==n?(Ya(0,n.cachePool),Tn(t,n),On(),t.memoizedState=null):(null!==e&&Ya(0,null),Pn(),On());return Ao(e,t,a,r),t.child}function zo(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Uo(e,t,r,s,a){var n=$a();return n=null===n?null:{parent:Oa._currentValue,pool:n},t.memoizedState={baseLanes:r,cachePool:n},null!==e&&Ya(0,null),Pn(),In(t),null!==e&&Ea(e,t,s,!0),t.childLanes=a,null}function Ho(e,t){return(t=Zo({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Bo(e,t,r){return xn(t,e.child,null,r),(e=Ho(t,t.pendingProps)).flags|=2,Fn(t),t.memoizedState=null,e}function Wo(e,t){var r=t.ref;if(null===r)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof r&&"object"!==typeof r)throw Error(l(284));null!==e&&e.ref===r||(t.flags|=4194816)}}function qo(e,t,r,s,a){return Pa(t),r=el(e,t,r,s,void 0,a),s=al(),null===e||Mo?(da&&s&&na(t),t.flags|=1,Ao(e,t,r,a),t.child):(nl(e,t,a),ai(e,t,a))}function Vo(e,t,r,s,a,n){return Pa(t),t.updateQueue=null,r=rl(t,s,r,a),tl(e),s=al(),null===e||Mo?(da&&s&&na(t),t.flags|=1,Ao(e,t,r,n),t.child):(nl(e,t,n),ai(e,t,n))}function Go(e,t,r,s,a){if(Pa(t),null===t.stateNode){var n=Ds,l=r.contextType;"object"===typeof l&&null!==l&&(n=La(l)),n=new r(s,n),t.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,n.updater=vo,t.stateNode=n,n._reactInternals=t,(n=t.stateNode).props=s,n.state=t.memoizedState,n.refs={},fn(t),l=r.contextType,n.context="object"===typeof l&&null!==l?La(l):Ds,n.state=t.memoizedState,"function"===typeof(l=r.getDerivedStateFromProps)&&(yo(t,r,l,s),n.state=t.memoizedState),"function"===typeof r.getDerivedStateFromProps||"function"===typeof n.getSnapshotBeforeUpdate||"function"!==typeof n.UNSAFE_componentWillMount&&"function"!==typeof n.componentWillMount||(l=n.state,"function"===typeof n.componentWillMount&&n.componentWillMount(),"function"===typeof n.UNSAFE_componentWillMount&&n.UNSAFE_componentWillMount(),l!==n.state&&vo.enqueueReplaceState(n,n.state,null),_n(t,s,n,a),wn(),n.state=t.memoizedState),"function"===typeof n.componentDidMount&&(t.flags|=4194308),s=!0}else if(null===e){n=t.stateNode;var o=t.memoizedProps,i=wo(r,o);n.props=i;var c=n.context,d=r.contextType;l=Ds,"object"===typeof d&&null!==d&&(l=La(d));var u=r.getDerivedStateFromProps;d="function"===typeof u||"function"===typeof n.getSnapshotBeforeUpdate,o=t.pendingProps!==o,d||"function"!==typeof n.UNSAFE_componentWillReceiveProps&&"function"!==typeof n.componentWillReceiveProps||(o||c!==l)&&No(t,n,s,l),pn=!1;var m=t.memoizedState;n.state=m,_n(t,s,n,a),wn(),c=t.memoizedState,o||m!==c||pn?("function"===typeof u&&(yo(t,r,u,s),c=t.memoizedState),(i=pn||jo(t,r,i,s,m,c,l))?(d||"function"!==typeof n.UNSAFE_componentWillMount&&"function"!==typeof n.componentWillMount||("function"===typeof n.componentWillMount&&n.componentWillMount(),"function"===typeof n.UNSAFE_componentWillMount&&n.UNSAFE_componentWillMount()),"function"===typeof n.componentDidMount&&(t.flags|=4194308)):("function"===typeof n.componentDidMount&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),n.props=s,n.state=c,n.context=l,s=i):("function"===typeof n.componentDidMount&&(t.flags|=4194308),s=!1)}else{n=t.stateNode,bn(e,t),d=wo(r,l=t.memoizedProps),n.props=d,u=t.pendingProps,m=n.context,c=r.contextType,i=Ds,"object"===typeof c&&null!==c&&(i=La(c)),(c="function"===typeof(o=r.getDerivedStateFromProps)||"function"===typeof n.getSnapshotBeforeUpdate)||"function"!==typeof n.UNSAFE_componentWillReceiveProps&&"function"!==typeof n.componentWillReceiveProps||(l!==u||m!==i)&&No(t,n,s,i),pn=!1,m=t.memoizedState,n.state=m,_n(t,s,n,a),wn();var x=t.memoizedState;l!==u||m!==x||pn||null!==e&&null!==e.dependencies&&Ta(e.dependencies)?("function"===typeof o&&(yo(t,r,o,s),x=t.memoizedState),(d=pn||jo(t,r,d,s,m,x,i)||null!==e&&null!==e.dependencies&&Ta(e.dependencies))?(c||"function"!==typeof n.UNSAFE_componentWillUpdate&&"function"!==typeof n.componentWillUpdate||("function"===typeof n.componentWillUpdate&&n.componentWillUpdate(s,x,i),"function"===typeof n.UNSAFE_componentWillUpdate&&n.UNSAFE_componentWillUpdate(s,x,i)),"function"===typeof n.componentDidUpdate&&(t.flags|=4),"function"===typeof n.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof n.componentDidUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof n.getSnapshotBeforeUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=x),n.props=s,n.state=x,n.context=i,s=d):("function"!==typeof n.componentDidUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof n.getSnapshotBeforeUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),s=!1)}return n=s,Wo(e,t),s=0!==(128&t.flags),n||s?(n=t.stateNode,r=s&&"function"!==typeof r.getDerivedStateFromError?null:n.render(),t.flags|=1,null!==e&&s?(t.child=xn(t,e.child,null,a),t.child=xn(t,null,r,a)):Ao(e,t,r,a),t.memoizedState=n.state,e=t.child):e=ai(e,t,a),e}function $o(e,t,r,s){return ga(),t.flags|=256,Ao(e,t,r,s),t.child}var Yo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qo(e){return{baseLanes:e,cachePool:Qa()}}function Ko(e,t,r){return e=null!==e?e.childLanes&~r:0,t&&(e|=Cc),e}function Jo(e,t,r){var s,a=t.pendingProps,n=!1,o=0!==(128&t.flags);if((s=o)||(s=(null===e||null!==e.memoizedState)&&0!==(2&zn.current)),s&&(n=!0,t.flags&=-129),s=0!==(32&t.flags),t.flags&=-33,null===e){if(da){if(n?An(t):On(),(e=ca)?null!==(e=null!==(e=Pu(e,ma))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ea?{id:ta,overflow:ra}:null,retryLane:536870912,hydrationErrors:null},(r=qs(e)).return=t,t.child=r,ia=t,ca=null):e=null,null===e)throw ha(t);return Ru(e)?t.lanes=32:t.lanes=536870912,null}var i=a.children;return a=a.fallback,n?(On(),i=Zo({mode:"hidden",children:i},n=t.mode),a=Bs(a,n,r,null),i.return=t,a.return=t,i.sibling=a,t.child=i,(a=t.child).memoizedState=Qo(r),a.childLanes=Ko(e,s,r),t.memoizedState=Yo,zo(null,a)):(An(t),Xo(t,i))}var c=e.memoizedState;if(null!==c&&null!==(i=c.dehydrated)){if(o)256&t.flags?(An(t),t.flags&=-257,t=ei(e,t,r)):null!==t.memoizedState?(On(),t.child=e.child,t.flags|=128,t=null):(On(),i=a.fallback,n=t.mode,a=Zo({mode:"visible",children:a.children},n),(i=Bs(i,n,r,null)).flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,xn(t,e.child,null,r),(a=t.child).memoizedState=Qo(r),a.childLanes=Ko(e,s,r),t.memoizedState=Yo,t=zo(null,a));else if(An(t),Ru(i)){if(s=i.nextSibling&&i.nextSibling.dataset)var d=s.dgst;s=d,(a=Error(l(419))).stack="",a.digest=s,va({value:a,source:null,stack:null}),t=ei(e,t,r)}else if(Mo||Ea(e,t,r,!1),s=0!==(r&e.childLanes),Mo||s){if(null!==(s=hc)&&(0!==(a=De(s,r))&&a!==c.retryLane))throw c.retryLane=a,Rs(e,a),Yc(s,e,a),Ro;Lu(i)||ld(),t=ei(e,t,r)}else Lu(i)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ca=Mu(i.nextSibling),ia=t,da=!0,ua=null,ma=!1,null!==e&&oa(t,e),(t=Xo(t,a.children)).flags|=4096);return t}return n?(On(),i=a.fallback,n=t.mode,d=(c=e.child).sibling,(a=zs(c,{mode:"hidden",children:a.children})).subtreeFlags=65011712&c.subtreeFlags,null!==d?i=zs(d,i):(i=Bs(i,n,r,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,zo(null,a),a=t.child,null===(i=e.child.memoizedState)?i=Qo(r):(null!==(n=i.cachePool)?(c=Oa._currentValue,n=n.parent!==c?{parent:c,pool:c}:n):n=Qa(),i={baseLanes:i.baseLanes|r,cachePool:n}),a.memoizedState=i,a.childLanes=Ko(e,s,r),t.memoizedState=Yo,zo(e.child,a)):(An(t),e=(r=e.child).sibling,(r=zs(r,{mode:"visible",children:a.children})).return=t,r.sibling=null,null!==e&&(null===(s=t.deletions)?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=r,t.memoizedState=null,r)}function Xo(e,t){return(t=Zo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Zo(e,t){return(e=Os(22,e,null,t)).lanes=0,e}function ei(e,t,r){return xn(t,e.child,null,r),(e=Xo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ti(e,t,r){e.lanes|=t;var s=e.alternate;null!==s&&(s.lanes|=t),Sa(e.return,t,r)}function ri(e,t,r,s,a,n){var l=e.memoizedState;null===l?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:a,treeForkCount:n}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=s,l.tail=r,l.tailMode=a,l.treeForkCount=n)}function si(e,t,r){var s=t.pendingProps,a=s.revealOrder,n=s.tail;s=s.children;var l=zn.current,o=0!==(2&l);if(o?(l=1&l|2,t.flags|=128):l&=1,H(zn,l),Ao(e,t,s,r),s=da?Js:0,!o&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ti(e,r,t);else if(19===e.tag)ti(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(a){case"forwards":for(r=t.child,a=null;null!==r;)null!==(e=r.alternate)&&null===Un(e)&&(a=r),r=r.sibling;null===(r=a)?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),ri(t,!1,a,r,n,s);break;case"backwards":case"unstable_legacy-backwards":for(r=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Un(e)){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}ri(t,!0,r,null,n,s);break;case"together":ri(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function ai(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),_c|=t.lanes,0===(r&t.childLanes)){if(null===e)return null;if(Ea(e,t,r,!1),0===(r&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(l(153));if(null!==t.child){for(r=zs(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=zs(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function ni(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ta(e))}function li(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps)Mo=!0;else{if(!ni(e,r)&&0===(128&t.flags))return Mo=!1,function(e,t,r){switch(t.tag){case 3:Y(t,t.stateNode.containerInfo),_a(0,Oa,e.memoizedState.cache),ga();break;case 27:case 5:K(t);break;case 4:Y(t,t.stateNode.containerInfo);break;case 10:_a(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Dn(t),null;break;case 13:var s=t.memoizedState;if(null!==s)return null!==s.dehydrated?(An(t),t.flags|=128,null):0!==(r&t.child.childLanes)?Jo(e,t,r):(An(t),null!==(e=ai(e,t,r))?e.sibling:null);An(t);break;case 19:var a=0!==(128&e.flags);if((s=0!==(r&t.childLanes))||(Ea(e,t,r,!1),s=0!==(r&t.childLanes)),a){if(s)return si(e,t,r);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),H(zn,zn.current),s)break;return null;case 22:return t.lanes=0,Fo(e,t,r,t.pendingProps);case 24:_a(0,Oa,e.memoizedState.cache)}return ai(e,t,r)}(e,t,r);Mo=0!==(131072&e.flags)}else Mo=!1,da&&0!==(1048576&t.flags)&&aa(t,Js,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=rn(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var a=e.$$typeof;if(a===N){t.tag=11,t=Do(null,t,e,s,r);break e}if(a===k){t.tag=14,t=Io(null,t,e,s,r);break e}}throw t=R(e)||e,Error(l(306,t,""))}Fs(e)?(s=wo(e,s),t.tag=1,t=Go(null,t,e,s,r)):(t.tag=0,t=qo(null,t,e,s,r))}return t;case 0:return qo(e,t,t.type,t.pendingProps,r);case 1:return Go(e,t,s=t.type,a=wo(s,t.pendingProps),r);case 3:e:{if(Y(t,t.stateNode.containerInfo),null===e)throw Error(l(387));s=t.pendingProps;var n=t.memoizedState;a=n.element,bn(e,t),_n(t,s,null,r);var o=t.memoizedState;if(s=o.cache,_a(0,Oa,s),s!==n.cache&&Ca(t,[Oa],r,!0),wn(),s=o.element,n.isDehydrated){if(n={element:s,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=n,t.memoizedState=n,256&t.flags){t=$o(e,t,s,r);break e}if(s!==a){va(a=$s(Error(l(424)),t)),t=$o(e,t,s,r);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ca=Mu(e.firstChild),ia=t,da=!0,ua=null,ma=!0,r=hn(t,null,s,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(ga(),s===a){t=ai(e,t,r);break e}Ao(e,t,s,r)}t=t.child}return t;case 26:return Wo(e,t),null===e?(r=Vu(t.type,null,t.pendingProps,null))?t.memoizedState=r:da||(r=t.type,e=t.pendingProps,(s=fu(G.current).createElement(r))[He]=t,s[Be]=e,mu(s,r,e),et(s),t.stateNode=s):t.memoizedState=Vu(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return K(t),null===e&&da&&(s=t.stateNode=Ou(t.type,t.pendingProps,G.current),ia=t,ma=!0,a=ca,Su(t.type)?(Au=a,ca=Mu(s.firstChild)):ca=a),Ao(e,t,t.pendingProps.children,r),Wo(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&da&&((a=s=ca)&&(null!==(s=function(e,t,r,s){for(;1===e.nodeType;){var a=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(s){if(!e[Ye])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(n=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(n!==a.rel||e.getAttribute("href")!==(null==a.href||""===a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((n=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&n&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var n=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===n)return e}if(null===(e=Mu(e.nextSibling)))break}return null}(s,t.type,t.pendingProps,ma))?(t.stateNode=s,ia=t,ca=Mu(s.firstChild),ma=!1,a=!0):a=!1),a||ha(t)),K(t),a=t.type,n=t.pendingProps,o=null!==e?e.memoizedProps:null,s=n.children,yu(a,n)?s=null:null!==o&&yu(a,o)&&(t.flags|=32),null!==t.memoizedState&&(a=el(e,t,sl,null,null,r),dm._currentValue=a),Wo(e,t),Ao(e,t,s,r),t.child;case 6:return null===e&&da&&((e=r=ca)&&(null!==(r=function(e,t,r){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!r)return null;if(null===(e=Mu(e.nextSibling)))return null}return e}(r,t.pendingProps,ma))?(t.stateNode=r,ia=t,ca=null,e=!0):e=!1),e||ha(t)),null;case 13:return Jo(e,t,r);case 4:return Y(t,t.stateNode.containerInfo),s=t.pendingProps,null===e?t.child=xn(t,null,s,r):Ao(e,t,s,r),t.child;case 11:return Do(e,t,t.type,t.pendingProps,r);case 7:return Ao(e,t,t.pendingProps,r),t.child;case 8:case 12:return Ao(e,t,t.pendingProps.children,r),t.child;case 10:return s=t.pendingProps,_a(0,t.type,s.value),Ao(e,t,s.children,r),t.child;case 9:return a=t.type._context,s=t.pendingProps.children,Pa(t),s=s(a=La(a)),t.flags|=1,Ao(e,t,s,r),t.child;case 14:return Io(e,t,t.type,t.pendingProps,r);case 15:return Oo(e,t,t.type,t.pendingProps,r);case 19:return si(e,t,r);case 31:return function(e,t,r){var s=t.pendingProps,a=0!==(128&t.flags);if(t.flags&=-129,null===e){if(da){if("hidden"===s.mode)return e=Ho(t,s),t.lanes=536870912,zo(null,e);if(Dn(t),(e=ca)?null!==(e=null!==(e=Pu(e,ma))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ea?{id:ta,overflow:ra}:null,retryLane:536870912,hydrationErrors:null},(r=qs(e)).return=t,t.child=r,ia=t,ca=null):e=null,null===e)throw ha(t);return t.lanes=536870912,null}return Ho(t,s)}var n=e.memoizedState;if(null!==n){var o=n.dehydrated;if(Dn(t),a)if(256&t.flags)t.flags&=-257,t=Bo(e,t,r);else{if(null===t.memoizedState)throw Error(l(558));t.child=e.child,t.flags|=128,t=null}else if(Mo||Ea(e,t,r,!1),a=0!==(r&e.childLanes),Mo||a){if(null!==(s=hc)&&0!==(o=De(s,r))&&o!==n.retryLane)throw n.retryLane=o,Rs(e,o),Yc(s,e,o),Ro;ld(),t=Bo(e,t,r)}else e=n.treeContext,ca=Mu(o.nextSibling),ia=t,da=!0,ua=null,ma=!1,null!==e&&oa(t,e),(t=Ho(t,s)).flags|=4096;return t}return(e=zs(e.child,{mode:s.mode,children:s.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,r);case 22:return Fo(e,t,r,t.pendingProps);case 24:return Pa(t),s=La(Oa),null===e?(null===(a=$a())&&(a=hc,n=Fa(),a.pooledCache=n,n.refCount++,null!==n&&(a.pooledCacheLanes|=r),a=n),t.memoizedState={parent:s,cache:a},fn(t),_a(0,Oa,a)):(0!==(e.lanes&r)&&(bn(e,t),_n(t,null,null,r),wn()),a=e.memoizedState,n=t.memoizedState,a.parent!==s?(a={parent:s,cache:s},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),_a(0,Oa,s)):(s=n.cache,_a(0,Oa,s),s!==a.cache&&Ca(t,[Oa],r,!0))),Ao(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function oi(e){e.flags|=4}function ii(e,t,r,s,a){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&a)===a)if(e.stateNode.complete)e.flags|=8192;else{if(!sd())throw sn=Za,Ja;e.flags|=8192}}else e.flags&=-16777217}function ci(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!am(t)){if(!sd())throw sn=Za,Ja;e.flags|=8192}}function di(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Pe():536870912,e.lanes|=t,Ec|=t)}function ui(e,t){if(!da)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;null!==r;)null!==r.alternate&&(s=r),r=r.sibling;null===s?t||null===e.tail?e.tail=null:e.tail.sibling=null:s.sibling=null}}function mi(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,s=0;if(t)for(var a=e.child;null!==a;)r|=a.lanes|a.childLanes,s|=65011712&a.subtreeFlags,s|=65011712&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function xi(e,t,r){var s=t.pendingProps;switch(la(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return mi(t),null;case 3:return r=t.stateNode,s=null,null!==e&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),ka(Oa),Q(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ba(t)?oi(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,ya())),mi(t),null;case 26:var a=t.type,n=t.memoizedState;return null===e?(oi(t),null!==n?(mi(t),ci(t,n)):(mi(t),ii(t,a,0,0,r))):n?n!==e.memoizedState?(oi(t),mi(t),ci(t,n)):(mi(t),t.flags&=-16777217):((e=e.memoizedProps)!==s&&oi(t),mi(t),ii(t,a,0,0,r)),null;case 27:if(J(t),r=G.current,a=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==s&&oi(t);else{if(!s){if(null===t.stateNode)throw Error(l(166));return mi(t),null}e=q.current,ba(t)?pa(t):(e=Ou(a,s,r),t.stateNode=e,oi(t))}return mi(t),null;case 5:if(J(t),a=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==s&&oi(t);else{if(!s){if(null===t.stateNode)throw Error(l(166));return mi(t),null}if(n=q.current,ba(t))pa(t);else{var o=fu(G.current);switch(n){case 1:n=o.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=o.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":(n=o.createElement("div")).innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n="string"===typeof s.is?o.createElement("select",{is:s.is}):o.createElement("select"),s.multiple?n.multiple=!0:s.size&&(n.size=s.size);break;default:n="string"===typeof s.is?o.createElement(a,{is:s.is}):o.createElement(a)}}n[He]=t,n[Be]=s;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)n.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=n;e:switch(mu(n,a,s),a){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&oi(t)}}return mi(t),ii(t,t.type,null===e||e.memoizedProps,t.pendingProps,r),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==s&&oi(t);else{if("string"!==typeof s&&null===t.stateNode)throw Error(l(166));if(e=G.current,ba(t)){if(e=t.stateNode,r=t.memoizedProps,s=null,null!==(a=ia))switch(a.tag){case 27:case 5:s=a.memoizedProps}e[He]=t,(e=!!(e.nodeValue===r||null!==s&&!0===s.suppressHydrationWarning||cu(e.nodeValue,r)))||ha(t,!0)}else(e=fu(e).createTextNode(s))[He]=t,t.stateNode=e}return mi(t),null;case 31:if(r=t.memoizedState,null===e||null!==e.memoizedState){if(s=ba(t),null!==r){if(null===e){if(!s)throw Error(l(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(l(557));e[He]=t}else ga(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;mi(t),e=!1}else r=ya(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return 256&t.flags?(Fn(t),t):(Fn(t),null);if(0!==(128&t.flags))throw Error(l(558))}return mi(t),null;case 13:if(s=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=ba(t),null!==s&&null!==s.dehydrated){if(null===e){if(!a)throw Error(l(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(l(317));a[He]=t}else ga(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;mi(t),a=!1}else a=ya(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(Fn(t),t):(Fn(t),null)}return Fn(t),0!==(128&t.flags)?(t.lanes=r,t):(r=null!==s,e=null!==e&&null!==e.memoizedState,r&&(a=null,null!==(s=t.child).alternate&&null!==s.alternate.memoizedState&&null!==s.alternate.memoizedState.cachePool&&(a=s.alternate.memoizedState.cachePool.pool),n=null,null!==s.memoizedState&&null!==s.memoizedState.cachePool&&(n=s.memoizedState.cachePool.pool),n!==a&&(s.flags|=2048)),r!==e&&r&&(t.child.flags|=8192),di(t,t.updateQueue),mi(t),null);case 4:return Q(),null===e&&Zd(t.stateNode.containerInfo),mi(t),null;case 10:return ka(t.type),mi(t),null;case 19:if(U(zn),null===(s=t.memoizedState))return mi(t),null;if(a=0!==(128&t.flags),null===(n=s.rendering))if(a)ui(s,!1);else{if(0!==wc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(n=Un(e))){for(t.flags|=128,ui(s,!1),e=n.updateQueue,t.updateQueue=e,di(t,e),t.subtreeFlags=0,e=r,r=t.child;null!==r;)Us(r,e),r=r.sibling;return H(zn,1&zn.current|2),da&&sa(t,s.treeForkCount),t.child}e=e.sibling}null!==s.tail&&ie()>Ac&&(t.flags|=128,a=!0,ui(s,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=Un(n))){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,di(t,e),ui(s,!0),null===s.tail&&"hidden"===s.tailMode&&!n.alternate&&!da)return mi(t),null}else 2*ie()-s.renderingStartTime>Ac&&536870912!==r&&(t.flags|=128,a=!0,ui(s,!1),t.lanes=4194304);s.isBackwards?(n.sibling=t.child,t.child=n):(null!==(e=s.last)?e.sibling=n:t.child=n,s.last=n)}return null!==s.tail?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ie(),e.sibling=null,r=zn.current,H(zn,a?1&r|2:1&r),da&&sa(t,s.treeForkCount),e):(mi(t),null);case 22:case 23:return Fn(t),Ln(),s=null!==t.memoizedState,null!==e?null!==e.memoizedState!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?0!==(536870912&r)&&0===(128&t.flags)&&(mi(t),6&t.subtreeFlags&&(t.flags|=8192)):mi(t),null!==(r=t.updateQueue)&&di(t,r.retryQueue),r=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),s=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(s=t.memoizedState.cachePool.pool),s!==r&&(t.flags|=2048),null!==e&&U(Ga),null;case 24:return r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ka(Oa),mi(t),null;case 25:case 30:return null}throw Error(l(156,t.tag))}function hi(e,t){switch(la(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ka(Oa),Q(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return J(t),null;case 31:if(null!==t.memoizedState){if(Fn(t),null===t.alternate)throw Error(l(340));ga()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Fn(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(l(340));ga()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(zn),null;case 4:return Q(),null;case 10:return ka(t.type),null;case 22:case 23:return Fn(t),Ln(),null!==e&&U(Ga),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return ka(Oa),null;default:return null}}function pi(e,t){switch(la(t),t.tag){case 3:ka(Oa),Q();break;case 26:case 27:case 5:J(t);break;case 4:Q();break;case 31:null!==t.memoizedState&&Fn(t);break;case 13:Fn(t);break;case 19:U(zn);break;case 10:ka(t.type);break;case 22:case 23:Fn(t),Ln(),null!==e&&U(Ga);break;case 24:ka(Oa)}}function fi(e,t){try{var r=t.updateQueue,s=null!==r?r.lastEffect:null;if(null!==s){var a=s.next;r=a;do{if((r.tag&e)===e){s=void 0;var n=r.create,l=r.inst;s=n(),l.destroy=s}r=r.next}while(r!==a)}}catch(o){wd(t,t.return,o)}}function bi(e,t,r){try{var s=t.updateQueue,a=null!==s?s.lastEffect:null;if(null!==a){var n=a.next;s=n;do{if((s.tag&e)===e){var l=s.inst,o=l.destroy;if(void 0!==o){l.destroy=void 0,a=t;var i=r,c=o;try{c()}catch(d){wd(a,i,d)}}}s=s.next}while(s!==n)}}catch(d){wd(t,t.return,d)}}function gi(e){var t=e.updateQueue;if(null!==t){var r=e.stateNode;try{Sn(t,r)}catch(s){wd(e,e.return,s)}}}function yi(e,t,r){r.props=wo(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(s){wd(e,t,s)}}function vi(e,t){try{var r=e.ref;if(null!==r){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;default:s=e.stateNode}"function"===typeof r?e.refCleanup=r(s):r.current=s}}catch(a){wd(e,t,a)}}function ji(e,t){var r=e.ref,s=e.refCleanup;if(null!==r)if("function"===typeof s)try{s()}catch(a){wd(e,t,a)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof r)try{r(null)}catch(n){wd(e,t,n)}else r.current=null}function Ni(e){var t=e.type,r=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&s.focus();break e;case"img":r.src?s.src=r.src:r.srcSet&&(s.srcset=r.srcSet)}}catch(a){wd(e,e.return,a)}}function wi(e,t,r){try{var s=e.stateNode;!function(e,t,r,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,n=null,o=null,i=null,c=null,d=null,u=null;for(h in r){var m=r[h];if(r.hasOwnProperty(h)&&null!=m)switch(h){case"checked":case"value":break;case"defaultValue":c=m;default:s.hasOwnProperty(h)||du(e,t,h,null,s,m)}}for(var x in s){var h=s[x];if(m=r[x],s.hasOwnProperty(x)&&(null!=h||null!=m))switch(x){case"type":n=h;break;case"name":a=h;break;case"checked":d=h;break;case"defaultChecked":u=h;break;case"value":o=h;break;case"defaultValue":i=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(l(137,t));break;default:h!==m&&du(e,t,x,h,s,m)}}return void gt(e,o,i,c,d,u,n,a);case"select":for(n in h=o=i=x=null,r)if(c=r[n],r.hasOwnProperty(n)&&null!=c)switch(n){case"value":break;case"multiple":h=c;default:s.hasOwnProperty(n)||du(e,t,n,null,s,c)}for(a in s)if(n=s[a],c=r[a],s.hasOwnProperty(a)&&(null!=n||null!=c))switch(a){case"value":x=n;break;case"defaultValue":i=n;break;case"multiple":o=n;default:n!==c&&du(e,t,a,n,s,c)}return t=i,r=o,s=h,void(null!=x?jt(e,!!r,x,!1):!!s!==!!r&&(null!=t?jt(e,!!r,t,!0):jt(e,!!r,r?[]:"",!1)));case"textarea":for(i in h=x=null,r)if(a=r[i],r.hasOwnProperty(i)&&null!=a&&!s.hasOwnProperty(i))switch(i){case"value":case"children":break;default:du(e,t,i,null,s,a)}for(o in s)if(a=s[o],n=r[o],s.hasOwnProperty(o)&&(null!=a||null!=n))switch(o){case"value":x=a;break;case"defaultValue":h=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(l(91));break;default:a!==n&&du(e,t,o,a,s,n)}return void Nt(e,x,h);case"option":for(var p in r)if(x=r[p],r.hasOwnProperty(p)&&null!=x&&!s.hasOwnProperty(p))if("selected"===p)e.selected=!1;else du(e,t,p,null,s,x);for(c in s)if(x=s[c],h=r[c],s.hasOwnProperty(c)&&x!==h&&(null!=x||null!=h))if("selected"===c)e.selected=x&&"function"!==typeof x&&"symbol"!==typeof x;else du(e,t,c,x,s,h);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var f in r)x=r[f],r.hasOwnProperty(f)&&null!=x&&!s.hasOwnProperty(f)&&du(e,t,f,null,s,x);for(d in s)if(x=s[d],h=r[d],s.hasOwnProperty(d)&&x!==h&&(null!=x||null!=h))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=x)throw Error(l(137,t));break;default:du(e,t,d,x,s,h)}return;default:if(Et(t)){for(var b in r)x=r[b],r.hasOwnProperty(b)&&void 0!==x&&!s.hasOwnProperty(b)&&uu(e,t,b,void 0,s,x);for(u in s)x=s[u],h=r[u],!s.hasOwnProperty(u)||x===h||void 0===x&&void 0===h||uu(e,t,u,x,s,h);return}}for(var g in r)x=r[g],r.hasOwnProperty(g)&&null!=x&&!s.hasOwnProperty(g)&&du(e,t,g,null,s,x);for(m in s)x=s[m],h=r[m],!s.hasOwnProperty(m)||x===h||null==x&&null==h||du(e,t,m,x,s,h)}(s,e.type,r,t),s[Be]=t}catch(a){wd(e,e.return,a)}}function _i(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Su(e.type)||4===e.tag}function ki(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||_i(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Su(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Si(e,t,r){var s=e.tag;if(5===s||6===s)e=e.stateNode,t?(9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).insertBefore(e,t):((t=9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Rt));else if(4!==s&&(27===s&&Su(e.type)&&(r=e.stateNode,t=null),null!==(e=e.child)))for(Si(e,t,r),e=e.sibling;null!==e;)Si(e,t,r),e=e.sibling}function Ci(e,t,r){var s=e.tag;if(5===s||6===s)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==s&&(27===s&&Su(e.type)&&(r=e.stateNode),null!==(e=e.child)))for(Ci(e,t,r),e=e.sibling;null!==e;)Ci(e,t,r),e=e.sibling}function Ei(e){var t=e.stateNode,r=e.memoizedProps;try{for(var s=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);mu(t,s,r),t[He]=e,t[Be]=r}catch(n){wd(e,e.return,n)}}var Ti=!1,Pi=!1,Li=!1,Ri="function"===typeof WeakSet?WeakSet:Set,Mi=null;function Ai(e,t,r){var s=r.flags;switch(r.tag){case 0:case 11:case 15:Yi(e,r),4&s&&fi(5,r);break;case 1:if(Yi(e,r),4&s)if(e=r.stateNode,null===t)try{e.componentDidMount()}catch(l){wd(r,r.return,l)}else{var a=wo(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){wd(r,r.return,o)}}64&s&&gi(r),512&s&&vi(r,r.return);break;case 3:if(Yi(e,r),64&s&&null!==(e=r.updateQueue)){if(t=null,null!==r.child)switch(r.child.tag){case 27:case 5:case 1:t=r.child.stateNode}try{Sn(e,t)}catch(l){wd(r,r.return,l)}}break;case 27:null===t&&4&s&&Ei(r);case 26:case 5:Yi(e,r),null===t&&4&s&&Ni(r),512&s&&vi(r,r.return);break;case 12:Yi(e,r);break;case 31:Yi(e,r),4&s&&Ui(e,r);break;case 13:Yi(e,r),4&s&&Hi(e,r),64&s&&(null!==(e=r.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var r=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==r.readyState)t();else{var s=function(){t(),r.removeEventListener("DOMContentLoaded",s)};r.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}(e,r=Cd.bind(null,r))));break;case 22:if(!(s=null!==r.memoizedState||Ti)){t=null!==t&&null!==t.memoizedState||Pi,a=Ti;var n=Pi;Ti=s,(Pi=t)&&!n?Ki(e,r,0!==(8772&r.subtreeFlags)):Yi(e,r),Ti=a,Pi=n}break;case 30:break;default:Yi(e,r)}}function Di(e){var t=e.alternate;null!==t&&(e.alternate=null,Di(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Qe(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ii=null,Oi=!1;function Fi(e,t,r){for(r=r.child;null!==r;)zi(e,t,r),r=r.sibling}function zi(e,t,r){if(ge&&"function"===typeof ge.onCommitFiberUnmount)try{ge.onCommitFiberUnmount(be,r)}catch(n){}switch(r.tag){case 26:Pi||ji(r,t),Fi(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode).parentNode.removeChild(r);break;case 27:Pi||ji(r,t);var s=Ii,a=Oi;Su(r.type)&&(Ii=r.stateNode,Oi=!1),Fi(e,t,r),Fu(r.stateNode),Ii=s,Oi=a;break;case 5:Pi||ji(r,t);case 6:if(s=Ii,a=Oi,Ii=null,Fi(e,t,r),Oi=a,null!==(Ii=s))if(Oi)try{(9===Ii.nodeType?Ii.body:"HTML"===Ii.nodeName?Ii.ownerDocument.body:Ii).removeChild(r.stateNode)}catch(l){wd(r,t,l)}else try{Ii.removeChild(r.stateNode)}catch(l){wd(r,t,l)}break;case 18:null!==Ii&&(Oi?(Cu(9===(e=Ii).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,r.stateNode),qm(e)):Cu(Ii,r.stateNode));break;case 4:s=Ii,a=Oi,Ii=r.stateNode.containerInfo,Oi=!0,Fi(e,t,r),Ii=s,Oi=a;break;case 0:case 11:case 14:case 15:bi(2,r,t),Pi||bi(4,r,t),Fi(e,t,r);break;case 1:Pi||(ji(r,t),"function"===typeof(s=r.stateNode).componentWillUnmount&&yi(r,t,s)),Fi(e,t,r);break;case 21:Fi(e,t,r);break;case 22:Pi=(s=Pi)||null!==r.memoizedState,Fi(e,t,r),Pi=s;break;default:Fi(e,t,r)}}function Ui(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{qm(e)}catch(r){wd(t,t.return,r)}}}function Hi(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{qm(e)}catch(r){wd(t,t.return,r)}}function Bi(e,t){var r=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Ri),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Ri),t;default:throw Error(l(435,e.tag))}}(e);t.forEach(function(t){if(!r.has(t)){r.add(t);var s=Ed.bind(null,e,t);t.then(s,s)}})}function Wi(e,t){var r=t.deletions;if(null!==r)for(var s=0;s<r.length;s++){var a=r[s],n=e,o=t,i=o;e:for(;null!==i;){switch(i.tag){case 27:if(Su(i.type)){Ii=i.stateNode,Oi=!1;break e}break;case 5:Ii=i.stateNode,Oi=!1;break e;case 3:case 4:Ii=i.stateNode.containerInfo,Oi=!0;break e}i=i.return}if(null===Ii)throw Error(l(160));zi(n,o,a),Ii=null,Oi=!1,null!==(n=a.alternate)&&(n.return=null),a.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Vi(t,e),t=t.sibling}var qi=null;function Vi(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Wi(t,e),Gi(e),4&s&&(bi(3,e,e.return),fi(3,e),bi(5,e,e.return));break;case 1:Wi(t,e),Gi(e),512&s&&(Pi||null===r||ji(r,r.return)),64&s&&Ti&&(null!==(e=e.updateQueue)&&(null!==(s=e.callbacks)&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===r?s:r.concat(s))));break;case 26:var a=qi;if(Wi(t,e),Gi(e),512&s&&(Pi||null===r||ji(r,r.return)),4&s){var n=null!==r?r.memoizedState:null;if(s=e.memoizedState,null===r)if(null===s)if(null===e.stateNode){e:{s=e.type,r=e.memoizedProps,a=a.ownerDocument||a;t:switch(s){case"title":(!(n=a.getElementsByTagName("title")[0])||n[Ye]||n[He]||"http://www.w3.org/2000/svg"===n.namespaceURI||n.hasAttribute("itemprop"))&&(n=a.createElement(s),a.head.insertBefore(n,a.querySelector("head > title"))),mu(n,s,r),n[He]=e,et(n),s=n;break e;case"link":var o=rm("link","href",a).get(s+(r.href||""));if(o)for(var i=0;i<o.length;i++)if((n=o[i]).getAttribute("href")===(null==r.href||""===r.href?null:r.href)&&n.getAttribute("rel")===(null==r.rel?null:r.rel)&&n.getAttribute("title")===(null==r.title?null:r.title)&&n.getAttribute("crossorigin")===(null==r.crossOrigin?null:r.crossOrigin)){o.splice(i,1);break t}mu(n=a.createElement(s),s,r),a.head.appendChild(n);break;case"meta":if(o=rm("meta","content",a).get(s+(r.content||"")))for(i=0;i<o.length;i++)if((n=o[i]).getAttribute("content")===(null==r.content?null:""+r.content)&&n.getAttribute("name")===(null==r.name?null:r.name)&&n.getAttribute("property")===(null==r.property?null:r.property)&&n.getAttribute("http-equiv")===(null==r.httpEquiv?null:r.httpEquiv)&&n.getAttribute("charset")===(null==r.charSet?null:r.charSet)){o.splice(i,1);break t}mu(n=a.createElement(s),s,r),a.head.appendChild(n);break;default:throw Error(l(468,s))}n[He]=e,et(n),s=n}e.stateNode=s}else sm(a,e.type,e.stateNode);else e.stateNode=Ju(a,s,e.memoizedProps);else n!==s?(null===n?null!==r.stateNode&&(r=r.stateNode).parentNode.removeChild(r):n.count--,null===s?sm(a,e.type,e.stateNode):Ju(a,s,e.memoizedProps)):null===s&&null!==e.stateNode&&wi(e,e.memoizedProps,r.memoizedProps)}break;case 27:Wi(t,e),Gi(e),512&s&&(Pi||null===r||ji(r,r.return)),null!==r&&4&s&&wi(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Wi(t,e),Gi(e),512&s&&(Pi||null===r||ji(r,r.return)),32&e.flags){a=e.stateNode;try{_t(a,"")}catch(p){wd(e,e.return,p)}}4&s&&null!=e.stateNode&&wi(e,a=e.memoizedProps,null!==r?r.memoizedProps:a),1024&s&&(Li=!0);break;case 6:if(Wi(t,e),Gi(e),4&s){if(null===e.stateNode)throw Error(l(162));s=e.memoizedProps,r=e.stateNode;try{r.nodeValue=s}catch(p){wd(e,e.return,p)}}break;case 3:if(tm=null,a=qi,qi=Hu(t.containerInfo),Wi(t,e),qi=a,Gi(e),4&s&&null!==r&&r.memoizedState.isDehydrated)try{qm(t.containerInfo)}catch(p){wd(e,e.return,p)}Li&&(Li=!1,$i(e));break;case 4:s=qi,qi=Hu(e.stateNode.containerInfo),Wi(t,e),Gi(e),qi=s;break;case 12:default:Wi(t,e),Gi(e);break;case 31:case 19:Wi(t,e),Gi(e),4&s&&(null!==(s=e.updateQueue)&&(e.updateQueue=null,Bi(e,s)));break;case 13:Wi(t,e),Gi(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==r&&null!==r.memoizedState)&&(Rc=ie()),4&s&&(null!==(s=e.updateQueue)&&(e.updateQueue=null,Bi(e,s)));break;case 22:a=null!==e.memoizedState;var c=null!==r&&null!==r.memoizedState,d=Ti,u=Pi;if(Ti=d||a,Pi=u||c,Wi(t,e),Pi=u,Ti=d,Gi(e),8192&s)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===r||c||Ti||Pi||Qi(e)),r=null,t=e;;){if(5===t.tag||26===t.tag){if(null===r){c=r=t;try{if(n=c.stateNode,a)"function"===typeof(o=n.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{i=c.stateNode;var m=c.memoizedProps.style,x=void 0!==m&&null!==m&&m.hasOwnProperty("display")?m.display:null;i.style.display=null==x||"boolean"===typeof x?"":(""+x).trim()}}catch(p){wd(c,c.return,p)}}}else if(6===t.tag){if(null===r){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(p){wd(c,c.return,p)}}}else if(18===t.tag){if(null===r){c=t;try{var h=c.stateNode;a?Eu(h,!0):Eu(c.stateNode,!1)}catch(p){wd(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}4&s&&(null!==(s=e.updateQueue)&&(null!==(r=s.retryQueue)&&(s.retryQueue=null,Bi(e,r))));case 30:case 21:}}function Gi(e){var t=e.flags;if(2&t){try{for(var r,s=e.return;null!==s;){if(_i(s)){r=s;break}s=s.return}if(null==r)throw Error(l(160));switch(r.tag){case 27:var a=r.stateNode;Ci(e,ki(e),a);break;case 5:var n=r.stateNode;32&r.flags&&(_t(n,""),r.flags&=-33),Ci(e,ki(e),n);break;case 3:case 4:var o=r.stateNode.containerInfo;Si(e,ki(e),o);break;default:throw Error(l(161))}}catch(i){wd(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function $i(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;$i(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Yi(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Ai(e,t.alternate,t),t=t.sibling}function Qi(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:bi(4,t,t.return),Qi(t);break;case 1:ji(t,t.return);var r=t.stateNode;"function"===typeof r.componentWillUnmount&&yi(t,t.return,r),Qi(t);break;case 27:Fu(t.stateNode);case 26:case 5:ji(t,t.return),Qi(t);break;case 22:null===t.memoizedState&&Qi(t);break;default:Qi(t)}e=e.sibling}}function Ki(e,t,r){for(r=r&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var s=t.alternate,a=e,n=t,l=n.flags;switch(n.tag){case 0:case 11:case 15:Ki(a,n,r),fi(4,n);break;case 1:if(Ki(a,n,r),"function"===typeof(a=(s=n).stateNode).componentDidMount)try{a.componentDidMount()}catch(c){wd(s,s.return,c)}if(null!==(a=(s=n).updateQueue)){var o=s.stateNode;try{var i=a.shared.hiddenCallbacks;if(null!==i)for(a.shared.hiddenCallbacks=null,a=0;a<i.length;a++)kn(i[a],o)}catch(c){wd(s,s.return,c)}}r&&64&l&&gi(n),vi(n,n.return);break;case 27:Ei(n);case 26:case 5:Ki(a,n,r),r&&null===s&&4&l&&Ni(n),vi(n,n.return);break;case 12:Ki(a,n,r);break;case 31:Ki(a,n,r),r&&4&l&&Ui(a,n);break;case 13:Ki(a,n,r),r&&4&l&&Hi(a,n);break;case 22:null===n.memoizedState&&Ki(a,n,r),vi(n,n.return);break;case 30:break;default:Ki(a,n,r)}t=t.sibling}}function Ji(e,t){var r=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==r&&(null!=e&&e.refCount++,null!=r&&za(r))}function Xi(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&za(e))}function Zi(e,t,r,s){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ec(e,t,r,s),t=t.sibling}function ec(e,t,r,s){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Zi(e,t,r,s),2048&a&&fi(9,t);break;case 1:case 31:case 13:default:Zi(e,t,r,s);break;case 3:Zi(e,t,r,s),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&za(e)));break;case 12:if(2048&a){Zi(e,t,r,s),e=t.stateNode;try{var n=t.memoizedProps,l=n.id,o=n.onPostCommit;"function"===typeof o&&o(l,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(i){wd(t,t.return,i)}}else Zi(e,t,r,s);break;case 23:break;case 22:n=t.stateNode,l=t.alternate,null!==t.memoizedState?2&n._visibility?Zi(e,t,r,s):rc(e,t):2&n._visibility?Zi(e,t,r,s):(n._visibility|=2,tc(e,t,r,s,0!==(10256&t.subtreeFlags)||!1)),2048&a&&Ji(l,t);break;case 24:Zi(e,t,r,s),2048&a&&Xi(t.alternate,t)}}function tc(e,t,r,s,a){for(a=a&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var n=e,l=t,o=r,i=s,c=l.flags;switch(l.tag){case 0:case 11:case 15:tc(n,l,o,i,a),fi(8,l);break;case 23:break;case 22:var d=l.stateNode;null!==l.memoizedState?2&d._visibility?tc(n,l,o,i,a):rc(n,l):(d._visibility|=2,tc(n,l,o,i,a)),a&&2048&c&&Ji(l.alternate,l);break;case 24:tc(n,l,o,i,a),a&&2048&c&&Xi(l.alternate,l);break;default:tc(n,l,o,i,a)}t=t.sibling}}function rc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var r=e,s=t,a=s.flags;switch(s.tag){case 22:rc(r,s),2048&a&&Ji(s.alternate,s);break;case 24:rc(r,s),2048&a&&Xi(s.alternate,s);break;default:rc(r,s)}t=t.sibling}}var sc=8192;function ac(e,t,r){if(e.subtreeFlags&sc)for(e=e.child;null!==e;)nc(e,t,r),e=e.sibling}function nc(e,t,r){switch(e.tag){case 26:ac(e,t,r),e.flags&sc&&null!==e.memoizedState&&function(e,t,r,s){if("stylesheet"===r.type&&("string"!==typeof s.media||!1!==matchMedia(s.media).matches)&&0===(4&r.state.loading)){if(null===r.instance){var a=Gu(s.href),n=t.querySelector($u(a));if(n)return null!==(t=n._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=lm.bind(e),t.then(e,e)),r.state.loading|=4,r.instance=n,void et(n);n=t.ownerDocument||t,s=Yu(s),(a=zu.get(a))&&Zu(s,a),et(n=n.createElement("link"));var l=n;l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),mu(n,"link",s),r.instance=n}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(r,t),(t=r.state.preload)&&0===(3&r.state.loading)&&(e.count++,r=lm.bind(e),t.addEventListener("load",r),t.addEventListener("error",r))}}(r,qi,e.memoizedState,e.memoizedProps);break;case 5:default:ac(e,t,r);break;case 3:case 4:var s=qi;qi=Hu(e.stateNode.containerInfo),ac(e,t,r),qi=s;break;case 22:null===e.memoizedState&&(null!==(s=e.alternate)&&null!==s.memoizedState?(s=sc,sc=16777216,ac(e,t,r),sc=s):ac(e,t,r))}}function lc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function oc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var r=0;r<t.length;r++){var s=t[r];Mi=s,dc(s,e)}lc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)ic(e),e=e.sibling}function ic(e){switch(e.tag){case 0:case 11:case 15:oc(e),2048&e.flags&&bi(9,e,e.return);break;case 3:case 12:default:oc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,cc(e)):oc(e)}}function cc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var r=0;r<t.length;r++){var s=t[r];Mi=s,dc(s,e)}lc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:bi(8,t,t.return),cc(t);break;case 22:2&(r=t.stateNode)._visibility&&(r._visibility&=-3,cc(t));break;default:cc(t)}e=e.sibling}}function dc(e,t){for(;null!==Mi;){var r=Mi;switch(r.tag){case 0:case 11:case 15:bi(8,r,t);break;case 23:case 22:if(null!==r.memoizedState&&null!==r.memoizedState.cachePool){var s=r.memoizedState.cachePool.pool;null!=s&&s.refCount++}break;case 24:za(r.memoizedState.cache)}if(null!==(s=r.child))s.return=r,Mi=s;else e:for(r=e;null!==Mi;){var a=(s=Mi).sibling,n=s.return;if(Di(s),s===r){Mi=null;break e}if(null!==a){a.return=n,Mi=a;break e}Mi=n}}}var uc={getCacheForType:function(e){var t=La(Oa),r=t.data.get(e);return void 0===r&&(r=e(),t.data.set(e,r)),r},cacheSignal:function(){return La(Oa).controller.signal}},mc="function"===typeof WeakMap?WeakMap:Map,xc=0,hc=null,pc=null,fc=0,bc=0,gc=null,yc=!1,vc=!1,jc=!1,Nc=0,wc=0,_c=0,kc=0,Sc=0,Cc=0,Ec=0,Tc=null,Pc=null,Lc=!1,Rc=0,Mc=0,Ac=1/0,Dc=null,Ic=null,Oc=0,Fc=null,zc=null,Uc=0,Hc=0,Bc=null,Wc=null,qc=0,Vc=null;function Gc(){return 0!==(2&xc)&&0!==fc?fc&-fc:null!==A.T?Bd():Fe()}function $c(){if(0===Cc)if(0===(536870912&fc)||da){var e=_e;0===(3932160&(_e<<=1))&&(_e=262144),Cc=e}else Cc=536870912;return null!==(e=Rn.current)&&(e.flags|=32),Cc}function Yc(e,t,r){(e!==hc||2!==bc&&9!==bc)&&null===e.cancelPendingCommit||(td(e,0),Xc(e,fc,Cc,!1)),Re(e,r),0!==(2&xc)&&e===hc||(e===hc&&(0===(2&xc)&&(kc|=r),4===wc&&Xc(e,fc,Cc,!1)),Dd(e))}function Qc(e,t,r){if(0!==(6&xc))throw Error(l(327));for(var s=!r&&0===(127&t)&&0===(t&e.expiredLanes)||Ee(e,t),a=s?function(e,t){var r=xc;xc|=2;var s=ad(),a=nd();hc!==e||fc!==t?(Dc=null,Ac=ie()+500,td(e,t)):vc=Ee(e,t);e:for(;;)try{if(0!==bc&&null!==pc){t=pc;var n=gc;t:switch(bc){case 1:bc=0,gc=null,md(e,t,n,1);break;case 2:case 9:if(en(n)){bc=0,gc=null,ud(t);break}t=function(){2!==bc&&9!==bc||hc!==e||(bc=7),Dd(e)},n.then(t,t);break e;case 3:bc=7;break e;case 4:bc=5;break e;case 7:en(n)?(bc=0,gc=null,ud(t)):(bc=0,gc=null,md(e,t,n,7));break;case 5:var o=null;switch(pc.tag){case 26:o=pc.memoizedState;case 5:case 27:var i=pc;if(o?am(o):i.stateNode.complete){bc=0,gc=null;var c=i.sibling;if(null!==c)pc=c;else{var d=i.return;null!==d?(pc=d,xd(d)):pc=null}break t}}bc=0,gc=null,md(e,t,n,5);break;case 6:bc=0,gc=null,md(e,t,n,6);break;case 8:ed(),wc=6;break e;default:throw Error(l(462))}}cd();break}catch(u){rd(e,u)}return wa=Na=null,A.H=s,A.A=a,xc=r,null!==pc?0:(hc=null,fc=0,Ts(),wc)}(e,t):od(e,t,!0),n=s;;){if(0===a){vc&&!s&&Xc(e,t,0,!1);break}if(r=e.current.alternate,!n||Jc(r)){if(2===a){if(n=t,e.errorRecoveryDisabledLanes&n)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var i=e;a=Tc;var c=i.current.memoizedState.isDehydrated;if(c&&(td(i,o).flags|=256),2!==(o=od(i,o,!1))){if(jc&&!c){i.errorRecoveryDisabledLanes|=n,kc|=n,a=4;break e}n=Pc,Pc=a,null!==n&&(null===Pc?Pc=n:Pc.push.apply(Pc,n))}a=o}if(n=!1,2!==a)continue}}if(1===a){td(e,0),Xc(e,t,0,!0);break}e:{switch(s=e,n=a){case 0:case 1:throw Error(l(345));case 4:if((4194048&t)!==t)break;case 6:Xc(s,t,Cc,!yc);break e;case 2:Pc=null;break;case 3:case 5:break;default:throw Error(l(329))}if((62914560&t)===t&&10<(a=Rc+300-ie())){if(Xc(s,t,Cc,!yc),0!==Ce(s,0,!0))break e;Uc=t,s.timeoutHandle=ju(Kc.bind(null,s,r,Pc,Dc,Lc,t,Cc,kc,Ec,yc,n,"Throttled",-0,0),a)}else Kc(s,r,Pc,Dc,Lc,t,Cc,kc,Ec,yc,n,null,-0,0)}break}a=od(e,t,!1),n=!1}Dd(e)}function Kc(e,t,r,s,a,n,l,o,i,c,d,u,m,x){if(e.timeoutHandle=-1,8192&(u=t.subtreeFlags)||16785408===(16785408&u)){nc(t,n,u={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rt});var h=(62914560&n)===n?Rc-ie():(4194048&n)===n?Mc-ie():0;if(null!==(h=function(e,t){return e.stylesheets&&0===e.count&&im(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var s=setTimeout(function(){if(e.stylesheets&&im(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===nm&&(nm=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,r=performance.getEntriesByType("resource"),s=0;s<r.length;s++){var a=r[s],n=a.transferSize,l=a.initiatorType,o=a.duration;if(n&&o&&xu(l)){for(l=0,o=a.responseEnd,s+=1;s<r.length;s++){var i=r[s],c=i.startTime;if(c>o)break;var d=i.transferSize,u=i.initiatorType;d&&xu(u)&&(l+=d*((i=i.responseEnd)<o?1:(o-c)/(i-c)))}if(--s,t+=8*(n+l)/(a.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var a=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&im(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>nm?50:800)+t);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(a)}}:null}(u,h)))return Uc=n,e.cancelPendingCommit=h(pd.bind(null,e,t,n,r,s,a,l,o,i,d,u,null,m,x)),void Xc(e,n,l,!c)}pd(e,t,n,r,s,a,l,o,i)}function Jc(e){for(var t=e;;){var r=t.tag;if((0===r||11===r||15===r)&&16384&t.flags&&(null!==(r=t.updateQueue)&&null!==(r=r.stores)))for(var s=0;s<r.length;s++){var a=r[s],n=a.getSnapshot;a=a.value;try{if(!Jr(n(),a))return!1}catch(l){return!1}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xc(e,t,r,s){t&=~Sc,t&=~kc,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var a=t;0<a;){var n=31-ve(a),l=1<<n;s[n]=-1,a&=~l}0!==r&&Me(e,r,t)}function Zc(){return 0!==(6&xc)||(Id(0,!1),!1)}function ed(){if(null!==pc){if(0===bc)var e=pc.return;else wa=Na=null,ll(e=pc),ln=null,on=0,e=pc;for(;null!==e;)pi(e.alternate,e),e=e.return;pc=null}}function td(e,t){var r=e.timeoutHandle;-1!==r&&(e.timeoutHandle=-1,Nu(r)),null!==(r=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,r()),Uc=0,ed(),hc=e,pc=r=zs(e.current,null),fc=t,bc=0,gc=null,yc=!1,vc=Ee(e,t),jc=!1,Ec=Cc=Sc=kc=_c=wc=0,Pc=Tc=null,Lc=!1,0!==(8&t)&&(t|=32&t);var s=e.entangledLanes;if(0!==s)for(e=e.entanglements,s&=t;0<s;){var a=31-ve(s),n=1<<a;t|=e[a],s&=~n}return Nc=t,Ts(),r}function rd(e,t){Bn=null,A.H=po,t===Ka||t===Xa?(t=an(),bc=3):t===Ja?(t=an(),bc=4):bc=t===Ro?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,gc=t,null===pc&&(wc=1,Co(e,$s(t,e.current)))}function sd(){var e=Rn.current;return null===e||((4194048&fc)===fc?null===Mn:((62914560&fc)===fc||0!==(536870912&fc))&&e===Mn)}function ad(){var e=A.H;return A.H=po,null===e?po:e}function nd(){var e=A.A;return A.A=uc,e}function ld(){wc=4,yc||(4194048&fc)!==fc&&null!==Rn.current||(vc=!0),0===(134217727&_c)&&0===(134217727&kc)||null===hc||Xc(hc,fc,Cc,!1)}function od(e,t,r){var s=xc;xc|=2;var a=ad(),n=nd();hc===e&&fc===t||(Dc=null,td(e,t)),t=!1;var l=wc;e:for(;;)try{if(0!==bc&&null!==pc){var o=pc,i=gc;switch(bc){case 8:ed(),l=6;break e;case 3:case 2:case 9:case 6:null===Rn.current&&(t=!0);var c=bc;if(bc=0,gc=null,md(e,o,i,c),r&&vc){l=0;break e}break;default:c=bc,bc=0,gc=null,md(e,o,i,c)}}id(),l=wc;break}catch(d){rd(e,d)}return t&&e.shellSuspendCounter++,wa=Na=null,xc=s,A.H=a,A.A=n,null===pc&&(hc=null,fc=0,Ts()),l}function id(){for(;null!==pc;)dd(pc)}function cd(){for(;null!==pc&&!le();)dd(pc)}function dd(e){var t=li(e.alternate,e,Nc);e.memoizedProps=e.pendingProps,null===t?xd(e):pc=t}function ud(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=Vo(r,t,t.pendingProps,t.type,void 0,fc);break;case 11:t=Vo(r,t,t.pendingProps,t.type.render,t.ref,fc);break;case 5:ll(t);default:pi(r,t),t=li(r,t=pc=Us(t,Nc),Nc)}e.memoizedProps=e.pendingProps,null===t?xd(e):pc=t}function md(e,t,r,s){wa=Na=null,ll(t),ln=null,on=0;var a=t.return;try{if(function(e,t,r,s,a){if(r.flags|=32768,null!==s&&"object"===typeof s&&"function"===typeof s.then){if(null!==(t=r.alternate)&&Ea(t,r,a,!0),null!==(r=Rn.current)){switch(r.tag){case 31:case 13:return null===Mn?ld():null===r.alternate&&0===wc&&(wc=3),r.flags&=-257,r.flags|=65536,r.lanes=a,s===Za?r.flags|=16384:(null===(t=r.updateQueue)?r.updateQueue=new Set([s]):t.add(s),_d(e,s,a)),!1;case 22:return r.flags|=65536,s===Za?r.flags|=16384:(null===(t=r.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},r.updateQueue=t):null===(r=t.retryQueue)?t.retryQueue=new Set([s]):r.add(s),_d(e,s,a)),!1}throw Error(l(435,r.tag))}return _d(e,s,a),ld(),!1}if(da)return null!==(t=Rn.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,s!==xa&&va($s(e=Error(l(422),{cause:s}),r))):(s!==xa&&va($s(t=Error(l(423),{cause:s}),r)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,s=$s(s,r),jn(e,a=To(e.stateNode,s,a)),4!==wc&&(wc=2)),!1;var n=Error(l(520),{cause:s});if(n=$s(n,r),null===Tc?Tc=[n]:Tc.push(n),4!==wc&&(wc=2),null===t)return!0;s=$s(s,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=a&-a,r.lanes|=e,jn(r,e=To(r.stateNode,s,e)),!1;case 1:if(t=r.type,n=r.stateNode,0===(128&r.flags)&&("function"===typeof t.getDerivedStateFromError||null!==n&&"function"===typeof n.componentDidCatch&&(null===Ic||!Ic.has(n))))return r.flags|=65536,a&=-a,r.lanes|=a,Lo(a=Po(a),e,r,s),jn(r,a),!1}r=r.return}while(null!==r);return!1}(e,a,t,r,fc))return wc=1,Co(e,$s(r,e.current)),void(pc=null)}catch(n){if(null!==a)throw pc=a,n;return wc=1,Co(e,$s(r,e.current)),void(pc=null)}32768&t.flags?(da||1===s?e=!0:vc||0!==(536870912&fc)?e=!1:(yc=e=!0,(2===s||9===s||3===s||6===s)&&(null!==(s=Rn.current)&&13===s.tag&&(s.flags|=16384))),hd(t,e)):xd(t)}function xd(e){var t=e;do{if(0!==(32768&t.flags))return void hd(t,yc);e=t.return;var r=xi(t.alternate,t,Nc);if(null!==r)return void(pc=r);if(null!==(t=t.sibling))return void(pc=t);pc=t=e}while(null!==t);0===wc&&(wc=5)}function hd(e,t){do{var r=hi(e.alternate,e);if(null!==r)return r.flags&=32767,void(pc=r);if(null!==(r=e.return)&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&null!==(e=e.sibling))return void(pc=e);pc=e=r}while(null!==e);wc=6,pc=null}function pd(e,t,r,s,a,n,o,i,c){e.cancelPendingCommit=null;do{vd()}while(0!==Oc);if(0!==(6&xc))throw Error(l(327));if(null!==t){if(t===e.current)throw Error(l(177));if(n=t.lanes|t.childLanes,function(e,t,r,s,a,n){var l=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var o=e.entanglements,i=e.expirationTimes,c=e.hiddenUpdates;for(r=l&~r;0<r;){var d=31-ve(r),u=1<<d;o[d]=0,i[d]=-1;var m=c[d];if(null!==m)for(c[d]=null,d=0;d<m.length;d++){var x=m[d];null!==x&&(x.lane&=-536870913)}r&=~u}0!==s&&Me(e,s,0),0!==n&&0===a&&0!==e.tag&&(e.suspendedLanes|=n&~(l&~t))}(e,r,n|=Es,o,i,c),e===hc&&(pc=hc=null,fc=0),zc=t,Fc=e,Uc=r,Hc=n,Bc=a,Wc=s,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,ae(me,function(){return jd(),null})):(e.callbackNode=null,e.callbackPriority=0),s=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||s){s=A.T,A.T=null,a=D.p,D.p=2,o=xc,xc|=4;try{!function(e,t){if(e=e.containerInfo,hu=ym,ss(e=rs(e))){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var s=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(s&&0!==s.rangeCount){r=s.anchorNode;var a=s.anchorOffset,n=s.focusNode;s=s.focusOffset;try{r.nodeType,n.nodeType}catch(f){r=null;break e}var o=0,i=-1,c=-1,d=0,u=0,m=e,x=null;t:for(;;){for(var h;m!==r||0!==a&&3!==m.nodeType||(i=o+a),m!==n||0!==s&&3!==m.nodeType||(c=o+s),3===m.nodeType&&(o+=m.nodeValue.length),null!==(h=m.firstChild);)x=m,m=h;for(;;){if(m===e)break t;if(x===r&&++d===a&&(i=o),x===n&&++u===s&&(c=o),null!==(h=m.nextSibling))break;x=(m=x).parentNode}m=h}r=-1===i||-1===c?null:{start:i,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(pu={focusedElem:e,selectionRange:r},ym=!1,Mi=t;null!==Mi;)if(e=(t=Mi).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Mi=e;else for(;null!==Mi;){switch(n=(t=Mi).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(r=0;r<e.length;r++)(a=e[r]).ref.impl=a.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==n){e=void 0,r=t,a=n.memoizedProps,n=n.memoizedState,s=r.stateNode;try{var p=wo(r.type,a);e=s.getSnapshotBeforeUpdate(p,n),s.__reactInternalSnapshotBeforeUpdate=e}catch(b){wd(r,r.return,b)}}break;case 3:if(0!==(1024&e))if(9===(r=(e=t.stateNode.containerInfo).nodeType))Tu(e);else if(1===r)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Tu(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(l(163))}if(null!==(e=t.sibling)){e.return=t.return,Mi=e;break}Mi=t.return}}(e,t)}finally{xc=o,D.p=a,A.T=s}}Oc=1,fd(),bd(),gd()}}function fd(){if(1===Oc){Oc=0;var e=Fc,t=zc,r=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||r){r=A.T,A.T=null;var s=D.p;D.p=2;var a=xc;xc|=4;try{Vi(t,e);var n=pu,l=rs(e.containerInfo),o=n.focusedElem,i=n.selectionRange;if(l!==o&&o&&o.ownerDocument&&ts(o.ownerDocument.documentElement,o)){if(null!==i&&ss(o)){var c=i.start,d=i.end;if(void 0===d&&(d=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(d,o.value.length);else{var u=o.ownerDocument||document,m=u&&u.defaultView||window;if(m.getSelection){var x=m.getSelection(),h=o.textContent.length,p=Math.min(i.start,h),f=void 0===i.end?p:Math.min(i.end,h);!x.extend&&p>f&&(l=f,f=p,p=l);var b=es(o,p),g=es(o,f);if(b&&g&&(1!==x.rangeCount||x.anchorNode!==b.node||x.anchorOffset!==b.offset||x.focusNode!==g.node||x.focusOffset!==g.offset)){var y=u.createRange();y.setStart(b.node,b.offset),x.removeAllRanges(),p>f?(x.addRange(y),x.extend(g.node,g.offset)):(y.setEnd(g.node,g.offset),x.addRange(y))}}}}for(u=[],x=o;x=x.parentNode;)1===x.nodeType&&u.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<u.length;o++){var v=u[o];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}ym=!!hu,pu=hu=null}finally{xc=a,D.p=s,A.T=r}}e.current=t,Oc=2}}function bd(){if(2===Oc){Oc=0;var e=Fc,t=zc,r=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||r){r=A.T,A.T=null;var s=D.p;D.p=2;var a=xc;xc|=4;try{Ai(e,t.alternate,t)}finally{xc=a,D.p=s,A.T=r}}Oc=3}}function gd(){if(4===Oc||3===Oc){Oc=0,oe();var e=Fc,t=zc,r=Uc,s=Wc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Oc=5:(Oc=0,zc=Fc=null,yd(e,e.pendingLanes));var a=e.pendingLanes;if(0===a&&(Ic=null),Oe(r),t=t.stateNode,ge&&"function"===typeof ge.onCommitFiberRoot)try{ge.onCommitFiberRoot(be,t,void 0,128===(128&t.current.flags))}catch(i){}if(null!==s){t=A.T,a=D.p,D.p=2,A.T=null;try{for(var n=e.onRecoverableError,l=0;l<s.length;l++){var o=s[l];n(o.value,{componentStack:o.stack})}}finally{A.T=t,D.p=a}}0!==(3&Uc)&&vd(),Dd(e),a=e.pendingLanes,0!==(261930&r)&&0!==(42&a)?e===Vc?qc++:(qc=0,Vc=e):qc=0,Id(0,!1)}}function yd(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,za(t)))}function vd(){return fd(),bd(),gd(),jd()}function jd(){if(5!==Oc)return!1;var e=Fc,t=Hc;Hc=0;var r=Oe(Uc),s=A.T,a=D.p;try{D.p=32>r?32:r,A.T=null,r=Bc,Bc=null;var n=Fc,o=Uc;if(Oc=0,zc=Fc=null,Uc=0,0!==(6&xc))throw Error(l(331));var i=xc;if(xc|=4,ic(n.current),ec(n,n.current,o,r),xc=i,Id(0,!1),ge&&"function"===typeof ge.onPostCommitFiberRoot)try{ge.onPostCommitFiberRoot(be,n)}catch(c){}return!0}finally{D.p=a,A.T=s,yd(e,t)}}function Nd(e,t,r){t=$s(r,t),null!==(e=yn(e,t=To(e.stateNode,t,2),2))&&(Re(e,2),Dd(e))}function wd(e,t,r){if(3===e.tag)Nd(e,e,r);else for(;null!==t;){if(3===t.tag){Nd(t,e,r);break}if(1===t.tag){var s=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof s.componentDidCatch&&(null===Ic||!Ic.has(s))){e=$s(r,e),null!==(s=yn(t,r=Po(2),2))&&(Lo(r,s,t,e),Re(s,2),Dd(s));break}}t=t.return}}function _d(e,t,r){var s=e.pingCache;if(null===s){s=e.pingCache=new mc;var a=new Set;s.set(t,a)}else void 0===(a=s.get(t))&&(a=new Set,s.set(t,a));a.has(r)||(jc=!0,a.add(r),e=kd.bind(null,e,t,r),t.then(e,e))}function kd(e,t,r){var s=e.pingCache;null!==s&&s.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,hc===e&&(fc&r)===r&&(4===wc||3===wc&&(62914560&fc)===fc&&300>ie()-Rc?0===(2&xc)&&td(e,0):Sc|=r,Ec===fc&&(Ec=0)),Dd(e)}function Sd(e,t){0===t&&(t=Pe()),null!==(e=Rs(e,t))&&(Re(e,t),Dd(e))}function Cd(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Sd(e,r)}function Ed(e,t){var r=0;switch(e.tag){case 31:case 13:var s=e.stateNode,a=e.memoizedState;null!==a&&(r=a.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(l(314))}null!==s&&s.delete(t),Sd(e,r)}var Td=null,Pd=null,Ld=!1,Rd=!1,Md=!1,Ad=0;function Dd(e){e!==Pd&&null===e.next&&(null===Pd?Td=Pd=e:Pd=Pd.next=e),Rd=!0,Ld||(Ld=!0,_u(function(){0!==(6&xc)?ae(de,Od):Fd()}))}function Id(e,t){if(!Md&&Rd){Md=!0;do{for(var r=!1,s=Td;null!==s;){if(!t)if(0!==e){var a=s.pendingLanes;if(0===a)var n=0;else{var l=s.suspendedLanes,o=s.pingedLanes;n=(1<<31-ve(42|e)+1)-1,n=201326741&(n&=a&~(l&~o))?201326741&n|1:n?2|n:0}0!==n&&(r=!0,Hd(s,n))}else n=fc,0===(3&(n=Ce(s,s===hc?n:0,null!==s.cancelPendingCommit||-1!==s.timeoutHandle)))||Ee(s,n)||(r=!0,Hd(s,n));s=s.next}}while(r);Md=!1}}function Od(){Fd()}function Fd(){Rd=Ld=!1;var e=0;0!==Ad&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==vu&&(vu=e,!0);return vu=null,!1}()&&(e=Ad);for(var t=ie(),r=null,s=Td;null!==s;){var a=s.next,n=zd(s,t);0===n?(s.next=null,null===r?Td=a:r.next=a,null===a&&(Pd=r)):(r=s,(0!==e||0!==(3&n))&&(Rd=!0)),s=a}0!==Oc&&5!==Oc||Id(e,!1),0!==Ad&&(Ad=0)}function zd(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,n=-62914561&e.pendingLanes;0<n;){var l=31-ve(n),o=1<<l,i=a[l];-1===i?0!==(o&r)&&0===(o&s)||(a[l]=Te(o,t)):i<=t&&(e.expiredLanes|=o),n&=~o}if(r=fc,r=Ce(e,e===(t=hc)?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),s=e.callbackNode,0===r||e===t&&(2===bc||9===bc)||null!==e.cancelPendingCommit)return null!==s&&null!==s&&ne(s),e.callbackNode=null,e.callbackPriority=0;if(0===(3&r)||Ee(e,r)){if((t=r&-r)===e.callbackPriority)return t;switch(null!==s&&ne(s),Oe(r)){case 2:case 8:r=ue;break;case 32:default:r=me;break;case 268435456:r=he}return s=Ud.bind(null,e),r=ae(r,s),e.callbackPriority=t,e.callbackNode=r,t}return null!==s&&null!==s&&ne(s),e.callbackPriority=2,e.callbackNode=null,2}function Ud(e,t){if(0!==Oc&&5!==Oc)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(vd()&&e.callbackNode!==r)return null;var s=fc;return 0===(s=Ce(e,e===hc?s:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Qc(e,s,t),zd(e,ie()),null!=e.callbackNode&&e.callbackNode===r?Ud.bind(null,e):null)}function Hd(e,t){if(vd())return null;Qc(e,t,!0)}function Bd(){if(0===Ad){var e=Ba;0===e&&(e=we,0===(261888&(we<<=1))&&(we=256)),Ad=e}return Ad}function Wd(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Lt(""+e)}function qd(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}for(var Vd=0;Vd<ws.length;Vd++){var Gd=ws[Vd];_s(Gd.toLowerCase(),"on"+(Gd[0].toUpperCase()+Gd.slice(1)))}_s(ps,"onAnimationEnd"),_s(fs,"onAnimationIteration"),_s(bs,"onAnimationStart"),_s("dblclick","onDoubleClick"),_s("focusin","onFocus"),_s("focusout","onBlur"),_s(gs,"onTransitionRun"),_s(ys,"onTransitionStart"),_s(vs,"onTransitionCancel"),_s(js,"onTransitionEnd"),at("onMouseEnter",["mouseout","mouseover"]),at("onMouseLeave",["mouseout","mouseover"]),at("onPointerEnter",["pointerout","pointerover"]),at("onPointerLeave",["pointerout","pointerover"]),st("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),st("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),st("onBeforeInput",["compositionend","keypress","textInput","paste"]),st("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),st("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),st("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $d="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yd=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($d));function Qd(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var s=e[r],a=s.event;s=s.listeners;e:{var n=void 0;if(t)for(var l=s.length-1;0<=l;l--){var o=s[l],i=o.instance,c=o.currentTarget;if(o=o.listener,i!==n&&a.isPropagationStopped())break e;n=o,a.currentTarget=c;try{n(a)}catch(d){ks(d)}a.currentTarget=null,n=i}else for(l=0;l<s.length;l++){if(i=(o=s[l]).instance,c=o.currentTarget,o=o.listener,i!==n&&a.isPropagationStopped())break e;n=o,a.currentTarget=c;try{n(a)}catch(d){ks(d)}a.currentTarget=null,n=i}}}}function Kd(e,t){var r=t[qe];void 0===r&&(r=t[qe]=new Set);var s=e+"__bubble";r.has(s)||(eu(t,e,2,!1),r.add(s))}function Jd(e,t,r){var s=0;t&&(s|=4),eu(r,e,s,t)}var Xd="_reactListening"+Math.random().toString(36).slice(2);function Zd(e){if(!e[Xd]){e[Xd]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Yd.has(t)||Jd(t,!1,e),Jd(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Xd]||(t[Xd]=!0,Jd("selectionchange",!1,t))}}function eu(e,t,r,s){switch(Sm(t)){case 2:var a=vm;break;case 8:a=jm;break;default:a=Nm}r=a.bind(null,t,r,e),a=void 0,!Bt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),s?void 0!==a?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):void 0!==a?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function tu(e,t,r,s,a){var n=s;if(0===(1&t)&&0===(2&t)&&null!==s)e:for(;;){if(null===s)return;var l=s.tag;if(3===l||4===l){var o=s.stateNode.containerInfo;if(o===a)break;if(4===l)for(l=s.return;null!==l;){var c=l.tag;if((3===c||4===c)&&l.stateNode.containerInfo===a)return;l=l.return}for(;null!==o;){if(null===(l=Ke(o)))return;if(5===(c=l.tag)||6===c||26===c||27===c){s=n=l;continue e}o=o.parentNode}}s=s.return}zt(function(){var s=n,a=At(r),l=[];e:{var o=Ns.get(e);if(void 0!==o){var c=rr,d=e;switch(e){case"keypress":if(0===Yt(r))break e;case"keydown":case"keyup":c=br;break;case"focusin":d="focus",c=ir;break;case"focusout":d="blur",c=ir;break;case"beforeblur":case"afterblur":c=ir;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=lr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=or;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=yr;break;case ps:case fs:case bs:c=cr;break;case js:c=vr;break;case"scroll":case"scrollend":c=ar;break;case"wheel":c=jr;break;case"copy":case"cut":case"paste":c=dr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gr;break;case"toggle":case"beforetoggle":c=Nr}var u=0!==(4&t),m=!u&&("scroll"===e||"scrollend"===e),x=u?null!==o?o+"Capture":null:o;u=[];for(var h,p=s;null!==p;){var f=p;if(h=f.stateNode,5!==(f=f.tag)&&26!==f&&27!==f||null===h||null===x||null!=(f=Ut(p,x))&&u.push(ru(p,f,h)),m)break;p=p.return}0<u.length&&(o=new c(o,d,null,r,a),l.push({event:o,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||r===Mt||!(d=r.relatedTarget||r.fromElement)||!Ke(d)&&!d[We])&&(c||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=s,null!==(d=(d=r.relatedTarget||r.toElement)?Ke(d):null)&&(m=i(d),u=d.tag,d!==m||5!==u&&27!==u&&6!==u)&&(d=null)):(c=null,d=s),c!==d)){if(u=lr,f="onMouseLeave",x="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=gr,f="onPointerLeave",x="onPointerEnter",p="pointer"),m=null==c?o:Xe(c),h=null==d?o:Xe(d),(o=new u(f,p+"leave",c,r,a)).target=m,o.relatedTarget=h,f=null,Ke(a)===s&&((u=new u(x,p+"enter",d,r,a)).target=h,u.relatedTarget=m,f=u),m=f,c&&d)e:{for(u=au,p=d,h=0,f=x=c;f;f=u(f))h++;f=0;for(var b=p;b;b=u(b))f++;for(;0<h-f;)x=u(x),h--;for(;0<f-h;)p=u(p),f--;for(;h--;){if(x===p||null!==p&&x===p.alternate){u=x;break e}x=u(x),p=u(p)}u=null}else u=null;null!==c&&nu(l,o,c,u,!1),null!==d&&null!==m&&nu(l,m,d,u,!0)}if("select"===(c=(o=s?Xe(s):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var g=Ur;else if(Ar(o))if(Hr)g=Kr;else{g=Yr;var y=$r}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?s&&Et(s.elementType)&&(g=Ur):g=Qr;switch(g&&(g=g(e,s))?Dr(l,g,r,a):(y&&y(e,o,s),"focusout"===e&&s&&"number"===o.type&&null!=s.memoizedProps.value&&vt(o,"number",o.value)),y=s?Xe(s):window,e){case"focusin":(Ar(y)||"true"===y.contentEditable)&&(ns=y,ls=s,os=null);break;case"focusout":os=ls=ns=null;break;case"mousedown":is=!0;break;case"contextmenu":case"mouseup":case"dragend":is=!1,cs(l,r,a);break;case"selectionchange":if(as)break;case"keydown":case"keyup":cs(l,r,a)}var v;if(_r)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Rr?Pr(e,r)&&(j="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(j="onCompositionStart");j&&(Cr&&"ko"!==r.locale&&(Rr||"onCompositionStart"!==j?"onCompositionEnd"===j&&Rr&&(v=$t()):(Vt="value"in(qt=a)?qt.value:qt.textContent,Rr=!0)),0<(y=su(s,j)).length&&(j=new ur(j,e,null,r,a),l.push({event:j,listeners:y}),v?j.data=v:null!==(v=Lr(r))&&(j.data=v))),(v=Sr?function(e,t){switch(e){case"compositionend":return Lr(t);case"keypress":return 32!==t.which?null:(Tr=!0,Er);case"textInput":return(e=t.data)===Er&&Tr?null:e;default:return null}}(e,r):function(e,t){if(Rr)return"compositionend"===e||!_r&&Pr(e,t)?(e=$t(),Gt=Vt=qt=null,Rr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(j=su(s,"onBeforeInput")).length&&(y=new ur("onBeforeInput","beforeinput",null,r,a),l.push({event:y,listeners:j}),y.data=v)),function(e,t,r,s,a){if("submit"===t&&r&&r.stateNode===a){var n=Wd((a[Be]||null).action),l=s.submitter;l&&null!==(t=(t=l[Be]||null)?Wd(t.formAction):l.getAttribute("formAction"))&&(n=t,l=null);var o=new rr("action","action",null,s,a);e.push({event:o,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(0!==Ad){var e=l?qd(a,l):new FormData(a);eo(r,{pending:!0,data:e,method:a.method,action:n},null,e)}}else"function"===typeof n&&(o.preventDefault(),e=l?qd(a,l):new FormData(a),eo(r,{pending:!0,data:e,method:a.method,action:n},n,e))},currentTarget:a}]})}}(l,e,s,r,a)}Qd(l,t)})}function ru(e,t,r){return{instance:e,listener:t,currentTarget:r}}function su(e,t){for(var r=t+"Capture",s=[];null!==e;){var a=e,n=a.stateNode;if(5!==(a=a.tag)&&26!==a&&27!==a||null===n||(null!=(a=Ut(e,r))&&s.unshift(ru(e,a,n)),null!=(a=Ut(e,t))&&s.push(ru(e,a,n))),3===e.tag)return s;e=e.return}return[]}function au(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function nu(e,t,r,s,a){for(var n=t._reactName,l=[];null!==r&&r!==s;){var o=r,i=o.alternate,c=o.stateNode;if(o=o.tag,null!==i&&i===s)break;5!==o&&26!==o&&27!==o||null===c||(i=c,a?null!=(c=Ut(r,n))&&l.unshift(ru(r,c,i)):a||null!=(c=Ut(r,n))&&l.push(ru(r,c,i))),r=r.return}0!==l.length&&e.push({event:t,listeners:l})}var lu=/\r\n?/g,ou=/\u0000|\uFFFD/g;function iu(e){return("string"===typeof e?e:""+e).replace(lu,"\n").replace(ou,"")}function cu(e,t){return t=iu(t),iu(e)===t}function du(e,t,r,s,a,n){switch(r){case"children":"string"===typeof s?"body"===t||"textarea"===t&&""===s||_t(e,s):("number"===typeof s||"bigint"===typeof s)&&"body"!==t&&_t(e,""+s);break;case"className":ct(e,"class",s);break;case"tabIndex":ct(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,r,s);break;case"style":Ct(e,s,n);break;case"data":if("object"!==t){ct(e,"data",s);break}case"src":case"href":if(""===s&&("a"!==t||"href"!==r)){e.removeAttribute(r);break}if(null==s||"function"===typeof s||"symbol"===typeof s||"boolean"===typeof s){e.removeAttribute(r);break}s=Lt(""+s),e.setAttribute(r,s);break;case"action":case"formAction":if("function"===typeof s){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof n&&("formAction"===r?("input"!==t&&du(e,t,"name",a.name,a,null),du(e,t,"formEncType",a.formEncType,a,null),du(e,t,"formMethod",a.formMethod,a,null),du(e,t,"formTarget",a.formTarget,a,null)):(du(e,t,"encType",a.encType,a,null),du(e,t,"method",a.method,a,null),du(e,t,"target",a.target,a,null))),null==s||"symbol"===typeof s||"boolean"===typeof s){e.removeAttribute(r);break}s=Lt(""+s),e.setAttribute(r,s);break;case"onClick":null!=s&&(e.onclick=Rt);break;case"onScroll":null!=s&&Kd("scroll",e);break;case"onScrollEnd":null!=s&&Kd("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=s){if("object"!==typeof s||!("__html"in s))throw Error(l(61));if(null!=(r=s.__html)){if(null!=a.children)throw Error(l(60));e.innerHTML=r}}break;case"multiple":e.multiple=s&&"function"!==typeof s&&"symbol"!==typeof s;break;case"muted":e.muted=s&&"function"!==typeof s&&"symbol"!==typeof s;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==s||"function"===typeof s||"boolean"===typeof s||"symbol"===typeof s){e.removeAttribute("xlink:href");break}r=Lt(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=s&&"function"!==typeof s&&"symbol"!==typeof s?e.setAttribute(r,""+s):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&"function"!==typeof s&&"symbol"!==typeof s?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":!0===s?e.setAttribute(r,""):!1!==s&&null!=s&&"function"!==typeof s&&"symbol"!==typeof s?e.setAttribute(r,s):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&!isNaN(s)&&1<=s?e.setAttribute(r,s):e.removeAttribute(r);break;case"rowSpan":case"start":null==s||"function"===typeof s||"symbol"===typeof s||isNaN(s)?e.removeAttribute(r):e.setAttribute(r,s);break;case"popover":Kd("beforetoggle",e),Kd("toggle",e),it(e,"popover",s);break;case"xlinkActuate":dt(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":dt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":dt(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":dt(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":dt(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":dt(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":dt(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":dt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":dt(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":it(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<r.length)||"o"!==r[0]&&"O"!==r[0]||"n"!==r[1]&&"N"!==r[1])&&it(e,r=Tt.get(r)||r,s)}}function uu(e,t,r,s,a,n){switch(r){case"style":Ct(e,s,n);break;case"dangerouslySetInnerHTML":if(null!=s){if("object"!==typeof s||!("__html"in s))throw Error(l(61));if(null!=(r=s.__html)){if(null!=a.children)throw Error(l(60));e.innerHTML=r}}break;case"children":"string"===typeof s?_t(e,s):("number"===typeof s||"bigint"===typeof s)&&_t(e,""+s);break;case"onScroll":null!=s&&Kd("scroll",e);break;case"onScrollEnd":null!=s&&Kd("scrollend",e);break;case"onClick":null!=s&&(e.onclick=Rt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:rt.hasOwnProperty(r)||("o"!==r[0]||"n"!==r[1]||(a=r.endsWith("Capture"),t=r.slice(2,a?r.length-7:void 0),"function"===typeof(n=null!=(n=e[Be]||null)?n[r]:null)&&e.removeEventListener(t,n,a),"function"!==typeof s)?r in e?e[r]=s:!0===s?e.setAttribute(r,""):it(e,r,s):("function"!==typeof n&&null!==n&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,s,a)))}}function mu(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Kd("error",e),Kd("load",e);var s,a=!1,n=!1;for(s in r)if(r.hasOwnProperty(s)){var o=r[s];if(null!=o)switch(s){case"src":a=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:du(e,t,s,o,r,null)}}return n&&du(e,t,"srcSet",r.srcSet,r,null),void(a&&du(e,t,"src",r.src,r,null));case"input":Kd("invalid",e);var i=s=o=n=null,c=null,d=null;for(a in r)if(r.hasOwnProperty(a)){var u=r[a];if(null!=u)switch(a){case"name":n=u;break;case"type":o=u;break;case"checked":c=u;break;case"defaultChecked":d=u;break;case"value":s=u;break;case"defaultValue":i=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(l(137,t));break;default:du(e,t,a,u,r,null)}}return void yt(e,s,i,c,d,o,n,!1);case"select":for(n in Kd("invalid",e),a=o=s=null,r)if(r.hasOwnProperty(n)&&null!=(i=r[n]))switch(n){case"value":s=i;break;case"defaultValue":o=i;break;case"multiple":a=i;default:du(e,t,n,i,r,null)}return t=s,r=o,e.multiple=!!a,void(null!=t?jt(e,!!a,t,!1):null!=r&&jt(e,!!a,r,!0));case"textarea":for(o in Kd("invalid",e),s=n=a=null,r)if(r.hasOwnProperty(o)&&null!=(i=r[o]))switch(o){case"value":a=i;break;case"defaultValue":n=i;break;case"children":s=i;break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(l(91));break;default:du(e,t,o,i,r,null)}return void wt(e,a,n,s);case"option":for(c in r)if(r.hasOwnProperty(c)&&null!=(a=r[c]))if("selected"===c)e.selected=a&&"function"!==typeof a&&"symbol"!==typeof a;else du(e,t,c,a,r,null);return;case"dialog":Kd("beforetoggle",e),Kd("toggle",e),Kd("cancel",e),Kd("close",e);break;case"iframe":case"object":Kd("load",e);break;case"video":case"audio":for(a=0;a<$d.length;a++)Kd($d[a],e);break;case"image":Kd("error",e),Kd("load",e);break;case"details":Kd("toggle",e);break;case"embed":case"source":case"link":Kd("error",e),Kd("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in r)if(r.hasOwnProperty(d)&&null!=(a=r[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:du(e,t,d,a,r,null)}return;default:if(Et(t)){for(u in r)r.hasOwnProperty(u)&&(void 0!==(a=r[u])&&uu(e,t,u,a,r,void 0));return}}for(i in r)r.hasOwnProperty(i)&&(null!=(a=r[i])&&du(e,t,i,a,r,null))}function xu(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var hu=null,pu=null;function fu(e){return 9===e.nodeType?e:e.ownerDocument}function bu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gu(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function yu(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var vu=null;var ju="function"===typeof setTimeout?setTimeout:void 0,Nu="function"===typeof clearTimeout?clearTimeout:void 0,wu="function"===typeof Promise?Promise:void 0,_u="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof wu?function(e){return wu.resolve(null).then(e).catch(ku)}:ju;function ku(e){setTimeout(function(){throw e})}function Su(e){return"head"===e}function Cu(e,t){var r=t,s=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&8===a.nodeType)if("/$"===(r=a.data)||"/&"===r){if(0===s)return e.removeChild(a),void qm(t);s--}else if("$"===r||"$?"===r||"$~"===r||"$!"===r||"&"===r)s++;else if("html"===r)Fu(e.ownerDocument.documentElement);else if("head"===r){Fu(r=e.ownerDocument.head);for(var n=r.firstChild;n;){var l=n.nextSibling,o=n.nodeName;n[Ye]||"SCRIPT"===o||"STYLE"===o||"LINK"===o&&"stylesheet"===n.rel.toLowerCase()||r.removeChild(n),n=l}}else"body"===r&&Fu(e.ownerDocument.body);r=a}while(r);qm(t)}function Eu(e,t){var r=e;e=0;do{var s=r.nextSibling;if(1===r.nodeType?t?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",""===r.getAttribute("style")&&r.removeAttribute("style")):3===r.nodeType&&(t?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),s&&8===s.nodeType)if("/$"===(r=s.data)){if(0===e)break;e--}else"$"!==r&&"$?"!==r&&"$~"!==r&&"$!"!==r||e++;r=s}while(r)}function Tu(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Tu(r),Qe(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===r.rel.toLowerCase())continue}e.removeChild(r)}}function Pu(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Mu(e.nextSibling)))return null}return e}function Lu(e){return"$?"===e.data||"$~"===e.data}function Ru(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Mu(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Au=null;function Du(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r||"/&"===r){if(0===t)return Mu(e.nextSibling);t--}else"$"!==r&&"$!"!==r&&"$?"!==r&&"$~"!==r&&"&"!==r||t++}e=e.nextSibling}return null}function Iu(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r||"$~"===r||"&"===r){if(0===t)return e;t--}else"/$"!==r&&"/&"!==r||t++}e=e.previousSibling}return null}function Ou(e,t,r){switch(t=fu(r),e){case"html":if(!(e=t.documentElement))throw Error(l(452));return e;case"head":if(!(e=t.head))throw Error(l(453));return e;case"body":if(!(e=t.body))throw Error(l(454));return e;default:throw Error(l(451))}}function Fu(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Qe(e)}var zu=new Map,Uu=new Set;function Hu(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Bu=D.d;D.d={f:function(){var e=Bu.f(),t=Zc();return e||t},r:function(e){var t=Je(e);null!==t&&5===t.tag&&"form"===t.type?ro(t):Bu.r(e)},D:function(e){Bu.D(e),qu("dns-prefetch",e,null)},C:function(e,t){Bu.C(e,t),qu("preconnect",e,t)},L:function(e,t,r){Bu.L(e,t,r);var s=Wu;if(s&&e&&t){var a='link[rel="preload"][as="'+bt(t)+'"]';"image"===t&&r&&r.imageSrcSet?(a+='[imagesrcset="'+bt(r.imageSrcSet)+'"]',"string"===typeof r.imageSizes&&(a+='[imagesizes="'+bt(r.imageSizes)+'"]')):a+='[href="'+bt(e)+'"]';var n=a;switch(t){case"style":n=Gu(e);break;case"script":n=Qu(e)}zu.has(n)||(e=x({rel:"preload",href:"image"===t&&r&&r.imageSrcSet?void 0:e,as:t},r),zu.set(n,e),null!==s.querySelector(a)||"style"===t&&s.querySelector($u(n))||"script"===t&&s.querySelector(Ku(n))||(mu(t=s.createElement("link"),"link",e),et(t),s.head.appendChild(t)))}},m:function(e,t){Bu.m(e,t);var r=Wu;if(r&&e){var s=t&&"string"===typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+bt(s)+'"][href="'+bt(e)+'"]',n=a;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":n=Qu(e)}if(!zu.has(n)&&(e=x({rel:"modulepreload",href:e},t),zu.set(n,e),null===r.querySelector(a))){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ku(n)))return}mu(s=r.createElement("link"),"link",e),et(s),r.head.appendChild(s)}}},X:function(e,t){Bu.X(e,t);var r=Wu;if(r&&e){var s=Ze(r).hoistableScripts,a=Qu(e),n=s.get(a);n||((n=r.querySelector(Ku(a)))||(e=x({src:e,async:!0},t),(t=zu.get(a))&&em(e,t),et(n=r.createElement("script")),mu(n,"link",e),r.head.appendChild(n)),n={type:"script",instance:n,count:1,state:null},s.set(a,n))}},S:function(e,t,r){Bu.S(e,t,r);var s=Wu;if(s&&e){var a=Ze(s).hoistableStyles,n=Gu(e);t=t||"default";var l=a.get(n);if(!l){var o={loading:0,preload:null};if(l=s.querySelector($u(n)))o.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":t},r),(r=zu.get(n))&&Zu(e,r);var i=l=s.createElement("link");et(i),mu(i,"link",e),i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),i.addEventListener("load",function(){o.loading|=1}),i.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Xu(l,t,s)}l={type:"stylesheet",instance:l,count:1,state:o},a.set(n,l)}}},M:function(e,t){Bu.M(e,t);var r=Wu;if(r&&e){var s=Ze(r).hoistableScripts,a=Qu(e),n=s.get(a);n||((n=r.querySelector(Ku(a)))||(e=x({src:e,async:!0,type:"module"},t),(t=zu.get(a))&&em(e,t),et(n=r.createElement("script")),mu(n,"link",e),r.head.appendChild(n)),n={type:"script",instance:n,count:1,state:null},s.set(a,n))}}};var Wu="undefined"===typeof document?null:document;function qu(e,t,r){var s=Wu;if(s&&"string"===typeof t&&t){var a=bt(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"===typeof r&&(a+='[crossorigin="'+r+'"]'),Uu.has(a)||(Uu.add(a),e={rel:e,crossOrigin:r,href:t},null===s.querySelector(a)&&(mu(t=s.createElement("link"),"link",e),et(t),s.head.appendChild(t)))}}function Vu(e,t,r,s){var a,n,o,i,c=(c=G.current)?Hu(c):null;if(!c)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof r.precedence&&"string"===typeof r.href?(t=Gu(r.href),(s=(r=Ze(c).hoistableStyles).get(t))||(s={type:"style",instance:null,count:0,state:null},r.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===r.rel&&"string"===typeof r.href&&"string"===typeof r.precedence){e=Gu(r.href);var d=Ze(c).hoistableStyles,u=d.get(e);if(u||(c=c.ownerDocument||c,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,u),(d=c.querySelector($u(e)))&&!d._p&&(u.instance=d,u.state.loading=5),zu.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},zu.set(e,r),d||(a=c,n=e,o=r,i=u.state,a.querySelector('link[rel="preload"][as="style"]['+n+"]")?i.loading=1:(n=a.createElement("link"),i.preload=n,n.addEventListener("load",function(){return i.loading|=1}),n.addEventListener("error",function(){return i.loading|=2}),mu(n,"link",o),et(n),a.head.appendChild(n))))),t&&null===s)throw Error(l(528,""));return u}if(t&&null!==s)throw Error(l(529,""));return null;case"script":return t=r.async,"string"===typeof(r=r.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Qu(r),(s=(r=Ze(c).hoistableScripts).get(t))||(s={type:"script",instance:null,count:0,state:null},r.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Gu(e){return'href="'+bt(e)+'"'}function $u(e){return'link[rel="stylesheet"]['+e+"]"}function Yu(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function Qu(e){return'[src="'+bt(e)+'"]'}function Ku(e){return"script[async]"+e}function Ju(e,t,r){if(t.count++,null===t.instance)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+bt(r.href)+'"]');if(s)return t.instance=s,et(s),s;var a=x({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return et(s=(e.ownerDocument||e).createElement("style")),mu(s,"style",a),Xu(s,r.precedence,e),t.instance=s;case"stylesheet":a=Gu(r.href);var n=e.querySelector($u(a));if(n)return t.state.loading|=4,t.instance=n,et(n),n;s=Yu(r),(a=zu.get(a))&&Zu(s,a),et(n=(e.ownerDocument||e).createElement("link"));var o=n;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),mu(n,"link",s),t.state.loading|=4,Xu(n,r.precedence,e),t.instance=n;case"script":return n=Qu(r.src),(a=e.querySelector(Ku(n)))?(t.instance=a,et(a),a):(s=r,(a=zu.get(n))&&em(s=x({},r),a),et(a=(e=e.ownerDocument||e).createElement("script")),mu(a,"link",s),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(l(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(s=t.instance,t.state.loading|=4,Xu(s,r.precedence,e));return t.instance}function Xu(e,t,r){for(var s=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=s.length?s[s.length-1]:null,n=a,l=0;l<s.length;l++){var o=s[l];if(o.dataset.precedence===t)n=o;else if(n!==a)break}n?n.parentNode.insertBefore(e,n.nextSibling):(t=9===r.nodeType?r.head:r).insertBefore(e,t.firstChild)}function Zu(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function em(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var tm=null;function rm(e,t,r){if(null===tm){var s=new Map,a=tm=new Map;a.set(r,s)}else(s=(a=tm).get(r))||(s=new Map,a.set(r,s));if(s.has(e))return s;for(s.set(e,null),r=r.getElementsByTagName(e),a=0;a<r.length;a++){var n=r[a];if(!(n[Ye]||n[He]||"link"===e&&"stylesheet"===n.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==n.namespaceURI){var l=n.getAttribute(t)||"";l=e+l;var o=s.get(l);o?o.push(n):s.set(l,[n])}}return s}function sm(e,t,r){(e=e.ownerDocument||e).head.insertBefore(r,"title"===t?e.querySelector("head > title"):null)}function am(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var nm=0;function lm(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)im(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var om=null;function im(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,om=new Map,t.forEach(cm,e),om=null,lm.call(e))}function cm(e,t){if(!(4&t.state.loading)){var r=om.get(e);if(r)var s=r.get(null);else{r=new Map,om.set(e,r);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),n=0;n<a.length;n++){var l=a[n];"LINK"!==l.nodeName&&"not all"===l.getAttribute("media")||(r.set(l.dataset.precedence,l),s=l)}s&&r.set(null,s)}l=(a=t.instance).getAttribute("data-precedence"),(n=r.get(l)||s)===s&&r.set(null,a),r.set(l,a),this.count++,s=lm.bind(this),a.addEventListener("load",s),a.addEventListener("error",s),n?n.parentNode.insertBefore(a,n.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var dm={$$typeof:j,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function um(e,t,r,s,a,n,l,o,i){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Le(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Le(0),this.hiddenUpdates=Le(null),this.identifierPrefix=s,this.onUncaughtError=a,this.onCaughtError=n,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=i,this.incompleteTransitions=new Map}function mm(e,t,r,s,a,n,l,o,i,c,d,u){return e=new um(e,t,r,l,i,c,d,u,o),t=1,!0===n&&(t|=24),n=Os(3,null,null,t),e.current=n,n.stateNode=e,(t=Fa()).refCount++,e.pooledCache=t,t.refCount++,n.memoizedState={element:s,isDehydrated:r,cache:t},fn(n),e}function xm(e){return e?e=Ds:Ds}function hm(e,t,r,s,a,n){a=xm(a),null===s.context?s.context=a:s.pendingContext=a,(s=gn(t)).payload={element:r},null!==(n=void 0===n?null:n)&&(s.callback=n),null!==(r=yn(e,s,t))&&(Yc(r,0,t),vn(r,e,t))}function pm(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function fm(e,t){pm(e,t),(e=e.alternate)&&pm(e,t)}function bm(e){if(13===e.tag||31===e.tag){var t=Rs(e,67108864);null!==t&&Yc(t,0,67108864),fm(e,67108864)}}function gm(e){if(13===e.tag||31===e.tag){var t=Gc(),r=Rs(e,t=Ie(t));null!==r&&Yc(r,0,t),fm(e,t)}}var ym=!0;function vm(e,t,r,s){var a=A.T;A.T=null;var n=D.p;try{D.p=2,Nm(e,t,r,s)}finally{D.p=n,A.T=a}}function jm(e,t,r,s){var a=A.T;A.T=null;var n=D.p;try{D.p=8,Nm(e,t,r,s)}finally{D.p=n,A.T=a}}function Nm(e,t,r,s){if(ym){var a=wm(s);if(null===a)tu(e,t,s,_m,r),Dm(e,s);else if(function(e,t,r,s,a){switch(t){case"focusin":return Em=Im(Em,e,t,r,s,a),!0;case"dragenter":return Tm=Im(Tm,e,t,r,s,a),!0;case"mouseover":return Pm=Im(Pm,e,t,r,s,a),!0;case"pointerover":var n=a.pointerId;return Lm.set(n,Im(Lm.get(n)||null,e,t,r,s,a)),!0;case"gotpointercapture":return n=a.pointerId,Rm.set(n,Im(Rm.get(n)||null,e,t,r,s,a)),!0}return!1}(a,e,t,r,s))s.stopPropagation();else if(Dm(e,s),4&t&&-1<Am.indexOf(e)){for(;null!==a;){var n=Je(a);if(null!==n)switch(n.tag){case 3:if((n=n.stateNode).current.memoizedState.isDehydrated){var l=Se(n.pendingLanes);if(0!==l){var o=n;for(o.pendingLanes|=2,o.entangledLanes|=2;l;){var i=1<<31-ve(l);o.entanglements[1]|=i,l&=~i}Dd(n),0===(6&xc)&&(Ac=ie()+500,Id(0,!1))}}break;case 31:case 13:null!==(o=Rs(n,2))&&Yc(o,0,2),Zc(),fm(n,2)}if(null===(n=wm(s))&&tu(e,t,s,_m,r),n===a)break;a=n}null!==a&&s.stopPropagation()}else tu(e,t,s,null,r)}}function wm(e){return km(e=At(e))}var _m=null;function km(e){if(_m=null,null!==(e=Ke(e))){var t=i(e);if(null===t)e=null;else{var r=t.tag;if(13===r){if(null!==(e=c(t)))return e;e=null}else if(31===r){if(null!==(e=d(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return _m=e,null}function Sm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case de:return 2;case ue:return 8;case me:case xe:return 32;case he:return 268435456;default:return 32}default:return 32}}var Cm=!1,Em=null,Tm=null,Pm=null,Lm=new Map,Rm=new Map,Mm=[],Am="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dm(e,t){switch(e){case"focusin":case"focusout":Em=null;break;case"dragenter":case"dragleave":Tm=null;break;case"mouseover":case"mouseout":Pm=null;break;case"pointerover":case"pointerout":Lm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rm.delete(t.pointerId)}}function Im(e,t,r,s,a,n){return null===e||e.nativeEvent!==n?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:n,targetContainers:[a]},null!==t&&(null!==(t=Je(t))&&bm(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Om(e){var t=Ke(e.target);if(null!==t){var r=i(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=c(r)))return e.blockedOn=t,void ze(e.priority,function(){gm(r)})}else if(31===t){if(null!==(t=d(r)))return e.blockedOn=t,void ze(e.priority,function(){gm(r)})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Fm(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=wm(e.nativeEvent);if(null!==r)return null!==(t=Je(r))&&bm(t),e.blockedOn=r,!1;var s=new(r=e.nativeEvent).constructor(r.type,r);Mt=s,r.target.dispatchEvent(s),Mt=null,t.shift()}return!0}function zm(e,t,r){Fm(e)&&r.delete(t)}function Um(){Cm=!1,null!==Em&&Fm(Em)&&(Em=null),null!==Tm&&Fm(Tm)&&(Tm=null),null!==Pm&&Fm(Pm)&&(Pm=null),Lm.forEach(zm),Rm.forEach(zm)}function Hm(e,t){e.blockedOn===t&&(e.blockedOn=null,Cm||(Cm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Um)))}var Bm=null;function Wm(e){Bm!==e&&(Bm=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Bm===e&&(Bm=null);for(var t=0;t<e.length;t+=3){var r=e[t],s=e[t+1],a=e[t+2];if("function"!==typeof s){if(null===km(s||r))continue;break}var n=Je(r);null!==n&&(e.splice(t,3),t-=3,eo(n,{pending:!0,data:a,method:r.method,action:s},s,a))}}))}function qm(e){function t(t){return Hm(t,e)}null!==Em&&Hm(Em,e),null!==Tm&&Hm(Tm,e),null!==Pm&&Hm(Pm,e),Lm.forEach(t),Rm.forEach(t);for(var r=0;r<Mm.length;r++){var s=Mm[r];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Mm.length&&null===(r=Mm[0]).blockedOn;)Om(r),null===r.blockedOn&&Mm.shift();if(null!=(r=(e.ownerDocument||e).$$reactFormReplay))for(s=0;s<r.length;s+=3){var a=r[s],n=r[s+1],l=a[Be]||null;if("function"===typeof n)l||Wm(r);else if(l){var o=null;if(n&&n.hasAttribute("formAction")){if(a=n,l=n[Be]||null)o=l.formAction;else if(null!==km(a))continue}else o=l.action;"function"===typeof o?r[s+1]=o:(r.splice(s,3),s-=3),Wm(r)}}}function Vm(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return a=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==a&&(a(),a=null),s||setTimeout(r,20)}function r(){if(!s&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var s=!1,a=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(r,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==a&&(a(),a=null)}}}function Gm(e){this._internalRoot=e}function $m(e){this._internalRoot=e}$m.prototype.render=Gm.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(l(409));hm(t.current,Gc(),e,t,null,null)},$m.prototype.unmount=Gm.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hm(e.current,2,null,e,null,null),Zc(),t[We]=null}},$m.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fe();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Mm.length&&0!==t&&t<Mm[r].priority;r++);Mm.splice(r,0,e),0===r&&Om(e)}};var Ym=a.version;if("19.2.0"!==Ym)throw Error(l(527,Ym,"19.2.0"));D.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(l(188));throw e=Object.keys(e).join(","),Error(l(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=i(e)))throw Error(l(188));return t!==e?null:e}for(var r=e,s=t;;){var a=r.return;if(null===a)break;var n=a.alternate;if(null===n){if(null!==(s=a.return)){r=s;continue}break}if(a.child===n.child){for(n=a.child;n;){if(n===r)return u(a),e;if(n===s)return u(a),t;n=n.sibling}throw Error(l(188))}if(r.return!==s.return)r=a,s=n;else{for(var o=!1,c=a.child;c;){if(c===r){o=!0,r=a,s=n;break}if(c===s){o=!0,s=a,r=n;break}c=c.sibling}if(!o){for(c=n.child;c;){if(c===r){o=!0,r=n,s=a;break}if(c===s){o=!0,s=n,r=a;break}c=c.sibling}if(!o)throw Error(l(189))}}if(r.alternate!==s)throw Error(l(190))}if(3!==r.tag)throw Error(l(188));return r.stateNode.current===r?e:t}(t),e=null===(e=null!==e?m(e):null)?null:e.stateNode};var Qm={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.2.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Km=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Km.isDisabled&&Km.supportsFiber)try{be=Km.inject(Qm),ge=Km}catch(Xm){}}t.createRoot=function(e,t){if(!o(e))throw Error(l(299));var r=!1,s="",a=_o,n=ko,i=So;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(s=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(n=t.onCaughtError),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=mm(e,1,!1,null,0,r,s,null,a,n,i,Vm),e[We]=t.current,Zd(e),new Gm(t)},t.hydrateRoot=function(e,t,r){if(!o(e))throw Error(l(299));var s=!1,a="",n=_o,i=ko,c=So,d=null;return null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(s=!0),void 0!==r.identifierPrefix&&(a=r.identifierPrefix),void 0!==r.onUncaughtError&&(n=r.onUncaughtError),void 0!==r.onCaughtError&&(i=r.onCaughtError),void 0!==r.onRecoverableError&&(c=r.onRecoverableError),void 0!==r.formState&&(d=r.formState)),(t=mm(e,1,!0,t,0,s,a,d,n,i,c,Vm)).context=xm(null),r=t.current,(a=gn(s=Ie(s=Gc()))).callback=null,yn(r,a,s),r=s,t.current.lanes=r,Re(t,r),Dd(t),e[We]=t.current,Zd(e),new $m(t)},t.version="19.2.0"},43:(e,t,r)=>{e.exports=r(288)},288:(e,t)=>{var r=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),i=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,b={};function g(e,t,r){this.props=e,this.context=t,this.refs=b,this.updater=r||p}function y(){}function v(e,t,r){this.props=e,this.context=t,this.refs=b,this.updater=r||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var j=v.prototype=new y;j.constructor=v,f(j,g.prototype),j.isPureReactComponent=!0;var N=Array.isArray;function w(){}var _={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function S(e,t,s){var a=s.ref;return{$$typeof:r,type:e,key:t,ref:void 0!==a?a:null,props:s}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var E=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(e,t,a,n,l){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var i,c,d=!1;if(null===e)d=!0;else switch(o){case"bigint":case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case r:case s:d=!0;break;case m:return P((d=e._init)(e._payload),t,a,n,l)}}if(d)return l=l(e),d=""===n?"."+T(e,0):n,N(l)?(a="",null!=d&&(a=d.replace(E,"$&/")+"/"),P(l,t,a,"",function(e){return e})):null!=l&&(C(l)&&(i=l,c=a+(null==l.key||e&&e.key===l.key?"":(""+l.key).replace(E,"$&/")+"/")+d,l=S(i.type,c,i.props)),t.push(l)),1;d=0;var u,x=""===n?".":n+":";if(N(e))for(var p=0;p<e.length;p++)d+=P(n=e[p],t,a,o=x+T(n,p),l);else if("function"===typeof(p=null===(u=e)||"object"!==typeof u?null:"function"===typeof(u=h&&u[h]||u["@@iterator"])?u:null))for(e=p.call(e),p=0;!(n=e.next()).done;)d+=P(n=n.value,t,a,o=x+T(n,p++),l);else if("object"===o){if("function"===typeof e.then)return P(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(w,w):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,a,n,l);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return d}function L(e,t,r){if(null==e)return e;var s=[],a=0;return P(e,s,"","",function(e){return t.call(r,e,a++)}),s}function R(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},A={map:L,forEach:function(e,t,r){L(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return L(e,function(){t++}),t},toArray:function(e){return L(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=x,t.Children=A,t.Component=g,t.Fragment=a,t.Profiler=l,t.PureComponent=v,t.StrictMode=n,t.Suspense=d,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return _.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var s=f({},e.props),a=e.key;if(null!=t)for(n in void 0!==t.key&&(a=""+t.key),t)!k.call(t,n)||"key"===n||"__self"===n||"__source"===n||"ref"===n&&void 0===t.ref||(s[n]=t[n]);var n=arguments.length-2;if(1===n)s.children=r;else if(1<n){for(var l=Array(n),o=0;o<n;o++)l[o]=arguments[o+2];s.children=l}return S(e.type,a,s)},t.createContext=function(e){return(e={$$typeof:i,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,r){var s,a={},n=null;if(null!=t)for(s in void 0!==t.key&&(n=""+t.key),t)k.call(t,s)&&"key"!==s&&"__self"!==s&&"__source"!==s&&(a[s]=t[s]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var o=Array(l),i=0;i<l;i++)o[i]=arguments[i+2];a.children=o}if(e&&e.defaultProps)for(s in l=e.defaultProps)void 0===a[s]&&(a[s]=l[s]);return S(e,n,a)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=_.T,r={};_.T=r;try{var s=e(),a=_.S;null!==a&&a(r,s),"object"===typeof s&&null!==s&&"function"===typeof s.then&&s.then(w,M)}catch(n){M(n)}finally{null!==t&&null!==r.types&&(t.types=r.types),_.T=t}},t.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},t.use=function(e){return _.H.use(e)},t.useActionState=function(e,t,r){return _.H.useActionState(e,t,r)},t.useCallback=function(e,t){return _.H.useCallback(e,t)},t.useContext=function(e){return _.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return _.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return _.H.useEffect(e,t)},t.useEffectEvent=function(e){return _.H.useEffectEvent(e)},t.useId=function(){return _.H.useId()},t.useImperativeHandle=function(e,t,r){return _.H.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return _.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return _.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return _.H.useMemo(e,t)},t.useOptimistic=function(e,t){return _.H.useOptimistic(e,t)},t.useReducer=function(e,t,r){return _.H.useReducer(e,t,r)},t.useRef=function(e){return _.H.useRef(e)},t.useState=function(e){return _.H.useState(e)},t.useSyncExternalStore=function(e,t,r){return _.H.useSyncExternalStore(e,t,r)},t.useTransition=function(){return _.H.useTransition()},t.version="19.2.0"},391:(e,t,r)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(4)},579:(e,t,r)=>{e.exports=r(799)},672:(e,t,r)=>{var s=r(43);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var l={d:{f:n,r:function(){throw Error(a(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");var i=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(a(299));return function(e,t,r){var s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==s?null:""+s,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.flushSync=function(e){var t=i.T,r=l.p;try{if(i.T=null,l.p=2,e)return e()}finally{i.T=t,l.p=r,l.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,l.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&l.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var r=t.as,s=c(r,t.crossOrigin),a="string"===typeof t.integrity?t.integrity:void 0,n="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===r?l.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:s,integrity:a,fetchPriority:n}):"script"===r&&l.d.X(e,{crossOrigin:s,integrity:a,fetchPriority:n,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var r=c(t.as,t.crossOrigin);l.d.M(e,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&l.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var r=t.as,s=c(r,t.crossOrigin);l.d.L(e,r,{crossOrigin:s,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var r=c(t.as,t.crossOrigin);l.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else l.d.m(e)},t.requestFormReset=function(e){l.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,r){return i.H.useFormState(e,t,r)},t.useFormStatus=function(){return i.H.useHostTransitionStatus()},t.version="19.2.0"},799:(e,t)=>{var r=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function a(e,t,s){var a=null;if(void 0!==s&&(a=""+s),void 0!==t.key&&(a=""+t.key),"key"in t)for(var n in s={},t)"key"!==n&&(s[n]=t[n]);else s=t;return t=s.ref,{$$typeof:r,type:e,key:a,ref:void 0!==t?t:null,props:s}}t.Fragment=s,t.jsx=a,t.jsxs=a},853:(e,t,r)=>{e.exports=r(896)},896:(e,t)=>{function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var s=r-1>>>1,a=e[s];if(!(0<n(a,t)))break e;e[s]=t,e[r]=a,r=s}}function s(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var s=0,a=e.length,l=a>>>1;s<l;){var o=2*(s+1)-1,i=e[o],c=o+1,d=e[c];if(0>n(i,r))c<a&&0>n(d,i)?(e[s]=d,e[c]=r,s=c):(e[s]=i,e[o]=r,s=o);else{if(!(c<a&&0>n(d,r)))break e;e[s]=d,e[c]=r,s=c}}}return t}function n(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var o=Date,i=o.now();t.unstable_now=function(){return o.now()-i}}var c=[],d=[],u=1,m=null,x=3,h=!1,p=!1,f=!1,b=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function j(e){for(var t=s(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,r(c,t)}t=s(d)}}function N(e){if(f=!1,j(e),!p)if(null!==s(c))p=!0,_||(_=!0,w());else{var t=s(d);null!==t&&R(N,t.startTime-e)}}var w,_=!1,k=-1,S=5,C=-1;function E(){return!!b||!(t.unstable_now()-C<S)}function T(){if(b=!1,_){var e=t.unstable_now();C=e;var r=!0;try{e:{p=!1,f&&(f=!1,y(k),k=-1),h=!0;var n=x;try{t:{for(j(e),m=s(c);null!==m&&!(m.expirationTime>e&&E());){var l=m.callback;if("function"===typeof l){m.callback=null,x=m.priorityLevel;var o=l(m.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){m.callback=o,j(e),r=!0;break t}m===s(c)&&a(c),j(e)}else a(c);m=s(c)}if(null!==m)r=!0;else{var i=s(d);null!==i&&R(N,i.startTime-e),r=!1}}break e}finally{m=null,x=n,h=!1}r=void 0}}finally{r?w():_=!1}}}if("function"===typeof v)w=function(){v(T)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,L=P.port2;P.port1.onmessage=T,w=function(){L.postMessage(null)}}else w=function(){g(T,0)};function R(e,r){k=g(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(e){switch(x){case 1:case 2:case 3:var t=3;break;default:t=x}var r=x;x=t;try{return e()}finally{x=r}},t.unstable_requestPaint=function(){b=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=x;x=e;try{return t()}finally{x=r}},t.unstable_scheduleCallback=function(e,a,n){var l=t.unstable_now();switch("object"===typeof n&&null!==n?n="number"===typeof(n=n.delay)&&0<n?l+n:l:n=l,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:n,expirationTime:o=n+o,sortIndex:-1},n>l?(e.sortIndex=n,r(d,e),null===s(c)&&e===s(d)&&(f?(y(k),k=-1):f=!0,R(N,n-l))):(e.sortIndex=o,r(c,e),p||h||(p=!0,_||(_=!0,w()))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=x;return function(){var r=x;x=t;try{return e.apply(this,arguments)}finally{x=r}}}},950:(e,t,r)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(672)}},t={};function r(s){var a=t[s];if(void 0!==a)return a.exports;var n=t[s]={exports:{}};return e[s](n,n.exports,r),n.exports}r.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(s,a){if(1&a&&(s=this(s)),8&a)return s;if("object"===typeof s&&s){if(4&a&&s.__esModule)return s;if(16&a&&"function"===typeof s.then)return s}var n=Object.create(null);r.r(n);var l={};e=e||[null,t({}),t([]),t(t)];for(var o=2&a&&s;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>l[e]=()=>s[e]);return l.default=()=>s,r.d(n,l),n}})(),r.d=(e,t)=>{for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce((t,s)=>(r.f[s](e,t),t),[])),r.u=e=>"static/js/"+e+".eb570f4f.chunk.js",r.miniCssF=e=>{},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="client:";r.l=(s,a,n,l)=>{if(e[s])e[s].push(a);else{var o,i;if(void 0!==n)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==s||u.getAttribute("data-webpack")==t+n){o=u;break}}o||(i=!0,(o=document.createElement("script")).charset="utf-8",r.nc&&o.setAttribute("nonce",r.nc),o.setAttribute("data-webpack",t+n),o.src=s),e[s]=[a];var m=(t,r)=>{o.onerror=o.onload=null,clearTimeout(x);var a=e[s];if(delete e[s],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach(e=>e(r)),t)return t(r)},x=setTimeout(m.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=m.bind(null,o.onerror),o.onload=m.bind(null,o.onload),i&&document.head.appendChild(o)}}})(),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/",(()=>{var e={792:0};r.f.j=(t,s)=>{var a=r.o(e,t)?e[t]:void 0;if(0!==a)if(a)s.push(a[2]);else{var n=new Promise((r,s)=>a=e[t]=[r,s]);s.push(a[2]=n);var l=r.p+r.u(t),o=new Error;r.l(l,s=>{if(r.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var n=s&&("load"===s.type?"missing":s.type),l=s&&s.target&&s.target.src;o.message="Loading chunk "+t+" failed.\n("+n+": "+l+")",o.name="ChunkLoadError",o.type=n,o.request=l,a[1](o)}},"chunk-"+t,t)}};var t=(t,s)=>{var a,n,[l,o,i]=s,c=0;if(l.some(t=>0!==e[t])){for(a in o)r.o(o,a)&&(r.m[a]=o[a]);if(i)i(r)}for(t&&t(s);c<l.length;c++)n=l[c],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0},s=self.webpackChunkclient=self.webpackChunkclient||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var s={};r.r(s),r.d(s,{hasBrowserEnv:()=>mr,hasStandardBrowserEnv:()=>hr,hasStandardBrowserWebWorkerEnv:()=>pr,navigator:()=>xr,origin:()=>fr});var a,n=r(43),l=r.t(n,2),o=r(391);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},i.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(a||(a={}));const c="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(r){}}}function m(e,t){return{usr:e.state,key:e.key,idx:t}}function x(e,t,r,s){return void 0===r&&(r=null),i({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:r,key:t&&t.key||s||Math.random().toString(36).substr(2,8)})}function h(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),s&&"#"!==s&&(t+="#"===s.charAt(0)?s:"#"+s),t}function p(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function f(e,t,r,s){void 0===s&&(s={});let{window:n=document.defaultView,v5Compat:l=!1}=s,o=n.history,u=a.Pop,p=null,f=b();function b(){return(o.state||{idx:null}).idx}function g(){u=a.Pop;let e=b(),t=null==e?null:e-f;f=e,p&&p({action:u,location:v.location,delta:t})}function y(e){let t="null"!==n.location.origin?n.location.origin:n.location.href,r="string"===typeof e?e:h(e);return r=r.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}null==f&&(f=0,o.replaceState(i({},o.state,{idx:f}),""));let v={get action(){return u},get location(){return e(n,o)},listen(e){if(p)throw new Error("A history only accepts one active listener");return n.addEventListener(c,g),p=e,()=>{n.removeEventListener(c,g),p=null}},createHref:e=>t(n,e),createURL:y,encodeLocation(e){let t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){u=a.Push;let s=x(v.location,e,t);r&&r(s,e),f=b()+1;let i=m(s,f),c=v.createHref(s);try{o.pushState(i,"",c)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;n.location.assign(c)}l&&p&&p({action:u,location:v.location,delta:1})},replace:function(e,t){u=a.Replace;let s=x(v.location,e,t);r&&r(s,e),f=b();let n=m(s,f),i=v.createHref(s);o.replaceState(n,"",i),l&&p&&p({action:u,location:v.location,delta:0})},go:e=>o.go(e)};return v}var b;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(b||(b={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function g(e,t,r){return void 0===r&&(r="/"),y(e,t,r,!1)}function y(e,t,r,s){let a=M(("string"===typeof t?p(t):t).pathname||"/",r);if(null==a)return null;let n=v(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every((e,r)=>e===t[r]);return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(n);let l=null;for(let o=0;null==l&&o<n.length;++o){let e=R(a);l=P(n[o],e,s)}return l}function v(e,t,r,s){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===s&&(s="");let a=(e,a,n)=>{let l={relativePath:void 0===n?e.path||"":n,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};l.relativePath.startsWith("/")&&(d(l.relativePath.startsWith(s),'Absolute route path "'+l.relativePath+'" nested under path "'+s+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),l.relativePath=l.relativePath.slice(s.length));let o=F([s,l.relativePath]),i=r.concat(l);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),v(e.children,t,i,o)),(null!=e.path||e.index)&&t.push({path:o,score:T(o,e.index),routesMeta:i})};return e.forEach((e,t)=>{var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?"))for(let s of j(e.path))a(e,t,s);else a(e,t)}),t}function j(e){let t=e.split("/");if(0===t.length)return[];let[r,...s]=t,a=r.endsWith("?"),n=r.replace(/\?$/,"");if(0===s.length)return a?[n,""]:[n];let l=j(s.join("/")),o=[];return o.push(...l.map(e=>""===e?n:[n,e].join("/"))),a&&o.push(...l),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const N=/^:[\w-]+$/,w=3,_=2,k=1,S=10,C=-2,E=e=>"*"===e;function T(e,t){let r=e.split("/"),s=r.length;return r.some(E)&&(s+=C),t&&(s+=_),r.filter(e=>!E(e)).reduce((e,t)=>e+(N.test(t)?w:""===t?k:S),s)}function P(e,t,r){void 0===r&&(r=!1);let{routesMeta:s}=e,a={},n="/",l=[];for(let o=0;o<s.length;++o){let e=s[o],i=o===s.length-1,c="/"===n?t:t.slice(n.length)||"/",d=L({path:e.relativePath,caseSensitive:e.caseSensitive,end:i},c),u=e.route;if(!d&&i&&r&&!s[s.length-1].route.index&&(d=L({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(a,d.params),l.push({params:a,pathname:F([n,d.pathname]),pathnameBase:z(F([n,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(n=F([n,d.pathnameBase]))}return l}function L(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,r)=>(s.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(s.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let n=new RegExp(a,t?void 0:"i");return[n,s]}(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let n=a[0],l=n.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:s.reduce((e,t,r)=>{let{paramName:s,isOptional:a}=t;if("*"===s){let e=o[r]||"";l=n.slice(0,n.length-e.length).replace(/(.)\/+$/,"$1")}const i=o[r];return e[s]=a&&!i?void 0:(i||"").replace(/%2F/g,"/"),e},{}),pathname:n,pathnameBase:l,pattern:e}}function R(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function M(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&"/"!==s?null:e.slice(r)||"/"}function A(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function D(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function I(e,t){let r=D(e);return t?r.map((e,t)=>t===r.length-1?e.pathname:e.pathnameBase):r.map(e=>e.pathnameBase)}function O(e,t,r,s){let a;void 0===s&&(s=!1),"string"===typeof e?a=p(e):(a=i({},e),d(!a.pathname||!a.pathname.includes("?"),A("?","pathname","search",a)),d(!a.pathname||!a.pathname.includes("#"),A("#","pathname","hash",a)),d(!a.search||!a.search.includes("#"),A("#","search","hash",a)));let n,l=""===e||""===a.pathname,o=l?"/":a.pathname;if(null==o)n=r;else{let e=t.length-1;if(!s&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}n=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:r,search:s="",hash:a=""}="string"===typeof e?p(e):e,n=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:n,search:U(s),hash:H(a)}}(a,n),u=o&&"/"!==o&&o.endsWith("/"),m=(l||"."===o)&&r.endsWith("/");return c.pathname.endsWith("/")||!u&&!m||(c.pathname+="/"),c}const F=e=>e.join("/").replace(/\/\/+/g,"/"),z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",H=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function B(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const W=["post","put","patch","delete"],q=(new Set(W),["get",...W]);new Set(q),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},V.apply(this,arguments)}const G=n.createContext(null);const $=n.createContext(null);const Y=n.createContext(null);const Q=n.createContext(null);const K=n.createContext({outlet:null,matches:[],isDataRoute:!1});const J=n.createContext(null);function X(){return null!=n.useContext(Q)}function Z(){return X()||d(!1),n.useContext(Q).location}function ee(e){n.useContext(Y).static||n.useLayoutEffect(e)}function te(){let{isDataRoute:e}=n.useContext(K);return e?function(){let{router:e}=me(de.UseNavigateStable),t=he(ue.UseNavigateStable),r=n.useRef(!1);return ee(()=>{r.current=!0}),n.useCallback(function(s,a){void 0===a&&(a={}),r.current&&("number"===typeof s?e.navigate(s):e.navigate(s,V({fromRouteId:t},a)))},[e,t])}():function(){X()||d(!1);let e=n.useContext(G),{basename:t,future:r,navigator:s}=n.useContext(Y),{matches:a}=n.useContext(K),{pathname:l}=Z(),o=JSON.stringify(I(a,r.v7_relativeSplatPath)),i=n.useRef(!1);return ee(()=>{i.current=!0}),n.useCallback(function(r,a){if(void 0===a&&(a={}),!i.current)return;if("number"===typeof r)return void s.go(r);let n=O(r,JSON.parse(o),l,"path"===a.relative);null==e&&"/"!==t&&(n.pathname="/"===n.pathname?t:F([t,n.pathname])),(a.replace?s.replace:s.push)(n,a.state,a)},[t,s,o,l,e])}()}function re(){let{matches:e}=n.useContext(K),t=e[e.length-1];return t?t.params:{}}function se(e,t){let{relative:r}=void 0===t?{}:t,{future:s}=n.useContext(Y),{matches:a}=n.useContext(K),{pathname:l}=Z(),o=JSON.stringify(I(a,s.v7_relativeSplatPath));return n.useMemo(()=>O(e,JSON.parse(o),l,"path"===r),[e,o,l,r])}function ae(e,t,r,s){X()||d(!1);let{navigator:l}=n.useContext(Y),{matches:o}=n.useContext(K),i=o[o.length-1],c=i?i.params:{},u=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;let m,x=Z();if(t){var h;let e="string"===typeof t?p(t):t;"/"===u||(null==(h=e.pathname)?void 0:h.startsWith(u))||d(!1),m=e}else m=x;let f=m.pathname||"/",b=f;if("/"!==u){let e=u.replace(/^\//,"").split("/");b="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=g(e,{pathname:b});let v=ce(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:F([u,l.encodeLocation?l.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:F([u,l.encodeLocation?l.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,r,s);return t&&v?n.createElement(Q.Provider,{value:{location:V({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:a.Pop}},v):v}function ne(){let e=function(){var e;let t=n.useContext(J),r=xe(ue.UseRouteError),s=he(ue.UseRouteError);if(void 0!==t)return t;return null==(e=r.errors)?void 0:e[s]}(),t=B(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s};return n.createElement(n.Fragment,null,n.createElement("h2",null,"Unexpected Application Error!"),n.createElement("h3",{style:{fontStyle:"italic"}},t),r?n.createElement("pre",{style:a},r):null,null)}const le=n.createElement(ne,null);class oe extends n.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?n.createElement(K.Provider,{value:this.props.routeContext},n.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ie(e){let{routeContext:t,match:r,children:s}=e,a=n.useContext(G);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),n.createElement(K.Provider,{value:t},s)}function ce(e,t,r,s){var a;if(void 0===t&&(t=[]),void 0===r&&(r=null),void 0===s&&(s=null),null==e){var l;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(l=s)&&l.v7_partialHydration&&0===t.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let o=e,i=null==(a=r)?void 0:a.errors;if(null!=i){let e=o.findIndex(e=>e.route.id&&void 0!==(null==i?void 0:i[e.route.id]));e>=0||d(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,u=-1;if(r&&s&&s.v7_partialHydration)for(let n=0;n<o.length;n++){let e=o[n];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=n),e.route.id){let{loaderData:t,errors:s}=r,a=e.route.loader&&void 0===t[e.route.id]&&(!s||void 0===s[e.route.id]);if(e.route.lazy||a){c=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight((e,s,a)=>{let l,d=!1,m=null,x=null;var h;r&&(l=i&&s.route.id?i[s.route.id]:void 0,m=s.route.errorElement||le,c&&(u<0&&0===a?(h="route-fallback",!1||pe[h]||(pe[h]=!0),d=!0,x=null):u===a&&(d=!0,x=s.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,a+1)),f=()=>{let t;return t=l?m:d?x:s.route.Component?n.createElement(s.route.Component,null):s.route.element?s.route.element:e,n.createElement(ie,{match:s,routeContext:{outlet:e,matches:p,isDataRoute:null!=r},children:t})};return r&&(s.route.ErrorBoundary||s.route.errorElement||0===a)?n.createElement(oe,{location:r.location,revalidation:r.revalidation,component:m,error:l,children:f(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):f()},null)}var de=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(de||{}),ue=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ue||{});function me(e){let t=n.useContext(G);return t||d(!1),t}function xe(e){let t=n.useContext($);return t||d(!1),t}function he(e){let t=function(){let e=n.useContext(K);return e||d(!1),e}(),r=t.matches[t.matches.length-1];return r.route.id||d(!1),r.route.id}const pe={};function fe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}l.startTransition;function be(e){let{to:t,replace:r,state:s,relative:a}=e;X()||d(!1);let{future:l,static:o}=n.useContext(Y),{matches:i}=n.useContext(K),{pathname:c}=Z(),u=te(),m=O(t,I(i,l.v7_relativeSplatPath),c,"path"===a),x=JSON.stringify(m);return n.useEffect(()=>u(JSON.parse(x),{replace:r,state:s,relative:a}),[u,x,a,r,s]),null}function ge(e){d(!1)}function ye(e){let{basename:t="/",children:r=null,location:s,navigationType:l=a.Pop,navigator:o,static:i=!1,future:c}=e;X()&&d(!1);let u=t.replace(/^\/*/,"/"),m=n.useMemo(()=>({basename:u,navigator:o,static:i,future:V({v7_relativeSplatPath:!1},c)}),[u,c,o,i]);"string"===typeof s&&(s=p(s));let{pathname:x="/",search:h="",hash:f="",state:b=null,key:g="default"}=s,y=n.useMemo(()=>{let e=M(x,u);return null==e?null:{location:{pathname:e,search:h,hash:f,state:b,key:g},navigationType:l}},[u,x,h,f,b,g,l]);return null==y?null:n.createElement(Y.Provider,{value:m},n.createElement(Q.Provider,{children:r,value:y}))}function ve(e){let{children:t,location:r}=e;return ae(je(t),r)}new Promise(()=>{});n.Component;function je(e,t){void 0===t&&(t=[]);let r=[];return n.Children.forEach(e,(e,s)=>{if(!n.isValidElement(e))return;let a=[...t,s];if(e.type===n.Fragment)return void r.push.apply(r,je(e.props.children,a));e.type!==ge&&d(!1),e.props.index&&e.props.children&&d(!1);let l={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(l.children=je(e.props.children,a)),r.push(l)}),r}var Ne=r(950),we=r.t(Ne,2);function _e(){return _e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},_e.apply(this,arguments)}function ke(e,t){if(null==e)return{};var r,s,a={},n=Object.keys(e);for(s=0;s<n.length;s++)r=n[s],t.indexOf(r)>=0||(a[r]=e[r]);return a}function Se(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let s=e[r];return t.concat(Array.isArray(s)?s.map(e=>[r,e]):[[r,s]])},[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ce=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(To){}new Map;const Ee=l.startTransition;we.flushSync,l.useId;function Te(e){let{basename:t,children:r,future:s,window:a}=e,l=n.useRef();var o;null==l.current&&(l.current=(void 0===(o={window:a,v5Compat:!0})&&(o={}),f(function(e,t){let{pathname:r="/",search:s="",hash:a=""}=p(e.location.hash.substr(1));return r.startsWith("/")||r.startsWith(".")||(r="/"+r),x("",{pathname:r,search:s,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let r=e.document.querySelector("base"),s="";if(r&&r.getAttribute("href")){let t=e.location.href,r=t.indexOf("#");s=-1===r?t:t.slice(0,r)}return s+"#"+("string"===typeof t?t:h(t))},function(e,t){u("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")},o)));let i=l.current,[c,d]=n.useState({action:i.action,location:i.location}),{v7_startTransition:m}=s||{},b=n.useCallback(e=>{m&&Ee?Ee(()=>d(e)):d(e)},[d,m]);return n.useLayoutEffect(()=>i.listen(b),[i,b]),n.useEffect(()=>fe(s),[s]),n.createElement(ye,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:i,future:s})}const Pe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Le=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Re=n.forwardRef(function(e,t){let r,{onClick:s,relative:a,reloadDocument:l,replace:o,state:i,target:c,to:u,preventScrollReset:m,viewTransition:x}=e,p=ke(e,Ce),{basename:f}=n.useContext(Y),b=!1;if("string"===typeof u&&Le.test(u)&&(r=u,Pe))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),r=M(t.pathname,f);t.origin===e.origin&&null!=r?u=r+t.search+t.hash:b=!0}catch(To){}let g=function(e,t){let{relative:r}=void 0===t?{}:t;X()||d(!1);let{basename:s,navigator:a}=n.useContext(Y),{hash:l,pathname:o,search:i}=se(e,{relative:r}),c=o;return"/"!==s&&(c="/"===o?s:F([s,o])),a.createHref({pathname:c,search:i,hash:l})}(u,{relative:a}),y=function(e,t){let{target:r,replace:s,state:a,preventScrollReset:l,relative:o,viewTransition:i}=void 0===t?{}:t,c=te(),d=Z(),u=se(e,{relative:o});return n.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let r=void 0!==s?s:h(d)===h(u);c(e,{replace:r,state:a,preventScrollReset:l,relative:o,viewTransition:i})}},[d,c,u,s,a,r,e,l,o,i])}(u,{replace:o,state:i,target:c,preventScrollReset:m,relative:a,viewTransition:x});return n.createElement("a",_e({},p,{href:r||g,onClick:b||l?s:function(e){s&&s(e),e.defaultPrevented||y(e)},ref:t,target:c}))});var Me,Ae;function De(e){let t=n.useRef(Se(e)),r=n.useRef(!1),s=Z(),a=n.useMemo(()=>function(e,t){let r=Se(e);return t&&t.forEach((e,s)=>{r.has(s)||t.getAll(s).forEach(e=>{r.append(s,e)})}),r}(s.search,r.current?null:t.current),[s.search]),l=te(),o=n.useCallback((e,t)=>{const s=Se("function"===typeof e?e(a):e);r.current=!0,l("?"+s,t)},[l,a]);return[a,o]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Me||(Me={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ae||(Ae={}));function Ie(e){return Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ie(e)}function Oe(e){var t=function(e,t){if("object"!=Ie(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=Ie(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ie(t)?t:t+""}function Fe(e,t,r){return(t=Oe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ze(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function Ue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(r),!0).forEach(function(t){Fe(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ze(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function He(e,t){if(null==e)return{};var r,s,a=function(e,t){if(null==e)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(-1!==t.indexOf(s))continue;r[s]=e[s]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)r=n[s],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}const Be=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},We=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>Boolean(e)&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var qe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Ve=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],Ge=(0,n.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:o="",children:i,iconNode:c}=e,d=He(e,Ve);return(0,n.createElement)("svg",Ue(Ue(Ue({ref:t},qe),{},{width:s,height:s,stroke:r,strokeWidth:l?24*Number(a)/Number(s):a,className:We("lucide",o)},!i&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(d)&&{"aria-hidden":"true"}),d),[...c.map(e=>{let[t,r]=e;return(0,n.createElement)(t,r)}),...Array.isArray(i)?i:[i]])}),$e=["className"],Ye=(e,t)=>{const r=(0,n.forwardRef)((r,s)=>{let{className:a}=r,l=He(r,$e);return(0,n.createElement)(Ge,Ue({ref:s,iconNode:t,className:We("lucide-".concat((o=Be(e),o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),a)},l));var o});return r.displayName=Be(e),r},Qe=Ye("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),Ke=Ye("medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]),Je=Ye("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]]),Xe=Ye("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Ze=Ye("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),et=Ye("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),tt=Ye("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),rt=Ye("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]]),st=Ye("flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]),at=Ye("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),nt=Ye("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),lt=Ye("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);function ot(e,t){return function(){return e.apply(t,arguments)}}const{toString:it}=Object.prototype,{getPrototypeOf:ct}=Object,{iterator:dt,toStringTag:ut}=Symbol,mt=(xt=Object.create(null),e=>{const t=it.call(e);return xt[t]||(xt[t]=t.slice(8,-1).toLowerCase())});var xt;const ht=e=>(e=e.toLowerCase(),t=>mt(t)===e),pt=e=>t=>typeof t===e,{isArray:ft}=Array,bt=pt("undefined");function gt(e){return null!==e&&!bt(e)&&null!==e.constructor&&!bt(e.constructor)&&jt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const yt=ht("ArrayBuffer");const vt=pt("string"),jt=pt("function"),Nt=pt("number"),wt=e=>null!==e&&"object"===typeof e,_t=e=>{if("object"!==mt(e))return!1;const t=ct(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(ut in e)&&!(dt in e)},kt=ht("Date"),St=ht("File"),Ct=ht("Blob"),Et=ht("FileList"),Tt=ht("URLSearchParams"),[Pt,Lt,Rt,Mt]=["ReadableStream","Request","Response","Headers"].map(ht);function At(e,t){let r,s,{allOwnKeys:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),ft(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(gt(e))return;const s=a?Object.getOwnPropertyNames(e):Object.keys(e),n=s.length;let l;for(r=0;r<n;r++)l=s[r],t.call(null,e[l],l,e)}}function Dt(e,t){if(gt(e))return null;t=t.toLowerCase();const r=Object.keys(e);let s,a=r.length;for(;a-- >0;)if(s=r[a],t===s.toLowerCase())return s;return null}const It="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Ot=e=>!bt(e)&&e!==It;const Ft=(zt="undefined"!==typeof Uint8Array&&ct(Uint8Array),e=>zt&&e instanceof zt);var zt;const Ut=ht("HTMLFormElement"),Ht=(e=>{let{hasOwnProperty:t}=e;return(e,r)=>t.call(e,r)})(Object.prototype),Bt=ht("RegExp"),Wt=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),s={};At(r,(r,a)=>{let n;!1!==(n=t(r,a,e))&&(s[a]=n||r)}),Object.defineProperties(e,s)};const qt=ht("AsyncFunction"),Vt=((e,t)=>{return e?setImmediate:t?(r="axios@".concat(Math.random()),s=[],It.addEventListener("message",e=>{let{source:t,data:a}=e;t===It&&a===r&&s.length&&s.shift()()},!1),e=>{s.push(e),It.postMessage(r,"*")}):e=>setTimeout(e);var r,s})("function"===typeof setImmediate,jt(It.postMessage)),Gt="undefined"!==typeof queueMicrotask?queueMicrotask.bind(It):"undefined"!==typeof process&&process.nextTick||Vt,$t={isArray:ft,isArrayBuffer:yt,isBuffer:gt,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||jt(e.append)&&("formdata"===(t=mt(e))||"object"===t&&jt(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&yt(e.buffer),t},isString:vt,isNumber:Nt,isBoolean:e=>!0===e||!1===e,isObject:wt,isPlainObject:_t,isEmptyObject:e=>{if(!wt(e)||gt(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(To){return!1}},isReadableStream:Pt,isRequest:Lt,isResponse:Rt,isHeaders:Mt,isUndefined:bt,isDate:kt,isFile:St,isBlob:Ct,isRegExp:Bt,isFunction:jt,isStream:e=>wt(e)&&jt(e.pipe),isURLSearchParams:Tt,isTypedArray:Ft,isFileList:Et,forEach:At,merge:function e(){const{caseless:t,skipUndefined:r}=Ot(this)&&this||{},s={},a=(a,n)=>{const l=t&&Dt(s,n)||n;_t(s[l])&&_t(a)?s[l]=e(s[l],a):_t(a)?s[l]=e({},a):ft(a)?s[l]=a.slice():r&&bt(a)||(s[l]=a)};for(let n=0,l=arguments.length;n<l;n++)arguments[n]&&At(arguments[n],a);return s},extend:function(e,t,r){let{allOwnKeys:s}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return At(t,(t,s)=>{r&&jt(t)?e[s]=ot(t,r):e[s]=t},{allOwnKeys:s}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,s)=>{let a,n,l;const o={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),n=a.length;n-- >0;)l=a[n],s&&!s(l,e,t)||o[l]||(t[l]=e[l],o[l]=!0);e=!1!==r&&ct(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:mt,kindOfTest:ht,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const s=e.indexOf(t,r);return-1!==s&&s===r},toArray:e=>{if(!e)return null;if(ft(e))return e;let t=e.length;if(!Nt(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[dt]).call(e);let s;for(;(s=r.next())&&!s.done;){const r=s.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const s=[];for(;null!==(r=e.exec(t));)s.push(r);return s},isHTMLForm:Ut,hasOwnProperty:Ht,hasOwnProp:Ht,reduceDescriptors:Wt,freezeMethods:e=>{Wt(e,(t,r)=>{if(jt(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const s=e[r];jt(s)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))})},toObjectSet:(e,t)=>{const r={},s=e=>{e.forEach(e=>{r[e]=!0})};return ft(e)?s(e):s(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,r){return t.toUpperCase()+r}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Dt,global:It,isContextDefined:Ot,isSpecCompliantForm:function(e){return!!(e&&jt(e.append)&&"FormData"===e[ut]&&e[dt])},toJSONObject:e=>{const t=new Array(10),r=(e,s)=>{if(wt(e)){if(t.indexOf(e)>=0)return;if(gt(e))return e;if(!("toJSON"in e)){t[s]=e;const a=ft(e)?[]:{};return At(e,(e,t)=>{const n=r(e,s+1);!bt(n)&&(a[t]=n)}),t[s]=void 0,a}}return e};return r(e,0)},isAsyncFn:qt,isThenable:e=>e&&(wt(e)||jt(e))&&jt(e.then)&&jt(e.catch),setImmediate:Vt,asap:Gt,isIterable:e=>null!=e&&jt(e[dt])};function Yt(e,t,r,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}$t.inherits(Yt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$t.toJSONObject(this.config),code:this.code,status:this.status}}});const Qt=Yt.prototype,Kt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Kt[e]={value:e}}),Object.defineProperties(Yt,Kt),Object.defineProperty(Qt,"isAxiosError",{value:!0}),Yt.from=(e,t,r,s,a,n)=>{const l=Object.create(Qt);$t.toFlatObject(e,l,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const o=e&&e.message?e.message:"Error",i=null==t&&e?e.code:t;return Yt.call(l,o,i,r,s,a),e&&null==l.cause&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",n&&Object.assign(l,n),l};const Jt=Yt;function Xt(e){return $t.isPlainObject(e)||$t.isArray(e)}function Zt(e){return $t.endsWith(e,"[]")?e.slice(0,-2):e}function er(e,t,r){return e?e.concat(t).map(function(e,t){return e=Zt(e),!r&&t?"["+e+"]":e}).join(r?".":""):t}const tr=$t.toFlatObject($t,{},null,function(e){return/^is[A-Z]/.test(e)});const rr=function(e,t,r){if(!$t.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const s=(r=$t.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!$t.isUndefined(t[e])})).metaTokens,a=r.visitor||c,n=r.dots,l=r.indexes,o=(r.Blob||"undefined"!==typeof Blob&&Blob)&&$t.isSpecCompliantForm(t);if(!$t.isFunction(a))throw new TypeError("visitor must be a function");function i(e){if(null===e)return"";if($t.isDate(e))return e.toISOString();if($t.isBoolean(e))return e.toString();if(!o&&$t.isBlob(e))throw new Jt("Blob is not supported. Use a Buffer instead.");return $t.isArrayBuffer(e)||$t.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,r,a){let o=e;if(e&&!a&&"object"===typeof e)if($t.endsWith(r,"{}"))r=s?r:r.slice(0,-2),e=JSON.stringify(e);else if($t.isArray(e)&&function(e){return $t.isArray(e)&&!e.some(Xt)}(e)||($t.isFileList(e)||$t.endsWith(r,"[]"))&&(o=$t.toArray(e)))return r=Zt(r),o.forEach(function(e,s){!$t.isUndefined(e)&&null!==e&&t.append(!0===l?er([r],s,n):null===l?r:r+"[]",i(e))}),!1;return!!Xt(e)||(t.append(er(a,r,n),i(e)),!1)}const d=[],u=Object.assign(tr,{defaultVisitor:c,convertValue:i,isVisitable:Xt});if(!$t.isObject(e))throw new TypeError("data must be an object");return function e(r,s){if(!$t.isUndefined(r)){if(-1!==d.indexOf(r))throw Error("Circular reference detected in "+s.join("."));d.push(r),$t.forEach(r,function(r,n){!0===(!($t.isUndefined(r)||null===r)&&a.call(t,r,$t.isString(n)?n.trim():n,s,u))&&e(r,s?s.concat(n):[n])}),d.pop()}}(e),t};function sr(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function ar(e,t){this._pairs=[],e&&rr(e,this,t)}const nr=ar.prototype;nr.append=function(e,t){this._pairs.push([e,t])},nr.toString=function(e){const t=e?function(t){return e.call(this,t,sr)}:sr;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const lr=ar;function or(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function ir(e,t,r){if(!t)return e;const s=r&&r.encode||or;$t.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let n;if(n=a?a(t,r):$t.isURLSearchParams(t)?t.toString():new lr(t,r).toString(s),n){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e}const cr=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){$t.forEach(this.handlers,function(t){null!==t&&e(t)})}},dr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ur={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:lr,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},mr="undefined"!==typeof window&&"undefined"!==typeof document,xr="object"===typeof navigator&&navigator||void 0,hr=mr&&(!xr||["ReactNative","NativeScript","NS"].indexOf(xr.product)<0),pr="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,fr=mr&&window.location.href||"http://localhost",br=Ue(Ue({},s),ur);const gr=function(e){function t(e,r,s,a){let n=e[a++];if("__proto__"===n)return!0;const l=Number.isFinite(+n),o=a>=e.length;if(n=!n&&$t.isArray(s)?s.length:n,o)return $t.hasOwnProp(s,n)?s[n]=[s[n],r]:s[n]=r,!l;s[n]&&$t.isObject(s[n])||(s[n]=[]);return t(e,r,s[n],a)&&$t.isArray(s[n])&&(s[n]=function(e){const t={},r=Object.keys(e);let s;const a=r.length;let n;for(s=0;s<a;s++)n=r[s],t[n]=e[n];return t}(s[n])),!l}if($t.isFormData(e)&&$t.isFunction(e.entries)){const r={};return $t.forEachEntry(e,(e,s)=>{t(function(e){return $t.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),s,r,0)}),r}return null};const yr={transitional:dr,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",s=r.indexOf("application/json")>-1,a=$t.isObject(e);a&&$t.isHTMLForm(e)&&(e=new FormData(e));if($t.isFormData(e))return s?JSON.stringify(gr(e)):e;if($t.isArrayBuffer(e)||$t.isBuffer(e)||$t.isStream(e)||$t.isFile(e)||$t.isBlob(e)||$t.isReadableStream(e))return e;if($t.isArrayBufferView(e))return e.buffer;if($t.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let n;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return rr(e,new br.classes.URLSearchParams,Ue({visitor:function(e,t,r,s){return br.isNode&&$t.isBuffer(e)?(this.append(t,e.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=$t.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return rr(n?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||s?(t.setContentType("application/json",!1),function(e,t,r){if($t.isString(e))try{return(t||JSON.parse)(e),$t.trim(e)}catch(To){if("SyntaxError"!==To.name)throw To}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||yr.transitional,r=t&&t.forcedJSONParsing,s="json"===this.responseType;if($t.isResponse(e)||$t.isReadableStream(e))return e;if(e&&$t.isString(e)&&(r&&!this.responseType||s)){const r=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(To){if(r){if("SyntaxError"===To.name)throw Jt.from(To,Jt.ERR_BAD_RESPONSE,this,null,this.response);throw To}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:br.classes.FormData,Blob:br.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$t.forEach(["delete","get","head","post","put","patch"],e=>{yr.headers[e]={}});const vr=yr,jr=$t.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Nr=Symbol("internals");function wr(e){return e&&String(e).trim().toLowerCase()}function _r(e){return!1===e||null==e?e:$t.isArray(e)?e.map(_r):String(e)}function kr(e,t,r,s,a){return $t.isFunction(s)?s.call(this,t,r):(a&&(t=r),$t.isString(t)?$t.isString(s)?-1!==t.indexOf(s):$t.isRegExp(s)?s.test(t):void 0:void 0)}class Sr{constructor(e){e&&this.set(e)}set(e,t,r){const s=this;function a(e,t,r){const a=wr(t);if(!a)throw new Error("header name must be a non-empty string");const n=$t.findKey(s,a);(!n||void 0===s[n]||!0===r||void 0===r&&!1!==s[n])&&(s[n||t]=_r(e))}const n=(e,t)=>$t.forEach(e,(e,r)=>a(e,r,t));if($t.isPlainObject(e)||e instanceof this.constructor)n(e,t);else if($t.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))n((e=>{const t={};let r,s,a;return e&&e.split("\n").forEach(function(e){a=e.indexOf(":"),r=e.substring(0,a).trim().toLowerCase(),s=e.substring(a+1).trim(),!r||t[r]&&jr[r]||("set-cookie"===r?t[r]?t[r].push(s):t[r]=[s]:t[r]=t[r]?t[r]+", "+s:s)}),t})(e),t);else if($t.isObject(e)&&$t.isIterable(e)){let r,s,a={};for(const t of e){if(!$t.isArray(t))throw TypeError("Object iterator must return a key-value pair");a[s=t[0]]=(r=a[s])?$t.isArray(r)?[...r,t[1]]:[r,t[1]]:t[1]}n(a,t)}else null!=e&&a(t,e,r);return this}get(e,t){if(e=wr(e)){const r=$t.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(e);)t[s[1]]=s[2];return t}(e);if($t.isFunction(t))return t.call(this,e,r);if($t.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=wr(e)){const r=$t.findKey(this,e);return!(!r||void 0===this[r]||t&&!kr(0,this[r],r,t))}return!1}delete(e,t){const r=this;let s=!1;function a(e){if(e=wr(e)){const a=$t.findKey(r,e);!a||t&&!kr(0,r[a],a,t)||(delete r[a],s=!0)}}return $t.isArray(e)?e.forEach(a):a(e),s}clear(e){const t=Object.keys(this);let r=t.length,s=!1;for(;r--;){const a=t[r];e&&!kr(0,this[a],a,e,!0)||(delete this[a],s=!0)}return s}normalize(e){const t=this,r={};return $t.forEach(this,(s,a)=>{const n=$t.findKey(r,a);if(n)return t[n]=_r(s),void delete t[a];const l=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}(a):String(a).trim();l!==a&&delete t[a],t[l]=_r(s),r[l]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return $t.forEach(this,(r,s)=>{null!=r&&!1!==r&&(t[s]=e&&$t.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,r]=e;return t+": "+r}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return s.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[Nr]=this[Nr]={accessors:{}}).accessors,r=this.prototype;function s(e){const s=wr(e);t[s]||(!function(e,t){const r=$t.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+r,{value:function(e,r,a){return this[s].call(this,t,e,r,a)},configurable:!0})})}(r,e),t[s]=!0)}return $t.isArray(e)?e.forEach(s):s(e),this}}Sr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),$t.reduceDescriptors(Sr.prototype,(e,t)=>{let{value:r}=e,s=t[0].toUpperCase()+t.slice(1);return{get:()=>r,set(e){this[s]=e}}}),$t.freezeMethods(Sr);const Cr=Sr;function Er(e,t){const r=this||vr,s=t||r,a=Cr.from(s.headers);let n=s.data;return $t.forEach(e,function(e){n=e.call(r,n,a.normalize(),t?t.status:void 0)}),a.normalize(),n}function Tr(e){return!(!e||!e.__CANCEL__)}function Pr(e,t,r){Jt.call(this,null==e?"canceled":e,Jt.ERR_CANCELED,t,r),this.name="CanceledError"}$t.inherits(Pr,Jt,{__CANCEL__:!0});const Lr=Pr;function Rr(e,t,r){const s=r.config.validateStatus;r.status&&s&&!s(r.status)?t(new Jt("Request failed with status code "+r.status,[Jt.ERR_BAD_REQUEST,Jt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}const Mr=function(e,t){e=e||10;const r=new Array(e),s=new Array(e);let a,n=0,l=0;return t=void 0!==t?t:1e3,function(o){const i=Date.now(),c=s[l];a||(a=i),r[n]=o,s[n]=i;let d=l,u=0;for(;d!==n;)u+=r[d++],d%=e;if(n=(n+1)%e,n===l&&(l=(l+1)%e),i-a<t)return;const m=c&&i-c;return m?Math.round(1e3*u/m):void 0}};const Ar=function(e,t){let r,s,a=0,n=1e3/t;const l=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();a=n,r=null,s&&(clearTimeout(s),s=null),e(...t)};return[function(){const e=Date.now(),t=e-a;for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];t>=n?l(i,e):(r=i,s||(s=setTimeout(()=>{s=null,l(r)},n-t)))},()=>r&&l(r)]},Dr=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,s=0;const a=Mr(50,250);return Ar(r=>{const n=r.loaded,l=r.lengthComputable?r.total:void 0,o=n-s,i=a(o);s=n;e({loaded:n,total:l,progress:l?n/l:void 0,bytes:o,rate:i||void 0,estimated:i&&l&&n<=l?(l-n)/i:void 0,event:r,lengthComputable:null!=l,[t?"download":"upload"]:!0})},r)},Ir=(e,t)=>{const r=null!=e;return[s=>t[0]({lengthComputable:r,total:e,loaded:s}),t[1]]},Or=e=>function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return $t.asap(()=>e(...r))},Fr=br.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,br.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(br.origin),br.navigator&&/(msie|trident)/i.test(br.navigator.userAgent)):()=>!0,zr=br.hasStandardBrowserEnv?{write(e,t,r,s,a,n){const l=[e+"="+encodeURIComponent(t)];$t.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),$t.isString(s)&&l.push("path="+s),$t.isString(a)&&l.push("domain="+a),!0===n&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Ur(e,t,r){let s=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(s||0==r)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Hr=e=>e instanceof Cr?Ue({},e):e;function Br(e,t){t=t||{};const r={};function s(e,t,r,s){return $t.isPlainObject(e)&&$t.isPlainObject(t)?$t.merge.call({caseless:s},e,t):$t.isPlainObject(t)?$t.merge({},t):$t.isArray(t)?t.slice():t}function a(e,t,r,a){return $t.isUndefined(t)?$t.isUndefined(e)?void 0:s(void 0,e,0,a):s(e,t,0,a)}function n(e,t){if(!$t.isUndefined(t))return s(void 0,t)}function l(e,t){return $t.isUndefined(t)?$t.isUndefined(e)?void 0:s(void 0,e):s(void 0,t)}function o(r,a,n){return n in t?s(r,a):n in e?s(void 0,r):void 0}const i={url:n,method:n,data:n,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(e,t,r)=>a(Hr(e),Hr(t),0,!0)};return $t.forEach(Object.keys(Ue(Ue({},e),t)),function(s){const n=i[s]||a,l=n(e[s],t[s],s);$t.isUndefined(l)&&n!==o||(r[s]=l)}),r}const Wr=e=>{const t=Br({},e);let{data:r,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:n,headers:l,auth:o}=t;if(t.headers=l=Cr.from(l),t.url=ir(Ur(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),$t.isFormData(r))if(br.hasStandardBrowserEnv||br.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if($t.isFunction(r.getHeaders)){const e=r.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[r,s]=e;t.includes(r.toLowerCase())&&l.set(r,s)})}if(br.hasStandardBrowserEnv&&(s&&$t.isFunction(s)&&(s=s(t)),s||!1!==s&&Fr(t.url))){const e=a&&n&&zr.read(n);e&&l.set(a,e)}return t},qr="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,r){const s=Wr(e);let a=s.data;const n=Cr.from(s.headers).normalize();let l,o,i,c,d,{responseType:u,onUploadProgress:m,onDownloadProgress:x}=s;function h(){c&&c(),d&&d(),s.cancelToken&&s.cancelToken.unsubscribe(l),s.signal&&s.signal.removeEventListener("abort",l)}let p=new XMLHttpRequest;function f(){if(!p)return;const s=Cr.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders());Rr(function(e){t(e),h()},function(e){r(e),h()},{data:u&&"text"!==u&&"json"!==u?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:s,config:e,request:p}),p=null}p.open(s.method.toUpperCase(),s.url,!0),p.timeout=s.timeout,"onloadend"in p?p.onloadend=f:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(f)},p.onabort=function(){p&&(r(new Jt("Request aborted",Jt.ECONNABORTED,e,p)),p=null)},p.onerror=function(t){const s=t&&t.message?t.message:"Network Error",a=new Jt(s,Jt.ERR_NETWORK,e,p);a.event=t||null,r(a),p=null},p.ontimeout=function(){let t=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const a=s.transitional||dr;s.timeoutErrorMessage&&(t=s.timeoutErrorMessage),r(new Jt(t,a.clarifyTimeoutError?Jt.ETIMEDOUT:Jt.ECONNABORTED,e,p)),p=null},void 0===a&&n.setContentType(null),"setRequestHeader"in p&&$t.forEach(n.toJSON(),function(e,t){p.setRequestHeader(t,e)}),$t.isUndefined(s.withCredentials)||(p.withCredentials=!!s.withCredentials),u&&"json"!==u&&(p.responseType=s.responseType),x&&([i,d]=Dr(x,!0),p.addEventListener("progress",i)),m&&p.upload&&([o,c]=Dr(m),p.upload.addEventListener("progress",o),p.upload.addEventListener("loadend",c)),(s.cancelToken||s.signal)&&(l=t=>{p&&(r(!t||t.type?new Lr(null,e,p):t),p.abort(),p=null)},s.cancelToken&&s.cancelToken.subscribe(l),s.signal&&(s.signal.aborted?l():s.signal.addEventListener("abort",l)));const b=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(s.url);b&&-1===br.protocols.indexOf(b)?r(new Jt("Unsupported protocol "+b+":",Jt.ERR_BAD_REQUEST,e)):p.send(a||null)})},Vr=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r,s=new AbortController;const a=function(e){if(!r){r=!0,l();const t=e instanceof Error?e:this.reason;s.abort(t instanceof Jt?t:new Lr(t instanceof Error?t.message:t))}};let n=t&&setTimeout(()=>{n=null,a(new Jt("timeout ".concat(t," of ms exceeded"),Jt.ETIMEDOUT))},t);const l=()=>{e&&(n&&clearTimeout(n),n=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)}),e=null)};e.forEach(e=>e.addEventListener("abort",a));const{signal:o}=s;return o.unsubscribe=()=>$t.asap(l),o}};function Gr(e,t){this.v=e,this.k=t}function $r(e){return function(){return new Yr(e.apply(this,arguments))}}function Yr(e){var t,r;function s(t,r){try{var n=e[t](r),l=n.value,o=l instanceof Gr;Promise.resolve(o?l.v:l).then(function(r){if(o){var i="return"===t?"return":"next";if(!l.k||r.done)return s(i,r);r=e[i](r).value}a(n.done?"return":"normal",r)},function(e){s("throw",e)})}catch(e){a("throw",e)}}function a(e,a){switch(e){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?s(t.key,t.arg):r=null}this._invoke=function(e,a){return new Promise(function(n,l){var o={key:e,arg:a,resolve:n,reject:l,next:null};r?r=r.next=o:(t=r=o,s(e,a))})},"function"!=typeof e.return&&(this.return=void 0)}function Qr(e){return new Gr(e,0)}function Kr(e){var t={},r=!1;function s(t,s){return r=!0,s=new Promise(function(r){r(e[t](s))}),{done:!1,value:new Gr(s,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return r?(r=!1,e):s("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(r)throw r=!1,e;return s("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return r?(r=!1,e):s("return",e)}),t}function Jr(e){var t,r,s,a=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,s=Symbol.iterator);a--;){if(r&&null!=(t=e[r]))return t.call(e);if(s&&null!=(t=e[s]))return new Xr(t.call(e));r="@@asyncIterator",s="@@iterator"}throw new TypeError("Object is not async iterable")}function Xr(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return Xr=function(e){this.s=e,this.n=e.next},Xr.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new Xr(e)}Yr.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Yr.prototype.next=function(e){return this._invoke("next",e)},Yr.prototype.throw=function(e){return this._invoke("throw",e)},Yr.prototype.return=function(e){return this._invoke("return",e)};const Zr=function*(e,t){let r=e.byteLength;if(!t||r<t)return void(yield e);let s,a=0;for(;a<r;)s=a+t,yield e.slice(a,s),a=s},es=function(){var e=$r(function*(e,t){var r,s=!1,a=!1;try{for(var n,l=Jr(ts(e));s=!(n=yield Qr(l.next())).done;s=!1){const e=n.value;yield*Kr(Jr(Zr(e,t)))}}catch(o){a=!0,r=o}finally{try{s&&null!=l.return&&(yield Qr(l.return()))}finally{if(a)throw r}}});return function(t,r){return e.apply(this,arguments)}}(),ts=function(){var e=$r(function*(e){if(e[Symbol.asyncIterator])return void(yield*Kr(Jr(e)));const t=e.getReader();try{for(;;){const{done:e,value:r}=yield Qr(t.read());if(e)break;yield r}}finally{yield Qr(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),rs=(e,t,r,s)=>{const a=es(e,t);let n,l=0,o=e=>{n||(n=!0,s&&s(e))};return new ReadableStream({async pull(e){try{const{done:t,value:s}=await a.next();if(t)return o(),void e.close();let n=s.byteLength;if(r){let e=l+=n;r(e)}e.enqueue(new Uint8Array(s))}catch(t){throw o(t),t}},cancel:e=>(o(e),a.return())},{highWaterMark:2})},{isFunction:ss}=$t,as=(e=>{let{Request:t,Response:r}=e;return{Request:t,Response:r}})($t.global),{ReadableStream:ns,TextEncoder:ls}=$t.global,os=function(e){try{for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];return!!e(...r)}catch(To){return!1}},is=e=>{e=$t.merge.call({skipUndefined:!0},as,e);const{fetch:t,Request:r,Response:s}=e,a=t?ss(t):"function"===typeof fetch,n=ss(r),l=ss(s);if(!a)return!1;const o=a&&ss(ns),i=a&&("function"===typeof ls?(c=new ls,e=>c.encode(e)):async e=>new Uint8Array(await new r(e).arrayBuffer()));var c;const d=n&&o&&os(()=>{let e=!1;const t=new r(br.origin,{body:new ns,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),u=l&&o&&os(()=>$t.isReadableStream(new s("").body)),m={stream:u&&(e=>e.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!m[e]&&(m[e]=(t,r)=>{let s=t&&t[e];if(s)return s.call(t);throw new Jt("Response type '".concat(e,"' is not supported"),Jt.ERR_NOT_SUPPORT,r)})});const x=async(e,t)=>{const s=$t.toFiniteNumber(e.getContentLength());return null==s?(async e=>{if(null==e)return 0;if($t.isBlob(e))return e.size;if($t.isSpecCompliantForm(e)){const t=new r(br.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return $t.isArrayBufferView(e)||$t.isArrayBuffer(e)?e.byteLength:($t.isURLSearchParams(e)&&(e+=""),$t.isString(e)?(await i(e)).byteLength:void 0)})(t):s};return async e=>{let{url:a,method:l,data:o,signal:i,cancelToken:c,timeout:h,onDownloadProgress:p,onUploadProgress:f,responseType:b,headers:g,withCredentials:y="same-origin",fetchOptions:v}=Wr(e),j=t||fetch;b=b?(b+"").toLowerCase():"text";let N=Vr([i,c&&c.toAbortSignal()],h),w=null;const _=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let k;try{if(f&&d&&"get"!==l&&"head"!==l&&0!==(k=await x(g,o))){let e,t=new r(a,{method:"POST",body:o,duplex:"half"});if($t.isFormData(o)&&(e=t.headers.get("content-type"))&&g.setContentType(e),t.body){const[e,r]=Ir(k,Dr(Or(f)));o=rs(t.body,65536,e,r)}}$t.isString(y)||(y=y?"include":"omit");const t=n&&"credentials"in r.prototype,i=Ue(Ue({},v),{},{signal:N,method:l.toUpperCase(),headers:g.normalize().toJSON(),body:o,duplex:"half",credentials:t?y:void 0});w=n&&new r(a,i);let c=await(n?j(w,v):j(a,i));const h=u&&("stream"===b||"response"===b);if(u&&(p||h&&_)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=c[t]});const t=$t.toFiniteNumber(c.headers.get("content-length")),[r,a]=p&&Ir(t,Dr(Or(p),!0))||[];c=new s(rs(c.body,65536,r,()=>{a&&a(),_&&_()}),e)}b=b||"text";let S=await m[$t.findKey(m,b)||"text"](c,e);return!h&&_&&_(),await new Promise((t,r)=>{Rr(t,r,{data:S,headers:Cr.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:w})})}catch(S){if(_&&_(),S&&"TypeError"===S.name&&/Load failed|fetch/i.test(S.message))throw Object.assign(new Jt("Network Error",Jt.ERR_NETWORK,e,w),{cause:S.cause||S});throw Jt.from(S,S&&S.code,e,w)}}},cs=new Map,ds=e=>{let t=e?e.env:{};const{fetch:r,Request:s,Response:a}=t,n=[s,a,r];let l,o,i=n.length,c=cs;for(;i--;)l=n[i],o=c.get(l),void 0===o&&c.set(l,o=i?new Map:is(t)),c=o;return o},us=(ds(),{http:null,xhr:qr,fetch:{get:ds}});$t.forEach(us,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(To){}Object.defineProperty(e,"adapterName",{value:t})}});const ms=e=>"- ".concat(e),xs=e=>$t.isFunction(e)||null===e||!1===e,hs=(e,t)=>{e=$t.isArray(e)?e:[e];const{length:r}=e;let s,a;const n={};for(let l=0;l<r;l++){let r;if(s=e[l],a=s,!xs(s)&&(a=us[(r=String(s)).toLowerCase()],void 0===a))throw new Jt("Unknown adapter '".concat(r,"'"));if(a&&($t.isFunction(a)||(a=a.get(t))))break;n[r||"#"+l]=a}if(!a){const e=Object.entries(n).map(e=>{let[t,r]=e;return"adapter ".concat(t," ")+(!1===r?"is not supported by the environment":"is not available in the build")});let t=r?e.length>1?"since :\n"+e.map(ms).join("\n"):" "+ms(e[0]):"as no adapter specified";throw new Jt("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return a};function ps(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Lr(null,e)}function fs(e){ps(e),e.headers=Cr.from(e.headers),e.data=Er.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return hs(e.adapter||vr.adapter,e)(e).then(function(t){return ps(e),t.data=Er.call(e,e.transformResponse,t),t.headers=Cr.from(t.headers),t},function(t){return Tr(t)||(ps(e),t&&t.response&&(t.response.data=Er.call(e,e.transformResponse,t.response),t.response.headers=Cr.from(t.response.headers))),Promise.reject(t)})}const bs="1.12.2",gs={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{gs[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const ys={};gs.transitional=function(e,t,r){function s(e,t){return"[Axios v"+bs+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,a,n)=>{if(!1===e)throw new Jt(s(a," has been removed"+(t?" in "+t:"")),Jt.ERR_DEPRECATED);return t&&!ys[a]&&(ys[a]=!0,console.warn(s(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,a,n)}},gs.spelling=function(e){return(t,r)=>(console.warn("".concat(r," is likely a misspelling of ").concat(e)),!0)};const vs={assertOptions:function(e,t,r){if("object"!==typeof e)throw new Jt("options must be an object",Jt.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let a=s.length;for(;a-- >0;){const n=s[a],l=t[n];if(l){const t=e[n],r=void 0===t||l(t,n,e);if(!0!==r)throw new Jt("option "+n+" must be "+r,Jt.ERR_BAD_OPTION_VALUE);continue}if(!0!==r)throw new Jt("Unknown option "+n,Jt.ERR_BAD_OPTION)}},validators:gs},js=vs.validators;class Ns{constructor(e){this.defaults=e||{},this.interceptors={request:new cr,response:new cr}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{r.stack?t&&!String(r.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(r.stack+="\n"+t):r.stack=t}catch(To){}}throw r}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Br(this.defaults,t);const{transitional:r,paramsSerializer:s,headers:a}=t;void 0!==r&&vs.assertOptions(r,{silentJSONParsing:js.transitional(js.boolean),forcedJSONParsing:js.transitional(js.boolean),clarifyTimeoutError:js.transitional(js.boolean)},!1),null!=s&&($t.isFunction(s)?t.paramsSerializer={serialize:s}:vs.assertOptions(s,{encode:js.function,serialize:js.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),vs.assertOptions(t,{baseUrl:js.spelling("baseURL"),withXsrfToken:js.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let n=a&&$t.merge(a.common,a[t.method]);a&&$t.forEach(["delete","get","head","post","put","patch","common"],e=>{delete a[e]}),t.headers=Cr.concat(n,a);const l=[];let o=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,l.unshift(e.fulfilled,e.rejected))});const i=[];let c;this.interceptors.response.forEach(function(e){i.push(e.fulfilled,e.rejected)});let d,u=0;if(!o){const e=[fs.bind(this),void 0];for(e.unshift(...l),e.push(...i),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=l.length;let m=t;for(;u<d;){const e=l[u++],t=l[u++];try{m=e(m)}catch(x){t.call(this,x);break}}try{c=fs.call(this,m)}catch(x){return Promise.reject(x)}for(u=0,d=i.length;u<d;)c=c.then(i[u++],i[u++]);return c}getUri(e){return ir(Ur((e=Br(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}$t.forEach(["delete","get","head","options"],function(e){Ns.prototype[e]=function(t,r){return this.request(Br(r||{},{method:e,url:t,data:(r||{}).data}))}}),$t.forEach(["post","put","patch"],function(e){function t(t){return function(r,s,a){return this.request(Br(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:s}))}}Ns.prototype[e]=t(),Ns.prototype[e+"Form"]=t(!0)});const ws=Ns;class _s{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const r=this;this.promise.then(e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null}),this.promise.then=e=>{let t;const s=new Promise(e=>{r.subscribe(e),t=e}).then(e);return s.cancel=function(){r.unsubscribe(t)},s},e(function(e,s,a){r.reason||(r.reason=new Lr(e,s,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new _s(function(t){e=t}),cancel:e}}}const ks=_s;const Ss={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ss).forEach(e=>{let[t,r]=e;Ss[r]=t});const Cs=Ss;const Es=function e(t){const r=new ws(t),s=ot(ws.prototype.request,r);return $t.extend(s,ws.prototype,r,{allOwnKeys:!0}),$t.extend(s,r,null,{allOwnKeys:!0}),s.create=function(r){return e(Br(t,r))},s}(vr);Es.Axios=ws,Es.CanceledError=Lr,Es.CancelToken=ks,Es.isCancel=Tr,Es.VERSION=bs,Es.toFormData=rr,Es.AxiosError=Jt,Es.Cancel=Es.CanceledError,Es.all=function(e){return Promise.all(e)},Es.spread=function(e){return function(t){return e.apply(null,t)}},Es.isAxiosError=function(e){return $t.isObject(e)&&!0===e.isAxiosError},Es.mergeConfig=Br,Es.AxiosHeaders=Cr,Es.formToJSON=e=>gr($t.isHTMLForm(e)?new FormData(e):e),Es.getAdapter=hs,Es.HttpStatusCode=Cs,Es.default=Es;const Ts=!1,Ps={apiBaseUrl:"https://golfapp1.onrender.com/api",isDevelopment:Ts,isProduction:!0,appName:"Golf League App"};const Ls=e=>{if(!e)return"";if(/^\d{4}-\d{2}-\d{2}$/.test(e))return e;try{return new Date(e).toISOString().split("T")[0]}catch(t){return e.split("T")[0]||""}},Rs=Es.create({baseURL:Ps.apiBaseUrl,headers:{"Content-Type":"application/json"}});Rs.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>(console.error("API Request Error:",e),Promise.reject(e))),Rs.interceptors.response.use(e=>e,e=>{var t,r,s;return console.error("API Response Error:",null===(t=e.response)||void 0===t?void 0:t.status,null===(r=e.config)||void 0===r?void 0:r.url,e.message),401===(null===(s=e.response)||void 0===s?void 0:s.status)&&(localStorage.removeItem("token"),window.location.href="#/login"),Promise.reject(e)});const Ms=()=>Rs.get("/users"),As=(e,t)=>Rs.put("/users/".concat(e),t),Ds=e=>Rs.get("/users/".concat(e,"/combined-stats")),Is=e=>Rs.get("/user-course-records/".concat(e)),Os=e=>Rs.get("/users/".concat(e,"/recent-simulator-rounds")),Fs=e=>{const t=new FormData;return t.append("scorecardPhoto",e),Rs.post("/tournaments/scorecard-photo",t,{headers:{"Content-Type":"multipart/form-data"}})},zs=e=>Rs.post("/scorecards",e),Us=(e,t)=>Rs.post("/tournaments/".concat(e,"/strokeplay-score"),t),Hs=e=>Rs.get("/tournaments/".concat(e,"/strokeplay-scores")),Bs=e=>Rs.get("/tournaments/".concat(e,"/scores")),Ws=e=>Rs.post("/auth/check-email",{email:e}),qs=e=>Rs.get("/auth/me",{headers:{Authorization:"Bearer ".concat(e)}}),Vs=e=>Rs.post("/tournaments",e),Gs=()=>Rs.get("/tournaments"),$s=e=>Rs.get("/tournaments/user/".concat(e)),Ys=()=>Rs.get("/tournaments/available"),Qs=(e,t)=>Rs.put("/tournaments/".concat(e),t),Ks=e=>Rs.delete("/tournaments/".concat(e)),Js=e=>Rs.get("/tournaments/".concat(e,"/participants")),Xs=(e,t)=>Rs.post("/tournaments/".concat(e,"/register"),{user_id:t}),Zs=(e,t)=>Rs.delete("/tournaments/".concat(e,"/unregister/").concat(t)),ea=e=>Rs.get("/tournaments/".concat(e,"/check-ins")),ta=(e,t,r)=>Rs.post("/tournaments/".concat(e,"/check-in"),{user_id:t,notes:r}),ra=(e,t)=>Rs.put("/tournaments/".concat(e,"/check-out/").concat(t)),sa=(e,t)=>Rs.get("/tournaments/".concat(e,"/payment-status/").concat(t)),aa=e=>Rs.get("/users/".concat(e,"/check-in-statuses")),na=e=>Rs.get("/tournaments/".concat(e,"/stats")),la=e=>Rs.get("/tournaments/".concat(e,"/matches")),oa=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;return Rs.post("/tournaments/".concat(e,"/generate-matches"),{format:t,minMatchesPerPlayer:r})},ia=(e,t,r)=>Rs.put("/tournaments/".concat(e,"/matches/").concat(t),r),ca=e=>Rs.get("/tournaments/".concat(e,"/teams")),da=(e,t,r)=>{const s=new URLSearchParams;return e&&s.append("search",e),t&&s.append("platform",t),r&&s.append("limit",r.toString()),Rs.get("/simulator-courses?".concat(s.toString()))},ua=e=>Rs.get("/simulator-courses/".concat(e)),ma=(e,t)=>Rs.put("/simulator-courses/".concat(e,"/par-values"),{par_values:t}),xa=(e,t,r,s)=>Rs.put("/simulator-courses/".concat(e,"/teebox-data"),{teebox:t,course_rating:r,course_slope:s}),ha=e=>Rs.get("/simulator-courses/".concat(e,"/teebox-data")),pa=(e,t)=>Rs.post("/tournaments/".concat(e,"/weekly-scorecard"),t),fa=(e,t)=>Rs.get("/tournaments/".concat(e,"/weekly-leaderboard?week_start_date=").concat(Ls(t))),ba=(e,t,r)=>Rs.get("/tournaments/".concat(e,"/weekly-matches/").concat(t,"?week_start_date=").concat(Ls(r))),ga=(e,t)=>Rs.get("/tournaments/".concat(e,"/weekly-field-stats?week_start_date=").concat(Ls(t))),ya=e=>{const t=e?"?club=".concat(encodeURIComponent(e)):"";return Rs.get("/club-pro/handicaps".concat(t))},va=e=>{const t=e?"?club=".concat(encodeURIComponent(e)):"";return Rs.get("/club-pro/player-tournaments".concat(t))},ja=Rs;var Na=r(579);const wa=(0,n.createContext)(void 0),_a=e=>{var t,r;let{children:s}=e;const[a,l]=(0,n.useState)(null),[o,i]=(0,n.useState)(()=>localStorage.getItem("token")),[c,d]=(0,n.useState)(!0),[u,m]=(0,n.useState)({isActive:!1,originalUser:null,viewAsRole:"",viewAsClub:""}),x=a&&("admin"===(null===(t=a.role)||void 0===t?void 0:t.toLowerCase())||"super admin"===(null===(r=a.role)||void 0===r?void 0:r.toLowerCase())||"Andrew"===a.first_name&&"George"===a.last_name);(0,n.useEffect)(()=>{(async()=>{if(o)try{const e=await qs(o);l(e.data.user)}catch(e){console.error("AuthContext: Token validation failed:",e),l(null),i(null),localStorage.removeItem("token")}else l(null);d(!1)})()},[o]);return(0,Na.jsx)(wa.Provider,{value:{user:a,token:o,login:async(e,t)=>{d(!0);try{const r=await((e,t)=>Rs.post("/auth/login",{email:e,password:t}))(e,t);i(r.data.token),localStorage.setItem("token",r.data.token),l(r.data.user)}catch(r){throw console.error("AuthContext: Login failed:",r),r}finally{d(!1)}},logout:()=>{l(null),i(null),localStorage.removeItem("token")},loading:c,refreshUser:async()=>{if(o)try{const e=await qs(o);l(e.data.user)}catch(e){console.error("AuthContext: Error refreshing user data:",e)}},viewAsMode:u,enterViewAsMode:(e,t)=>{if(!x)return void console.error("Only admins can enter view-as mode");const r=a,s=Ue(Ue({},r),{},{role:e,club:t});m({isActive:!0,originalUser:r,viewAsRole:e,viewAsClub:t}),l(s)},exitViewAsMode:()=>{u.isActive&&u.originalUser&&(l(u.originalUser),m({isActive:!1,originalUser:null,viewAsRole:"",viewAsClub:""}))},isAdmin:x},children:s})},ka=()=>{const e=(0,n.useContext)(wa);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},Sa=()=>{var e,t;const{user:r}=ka();return(0,Na.jsxs)("div",{className:"min-h-screen flex items-center justify-center relative overflow-hidden px-4 py-6 sm:py-8",children:[(0,Na.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,Na.jsx)("div",{className:"absolute top-10 left-4 w-12 h-12 sm:w-16 sm:h-16 md:w-20 md:h-20 bg-brand-neon-green/20 rounded-full animate-pulse"}),(0,Na.jsx)("div",{className:"absolute top-20 right-4 w-8 h-8 sm:w-12 sm:h-12 md:w-16 md:h-16 bg-white/10 rounded-full animate-bounce",style:{animationDelay:"1s"}}),(0,Na.jsx)("div",{className:"absolute bottom-16 left-1/4 w-6 h-6 sm:w-8 sm:h-8 md:w-12 md:h-12 bg-brand-neon-green/30 rounded-full animate-pulse",style:{animationDelay:"2s"}}),(0,Na.jsx)("div",{className:"absolute bottom-24 right-1/3 w-12 h-12 sm:w-16 sm:h-16 md:w-24 md:h-24 bg-white/5 rounded-full animate-pulse",style:{animationDelay:"0.5s"}})]}),(0,Na.jsx)("div",{className:"relative z-10 max-w-5xl mx-auto w-full",children:(0,Na.jsxs)("div",{className:"text-center mb-6 sm:mb-8 md:mb-12",children:[(0,Na.jsx)("div",{className:"mb-4 sm:mb-6 md:mb-8 transform hover:scale-105 transition-transform duration-300",children:(0,Na.jsx)("img",{src:"/logo_full_Light.png",alt:"Neighborhood National Logo",className:"h-16 w-auto sm:h-20 md:h-28 mx-auto drop-shadow-2xl"})}),(0,Na.jsx)("h1",{className:"text-3xl sm:text-4xl md:text-6xl lg:text-7xl font-black text-white mb-3 sm:mb-4 md:mb-6 leading-tight px-2",children:(0,Na.jsx)("span",{className:"bg-gradient-to-r from-brand-neon-green via-white to-brand-neon-green bg-clip-text text-transparent",children:"Player Portal"})}),(0,Na.jsxs)("p",{className:"text-base sm:text-lg md:text-2xl lg:text-3xl text-white/80 mb-4 sm:mb-6 md:mb-8 max-w-3xl mx-auto leading-relaxed px-4",children:["Your ",(0,Na.jsx)("span",{className:"text-brand-neon-green font-bold",children:"simulator rounds"})," now have a home.",(0,Na.jsx)("br",{className:"hidden sm:block"}),"Track, compete, and connect across all clubs."]}),(0,Na.jsxs)("div",{className:"flex flex-col sm:flex-row md:grid md:grid-cols-3 gap-3 sm:gap-4 md:gap-6 mb-6 sm:mb-8 md:mb-12 max-w-4xl mx-auto px-4",children:[(0,Na.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 sm:p-6 border border-white/20 hover:bg-white/15 transition-all duration-300 group",children:[(0,Na.jsx)(st,{className:"w-6 h-6 sm:w-8 sm:h-8 md:w-12 md:h-12 text-brand-neon-green mx-auto mb-2 sm:mb-3 md:mb-4 group-hover:scale-110 transition-transform"}),(0,Na.jsx)("h3",{className:"text-white font-bold text-sm sm:text-base md:text-lg mb-1 sm:mb-2",children:"Track Rounds"}),(0,Na.jsx)("p",{className:"text-white/70 text-xs sm:text-sm",children:"Log every simulator session with detailed scoring"})]}),(0,Na.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 sm:p-6 border border-white/20 hover:bg-white/15 transition-all duration-300 group",children:[(0,Na.jsx)(Ze,{className:"w-6 h-6 sm:w-8 sm:h-8 md:w-12 md:h-12 text-brand-neon-green mx-auto mb-2 sm:mb-3 md:mb-4 group-hover:scale-110 transition-transform"}),(0,Na.jsx)("h3",{className:"text-white font-bold text-sm sm:text-base md:text-lg mb-1 sm:mb-2",children:"Club Activity"}),(0,Na.jsx)("p",{className:"text-white/70 text-xs sm:text-sm",children:"See what's happening across all locations"})]}),(0,Na.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 sm:p-6 border border-white/20 hover:bg-white/15 transition-all duration-300 group",children:[(0,Na.jsx)(at,{className:"w-6 h-6 sm:w-8 sm:h-8 md:w-12 md:h-12 text-brand-neon-green mx-auto mb-2 sm:mb-3 md:mb-4 group-hover:scale-110 transition-transform"}),(0,Na.jsx)("h3",{className:"text-white font-bold text-sm sm:text-base md:text-lg mb-1 sm:mb-2",children:"Stay Connected"}),(0,Na.jsx)("p",{className:"text-white/70 text-xs sm:text-sm",children:"Compete and socialize with fellow members"})]})]}),(0,Na.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 md:gap-6 justify-center items-center px-4",children:[(0,Na.jsx)(Re,{to:r?"/profile":"/claim-account",className:"group transform hover:scale-105 transition-all duration-300 w-full sm:w-auto",children:(0,Na.jsxs)("div",{className:"bg-gradient-to-r from-brand-neon-green to-emerald-400 hover:from-emerald-400 hover:to-brand-neon-green text-brand-black px-4 py-3 sm:px-6 sm:py-4 md:px-10 md:py-5 rounded-xl sm:rounded-2xl font-bold text-base sm:text-lg md:text-xl shadow-2xl hover:shadow-brand-neon-green/25 transition-all duration-300 flex items-center justify-center min-h-[44px] w-full",children:[r?(0,Na.jsxs)(Na.Fragment,{children:[(0,Na.jsx)(nt,{className:"w-5 h-5 sm:w-6 sm:h-6 md:w-7 md:h-7 mr-2 sm:mr-2 md:mr-3"}),"Go to Profile"]}):(0,Na.jsxs)(Na.Fragment,{children:[(0,Na.jsx)(nt,{className:"w-5 h-5 sm:w-6 sm:h-6 md:w-7 md:h-7 mr-2 sm:mr-2 md:mr-3"}),"Claim Account"]}),(0,Na.jsx)(lt,{className:"w-4 h-4 sm:w-5 sm:h-5 md:w-6 md:h-6 ml-2 sm:ml-2 md:ml-3 group-hover:translate-x-2 transition-transform"})]})}),(0,Na.jsx)(Re,{to:"/leaderboard",className:"group transform hover:scale-105 transition-all duration-300 w-full sm:w-auto",children:(0,Na.jsxs)("div",{className:"bg-white/15 hover:bg-white/25 backdrop-blur-sm text-white border-2 border-white/30 hover:border-white/50 px-4 py-3 sm:px-6 sm:py-4 md:px-10 md:py-5 rounded-xl sm:rounded-2xl font-bold text-base sm:text-lg md:text-xl transition-all duration-300 flex items-center justify-center min-h-[44px] w-full",children:[(0,Na.jsx)(Je,{className:"w-5 h-5 sm:w-6 sm:h-6 md:w-7 md:h-7 mr-2 sm:mr-2 md:mr-3"}),"View Leaderboard",(0,Na.jsx)(lt,{className:"w-4 h-4 sm:w-5 sm:h-5 md:w-6 md:h-6 ml-2 sm:ml-2 md:ml-3 group-hover:translate-x-2 transition-transform"})]})})]}),r&&("admin"===(null===(e=r.role)||void 0===e?void 0:e.toLowerCase())||"super_admin"===(null===(t=r.role)||void 0===t?void 0:t.toLowerCase()))&&(0,Na.jsx)("div",{className:"mt-4 sm:mt-6 flex justify-center",children:(0,Na.jsx)(Re,{to:"/user-tracking",className:"group transform hover:scale-105 transition-all duration-300",children:(0,Na.jsxs)("div",{className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-3 sm:px-6 sm:py-4 rounded-xl sm:rounded-2xl font-bold text-base sm:text-lg transition-all duration-300 flex items-center justify-center min-h-[44px] shadow-lg hover:shadow-purple-500/25",children:[(0,Na.jsx)(Ze,{className:"w-5 h-5 sm:w-6 sm:h-6 mr-2 sm:mr-3"}),"User Management",(0,Na.jsx)(lt,{className:"w-4 h-4 sm:w-5 sm:h-5 ml-2 sm:ml-3 group-hover:translate-x-2 transition-transform"})]})})}),(0,Na.jsxs)("div",{className:"mt-6 sm:mt-8 md:mt-12 text-center px-4",children:[(0,Na.jsx)("p",{className:"text-white/60 text-xs sm:text-sm mb-2 sm:mb-3 md:mb-4",children:"Trusted by members across all Neighborhood National locations"}),(0,Na.jsxs)("div",{className:"flex flex-col sm:flex-row justify-center space-y-2 sm:space-y-0 sm:space-x-4 md:space-x-8 opacity-60",children:[(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"text-base sm:text-lg md:text-2xl font-bold text-brand-neon-green",children:"200+"}),(0,Na.jsx)("div",{className:"text-white/70 text-xs",children:"Active Members"})]}),(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"text-base sm:text-lg md:text-2xl font-bold text-brand-neon-green",children:"450+"}),(0,Na.jsx)("div",{className:"text-white/70 text-xs",children:"Rounds Tracked"})]}),(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"text-base sm:text-lg md:text-2xl font-bold text-brand-neon-green",children:"9"}),(0,Na.jsx)("div",{className:"text-white/70 text-xs",children:"Club Locations"})]})]})]})]})})]})},Ca=Ye("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Ea=Ye("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Ta=Ye("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),Pa=Ye("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),La=Ye("building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),Ra=Ye("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Ma=Ye("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),Aa=Ye("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),Da=Ye("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Ia=e=>{let{onTabChange:t,activeTab:r="club",clubData:s,loading:a=!1,error:l=null,timeFrame:o,onTimeFrameChange:i}=e;const{user:c}=ka(),[d,u]=(0,n.useState)("courseRecords"),m=e=>1===e?"\ud83e\udd47":2===e?"\ud83e\udd48":3===e?"\ud83e\udd49":e,x=()=>{if(!s)return[];switch(d){case"courseRecords":return s.playerRankings.courseRecords["monthly"===o?"monthly":"allTime"];case"roundsLogged":return s.playerRankings.roundsLogged["monthly"===o?"monthly":"allTime"];case"averageScore":return s.playerRankings.averageScore["monthly"===o?"monthly":"allTime"];default:return[]}},h=e=>{switch(d){case"courseRecords":return e.record_count||0;case"roundsLogged":return e.rounds_count||0;case"averageScore":return e.avg_score||0;default:return""}},p=()=>{switch(d){case"courseRecords":return"records";case"roundsLogged":return"rounds";default:return""}};return a?(0,Na.jsx)("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:(0,Na.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,Na.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-12 text-center",children:[(0,Na.jsx)(Ta,{className:"w-12 h-12 text-gray-400 mx-auto mb-4 animate-spin"}),(0,Na.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Loading Club Leaderboard"}),(0,Na.jsx)("p",{className:"text-gray-500",children:"Fetching player rankings..."})]})})}):l?(0,Na.jsx)("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:(0,Na.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,Na.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-12 text-center",children:[(0,Na.jsx)(Ta,{className:"w-12 h-12 text-red-400 mx-auto mb-4"}),(0,Na.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Data"}),(0,Na.jsx)("p",{className:"text-gray-500",children:l})]})})}):s?(0,Na.jsxs)("div",{className:"space-y-6 sm:space-y-8",children:[(0,Na.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4",children:[(0,Na.jsx)("div",{className:"bg-white p-3 sm:p-4 rounded-lg border border-gray-200",children:(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)(Ze,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-500 mr-2 sm:mr-3"}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:s.clubStats.total_players}),(0,Na.jsx)("p",{className:"text-xs sm:text-sm text-gray-500",children:"Club Members"})]})]})}),(0,Na.jsx)("div",{className:"bg-white p-3 sm:p-4 rounded-lg border border-gray-200",children:(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)(Ca,{className:"w-5 h-5 sm:w-6 sm:h-6 text-purple-500 mr-2 sm:mr-3"}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:s.clubStats.total_rounds}),(0,Na.jsx)("p",{className:"text-xs sm:text-sm text-gray-500",children:"Total Rounds"})]})]})}),(0,Na.jsx)("div",{className:"bg-white p-3 sm:p-4 rounded-lg border border-gray-200",children:(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)(Je,{className:"w-5 h-5 sm:w-6 sm:h-6 text-yellow-500 mr-2 sm:mr-3"}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:s.clubStats.total_records}),(0,Na.jsx)("p",{className:"text-xs sm:text-sm text-gray-500",children:"Club Records"})]})]})})]}),(0,Na.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm",children:[(0,Na.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsx)("div",{className:"flex items-center",children:(0,Na.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Player Rankings"})}),(0,Na.jsxs)("div",{className:"relative inline-flex bg-gray-100 rounded-lg p-1",children:[(0,Na.jsx)("button",{onClick:()=>i("allTime"),className:"px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 ".concat("allTime"===o?"bg-brand-neon-green text-white shadow-sm":"text-gray-600 hover:text-gray-900"),children:"All Time"}),(0,Na.jsx)("button",{onClick:()=>i("monthly"),className:"px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 ".concat("monthly"===o?"bg-brand-neon-green text-white shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Monthly"})]})]}),(0,Na.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"monthly"===o?"Last 30 Days":"All Time"})]}),(0,Na.jsx)("div",{className:"lg:hidden border-b border-gray-200",children:(0,Na.jsxs)("div",{className:"flex p-1",children:[(0,Na.jsxs)("button",{onClick:()=>u("courseRecords"),className:"flex-1 py-3 px-3 sm:px-4 text-sm font-medium rounded-md transition-colors ".concat("courseRecords"===d?"bg-brand-neon-green text-white":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:[(0,Na.jsx)(Je,{className:"w-4 h-4 inline mr-1 sm:mr-2"}),(0,Na.jsx)("span",{className:"hidden sm:inline",children:"Records"}),(0,Na.jsx)("span",{className:"sm:hidden",children:"Rec"})]}),(0,Na.jsxs)("button",{onClick:()=>u("roundsLogged"),className:"flex-1 py-3 px-3 sm:px-4 text-sm font-medium rounded-md transition-colors ".concat("roundsLogged"===d?"bg-brand-neon-green text-white":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:[(0,Na.jsx)(Ca,{className:"w-4 h-4 inline mr-1 sm:mr-2"}),(0,Na.jsx)("span",{className:"hidden sm:inline",children:"Rounds"}),(0,Na.jsx)("span",{className:"sm:hidden",children:"Rnd"})]}),(0,Na.jsxs)("button",{onClick:()=>u("averageScore"),className:"flex-1 py-3 px-3 sm:px-4 text-sm font-medium rounded-md transition-colors ".concat("averageScore"===d?"bg-brand-neon-green text-white":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:[(0,Na.jsx)(Ea,{className:"w-4 h-4 inline mr-1 sm:mr-2"}),(0,Na.jsx)("span",{className:"hidden sm:inline",children:"Average"}),(0,Na.jsx)("span",{className:"sm:hidden",children:"Avg"})]})]})}),(0,Na.jsx)("div",{className:"lg:hidden space-y-3 p-6",children:x().length>0?x().map((e,t)=>(0,Na.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-4 hover:shadow-md transition-shadow",children:(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Na.jsx)("div",{className:"flex items-center justify-center w-10 h-10 bg-gray-100 rounded-full flex-shrink-0",children:m(t+1)}),(0,Na.jsx)("div",{className:"flex-1 min-w-0",children:(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)("h3",{className:"font-semibold text-gray-900 text-base truncate",children:e.player_name}),e.player_id===(null===c||void 0===c?void 0:c.id)&&(0,Na.jsx)("span",{className:"ml-2 bg-brand-neon-green/10 text-brand-neon-green text-xs font-medium px-2 py-0.5 rounded-full border border-brand-neon-green/20 flex-shrink-0",children:"You"})]})})]}),(0,Na.jsxs)("div",{className:"text-right flex-shrink-0",children:[(0,Na.jsxs)("div",{className:"text-lg font-bold text-gray-900",children:[h(e),p()&&(0,Na.jsx)("span",{className:"text-sm text-gray-500 ml-1",children:p()})]}),"averageScore"===d&&"rounds_count"in e&&(0,Na.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["(",e.rounds_count," rounds)"]})]})]})},e.player_id)):(0,Na.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-8 text-center",children:[(0,Na.jsx)(Ta,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Na.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Data Available"}),(0,Na.jsx)("p",{className:"text-gray-500",children:"No players have data for this category and time frame."})]})}),(0,Na.jsx)("div",{className:"hidden lg:block",children:(0,Na.jsxs)("div",{className:"grid grid-cols-3 gap-6 p-6",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Na.jsx)(Je,{className:"w-5 h-5 text-yellow-500 mr-2"}),(0,Na.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Course Records"})]}),(0,Na.jsx)("div",{className:"space-y-3",children:s.playerRankings.courseRecords["monthly"===o?"monthly":"allTime"].map((e,t)=>(0,Na.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Na.jsx)("div",{className:"flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full",children:m(t+1)}),(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)("div",{className:"font-medium text-gray-900",children:e.player_name}),e.player_id===(null===c||void 0===c?void 0:c.id)&&(0,Na.jsx)("span",{className:"ml-2 bg-brand-neon-green/10 text-brand-neon-green text-xs font-medium px-2 py-0.5 rounded border border-brand-neon-green/20",children:"You"})]})]}),(0,Na.jsx)("div",{className:"text-right",children:(0,Na.jsxs)("div",{className:"text-lg font-semibold text-gray-900",children:[e.record_count||0," records"]})})]},e.player_id))})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Na.jsx)(Ca,{className:"w-5 h-5 text-purple-500 mr-2"}),(0,Na.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Rounds Logged"})]}),(0,Na.jsx)("div",{className:"space-y-3",children:s.playerRankings.roundsLogged["monthly"===o?"monthly":"allTime"].map((e,t)=>(0,Na.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Na.jsx)("div",{className:"flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full",children:m(t+1)}),(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)("div",{className:"font-medium text-gray-900",children:e.player_name}),e.player_id===(null===c||void 0===c?void 0:c.id)&&(0,Na.jsx)("span",{className:"ml-2 bg-brand-neon-green/10 text-brand-neon-green text-xs font-medium px-2 py-0.5 rounded border border-brand-neon-green/20",children:"You"})]})]}),(0,Na.jsx)("div",{className:"text-right",children:(0,Na.jsxs)("div",{className:"text-lg font-semibold text-gray-900",children:[e.rounds_count||0," rounds"]})})]},e.player_id))})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Na.jsx)(Ea,{className:"w-5 h-5 text-blue-500 mr-2"}),(0,Na.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Average Score"})]}),(0,Na.jsx)("div",{className:"space-y-3",children:s.playerRankings.averageScore["monthly"===o?"monthly":"allTime"].map((e,t)=>(0,Na.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Na.jsx)("div",{className:"flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full",children:m(t+1)}),(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)("div",{className:"font-medium text-gray-900",children:e.player_name}),e.player_id===(null===c||void 0===c?void 0:c.id)&&(0,Na.jsx)("span",{className:"ml-2 bg-brand-neon-green/10 text-brand-neon-green text-xs font-medium px-2 py-0.5 rounded border border-brand-neon-green/20",children:"You"})]})]}),(0,Na.jsxs)("div",{className:"text-right",children:[(0,Na.jsx)("div",{className:"text-lg font-semibold text-gray-900",children:e.avg_score||0}),(0,Na.jsxs)("div",{className:"text-sm text-gray-500",children:["(",e.rounds_count||0," rounds)"]})]})]},e.player_id))})]})]})})]})]}):(0,Na.jsx)("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:(0,Na.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,Na.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-12 text-center",children:[(0,Na.jsx)(Ze,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Na.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Club Data"}),(0,Na.jsx)("p",{className:"text-gray-500",children:"Unable to load club leaderboard data."})]})})})},Oa=Ye("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),Fa=Ye("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]),za=e=>{switch(e){case"eagle":return"bg-yellow-200 text-yellow-900";case"birdie":return"bg-green-200 text-green-900";case"bogey":return"bg-red-200 text-red-900";case"double":return"bg-blue-200 text-blue-900";default:return""}},Ua=e=>{var t,r;let{teamScore:s,courseData:a,tournamentSettings:n,onClose:l}=e;const{holeCount:o,startHole:i}=(()=>{const e=(null===n||void 0===n?void 0:n.holeConfiguration)||"18";return"9"===e||"9_front"===e?{holeCount:9,startHole:1}:"9_back"===e?{holeCount:9,startHole:10}:{holeCount:18,startHole:1}})(),c=(null===a||void 0===a||null===(t=a.par_values)||void 0===t?void 0:t.slice(i-1,i-1+o))||Array(o).fill(4),d=Array.from({length:o},(e,t)=>{var r;return(null===(r=s.hole_scores)||void 0===r?void 0:r[i+t])||0}),u=c.slice(0,9).reduce((e,t)=>e+t,0),m=c.slice(9,18).reduce((e,t)=>e+t,0),x=c.reduce((e,t)=>e+t,0),h=d.slice(0,9).reduce((e,t)=>e+t,0),p=d.slice(9,18).reduce((e,t)=>e+t,0),f=d.reduce((e,t)=>e+t,0),b=d.map((e,t)=>((e,t)=>0===e?"":e===t-2?"eagle":e===t-1?"birdie":e===t?"par":e===t+1?"bogey":e>=t+2?"double":"")(e,c[t]));return(0,Na.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Na.jsxs)("div",{className:"bg-white rounded-2xl p-6 w-full max-w-5xl max-h-[90vh] overflow-y-auto",children:[(0,Na.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Na.jsxs)("h3",{className:"text-2xl font-bold text-brand-black",children:["Detailed Scorecard - ",s.team_name]}),(0,Na.jsx)("button",{onClick:l,className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:(0,Na.jsx)(tt,{className:"w-6 h-6"})})]}),(0,Na.jsxs)("div",{className:"bg-neutral-50 rounded-lg p-4 mb-6",children:[(0,Na.jsx)("h4",{className:"text-lg font-semibold text-brand-black mb-3",children:"Players"}),(0,Na.jsx)("div",{className:"space-y-1",children:null===(r=s.players)||void 0===r?void 0:r.map((e,t)=>(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsxs)("span",{className:"text-sm text-neutral-600",children:[e.first_name," ",e.last_name]}),e.is_captain&&(0,Na.jsx)(Fa,{className:"w-3 h-3 text-yellow-500"}),(0,Na.jsxs)("span",{className:"text-xs text-neutral-500",children:["(",e.club,")"]})]},e.user_member_id))})]}),(0,Na.jsx)("div",{className:"overflow-x-auto",children:(0,Na.jsxs)("table",{className:"w-full text-center border-separate border-spacing-0",children:[(0,Na.jsx)("thead",{children:(0,Na.jsxs)("tr",{children:[(0,Na.jsx)("th",{className:"border-b px-2 py-1 text-xs font-bold text-neutral-600",children:"HOLE"}),Array.from({length:9},(e,t)=>(0,Na.jsx)("th",{className:"border-b px-2 py-1 text-xs font-bold text-neutral-600",children:t+1},t)),(0,Na.jsx)("th",{className:"border-b px-2 py-1 text-xs font-bold text-neutral-600",children:"OUT"}),o>9&&Array.from({length:9},(e,t)=>(0,Na.jsx)("th",{className:"border-b px-2 py-1 text-xs font-bold text-neutral-600",children:t+10},t+9)),o>9&&(0,Na.jsx)("th",{className:"border-b px-2 py-1 text-xs font-bold text-neutral-600",children:"IN"}),(0,Na.jsx)("th",{className:"border-b px-2 py-1 text-xs font-bold text-neutral-600",children:"TOT"})]})}),(0,Na.jsxs)("tbody",{children:[(0,Na.jsxs)("tr",{children:[(0,Na.jsx)("td",{className:"font-bold text-neutral-600",children:"Par"}),c.slice(0,9).map((e,t)=>(0,Na.jsx)("td",{className:"font-medium text-neutral-700",children:e},t)),(0,Na.jsx)("td",{className:"font-bold text-neutral-700",children:u}),o>9&&c.slice(9,18).map((e,t)=>(0,Na.jsx)("td",{className:"font-medium text-neutral-700",children:e},t+9)),o>9&&(0,Na.jsx)("td",{className:"font-bold text-neutral-700",children:m}),(0,Na.jsx)("td",{className:"font-bold text-neutral-900",children:x})]}),(0,Na.jsxs)("tr",{children:[(0,Na.jsx)("td",{className:"font-bold text-neutral-600",children:"Score"}),d.slice(0,9).map((e,t)=>(0,Na.jsx)("td",{className:"font-bold rounded ".concat(za(b[t])),children:e>0?e:""},t)),(0,Na.jsx)("td",{className:"font-bold text-neutral-900",children:h}),o>9&&d.slice(9,18).map((e,t)=>(0,Na.jsx)("td",{className:"font-bold rounded ".concat(za(b[t+9])),children:e>0?e:""},t+9)),o>9&&(0,Na.jsx)("td",{className:"font-bold text-neutral-900",children:p}),(0,Na.jsx)("td",{className:"font-bold text-neutral-900",children:f})]})]})]})}),(0,Na.jsxs)("div",{className:"flex flex-wrap items-center gap-4 mt-6 text-xs",children:[(0,Na.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Na.jsx)("span",{className:"inline-block w-4 h-4 bg-yellow-200 border border-yellow-400 mr-1"})," EAGLE"]}),(0,Na.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Na.jsx)("span",{className:"inline-block w-4 h-4 bg-green-200 border border-green-400 mr-1"})," BIRDIE"]}),(0,Na.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Na.jsx)("span",{className:"inline-block w-4 h-4 bg-red-200 border border-red-400 mr-1"})," BOGEY"]}),(0,Na.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Na.jsx)("span",{className:"inline-block w-4 h-4 bg-blue-200 border border-blue-400 mr-1"})," DBL BOGEY OR MORE"]})]})]})})},Ha=e=>{let{tournamentId:t,tournamentFormat:r,onRefresh:s,courseId:a,tournamentSettings:l,tournamentInfo:o}=e;const[i,c]=(0,n.useState)([]),[d,u]=(0,n.useState)([]),[m,x]=(0,n.useState)(!1),[h,p]=(0,n.useState)(null),[f,b]=(0,n.useState)(null),[g,y]=(0,n.useState)(!1),v=async()=>{try{x(!0);const e=await(e=>Rs.get("/tournaments/".concat(e,"/team-scores")))(t);c(e.data||[])}catch(e){console.error("Error fetching team scores:",e)}finally{x(!1)}},j=async()=>{try{const e=await Js(t);u(e.data||[])}catch(e){console.error("Error fetching tournament participants:",e)}},N=e=>{if(null===h||void 0===h||!h.par_values)return{relative:"".concat(e),total:"",color:"text-brand-black"};const t=(null===l||void 0===l?void 0:l.holeConfiguration)||"18";let r=1,s=18;"9"===t||"9_front"===t?(r=1,s=9):"9_back"===t?(r=10,s=9):(r=1,s=18);const a=e-h.par_values.slice(r-1,r-1+s).reduce((e,t)=>e+t,0);return 0===a?{relative:"E",total:"(".concat(e,")"),color:"text-neutral-900"}:a>0?{relative:"+".concat(a),total:"(".concat(e,")"),color:"text-blue-600"}:{relative:"".concat(a),total:"(".concat(e,")"),color:"text-red-600"}};(0,n.useEffect)(()=>{v(),j()},[t]),(0,n.useEffect)(()=>{(async()=>{if(a)try{const e=await ua(a);e.data&&p(e.data)}catch(e){console.error("Error fetching course data:",e)}})()},[a]);const w=e=>{switch(e){case 1:return(0,Na.jsx)(Je,{className:"w-5 h-5 text-yellow-500"});case 2:return(0,Na.jsx)(Ke,{className:"w-5 h-5 text-gray-400"});case 3:return(0,Na.jsx)(Oa,{className:"w-5 h-5 text-amber-600"});default:return(0,Na.jsx)("span",{className:"w-5 h-5 text-neutral-400 text-sm font-medium",children:e})}},_=e=>{if(!e)return"Unknown";try{const t="string"===typeof e?e.split("T")[0]:e;return new Date(t).toLocaleDateString()}catch(t){return"Invalid Date"}},k=e=>{b(e),y(!0)},S=[...i].sort((e,t)=>e.total_score-t.total_score),C=(()=>{const e=new Set;return i.forEach(t=>{t.players.forEach(t=>{e.add(t.user_member_id)})}),d.filter(t=>!e.has(t.user_member_id))})();return m?(0,Na.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,Na.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-neon-green"})}):(0,Na.jsxs)("div",{className:"space-y-6",children:[(0,Na.jsxs)("div",{className:"bg-white rounded-xl border border-neutral-200 p-6",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Na.jsx)(Je,{className:"w-6 h-6 text-brand-neon-green"}),(0,Na.jsx)("h3",{className:"text-xl font-bold text-brand-black",children:"Team Leaderboard"})]}),(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsx)("button",{onClick:()=>{v(),j()},className:"px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors",children:"Refresh"}),(0,Na.jsx)("button",{onClick:()=>{const e="".concat(window.location.origin,"/#/leaderboard/tournament/").concat(t);navigator.share?navigator.share({title:"".concat((null===o||void 0===o?void 0:o.name)||"Tournament"," Leaderboard"),text:"Check out the leaderboard for ".concat((null===o||void 0===o?void 0:o.name)||"this tournament","!"),url:e}).catch(()=>{navigator.clipboard.writeText(e)}):navigator.clipboard.writeText(e)},className:"px-4 py-2 bg-neutral-100 text-neutral-700 rounded-lg font-medium hover:bg-neutral-200 transition-colors",children:(0,Na.jsx)(Ma,{className:"w-4 h-4"})})]})]}),o&&(0,Na.jsxs)("div",{className:"mt-2 text-neutral-600",children:[(0,Na.jsx)("p",{className:"font-medium",children:o.name}),o.course_name&&(0,Na.jsx)("p",{className:"text-sm",children:o.course_name})]})]}),i.length>0&&(0,Na.jsxs)("div",{className:"bg-white rounded-xl border border-neutral-200 overflow-hidden",children:[(0,Na.jsx)("div",{className:"px-6 py-4 border-b border-neutral-200",children:(0,Na.jsx)("h4",{className:"text-lg font-semibold text-neutral-900",children:"Submitted Scores"})}),(0,Na.jsx)("div",{className:"hidden lg:block overflow-x-auto",children:(0,Na.jsxs)("table",{className:"w-full",children:[(0,Na.jsx)("thead",{className:"bg-neutral-50",children:(0,Na.jsxs)("tr",{children:[(0,Na.jsx)("th",{className:"px-6 py-4 text-left font-medium text-neutral-600",children:"Position"}),(0,Na.jsx)("th",{className:"px-6 py-4 text-left font-medium text-neutral-600",children:"Team"}),(0,Na.jsx)("th",{className:"px-6 py-4 text-left font-medium text-neutral-600",children:"Players"}),(0,Na.jsx)("th",{className:"px-6 py-4 text-center font-medium text-neutral-600",children:"Total Score"}),(0,Na.jsx)("th",{className:"px-6 py-4 text-center font-medium text-neutral-600",children:"To Par"}),(0,Na.jsx)("th",{className:"px-6 py-4 text-center font-medium text-neutral-600",children:"Submitted"}),(0,Na.jsx)("th",{className:"px-6 py-4 text-center font-medium text-neutral-600",children:"Details"})]})}),(0,Na.jsx)("tbody",{className:"divide-y divide-neutral-200",children:S.map((e,t)=>{var r;return(0,Na.jsxs)("tr",{className:"hover:bg-neutral-50 transition-colors",children:[(0,Na.jsx)("td",{className:"px-6 py-4",children:(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[w(t+1),(0,Na.jsx)("span",{className:"text-sm font-medium text-neutral-600",children:t+1})]})}),(0,Na.jsx)("td",{className:"px-6 py-4",children:(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsx)("span",{className:"font-semibold text-brand-black",children:e.team_name}),0===t&&(0,Na.jsx)(Fa,{className:"w-4 h-4 text-yellow-500"})]})}),(0,Na.jsx)("td",{className:"px-6 py-4",children:(0,Na.jsx)("div",{className:"space-y-1",children:null===(r=e.players)||void 0===r?void 0:r.map((e,t)=>(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsxs)("span",{className:"text-sm text-neutral-900",children:[e.first_name," ",e.last_name]}),e.is_captain&&(0,Na.jsx)(Fa,{className:"w-3 h-3 text-yellow-500"}),(0,Na.jsxs)("span",{className:"text-xs text-neutral-500",children:["(",e.club,")"]})]},e.user_member_id))})}),(0,Na.jsx)("td",{className:"px-6 py-4 text-center",children:(0,Na.jsx)("span",{className:"text-2xl font-bold text-brand-neon-green",children:e.total_score})}),(0,Na.jsx)("td",{className:"px-6 py-4 text-center",children:(()=>{const t=N(e.total_score);return(0,Na.jsx)("span",{className:"text-lg font-semibold ".concat(t.color),children:t.relative})})()}),(0,Na.jsx)("td",{className:"px-6 py-4 text-center",children:(0,Na.jsx)("span",{className:"text-sm text-neutral-600",children:_(e.submitted_at)})}),(0,Na.jsx)("td",{className:"px-6 py-4 text-center",children:(0,Na.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,Na.jsx)("button",{onClick:t=>{t.stopPropagation(),k(e)},className:"text-brand-neon-green hover:text-green-400 transition-colors",title:"View detailed scorecard",children:(0,Na.jsx)(Da,{className:"w-4 h-4"})}),(0,Na.jsx)(Ra,{className:"w-4 h-4 text-neutral-400"})]})})]},e.id)})})]})}),(0,Na.jsx)("div",{className:"lg:hidden",children:(0,Na.jsxs)("table",{className:"w-full",children:[(0,Na.jsx)("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:(0,Na.jsxs)("tr",{children:[(0,Na.jsx)("th",{className:"px-3 py-3 text-left text-xs font-semibold text-neutral-600",children:"Pos"}),(0,Na.jsx)("th",{className:"px-3 py-3 text-left text-xs font-semibold text-neutral-600",children:"Team"}),(0,Na.jsx)("th",{className:"px-3 py-3 text-center text-xs font-semibold text-neutral-600",children:"Score"})]})}),(0,Na.jsx)("tbody",{className:"divide-y divide-neutral-200",children:S.map((e,t)=>(0,Na.jsxs)("tr",{className:"hover:bg-neutral-50 transition-colors cursor-pointer",onClick:()=>k(e),children:[(0,Na.jsx)("td",{className:"px-3 py-3",children:(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[w(t+1),(0,Na.jsx)("span",{className:"text-sm font-medium text-neutral-600",children:t+1})]})}),(0,Na.jsx)("td",{className:"px-3 py-3",children:(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsx)("span",{className:"font-semibold text-brand-black text-sm",children:e.team_name}),0===t&&(0,Na.jsx)(Fa,{className:"w-3 h-3 text-yellow-500"})]})}),(0,Na.jsx)("td",{className:"px-3 py-3 text-center",children:(0,Na.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(()=>{const t=N(e.total_score);return(0,Na.jsxs)("span",{className:"flex items-center justify-center gap-1 text-lg",children:[(0,Na.jsx)("span",{className:"font-bold ".concat(t.color),children:t.relative}),(0,Na.jsx)("span",{className:"text-neutral-600 text-sm",children:t.total})]})})(),(0,Na.jsx)(Ra,{className:"w-4 h-4 text-neutral-400"})]})})]},e.id))})]})})]}),0===i.length&&(0,Na.jsx)("div",{className:"bg-white rounded-xl border border-neutral-200 p-6",children:(0,Na.jsxs)("div",{className:"text-center py-8",children:[(0,Na.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-neutral-100 rounded-full flex items-center justify-center",children:(0,Na.jsx)(Je,{className:"w-8 h-8 text-neutral-400"})}),(0,Na.jsx)("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"No scores submitted yet"}),(0,Na.jsx)("p",{className:"text-neutral-600",children:"Team captains need to submit their scores to see the leaderboard."})]})}),C.length>0&&(0,Na.jsxs)("div",{className:"bg-white rounded-xl border border-neutral-200 overflow-hidden",children:[(0,Na.jsx)("div",{className:"px-6 py-4 border-b border-neutral-200",children:(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsx)(Ze,{className:"w-5 h-5 text-neutral-600"}),(0,Na.jsx)("h4",{className:"text-lg font-semibold text-neutral-900",children:"Registered Participants"}),(0,Na.jsxs)("span",{className:"text-sm text-neutral-500",children:["(",C.length," waiting to submit scores)"]})]})}),(0,Na.jsx)("div",{className:"hidden lg:block overflow-x-auto",children:(0,Na.jsxs)("table",{className:"w-full",children:[(0,Na.jsx)("thead",{className:"bg-neutral-50",children:(0,Na.jsxs)("tr",{children:[(0,Na.jsx)("th",{className:"px-6 py-4 text-left font-medium text-neutral-600",children:"Name"}),(0,Na.jsx)("th",{className:"px-6 py-4 text-left font-medium text-neutral-600",children:"Club"}),(0,Na.jsx)("th",{className:"px-6 py-4 text-center font-medium text-neutral-600",children:"Status"})]})}),(0,Na.jsx)("tbody",{className:"divide-y divide-neutral-200",children:C.map(e=>(0,Na.jsxs)("tr",{className:"hover:bg-neutral-50 transition-colors",children:[(0,Na.jsx)("td",{className:"px-6 py-4",children:(0,Na.jsxs)("span",{className:"font-medium text-neutral-900",children:[e.first_name," ",e.last_name]})}),(0,Na.jsx)("td",{className:"px-6 py-4",children:(0,Na.jsx)("span",{className:"text-sm text-neutral-600",children:e.club})}),(0,Na.jsx)("td",{className:"px-6 py-4 text-center",children:(0,Na.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Waiting to Submit"})})]},e.user_member_id))})]})}),(0,Na.jsx)("div",{className:"lg:hidden",children:(0,Na.jsxs)("table",{className:"w-full",children:[(0,Na.jsx)("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:(0,Na.jsxs)("tr",{children:[(0,Na.jsx)("th",{className:"px-3 py-3 text-left text-xs font-semibold text-neutral-600",children:"Name"}),(0,Na.jsx)("th",{className:"px-3 py-3 text-left text-xs font-semibold text-neutral-600",children:"Club"}),(0,Na.jsx)("th",{className:"px-3 py-3 text-center text-xs font-semibold text-neutral-600",children:"Status"})]})}),(0,Na.jsx)("tbody",{className:"divide-y divide-neutral-200",children:C.map(e=>(0,Na.jsxs)("tr",{className:"hover:bg-neutral-50 transition-colors",children:[(0,Na.jsx)("td",{className:"px-3 py-3",children:(0,Na.jsxs)("span",{className:"font-medium text-neutral-900 text-sm",children:[e.first_name," ",e.last_name]})}),(0,Na.jsx)("td",{className:"px-3 py-3",children:(0,Na.jsx)("span",{className:"text-xs text-neutral-600",children:e.club})}),(0,Na.jsx)("td",{className:"px-3 py-3 text-center",children:(0,Na.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Waiting"})})]},e.user_member_id))})]})})]}),g&&f&&(0,Na.jsx)(Ua,{teamScore:f,courseData:h,tournamentSettings:l,onClose:()=>{y(!1),b(null)}})]})},Ba=e=>{let{tournamentId:t,tournamentFormat:r,onRefresh:s,tournamentInfo:a}=e;const[l,o]=(0,n.useState)([]),[i,c]=(0,n.useState)([]),[d,u]=(0,n.useState)(!1),[m,x]=(0,n.useState)([]),h=async()=>{try{u(!0);const e=await la(t);o(e.data||[])}catch(e){console.error("Error fetching tournament matches:",e)}finally{u(!1)}},p=async()=>{try{const e=await Js(t);c(e.data||[])}catch(e){console.error("Error fetching tournament participants:",e)}};(0,n.useEffect)(()=>{h(),p()},[t]),(0,n.useEffect)(()=>{(()=>{const e=new Map;console.log("Processing matches for leaderboard:",l),l.forEach(t=>{e.has(t.player1_id)||e.set(t.player1_id,{player_id:t.player1_id,first_name:t.player1_first_name,last_name:t.player1_last_name,matches_played:0,wins:0,losses:0,ties:0,points:0,win_rate:0}),e.has(t.player2_id)||e.set(t.player2_id,{player_id:t.player2_id,first_name:t.player2_first_name,last_name:t.player2_last_name,matches_played:0,wins:0,losses:0,ties:0,points:0,win_rate:0})}),l.forEach(t=>{if("completed"===t.status&&t.winner_id){const r=e.get(t.player1_id),s=e.get(t.player2_id);r.matches_played++,s.matches_played++,t.winner_id===t.player1_id?(r.wins++,s.losses++,r.points+=3,s.points+=0):t.winner_id===t.player2_id?(s.wins++,r.losses++,s.points+=3,r.points+=0):(r.ties++,s.ties++,r.points+=1,s.points+=1),r.win_rate=r.wins/r.matches_played*100,s.win_rate=s.wins/s.matches_played*100}});const t=Array.from(e.values()).sort((e,t)=>t.points!==e.points?t.points-e.points:t.win_rate-e.win_rate);x(t)})()},[l]);const f=e=>{switch(e){case 1:return(0,Na.jsx)(Je,{className:"w-5 h-5 text-yellow-500"});case 2:return(0,Na.jsx)(Ke,{className:"w-5 h-5 text-gray-400"});case 3:return(0,Na.jsx)(Oa,{className:"w-5 h-5 text-amber-600"});default:return(0,Na.jsx)("span",{className:"w-5 h-5 text-neutral-400 text-sm font-medium",children:e})}},b=(()=>{const e=new Set;return l.forEach(t=>{e.add(t.player1_id),e.add(t.player2_id)}),i.filter(t=>!e.has(t.user_member_id))})();return d?(0,Na.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,Na.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-neon-green"})}):(0,Na.jsxs)("div",{className:"space-y-6",children:[a&&(0,Na.jsx)("div",{className:"bg-white rounded-xl border border-neutral-200 p-6",children:(0,Na.jsx)("div",{className:"flex items-start justify-between",children:(0,Na.jsxs)("div",{className:"flex-1",children:[(0,Na.jsx)("h2",{className:"text-2xl font-bold text-brand-black mb-2",children:a.name}),a.description&&(0,Na.jsx)("p",{className:"text-neutral-600 mb-3",children:a.description}),(0,Na.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-neutral-500",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Na.jsx)(Je,{className:"w-4 h-4"}),(0,Na.jsx)("span",{children:(g=r,g.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase()))})]}),a.course_name&&(0,Na.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Na.jsx)("span",{children:"\ud83c\udfcc\ufe0f"}),(0,Na.jsx)("span",{children:a.course_name})]}),a.start_date&&(0,Na.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Na.jsx)("span",{children:"\ud83d\udcc5"}),(0,Na.jsx)("span",{children:new Date(a.start_date).toLocaleDateString()})]})]})]})})}),(0,Na.jsxs)("div",{className:"bg-white rounded-xl border border-neutral-200 p-6",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Na.jsx)(Je,{className:"w-6 h-6 text-brand-neon-green"}),(0,Na.jsx)("h3",{className:"text-xl font-bold text-brand-black",children:"Matchplay Leaderboard"})]}),(0,Na.jsx)("button",{onClick:()=>{h(),p()},className:"px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors",children:"Refresh"})]}),m.length>0&&(0,Na.jsxs)("div",{className:"bg-white rounded-xl border border-neutral-200 overflow-hidden mt-6",children:[(0,Na.jsx)("div",{className:"px-6 py-4 border-b border-neutral-200",children:(0,Na.jsx)("h4",{className:"text-lg font-semibold text-neutral-900",children:"Match Results"})}),(0,Na.jsx)("div",{className:"hidden lg:block overflow-x-auto",children:(0,Na.jsxs)("table",{className:"w-full",children:[(0,Na.jsx)("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:(0,Na.jsxs)("tr",{children:[(0,Na.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-neutral-600",children:"Position"}),(0,Na.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-neutral-600",children:"Player"}),(0,Na.jsx)("th",{className:"px-6 py-4 text-center text-sm font-semibold text-neutral-600",children:"Points"}),(0,Na.jsx)("th",{className:"px-6 py-4 text-center text-sm font-semibold text-neutral-600",children:"Matches"}),(0,Na.jsx)("th",{className:"px-6 py-4 text-center text-sm font-semibold text-neutral-600",children:"Wins"}),(0,Na.jsx)("th",{className:"px-6 py-4 text-center text-sm font-semibold text-neutral-600",children:"Losses"}),(0,Na.jsx)("th",{className:"px-6 py-4 text-center text-sm font-semibold text-neutral-600",children:"Ties"}),(0,Na.jsx)("th",{className:"px-6 py-4 text-center text-sm font-semibold text-neutral-600",children:"Win Rate"})]})}),(0,Na.jsx)("tbody",{className:"divide-y divide-neutral-200",children:m.map((e,t)=>(0,Na.jsxs)("tr",{className:"hover:bg-neutral-50 transition-colors",children:[(0,Na.jsx)("td",{className:"px-6 py-4",children:(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[f(t+1),(0,Na.jsx)("span",{className:"text-sm font-medium text-neutral-600",children:t+1})]})}),(0,Na.jsx)("td",{className:"px-6 py-4",children:(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsxs)("span",{className:"font-semibold text-brand-black",children:[e.first_name," ",e.last_name]}),0===t&&(0,Na.jsx)(Fa,{className:"w-4 h-4 text-yellow-500"})]})}),(0,Na.jsx)("td",{className:"px-6 py-4 text-center",children:(0,Na.jsx)("span",{className:"text-2xl font-bold text-brand-neon-green",children:e.points})}),(0,Na.jsx)("td",{className:"px-6 py-4 text-center",children:(0,Na.jsx)("span",{className:"text-neutral-900 font-medium",children:e.matches_played})}),(0,Na.jsx)("td",{className:"px-6 py-4 text-center",children:(0,Na.jsx)("span",{className:"text-green-600 font-medium",children:e.wins})}),(0,Na.jsx)("td",{className:"px-6 py-4 text-center",children:(0,Na.jsx)("span",{className:"text-red-600 font-medium",children:e.losses})}),(0,Na.jsx)("td",{className:"px-6 py-4 text-center",children:(0,Na.jsx)("span",{className:"text-neutral-600 font-medium",children:e.ties})}),(0,Na.jsx)("td",{className:"px-6 py-4 text-center",children:(0,Na.jsxs)("span",{className:"text-neutral-900 font-medium",children:[e.win_rate.toFixed(1),"%"]})})]},e.player_id))})]})}),(0,Na.jsx)("div",{className:"lg:hidden",children:(0,Na.jsxs)("table",{className:"w-full",children:[(0,Na.jsx)("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:(0,Na.jsxs)("tr",{children:[(0,Na.jsx)("th",{className:"px-3 py-3 text-left text-xs font-semibold text-neutral-600",children:"Pos"}),(0,Na.jsx)("th",{className:"px-3 py-3 text-left text-xs font-semibold text-neutral-600",children:"Player"}),(0,Na.jsx)("th",{className:"px-3 py-3 text-center text-xs font-semibold text-neutral-600",children:"Pts"}),(0,Na.jsx)("th",{className:"px-3 py-3 text-center text-xs font-semibold text-neutral-600",children:"W/L/T"})]})}),(0,Na.jsx)("tbody",{className:"divide-y divide-neutral-200",children:m.map((e,t)=>(0,Na.jsxs)("tr",{className:"hover:bg-neutral-50 transition-colors",children:[(0,Na.jsx)("td",{className:"px-3 py-3",children:(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[f(t+1),(0,Na.jsx)("span",{className:"text-sm font-medium text-neutral-600",children:t+1})]})}),(0,Na.jsx)("td",{className:"px-3 py-3",children:(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsxs)("span",{className:"font-semibold text-brand-black text-sm",children:[e.first_name," ",e.last_name]}),0===t&&(0,Na.jsx)(Fa,{className:"w-3 h-3 text-yellow-500"})]})}),(0,Na.jsx)("td",{className:"px-3 py-3 text-center",children:(0,Na.jsx)("span",{className:"text-lg font-bold text-brand-neon-green",children:e.points})}),(0,Na.jsx)("td",{className:"px-3 py-3 text-center",children:(0,Na.jsxs)("span",{className:"text-sm text-neutral-900",children:[e.wins,"/",e.losses,"/",e.ties]})})]},e.player_id))})]})})]}),0===m.length&&(0,Na.jsx)("div",{className:"bg-white rounded-xl border border-neutral-200 p-6 mt-6",children:(0,Na.jsxs)("div",{className:"text-center py-8",children:[(0,Na.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-neutral-100 rounded-full flex items-center justify-center",children:(0,Na.jsx)(Je,{className:"w-8 h-8 text-neutral-400"})}),(0,Na.jsx)("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"No matches completed yet"}),(0,Na.jsx)("p",{className:"text-neutral-600",children:"Complete some matches to see the leaderboard."})]})}),b.length>0&&(0,Na.jsxs)("div",{className:"bg-white rounded-xl border border-neutral-200 overflow-hidden mt-6",children:[(0,Na.jsx)("div",{className:"px-6 py-4 border-b border-neutral-200",children:(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsx)(Ze,{className:"w-5 h-5 text-neutral-600"}),(0,Na.jsx)("h4",{className:"text-lg font-semibold text-neutral-900",children:"Registered Participants"}),(0,Na.jsxs)("span",{className:"text-sm text-neutral-500",children:["(",b.length," waiting to play matches)"]})]})}),(0,Na.jsx)("div",{className:"hidden lg:block overflow-x-auto",children:(0,Na.jsxs)("table",{className:"w-full",children:[(0,Na.jsx)("thead",{className:"bg-neutral-50",children:(0,Na.jsxs)("tr",{children:[(0,Na.jsx)("th",{className:"px-6 py-4 text-left font-medium text-neutral-600",children:"Name"}),(0,Na.jsx)("th",{className:"px-6 py-4 text-left font-medium text-neutral-600",children:"Club"}),(0,Na.jsx)("th",{className:"px-6 py-4 text-center font-medium text-neutral-600",children:"Status"})]})}),(0,Na.jsx)("tbody",{className:"divide-y divide-neutral-200",children:b.map(e=>(0,Na.jsxs)("tr",{className:"hover:bg-neutral-50 transition-colors",children:[(0,Na.jsx)("td",{className:"px-6 py-4",children:(0,Na.jsxs)("span",{className:"font-medium text-neutral-900",children:[e.first_name," ",e.last_name]})}),(0,Na.jsx)("td",{className:"px-6 py-4",children:(0,Na.jsx)("span",{className:"text-sm text-neutral-600",children:e.club})}),(0,Na.jsx)("td",{className:"px-6 py-4 text-center",children:(0,Na.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Waiting to Play"})})]},e.user_member_id))})]})}),(0,Na.jsx)("div",{className:"lg:hidden",children:(0,Na.jsxs)("table",{className:"w-full",children:[(0,Na.jsx)("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:(0,Na.jsxs)("tr",{children:[(0,Na.jsx)("th",{className:"px-3 py-3 text-left text-xs font-semibold text-neutral-600",children:"Name"}),(0,Na.jsx)("th",{className:"px-3 py-3 text-left text-xs font-semibold text-neutral-600",children:"Club"}),(0,Na.jsx)("th",{className:"px-3 py-3 text-center text-xs font-semibold text-neutral-600",children:"Status"})]})}),(0,Na.jsx)("tbody",{className:"divide-y divide-neutral-200",children:b.map(e=>(0,Na.jsxs)("tr",{className:"hover:bg-neutral-50 transition-colors",children:[(0,Na.jsx)("td",{className:"px-3 py-3",children:(0,Na.jsxs)("span",{className:"font-medium text-neutral-900 text-sm",children:[e.first_name," ",e.last_name]})}),(0,Na.jsx)("td",{className:"px-3 py-3",children:(0,Na.jsx)("span",{className:"text-xs text-neutral-600",children:e.club})}),(0,Na.jsx)("td",{className:"px-3 py-3 text-center",children:(0,Na.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Waiting"})})]},e.user_member_id))})]})})]})]})]});var g},Wa=Ye("camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),qa=e=>{switch(e){case"eagle":return"bg-yellow-200 text-yellow-900";case"birdie":return"bg-green-200 text-green-900";case"bogey":return"bg-red-200 text-red-900";case"double":return"bg-blue-200 text-blue-900";default:return""}},Va=e=>{var t;let{playerScore:r,courseData:s,tournamentSettings:a,onClose:n}=e;const{holeCount:l,startHole:o}=(()=>{const e=(null===a||void 0===a?void 0:a.holeConfiguration)||"18";return"9"===e||"9_front"===e?{holeCount:9,startHole:1}:"9_back"===e?{holeCount:9,startHole:10}:{holeCount:18,startHole:1}})(),i=(null===s||void 0===s||null===(t=s.par_values)||void 0===t?void 0:t.slice(o-1,o-1+l))||Array(l).fill(4),c=Array.from({length:l},(e,t)=>{var s,a;const n=o+t;let l=null;return r.holes&&Array.isArray(r.holes)&&(l=r.holes.find(e=>e.hole===n)),l||!r.holes||"object"!==typeof r.holes||Array.isArray(r.holes)||(l={score:r.holes[n]}),!l&&null!==(s=r.holes)&&void 0!==s&&s.hole_scores&&(l={score:r.holes.hole_scores[n]}),(null===(a=l)||void 0===a?void 0:a.score)||0}),d=i.slice(0,9).reduce((e,t)=>e+t,0),u=i.slice(9,18).reduce((e,t)=>e+t,0),m=i.reduce((e,t)=>e+t,0),x=c.slice(0,9).reduce((e,t)=>e+t,0),h=c.slice(9,18).reduce((e,t)=>e+t,0),p=c.reduce((e,t)=>e+t,0),f=c.map((e,t)=>((e,t)=>0===e?"":e===t-2?"eagle":e===t-1?"birdie":e===t?"par":e===t+1?"bogey":e>=t+2?"double":"")(e,i[t]));return(0,Na.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Na.jsxs)("div",{className:"bg-white rounded-2xl p-6 w-full max-w-5xl max-h-[90vh] overflow-y-auto",children:[(0,Na.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Na.jsxs)("h3",{className:"text-2xl font-bold text-brand-black",children:["Detailed Scorecard - ",r.first_name," ",r.last_name]}),(0,Na.jsx)("button",{onClick:n,className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:(0,Na.jsx)(tt,{className:"w-6 h-6"})})]}),(0,Na.jsxs)("div",{className:"bg-neutral-50 rounded-lg p-4 mb-6",children:[(0,Na.jsx)("h4",{className:"text-lg font-semibold text-brand-black mb-3",children:"Player Information"}),(0,Na.jsxs)("div",{className:"space-y-1",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsxs)("span",{className:"text-sm text-neutral-600",children:[r.first_name," ",r.last_name]}),(0,Na.jsxs)("span",{className:"text-xs text-neutral-500",children:["(",r.club,")"]})]}),(0,Na.jsxs)("div",{className:"text-sm text-neutral-600",children:["Submitted: ",(e=>{if(!e)return"Unknown";try{const t=e.replace(/\.\d+$/,"");return new Date(t).toLocaleString()}catch(t){return"Invalid Date"}})(r.submitted_at)]}),(0,Na.jsxs)("div",{className:"text-sm text-neutral-600",children:["Total Score: ",(0,Na.jsx)("span",{className:"font-semibold text-brand-neon-green",children:r.total_score}),void 0!==r.score_to_par&&(0,Na.jsxs)("span",{className:"ml-2",children:["(",r.score_to_par>0?"+":"",r.score_to_par,")"]})]})]})]}),r.scorecard_photo_url&&(0,Na.jsxs)("div",{className:"mb-6",children:[(0,Na.jsx)("h4",{className:"text-lg font-semibold text-brand-black mb-3",children:"Scorecard Photo"}),(0,Na.jsxs)("div",{className:"relative",children:[(0,Na.jsx)("img",{src:r.scorecard_photo_url,alt:"Scorecard",className:"w-full max-w-md rounded-lg border border-neutral-200"}),(0,Na.jsx)("button",{onClick:()=>window.open(r.scorecard_photo_url,"_blank"),className:"absolute top-2 right-2 bg-white bg-opacity-90 rounded-full p-2 hover:bg-opacity-100 transition-colors",title:"View full size",children:(0,Na.jsx)(Wa,{className:"w-4 h-4 text-neutral-600"})})]})]}),(0,Na.jsx)("div",{className:"overflow-x-auto",children:(0,Na.jsxs)("table",{className:"w-full text-center border-separate border-spacing-0",children:[(0,Na.jsx)("thead",{children:(0,Na.jsxs)("tr",{children:[(0,Na.jsx)("th",{className:"border-b px-2 py-1 text-xs font-bold text-neutral-600",children:"HOLE"}),Array.from({length:9},(e,t)=>(0,Na.jsx)("th",{className:"border-b px-2 py-1 text-xs font-bold text-neutral-600",children:t+1},t)),(0,Na.jsx)("th",{className:"border-b px-2 py-1 text-xs font-bold text-neutral-600",children:"OUT"}),l>9&&Array.from({length:9},(e,t)=>(0,Na.jsx)("th",{className:"border-b px-2 py-1 text-xs font-bold text-neutral-600",children:t+10},t+9)),l>9&&(0,Na.jsx)("th",{className:"border-b px-2 py-1 text-xs font-bold text-neutral-600",children:"IN"}),(0,Na.jsx)("th",{className:"border-b px-2 py-1 text-xs font-bold text-neutral-600",children:"TOT"})]})}),(0,Na.jsxs)("tbody",{children:[(0,Na.jsxs)("tr",{children:[(0,Na.jsx)("td",{className:"font-bold text-neutral-600",children:"Par"}),i.slice(0,9).map((e,t)=>(0,Na.jsx)("td",{className:"font-medium text-neutral-700",children:e},t)),(0,Na.jsx)("td",{className:"font-bold text-neutral-700",children:d}),l>9&&i.slice(9,18).map((e,t)=>(0,Na.jsx)("td",{className:"font-medium text-neutral-700",children:e},t+9)),l>9&&(0,Na.jsx)("td",{className:"font-bold text-neutral-700",children:u}),(0,Na.jsx)("td",{className:"font-bold text-neutral-900",children:m})]}),(0,Na.jsxs)("tr",{children:[(0,Na.jsx)("td",{className:"font-bold text-neutral-600",children:"Score"}),c.slice(0,9).map((e,t)=>(0,Na.jsx)("td",{className:"font-bold rounded ".concat(qa(f[t])),children:e>0?e:""},t)),(0,Na.jsx)("td",{className:"font-bold text-neutral-900",children:x}),l>9&&c.slice(9,18).map((e,t)=>(0,Na.jsx)("td",{className:"font-bold rounded ".concat(qa(f[t+9])),children:e>0?e:""},t+9)),l>9&&(0,Na.jsx)("td",{className:"font-bold text-neutral-900",children:h}),(0,Na.jsx)("td",{className:"font-bold text-neutral-900",children:p})]})]})]})}),(0,Na.jsxs)("div",{className:"flex flex-wrap items-center gap-4 mt-6 text-xs",children:[(0,Na.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Na.jsx)("span",{className:"inline-block w-4 h-4 bg-yellow-200 border border-yellow-400 mr-1"})," EAGLE"]}),(0,Na.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Na.jsx)("span",{className:"inline-block w-4 h-4 bg-green-200 border border-green-400 mr-1"})," BIRDIE"]}),(0,Na.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Na.jsx)("span",{className:"inline-block w-4 h-4 bg-red-200 border border-red-400 mr-1"})," BOGEY"]}),(0,Na.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Na.jsx)("span",{className:"inline-block w-4 h-4 bg-blue-200 border border-blue-400 mr-1"})," DBL BOGEY OR MORE"]})]})]})})},Ga=e=>{let{tournamentId:t,tournamentFormat:r,onRefresh:s,courseId:a,tournamentInfo:l,tournamentSettings:o}=e;const[i,c]=(0,n.useState)([]),[d,u]=(0,n.useState)([]),[m,x]=(0,n.useState)(!1),[h,p]=(0,n.useState)([]),[f,b]=(0,n.useState)(null),[g,y]=(0,n.useState)(!1),[v,j]=(0,n.useState)(null),N=async()=>{try{x(!0);const e=await Hs(t);c(e.data||[])}catch(e){console.error("Error fetching strokeplay data:",e)}finally{x(!1)}},w=async()=>{try{const e=await Js(t);u(e.data||[])}catch(e){console.error("Error fetching tournament participants:",e)}};(0,n.useEffect)(()=>{N(),w()},[t]),(0,n.useEffect)(()=>{(async()=>{if(a)try{const e=await ua(a);e.data&&j(e.data)}catch(e){console.error("Error fetching course data:",e)}})()},[a]),(0,n.useEffect)(()=>{(()=>{const e=[];i.forEach((t,r)=>{const s={player_id:t.user_id,first_name:t.first_name,last_name:t.last_name,club:t.club,total_score:t.total_strokes,submitted_at:t.created_at,holes:t.scores};if(null!==v&&void 0!==v&&v.par_values&&t.scores){const e=(null===o||void 0===o?void 0:o.holeConfiguration)||"18";let r=1,a=18;"9"===e||"9_front"===e?(r=1,a=9):"9_back"===e?(r=10,a=9):(r=1,a=18);const n=v.par_values.slice(r-1,r-1+a).reduce((e,t)=>e+t,0);s.score_to_par=t.total_strokes-n}e.push(s)}),e.sort((e,t)=>e.total_score-t.total_score),p(e)})()},[i,v,o]);const _=e=>{switch(e){case 1:return(0,Na.jsx)(Je,{className:"w-5 h-5 text-yellow-500"});case 2:return(0,Na.jsx)(Ke,{className:"w-5 h-5 text-gray-400"});case 3:return(0,Na.jsx)(Oa,{className:"w-5 h-5 text-amber-600"});default:return(0,Na.jsx)("span",{className:"w-5 h-5 text-neutral-400 text-sm font-medium",children:e})}},k=e=>{if(!e)return"Unknown";try{const t=e.replace(/\.\d+$/,"");return new Date(t).toLocaleDateString()}catch(t){return"Invalid Date"}},S=e=>0===e?"E":e>0?"+".concat(e):"".concat(e),C=e=>e<0?"text-red-600":0===e?"text-neutral-900":"text-blue-600",E=e=>{b(e),y(!0)},T=(()=>{const e=new Set;return h.forEach(t=>{e.add(t.player_id)}),d.filter(t=>!e.has(t.user_member_id))})();return m?(0,Na.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,Na.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-neon-green"})}):(0,Na.jsxs)("div",{className:"space-y-6",children:[(0,Na.jsxs)("div",{className:"bg-white rounded-xl border border-neutral-200 p-6",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Na.jsx)(Je,{className:"w-6 h-6 text-brand-neon-green"}),(0,Na.jsx)("h3",{className:"text-xl font-bold text-brand-black",children:"Strokeplay Leaderboard"})]}),(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsx)("button",{onClick:()=>{N(),w()},className:"px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors",children:"Refresh"}),(0,Na.jsx)("button",{onClick:()=>{const e="".concat(window.location.origin,"/#/leaderboard/tournament/").concat(t);navigator.share?navigator.share({title:"".concat((null===l||void 0===l?void 0:l.name)||"Tournament"," Leaderboard"),text:"Check out the leaderboard for ".concat((null===l||void 0===l?void 0:l.name)||"this tournament","!"),url:e}).catch(()=>{navigator.clipboard.writeText(e)}):navigator.clipboard.writeText(e)},className:"px-4 py-2 bg-neutral-100 text-neutral-700 rounded-lg font-medium hover:bg-neutral-200 transition-colors",children:(0,Na.jsx)(Ma,{className:"w-4 h-4"})})]})]}),l&&(0,Na.jsxs)("div",{className:"mt-2 text-neutral-600",children:[(0,Na.jsx)("p",{className:"font-medium",children:l.name}),l.course_name&&(0,Na.jsx)("p",{className:"text-sm",children:l.course_name})]})]}),h.length>0&&(0,Na.jsxs)("div",{className:"bg-white rounded-xl border border-neutral-200 overflow-hidden",children:[(0,Na.jsx)("div",{className:"px-6 py-4 border-b border-neutral-200",children:(0,Na.jsx)("h4",{className:"text-lg font-semibold text-neutral-900",children:"Submitted Scores"})}),(0,Na.jsx)("div",{className:"hidden lg:block overflow-x-auto",children:(0,Na.jsxs)("table",{className:"w-full",children:[(0,Na.jsx)("thead",{className:"bg-neutral-50",children:(0,Na.jsxs)("tr",{children:[(0,Na.jsx)("th",{className:"px-6 py-4 text-left font-medium text-neutral-600",children:"Position"}),(0,Na.jsx)("th",{className:"px-6 py-4 text-left font-medium text-neutral-600",children:"Player"}),(0,Na.jsx)("th",{className:"px-6 py-4 text-center font-medium text-neutral-600",children:"Total Score"}),(0,Na.jsx)("th",{className:"px-6 py-4 text-center font-medium text-neutral-600",children:"To Par"}),(0,Na.jsx)("th",{className:"px-6 py-4 text-center font-medium text-neutral-600",children:"Submitted"}),(0,Na.jsx)("th",{className:"px-6 py-4 text-center font-medium text-neutral-600",children:"Details"})]})}),(0,Na.jsx)("tbody",{className:"divide-y divide-neutral-200",children:h.map((e,t)=>(0,Na.jsxs)("tr",{className:"hover:bg-neutral-50 transition-colors",children:[(0,Na.jsx)("td",{className:"px-6 py-4",children:(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[_(t+1),(0,Na.jsx)("span",{className:"text-sm font-medium text-neutral-600",children:t+1})]})}),(0,Na.jsxs)("td",{className:"px-6 py-4",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsxs)("span",{className:"font-semibold text-brand-black",children:[e.first_name," ",e.last_name]}),0===t&&(0,Na.jsx)(Fa,{className:"w-4 h-4 text-yellow-500"})]}),(0,Na.jsx)("div",{className:"text-sm text-neutral-600",children:e.club})]}),(0,Na.jsx)("td",{className:"px-6 py-4 text-center",children:(0,Na.jsx)("span",{className:"text-2xl font-bold text-brand-neon-green",children:e.total_score})}),(0,Na.jsx)("td",{className:"px-6 py-4 text-center",children:void 0!==e.score_to_par&&(0,Na.jsx)("span",{className:"text-lg font-semibold ".concat(C(e.score_to_par)),children:S(e.score_to_par)})}),(0,Na.jsx)("td",{className:"px-6 py-4 text-center",children:(0,Na.jsx)("span",{className:"text-sm text-neutral-600",children:k(e.submitted_at)})}),(0,Na.jsx)("td",{className:"px-6 py-4 text-center",children:(0,Na.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,Na.jsx)("button",{onClick:t=>{t.stopPropagation(),E(e)},className:"text-brand-neon-green hover:text-green-400 transition-colors",title:"View detailed scorecard",children:(0,Na.jsx)(Da,{className:"w-4 h-4"})}),e.scorecard_photo_url&&(0,Na.jsx)("button",{className:"text-blue-500 hover:text-blue-600 transition-colors",title:"View scorecard photo",onClick:()=>window.open(e.scorecard_photo_url,"_blank"),children:(0,Na.jsx)(Wa,{className:"w-4 h-4"})}),(0,Na.jsx)(Ra,{className:"w-4 h-4 text-neutral-400"})]})})]},e.player_id))})]})}),(0,Na.jsx)("div",{className:"lg:hidden",children:(0,Na.jsxs)("table",{className:"w-full",children:[(0,Na.jsx)("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:(0,Na.jsxs)("tr",{children:[(0,Na.jsx)("th",{className:"px-3 py-3 text-left text-xs font-semibold text-neutral-600",children:"Pos"}),(0,Na.jsx)("th",{className:"px-3 py-3 text-left text-xs font-semibold text-neutral-600",children:"Player"}),(0,Na.jsx)("th",{className:"px-3 py-3 text-center text-xs font-semibold text-neutral-600",children:"Score"})]})}),(0,Na.jsx)("tbody",{className:"divide-y divide-neutral-200",children:h.map((e,t)=>(0,Na.jsxs)("tr",{className:"hover:bg-neutral-50 transition-colors cursor-pointer",onClick:()=>E(e),children:[(0,Na.jsx)("td",{className:"px-3 py-3",children:(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[_(t+1),(0,Na.jsx)("span",{className:"text-sm font-medium text-neutral-600",children:t+1})]})}),(0,Na.jsxs)("td",{className:"px-3 py-3",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsxs)("span",{className:"font-semibold text-brand-black text-sm",children:[e.first_name," ",e.last_name]}),0===t&&(0,Na.jsx)(Fa,{className:"w-3 h-3 text-yellow-500"})]}),(0,Na.jsx)("div",{className:"text-xs text-neutral-600",children:e.club})]}),(0,Na.jsx)("td",{className:"px-3 py-3 text-center",children:(0,Na.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,Na.jsx)("span",{className:"text-lg font-bold text-brand-neon-green",children:e.total_score}),void 0!==e.score_to_par&&(0,Na.jsxs)("span",{className:"text-sm font-semibold ".concat(C(e.score_to_par)),children:["(",S(e.score_to_par),")"]}),(0,Na.jsx)(Ra,{className:"w-4 h-4 text-neutral-400"})]})})]},e.player_id))})]})})]}),0===h.length&&(0,Na.jsx)("div",{className:"bg-white rounded-xl border border-neutral-200 p-6",children:(0,Na.jsxs)("div",{className:"text-center py-8",children:[(0,Na.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-neutral-100 rounded-full flex items-center justify-center",children:(0,Na.jsx)(Je,{className:"w-8 h-8 text-neutral-400"})}),(0,Na.jsx)("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"No scores submitted yet"}),(0,Na.jsx)("p",{className:"text-neutral-600",children:"Players need to submit their scores to see the leaderboard."})]})}),T.length>0&&(0,Na.jsxs)("div",{className:"bg-white rounded-xl border border-neutral-200 overflow-hidden",children:[(0,Na.jsx)("div",{className:"px-6 py-4 border-b border-neutral-200",children:(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsx)(Ze,{className:"w-5 h-5 text-neutral-600"}),(0,Na.jsx)("h4",{className:"text-lg font-semibold text-neutral-900",children:"Registered Participants"}),(0,Na.jsxs)("span",{className:"text-sm text-neutral-500",children:["(",T.length," waiting to submit scores)"]})]})}),(0,Na.jsx)("div",{className:"hidden lg:block overflow-x-auto",children:(0,Na.jsxs)("table",{className:"w-full",children:[(0,Na.jsx)("thead",{className:"bg-neutral-50",children:(0,Na.jsxs)("tr",{children:[(0,Na.jsx)("th",{className:"px-6 py-4 text-left font-medium text-neutral-600",children:"Name"}),(0,Na.jsx)("th",{className:"px-6 py-4 text-left font-medium text-neutral-600",children:"Club"}),(0,Na.jsx)("th",{className:"px-6 py-4 text-center font-medium text-neutral-600",children:"Status"})]})}),(0,Na.jsx)("tbody",{className:"divide-y divide-neutral-200",children:T.map(e=>(0,Na.jsxs)("tr",{className:"hover:bg-neutral-50 transition-colors",children:[(0,Na.jsx)("td",{className:"px-6 py-4",children:(0,Na.jsxs)("span",{className:"font-medium text-neutral-900",children:[e.first_name," ",e.last_name]})}),(0,Na.jsx)("td",{className:"px-6 py-4",children:(0,Na.jsx)("span",{className:"text-sm text-neutral-600",children:e.club})}),(0,Na.jsx)("td",{className:"px-6 py-4 text-center",children:(0,Na.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Waiting to Submit"})})]},e.user_member_id))})]})}),(0,Na.jsx)("div",{className:"lg:hidden",children:(0,Na.jsxs)("table",{className:"w-full",children:[(0,Na.jsx)("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:(0,Na.jsxs)("tr",{children:[(0,Na.jsx)("th",{className:"px-3 py-3 text-left text-xs font-semibold text-neutral-600",children:"Name"}),(0,Na.jsx)("th",{className:"px-3 py-3 text-left text-xs font-semibold text-neutral-600",children:"Club"}),(0,Na.jsx)("th",{className:"px-3 py-3 text-center text-xs font-semibold text-neutral-600",children:"Status"})]})}),(0,Na.jsx)("tbody",{className:"divide-y divide-neutral-200",children:T.map(e=>(0,Na.jsxs)("tr",{className:"hover:bg-neutral-50 transition-colors",children:[(0,Na.jsx)("td",{className:"px-3 py-3",children:(0,Na.jsxs)("span",{className:"font-medium text-neutral-900 text-sm",children:[e.first_name," ",e.last_name]})}),(0,Na.jsx)("td",{className:"px-3 py-3",children:(0,Na.jsx)("span",{className:"text-xs text-neutral-600",children:e.club})}),(0,Na.jsx)("td",{className:"px-3 py-3 text-center",children:(0,Na.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Waiting"})})]},e.user_member_id))})]})})]}),g&&f&&(0,Na.jsx)(Va,{playerScore:f,courseData:v,tournamentSettings:o,onClose:()=>{y(!1),b(null)}})]})},$a=Ye("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),Ya=Ye("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),Qa=Ye("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Ka=Ye("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Ja=e=>{let{tournamentId:t,tournamentName:r,weekStartDate:s,tournamentStartDate:a,tournamentEndDate:l}=e;const[o,i]=(0,n.useState)([]),[c,d]=(0,n.useState)(!0),[u,m]=(0,n.useState)(null),[x,h]=(0,n.useState)(null),[p,f]=(0,n.useState)([]),[b,g]=(0,n.useState)(!1),[y,v]=(0,n.useState)(!1),j=(()=>{if(s)return s;if(a){return new Date(a).toISOString().split("T")[0]}const e=(new Date).toISOString().split("T")[0];return console.log("No tournament dates available, using current date:",e),e})();console.log("\ud83d\udcc5 currentWeek value:",j),(0,n.useEffect)(()=>{const e=()=>{v(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,n.useEffect)(()=>{if(console.log("\ud83d\udd04 useEffect triggered - tournamentId:",t,"currentWeek:",j),!t||t<=0)return console.log("\u274c Invalid tournament ID"),void m("Invalid tournament ID");console.log("\ud83d\ude80 Calling fetchLeaderboard..."),N()},[t,j]);const N=async()=>{console.log("\ud83c\udfc6 fetchLeaderboard called with tournamentId:",t,"currentWeek:",j);try{d(!0),m(null),console.log("\ud83d\udce1 Calling getWeeklyLeaderboard API...");const e=await fa(t,j);console.log("\ud83d\udce5 Leaderboard API Response:",e),e.data&&Array.isArray(e.data)?(console.log("\u2705 Setting leaderboard with",e.data.length,"players"),i(e.data)):(console.log("\u26a0\ufe0f Invalid response format from server"),m("Invalid response format from server"))}catch(s){var e,r;console.error("\u274c Error fetching leaderboard:",s),m((null===(e=s.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.error)||"Failed to fetch leaderboard")}finally{d(!1)}},w=async e=>{x===e?(h(null),f([])):(h(e),await(async e=>{try{g(!0);const r=await ba(t,e,j);f(r.data)}catch(r){}finally{g(!1)}})(e))},_=(e,t)=>(e.player1_id,e.match_winner_id===t?"W":null===e.match_winner_id?"T":"L"),k=e=>{switch(e){case"W":return"text-green-600 bg-green-100";case"L":return"text-red-600 bg-red-100";case"T":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}};return c?(0,Na.jsx)("div",{className:"max-w-6xl mx-auto p-4 md:p-6",children:(0,Na.jsxs)("div",{className:"animate-pulse",children:[(0,Na.jsx)("div",{className:"h-8 bg-gray-200 rounded mb-4"}),(0,Na.jsx)("div",{className:"space-y-3",children:Array.from({length:5},(e,t)=>(0,Na.jsx)("div",{className:"h-16 bg-gray-200 rounded"},t))})]})}):u?(0,Na.jsx)("div",{className:"max-w-6xl mx-auto p-4 md:p-6",children:(0,Na.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,Na.jsx)("p",{className:"text-red-800",children:u})})}):(0,Na.jsxs)("div",{className:"max-w-6xl mx-auto p-4 md:p-6",children:[(0,Na.jsxs)("div",{className:"mb-6",children:[(0,Na.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Na.jsxs)("h2",{className:"text-xl md:text-2xl font-bold text-gray-900",children:["Weekly Leaderboard - ",r]}),y?(0,Na.jsx)($a,{className:"w-5 h-5 text-blue-600"}):(0,Na.jsx)(Ya,{className:"w-5 h-5 text-gray-600"})]}),(0,Na.jsxs)("p",{className:"text-sm md:text-base text-gray-600",children:["Current Week: ",new Date(j).toLocaleDateString()]}),(0,Na.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"\ud83d\udca1 Click on any player row to view their detailed match results"}),(()=>{if(l){new Date(l),new Date;const e=new Date(l);e.setHours(23,59,59,999);const t=new Date;t.setHours(0,0,0,0),console.log("\ud83d\udd0d Tournament End Date Check:"),console.log("  End date (end of day):",e.toLocaleString()),console.log("  Current date (start of day):",t.toLocaleDateString()),console.log("  Tournament ended:",e<t)}if(!l)return null;const e=new Date(l);e.setHours(23,59,59,999);const t=new Date;t.setHours(0,0,0,0);return e<t?(0,Na.jsx)("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,Na.jsx)("p",{className:"text-sm text-yellow-800",children:"\ud83d\udcc5 This tournament has ended. You're viewing historical data from the tournament period."})}):null})()]}),0===o.length?(0,Na.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 md:p-6 text-center",children:[(0,Na.jsx)(Je,{className:"w-8 h-8 md:w-12 md:h-12 text-yellow-600 mx-auto mb-4"}),(0,Na.jsx)("h3",{className:"text-base md:text-lg font-semibold text-yellow-900 mb-2",children:"No Scores Submitted Yet"}),(0,Na.jsx)("p",{className:"text-sm md:text-base text-yellow-800",children:"Be the first to submit your 9-hole scorecard for this week!"})]}):(0,Na.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[!y&&(0,Na.jsx)("div",{className:"hidden md:block bg-gray-50 px-6 py-4 border-b",children:(0,Na.jsxs)("div",{className:"grid grid-cols-10 gap-4 text-sm font-medium text-gray-700",children:[(0,Na.jsx)("div",{className:"col-span-1",children:"Rank"}),(0,Na.jsx)("div",{className:"col-span-3",children:"Player"}),(0,Na.jsx)("div",{className:"col-span-1 text-center",children:"Hole Pts"}),(0,Na.jsx)("div",{className:"col-span-1 text-center",children:"Round Pts"}),(0,Na.jsx)("div",{className:"col-span-1 text-center",children:"Total"}),(0,Na.jsx)("div",{className:"col-span-2 text-center",children:"Record"}),(0,Na.jsx)("div",{className:"col-span-1 text-center",children:"Details"})]})}),(0,Na.jsx)("div",{className:"divide-y divide-gray-200",children:o.map((e,t)=>(0,Na.jsxs)("div",{children:[!y&&(0,Na.jsx)("div",{className:"hidden md:block px-6 py-4 hover:bg-gray-50 transition-colors cursor-pointer group border-l-4 border-l-transparent hover:border-l-blue-200",onClick:()=>w(e.user_id),children:(0,Na.jsxs)("div",{className:"grid grid-cols-10 gap-4 items-center",children:[(0,Na.jsx)("div",{className:"col-span-1",children:(0,Na.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ".concat(0===t?"bg-yellow-100 text-yellow-800":1===t?"bg-gray-100 text-gray-800":2===t?"bg-orange-100 text-orange-800":"bg-gray-50 text-gray-600"),children:t+1})}),(0,Na.jsxs)("div",{className:"col-span-3",children:[(0,Na.jsxs)("div",{className:"font-semibold text-gray-900",children:[e.first_name," ",e.last_name]}),(0,Na.jsx)("div",{className:"text-sm text-gray-500",children:e.club})]}),(0,Na.jsx)("div",{className:"col-span-1 text-center",children:(0,Na.jsx)("div",{className:"text-lg font-semibold text-blue-600",children:Number(e.total_hole_points||0).toFixed(1)})}),(0,Na.jsx)("div",{className:"col-span-1 text-center",children:(0,Na.jsx)("div",{className:"text-lg font-semibold text-green-600",children:Number(e.total_round_points||0).toFixed(1)})}),(0,Na.jsx)("div",{className:"col-span-1 text-center",children:(0,Na.jsx)("div",{className:"text-xl font-bold text-gray-900",children:Number(e.total_score||0).toFixed(1)})}),(0,Na.jsxs)("div",{className:"col-span-2 text-center",children:[(0,Na.jsxs)("div",{className:"text-sm",children:[(0,Na.jsxs)("span",{className:"font-semibold",children:[Number(e.matches_won||0),"W"]}),(0,Na.jsx)("span",{className:"text-gray-500",children:"-"}),(0,Na.jsxs)("span",{className:"font-semibold",children:[Number(e.matches_tied||0),"T"]}),(0,Na.jsx)("span",{className:"text-gray-500",children:"-"}),(0,Na.jsxs)("span",{className:"font-semibold",children:[Number(e.matches_lost||0),"L"]})]}),(0,Na.jsxs)("div",{className:"text-xs text-gray-500",children:["(",Number(e.matches_played||0)," played)"]})]}),(0,Na.jsx)("div",{className:"col-span-1 text-center",children:(0,Na.jsx)("button",{onClick:t=>{t.stopPropagation(),w(e.user_id)},className:"p-2 hover:bg-blue-100 rounded-lg transition-all duration-200 group-hover:bg-blue-50 transform hover:scale-105",title:x===e.user_id?"Hide match details":"View match details",children:x===e.user_id?(0,Na.jsx)(Qa,{className:"w-5 h-5 text-blue-600"}):(0,Na.jsx)(Ka,{className:"w-5 h-5 text-gray-500 group-hover:text-blue-600 transition-colors"})})})]})}),y&&(0,Na.jsxs)("div",{className:"md:hidden p-4 hover:bg-gray-50",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Na.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Na.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold ".concat(0===t?"bg-yellow-100 text-yellow-800":1===t?"bg-gray-100 text-gray-800":2===t?"bg-orange-100 text-orange-800":"bg-gray-50 text-gray-600"),children:t+1}),(0,Na.jsxs)("div",{children:[(0,Na.jsxs)("div",{className:"font-semibold text-gray-900 text-base",children:[e.first_name," ",e.last_name]}),(0,Na.jsx)("div",{className:"text-sm text-gray-500",children:e.club})]})]}),(0,Na.jsx)("button",{onClick:()=>w(e.user_id),className:"p-2 hover:bg-blue-100 rounded-lg transition-colors",title:x===e.user_id?"Hide match details":"View match details",children:x===e.user_id?(0,Na.jsx)(Qa,{className:"w-6 h-6 text-blue-600"}):(0,Na.jsx)(Ka,{className:"w-6 h-6 text-gray-500 hover:text-blue-600 transition-colors"})})]}),(0,Na.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-3",children:[(0,Na.jsxs)("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[(0,Na.jsx)("div",{className:"text-xs text-blue-600 font-medium mb-1",children:"Hole Pts"}),(0,Na.jsx)("div",{className:"text-lg font-bold text-blue-700",children:Number(e.total_hole_points||0).toFixed(1)})]}),(0,Na.jsxs)("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[(0,Na.jsx)("div",{className:"text-xs text-green-600 font-medium mb-1",children:"Round Pts"}),(0,Na.jsx)("div",{className:"text-lg font-bold text-green-700",children:Number(e.total_round_points||0).toFixed(1)})]}),(0,Na.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[(0,Na.jsx)("div",{className:"text-xs text-gray-600 font-medium mb-1",children:"Total"}),(0,Na.jsx)("div",{className:"text-xl font-bold text-gray-800",children:Number(e.total_score||0).toFixed(1)})]})]}),(0,Na.jsx)("div",{className:"flex items-center justify-between text-sm",children:(0,Na.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Na.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Na.jsxs)("span",{className:"font-semibold text-green-600",children:[Number(e.matches_won||0),"W"]}),(0,Na.jsx)("span",{className:"text-gray-400",children:"-"}),(0,Na.jsxs)("span",{className:"font-semibold text-yellow-600",children:[Number(e.matches_tied||0),"T"]}),(0,Na.jsx)("span",{className:"text-gray-400",children:"-"}),(0,Na.jsxs)("span",{className:"font-semibold text-red-600",children:[Number(e.matches_lost||0),"L"]})]}),(0,Na.jsxs)("span",{className:"text-gray-500",children:["(",Number(e.matches_played||0)," played)"]})]})}),(0,Na.jsx)("div",{className:"mt-3 text-center",children:(0,Na.jsx)("button",{onClick:()=>w(e.user_id),className:"flex items-center justify-center gap-2 w-full py-2 px-4 bg-blue-50 hover:bg-blue-100 rounded-lg transition-all duration-200 text-sm text-blue-700 font-medium transform hover:scale-105",title:x===e.user_id?"Hide match details":"View match details",children:x===e.user_id?(0,Na.jsxs)(Na.Fragment,{children:[(0,Na.jsx)(Qa,{className:"w-4 h-4"}),"Hide Match Details"]}):(0,Na.jsxs)(Na.Fragment,{children:[(0,Na.jsx)(Ka,{className:"w-4 h-4"}),"View Match Details"]})})})]}),x===e.user_id&&(0,Na.jsx)("div",{className:"bg-gray-50 px-4 md:px-6 py-4 border-t",children:b?(0,Na.jsx)("div",{className:"text-center py-4",children:(0,Na.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"})}):p.length>0?(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h4",{className:"font-semibold text-gray-900 mb-4 text-base md:text-lg",children:"Match Comparison Matrix"}),y?(0,Na.jsx)("div",{className:"space-y-4",children:p.map((t,r)=>{const s=t.player1_id===e.user_id,a=s?"".concat(t.player2_first_name," ").concat(t.player2_last_name):"".concat(t.player1_first_name," ").concat(t.player1_last_name),n=s?t.player2_id:t.player1_id,l=o.find(e=>e.user_id===n),i=(null===l||void 0===l?void 0:l.club)||"Unknown Club",c=_(t,e.user_id);return(0,Na.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("div",{className:"font-semibold text-gray-900",children:a}),(0,Na.jsxs)("div",{className:"text-sm text-gray-500",children:[i," Club"]})]}),(0,Na.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-bold ".concat(k(c)),children:c})]}),(0,Na.jsx)("div",{className:"grid grid-cols-3 gap-2 mb-3",children:Array.from({length:9},(e,r)=>{var a,n;const l=Number((null===(a=s?t.player1_scores:t.player2_scores)||void 0===a?void 0:a[r])||0),o=Number((null===(n=s?t.player2_scores:t.player1_scores)||void 0===n?void 0:n[r])||0);if(0===l&&0===o)return null;let i="bg-gray-100",c="text-gray-700";return l>0&&o>0&&(l<o?(i="bg-green-200",c="text-green-900"):l>o?(i="bg-red-200",c="text-red-900"):(i="bg-yellow-200",c="text-yellow-900")),(0,Na.jsxs)("div",{className:"text-center p-2 rounded ".concat(i),children:[(0,Na.jsxs)("div",{className:"text-xs text-gray-500 mb-1",children:["Hole ",r+1]}),(0,Na.jsx)("div",{className:"text-sm font-bold ".concat(c),children:o>0?o:"-"})]},r)})}),(0,Na.jsx)("div",{className:"grid grid-cols-3 gap-2",children:[{name:"R1 (1-3)",playerScore:Number(s?t.round1_points_player1||0:t.round1_points_player2||0),opponentScore:Number(s?t.round1_points_player2||0:t.round1_points_player1||0)},{name:"R2 (4-6)",playerScore:Number(s?t.round2_points_player1||0:t.round2_points_player2||0),opponentScore:Number(s?t.round2_points_player2||0:t.round2_points_player1||0)},{name:"R3 (7-9)",playerScore:Number(s?t.round3_points_player1||0:t.round3_points_player2||0),opponentScore:Number(s?t.round3_points_player2||0:t.round3_points_player1||0)}].map((e,t)=>{let r="T",s="text-yellow-700";return e.playerScore>e.opponentScore?(r="W",s="text-green-700"):e.playerScore<e.opponentScore&&(r="L",s="text-red-700"),(0,Na.jsxs)("div",{className:"text-center p-2 bg-gray-100 rounded",children:[(0,Na.jsx)("div",{className:"text-xs text-gray-600 mb-1",children:e.name}),(0,Na.jsx)("div",{className:"text-lg font-bold ".concat(s),children:r})]},t)})})]},t.id)})}):(0,Na.jsx)("div",{className:"overflow-x-auto",children:(0,Na.jsxs)("table",{className:"w-full text-center border-collapse",children:[(0,Na.jsxs)("thead",{children:[(0,Na.jsxs)("tr",{className:"border-b border-gray-300",children:[(0,Na.jsx)("th",{className:"px-2 py-1 text-xs font-bold text-gray-700 bg-gray-100 sticky left-0 z-10 min-w-[120px]",children:"Player"}),(0,Na.jsx)("th",{colSpan:3,className:"px-1 py-1 text-xs font-bold text-gray-700 bg-blue-50 border-l-2 border-blue-200",children:"R1 (Holes 1-3)"}),(0,Na.jsx)("th",{colSpan:3,className:"px-1 py-1 text-xs font-bold text-gray-700 bg-green-50 border-l-2 border-green-200",children:"R2 (Holes 4-6)"}),(0,Na.jsx)("th",{colSpan:3,className:"px-1 py-1 text-xs font-bold text-gray-700 bg-purple-50 border-l-2 border-purple-200",children:"R3 (Holes 7-9)"}),(0,Na.jsx)("th",{className:"px-1 py-1 text-xs font-bold text-gray-700 bg-gray-100 border-l-2 border-gray-200",children:"H"}),(0,Na.jsx)("th",{className:"px-1 py-1 text-xs font-bold text-gray-700 bg-gray-100",children:"R"}),(0,Na.jsx)("th",{className:"px-1 py-1 text-xs font-bold text-gray-700 bg-gray-100",children:"Result"})]}),(0,Na.jsxs)("tr",{className:"border-b-2 border-gray-300",children:[(0,Na.jsx)("th",{className:"px-2 py-2 text-xs font-bold text-gray-700 bg-gray-100 sticky left-0 z-10 min-w-[120px]"}),Array.from({length:9},(e,t)=>(0,Na.jsx)("th",{className:"px-1 py-2 text-xs font-bold text-gray-700 bg-gray-100 min-w-[40px] ".concat(0===t?"border-l-2 border-blue-200":3===t?"border-l-2 border-green-200":6===t?"border-l-2 border-purple-200":""),children:t+1},t)),(0,Na.jsx)("th",{className:"px-1 py-2 text-xs font-bold text-gray-700 bg-gray-100 border-l-2 border-gray-200"}),(0,Na.jsx)("th",{className:"px-1 py-2 text-xs font-bold text-gray-700 bg-gray-100"}),(0,Na.jsx)("th",{className:"px-1 py-2 text-xs font-bold text-gray-700 bg-gray-100"})]})]}),(0,Na.jsxs)("tbody",{children:[(0,Na.jsxs)("tr",{className:"border-b border-gray-200 bg-blue-50",children:[(0,Na.jsxs)("td",{className:"px-2 py-2 text-sm font-bold text-blue-900 sticky left-0 z-10 bg-blue-50",children:[e.first_name," ",e.last_name]}),Array.from({length:9},(t,r)=>{const s=p.find(t=>t.player1_id===e.user_id||t.player2_id===e.user_id);if(!s)return"";const a=s.player1_id===e.user_id?s.player1_scores:s.player2_scores,n=Number((null===a||void 0===a?void 0:a[r])||0);return(0,Na.jsx)("td",{className:"px-1 py-2 text-sm font-bold text-blue-900",children:n>0?n:""},r)}),(0,Na.jsx)("td",{className:"px-1 py-2 text-sm font-bold text-blue-600",children:Number(e.total_hole_points||0).toFixed(1)}),(0,Na.jsx)("td",{className:"px-1 py-2 text-sm font-bold text-green-600",children:Number(e.total_round_points||0).toFixed(1)}),(0,Na.jsx)("td",{className:"px-1 py-2 text-sm font-bold text-gray-900",children:"-"})]}),p.map(t=>{const r=t.player1_id===e.user_id,s=r?"".concat(t.player2_first_name," ").concat(t.player2_last_name):"".concat(t.player1_first_name," ").concat(t.player1_last_name),a=r?t.player2_id:t.player1_id,n=o.find(e=>e.user_id===a),l=(null===n||void 0===n?void 0:n.club)||"Unknown Club",i=r?t.player2_scores:t.player1_scores,c=(Number(r?t.hole_points_player2||0:t.hole_points_player1||0),r?(Number(t.round1_points_player2||0),Number(t.round2_points_player2||0),Number(t.round3_points_player2||0)):(Number(t.round1_points_player1||0),Number(t.round2_points_player1||0),Number(t.round3_points_player1||0)),_(t,e.user_id));return[(0,Na.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[(0,Na.jsxs)("td",{className:"px-2 py-2 text-sm font-semibold text-gray-900 sticky left-0 z-10 bg-white",children:[(0,Na.jsx)("div",{children:s}),(0,Na.jsxs)("div",{className:"text-xs text-gray-500",children:[l," Club"]})]}),Array.from({length:9},(r,s)=>{const a=t.player1_id===e.user_id?t.player1_scores:t.player2_scores,n=Number((null===a||void 0===a?void 0:a[s])||0),l=Number((null===i||void 0===i?void 0:i[s])||0);let o="",c="";return n>0&&l>0&&(n<l?(o="bg-green-200",c="text-green-900"):n>l?(o="bg-red-200",c="text-red-900"):(o="bg-yellow-200",c="text-yellow-900")),(0,Na.jsx)("td",{className:"px-1 py-2 text-sm font-bold ".concat(o," ").concat(c),children:l>0?l:""},s)}),(0,Na.jsx)("td",{className:"px-1 py-2 text-sm font-semibold text-blue-600",children:r?Number(t.hole_points_player1||0).toFixed(1):Number(t.hole_points_player2||0).toFixed(1)}),(0,Na.jsx)("td",{className:"px-1 py-2 text-sm font-semibold text-green-600",children:r?(Number(t.round1_points_player1||0)+Number(t.round2_points_player1||0)+Number(t.round3_points_player1||0)).toFixed(1):(Number(t.round1_points_player2||0)+Number(t.round2_points_player2||0)+Number(t.round3_points_player2||0)).toFixed(1)}),(0,Na.jsx)("td",{className:"px-1 py-2",children:(0,Na.jsx)("span",{className:"px-2 py-1 rounded text-xs font-bold ".concat(k(c)),children:c})})]},"".concat(t.id,"-opponent")),(0,Na.jsxs)("tr",{className:"border-b border-gray-200 bg-gray-100",children:[(0,Na.jsx)("td",{className:"px-2 py-2 text-xs font-semibold text-gray-700 sticky left-0 z-10 bg-gray-100",children:"Round Results"}),(0,Na.jsx)("td",{colSpan:3,className:"px-1 py-2 text-xs font-bold text-center bg-blue-50",children:(()=>{const e=Number(r?t.round1_points_player1||0:t.round1_points_player2||0),s=Number(r?t.round1_points_player2||0:t.round1_points_player1||0);return e>s?(0,Na.jsx)("span",{className:"text-green-700 font-bold text-lg",children:"W"}):e<s?(0,Na.jsx)("span",{className:"text-red-700 font-bold text-lg",children:"L"}):(0,Na.jsx)("span",{className:"text-yellow-700 font-bold text-lg",children:"T"})})()}),(0,Na.jsx)("td",{colSpan:3,className:"px-1 py-2 text-xs font-bold text-center bg-green-50",children:(()=>{const e=Number(r?t.round2_points_player1||0:t.round2_points_player2||0),s=Number(r?t.round2_points_player2||0:t.round2_points_player1||0);return e>s?(0,Na.jsx)("span",{className:"text-green-700 font-bold text-lg",children:"W"}):e<s?(0,Na.jsx)("span",{className:"text-red-700 font-bold text-lg",children:"L"}):(0,Na.jsx)("span",{className:"text-yellow-700 font-bold text-lg",children:"T"})})()}),(0,Na.jsx)("td",{colSpan:3,className:"px-1 py-2 text-xs font-bold text-center bg-purple-50",children:(()=>{const e=Number(r?t.round3_points_player1||0:t.round3_points_player2||0),s=Number(r?t.round3_points_player2||0:t.round3_points_player1||0);return e>s?(0,Na.jsx)("span",{className:"text-green-700 font-bold text-lg",children:"W"}):e<s?(0,Na.jsx)("span",{className:"text-red-700 font-bold text-lg",children:"L"}):(0,Na.jsx)("span",{className:"text-yellow-700 font-bold text-lg",children:"T"})})()}),(0,Na.jsx)("td",{className:"px-1 py-2 text-xs text-gray-500 bg-gray-100",children:"-"}),(0,Na.jsx)("td",{className:"px-1 py-2 text-xs text-gray-500 bg-gray-100",children:"-"}),(0,Na.jsx)("td",{className:"px-1 py-2 text-xs text-gray-500 bg-gray-100",children:"-"})]},"".concat(t.id,"-rounds"))]})]})]})}),(0,Na.jsxs)("div",{className:"flex flex-wrap items-center gap-3 mt-3 text-xs",children:[(0,Na.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Na.jsx)("span",{className:"inline-block w-3 h-3 bg-green-200 border border-green-400"})," Win"]}),(0,Na.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Na.jsx)("span",{className:"inline-block w-3 h-3 bg-yellow-200 border border-yellow-400"})," Tie"]}),(0,Na.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Na.jsx)("span",{className:"inline-block w-3 h-3 bg-red-200 border border-red-400"})," Loss"]}),(0,Na.jsx)("div",{className:"text-gray-500",children:"H = Hole Points, R = Round Points"}),(0,Na.jsx)("div",{className:"text-gray-500",children:"Numbers 1-9 = Individual hole scores"}),(0,Na.jsx)("div",{className:"text-gray-500",children:"R1 = Holes 1-3, R2 = Holes 4-6, R3 = Holes 7-9"}),(0,Na.jsx)("div",{className:"text-gray-500",children:"Round Results row shows W/T/L for each round"})]})]}):(0,Na.jsx)("div",{className:"text-center py-4 text-gray-500",children:"No matches found for this player"})})]},e.user_id))})]}),(0,Na.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[(0,Na.jsx)("h3",{className:"font-semibold text-blue-900 mb-3",children:"Scoring System"}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h4",{className:"font-medium text-blue-800 mb-2",children:"Point Breakdown:"}),(0,Na.jsxs)("ul",{className:"space-y-1 text-blue-700",children:[(0,Na.jsxs)("li",{children:["\u2022 ",(0,Na.jsx)("strong",{children:"Hole Points:"})," 0.5 per hole won"]}),(0,Na.jsxs)("li",{children:["\u2022 ",(0,Na.jsx)("strong",{children:"Round Points:"})," 1.0 per round won (holes 1-3, 4-6, 7-9)"]})]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h4",{className:"font-medium text-blue-800 mb-2",children:"Match Results:"}),(0,Na.jsxs)("ul",{className:"space-y-1 text-blue-700",children:[(0,Na.jsxs)("li",{children:["\u2022 ",(0,Na.jsx)("strong",{children:"Win:"})," Win 2+ rounds OR win 1 round + tie 2"]}),(0,Na.jsxs)("li",{children:["\u2022 ",(0,Na.jsx)("strong",{children:"Tie:"})," Each player wins 1 round + 1 tied OR all 3 tied"]}),(0,Na.jsxs)("li",{children:["\u2022 ",(0,Na.jsx)("strong",{children:"Loss:"})," Otherwise"]})]})]})]})]})]})},Xa=Ye("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Za=Ye("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),en=e=>{let{tournamentId:t,standings:r}=e;const[s,a]=(0,n.useState)([]),[l,o]=(0,n.useState)([]),[i,c]=(0,n.useState)(!0),[d,u]=(0,n.useState)(null);(0,n.useEffect)(()=>{const e=(()=>{const e=[];r.forEach(t=>{if(t.participants.length>0){const r=t.participants[0];e.push({user_id:r.user_id,first_name:r.first_name,last_name:r.last_name,club:r.club,group_name:t.group_name,position:1,match_wins:r.match_wins,match_losses:r.match_losses,match_ties:r.match_ties,total_matches:r.total_matches,tiebreaker_points:r.tiebreaker_points,total_holes_won:r.total_holes_won,total_holes_lost:r.total_holes_lost,net_holes:r.net_holes})}});const t=[];r.forEach(e=>{e.participants.slice(1).forEach((r,s)=>{t.push({user_id:r.user_id,first_name:r.first_name,last_name:r.last_name,club:r.club,group_name:e.group_name,position:s+2,match_wins:r.match_wins,match_losses:r.match_losses,match_ties:r.match_ties,total_matches:r.total_matches,tiebreaker_points:r.tiebreaker_points,total_holes_won:r.total_holes_won,total_holes_lost:r.total_holes_lost,net_holes:r.net_holes})})}),t.sort((e,t)=>t.match_wins!==e.match_wins?t.match_wins-e.match_wins:t.tiebreaker_points!==e.tiebreaker_points?t.tiebreaker_points-e.tiebreaker_points:t.net_holes-e.net_holes);const s=8-e.length,a=t.slice(0,s);return e.push(...a),e.slice(0,8)})();a(e),o((e=>{if(8!==e.length)return[];const t=e.slice(0,4),r=e.slice(4,8),s=[];return s.push({id:"east-qf-1",round:1,match_number:1,player1:t[0],player2:t[3],division:"east"}),s.push({id:"east-qf-2",round:1,match_number:2,player1:t[1],player2:t[2],division:"east"}),s.push({id:"west-qf-1",round:1,match_number:3,player1:r[0],player2:r[3],division:"west"}),s.push({id:"west-qf-2",round:1,match_number:4,player1:r[1],player2:r[2],division:"west"}),s.push({id:"east-sf-1",round:2,match_number:5,division:"east"}),s.push({id:"west-sf-1",round:2,match_number:6,division:"west"}),s.push({id:"championship",round:3,match_number:7,division:"east"}),s})(e)),c(!1)},[r]);return i?(0,Na.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:(0,Na.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,Na.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-neon-green"}),(0,Na.jsx)("span",{className:"ml-3 text-gray-600",children:"Loading bracket..."})]})}):d?(0,Na.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:(0,Na.jsxs)("div",{className:"text-center py-8",children:[(0,Na.jsx)(Je,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Na.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Bracket"}),(0,Na.jsx)("p",{className:"text-gray-500 text-sm mb-4",children:d})]})}):(0,Na.jsx)("div",{className:"space-y-6",children:(0,Na.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,Na.jsx)(Je,{className:"w-6 h-6 text-brand-neon-green"}),(0,Na.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"National Championship Bracket"})]}),(0,Na.jsxs)("div",{className:"overflow-x-auto",children:[(0,Na.jsxs)("div",{className:"hidden lg:flex min-w-max space-x-8 py-4",children:[(0,Na.jsxs)("div",{className:"flex flex-col space-y-8",children:[(0,Na.jsx)("div",{className:"text-center",children:(0,Na.jsx)("h4",{className:"text-sm font-semibold text-gray-700 mb-4",children:"Quarterfinals"})}),(0,Na.jsxs)("div",{className:"space-y-6",children:[(0,Na.jsx)("div",{className:"text-center",children:(0,Na.jsxs)("div",{className:"inline-flex items-center space-x-1 px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:[(0,Na.jsx)(Xe,{className:"w-3 h-3"}),(0,Na.jsx)("span",{children:"East"})]})}),l.filter(e=>1===e.round&&"east"===e.division).map((e,t)=>(0,Na.jsx)("div",{className:"w-64",children:(0,Na.jsxs)("div",{className:"bg-white border-2 border-gray-200 rounded-lg overflow-hidden",children:[(0,Na.jsx)("div",{className:"px-3 py-2 bg-gray-50 border-b border-gray-200",children:(0,Na.jsxs)("div",{className:"text-xs font-medium text-gray-600 text-center",children:["Match ",e.match_number]})}),(0,Na.jsxs)("div",{className:"divide-y divide-gray-200",children:[(0,Na.jsxs)("div",{className:"px-3 py-3 hover:bg-gray-50",children:[(0,Na.jsx)("div",{className:"font-medium text-gray-900 text-center",children:e.player1?"".concat(e.player1.first_name," ").concat(e.player1.last_name):"TBD"}),e.player1&&(0,Na.jsx)("div",{className:"text-xs text-gray-500 mt-1 text-center",children:e.player1.club})]}),(0,Na.jsxs)("div",{className:"px-3 py-3 hover:bg-gray-50",children:[(0,Na.jsx)("div",{className:"font-medium text-gray-900 text-center",children:e.player2?"".concat(e.player2.first_name," ").concat(e.player2.last_name):"TBD"}),e.player2&&(0,Na.jsx)("div",{className:"text-xs text-gray-500 mt-1 text-center",children:e.player2.club})]})]})]})},e.id))]}),(0,Na.jsxs)("div",{className:"space-y-6",children:[(0,Na.jsx)("div",{className:"text-center",children:(0,Na.jsxs)("div",{className:"inline-flex items-center space-x-1 px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm font-medium",children:[(0,Na.jsx)(Xe,{className:"w-3 h-3"}),(0,Na.jsx)("span",{children:"West"})]})}),l.filter(e=>1===e.round&&"west"===e.division).map((e,t)=>(0,Na.jsx)("div",{className:"w-64",children:(0,Na.jsxs)("div",{className:"bg-white border-2 border-gray-200 rounded-lg overflow-hidden",children:[(0,Na.jsx)("div",{className:"px-3 py-2 bg-gray-50 border-b border-gray-200",children:(0,Na.jsxs)("div",{className:"text-xs font-medium text-gray-600 text-center",children:["Match ",e.match_number]})}),(0,Na.jsxs)("div",{className:"divide-y divide-gray-200",children:[(0,Na.jsxs)("div",{className:"px-3 py-3 hover:bg-gray-50",children:[(0,Na.jsx)("div",{className:"font-medium text-gray-900 text-center",children:e.player1?"".concat(e.player1.first_name," ").concat(e.player1.last_name):"TBD"}),e.player1&&(0,Na.jsx)("div",{className:"text-xs text-gray-500 mt-1 text-center",children:e.player1.club})]}),(0,Na.jsxs)("div",{className:"px-3 py-3 hover:bg-gray-50",children:[(0,Na.jsx)("div",{className:"font-medium text-gray-900 text-center",children:e.player2?"".concat(e.player2.first_name," ").concat(e.player2.last_name):"TBD"}),e.player2&&(0,Na.jsx)("div",{className:"text-xs text-gray-500 mt-1 text-center",children:e.player2.club})]})]})]})},e.id))]})]}),(0,Na.jsxs)("div",{className:"flex flex-col justify-center space-y-8",children:[(0,Na.jsx)("div",{className:"text-center",children:(0,Na.jsx)("h4",{className:"text-sm font-semibold text-gray-700 mb-4",children:"Semifinals"})}),(0,Na.jsxs)("div",{className:"space-y-6",children:[(0,Na.jsx)("div",{className:"text-center",children:(0,Na.jsxs)("div",{className:"inline-flex items-center space-x-1 px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:[(0,Na.jsx)(Xe,{className:"w-3 h-3"}),(0,Na.jsx)("span",{children:"East Final"})]})}),l.filter(e=>2===e.round&&"east"===e.division).map(e=>(0,Na.jsx)("div",{className:"w-64",children:(0,Na.jsxs)("div",{className:"bg-white border-2 border-gray-200 rounded-lg overflow-hidden",children:[(0,Na.jsx)("div",{className:"px-3 py-2 bg-gray-50 border-b border-gray-200",children:(0,Na.jsx)("div",{className:"text-xs font-medium text-gray-600 text-center",children:"East Semifinal"})}),(0,Na.jsxs)("div",{className:"divide-y divide-gray-200",children:[(0,Na.jsx)("div",{className:"px-3 py-3",children:(0,Na.jsx)("div",{className:"font-medium text-gray-500 text-center",children:"Winner of East QF1"})}),(0,Na.jsx)("div",{className:"px-3 py-3",children:(0,Na.jsx)("div",{className:"font-medium text-gray-500 text-center",children:"Winner of East QF2"})})]})]})},e.id))]}),(0,Na.jsxs)("div",{className:"space-y-6",children:[(0,Na.jsx)("div",{className:"text-center",children:(0,Na.jsxs)("div",{className:"inline-flex items-center space-x-1 px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm font-medium",children:[(0,Na.jsx)(Xe,{className:"w-3 h-3"}),(0,Na.jsx)("span",{children:"West Final"})]})}),l.filter(e=>2===e.round&&"west"===e.division).map(e=>(0,Na.jsx)("div",{className:"w-64",children:(0,Na.jsxs)("div",{className:"bg-white border-2 border-gray-200 rounded-lg overflow-hidden",children:[(0,Na.jsx)("div",{className:"px-3 py-2 bg-gray-50 border-b border-gray-200",children:(0,Na.jsx)("div",{className:"text-xs font-medium text-gray-600 text-center",children:"West Semifinal"})}),(0,Na.jsxs)("div",{className:"divide-y divide-gray-200",children:[(0,Na.jsx)("div",{className:"px-3 py-3",children:(0,Na.jsx)("div",{className:"font-medium text-gray-500 text-center",children:"Winner of West QF1"})}),(0,Na.jsx)("div",{className:"px-3 py-3",children:(0,Na.jsx)("div",{className:"font-medium text-gray-500 text-center",children:"Winner of West QF2"})})]})]})},e.id))]})]}),(0,Na.jsxs)("div",{className:"flex flex-col justify-center",children:[(0,Na.jsx)("div",{className:"text-center",children:(0,Na.jsx)("h4",{className:"text-sm font-semibold text-gray-700 mb-4",children:"Championship"})}),l.filter(e=>3===e.round).map(e=>(0,Na.jsx)("div",{className:"w-64",children:(0,Na.jsxs)("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 border-2 border-yellow-300 rounded-lg overflow-hidden",children:[(0,Na.jsx)("div",{className:"px-3 py-2 bg-yellow-200 border-b border-yellow-300",children:(0,Na.jsxs)("div",{className:"text-xs font-medium text-yellow-800 text-center flex items-center justify-center space-x-1",children:[(0,Na.jsx)(Je,{className:"w-3 h-3"}),(0,Na.jsx)("span",{children:"National Championship"})]})}),(0,Na.jsxs)("div",{className:"divide-y divide-yellow-200",children:[(0,Na.jsx)("div",{className:"px-3 py-4",children:(0,Na.jsx)("div",{className:"font-medium text-gray-700 text-center",children:"East Division Champion"})}),(0,Na.jsx)("div",{className:"px-3 py-4",children:(0,Na.jsx)("div",{className:"font-medium text-gray-700 text-center",children:"West Division Champion"})})]})]})},e.id))]})]}),(0,Na.jsxs)("div",{className:"lg:hidden space-y-6",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Quarterfinals"}),(0,Na.jsxs)("div",{className:"mb-6",children:[(0,Na.jsx)("div",{className:"text-center mb-4",children:(0,Na.jsxs)("div",{className:"inline-flex items-center space-x-2 px-4 py-2 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:[(0,Na.jsx)(Xe,{className:"w-4 h-4"}),(0,Na.jsx)("span",{children:"East Division"})]})}),(0,Na.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:l.filter(e=>1===e.round&&"east"===e.division).map(e=>(0,Na.jsxs)("div",{className:"bg-white border-2 border-gray-200 rounded-lg overflow-hidden",children:[(0,Na.jsx)("div",{className:"px-4 py-3 bg-gray-50 border-b border-gray-200",children:(0,Na.jsxs)("div",{className:"text-sm font-medium text-gray-600 text-center",children:["Match ",e.match_number]})}),(0,Na.jsxs)("div",{className:"divide-y divide-gray-200",children:[(0,Na.jsxs)("div",{className:"px-4 py-4",children:[(0,Na.jsx)("div",{className:"font-medium text-gray-900 text-center",children:e.player1?"".concat(e.player1.first_name," ").concat(e.player1.last_name):"TBD"}),e.player1&&(0,Na.jsx)("div",{className:"text-xs text-gray-500 mt-1 text-center",children:e.player1.club})]}),(0,Na.jsxs)("div",{className:"px-4 py-4",children:[(0,Na.jsx)("div",{className:"font-medium text-gray-900 text-center",children:e.player2?"".concat(e.player2.first_name," ").concat(e.player2.last_name):"TBD"}),e.player2&&(0,Na.jsx)("div",{className:"text-xs text-gray-500 mt-1 text-center",children:e.player2.club})]})]})]},e.id))})]}),(0,Na.jsxs)("div",{className:"mb-6",children:[(0,Na.jsx)("div",{className:"text-center mb-4",children:(0,Na.jsxs)("div",{className:"inline-flex items-center space-x-2 px-4 py-2 bg-red-100 text-red-800 rounded-full text-sm font-medium",children:[(0,Na.jsx)(Xe,{className:"w-4 h-4"}),(0,Na.jsx)("span",{children:"West Division"})]})}),(0,Na.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:l.filter(e=>1===e.round&&"west"===e.division).map(e=>(0,Na.jsxs)("div",{className:"bg-white border-2 border-gray-200 rounded-lg overflow-hidden",children:[(0,Na.jsx)("div",{className:"px-4 py-3 bg-gray-50 border-b border-gray-200",children:(0,Na.jsxs)("div",{className:"text-sm font-medium text-gray-600 text-center",children:["Match ",e.match_number]})}),(0,Na.jsxs)("div",{className:"divide-y divide-gray-200",children:[(0,Na.jsxs)("div",{className:"px-4 py-4",children:[(0,Na.jsx)("div",{className:"font-medium text-gray-900 text-center",children:e.player1?"".concat(e.player1.first_name," ").concat(e.player1.last_name):"TBD"}),e.player1&&(0,Na.jsx)("div",{className:"text-xs text-gray-500 mt-1 text-center",children:e.player1.club})]}),(0,Na.jsxs)("div",{className:"px-4 py-4",children:[(0,Na.jsx)("div",{className:"font-medium text-gray-900 text-center",children:e.player2?"".concat(e.player2.first_name," ").concat(e.player2.last_name):"TBD"}),e.player2&&(0,Na.jsx)("div",{className:"text-xs text-gray-500 mt-1 text-center",children:e.player2.club})]})]})]},e.id))})]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Semifinals"}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("div",{className:"text-center mb-3",children:(0,Na.jsxs)("div",{className:"inline-flex items-center space-x-2 px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:[(0,Na.jsx)(Xe,{className:"w-3 h-3"}),(0,Na.jsx)("span",{children:"East Final"})]})}),l.filter(e=>2===e.round&&"east"===e.division).map(e=>(0,Na.jsxs)("div",{className:"bg-white border-2 border-gray-200 rounded-lg overflow-hidden",children:[(0,Na.jsx)("div",{className:"px-4 py-3 bg-gray-50 border-b border-gray-200",children:(0,Na.jsx)("div",{className:"text-sm font-medium text-gray-600 text-center",children:"East Semifinal"})}),(0,Na.jsxs)("div",{className:"divide-y divide-gray-200",children:[(0,Na.jsx)("div",{className:"px-4 py-4",children:(0,Na.jsx)("div",{className:"font-medium text-gray-500 text-center text-sm",children:"Winner of East QF1"})}),(0,Na.jsx)("div",{className:"px-4 py-4",children:(0,Na.jsx)("div",{className:"font-medium text-gray-500 text-center text-sm",children:"Winner of East QF2"})})]})]},e.id))]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("div",{className:"text-center mb-3",children:(0,Na.jsxs)("div",{className:"inline-flex items-center space-x-2 px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm font-medium",children:[(0,Na.jsx)(Xe,{className:"w-3 h-3"}),(0,Na.jsx)("span",{children:"West Final"})]})}),l.filter(e=>2===e.round&&"west"===e.division).map(e=>(0,Na.jsxs)("div",{className:"bg-white border-2 border-gray-200 rounded-lg overflow-hidden",children:[(0,Na.jsx)("div",{className:"px-4 py-3 bg-gray-50 border-b border-gray-200",children:(0,Na.jsx)("div",{className:"text-sm font-medium text-gray-600 text-center",children:"West Semifinal"})}),(0,Na.jsxs)("div",{className:"divide-y divide-gray-200",children:[(0,Na.jsx)("div",{className:"px-4 py-4",children:(0,Na.jsx)("div",{className:"font-medium text-gray-500 text-center text-sm",children:"Winner of West QF1"})}),(0,Na.jsx)("div",{className:"px-4 py-4",children:(0,Na.jsx)("div",{className:"font-medium text-gray-500 text-center text-sm",children:"Winner of West QF2"})})]})]},e.id))]})]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Championship"}),(0,Na.jsx)("div",{className:"flex justify-center",children:l.filter(e=>3===e.round).map(e=>(0,Na.jsx)("div",{className:"w-full max-w-sm",children:(0,Na.jsxs)("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 border-2 border-yellow-300 rounded-lg overflow-hidden",children:[(0,Na.jsx)("div",{className:"px-4 py-3 bg-yellow-200 border-b border-yellow-300",children:(0,Na.jsxs)("div",{className:"text-sm font-medium text-yellow-800 text-center flex items-center justify-center space-x-2",children:[(0,Na.jsx)(Je,{className:"w-4 h-4"}),(0,Na.jsx)("span",{children:"National Championship"})]})}),(0,Na.jsxs)("div",{className:"divide-y divide-yellow-200",children:[(0,Na.jsx)("div",{className:"px-4 py-4",children:(0,Na.jsx)("div",{className:"font-medium text-gray-700 text-center",children:"East Division Champion"})}),(0,Na.jsx)("div",{className:"px-4 py-4",children:(0,Na.jsx)("div",{className:"font-medium text-gray-700 text-center",children:"West Division Champion"})})]})]})},e.id))})]})]})]})]})})},tn=e=>{let{tournamentId:t,tournamentName:r,onRefresh:s}=e;const[a,l]=(0,n.useState)([]),[o,i]=(0,n.useState)(!0),[c,d]=(0,n.useState)(null),[u,m]=(0,n.useState)("standings"),x=async()=>{try{i(!0),d(null);const e=await ja.get("/tournaments/".concat(t,"/championship-standings"));l(e.data)}catch(e){console.error("Error fetching championship standings:",e),d("Failed to load championship standings")}finally{i(!1)}};(0,n.useEffect)(()=>{x()},[t]);const h=e=>{switch(e){case 1:return(0,Na.jsx)(Je,{className:"w-5 h-5 text-yellow-500"});case 2:return(0,Na.jsx)(Ke,{className:"w-5 h-5 text-gray-400"});case 3:return(0,Na.jsx)(Ke,{className:"w-5 h-5 text-amber-600"});default:return(0,Na.jsx)("span",{className:"text-sm font-semibold text-gray-500",children:e})}},p=(e,t)=>0===t?"0%":"".concat(Math.round(e/t*100),"%");return o?(0,Na.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:(0,Na.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,Na.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-neon-green"}),(0,Na.jsx)("span",{className:"ml-3 text-gray-600",children:"Loading championship standings..."})]})}):c?(0,Na.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:(0,Na.jsxs)("div",{className:"text-center py-8",children:[(0,Na.jsx)(Je,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Na.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Standings"}),(0,Na.jsx)("p",{className:"text-gray-500 text-sm mb-4",children:c}),(0,Na.jsxs)("button",{onClick:x,className:"flex items-center space-x-2 text-brand-neon-green hover:text-green-600 transition-colors mx-auto",children:[(0,Na.jsx)(Xa,{className:"w-4 h-4"}),(0,Na.jsx)("span",{children:"Try Again"})]})]})}):(0,Na.jsxs)("div",{className:"space-y-6",children:[(0,Na.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Na.jsx)(Je,{className:"w-6 h-6 text-brand-neon-green"}),(0,Na.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Championship Standings"})]}),(0,Na.jsxs)("button",{onClick:()=>{x(),null===s||void 0===s||s()},className:"flex items-center space-x-2 px-4 py-2 bg-brand-neon-green text-white rounded-lg hover:bg-green-600 transition-colors",children:[(0,Na.jsx)(Xa,{className:"w-4 h-4"}),(0,Na.jsx)("span",{children:"Refresh"})]})]}),(0,Na.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,Na.jsxs)("p",{children:[(0,Na.jsx)("strong",{children:"Tournament:"})," ",r]}),(0,Na.jsxs)("p",{children:[(0,Na.jsx)("strong",{children:"Format:"})," Match Play Championship"]})]})]}),(0,Na.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:(0,Na.jsx)("div",{className:"border-b border-gray-200",children:(0,Na.jsxs)("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:[(0,Na.jsx)("button",{onClick:()=>m("standings"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("standings"===u?"border-brand-neon-green text-brand-neon-green":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsx)(Je,{className:"w-4 h-4"}),(0,Na.jsx)("span",{children:"Club Standings"})]})}),(0,Na.jsx)("button",{onClick:()=>m("bracket"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("bracket"===u?"border-brand-neon-green text-brand-neon-green":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsx)(Za,{className:"w-4 h-4"}),(0,Na.jsx)("span",{children:"National Championship Bracket"})]})})]})})}),"standings"===u?(0,Na.jsx)(Na.Fragment,{children:0===a.length?(0,Na.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:(0,Na.jsxs)("div",{className:"text-center py-8",children:[(0,Na.jsx)(Ze,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Na.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Groups Found"}),(0,Na.jsx)("p",{className:"text-gray-500 text-sm",children:"No championship groups have been created yet."})]})}):(0,Na.jsx)("div",{className:"space-y-6",children:a.map(e=>(0,Na.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[(0,Na.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-xl",children:(0,Na.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Na.jsx)(Oa,{className:"w-5 h-5 text-brand-neon-green"}),(0,Na.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:e.group_name}),(0,Na.jsxs)("span",{className:"text-sm text-gray-500",children:["(",e.participants.length," participants)"]})]})}),(0,Na.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,Na.jsxs)("table",{className:"w-full",children:[(0,Na.jsx)("thead",{className:"bg-gray-50",children:(0,Na.jsxs)("tr",{children:[(0,Na.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Position"}),(0,Na.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player"}),(0,Na.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Club"}),(0,Na.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"W-L-T"}),(0,Na.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),(0,Na.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Holes Won"}),(0,Na.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Net Holes"}),(0,Na.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tiebreaker"})]})}),(0,Na.jsx)("tbody",{className:"divide-y divide-gray-200",children:e.participants.map((e,t)=>(0,Na.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Na.jsx)("td",{className:"px-6 py-4",children:(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[h(t+1),(0,Na.jsx)("span",{className:"text-sm font-medium text-gray-600",children:t+1})]})}),(0,Na.jsx)("td",{className:"px-6 py-4",children:(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsxs)("span",{className:"font-semibold text-gray-900",children:[e.first_name," ",e.last_name]}),0===t&&(0,Na.jsx)(Je,{className:"w-4 h-4 text-yellow-500"})]})}),(0,Na.jsx)("td",{className:"px-6 py-4",children:(0,Na.jsx)("span",{className:"text-sm text-gray-600",children:e.club})}),(0,Na.jsx)("td",{className:"px-6 py-4 text-center",children:(0,Na.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:[e.match_wins,"-",e.match_losses,"-",e.match_ties]})}),(0,Na.jsx)("td",{className:"px-6 py-4 text-center",children:(0,Na.jsx)("span",{className:"text-sm font-medium text-gray-900",children:p(e.match_wins,e.total_matches)})}),(0,Na.jsx)("td",{className:"px-6 py-4 text-center",children:(0,Na.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.total_holes_won})}),(0,Na.jsx)("td",{className:"px-6 py-4 text-center",children:(0,Na.jsxs)("span",{className:"text-sm font-medium ".concat(e.net_holes>0?"text-green-600":e.net_holes<0?"text-red-600":"text-gray-900"),children:[e.net_holes>0?"+":"",e.net_holes]})}),(0,Na.jsx)("td",{className:"px-6 py-4 text-center",children:(0,Na.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.tiebreaker_points})})]},e.user_id))})]})}),(0,Na.jsx)("div",{className:"md:hidden space-y-3",children:e.participants.map((e,t)=>(0,Na.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:bg-gray-50",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-3",children:[h(t+1),(0,Na.jsxs)("div",{children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsxs)("span",{className:"font-semibold text-gray-900",children:[e.first_name," ",e.last_name]}),0===t&&(0,Na.jsx)(Je,{className:"w-4 h-4 text-yellow-500"})]}),(0,Na.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:e.club})]})]}),(0,Na.jsxs)("div",{className:"text-right",children:[(0,Na.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.match_wins,"-",e.match_losses,"-",e.match_ties]}),(0,Na.jsx)("div",{className:"text-xs text-gray-500",children:p(e.match_wins,e.total_matches)})]})]}),(0,Na.jsxs)("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[(0,Na.jsx)("div",{className:"text-sm text-gray-600",children:"Tiebreaker Points"}),(0,Na.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.tiebreaker_points})]})]},e.user_id))})]},e.group_id))})}):(0,Na.jsx)(en,{tournamentId:t,standings:a})]})},rn=()=>{var e,t,r;const{user:s}=ka(),a=Z(),l=re(),o=te(),[i,c]=(0,n.useState)(null),[d,u]=(0,n.useState)(null),[m,x]=(0,n.useState)(!0),[h,p]=(0,n.useState)(!1),[f,b]=(0,n.useState)(null),[g,y]=(0,n.useState)("global"),[v,j]=(0,n.useState)("allTime"),[N,w]=(0,n.useState)("courseRecords"),[_,k]=(0,n.useState)([]),[S,C]=(0,n.useState)(!1),[E,T]=(0,n.useState)(null),[P,L]=(0,n.useState)(null),R="Admin"===(null===s||void 0===s?void 0:s.role);(0,n.useEffect)(()=>{if(l.tournamentId){y("tournaments");const e=_.find(e=>e.id.toString()===l.tournamentId);if(e&&(T(e),e.course_id)){(async()=>{try{const t=await ua(e.course_id);t.data&&L(t.data)}catch(t){console.error("Error fetching course data:",t)}})()}}},[l.tournamentId,_]),(0,n.useEffect)(()=>{"tournaments"===g&&(async()=>{C(!0);try{const e=(await Gs()).data||[];if(k(e),l.tournamentId){const t=e.find(e=>e.id.toString()===l.tournamentId);t&&T(t)}}catch(e){console.error("Error fetching tournaments:",e)}finally{C(!1)}})()},[g,l.tournamentId]);const M=e=>{y(e),o("/leaderboard")},A=()=>{T(null),L(null),o("/leaderboard")},D=e=>{if(navigator.clipboard)navigator.clipboard.writeText(e).then(()=>{I("Link copied to clipboard!")}).catch(()=>{const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),I("Link copied to clipboard!")});else{const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),I("Link copied to clipboard!")}},I=e=>{const t=document.createElement("div");t.className="fixed top-4 right-4 bg-brand-neon-green text-brand-black px-4 py-2 rounded-lg shadow-lg z-50",t.textContent=e,document.body.appendChild(t),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t)},3e3)};(0,n.useEffect)(()=>{(async()=>{try{x(!0);const e=await(async()=>Rs.get("/global-leaderboard"))();c(e.data)}catch(e){console.error("Error fetching leaderboard data:",e)}finally{x(!1)}})()},[null===s||void 0===s?void 0:s.club,R,a.pathname]),(0,n.useEffect)(()=>{"club"===g&&null!==s&&void 0!==s&&s.club&&(async()=>{if(null!==s&&void 0!==s&&s.club){p(!0),b(null);try{const e=await ja.get("/leaderboard/club/".concat(encodeURIComponent(s.club),"?timeFrame=").concat(v));u(e.data)}catch(e){console.error("Error fetching club leaderboard data:",e),b("Failed to load club leaderboard data")}finally{p(!1)}}})()},[null===s||void 0===s?void 0:s.club,g,v]);if(m)return(0,Na.jsx)("div",{className:"flex items-center justify-center min-h-64",children:(0,Na.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-neon-green"})});if(!i)return(0,Na.jsx)("div",{className:"text-center py-8",children:(0,Na.jsx)("p",{className:"text-neutral-600",children:"Failed to load leaderboard data."})});const O=e=>{switch(e){case 1:return(0,Na.jsx)(Je,{className:"w-5 h-5 text-yellow-500"});case 2:return(0,Na.jsx)(Ke,{className:"w-5 h-5 text-gray-400"});case 3:return(0,Na.jsx)(Ke,{className:"w-5 h-5 text-amber-600"});default:return(0,Na.jsx)("span",{className:"text-sm font-semibold text-gray-500",children:e})}},F=()=>{const e=()=>{const e=i.clubStandings;switch(N){case"courseRecords":return"monthly"===v?e.courseRecords.monthly:e.courseRecords.allTime;case"roundsLogged":return"monthly"===v?e.roundsLogged.monthly:e.roundsLogged.allTime;case"averageScore":return"monthly"===v?e.averageScore.monthly:e.averageScore.allTime;default:return[]}},t=e=>{switch(N){case"courseRecords":return e.record_count;case"roundsLogged":return e.rounds_count;case"averageScore":return e.avg_score;default:return""}},r=()=>{switch(N){case"courseRecords":return"records";case"roundsLogged":return"rounds";default:return""}};return(0,Na.jsx)("div",{className:"space-y-6 sm:space-y-8",children:(0,Na.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm",children:[(0,Na.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsx)("div",{className:"flex items-center",children:(0,Na.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Club Rankings"})}),(0,Na.jsxs)("div",{className:"relative inline-flex bg-gray-100 rounded-lg p-1",children:[(0,Na.jsx)("button",{onClick:()=>j("allTime"),className:"px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 ".concat("allTime"===v?"bg-brand-neon-green text-white shadow-sm":"text-gray-600 hover:text-gray-900"),children:"All Time"}),(0,Na.jsx)("button",{onClick:()=>j("monthly"),className:"px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 ".concat("monthly"===v?"bg-brand-neon-green text-white shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Monthly"})]})]}),(0,Na.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"monthly"===v?"Last 30 Days":"All Time"})]}),(0,Na.jsx)("div",{className:"lg:hidden border-b border-gray-200",children:(0,Na.jsxs)("div",{className:"flex p-1",children:[(0,Na.jsxs)("button",{onClick:()=>w("courseRecords"),className:"flex-1 py-3 px-3 sm:px-4 text-sm font-medium rounded-md transition-colors ".concat("courseRecords"===N?"bg-brand-neon-green text-white":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:[(0,Na.jsx)(Je,{className:"w-4 h-4 inline mr-1 sm:mr-2"}),(0,Na.jsx)("span",{className:"hidden sm:inline",children:"Records"}),(0,Na.jsx)("span",{className:"sm:hidden",children:"Rec"})]}),(0,Na.jsxs)("button",{onClick:()=>w("roundsLogged"),className:"flex-1 py-3 px-3 sm:px-4 text-sm font-medium rounded-md transition-colors ".concat("roundsLogged"===N?"bg-brand-neon-green text-white":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:[(0,Na.jsx)(Ca,{className:"w-4 h-4 inline mr-1 sm:mr-2"}),(0,Na.jsx)("span",{className:"hidden sm:inline",children:"Rounds"}),(0,Na.jsx)("span",{className:"sm:hidden",children:"Rnd"})]}),(0,Na.jsxs)("button",{onClick:()=>w("averageScore"),className:"flex-1 py-3 px-3 sm:px-4 text-sm font-medium rounded-md transition-colors ".concat("averageScore"===N?"bg-brand-neon-green text-white":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:[(0,Na.jsx)(Ea,{className:"w-4 h-4 inline mr-1 sm:mr-2"}),(0,Na.jsx)("span",{className:"hidden sm:inline",children:"Average"}),(0,Na.jsx)("span",{className:"sm:hidden",children:"Avg"})]})]})}),(0,Na.jsx)("div",{className:"lg:hidden space-y-3",children:e().length>0?e().map((e,a)=>(0,Na.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-4 hover:shadow-md transition-shadow",children:(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Na.jsx)("div",{className:"flex items-center justify-center w-10 h-10 bg-gray-100 rounded-full flex-shrink-0",children:O(a+1)}),(0,Na.jsx)("div",{className:"flex-1 min-w-0",children:(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)("h3",{className:"font-semibold text-gray-900 text-base truncate",children:e.club}),e.club===(null===s||void 0===s?void 0:s.club)&&(0,Na.jsx)("span",{className:"ml-2 bg-brand-neon-green/10 text-brand-neon-green text-xs font-medium px-2 py-0.5 rounded-full border border-brand-neon-green/20 flex-shrink-0",children:"My Club"})]})})]}),(0,Na.jsxs)("div",{className:"text-right flex-shrink-0",children:[(0,Na.jsxs)("div",{className:"text-lg font-bold text-gray-900",children:[t(e),r()&&(0,Na.jsx)("span",{className:"text-sm text-gray-500 ml-1",children:r()})]}),"averageScore"===N&&"rounds_count"in e&&(0,Na.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["(",e.rounds_count," rounds)"]})]})]})},e.club)):(0,Na.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-8 text-center",children:[(0,Na.jsx)(Ta,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Na.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Data Available"}),(0,Na.jsx)("p",{className:"text-gray-500",children:"No clubs have data for this category and time frame."})]})}),(0,Na.jsx)("div",{className:"hidden lg:block",children:(0,Na.jsxs)("div",{className:"grid grid-cols-3 gap-6 p-6",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Na.jsx)(Je,{className:"w-5 h-5 text-yellow-500 mr-2"}),(0,Na.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Course Records"})]}),(0,Na.jsx)("div",{className:"space-y-3",children:i.clubStandings.courseRecords["monthly"===v?"monthly":"allTime"].map((e,t)=>(0,Na.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Na.jsx)("div",{className:"flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full",children:O(t+1)}),(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)("div",{className:"font-medium text-gray-900",children:e.club}),e.club===(null===s||void 0===s?void 0:s.club)&&(0,Na.jsx)("span",{className:"ml-2 bg-brand-neon-green/10 text-brand-neon-green text-xs font-medium px-2 py-0.5 rounded border border-brand-neon-green/20",children:"My Club"})]})]}),(0,Na.jsx)("div",{className:"text-right",children:(0,Na.jsxs)("div",{className:"text-lg font-semibold text-gray-900",children:[e.record_count," records"]})})]},e.club))})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Na.jsx)(Ca,{className:"w-5 h-5 text-purple-500 mr-2"}),(0,Na.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Rounds Logged"})]}),(0,Na.jsx)("div",{className:"space-y-3",children:i.clubStandings.roundsLogged["monthly"===v?"monthly":"allTime"].map((e,t)=>(0,Na.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Na.jsx)("div",{className:"flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full",children:O(t+1)}),(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)("div",{className:"font-medium text-gray-900",children:e.club}),e.club===(null===s||void 0===s?void 0:s.club)&&(0,Na.jsx)("span",{className:"ml-2 bg-brand-neon-green/10 text-brand-neon-green text-xs font-medium px-2 py-0.5 rounded border border-brand-neon-green/20",children:"My Club"})]})]}),(0,Na.jsx)("div",{className:"text-right",children:(0,Na.jsxs)("div",{className:"text-lg font-semibold text-gray-900",children:[e.rounds_count," rounds"]})})]},e.club))})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Na.jsx)(Ea,{className:"w-5 h-5 text-blue-500 mr-2"}),(0,Na.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Average Score"})]}),(0,Na.jsx)("div",{className:"space-y-3",children:i.clubStandings.averageScore["monthly"===v?"monthly":"allTime"].map((e,t)=>(0,Na.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Na.jsx)("div",{className:"flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full",children:O(t+1)}),(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)("div",{className:"font-medium text-gray-900",children:e.club}),e.club===(null===s||void 0===s?void 0:s.club)&&(0,Na.jsx)("span",{className:"ml-2 bg-brand-neon-green/10 text-brand-neon-green text-xs font-medium px-2 py-0.5 rounded border border-brand-neon-green/20",children:"My Club"})]})]}),(0,Na.jsxs)("div",{className:"text-right",children:[(0,Na.jsx)("div",{className:"text-lg font-semibold text-gray-900",children:e.avg_score}),(0,Na.jsxs)("div",{className:"text-sm text-gray-500",children:["(",e.rounds_count," rounds)"]})]})]},e.club))})]})]})})]})})};return(0,Na.jsx)("div",{className:"min-h-screen bg-gray-50 py-4 sm:py-8 px-4",children:(0,Na.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6 sm:space-y-8",children:[(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:"Neighborhood National Community Leaderboard"}),(0,Na.jsx)("p",{className:"text-gray-600 text-sm sm:text-base",children:"See where your club stacks up!"})]}),(0,Na.jsxs)("div",{className:"flex flex-wrap gap-2 justify-center",children:[(0,Na.jsxs)("button",{onClick:()=>M("global"),className:"inline-flex items-center px-3 sm:px-4 py-2 rounded-full text-sm font-medium transition-colors ".concat("global"===g?"bg-brand-neon-green text-white shadow-sm":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"),children:[(0,Na.jsx)(Pa,{className:"w-4 h-4 mr-2"}),"NN Community"]}),(null===s||void 0===s?void 0:s.club)&&(0,Na.jsxs)("button",{onClick:()=>M("club"),className:"inline-flex items-center px-3 sm:px-4 py-2 rounded-full text-sm font-medium transition-colors ".concat("club"===g?"bg-brand-neon-green text-white shadow-sm":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"),children:[(0,Na.jsx)(La,{className:"w-4 h-4 mr-2"}),"My Club"]}),(0,Na.jsxs)("button",{onClick:()=>M("tournaments"),className:"inline-flex items-center px-3 sm:px-4 py-2 rounded-full text-sm font-medium transition-colors ".concat("tournaments"===g?"bg-brand-neon-green text-white shadow-sm":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"),children:[(0,Na.jsx)(Je,{className:"w-4 h-4 mr-2"}),"Tournaments"]})]}),"global"===g&&(0,Na.jsx)(F,{}),"club"===g&&(null===s||void 0===s?void 0:s.club)&&(0,Na.jsx)(Ia,{activeTab:g,onTabChange:M,clubData:d,loading:h,error:f,timeFrame:v,onTimeFrameChange:j}),"tournaments"===g&&(0,Na.jsx)("div",{className:"space-y-6",children:E?(0,Na.jsxs)("div",{children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Na.jsxs)("button",{onClick:A,className:"flex items-center space-x-2 text-brand-neon-green hover:text-green-600 transition-colors",children:[(0,Na.jsx)(Ra,{className:"w-4 h-4 rotate-180"}),(0,Na.jsx)("span",{children:"Back to Tournaments"})]}),(0,Na.jsxs)("button",{onClick:()=>{if(E){const e="".concat(window.location.origin,"/#/leaderboard/tournament/").concat(E.id);navigator.share?navigator.share({title:"".concat(E.name," Leaderboard"),text:"Check out the leaderboard for ".concat(E.name,"!"),url:e}).catch(t=>{console.log("Share was canceled or failed:",t),D(e)}):D(e)}},className:"flex items-center space-x-2 text-brand-neon-green hover:text-green-600 transition-colors",children:[(0,Na.jsx)(Ma,{className:"w-4 h-4"}),(0,Na.jsx)("span",{children:"Share Leaderboard"})]})]}),"club_championship"===E.type||"national_championship"===E.type?(0,Na.jsx)(tn,{tournamentId:E.id,tournamentName:E.name,onRefresh:()=>{}}):"match_play"===E.tournament_format?(0,Na.jsx)(Ba,{tournamentId:E.id,tournamentFormat:E.tournament_format,tournamentInfo:{name:E.name,description:E.description,start_date:E.start_date,course_name:(null===P||void 0===P?void 0:P.name)||E.course_name||(null===(e=E.course_id)||void 0===e?void 0:e.toString())}}):"par3_match_play"===E.tournament_format?(0,Na.jsx)(Ja,{tournamentId:E.id,tournamentName:E.name,weekStartDate:E.week_start_date,tournamentStartDate:E.start_date,tournamentEndDate:E.end_date}):"stroke_play"===E.tournament_format?(0,Na.jsx)(Ga,{tournamentId:E.id,tournamentFormat:E.tournament_format,courseId:E.course_id,tournamentInfo:{name:E.name,description:E.description,start_date:E.start_date,course_name:(null===P||void 0===P?void 0:P.name)||E.course_name||(null===(t=E.course_id)||void 0===t?void 0:t.toString())},tournamentSettings:{holeConfiguration:E.hole_configuration||"18",tee:E.tee||"Red",pins:E.pins||"Friday",puttingGimme:E.putting_gimme||"8"}}):"weekly"===E.tournament_format?(0,Na.jsx)(Ja,{tournamentId:E.id,tournamentName:E.name,weekStartDate:E.week_start_date,tournamentStartDate:E.start_date,tournamentEndDate:E.end_date}):(0,Na.jsx)(Ha,{tournamentId:E.id,tournamentFormat:E.tournament_format,courseId:E.course_id,tournamentInfo:{name:E.name,description:E.description,start_date:E.start_date,course_name:(null===P||void 0===P?void 0:P.name)||E.course_name||(null===(r=E.course_id)||void 0===r?void 0:r.toString())},tournamentSettings:{holeConfiguration:E.hole_configuration||"18",tee:E.tee||"Red",pins:E.pins||"Friday",puttingGimme:E.putting_gimme||"8"}})]}):l.tournamentId&&S?(0,Na.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:(0,Na.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,Na.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-neon-green"}),(0,Na.jsx)("span",{className:"ml-3 text-gray-600",children:"Loading tournament..."})]})}):l.tournamentId&&!S?(0,Na.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:(0,Na.jsxs)("div",{className:"text-center py-8",children:[(0,Na.jsx)(Je,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Na.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Tournament Not Found"}),(0,Na.jsx)("p",{className:"text-gray-500 text-sm mb-4",children:"The tournament you're looking for doesn't exist or is no longer available."}),(0,Na.jsxs)("button",{onClick:A,className:"flex items-center space-x-2 text-brand-neon-green hover:text-green-600 transition-colors mx-auto",children:[(0,Na.jsx)(Ra,{className:"w-4 h-4 rotate-180"}),(0,Na.jsx)("span",{children:"Back to Tournaments"})]})]})}):(0,Na.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,Na.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,Na.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Na.jsx)(Je,{className:"w-6 h-6 text-brand-neon-green"}),(0,Na.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Tournament Leaderboards"})]})}),S?(0,Na.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,Na.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-neon-green"})}):_.length>0?(0,Na.jsx)("div",{className:"space-y-4",children:_.map(e=>{var t;return(0,Na.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 hover:bg-gray-100 transition-colors cursor-pointer border border-gray-200",onClick:()=>(async e=>{if(T(e),o("/leaderboard/tournament/".concat(e.id)),e.course_id)try{const t=await ua(e.course_id);t.data&&L(t.data)}catch(t){console.error("Error fetching course data:",t)}})(e),children:(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsxs)("div",{className:"flex-1",children:[(0,Na.jsx)("h4",{className:"font-semibold text-gray-900 mb-1",children:e.name}),(0,Na.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),(0,Na.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[(0,Na.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,Na.jsx)(Aa,{className:"w-3 h-3"}),(0,Na.jsx)("span",{children:new Date(e.start_date).toLocaleDateString()})]}),(0,Na.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,Na.jsx)(Ze,{className:"w-3 h-3"}),(0,Na.jsx)("span",{children:(null===(t=e.tournament_format)||void 0===t?void 0:t.replace("_"," "))||"Unknown"})]})]})]}),(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsx)(Da,{className:"w-4 h-4 text-gray-400"}),(0,Na.jsx)(Ra,{className:"w-4 h-4 text-gray-400"})]})]})},e.id)})}):(0,Na.jsxs)("div",{className:"text-center py-8",children:[(0,Na.jsx)(Je,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Na.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Tournaments Available"}),(0,Na.jsx)("p",{className:"text-gray-500 text-sm",children:"There are no tournaments available to view at this time."})]})]})})]})})},sn=Ye("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),an=Ye("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);function nn(e){var t,r,s="";if("string"==typeof e||"number"==typeof e)s+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=nn(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}const ln=function(){for(var e,t,r=0,s="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=nn(e))&&(s&&(s+=" "),s+=t);return s},on=["theme","type","isLoading"];!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}(':root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\n');var cn=e=>"number"==typeof e&&!isNaN(e),dn=e=>"string"==typeof e,un=e=>"function"==typeof e,mn=e=>dn(e)||un(e)?e:null,xn=(e,t)=>!1===e||cn(e)&&e>0?e:t,hn=e=>(0,n.isValidElement)(e)||dn(e)||un(e)||cn(e);function pn(e){let{enter:t,exit:r,appendPosition:s=!1,collapse:a=!0,collapseDuration:l=300}=e;return function(e){let{children:o,position:i,preventExitTransition:c,done:d,nodeRef:u,isIn:m,playToast:x}=e,h=s?"".concat(t,"--").concat(i):t,p=s?"".concat(r,"--").concat(i):r,f=(0,n.useRef)(0);return(0,n.useLayoutEffect)(()=>{let e=u.current,t=h.split(" "),r=s=>{s.target===u.current&&(x(),e.removeEventListener("animationend",r),e.removeEventListener("animationcancel",r),0===f.current&&"animationcancel"!==s.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",r),e.addEventListener("animationcancel",r)},[]),(0,n.useEffect)(()=>{let e=u.current,t=()=>{e.removeEventListener("animationend",t),a?function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,{scrollHeight:s,style:a}=e;requestAnimationFrame(()=>{a.minHeight="initial",a.height=s+"px",a.transition="all ".concat(r,"ms"),requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(t,r)})})}(e,d,l):d()};m||(c?t():(f.current=1,e.className+=" ".concat(p),e.addEventListener("animationend",t)))},[m]),n.createElement(n.Fragment,null,o)}}function fn(e,t){return{content:bn(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function bn(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,n.isValidElement)(e)&&!dn(e.type)?(0,n.cloneElement)(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):un(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):e}function gn(e){let{delay:t,isRunning:r,closeToast:s,type:a="default",hide:l,className:o,controlledProgress:i,progress:c,rtl:d,isIn:u,theme:m}=e,x=l||i&&0===c,h={animationDuration:"".concat(t,"ms"),animationPlayState:r?"running":"paused"};i&&(h.transform="scaleX(".concat(c,")"));let p=ln("Toastify__progress-bar",i?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--".concat(m),"Toastify__progress-bar--".concat(a),{"Toastify__progress-bar--rtl":d}),f=un(o)?o({rtl:d,type:a,defaultClassName:p}):ln(p,o),b={[i&&c>=1?"onTransitionEnd":"onAnimationEnd"]:i&&c<1?null:()=>{u&&s()}};return n.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":x},n.createElement("div",{className:"Toastify__progress-bar--bg Toastify__progress-bar-theme--".concat(m," Toastify__progress-bar--").concat(a)}),n.createElement("div",Ue({role:"progressbar","aria-hidden":x?"true":"false","aria-label":"notification timer",className:f,style:h},b)))}var yn=1,vn=()=>"".concat(yn++);function jn(e,t,r){let s=1,a=0,n=[],l=[],o=t,i=new Map,c=new Set,d=()=>{l=Array.from(i.values()),c.forEach(e=>e())},u=e=>{var t,r;null==(r=null==(t=e.props)?void 0:t.onClose)||r.call(t,e.removalReason),e.isActive=!1},m=e=>{if(null==e)i.forEach(u);else{let t=i.get(e);t&&u(t)}d()},x=e=>{var t,s;let{toastId:a,updateId:n}=e.props,l=null==n;e.staleId&&i.delete(e.staleId),e.isActive=!0,i.set(a,e),d(),r(fn(e,l?"added":"updated")),l&&(null==(s=(t=e.props).onOpen)||s.call(t))};return{id:e,props:o,observe:e=>(c.add(e),()=>c.delete(e)),toggle:(e,t)=>{i.forEach(r=>{var s;(null==t||t===r.props.toastId)&&(null==(s=r.toggle)||s.call(r,e))})},removeToast:m,toasts:i,clearQueue:()=>{a-=n.length,n=[]},buildToast:(t,l)=>{if((t=>{let{containerId:r,toastId:s,updateId:a}=t,n=r?r!==e:1!==e,l=i.has(s)&&null==a;return n||l})(l))return;let{toastId:c,updateId:u,data:h,staleId:p,delay:f}=l,b=null==u;b&&a++;let g=Ue(Ue(Ue({},o),{},{style:o.toastStyle,key:s++},Object.fromEntries(Object.entries(l).filter(e=>{let[t,r]=e;return null!=r}))),{},{toastId:c,updateId:u,data:h,isIn:!1,className:mn(l.className||o.toastClassName),progressClassName:mn(l.progressClassName||o.progressClassName),autoClose:!l.isLoading&&xn(l.autoClose,o.autoClose),closeToast(e){i.get(c).removalReason=e,m(c)},deleteToast(){let e=i.get(c);if(null!=e){if(r(fn(e,"removed")),i.delete(c),a--,a<0&&(a=0),n.length>0)return void x(n.shift());d()}}});g.closeButton=o.closeButton,!1===l.closeButton||hn(l.closeButton)?g.closeButton=l.closeButton:!0===l.closeButton&&(g.closeButton=!hn(o.closeButton)||o.closeButton);let y={content:t,props:g,staleId:p};o.limit&&o.limit>0&&a>o.limit&&b?n.push(y):cn(f)?setTimeout(()=>{x(y)},f):x(y)},setProps(e){o=e},setToggle:(e,t)=>{let r=i.get(e);r&&(r.toggle=t)},isToastActive:e=>{var t;return null==(t=i.get(e))?void 0:t.isActive},getSnapshot:()=>l}}var Nn=new Map,wn=[],_n=new Set,kn=e=>_n.forEach(t=>t(e)),Sn=()=>Nn.size>0;function Cn(e,t){var r;if(t)return!(null==(r=Nn.get(t))||!r.isToastActive(e));let s=!1;return Nn.forEach(t=>{t.isToastActive(e)&&(s=!0)}),s}function En(e){if(Sn()){if(null==e||(e=>dn(e)||cn(e))(e))Nn.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Nn.get(e.containerId);t?t.removeToast(e.id):Nn.forEach(t=>{t.removeToast(e.id)})}}else wn=wn.filter(t=>null!=e&&t.options.toastId!==e)}function Tn(e,t){hn(e)&&(Sn()||wn.push({content:e,options:t}),Nn.forEach(r=>{r.buildToast(e,t)}))}function Pn(e,t){Nn.forEach(r=>{(null==t||null==t||!t.containerId||(null==t?void 0:t.containerId)===r.id)&&r.toggle(e,null==t?void 0:t.id)})}function Ln(e){let t=e.containerId||1;return{subscribe(r){let s=jn(t,e,kn);Nn.set(t,s);let a=s.observe(r);return wn.forEach(e=>Tn(e.content,e.options)),wn=[],()=>{a(),Nn.delete(t)}},setProps(e){var r;null==(r=Nn.get(t))||r.setProps(e)},getSnapshot(){var e;return null==(e=Nn.get(t))?void 0:e.getSnapshot()}}}function Rn(e){return e&&(dn(e.toastId)||cn(e.toastId))?e.toastId:vn()}function Mn(e,t){return Tn(e,t),t.toastId}function An(e,t){return Ue(Ue({},t),{},{type:t&&t.type||e,toastId:Rn(t)})}function Dn(e){return(t,r)=>Mn(t,An(e,r))}function In(e,t){return Mn(e,An("default",t))}function On(e){let[t,r]=(0,n.useState)(!1),[s,a]=(0,n.useState)(!1),l=(0,n.useRef)(null),o=(0,n.useRef)({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:i,pauseOnHover:c,closeToast:d,onClick:u,closeOnClick:m}=e;function x(){r(!0)}function h(){r(!1)}function p(r){let s=l.current;if(o.canDrag&&s){o.didMove=!0,t&&h(),"x"===e.draggableDirection?o.delta=r.clientX-o.start:o.delta=r.clientY-o.start,o.start!==r.clientX&&(o.canCloseOnClick=!1);let a="x"===e.draggableDirection?"".concat(o.delta,"px, var(--y)"):"0, calc(".concat(o.delta,"px + var(--y))");s.style.transform="translate3d(".concat(a,",0)"),s.style.opacity="".concat(1-Math.abs(o.delta/o.removalDistance))}}function f(){document.removeEventListener("pointermove",p),document.removeEventListener("pointerup",f);let t=l.current;if(o.canDrag&&o.didMove&&t){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return a(!0),e.closeToast(!0),void e.collapseAll();t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}(function(e){var t;null==(t=Nn.get(e.containerId||1))||t.setToggle(e.id,e.fn)})({id:e.toastId,containerId:e.containerId,fn:r}),(0,n.useEffect)(()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||h(),window.addEventListener("focus",x),window.addEventListener("blur",h),()=>{window.removeEventListener("focus",x),window.removeEventListener("blur",h)}},[e.pauseOnFocusLoss]);let b={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){o.didMove=!1,document.addEventListener("pointermove",p),document.addEventListener("pointerup",f);let r=l.current;o.canCloseOnClick=!0,o.canDrag=!0,r.style.transition="none","x"===e.draggableDirection?(o.start=t.clientX,o.removalDistance=r.offsetWidth*(e.draggablePercent/100)):(o.start=t.clientY,o.removalDistance=r.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){let{top:r,bottom:s,left:a,right:n}=l.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=a&&t.clientX<=n&&t.clientY>=r&&t.clientY<=s?h():x()}};return i&&c&&(b.onMouseEnter=h,e.stacked||(b.onMouseLeave=x)),m&&(b.onClick=e=>{u&&u(e),o.canCloseOnClick&&d(!0)}),{playToast:x,pauseToast:h,isRunning:t,preventExitTransition:s,toastRef:l,eventHandlers:b}}In.loading=(e,t)=>Mn(e,An("default",Ue({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t))),In.promise=function(e,t,r){let s,{pending:a,error:n,success:l}=t;a&&(s=dn(a)?In.loading(a,r):In.loading(a.render,Ue(Ue({},r),a)));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},i=(e,t,a)=>{if(null==t)return void In.dismiss(s);let n=Ue(Ue(Ue({type:e},o),r),{},{data:a}),l=dn(t)?{render:t}:t;return s?In.update(s,Ue(Ue({},n),l)):In(l.render,Ue(Ue({},n),l)),a},c=un(e)?e():e;return c.then(e=>i("success",l,e)).catch(e=>i("error",n,e)),c},In.success=Dn("success"),In.info=Dn("info"),In.error=Dn("error"),In.warning=Dn("warning"),In.warn=In.warning,In.dark=(e,t)=>Mn(e,An("default",Ue({theme:"dark"},t))),In.dismiss=function(e){En(e)},In.clearWaitingQueue=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Nn.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})},In.isActive=Cn,In.update=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=((e,t)=>{let{containerId:r}=t;var s;return null==(s=Nn.get(r||1))?void 0:s.toasts.get(e)})(e,t);if(r){let{props:s,content:a}=r,n=Ue(Ue(Ue({delay:100},s),t),{},{toastId:t.toastId||e,updateId:vn()});n.toastId!==e&&(n.staleId=e);let l=n.render||a;delete n.render,Mn(l,n)}},In.done=e=>{In.update(e,{progress:1})},In.onChange=function(e){return _n.add(e),()=>{_n.delete(e)}},In.play=e=>Pn(!0,e),In.pause=e=>Pn(!1,e);var Fn="undefined"!=typeof window?n.useLayoutEffect:n.useEffect,zn=e=>{let{theme:t,type:r,isLoading:s}=e,a=He(e,on);return n.createElement("svg",Ue({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":"var(--toastify-icon-color-".concat(r,")")},a))};var Un={info:function(e){return n.createElement(zn,Ue({},e),n.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return n.createElement(zn,Ue({},e),n.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return n.createElement(zn,Ue({},e),n.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return n.createElement(zn,Ue({},e),n.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return n.createElement("div",{className:"Toastify__spinner"})}};function Hn(e){let{theme:t,type:r,isLoading:s,icon:a}=e,l=null,o={theme:t,type:r};return!1===a||(un(a)?l=a(Ue(Ue({},o),{},{isLoading:s})):(0,n.isValidElement)(a)?l=(0,n.cloneElement)(a,o):s?l=Un.spinner():(e=>e in Un)(r)&&(l=Un[r](o))),l}var Bn=e=>{let{isRunning:t,preventExitTransition:r,toastRef:s,eventHandlers:a,playToast:l}=On(e),{closeButton:o,children:i,autoClose:c,onClick:d,type:u,hideProgressBar:m,closeToast:x,transition:h,position:p,className:f,style:b,progressClassName:g,updateId:y,role:v,progress:j,rtl:N,toastId:w,deleteToast:_,isIn:k,isLoading:S,closeOnClick:C,theme:E,ariaLabel:T}=e,P=ln("Toastify__toast","Toastify__toast-theme--".concat(E),"Toastify__toast--".concat(u),{"Toastify__toast--rtl":N},{"Toastify__toast--close-on-click":C}),L=un(f)?f({rtl:N,position:p,type:u,defaultClassName:P}):ln(P,f),R=Hn(e),M=!!j||!c,A={closeToast:x,type:u,theme:E},D=null;return!1===o||(D=un(o)?o(A):(0,n.isValidElement)(o)?(0,n.cloneElement)(o,A):function(e){let{closeToast:t,theme:r,ariaLabel:s="close"}=e;return n.createElement("button",{className:"Toastify__close-button Toastify__close-button--".concat(r),type:"button",onClick:e=>{e.stopPropagation(),t(!0)},"aria-label":s},n.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},n.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(A)),n.createElement(h,{isIn:k,done:_,position:p,preventExitTransition:r,nodeRef:s,playToast:l},n.createElement("div",Ue(Ue({id:w,tabIndex:0,onClick:d,"data-in":k,className:L},a),{},{style:b,ref:s},k&&{role:v,"aria-label":T}),null!=R&&n.createElement("div",{className:ln("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!S})},R),bn(i,e,!t),D,!e.customProgressBar&&n.createElement(gn,Ue(Ue({},y&&!M?{key:"p-".concat(y)}:{}),{},{rtl:N,theme:E,delay:c,isRunning:t,isIn:k,closeToast:x,hide:m,type:u,className:g,controlledProgress:M,progress:j||0}))))},Wn=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}},qn=pn(Wn("bounce",!0)),Vn=(pn(Wn("slide",!0)),pn(Wn("zoom")),pn(Wn("flip")),{position:"top-right",transition:qn,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&"KeyT"===e.code});function Gn(e){let t=Ue(Ue({},Vn),e),r=e.stacked,[s,a]=(0,n.useState)(!0),l=(0,n.useRef)(null),{getToastToRender:o,isToastActive:i,count:c}=function(e){var t;let{subscribe:r,getSnapshot:s,setProps:a}=(0,n.useRef)(Ln(e)).current;a(e);let l=null==(t=(0,n.useSyncExternalStore)(r,s,s))?void 0:t.slice();return{getToastToRender:function(t){if(!l)return[];let r=new Map;return e.newestOnTop&&l.reverse(),l.forEach(e=>{let{position:t}=e.props;r.has(t)||r.set(t,[]),r.get(t).push(e)}),Array.from(r,e=>t(e[0],e[1]))},isToastActive:Cn,count:null==l?void 0:l.length}}(t),{className:d,style:u,rtl:m,containerId:x,hotKeys:h}=t;function p(e){let t=ln("Toastify__toast-container","Toastify__toast-container--".concat(e),{"Toastify__toast-container--rtl":m});return un(d)?d({position:e,rtl:m,defaultClassName:t}):ln(t,mn(d))}function f(){r&&(a(!0),In.play())}return Fn(()=>{var e;if(r){let r=l.current.querySelectorAll('[data-in="true"]'),a=12,n=null==(e=t.position)?void 0:e.includes("top"),o=0,i=0;Array.from(r).reverse().forEach((e,t)=>{let r=e;r.classList.add("Toastify__toast--stacked"),t>0&&(r.dataset.collapsed="".concat(s)),r.dataset.pos||(r.dataset.pos=n?"top":"bot");let l=o*(s?.2:1)+(s?0:a*t);r.style.setProperty("--y","".concat(n?l:-1*l,"px")),r.style.setProperty("--g","".concat(a)),r.style.setProperty("--s","".concat(1-(s?i:0))),o+=r.offsetHeight,i+=.025})}},[s,c,r]),(0,n.useEffect)(()=>{function e(e){var t;let r=l.current;h(e)&&(null==(t=r.querySelector('[tabIndex="0"]'))||t.focus(),a(!1),In.pause()),"Escape"===e.key&&(document.activeElement===r||null!=r&&r.contains(document.activeElement))&&(a(!0),In.play())}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[h]),n.createElement("section",{ref:l,className:"Toastify",id:x,onMouseEnter:()=>{r&&(a(!1),In.pause())},onMouseLeave:f,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},o((e,t)=>{let s=t.length?Ue({},u):Ue(Ue({},u),{},{pointerEvents:"none"});return n.createElement("div",{tabIndex:-1,className:p(e),"data-stacked":r,style:s,key:"c-".concat(e)},t.map(e=>{let{content:t,props:s}=e;return n.createElement(Bn,Ue(Ue({},s),{},{stacked:r,collapseAll:f,isIn:i(s.toastId,s.containerId),key:"t-".concat(s.key)}),t)}))}))}const $n=()=>{var e,t,r;const[s,a]=(0,n.useState)([]),[l,o]=(0,n.useState)(null),[i,c]=(0,n.useState)([]),[d,u]=(0,n.useState)([]),[m,x]=(0,n.useState)(null),[h,p]=(0,n.useState)(null),[f,b]=(0,n.useState)("tournament"),[g,y]=(0,n.useState)(!0),[v,j]=(0,n.useState)(!1),[N,w]=(0,n.useState)(""),[_,k]=(0,n.useState)(""),[S,C]=(0,n.useState)({player1:{hole1:"",hole2:"",hole3:""},player2:{hole1:"",hole2:"",hole3:""}}),[E,T]=(0,n.useState)((new Date).toISOString().split("T")[0]);(0,n.useEffect)(()=>{(async()=>{try{const[e,t,r]=await Promise.all([Rs.get("/players"),Rs.get("/league/settings"),Gs()]);a(e.data),o(t.data),c(r.data)}catch(e){console.error("Error fetching scoring data:",e)}finally{y(!1)}})()},[]),(0,n.useEffect)(()=>{if(m){(async()=>{try{const e=await la(m.id);u(e.data)}catch(e){console.error("Error loading tournament matches:",e)}})()}},[m]);const P=(e,t,r)=>{C(s=>Ue(Ue({},s),{},{[e]:Ue(Ue({},s[e]),{},{[t]:r})}))},L=()=>{let e=0,t=0;for(let r=1;r<=3;r++){const s="hole".concat(r),a=parseInt(S.player1[s])||0,n=parseInt(S.player2[s])||0;a<n?e++:n<a&&t++}return e>t?"player1":t>e?"player2":"tie"},R=()=>{w(""),k(""),C({player1:{hole1:"",hole2:"",hole3:""},player2:{hole1:"",hole2:"",hole3:""}}),T((new Date).toISOString().split("T")[0])};return g?(0,Na.jsx)("div",{className:"flex items-center justify-center min-h-64",children:(0,Na.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-neon-green"})}):(0,Na.jsxs)("div",{className:"space-y-8",children:[(0,Na.jsx)(Gn,{position:"top-center",autoClose:3e3,hideProgressBar:!0,newestOnTop:!0,closeOnClick:!0,pauseOnFocusLoss:!1,pauseOnHover:!1}),(0,Na.jsxs)("div",{className:"text-center bg-white/95 rounded-2xl p-8 shadow-lg",children:[(0,Na.jsx)("img",{src:"/logo-color.svg",alt:"Golf League Logo",className:"h-20 w-auto mx-auto mb-4"}),(0,Na.jsx)("h1",{className:"text-4xl font-bold text-brand-black mb-4",children:"Match Scoring"}),(0,Na.jsx)("p",{className:"text-xl text-neutral-600",children:"Score tournament matches or create manual matches"})]}),(0,Na.jsxs)("div",{className:"bg-white/95 rounded-2xl shadow-lg",children:[(0,Na.jsx)("div",{className:"border-b border-neutral-200",children:(0,Na.jsxs)("nav",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-8 px-6",children:[(0,Na.jsxs)("button",{onClick:()=>b("tournament"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("tournament"===f?"border-brand-neon-green text-brand-black":"border-transparent text-neutral-600 hover:text-neutral-800"),children:[(0,Na.jsx)(Je,{className:"w-5 h-5 inline mr-2"}),"Tournament Matches"]}),(0,Na.jsxs)("button",{onClick:()=>b("manual"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("manual"===f?"border-brand-neon-green text-brand-black":"border-transparent text-neutral-600 hover:text-neutral-800"),children:[(0,Na.jsx)(sn,{className:"w-5 h-5 inline mr-2"}),"Manual Scoring"]})]})}),(0,Na.jsxs)("div",{className:"p-4 sm:p-6",children:["tournament"===f&&(0,Na.jsx)("div",{className:"space-y-6",children:(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h2",{className:"text-2xl font-bold text-brand-black mb-4",children:"Tournament Matches"}),i.length>0?(0,Na.jsxs)("div",{className:"space-y-6",children:[(0,Na.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(e=>(0,Na.jsxs)("div",{onClick:()=>(e=>{x(e),p(null),R()})(e),className:"p-4 rounded-lg border cursor-pointer transition-colors ".concat((null===m||void 0===m?void 0:m.id)===e.id?"border-brand-neon-green bg-brand-neon-green/10":"border-neutral-300 hover:border-neutral-400 bg-white"),children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Na.jsx)("h3",{className:"font-semibold text-brand-black",children:e.name}),(0,Na.jsx)(Je,{className:"w-5 h-5 text-brand-neon-green"})]}),(0,Na.jsx)("p",{className:"text-sm text-neutral-600 mb-2",children:e.type}),e.start_date&&(0,Na.jsx)("p",{className:"text-xs text-neutral-500",children:new Date(e.start_date).toLocaleDateString()}),e.notes&&(0,Na.jsx)("p",{className:"text-xs text-neutral-600 mt-2 line-clamp-2",children:e.notes})]},e.id))}),m&&(0,Na.jsxs)("div",{className:"bg-neutral-50 rounded-lg p-4",children:[(0,Na.jsxs)("h3",{className:"text-lg font-semibold text-brand-black mb-3",children:["Matches for ",m.name]}),h?(0,Na.jsxs)("div",{className:"space-y-4",children:[(0,Na.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between space-y-2 sm:space-y-0",children:[(0,Na.jsxs)("h4",{className:"text-lg font-semibold text-brand-black",children:["Score Match #",h.match_number]}),(0,Na.jsxs)("button",{onClick:()=>{p(null),R()},className:"flex items-center px-3 py-1 text-sm border border-neutral-300 rounded text-neutral-600 hover:bg-neutral-50 transition-colors w-full sm:w-auto justify-center",children:[(0,Na.jsx)(tt,{className:"w-4 h-4 mr-1"}),"Back to Queue"]})]}),(0,Na.jsx)("div",{className:"bg-white rounded-lg p-4 sm:p-6 border border-neutral-200",children:(0,Na.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!h||!m)return void In.error("Please select a tournament match");if(Object.values(S.player1).some(e=>""!==e)||Object.values(S.player2).some(e=>""!==e)){j(!0);try{const e=L(),t=(s.find(e=>e.member_id===N),s.find(e=>e.member_id===_),{winner_id:"player1"===e?N:"player2"===e?_:null,scores:S,status:"completed"});await ia(m.id,h.id,t);const r=await la(m.id);u(r.data),p(null),R(),In.success("Tournament match scored successfully!")}catch(t){console.error("Error scoring tournament match:",t),In.error("Error scoring match. Please try again.")}finally{j(!1)}}else In.error("Please enter at least some scores")},className:"space-y-6",children:[(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-2",children:"Player 1"}),(0,Na.jsx)("input",{type:"text",value:"".concat(h.player1_first_name," ").concat(h.player1_last_name),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg bg-neutral-100",disabled:!0})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-2",children:"Player 2"}),(0,Na.jsx)("input",{type:"text",value:"".concat(h.player2_first_name," ").concat(h.player2_last_name),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg bg-neutral-100",disabled:!0})]})]}),(0,Na.jsxs)("div",{className:"space-y-4",children:[(0,Na.jsx)("h3",{className:"font-medium text-brand-black",children:"Hole Scores"}),[1,2,3].map(e=>(0,Na.jsxs)("div",{className:"bg-neutral-50 rounded-lg p-4",children:[(0,Na.jsxs)("h4",{className:"font-medium text-brand-black mb-3",children:["Hole ",e]}),(0,Na.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:h.player1_first_name}),(0,Na.jsx)("input",{type:"number",min:"1",value:S.player1["hole".concat(e)],onChange:t=>P("player1","hole".concat(e),t.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",placeholder:"Score"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:h.player2_first_name}),(0,Na.jsx)("input",{type:"number",min:"1",value:S.player2["hole".concat(e)],onChange:t=>P("player2","hole".concat(e),t.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",placeholder:"Score"})]})]})]},e))]}),(0,Na.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4",children:[(0,Na.jsxs)("button",{type:"button",onClick:()=>{p(null),R()},className:"flex items-center justify-center px-4 py-2 border border-neutral-300 rounded-lg text-neutral-600 hover:bg-neutral-50 transition-colors",children:[(0,Na.jsx)(tt,{className:"w-4 h-4 mr-2"}),"Cancel"]}),(0,Na.jsxs)("button",{type:"submit",disabled:v,className:"flex items-center justify-center px-6 py-2 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors disabled:opacity-50",children:[v?(0,Na.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-brand-black mr-2"}):(0,Na.jsx)(an,{className:"w-4 h-4 mr-2"}),v?"Saving...":"Save Score"]})]})]})})]}):d.length>0?(0,Na.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:d.map(e=>(0,Na.jsxs)("div",{onClick:()=>(e=>{p(e),w(e.player1_id),k(e.player2_id),C({player1:{hole1:"",hole2:"",hole3:""},player2:{hole1:"",hole2:"",hole3:""}})})(e),className:"p-4 rounded-lg border cursor-pointer transition-all duration-200 ".concat("completed"===e.status?"border-green-300 bg-green-50 opacity-75":"border-neutral-300 hover:border-neutral-400 bg-white hover:shadow-md"),children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Na.jsxs)("h4",{className:"font-semibold text-brand-black",children:["Match #",e.match_number]}),(0,Na.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat("completed"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.status})]}),(0,Na.jsxs)("div",{className:"space-y-2",children:[(0,Na.jsxs)("div",{className:"text-sm",children:[(0,Na.jsxs)("p",{className:"font-medium text-neutral-700",children:[e.player1_first_name," ",e.player1_last_name]}),(0,Na.jsx)("p",{className:"text-xs text-neutral-500",children:"vs"}),(0,Na.jsxs)("p",{className:"font-medium text-neutral-700",children:[e.player2_first_name," ",e.player2_last_name]})]}),"completed"===e.status&&e.winner_first_name&&(0,Na.jsx)("div",{className:"mt-2 p-2 bg-green-100 rounded text-xs",children:(0,Na.jsxs)("p",{className:"font-medium text-green-800",children:["Winner: ",e.winner_first_name," ",e.winner_last_name]})}),"pending"===e.status&&(0,Na.jsx)("div",{className:"mt-2",children:(0,Na.jsx)("button",{className:"w-full text-sm bg-brand-neon-green text-brand-black py-2 px-3 rounded hover:bg-green-400 transition-colors",children:"Score Match"})})]})]},e.id))}):(0,Na.jsx)("p",{className:"text-center text-neutral-600 py-4",children:"No matches found for this tournament."})]})]}):(0,Na.jsx)("p",{className:"text-center text-neutral-600 py-4",children:"No tournaments available."})]})}),"manual"===f&&(0,Na.jsxs)("div",{className:"space-y-6",children:[(0,Na.jsx)("h2",{className:"text-2xl font-bold text-brand-black",children:"Manual Match Scoring"}),(0,Na.jsx)("div",{className:"bg-neutral-50 rounded-lg p-4 sm:p-6",children:(0,Na.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!N||!_)return void In.error("Please select both players");if(N===_)return void In.error("Players cannot play against themselves");if(Object.values(S.player1).some(e=>""!==e)||Object.values(S.player2).some(e=>""!==e)){j(!0);try{const e=L(),t=s.find(e=>e.member_id===N),r=s.find(e=>e.member_id===_),a="player1"===e?"".concat(null===t||void 0===t?void 0:t.first_name," ").concat(null===t||void 0===t?void 0:t.last_name):"player2"===e?"".concat(null===r||void 0===r?void 0:r.first_name," ").concat(null===r||void 0===r?void 0:r.last_name):"Tie",n={player1_id:N,player2_id:_,scores:S,winner:a,match_date:E};await(e=>Rs.post("/matches",e))(n),R(),In.success("Match saved successfully!")}catch(t){console.error("Error saving match:",t),In.error("Error saving match. Please try again.")}finally{j(!1)}}else In.error("Please enter at least some scores")},className:"space-y-6",children:[(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-2",children:"Player 1"}),(0,Na.jsxs)("select",{value:N,onChange:e=>w(e.target.value?parseInt(e.target.value):""),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent bg-white",required:!0,children:[(0,Na.jsx)("option",{value:"",children:"Select Player 1"}),s.map(e=>(0,Na.jsxs)("option",{value:e.member_id,children:[e.first_name," ",e.last_name," (",e.club,")"]},e.member_id))]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-2",children:"Player 2"}),(0,Na.jsxs)("select",{value:_,onChange:e=>k(e.target.value?parseInt(e.target.value):""),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent bg-white",required:!0,children:[(0,Na.jsx)("option",{value:"",children:"Select Player 2"}),s.map(e=>(0,Na.jsxs)("option",{value:e.member_id,children:[e.first_name," ",e.last_name," (",e.club,")"]},e.member_id))]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-2",children:"Match Date"}),(0,Na.jsx)("input",{type:"date",value:E,onChange:e=>T(e.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent bg-white"})]})]}),(0,Na.jsxs)("div",{className:"space-y-4",children:[(0,Na.jsx)("h3",{className:"font-medium text-brand-black",children:"Hole Scores"}),[1,2,3].map(e=>(0,Na.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-neutral-200",children:[(0,Na.jsxs)("h4",{className:"font-medium text-brand-black mb-3",children:["Hole ",e]}),(0,Na.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Player 1"}),(0,Na.jsx)("input",{type:"number",min:"1",value:S.player1["hole".concat(e)],onChange:t=>P("player1","hole".concat(e),t.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",placeholder:"Score"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Player 2"}),(0,Na.jsx)("input",{type:"number",min:"1",value:S.player2["hole".concat(e)],onChange:t=>P("player2","hole".concat(e),t.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",placeholder:"Score"})]})]})]},e))]}),l&&(0,Na.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-neutral-200",children:[(0,Na.jsx)("h3",{className:"font-medium text-brand-black mb-2",children:"Scoring Rules"}),(0,Na.jsxs)("p",{className:"text-sm text-neutral-600",children:["Win: ",(null===(e=l.scoring_rules)||void 0===e?void 0:e.win)||3," pts | Tie: ",(null===(t=l.scoring_rules)||void 0===t?void 0:t.tie)||1," pt | Loss: ",(null===(r=l.scoring_rules)||void 0===r?void 0:r.loss)||0," pts"]})]}),(0,Na.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4",children:[(0,Na.jsxs)("button",{type:"button",onClick:R,className:"flex items-center justify-center px-4 py-2 border border-neutral-300 rounded-lg text-neutral-600 hover:bg-neutral-50 transition-colors",children:[(0,Na.jsx)(tt,{className:"w-4 h-4 mr-2"}),"Reset"]}),(0,Na.jsxs)("button",{type:"submit",disabled:v,className:"flex items-center justify-center px-6 py-2 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors disabled:opacity-50",children:[v?(0,Na.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-brand-black mr-2"}):(0,Na.jsx)(an,{className:"w-4 h-4 mr-2"}),v?"Saving...":"Save Match"]})]})]})})]})]})]})]})},Yn=Ye("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Qn=Ye("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const Kn=(e,t)=>{const{user:r}=ka(),[s,a]=(0,n.useState)(null),[l,o]=(0,n.useState)(!0),[i,c]=(0,n.useState)(null);return(0,n.useEffect)(()=>{(async()=>{if(r&&t)try{o(!0),c(null);try{const t=await((e,t)=>Rs.get("/tournaments/".concat(e,"/user-course/").concat(t)))(e,r.member_id);a(t.data)}catch(s){console.warn("API course assignment failed, falling back to local logic:",s);const n=function(e,t){const r=function(e){return"No. 8"===e?"trackman":"gspro"}(t);return"trackman"===r&&e.trackman_course_id?{course:e.trackman_course,course_id:e.trackman_course_id,platform:"trackman"}:"gspro"===r&&e.gspro_course_id?{course:e.gspro_course,course_id:e.gspro_course_id,platform:"gspro"}:{course:e.course,course_id:e.course_id,platform:"legacy"}}(t,r.club);a({tournament_id:e,tournament_name:t.name,user_id:r.member_id,user_name:"".concat(r.first_name," ").concat(r.last_name),user_club:r.club,course_preference:"No. 8"===r.club?"trackman":"gspro",course:n.course,course_id:n.course_id,platform:n.platform})}}catch(n){console.error("Error fetching user course:",n),c("Failed to load course assignment")}finally{o(!1)}else o(!1)})()},[e,t,r]),{courseData:s,loading:l,error:i,courseId:(null===s||void 0===s?void 0:s.course_id)||null}},Jn=e=>{let{tournamentId:t,tournamentFormat:r,tournamentSettings:s,onScoreSubmitted:a,courseId:l,tournament:o}=e;const[i,c]=(0,n.useState)([]),[d,u]=(0,n.useState)([]),[m,x]=(0,n.useState)(null),[h,p]=(0,n.useState)(!1),[f,b]=(0,n.useState)(!0),[g,y]=(0,n.useState)(!1),[v,j]=(0,n.useState)(null),[N,w]=(0,n.useState)(!1),[_,k]=(0,n.useState)({playerId:0,totalScore:"",holes:[],notes:""}),{courseData:S,loading:C,courseId:E}=Kn(t,o),T=(0,n.useRef)(null),[P,L]=(0,n.useState)(!1),[R,M]=(0,n.useState)(null),{holeCount:A,startHole:D}=(()=>{const e=(null===s||void 0===s?void 0:s.holeConfiguration)||"18";return"9"===e||"9_front"===e?{holeCount:9,startHole:1}:"9_back"===e?{holeCount:9,startHole:10}:{holeCount:18,startHole:1}})();(0,n.useEffect)(()=>{C||(async()=>{const e=E||l;if(e){console.log("Fetching course data for courseId:",e,"userCourseId:",E,"tournamentCourseId:",l);try{p(!0);const t=await ua(e);console.log("Course data response:",t.data),t.data?(x(t.data),console.log("Course data set successfully:",t.data),console.log("Par values:",t.data.par_values)):console.log("No course data found for courseId:",e)}catch(t){console.error("Error fetching course data:",t)}finally{p(!1)}}else console.log("No courseId available, skipping course data fetch")})()},[E,l,C]),(0,n.useEffect)(()=>{(async()=>{try{b(!0);const[e,r]=await Promise.all([Js(t),Hs(t)]);c(e.data||[]),u(r.data||[])}catch(e){console.error("Error fetching tournament data:",e),In.error("Failed to load tournament data")}finally{b(!1)}})()},[t]);const I=e=>e.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase());return f?(0,Na.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,Na.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-neon-green"})}):(0,Na.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,Na.jsxs)("div",{className:"bg-white rounded-none sm:rounded-xl border border-neutral-200 p-3 sm:p-6",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Na.jsx)(Je,{className:"w-6 h-6 text-brand-neon-green"}),(0,Na.jsx)("h3",{className:"text-xl font-bold text-brand-black",children:"Strokeplay Scoring"})]}),(0,Na.jsxs)("div",{className:"text-sm text-neutral-600",children:[I(r)," \u2022 ",A," holes"]})]}),(0,Na.jsxs)("p",{className:"text-neutral-600 mt-2",children:["Submit individual player scores for ",I(r)," tournament. Lowest total score wins."]}),m&&(0,Na.jsx)("div",{className:"mt-3 p-3 bg-neutral-50 rounded-lg",children:(0,Na.jsxs)("div",{className:"text-sm text-neutral-700",children:[(0,Na.jsx)("div",{className:"font-medium",children:m.name}),m.location&&(0,Na.jsx)("div",{className:"text-neutral-600",children:m.location}),m.designer&&(0,Na.jsxs)("div",{className:"text-neutral-600",children:["by ",m.designer]})]})}),S&&(0,Na.jsx)("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,Na.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,Na.jsx)("div",{className:"font-medium",children:"Your Course Assignment"}),(0,Na.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,Na.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("gspro"===S.platform?"bg-blue-100 text-blue-800":"trackman"===S.platform?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"),children:["gspro"===S.platform?"\ud83c\udfaf":"trackman"===S.platform?"\ud83d\udcca":"\ud83c\udfcc\ufe0f"," ",S.platform.toUpperCase()]}),(0,Na.jsx)("span",{children:S.course})]}),(0,Na.jsx)("div",{className:"text-xs text-blue-600 mt-1",children:"No. 8"===S.user_club?"Club No. 8 uses Trackman":"All other clubs use GSPro"})]})})]}),(0,Na.jsxs)("div",{className:"bg-white rounded-none sm:rounded-xl border border-neutral-200 p-3 sm:p-6",children:[(0,Na.jsx)("h4",{className:"text-lg font-semibold text-brand-black mb-4",children:"Tournament Participants"}),0===i.length?(0,Na.jsxs)("div",{className:"text-center py-8",children:[(0,Na.jsx)(Ze,{className:"w-12 h-12 text-neutral-400 mx-auto mb-4"}),(0,Na.jsx)("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"No participants registered"}),(0,Na.jsx)("p",{className:"text-neutral-600",children:"Players need to register for the tournament before scores can be submitted."})]}):(0,Na.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-4",children:i.map(e=>{const t=d.find(t=>t.user_id===e.user_member_id),r=!!t;return(0,Na.jsxs)("div",{className:"border rounded-lg p-3 sm:p-4 transition-all ".concat(r?"border-green-300 bg-green-50 cursor-default":"border-neutral-200 hover:border-brand-neon-green hover:shadow-md cursor-pointer"),onClick:r?void 0:()=>{return j(t=e),k({playerId:t.user_member_id,totalScore:"",holes:Array(A).fill("").map((e,t)=>({hole:D+t,score:""})),notes:""}),M(null),void w(!0);var t},children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Na.jsxs)("h5",{className:"font-semibold text-brand-black",children:[e.first_name," ",e.last_name]}),r?(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsx)(Oa,{className:"w-4 h-4 text-green-600"}),(0,Na.jsx)("span",{className:"text-sm font-medium text-green-600",children:t.total_strokes})]}):(0,Na.jsx)(sn,{className:"w-4 h-4 text-brand-neon-green"})]}),(0,Na.jsx)("p",{className:"text-sm text-neutral-600",children:e.club}),(0,Na.jsx)("p",{className:"text-xs text-neutral-500",children:e.email}),(0,Na.jsx)("div",{className:"mt-3",children:r?(0,Na.jsxs)("div",{className:"flex items-center justify-center space-x-2 px-3 py-2 bg-green-100 text-green-700 rounded-lg text-sm font-medium",children:[(0,Na.jsx)(Qn,{className:"w-4 h-4"}),"Score Submitted"]}):(0,Na.jsx)("button",{className:"w-full px-3 py-2 bg-brand-neon-green text-brand-black rounded-lg text-sm font-medium hover:bg-green-400 transition-colors",children:"Submit Score"})})]},e.user_member_id)})})]}),N&&v&&(0,Na.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Na.jsxs)("div",{className:"bg-white rounded-2xl p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Na.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Na.jsxs)("h3",{className:"text-2xl font-bold text-brand-black",children:["Strokeplay Scoring - ",v.first_name," ",v.last_name]}),(0,Na.jsx)("button",{onClick:()=>w(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:(0,Na.jsx)(tt,{className:"w-6 h-6"})})]}),(0,Na.jsxs)("div",{className:"space-y-6",children:[(0,Na.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 border border-blue-200 rounded-xl p-6",children:[(0,Na.jsx)("h4",{className:"text-lg font-semibold text-brand-black mb-4 text-center",children:"Player Information"}),(0,Na.jsx)("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:(0,Na.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Na.jsx)(Ze,{className:"w-5 h-5 text-blue-600"}),(0,Na.jsxs)("div",{children:[(0,Na.jsxs)("p",{className:"text-sm text-neutral-600 font-medium",children:[v.first_name," ",v.last_name]}),(0,Na.jsx)("p",{className:"text-xs text-neutral-500",children:v.club})]})]})})]}),(0,Na.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-xl p-6",children:[(0,Na.jsx)("h4",{className:"text-lg font-semibold text-brand-black mb-4",children:"Hole-by-Hole Scores"}),(0,Na.jsx)("div",{className:"overflow-x-auto",children:(0,Na.jsxs)("table",{className:"w-full border-collapse border border-neutral-300 rounded-lg",children:[(0,Na.jsx)("thead",{className:"bg-neutral-50",children:(0,Na.jsxs)("tr",{children:[(0,Na.jsx)("th",{className:"border border-neutral-300 px-3 py-2 text-center text-sm font-medium text-neutral-600",children:"Hole"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-3 py-2 text-center text-sm font-medium text-neutral-600",children:"Par"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-3 py-2 text-center text-sm font-medium text-neutral-600",children:"Score"})]})}),(0,Na.jsxs)("tbody",{children:[_.holes.map((e,t)=>{var r;const a=D-1+t,n=(null===m||void 0===m||null===(r=m.par_values)||void 0===r?void 0:r[a])||("Par 3"===(null===s||void 0===s?void 0:s.tee)?3:4);return console.log("Strokeplay scoring - Hole ".concat(e.hole,": parValueIndex=").concat(a,", parValue=").concat(n,", courseData.par_values="),null===m||void 0===m?void 0:m.par_values),(0,Na.jsxs)("tr",{className:"hover:bg-neutral-50",children:[(0,Na.jsx)("td",{className:"border border-neutral-300 px-3 py-2 text-center text-sm font-medium text-neutral-600",children:e.hole}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-3 py-2 text-center text-sm font-medium text-neutral-500",children:n}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-3 py-2",children:(0,Na.jsx)("input",{type:"number",min:"1",max:"10",value:e.score,onChange:e=>((e,t)=>{const r=[..._.holes];r[e]=Ue(Ue({},r[e]),{},{score:t});const s=r.reduce((e,t)=>e+(parseInt(t.score)||0),0);k(Ue(Ue({},_),{},{holes:r,totalScore:s.toString()}))})(t,e.target.value),className:"w-full px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-brand-neon-green focus:border-transparent text-center",placeholder:"-"})})]},e.hole)}),(0,Na.jsxs)("tr",{className:"bg-neutral-100 font-semibold",children:[(0,Na.jsx)("td",{className:"border border-neutral-300 px-3 py-2 text-center text-sm font-medium text-neutral-600",children:"Total"}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-3 py-2 text-center text-sm font-medium text-neutral-600",children:(()=>{if(null!==m&&void 0!==m&&m.par_values){return m.par_values.slice(D-1,D-1+A).reduce((e,t)=>e+t,0)}return A*("Par 3"===(null===s||void 0===s?void 0:s.tee)?3:4)})()}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-3 py-2 text-center",children:(0,Na.jsx)("input",{type:"number",min:"1",value:_.totalScore,onChange:e=>{return t=e.target.value,void k(Ue(Ue({},_),{},{totalScore:t}));var t},className:"w-full px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-brand-neon-green focus:border-transparent text-center font-semibold",placeholder:"0"})})]})]})]})})]}),(0,Na.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-xl p-6",children:[(0,Na.jsx)("h4",{className:"text-lg font-semibold text-brand-black mb-4",children:"Scorecard Photo (Optional)"}),(0,Na.jsxs)("div",{className:"space-y-4",children:[R?(0,Na.jsxs)("div",{className:"relative",children:[(0,Na.jsx)("img",{src:R,alt:"Scorecard",className:"w-full max-w-md h-auto rounded-lg border border-neutral-300"}),(0,Na.jsx)("button",{onClick:()=>M(null),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:(0,Na.jsx)(tt,{className:"w-4 h-4"})})]}):(0,Na.jsxs)("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-6 text-center",children:[(0,Na.jsx)(Wa,{className:"w-8 h-8 text-neutral-400 mx-auto mb-2"}),(0,Na.jsx)("p",{className:"text-neutral-600 mb-2",children:"Upload a photo of your scorecard"}),(0,Na.jsx)("button",{onClick:()=>{var e;null===(e=T.current)||void 0===e||e.click()},disabled:P,className:"px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors disabled:opacity-50",children:P?"Uploading...":"Upload Photo"})]}),(0,Na.jsx)("input",{ref:T,type:"file",accept:"image/*",onChange:async e=>{var t;const r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(r)if(console.log("Photo upload started:",r.name,r.size,r.type),r.type.startsWith("image/"))if(r.size>5242880)In.error("File size must be less than 5MB");else{L(!0);try{console.log("Uploading photo to server...");const e=await Fs(r);console.log("Photo upload response:",e.data),e.data.success?(M(e.data.photoUrl),In.success("Scorecard photo uploaded successfully"),console.log("Photo URL set:",e.data.photoUrl)):(console.error("Upload failed:",e.data),In.error("Upload failed: "+(e.data.error||"Unknown error")))}catch(a){var s;console.error("Error uploading photo:",a),console.error("Error details:",null===(s=a.response)||void 0===s?void 0:s.data),In.error("Failed to upload photo. Please try again.")}finally{L(!1)}}else In.error("Please select an image file")},className:"hidden"})]})]}),(0,Na.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-xl p-6",children:[(0,Na.jsx)("h4",{className:"text-lg font-semibold text-brand-black mb-4",children:"Additional Notes"}),(0,Na.jsx)("textarea",{value:_.notes,onChange:e=>k(Ue(Ue({},_),{},{notes:e.target.value})),placeholder:"Optional notes about the round...",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",rows:3})]}),(0,Na.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4 pt-4",children:[(0,Na.jsx)("button",{type:"button",onClick:()=>w(!1),className:"px-6 py-3 border border-neutral-300 rounded-lg text-neutral-600 hover:bg-neutral-50 transition-colors",children:"Cancel"}),(0,Na.jsx)("button",{onClick:async()=>{if(!v)return;console.log("Submitting strokeplay score for player:",v),console.log("Score form:",_),console.log("Scorecard photo URL:",R);if(_.holes.some(e=>""!==e.score))if(_.totalScore&&0!==parseInt(_.totalScore)){y(!0);try{const e={total_score:parseInt(_.totalScore),hole_scores:_.holes.map(e=>({hole:e.hole,score:parseInt(e.score)||0})),notes:_.notes,scorecard_photo_url:R||void 0,player_id:v.user_member_id};console.log("Submitting strokeplay score data:",e);const r=await Us(t,e);console.log("Tournament strokeplay score response:",r.data),In.success("Score submitted for ".concat(v.first_name," ").concat(v.last_name)),w(!1),j(null),k({playerId:0,totalScore:"",holes:[],notes:""}),M(null);try{const e=await Hs(t);u(e.data||[])}catch(n){console.error("Error refreshing submitted scores:",n)}a()}catch(n){var e,r,s;console.error("Error submitting strokeplay score:",n),console.error("Error details:",null===(e=n.response)||void 0===e?void 0:e.data),In.error("Failed to submit score: "+((null===(r=n.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.error)||n.message||"Unknown error"))}finally{y(!1)}}else In.error("Please enter a valid total score");else In.error("Please enter at least some hole scores")},disabled:!_.totalScore||0===parseInt(_.totalScore)||g,className:"px-6 py-3 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:g?"Submitting...":"Submit Score"})]})]})]})})]})},Xn=e=>{let{tournamentId:t,tournamentMatches:r=[],tournamentFormat:s="match_play",onScoreSubmitted:a,requiresMatches:l=!1,teams:o=[],tournamentSettings:i={},courseId:c}=e;const[d,u]=(0,n.useState)({}),[m,x]=(0,n.useState)(!1),[h,p]=(0,n.useState)(null),[f,b]=(0,n.useState)(null);(0,n.useEffect)(()=>{if("scramble"===s&&o.length>0){const e={};o.forEach(t=>{e[t.id]=0}),u(e)}else if(l&&r.length>0){const e={};r.forEach(t=>{e["".concat(t.id,"_player1")]=0,e["".concat(t.id,"_player2")]=0}),u(e)}},[s,o,r,l]);const g=(e,t)=>{u(r=>Ue(Ue({},r),{},{[e]:t}))},y=()=>"scramble"===s?f&&d[f.id]>0:!!l&&(h&&d["".concat(h.id,"_player1")]>0&&d["".concat(h.id,"_player2")]>0);return(0,Na.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,Na.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:["Submit Score - ","scramble"===s?"Scramble Format":"Match Play"]}),"scramble"===s?(0,Na.jsxs)("div",{className:"space-y-6",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Team"}),(0,Na.jsxs)("select",{value:(null===f||void 0===f?void 0:f.id)||"",onChange:e=>{const t=o.find(t=>t.id===e.target.value);b(t)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Na.jsx)("option",{value:"",children:"Select a team"}),o.map(e=>(0,Na.jsxs)("option",{value:e.id,children:[e.name," - ",e.captain.first_name," ",e.captain.last_name]},e.id))]})]}),f&&(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Team Score"}),(0,Na.jsx)("input",{type:"number",value:d[f.id]||"",onChange:e=>g(f.id,parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter team score"})]})]}):(0,Na.jsxs)("div",{className:"space-y-6",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Match"}),(0,Na.jsxs)("select",{value:(null===h||void 0===h?void 0:h.id)||"",onChange:e=>{const t=r.find(t=>t.id===parseInt(e.target.value));p(t)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Na.jsx)("option",{value:"",children:"Select a match"}),r.map(e=>(0,Na.jsxs)("option",{value:e.id,children:[e.player1_name," vs ",e.player2_name]},e.id))]})]}),h&&(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[h.player1_name," Score"]}),(0,Na.jsx)("input",{type:"number",value:d["".concat(h.id,"_player1")]||"",onChange:e=>g("".concat(h.id,"_player1"),parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter score"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[h.player2_name," Score"]}),(0,Na.jsx)("input",{type:"number",value:d["".concat(h.id,"_player2")]||"",onChange:e=>g("".concat(h.id,"_player2"),parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter score"})]})]})]}),(0,Na.jsx)("div",{className:"mt-8 flex justify-end",children:(0,Na.jsx)("button",{onClick:async()=>{if(!m){x(!0);try{"scramble"===s&&f?await((e,t,r)=>Rs.post("/tournaments/".concat(e,"/teams/").concat(t,"/score"),r))(t,f.id,{total_score:d[f.id]||0,submitted_by:1}):"stroke_play"===s?await Us(t,{total_score:Object.values(d).reduce((e,t)=>e+t,0),hole_scores:Object.entries(d).map((e,t)=>{let[r,s]=e;return{hole:t+1,score:s}})}):l&&h&&await zs({type:"stroke_play",player_name:"".concat(h.player1_name," vs ").concat(h.player2_name),date_played:(new Date).toISOString().split("T")[0],handicap:0,scores:{player1:d["".concat(h.id,"_player1")]||0,player2:d["".concat(h.id,"_player2")]||0},total_strokes:(d["".concat(h.id,"_player1")]||0)+(d["".concat(h.id,"_player2")]||0),total_mulligans:0,final_score:Math.min(d["".concat(h.id,"_player1")]||0,d["".concat(h.id,"_player2")]||0),tournament_id:t}),In.success("Score submitted successfully!"),null===a||void 0===a||a(),u({}),p(null),b(null)}catch(e){console.error("Error submitting score:",e),In.error("Failed to submit score. Please try again.")}finally{x(!1)}}},disabled:!y()||m,className:"px-6 py-2 rounded-md font-medium ".concat(y()&&!m?"bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:m?"Submitting...":"Submit Score"})})]})},Zn=Ye("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),el=Ye("wifi-off",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),tl=Ye("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),rl=(e,t,r)=>"".concat("weekly_scoring_cache","_").concat(e,"_").concat(t,"_").concat(r),sl=e=>{try{const t=localStorage.getItem(e);if(!t)return null;const{data:r,timestamp:s}=JSON.parse(t);return Date.now()-s>3e5?(localStorage.removeItem(e),null):r}catch(t){return console.error("Error reading cache:",t),null}},al=(e,t)=>{try{const r={data:t,timestamp:Date.now()};localStorage.setItem(e,JSON.stringify(r))}catch(r){console.error("Error writing cache:",r)}},nl=(e,t)=>{[rl(e,t,"leaderboard"),rl(e,t,"fieldStats"),rl(e,t,"playerScorecard")].forEach(e=>{try{localStorage.removeItem(e)}catch(t){console.error("Error clearing cache:",t)}})},ll=e=>{let{tournamentId:t,tournamentName:r,onScoreSubmitted:s}=e;const{user:a}=ka(),[l,o]=(0,n.useState)([{hole:1,score:0,submitted:!1},{hole:2,score:0,submitted:!1},{hole:3,score:0,submitted:!1},{hole:4,score:0,submitted:!1},{hole:5,score:0,submitted:!1},{hole:6,score:0,submitted:!1},{hole:7,score:0,submitted:!1},{hole:8,score:0,submitted:!1},{hole:9,score:0,submitted:!1}]),[i,c]=(0,n.useState)(1),[d,u]=(0,n.useState)(!1),[m,x]=(0,n.useState)(!1),[h,p]=(0,n.useState)(""),[f,b]=(0,n.useState)(!1),[g,y]=(0,n.useState)(!1),[v,j]=(0,n.useState)([]),[N,w]=(0,n.useState)([]),[_,k]=(0,n.useState)(!1),[S,C]=(0,n.useState)(!1),[E,T]=(0,n.useState)({totalPoints:0,holePoints:0,roundPoints:0,liveBonus:0}),[P,L]=(0,n.useState)({}),[R,M]=(0,n.useState)({}),[A,D]=(0,n.useState)({}),[I,O]=(0,n.useState)(!0),[F,z]=(0,n.useState)(3e4),U=(0,n.useRef)(!0),H=(0,n.useRef)(""),B=(0,n.useRef)([]),W=(0,n.useRef)([]),[q,V]=(0,n.useState)("");(0,n.useEffect)(()=>{(async()=>{var e;if(t)try{var r,s;const a=await(e=t,Rs.get("/tournaments/".concat(e))),n=(null===(r=a.data)||void 0===r?void 0:r.week_start_date)||(null===(s=a.data)||void 0===s?void 0:s.start_date);if(n){const e=new Date(n),t=e.getUTCFullYear(),r=String(e.getUTCMonth()+1).padStart(2,"0"),s=String(e.getUTCDate()).padStart(2,"0");V("".concat(t,"-").concat(r,"-").concat(s))}else V((new Date).toISOString().split("T")[0])}catch(To){V((new Date).toISOString().split("T")[0])}})()},[t]),(0,n.useEffect)(()=>{if(!q)return;(async()=>{console.log("Initializing data for week:",q),await J(),U.current=!1,console.log("Initial data load complete")})()},[q]);const G=(0,n.useMemo)(()=>rl(t,q,"leaderboard"),[t,q]),$=(0,n.useMemo)(()=>rl(t,q,"fieldStats"),[t,q]),Y=(0,n.useMemo)(()=>rl(t,q,"playerScorecard"),[t,q]);(0,n.useEffect)(()=>{if(console.log("=== CALCULATING MATCHPLAY STATES ==="),console.log("Leaderboard length:",N.length),console.log("Hole scores with submitted:",l.filter(e=>e.submitted).length),console.log("Current user:",(null===a||void 0===a?void 0:a.user_id)||(null===a||void 0===a?void 0:a.member_id)),N.length>0&&l.some(e=>e.submitted)){const e={};N.forEach(t=>{if(t.user_id===(null===a||void 0===a?void 0:a.user_id)||t.member_id===(null===a||void 0===a?void 0:a.member_id))return void console.log("Skipping current user:",t.user_id||t.member_id);const r=t.user_id||t.member_id;console.log("Calculating states for player:",r,t.first_name),e[r]={};for(let a=1;a<=3;a++){let o=0;const i=3*a;for(let c=3*(a-1)+1;c<=i;c++){var s,n;const a=c-1,i=null!==(s=l[a])&&void 0!==s&&s.submitted?l[a].score:0,d=(null===(n=t.hole_scores)||void 0===n?void 0:n[a])||0;if(console.log("Hole ".concat(c,": Your score: ").concat(i,", Their score: ").concat(d)),i>0&&d>0){let t=0;i<d?(t=1,console.log("Hole ".concat(c,": You win (+1)"))):i>d?(t=-1,console.log("Hole ".concat(c,": You lose (-1)"))):console.log("Hole ".concat(c,": Tie (0)")),o+=t,e[r][c]=o,console.log("Hole ".concat(c,": State after: ").concat(o))}}}}),console.log("Final matchplay states:",e),D(e)}},[N,l,null===a||void 0===a?void 0:a.user_id,null===a||void 0===a?void 0:a.member_id]);const Q=(0,n.useCallback)((e,t)=>{const r=JSON.stringify(e.map(e=>({user_id:e.user_id,total_score:e.total_score,hole_scores:e.hole_scores}))),s=JSON.stringify(t.map(e=>({hole:e.hole,averageScore:e.averageScore,totalPlayers:e.totalPlayers})));return"".concat(r,"-").concat(s)},[]),K=(0,n.useCallback)(async()=>{try{const e=sl(G),r=sl($);let s,n;if(e&&r)console.log("Using cached data for leaderboard and field stats"),s=e,n=r,C(!0);else{console.log("Fetching fresh data from server"),C(!1);const[e,r]=await Promise.all([fa(t,q),ga(t,q)]);s=e.data,n=r.data,al(G,s),al($,n)}const o=Q(s,n);await new Promise(e=>setTimeout(e,500)),await Promise.all([se(),ae()]);const i=s.find(e=>e.user_id===(null===a||void 0===a?void 0:a.user_id)||e.user_id===(null===a||void 0===a?void 0:a.member_id));i&&(console.log("Current user in leaderboard:",i),console.log("Current user local scores:",l.map(e=>e.score))),o!==H.current?(console.log("Data changed, updating UI..."),w(s),j(n),H.current=o,B.current=s,W.current=n):(console.log("No data changes detected for leaderboard/field stats, skipping their UI update"),0===N.length&&s.length>0&&(console.log("Restoring leaderboard data that was lost"),w(s)),0===v.length&&n.length>0&&(console.log("Restoring field stats that were lost"),j(n))),console.log("Real-time update completed - preserving existing hole scores")}catch(ee){throw console.error("Error in smart data update:",ee),ee}},[t,q,Q,G,$]),J=(0,n.useCallback)(async()=>{await K()},[K]),{isConnected:X,lastUpdateTime:Z,error:ee,manualRefresh:te,connectionStatus:re}=(e=>{let{enabled:t,interval:r,onUpdate:s,onError:a,retryAttempts:l=3,retryDelay:o=5e3}=e;const[i,c]=(0,n.useState)(!1),[d,u]=(0,n.useState)(new Date),[m,x]=(0,n.useState)(null),[h,p]=(0,n.useState)("disconnected"),f=(0,n.useRef)(null),b=(0,n.useRef)(0),g=(0,n.useRef)(!1),y=(0,n.useCallback)(async()=>{try{p("connected"),x(null),b.current=0,await s(),u(new Date),c(!0)}catch(e){const r=e instanceof Error?e:new Error("Unknown error occurred");x(r),c(!1),p("error"),a&&a(r),b.current<l&&(b.current++,p("retrying"),setTimeout(()=>{t&&y()},o))}},[s,a,l,o,t]),v=(0,n.useCallback)(async()=>{b.current=0,await y()},[y]);return(0,n.useEffect)(()=>(t&&!g.current&&(y(),g.current=!0),t?f.current=setInterval(()=>{y()},r):(f.current&&(clearInterval(f.current),f.current=null),c(!1),p("disconnected")),()=>{f.current&&(clearInterval(f.current),f.current=null)}),[t,r,y]),(0,n.useEffect)(()=>()=>{f.current&&clearInterval(f.current)},[]),{isConnected:i,lastUpdateTime:d,error:m,manualRefresh:v,connectionStatus:h}})({enabled:I&&!U.current,interval:F,onUpdate:J,onError:e=>{console.error("Real-time update error:",e),In.error("Connection error: ".concat(e.message))},retryAttempts:3,retryDelay:5e3});(0,n.useEffect)(()=>{console.log("useEffect triggered - Leaderboard length:",N.length,"Field stats length:",v.length),N.length>0&&v.length>0&&Object.keys(P).length>0&&(console.log("Updating hole results with field data..."),ne()),0===N.length&&B.current.length>0&&(console.log("Restoring leaderboard data that was cleared during re-render"),w(B.current)),0===v.length&&W.current.length>0&&(console.log("Restoring field stats that were cleared during re-render"),j(W.current))},[N,v]);const se=async()=>{try{const e=sl(Y);if(e){console.log("Using cached player scorecard data");const t=e.hole_scores,r=l.map((e,r)=>Ue(Ue({},e),{},{score:t[r]||0,submitted:t[r]>0}));o(r)}const r=await((e,t,r)=>Rs.get("/tournaments/".concat(e,"/weekly-scorecard/current?week_start_date=").concat(Ls(t),"&fallback_date=").concat(Ls(r))))(t,q);if(r.data){const e=r.data.hole_scores;console.log("Updating hole scores from server data");const t=l.map((t,r)=>{const s=e[r]||0,a=t.score;return s!==a?(console.log("Hole ".concat(r+1,": Updating score from ").concat(a," to ").concat(s)),Ue(Ue({},t),{},{score:s,submitted:s>0})):t});o(t),al(Y,r.data)}}catch(ee){console.error("Error fetching current player scorecard:",ee)}},ae=async()=>{try{console.log("fetchCurrentPoints called");const e=(null===a||void 0===a?void 0:a.user_id)||(null===a||void 0===a?void 0:a.member_id);if(!e)return void console.log("No current user ID found");console.log("Current user ID:",e);const r=await ba(t,e,q);if(console.log("Match data response:",r.data),r.data&&r.data.length>0){const t=r.data[0];console.log("Found match:",t);const s=t.player1_id===e;T({totalPoints:Number(s?t.total_points_player1:t.total_points_player2||0),holePoints:Number(s?t.hole_points_player1:t.hole_points_player2||0),roundPoints:Number(s?Number(t.round1_points_player1||0)+Number(t.round2_points_player1||0)+Number(t.round3_points_player1||0):Number(t.round1_points_player2||0)+Number(t.round2_points_player2||0)+Number(t.round3_points_player2||0)),liveBonus:0})}const s=await((e,t,r)=>Rs.get("/tournaments/".concat(e,"/weekly-hole-points/").concat(t,"?week_start_date=").concat(Ls(r))))(t,e,q);if(200===s.status){const e=s.data;console.log("Hole and round points data received:",e);const t=e.holePoints||e,r=e.roundPoints||{};console.log("Hole points data:",t),console.log("Round points data:",r);const a={},n={};for(let s=1;s<=9;s++){const e=t[s];console.log("Processing hole ".concat(s,":"),e),e&&(a[s]={points:e.points,result:e.result,fieldRank:0,totalField:0,record:e.record})}for(let s=1;s<=3;s++){const e=r[s];e&&(n[s]={result:e.result,record:e.record})}console.log("Hole results from backend:",a),console.log("Round results from backend:",n),console.log("Setting hole results:",a),L(a),M(n)}}catch(ee){console.error("Error fetching current points:",ee)}},ne=()=>{const e=(null===a||void 0===a?void 0:a.user_id)||(null===a||void 0===a?void 0:a.member_id);if(!e)return;const t=Ue({},P);for(let a=1;a<=9;a++){const n=v.find(e=>e.hole===a);if(n&&n.totalPlayers>0){const n=N.filter(e=>e.hole_scores&&e.hole_scores[a-1]>0).map(e=>e.hole_scores[a-1]).sort((e,t)=>e-t);if(n.length>0){var r,s;const l=null===(r=N.find(t=>t.user_id===e||t.member_id===e))||void 0===r||null===(s=r.hole_scores)||void 0===s?void 0:s[a-1];if(l&&t[a]){const e=n.findIndex(e=>e===l)+1,r=n.length;t[a]=Ue(Ue({},t[a]),{},{fieldRank:e,totalField:r})}}}}console.log("Updated hole results with field data:",t),L(t)},le=(l.reduce((e,t)=>e+t.score,0),l.filter(e=>e.score>0).length,l.filter(e=>e.submitted).length,(()=>{const e=3*(i-1)+1;return l.slice(e-1,e+2)})());le.reduce((e,t)=>e+t.score,0),(()=>{switch(re){case"connected":return{icon:Zn,color:"text-green-600",bgColor:"bg-green-100"};case"disconnected":default:return{icon:el,color:"text-gray-600",bgColor:"bg-gray-100"};case"error":return{icon:el,color:"text-red-600",bgColor:"bg-red-100"};case"retrying":return{icon:Xa,color:"text-yellow-600",bgColor:"bg-yellow-100"}}})().icon;return(0,Na.jsxs)("div",{className:"w-full bg-white min-h-screen rounded-lg",children:[(0,Na.jsxs)("div",{className:"bg-white rounded-lg mb-3 shadow-sm",children:[(0,Na.jsxs)("div",{className:"text-center mb-3 px-4 py-3",children:[(0,Na.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:d?"Leaderboard":"Score Submission"}),d&&(0,Na.jsx)("p",{className:"text-sm sm:text-base text-gray-600 mt-2",children:"Overall standings for the week"})]}),(0,Na.jsxs)("div",{className:"flex items-center justify-between px-4",children:[(0,Na.jsx)("button",{onClick:()=>{d?(u(!1),c(3)):c(Math.max(1,i-1))},disabled:!d&&1===i,className:"p-2 rounded-full bg-gray-100 shadow-sm disabled:opacity-50 touch-manipulation",children:(0,Na.jsx)(tl,{className:"w-4 h-4"})}),(0,Na.jsxs)("div",{className:"flex space-x-1",children:[[1,2,3].map(e=>(0,Na.jsx)("button",{onClick:()=>{c(e),u(!1)},className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full text-sm font-bold flex items-center justify-center touch-manipulation ".concat(d||i!==e?"bg-gray-100 text-gray-600":"bg-blue-600 text-white"),children:(0,Na.jsx)("span",{className:"text-base sm:text-lg font-bold",children:e})},e)),(0,Na.jsx)("button",{onClick:()=>{u(!0)},className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full text-sm font-bold flex items-center justify-center touch-manipulation ".concat(d?"bg-blue-600 text-white":"bg-gray-100 text-gray-600"),children:(0,Na.jsx)("span",{className:"text-base sm:text-lg font-bold",children:"LB"})})]}),(0,Na.jsx)("button",{onClick:()=>{d?(u(!1),c(1)):c(Math.min(3,i+1))},disabled:!d&&3===i,className:"p-2 rounded-full bg-gray-100 shadow-sm disabled:opacity-50 touch-manipulation",children:(0,Na.jsx)(Ra,{className:"w-4 h-4"})})]}),ee&&(0,Na.jsxs)("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded text-xs text-red-700",children:["Connection error: ",ee.message]})]}),d?(0,Na.jsxs)("div",{className:"bg-white rounded-lg mb-3 shadow-sm",children:[(0,Na.jsxs)("div",{className:"text-center mb-4 px-4 pt-3",children:[(0,Na.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-2",children:"\ud83c\udfc6 Weekly Leaderboard"}),(0,Na.jsx)("p",{className:"text-sm sm:text-base text-gray-600",children:"Overall standings for the week"})]}),N.length>0?(0,Na.jsx)("div",{className:"w-full px-4 pb-3 overflow-x-auto",children:(0,Na.jsxs)("table",{className:"w-full text-center text-xs sm:text-sm min-w-full",children:[(0,Na.jsx)("thead",{children:(0,Na.jsxs)("tr",{children:[(0,Na.jsx)("th",{className:"px-1 sm:px-2 py-2 text-xs font-bold text-gray-600 text-left",children:"Rank"}),(0,Na.jsx)("th",{className:"px-1 sm:px-2 py-2 text-xs font-bold text-gray-600 text-left",children:"Player"}),(0,Na.jsx)("th",{className:"px-1 sm:px-2 py-2 text-xs font-bold text-gray-600 hidden sm:table-cell",children:"Hole Pts"}),(0,Na.jsx)("th",{className:"px-1 sm:px-2 py-2 text-xs font-bold text-gray-600 hidden sm:table-cell",children:"Round Pts"}),(0,Na.jsx)("th",{className:"px-1 sm:px-2 py-2 text-xs font-bold text-gray-600",children:"Points"})]})}),(0,Na.jsx)("tbody",{children:N.map((e,t)=>{const r=String(e.user_id||e.member_id)===String((null===a||void 0===a?void 0:a.user_id)||(null===a||void 0===a?void 0:a.member_id)),s=Number(e.total_score||0),n=Number(e.total_hole_points||0),l=Number(e.total_round_points||0),o=e.hole_scores&&e.hole_scores.some(e=>e>0);return(0,Na.jsxs)("tr",{className:"".concat(r?"bg-blue-50":""," ").concat(o?"":"opacity-60"),children:[(0,Na.jsx)("td",{className:"px-1 sm:px-2 py-2 text-left",children:(0,Na.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ".concat(0===t?"bg-yellow-100 text-yellow-800":1===t?"bg-gray-100 text-gray-800":2===t?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-600"),children:t+1})}),(0,Na.jsx)("td",{className:"px-1 sm:px-2 py-2 text-left",children:(0,Na.jsxs)("div",{children:[(0,Na.jsxs)("div",{className:"text-sm font-medium ".concat(r?"text-blue-900":"text-gray-900"),children:[e.first_name," ",e.last_name]}),(0,Na.jsx)("div",{className:"text-xs text-gray-500 hidden sm:block",children:e.club})]})}),(0,Na.jsx)("td",{className:"px-1 sm:px-2 py-2 hidden sm:table-cell",children:(0,Na.jsx)("div",{className:"text-sm text-gray-600",children:n.toFixed(1)})}),(0,Na.jsx)("td",{className:"px-1 sm:px-2 py-2 hidden sm:table-cell",children:(0,Na.jsx)("div",{className:"text-sm text-gray-600",children:l.toFixed(1)})}),(0,Na.jsx)("td",{className:"px-1 sm:px-2 py-2",children:(0,Na.jsx)("div",{className:"text-lg font-bold text-gray-900",children:s.toFixed(1)})})]},e.user_id)})})]})}):(0,Na.jsxs)("div",{className:"text-center text-gray-500 py-8",children:[(0,Na.jsx)("div",{className:"text-lg mb-2",children:"\ud83d\udcca"}),(0,Na.jsx)("div",{children:"No leaderboard data available"})]})]}):(0,Na.jsx)("div",{className:"bg-white rounded-lg mb-3 shadow-sm",children:0===le.length?(0,Na.jsx)("div",{className:"text-center text-gray-500 px-4 py-3",children:"Loading holes..."}):(0,Na.jsx)("div",{className:"w-full px-4 py-3 overflow-x-auto",children:(0,Na.jsxs)("table",{className:"w-full text-center border-separate border-spacing-1 text-xs sm:text-sm",children:[(0,Na.jsx)("thead",{children:(0,Na.jsx)("tr",{children:le.map((e,t)=>{const r=3*(i-1)+t+1;return(0,Na.jsxs)("th",{className:"px-1 py-2 text-sm font-bold text-gray-600 border-b",children:["Hole ",r]},t)})})}),(0,Na.jsx)("tbody",{children:(0,Na.jsx)("tr",{children:le.map((e,r)=>{const s=3*(i-1)+r+1;v.find(e=>e.hole===s);return(0,Na.jsx)("td",{className:"px-1 py-2",children:e.submitted?(0,Na.jsxs)("div",{className:"flex items-center justify-center space-x-1",children:[(0,Na.jsx)("span",{className:"text-lg font-bold text-green-600",children:e.score}),(0,Na.jsx)("span",{className:"text-green-500",children:"\u2713"})]}):(0,Na.jsxs)("div",{className:"flex flex-col items-center space-y-1",children:[(0,Na.jsx)("input",{type:"number",min:"1",max:"20",value:0===e.score?"":e.score,onChange:e=>{const t=e.target.value,s=""===t?0:parseInt(t);((e,t)=>{if(t<0)return;const r=[...l];r[e]=Ue(Ue({},r[e]),{},{score:t}),o(r)})(3*(i-1)+r,s)},disabled:e.submitted,className:"w-16 h-10 text-center border rounded text-sm font-bold focus:outline-none focus:ring-1 focus:ring-blue-500 touch-manipulation",placeholder:"0"}),(0,Na.jsx)("button",{onClick:()=>(async e=>{const r=l[e];if(0===r.score||r.score<1)In.error("Please enter a valid score (1-20) for this hole");else if(r.score>20)In.error("Score must be between 1 and 20");else if(r.submitted)In.error("This hole has already been submitted");else{b(!0);try{console.log("=== SUBMITTING HOLE SCORE ==="),console.log("Tournament ID:",t),console.log("Hole Index:",e),console.log("Hole Scores:",l);const r=l.map(e=>e.score);console.log("Temp Scores:",r),console.log("Calling submitWeeklyScorecard...");const s=await pa(t,{hole_scores:r,is_live:m,group_id:h||void 0,week_start_date:q});console.log("API Response:",s);const n=[...l];n[e]=Ue(Ue({},n[e]),{},{submitted:!0}),o(n),await ae();const c=P[e+1];c&&c.points>0?In.success("Hole ".concat(e+1," submitted! +").concat(c.points.toFixed(1)," points earned! \ud83c\udf89")):In.success("Hole ".concat(e+1," submitted successfully!"));const d=l.slice(3*(i-1),3*i);if(d.every(e=>e.submitted)){const e=d.map(e=>e.score),t=3*(i-1),r=e.reduce((e,t)=>e+t,0),s=N.filter(e=>e.user_id!==(null===a||void 0===a?void 0:a.user_id)&&e.member_id!==(null===a||void 0===a?void 0:a.member_id)).map(e=>{var r;return(null===(r=e.hole_scores)||void 0===r?void 0:r.slice(t,t+3))||[]}).filter(e=>e.every(e=>e>0));s.every(e=>{const t=e.reduce((e,t)=>e+t,0);return r<=t})&&s.length>0&&In.success("Round ".concat(i," completed! You won the round! +1.0 points! \ud83c\udfc6"))}}catch(ee){var s,n;console.error("Error submitting hole score:",ee),In.error((null===(s=ee.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.error)||ee.message||"Failed to submit hole score")}finally{b(!1)}}})(3*(i-1)+r),disabled:f||e.submitted||0===e.score,className:"w-16 h-6 bg-green-600 text-white text-xs rounded hover:bg-green-700 disabled:bg-gray-300 disabled:text-gray-400 touch-manipulation flex items-center justify-center",title:"Save hole score",children:(0,Na.jsx)(an,{className:"w-3 h-3"})})]})},r)})})})]})})}),!d&&N.length>0&&(0,Na.jsxs)("div",{className:"mt-4 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg shadow-sm border-2 border-yellow-200",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between mb-3 px-4 pt-3",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Na.jsx)("h3",{className:"text-sm sm:text-base font-bold text-gray-900",children:"\ud83c\udfc6 LIVE ROUND RANKINGS"}),(0,Na.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Na.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(X?"bg-green-500":"bg-gray-400")}),(0,Na.jsx)("span",{className:"text-xs text-gray-600",children:I?"Live Updates":"Manual Mode"})]})]}),(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsxs)("span",{className:"text-xs text-gray-500 hidden sm:inline",children:[N.length," players"]}),(0,Na.jsx)("button",{onClick:async()=>{In.info("Refreshing live data..."),nl(t,q),await te(),In.success("Data refreshed successfully!")},disabled:_,className:"p-2 rounded-full bg-blue-100 text-blue-600 hover:bg-blue-200 disabled:opacity-50 touch-manipulation",children:(0,Na.jsx)(Xa,{className:"w-4 h-4 ".concat(_?"animate-spin":"")})})]})]}),(0,Na.jsx)("div",{className:"w-full px-4 pb-3 overflow-x-auto",children:(0,Na.jsxs)("table",{className:"w-full text-center text-xs sm:text-sm min-w-full",children:[(0,Na.jsx)("thead",{children:(0,Na.jsxs)("tr",{children:[(0,Na.jsx)("th",{className:"px-1 py-2 text-xs font-bold text-gray-600 text-left",children:"Player"}),le.map((e,t)=>{const r=3*(i-1)+t+1;return(0,Na.jsxs)("th",{className:"px-1 py-2 text-xs font-bold text-gray-600",children:["H",r]},t)}),(0,Na.jsxs)("th",{className:"px-1 py-2 text-xs font-bold text-gray-600",children:["R",i]})]})}),(0,Na.jsx)("tbody",{children:N.map((e,t)=>{var r,s;const n=String(e.user_id||e.member_id)===String((null===a||void 0===a?void 0:a.user_id)||(null===a||void 0===a?void 0:a.member_id)),o=e.hole_scores&&e.hole_scores.some(e=>e>0);0===t&&(console.log("LIVE RANKINGS DEBUG:"),console.log("Current user object:",a),console.log("Current user ID:",(null===a||void 0===a?void 0:a.user_id)||(null===a||void 0===a?void 0:a.member_id)),console.log("Leaderboard players:",N.map(e=>({id:e.user_id||e.member_id,name:e.first_name})))),console.log("Player ".concat(e.first_name," (").concat(e.user_id||e.member_id,"): isCurrentUser=").concat(n));const c=3*(i-1),d=(null===(r=e.hole_scores)||void 0===r?void 0:r.slice(c,c+3))||[],u=d.every(e=>e>0);let m=N.find(e=>e.user_id===(null===a||void 0===a?void 0:a.user_id)||e.member_id===(null===a||void 0===a?void 0:a.member_id)),x=(null===m||void 0===m||null===(s=m.hole_scores)||void 0===s?void 0:s.slice(c,c+3))||[],h=x.every(e=>e>0);if(!m||0===x.length){const e=l.slice(3*(i-1),3*i);x=e.map(e=>e.score),h=e.every(e=>e.score>0)}let p=null;if(u&&h&&!n){let e=0,t=0,r=0;for(let s=0;s<3;s++){const a=x[s],n=d[s];a<n?e++:a>n?t++:r++}p=e>t?{result:"W",color:"text-green-600",bgColor:"bg-green-100"}:t>e?{result:"L",color:"text-red-600",bgColor:"bg-red-100"}:{result:"T",color:"text-yellow-600",bgColor:"bg-yellow-100"}}return(0,Na.jsxs)("tr",{className:"".concat(n?"bg-blue-50":""," ").concat(o?"":"opacity-60"),children:[(0,Na.jsx)("td",{className:"px-1 py-2 text-left",children:(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ".concat(0===t?"bg-yellow-100 text-yellow-800":1===t?"bg-gray-100 text-gray-800":2===t?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-600"),children:t+1}),(0,Na.jsxs)("div",{children:[(0,Na.jsxs)("div",{className:"text-sm font-medium ".concat(n?"text-blue-900":"text-gray-900"),children:[e.first_name," ",e.last_name]}),(0,Na.jsx)("div",{className:"text-xs text-gray-500",children:e.club})]})]})}),le.map((t,r)=>{var s,o,d;const u=c+r+1,m=null===(s=e.hole_scores)||void 0===s?void 0:s[u-1],x=t.submitted;var h;n&&console.log("LIVE RANKINGS - Hole ".concat(u,": playerScore=").concat(m,", holeResults=").concat((null===(h=P[u])||void 0===h?void 0:h.points)||"no data",", isCurrentUser=").concat(n));const p=N.find(e=>e.user_id===(null===a||void 0===a?void 0:a.user_id)||e.member_id===(null===a||void 0===a?void 0:a.member_id)),f=(n||(null===p||void 0===p||null===(o=p.hole_scores)||void 0===o||o[u-1]),(null===(d=l.slice(3*(i-1),3*i)[r])||void 0===d?void 0:d.score)||0);let b=null;if(!n&&m>0&&f>0){var g;const t=e.user_id||e.member_id,r=(null===(g=A[t])||void 0===g?void 0:g[u])||0;if(0===r)b="AS";else if(r>0)b=1===r?"1\u25b2":"".concat(r,"\u25b2");else{const e=Math.abs(r);b=1===e?"1\u25bc":"".concat(e,"\u25bc")}console.log("Hole ".concat(u,": State: ").concat(r," = ").concat(b))}let y=null;return!n&&m>0&&f>0&&(y=f<m?"winning":f>m?"losing":"tied"),(0,Na.jsx)("td",{className:"px-1 py-2",children:(0,Na.jsxs)("div",{className:"text-center relative group cursor-pointer hover:bg-gray-50 rounded p-1",title:!n&&m>0?"".concat(e.first_name,": ").concat(m):"",children:[(0,Na.jsxs)("div",{className:"w-8 h-8 rounded flex items-center justify-center text-xs font-bold mx-auto group-hover:bg-yellow-100 transition-colors relative ".concat(m>0?n?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800":"bg-gray-50 text-gray-400"),children:[n?m>0?m:"-":m>0?b||"?":"-",!n&&b&&(0,Na.jsx)("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-bold ".concat(b.includes("\u25b2")?"text-green-600":"AS"===b?"text-yellow-600":"text-red-600"),children:b}),!n&&m>0&&(0,Na.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-yellow-100 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:(0,Na.jsx)("span",{className:"text-xs font-bold text-gray-800",children:m})})]}),n&&x&&(0,Na.jsx)("div",{className:"text-xs text-green-600 mt-1",children:"\u2713"}),!n&&m>0&&f>0&&f<m&&(0,Na.jsx)("div",{className:"flex items-center justify-center mt-1",children:(0,Na.jsx)("span",{className:"text-xs text-green-600 font-bold",children:"+0.5"})}),!n&&m>0&&(0,Na.jsxs)("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity z-10 whitespace-nowrap pointer-events-none",children:[e.first_name,": ",m]})]})},r)}),(0,Na.jsx)("td",{className:"px-1 py-2",children:(0,Na.jsx)("div",{className:"text-center",children:!n&&(0,Na.jsxs)("div",{className:"flex flex-col items-center space-y-1",children:[(0,Na.jsx)("div",{className:"w-8 h-8 rounded flex items-center justify-center text-xs font-bold mx-auto ".concat(p?p.bgColor:"bg-gray-100"," ").concat(p?p.color:"text-gray-600"),children:p?p.result:"-"}),p&&"W"===p.result&&(0,Na.jsx)("div",{className:"flex items-center space-x-1",children:(0,Na.jsx)("span",{className:"text-xs text-green-600 font-bold",children:"+1"})})]})})})]},e.user_id)})})]})})]})]})},ol=Ye("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),il=Ye("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),cl=e=>{let{tournamentId:t,tournamentName:r,onScoreSubmitted:s,tournament:a}=e;const{user:l}=ka(),[o,i]=(0,n.useState)([]),[c,d]=(0,n.useState)(!0),[u,m]=(0,n.useState)(null),[x,h]=(0,n.useState)(!1),[p,f]=(0,n.useState)(new Array(18).fill(0)),[b,g]=(0,n.useState)(!1),[y,v]=(0,n.useState)(null),[j,N]=(0,n.useState)([]),[w,_]=(0,n.useState)([]),[k,S]=(0,n.useState)(0),{courseData:C,loading:E,courseId:T}=Kn(t,a),P=(0,n.useRef)(null),[L,R]=(0,n.useState)(!1),[M,A]=(0,n.useState)(null);(0,n.useEffect)(()=>{F()},[t,null===l||void 0===l?void 0:l.member_id]),(0,n.useEffect)(()=>{(T||null!==a&&void 0!==a&&a.course_id)&&(async()=>{const e=T||(null===a||void 0===a?void 0:a.course_id);if(e)try{const t=await ja.get("/simulator-courses?id=".concat(e)),r=t.data.courses||t.data;if(r&&r.length>0){const t=r[0];v(t),N(t.hole_indexes||[]),_(t.par_values||[]),console.log("Course data loaded for handicap calculation:",{courseId:e,holeIndexes:t.hole_indexes,parValues:t.par_values})}}catch(t){console.error("Error fetching course data:",t)}else console.log("No course ID available for handicap calculation")})()},[T,null===a||void 0===a?void 0:a.course_id]);const D=function(e,t,r){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(0===r)return e;const a=Math.abs(t-s),n=Math.min(Math.round(a),8);if(!(t>s))return e;const l=j[r-1]||r,o=Math.floor(n/18)+(n%18>=l?1:0);return Math.max(1,e-o)},I=(e,t)=>{const r=t||u;if(null===l||void 0===l||!l.member_id||!r)return!1;const s=r.player1_id===l.member_id,a=Number(s?r.player1_handicap||r.player1_grass_handicap||0:r.player2_handicap||r.player2_grass_handicap||0),n=Number(s?r.player2_handicap||r.player2_grass_handicap||0:r.player1_handicap||r.player1_grass_handicap||0),o=Math.abs(a-n),i=Math.min(Math.round(o),8);if(!(n>a))return!1;return i%18>=(j[e-1]||e)},O=e=>{const t=Number(e.player1_handicap||e.player1_grass_handicap||0),r=Number(e.player2_handicap||e.player2_grass_handicap||0),s=Math.abs(t-r),a=Math.min(Math.round(s),8),n=t>r?"player1":"player2";return console.log("Stroke calculation debug:",{matchId:e.id,player1Name:"".concat(e.player1_name," ").concat(e.player1_last_name),player2Name:"".concat(e.player2_name," ").concat(e.player2_last_name),player1Handicap:t,player2Handicap:r,player1SimHandicap:e.player1_handicap,player1GrassHandicap:e.player1_grass_handicap,player2SimHandicap:e.player2_handicap,player2GrassHandicap:e.player2_grass_handicap,rawDifferential:s,handicapDifferential:a,higherHandicapPlayer:n,strokesReceived:Math.round(a)}),{player1Handicap:Number(t.toFixed(1)),player2Handicap:Number(r.toFixed(1)),handicapDifferential:Number(a.toFixed(1)),higherHandicapPlayer:n,strokesReceived:Math.round(a)}},F=async()=>{if(null!==l&&void 0!==l&&l.member_id)try{d(!0),console.log("Loading championship matches for tournament:",t,"user:",l.member_id);const e=await ja.get("/tournaments/".concat(t,"/championship-matches"));console.log("Championship matches response:",e.data);const r=e.data.filter(e=>e.player1_id===l.member_id||e.player2_id===l.member_id).map(e=>({match:e,opponent:{id:e.player1_id===l.member_id?e.player2_id:e.player1_id,name:e.player1_id===l.member_id?e.player2_name:e.player1_name,last_name:e.player1_id===l.member_id?e.player2_last_name:e.player1_last_name},isPlayer1:e.player1_id===l.member_id}));console.log("Filtered player matches:",r),i(r)}catch(e){console.error("Error loading player matches:",e),In.error("Failed to load your matches")}finally{d(!1)}},z=e=>{m(e),f(new Array(18).fill(0)),A(null),h(!0)};return c?(0,Na.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,Na.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-neon-green"})}):(0,Na.jsxs)("div",{className:"space-y-6",children:[(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsxs)("h3",{className:"text-2xl font-bold text-brand-black mb-2",children:[(0,Na.jsx)(Je,{className:"inline w-8 h-8 mr-2 text-brand-neon-green"}),"Championship Scoring"]}),(0,Na.jsx)("p",{className:"text-neutral-600",children:r})]}),(0,Na.jsxs)("div",{className:"space-y-4",children:[(0,Na.jsx)("h4",{className:"text-lg font-semibold text-brand-black",children:"Your Matches"}),0===o.length?(0,Na.jsxs)("div",{className:"text-center py-8 text-neutral-500",children:[(0,Na.jsx)(Ze,{className:"w-12 h-12 mx-auto mb-4 text-neutral-300"}),(0,Na.jsx)("p",{children:"No matches assigned yet"}),(0,Na.jsx)("p",{className:"text-sm",children:"Check back later or contact the tournament organizer"})]}):(0,Na.jsx)("div",{className:"grid gap-4",children:o.map(e=>{console.log("Rendering match:",e);const t=O(e.match),r=e.isPlayer1?"".concat(e.match.player1_name," ").concat(e.match.player1_last_name):"".concat(e.match.player2_name," ").concat(e.match.player2_last_name),s=e.isPlayer1?t.player1Handicap:t.player2Handicap,a=e.isPlayer1?t.player2Handicap:t.player1Handicap;return(0,Na.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-lg p-3 sm:p-4",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Na.jsxs)("div",{className:"text-sm font-medium text-neutral-600",children:["Match ",e.match.match_number]}),(0,Na.jsxs)("div",{className:"flex items-center",children:["pending"===e.match.match_status&&(0,Na.jsxs)("div",{className:"flex items-center px-2 sm:px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs sm:text-sm font-medium",children:[(0,Na.jsx)(ol,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),"Pending"]}),"in_progress"===e.match.match_status&&(0,Na.jsxs)("div",{className:"flex items-center px-2 sm:px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-xs sm:text-sm font-medium",children:[(0,Na.jsx)("div",{className:"w-2 h-2 sm:w-3 sm:h-3 bg-blue-600 rounded-full mr-1 sm:mr-2"}),(0,Na.jsx)("span",{className:"hidden sm:inline",children:"In Progress"}),(0,Na.jsx)("span",{className:"sm:hidden",children:"Progress"})]}),"completed"===e.match.match_status&&(0,Na.jsxs)("div",{className:"flex items-center px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-medium ".concat(null===e.match.winner_id?"bg-yellow-100 text-yellow-800":e.match.winner_id===(null===l||void 0===l?void 0:l.member_id)?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:[(0,Na.jsx)(Je,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),null===e.match.winner_id?"Tied":e.match.winner_id===(null===l||void 0===l?void 0:l.member_id)?"Won":"Lost"]})]})]}),(0,Na.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-2 gap-2 sm:gap-3 mb-3",children:[(0,Na.jsxs)("div",{className:"bg-blue-50 p-2 sm:p-3 rounded-lg",children:[(0,Na.jsx)("div",{className:"text-xs font-medium text-blue-800 mb-1",children:"You"}),(0,Na.jsx)("div",{className:"text-sm sm:text-lg font-semibold text-blue-900 truncate",children:r}),(0,Na.jsxs)("div",{className:"text-xs text-blue-700",children:["Hcp: ",Number(s||0).toFixed(1)]})]}),(0,Na.jsxs)("div",{className:"bg-green-50 p-2 sm:p-3 rounded-lg",children:[(0,Na.jsx)("div",{className:"text-xs font-medium text-green-800 mb-1",children:"Opponent"}),(0,Na.jsxs)("div",{className:"text-sm sm:text-lg font-semibold text-green-900 truncate",children:[e.opponent.name," ",e.opponent.last_name]}),(0,Na.jsxs)("div",{className:"text-xs text-green-700",children:["Hcp: ",Number(a||0).toFixed(1)]})]})]}),t.handicapDifferential>0&&(0,Na.jsxs)("div",{className:"mb-3 space-y-2",children:[(0,Na.jsx)("div",{className:"p-2 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,Na.jsxs)("div",{className:"text-xs sm:text-sm text-yellow-800",children:[(0,Na.jsx)("strong",{children:"player1"===t.higherHandicapPlayer?"".concat(e.match.player1_name," ").concat(e.match.player1_last_name):"".concat(e.match.player2_name," ").concat(e.match.player2_last_name)})," receives ",t.strokesReceived," stroke",1!==t.strokesReceived?"s":""," for this match"]})}),(()=>{const t=[];for(let r=1;r<=18;r++)I(r,e.match)&&t.push(r);return t.length>0?(0,Na.jsx)("div",{className:"p-2 bg-orange-50 border border-orange-200 rounded-lg",children:(0,Na.jsxs)("div",{className:"text-xs text-orange-800",children:[(0,Na.jsx)("strong",{children:"Your opponent gets strokes on holes:"})," ",t.join(", ")]})}):null})()]}),(0,Na.jsxs)("div",{className:"mt-3",children:["pending"===e.match.match_status&&(0,Na.jsxs)("button",{onClick:()=>z(e.match),className:"w-full px-3 sm:px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors flex items-center justify-center shadow-sm text-sm",children:[(0,Na.jsx)(Ca,{className:"w-4 h-4 mr-2"}),"Enter Score"]}),"in_progress"===e.match.match_status&&(0,Na.jsx)("div",{className:"space-y-2",children:(()=>{const t=e.match.player1_id===(null===l||void 0===l?void 0:l.member_id),r=t?e.match.player1_hole_scores:e.match.player2_hole_scores,s=r&&"null"!==r&&"[]"!==r&&("string"!==typeof r||""!==r.trim());return console.log("Score check debug:",{isPlayer1:t,currentPlayerScores:r,hasCurrentPlayerScores:s,matchStatus:e.match.match_status,player1Scores:e.match.player1_hole_scores,player2Scores:e.match.player2_hole_scores}),s})()?(0,Na.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-center px-2 sm:px-3 py-2 bg-green-100 text-green-800 rounded-lg text-xs sm:text-sm font-medium",children:[(0,Na.jsx)(il,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),(0,Na.jsx)("span",{className:"hidden sm:inline",children:"Score Submitted"}),(0,Na.jsx)("span",{className:"sm:hidden",children:"Submitted"})]}),(0,Na.jsxs)("div",{className:"flex items-center justify-center px-2 sm:px-3 py-2 bg-blue-100 text-blue-800 rounded-lg text-xs sm:text-sm font-medium",children:[(0,Na.jsx)("div",{className:"w-2 h-2 sm:w-3 sm:h-3 bg-blue-600 rounded-full mr-1 sm:mr-2"}),(0,Na.jsx)("span",{className:"hidden sm:inline",children:"Waiting for opponent"}),(0,Na.jsx)("span",{className:"sm:hidden",children:"Waiting"})]})]}):(0,Na.jsxs)("button",{onClick:()=>z(e.match),className:"w-full px-3 sm:px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors flex items-center justify-center shadow-sm text-sm",children:[(0,Na.jsx)(Ca,{className:"w-4 h-4 mr-2"}),"Enter Score"]})}),"completed"===e.match.match_status&&(0,Na.jsxs)("div",{className:"flex items-center justify-center px-3 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium",children:[(0,Na.jsx)(il,{className:"w-4 h-4 mr-2"}),(0,Na.jsx)("span",{className:"hidden sm:inline",children:"Match Complete"}),(0,Na.jsx)("span",{className:"sm:hidden",children:"Complete"})]})]})]},e.match.id)})})]}),x&&u&&(0,Na.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 sm:p-4",children:(0,Na.jsxs)("div",{className:"bg-white rounded-lg p-4 sm:p-6 w-full max-w-2xl max-h-[95vh] sm:max-h-[90vh] overflow-y-auto",children:[(0,Na.jsxs)("h4",{className:"text-base sm:text-lg font-semibold mb-4",children:["Enter Scores - Match ",u.match_number]}),(0,Na.jsxs)("div",{className:"mb-4",children:[(0,Na.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 mb-3",children:[(0,Na.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg",children:[(0,Na.jsx)("div",{className:"text-xs sm:text-sm font-medium text-blue-800 mb-1",children:"You"}),(0,Na.jsx)("div",{className:"text-base sm:text-lg font-semibold text-blue-900 truncate",children:u.player1_id===(null===l||void 0===l?void 0:l.member_id)?"".concat(u.player1_name," ").concat(u.player1_last_name):"".concat(u.player2_name," ").concat(u.player2_last_name)}),(0,Na.jsxs)("div",{className:"text-xs sm:text-sm text-blue-700",children:["Handicap: ",u.player1_id===(null===l||void 0===l?void 0:l.member_id)?u.player1_handicap||u.player1_grass_handicap||0:u.player2_handicap||u.player2_grass_handicap||0]})]}),(0,Na.jsxs)("div",{className:"bg-green-50 p-3 rounded-lg",children:[(0,Na.jsx)("div",{className:"text-xs sm:text-sm font-medium text-green-800 mb-1",children:"Opponent"}),(0,Na.jsx)("div",{className:"text-base sm:text-lg font-semibold text-green-900 truncate",children:u.player1_id===(null===l||void 0===l?void 0:l.member_id)?"".concat(u.player2_name," ").concat(u.player2_last_name):"".concat(u.player1_name," ").concat(u.player1_last_name)}),(0,Na.jsxs)("div",{className:"text-xs sm:text-sm text-green-700",children:["Handicap: ",u.player1_id===(null===l||void 0===l?void 0:l.member_id)?u.player2_handicap||u.player2_grass_handicap||0:u.player1_handicap||u.player1_grass_handicap||0]})]})]}),(()=>{const e=O(u);if(e.handicapDifferential>0){const t=[];for(let e=1;e<=18;e++)I(e,u)&&t.push(e);return(0,Na.jsxs)("div",{className:"space-y-3",children:[(0,Na.jsx)("div",{className:"p-2 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,Na.jsxs)("div",{className:"text-xs sm:text-sm text-yellow-800",children:[(0,Na.jsx)("strong",{children:"player1"===e.higherHandicapPlayer?"".concat(u.player1_name," ").concat(u.player1_last_name):"".concat(u.player2_name," ").concat(u.player2_last_name)})," receives ",e.strokesReceived," stroke",1!==e.strokesReceived?"s":""," for this match"]})}),(0,Na.jsxs)("div",{className:"p-2 bg-gray-50 border border-gray-200 rounded-lg",children:[(0,Na.jsx)("div",{className:"text-xs text-gray-700 mb-2 font-medium",children:"Scorecard Legend:"}),(0,Na.jsxs)("div",{className:"flex flex-wrap gap-3 text-xs text-gray-600",children:[(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)("span",{className:"w-3 h-3 bg-green-100 border border-green-300 rounded-full mr-1"}),(0,Na.jsx)("span",{className:"bg-green-100 text-green-800 px-1 py-0.5 rounded text-xs mr-1",children:"S"}),"You get strokes"]}),(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)("span",{className:"w-3 h-3 bg-orange-100 border border-orange-300 rounded-full mr-1"}),(0,Na.jsx)("span",{className:"bg-orange-100 text-orange-800 px-1 py-0.5 rounded text-xs mr-1",children:"O"}),"Opponent gets strokes"]})]})]}),t.length>0&&(0,Na.jsx)("div",{className:"p-2 bg-orange-50 border border-orange-200 rounded-lg",children:(0,Na.jsxs)("div",{className:"text-xs text-orange-800",children:[(0,Na.jsx)("strong",{children:"Your opponent gets strokes on holes:"})," ",t.join(", ")]})})]})}return null})()]}),(0,Na.jsx)("div",{className:"mb-6",children:(0,Na.jsx)("div",{className:"overflow-x-auto",children:(0,Na.jsxs)("table",{className:"w-full border-collapse border border-neutral-300 text-xs sm:text-sm",children:[(0,Na.jsx)("thead",{children:(0,Na.jsxs)("tr",{className:"bg-neutral-50",children:[(0,Na.jsx)("th",{className:"border border-neutral-300 px-2 sm:px-3 py-2 text-left text-xs sm:text-sm font-medium text-neutral-700",children:"Hole"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-1 sm:px-3 py-2 text-center text-xs sm:text-sm font-medium text-neutral-700",children:"Idx"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-1 sm:px-3 py-2 text-center text-xs sm:text-sm font-medium text-neutral-700",children:"Par"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-2 sm:px-3 py-2 text-center text-xs sm:text-sm font-medium text-neutral-700",children:"Score"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-1 sm:px-3 py-2 text-center text-xs sm:text-sm font-medium text-neutral-700",children:"Net"})]})}),(0,Na.jsx)("tbody",{children:Array.from({length:18},(e,t)=>{const r=j[t]||t+1,s=w[t]||4,a=t>=9,n=t+1,o=(e=>{if(null===l||void 0===l||!l.member_id||!u)return!1;const t=u.player1_id===l.member_id,r=Number(t?u.player1_handicap||u.player1_grass_handicap||0:u.player2_handicap||u.player2_grass_handicap||0),s=Number(t?u.player2_handicap||u.player2_grass_handicap||0:u.player1_handicap||u.player1_grass_handicap||0),a=Math.abs(r-s),n=Math.min(Math.round(a),8);return r>s&&n%18>=(j[e-1]||e)})(n),i=I(n,u),c=(null===u||void 0===u?void 0:u.player1_id)===(null===l||void 0===l?void 0:l.member_id),d=Number(c?(null===u||void 0===u?void 0:u.player1_handicap)||(null===u||void 0===u?void 0:u.player1_grass_handicap)||0:(null===u||void 0===u?void 0:u.player2_handicap)||(null===u||void 0===u?void 0:u.player2_grass_handicap)||0),m=Number(c?(null===u||void 0===u?void 0:u.player2_handicap)||(null===u||void 0===u?void 0:u.player2_grass_handicap)||0:(null===u||void 0===u?void 0:u.player1_handicap)||(null===u||void 0===u?void 0:u.player1_grass_handicap)||0),x=p[t]>0?D(p[t],d,n,m):0;return(0,Na.jsxs)("tr",{className:"".concat(t%2===0?"bg-white":"bg-neutral-50"," ").concat(o?"bg-green-50 border-l-4 border-l-green-400":""," ").concat(i?"bg-orange-50 border-l-4 border-l-orange-400":""),children:[(0,Na.jsx)("td",{className:"border border-neutral-300 px-2 sm:px-3 py-2 text-xs sm:text-sm font-medium text-neutral-700",children:(0,Na.jsxs)("div",{className:"flex items-center",children:[t+1,a&&(0,Na.jsx)("span",{className:"text-xs text-neutral-500 ml-1 hidden sm:inline",children:"(Back 9)"}),o&&(0,Na.jsx)("span",{className:"ml-1 sm:ml-2 text-xs bg-green-100 text-green-800 px-1 sm:px-2 py-1 rounded-full",children:"S"}),i&&(0,Na.jsx)("span",{className:"ml-1 sm:ml-2 text-xs bg-orange-100 text-orange-800 px-1 sm:px-2 py-1 rounded-full",children:"O"})]})}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-1 sm:px-3 py-2 text-center text-xs sm:text-sm text-neutral-600",children:r}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-1 sm:px-3 py-2 text-center text-xs sm:text-sm text-neutral-600",children:s}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-2 sm:px-3 py-2",children:(0,Na.jsx)("input",{type:"number",min:"1",max:"15",value:p[t]||"",onChange:e=>{const r=[...p];r[t]=parseInt(e.target.value)||0,f(r)},className:"w-full px-1 sm:px-2 py-1 border border-neutral-300 rounded text-center text-xs sm:text-sm focus:ring-2 focus:ring-brand-neon-green focus:border-brand-neon-green",placeholder:"0"})}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-1 sm:px-3 py-2 text-center text-xs sm:text-sm",children:x>0?(0,Na.jsx)("span",{className:"font-medium ".concat(x<p[t]?"text-green-600":"text-neutral-600"),children:x}):(0,Na.jsx)("span",{className:"text-neutral-400",children:"-"})})]},t)})})]})})}),(0,Na.jsx)("div",{className:"mb-6 p-3 bg-neutral-50 rounded-lg",children:(0,Na.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Na.jsx)("span",{className:"font-medium",children:"Total Score:"}),(0,Na.jsx)("span",{className:"text-lg font-bold text-brand-black",children:p.reduce((e,t)=>e+(t||0),0)})]})}),(0,Na.jsxs)("div",{className:"mb-6",children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Scorecard Photo (Optional)"}),(0,Na.jsxs)("div",{className:"space-y-3",children:[M?(0,Na.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Na.jsxs)("div",{className:"flex-1",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-green-600",children:[(0,Na.jsx)(il,{className:"w-4 h-4"}),(0,Na.jsx)("span",{children:"Photo uploaded successfully"})]}),(0,Na.jsx)("div",{className:"mt-1",children:(0,Na.jsx)("img",{src:M,alt:"Scorecard",className:"w-32 h-24 object-cover rounded-lg border border-neutral-200"})})]}),(0,Na.jsx)("button",{type:"button",onClick:()=>{A(null),P.current&&(P.current.value="")},className:"p-2 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-lg transition-colors",title:"Remove photo",children:(0,Na.jsx)(tt,{className:"w-4 h-4"})})]}):(0,Na.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Na.jsx)("button",{type:"button",onClick:()=>{var e;null===(e=P.current)||void 0===e||e.click()},disabled:L,className:"flex items-center px-4 py-2 border border-neutral-300 rounded-lg text-sm font-medium text-neutral-700 bg-white hover:bg-neutral-50 focus:outline-none focus:ring-2 focus:ring-brand-neon-green focus:border-brand-neon-green disabled:opacity-50 disabled:cursor-not-allowed",children:L?(0,Na.jsxs)(Na.Fragment,{children:[(0,Na.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-brand-neon-green mr-2"}),"Uploading..."]}):(0,Na.jsxs)(Na.Fragment,{children:[(0,Na.jsx)(Wa,{className:"w-4 h-4 mr-2"}),"Upload Photo"]})}),(0,Na.jsx)("span",{className:"text-xs text-neutral-500",children:"JPG, PNG, GIF up to 5MB"})]}),(0,Na.jsx)("input",{ref:P,type:"file",accept:"image/*",onChange:async e=>{var t;const r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(r)if(console.log("Photo upload started:",r.name,r.size,r.type),r.type.startsWith("image/"))if(r.size>5242880)In.error("File size must be less than 5MB");else{R(!0);try{console.log("Uploading photo to server...");const e=await Fs(r);console.log("Photo upload response:",e.data),e.data.success?(A(e.data.photoUrl),In.success("Scorecard photo uploaded successfully"),console.log("Photo URL set:",e.data.photoUrl)):(console.error("Upload failed:",e.data),In.error("Upload failed: "+(e.data.error||"Unknown error")))}catch(a){var s;console.error("Error uploading photo:",a),console.error("Error details:",null===(s=a.response)||void 0===s?void 0:s.data),In.error("Failed to upload photo. Please try again.")}finally{R(!1)}}else In.error("Please select an image file")},className:"hidden"})]})]}),(0,Na.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3",children:[(0,Na.jsx)("button",{onClick:()=>h(!1),className:"w-full sm:w-auto px-4 py-2 text-neutral-600 hover:text-neutral-800 text-sm sm:text-base",disabled:b,children:"Cancel"}),(0,Na.jsx)("button",{onClick:async()=>{if(!u||null===l||void 0===l||!l.member_id)return;if(0!==p.filter(e=>e>0).length){g(!0);try{const e=Number((null===l||void 0===l?void 0:l.sim_handicap)||(null===l||void 0===l?void 0:l.handicap)||0),r=u.player1_id===l.member_id,a=Number(r?u.player2_handicap||u.player2_grass_handicap||0:u.player1_handicap||u.player1_grass_handicap||0),n=p.map((t,r)=>{if(0===t)return 0;return D(t,e,r+1,a)});await ja.put("/tournaments/".concat(t,"/championship-matches/").concat(u.id,"/result"),{[r?"player1_hole_scores":"player2_hole_scores"]:JSON.stringify(p),[r?"player1_net_hole_scores":"player2_net_hole_scores"]:JSON.stringify(n),[r?"player1_scorecard_photo_url":"player2_scorecard_photo_url"]:M||null,match_status:"in_progress"});In.success("Your scores have been submitted! Waiting for opponent to submit their scores."),h(!1),m(null),F(),s()}catch(e){console.error("Error submitting match score:",e),In.error("Failed to submit match score")}finally{g(!1)}}else In.error("Please enter at least one hole score")},disabled:b,className:"w-full sm:w-auto px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors disabled:opacity-50 text-sm sm:text-base",children:b?"Submitting...":"Submit Score"})]})]})})]})},dl=()=>{var e;const[t]=De(),r=te(),s=t.get("tournament"),[a,l]=(0,n.useState)(null),[o,i]=(0,n.useState)([]),[c,d]=(0,n.useState)([]),[u,m]=(0,n.useState)([]),[x,h]=(0,n.useState)(!0),[p,f]=(0,n.useState)(null);(0,n.useEffect)(()=>{console.log("TournamentScoring component mounted"),console.log("tournamentId from URL:",s),console.log("searchParams:",t.toString());(async()=>{if(!s)return console.log("No tournament ID provided"),f("No tournament ID provided"),void h(!1);try{h(!0);const[e,t,r]=await Promise.all([Gs(),Js(parseInt(s)),la(parseInt(s))]),a=e.data.find(e=>e.id===parseInt(s));if(!a)return f("Tournament not found"),void h(!1);if(l(a),i(t.data||[]),d(r.data||[]),"scramble"===a.tournament_format||"best_ball"===a.tournament_format)try{const e=await ca(parseInt(s));m(e.data||[])}catch(p){console.error("Error loading teams:",p)}}catch(p){console.error("Error fetching tournament data:",p),f("Failed to load tournament data")}finally{h(!1)}})()},[s]),(0,n.useEffect)(()=>{a&&console.log("Tournament type:",a.type,"Is championship:","club_championship"===a.type||"national_championship"===a.type)},[a]);const b=()=>{In.success("Score submitted successfully!")};if(x)return(0,Na.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-brand-dark-green to-brand-muted-green flex items-center justify-center",children:(0,Na.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-8 text-center",children:[(0,Na.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-neon-green mx-auto mb-4"}),(0,Na.jsx)("p",{className:"text-brand-black",children:"Loading tournament..."})]})});if(p||!a)return(0,Na.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-brand-dark-green to-brand-muted-green flex items-center justify-center",children:(0,Na.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-8 text-center max-w-md",children:[(0,Na.jsx)(Je,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),(0,Na.jsx)("h2",{className:"text-2xl font-bold text-brand-black mb-2",children:"Tournament Not Found"}),(0,Na.jsx)("p",{className:"text-neutral-600 mb-6",children:p||"The tournament you're looking for doesn't exist."}),(0,Na.jsxs)("button",{onClick:()=>r("/profile"),className:"flex items-center mx-auto px-6 py-3 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors",children:[(0,Na.jsx)(Yn,{className:"w-4 h-4 mr-2"}),"Back to Profile"]})]})});const g=(e=>({format:e.tournament_format,teamSize:e.team_size||4,holeConfiguration:e.hole_configuration||"18",tee:e.tee||"Red",pins:e.pins||"Friday",puttingGimme:e.putting_gimme||"8",elevation:e.elevation||"Course",stimp:e.stimp||"11",mulligan:e.mulligan||"No",gamePlay:e.game_play||"Force Realistic",firmness:e.firmness||"Normal",wind:e.wind||"None",handicapEnabled:e.handicap_enabled||!1}))(a),y="match_play"===(v=a.tournament_format)||"par3_match_play"===v;var v;return(0,Na.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-brand-dark-green to-brand-muted-green",children:(0,Na.jsxs)("div",{className:"max-w-7xl mx-auto px-0 sm:px-4 lg:px-8 py-2 sm:py-8",children:[(0,Na.jsxs)("div",{className:"bg-white rounded-none sm:rounded-2xl shadow-lg p-3 sm:p-6 mb-4 sm:mb-8",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)("button",{onClick:()=>r("/profile"),className:"mr-2 sm:mr-4 p-2 text-neutral-600 hover:text-brand-black transition-colors",children:(0,Na.jsx)(Yn,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),(0,Na.jsxs)("div",{children:[(0,Na.jsxs)("h1",{className:"text-xl sm:text-3xl font-bold text-brand-black flex items-center",children:[(0,Na.jsx)(Je,{className:"w-6 h-6 sm:w-8 sm:h-8 mr-2 sm:mr-3"}),a.name]}),(0,Na.jsxs)("p",{className:"text-xs sm:text-sm text-neutral-600 mt-1",children:[null===(e=a.tournament_format)||void 0===e?void 0:e.replace("_"," ").toUpperCase()," \u2022 ",a.type]})]})]}),(0,Na.jsx)("div",{className:"text-right",children:(0,Na.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat("active"===a.status?"bg-green-100 text-green-800":"open"===a.status?"bg-blue-100 text-blue-800":"completed"===a.status?"bg-gray-100 text-gray-800":"cancelled"===a.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:a.status||"draft"})})]}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 sm:gap-4 text-xs sm:text-sm",children:[(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)(Ze,{className:"w-4 h-4 mr-2 text-neutral-500"}),(0,Na.jsxs)("span",{children:[o.length," participants"]})]}),a.start_date&&(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)(Ca,{className:"w-4 h-4 mr-2 text-neutral-500"}),(0,Na.jsx)("span",{children:new Date(a.start_date).toLocaleDateString()})]}),a.location&&(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)(Je,{className:"w-4 h-4 mr-2 text-neutral-500"}),(0,Na.jsx)("span",{children:a.location})]})]})]}),(0,Na.jsx)("div",{className:"bg-white rounded-none sm:rounded-2xl shadow-lg p-3 sm:p-6",children:"club_championship"===a.type||"national_championship"===a.type?(0,Na.jsx)(cl,{tournamentId:a.id,tournamentName:a.name,onScoreSubmitted:b,tournament:a}):"stroke_play"===a.tournament_format?(0,Na.jsx)(Jn,{tournamentId:a.id,tournamentFormat:a.tournament_format,tournamentSettings:g,onScoreSubmitted:b,courseId:a.course_id,tournament:a}):"par3_match_play"===a.tournament_format?(0,Na.jsx)(ll,{tournamentId:a.id,tournamentName:a.name,onScoreSubmitted:b}):(0,Na.jsx)(Xn,{tournamentId:a.id,tournamentMatches:c,tournamentFormat:a.tournament_format,onScoreSubmitted:b,requiresMatches:y,teams:u,tournamentSettings:g,courseId:a.course_id})})]})})},ul=Ye("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),ml=Ye("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),xl=Ye("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),hl=()=>{var e;const{user:t}=ka(),[r,s]=(0,n.useState)([]),[a,l]=(0,n.useState)(!0),[o,i]=(0,n.useState)([]),[c,d]=(0,n.useState)(""),[u,m]=(0,n.useState)(!1),[x,h]=(0,n.useState)([]),[p,f]=(0,n.useState)(null),[b,g]=(0,n.useState)(!1),[y,v]=(0,n.useState)({name:"",description:"",start_date:"",end_date:"",registration_deadline:"",max_participants:"",min_participants:"2",tournament_format:"match_play",status:"draft",registration_open:!0,entry_fee:"0",location:"",course:"",rules:"",notes:"",type:"tournament",club_restriction:"open",has_registration_form:!1,registration_form_template:"",registration_form_data:null}),[j,N]=(0,n.useState)({}),[w,_]=(0,n.useState)(!1),k="Andrew"===(null===t||void 0===t?void 0:t.first_name)&&"George"===(null===t||void 0===t?void 0:t.last_name),[S,C]=(0,n.useState)([]),[E,T]=(0,n.useState)(null),[P,L]=(0,n.useState)(!1),[R,M]=(0,n.useState)(null),[A,D]=(0,n.useState)([]),[I,O]=(0,n.useState)([]),[F,z]=(0,n.useState)([]),[U,H]=(0,n.useState)([]),[B,W]=(0,n.useState)(null),[q,V]=(0,n.useState)(!1),[G,$]=(0,n.useState)(!1),[Y,Q]=(0,n.useState)(null),[K,J]=(0,n.useState)(""),[X,Z]=(0,n.useState)([]),[ee,te]=(0,n.useState)(!1),[re,se]=(0,n.useState)({format:"optimized",minMatchesPerPlayer:3}),[ae,ne]=(0,n.useState)([]),[le,oe]=(0,n.useState)([]),[ie,ce]=(0,n.useState)("registration"),[de,ue]=(0,n.useState)(""),[me,xe]=(0,n.useState)(null);(0,n.useEffect)(()=>{(async()=>{try{const[e]=await Promise.all([Ms()]);s(e.data)}catch(e){console.error("Error fetching admin data:",e)}finally{l(!1)}})()},[]),(0,n.useEffect)(()=>{(async()=>{try{const e=await da(void 0,void 0,1e4);i(e.data.courses||[])}catch(e){console.error("Error fetching simulator courses:",e)}})()},[]),(0,n.useEffect)(()=>{if(c.trim()){const e=o.filter(e=>e.name.toLowerCase().includes(c.toLowerCase())||e.location&&e.location.toLowerCase().includes(c.toLowerCase())||e.designer&&e.designer.toLowerCase().includes(c.toLowerCase())).slice(0,10);h(e)}else h([])},[c,o]),(0,n.useEffect)(()=>{const e=e=>{e.target.closest(".course-dropdown-container")||m(!1)};return u&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[u]),(0,n.useEffect)(()=>{(async()=>{try{const e=await Gs();C(e.data)}catch(e){}})()},[]),(0,n.useEffect)(()=>{if(E){(async()=>{try{const[e,t,r,s,a]=await Promise.all([Js(E.id),ea(E.id),na(E.id),la(E.id),Bs(E.id)]);D(e.data),O(t.data),W(r.data),Z(s.data),z(a.data||[])}catch(e){console.error("Error loading tournament data:",e)}})()}},[E]);const he=e=>{M(Ue(Ue({},e),{},{max_participants:e.max_participants?e.max_participants.toString():"",min_participants:e.min_participants?e.min_participants.toString():"2",entry_fee:e.entry_fee?e.entry_fee.toString():"0"})),L(!0)},pe=async e=>{if(E)try{await Promise.all(e.map(e=>Xs(E.id,e)));const[t,r]=await Promise.all([Js(E.id),na(E.id)]);D(t.data),W(r.data),V(!1),ne([]),In.success("Users registered successfully!")}catch(s){var t,r;In.error((null===(t=s.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error)||"Error registering users")}},fe=async e=>{if(E)try{await Promise.all(e.map(e=>ta(E.id,e,K)));const[t,r]=await Promise.all([ea(E.id),na(E.id)]);O(t.data),W(r.data),$(!1),oe([]),J(""),In.success("Users checked in successfully!")}catch(s){var t,r;In.error((null===(t=s.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error)||"Error checking in users")}},be=async e=>{if(E&&window.confirm("Are you sure you want to check out this user?"))try{await ra(E.id,e);const[t,r]=await Promise.all([ea(E.id),na(E.id)]);O(t.data),W(r.data),alert("User checked out successfully!")}catch(s){var t,r;alert((null===(t=s.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error)||"Error checking out user")}},ge=()=>{const e=A.map(e=>e.user_member_id);return r.filter(t=>!e.includes(t.member_id))},ye=()=>{const e=I.map(e=>e.user_member_id);return A.filter(t=>!e.includes(t.user_member_id))},ve=async()=>{if(E)try{const e=await oa(E.id,re.format,re.minMatchesPerPlayer),[t,r]=await Promise.all([la(E.id),na(E.id)]);Z(t.data),W(r.data),te(!1),alert(e.data.message||"Matches generated successfully!")}catch(r){var e,t;alert((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Error generating matches")}},je=async(e,t,r)=>{if(E)try{await ia(E.id,e,{winner_id:t,scores:r||{},status:"completed"});const s=await la(E.id);Z(s.data),alert("Match result updated successfully!")}catch(n){var s,a;alert((null===(s=n.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.error)||"Error updating match result")}},Ne=()=>I.filter(e=>"checked_in"===e.status).length,we=()=>{if(!E)return null;const e=r.length,t=A.length,s=I.length,a=E.min_participants||2,n=E.max_participants;return{totalUsers:e,registeredUsers:t,checkedInUsers:s,minParticipants:a,maxParticipants:n,registrationProgress:e>0?t/e*100:0,minParticipantsMet:t>=a,maxParticipantsReached:!!n&&t>=n}},_e=S.reduce((e,t)=>(e[t.id]={total_participants:0,checked_in_count:0,total_matches:0},e),{});function ke(){return Array.from(new Set(r.map(e=>e.club))).sort()}function Se(){if(!E)return[];let e=ge().filter(e=>{const t=de.toLowerCase();return e.first_name.toLowerCase().includes(t)||e.last_name.toLowerCase().includes(t)||e.email_address.toLowerCase().includes(t)||e.club.toLowerCase().includes(t)});return me&&(e=e.filter(e=>e.club===me)),E.club_restriction&&"open"!==E.club_restriction&&(e=e.filter(e=>e.club===E.club_restriction)),k||"open"===E.club_restriction?e:e.filter(e=>e.club===(null===t||void 0===t?void 0:t.club))}const Ce=()=>{if(!E)return!1;const e=E.location&&E.location.toLowerCase().includes("club"),t=E.course&&E.course.toLowerCase().includes("simulator");return e||!t};return a?(0,Na.jsx)("div",{className:"flex items-center justify-center min-h-64",children:(0,Na.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-neon-green"})}):(0,Na.jsxs)("div",{className:"space-y-8",children:[(0,Na.jsx)("div",{className:"bg-white/95 rounded-2xl shadow-lg",children:(0,Na.jsxs)("div",{className:"p-6",children:[(0,Na.jsx)("div",{className:"space-y-6",children:(0,Na.jsxs)("div",{className:"space-y-6",children:[(0,Na.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-neutral-200",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-4",children:[E&&(0,Na.jsxs)("button",{onClick:()=>T(null),className:"flex items-center px-3 py-1 text-neutral-600 hover:text-neutral-800 transition-colors",children:[(0,Na.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to List"]}),(0,Na.jsx)("h3",{className:"text-lg font-semibold text-brand-black",children:E?"Managing: ".concat(E.name):"Tournaments"})]}),(0,Na.jsxs)("button",{onClick:()=>g(!0),className:"flex items-center px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors",children:[(0,Na.jsx)(sn,{className:"w-4 h-4 mr-2"}),"Create Tournament"]})]}),E&&(0,Na.jsxs)("div",{className:"mt-4 p-4 bg-gradient-to-r from-brand-neon-green/10 to-blue-50 rounded-lg border border-brand-neon-green/20",children:[(0,Na.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-3",children:[(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"text-2xl font-bold text-brand-black",children:E.name}),(0,Na.jsx)("div",{className:"text-sm text-neutral-600 capitalize",children:E.type})]}),(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"text-lg font-semibold text-brand-black",children:(()=>{const e=we();return e?e.registeredUsers:0})()}),(0,Na.jsx)("div",{className:"text-sm text-neutral-600",children:"Participants"})]}),(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"text-lg font-semibold text-brand-black",children:(()=>{const e=we();return e?e.checkedInUsers:0})()}),(0,Na.jsx)("div",{className:"text-sm text-neutral-600",children:"Checked In"})]}),(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"text-lg font-semibold text-brand-black",children:X.length}),(0,Na.jsx)("div",{className:"text-sm text-neutral-600",children:"Matches"})]})]}),(()=>{const e=we();return e?(0,Na.jsxs)("div",{className:"mb-3",children:[(0,Na.jsxs)("div",{className:"flex justify-between text-sm text-neutral-600 mb-1",children:[(0,Na.jsx)("span",{children:"Registration Progress"}),(0,Na.jsxs)("span",{children:[Math.round(e.registrationProgress),"%"]})]}),(0,Na.jsx)("div",{className:"w-full bg-neutral-200 rounded-full h-2",children:(0,Na.jsx)("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:"".concat(Math.min(e.registrationProgress,100),"%"),background:e.minParticipantsMet?"#22c55e":"#4ade80"}})}),(0,Na.jsxs)("div",{className:"flex justify-between text-xs text-neutral-500 mt-1",children:[(0,Na.jsx)("span",{children:"0"}),(0,Na.jsx)("span",{children:e.totalUsers})]})]}):null})(),(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("active"===E.status?"bg-green-100 text-green-800":"open"===E.status?"bg-blue-100 text-blue-800":"completed"===E.status?"bg-gray-100 text-gray-800":"cancelled"===E.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:E.status||"draft"}),(0,Na.jsx)("span",{className:"px-2 py-1 bg-neutral-100 text-neutral-700 rounded-full text-xs",children:E.tournament_format||"match_play"}),(0,Na.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(E.registration_open?"bg-green-100 text-green-800":"bg-gray-200 text-gray-700"),children:E.registration_open?"Registration Open":"Registration Closed"})]}),(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsx)("button",{onClick:()=>he(E),className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors",children:"Edit"}),(0,Na.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this tournament?"))try{await Ks(e);const t=await Gs();C(t.data),In.success("Tournament deleted successfully!"),E&&E.id===e&&T(null)}catch(t){In.error("Error deleting tournament.")}})(E.id),className:"px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700 transition-colors",children:"Delete"}),(0,Na.jsx)("button",{onClick:()=>{const e=!E.registration_open;var t,r;t=E.id,r=e,Rs.put("/tournaments/".concat(t,"/registration"),{registration_open:r})},className:"px-3 py-1 rounded text-sm transition-colors ".concat(E.registration_open?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"),children:E.registration_open?"Close Registration":"Open Registration"})]})]})]}),!E&&(0,Na.jsxs)("div",{className:"mt-4",children:[(0,Na.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:S.map(e=>(0,Na.jsxs)("div",{onClick:()=>T(e),className:"p-4 bg-white border border-neutral-200 rounded-lg hover:border-brand-neon-green hover:shadow-md transition-all cursor-pointer group",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Na.jsx)("h5",{className:"font-medium text-brand-black group-hover:text-brand-neon-green transition-colors",children:e.name}),(0,Na.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("active"===e.status?"bg-green-100 text-green-800":"open"===e.status?"bg-blue-100 text-blue-800":"completed"===e.status?"bg-gray-100 text-gray-800":"cancelled"===e.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:e.status||"draft"})]}),(0,Na.jsxs)("div",{className:"text-sm text-neutral-600 mb-2",children:[e.tournament_format||"match_play"," \u2022 ",e.type||"tournament"]}),e.start_date&&(0,Na.jsx)("div",{className:"text-xs text-neutral-500",children:new Date(e.start_date).toLocaleDateString()})]},e.id))}),0===S.length&&(0,Na.jsxs)("div",{className:"text-center py-8 text-neutral-600",children:[(0,Na.jsx)(Je,{className:"w-12 h-12 mx-auto mb-2 text-neutral-400"}),(0,Na.jsx)("p",{children:"No tournaments found."}),(0,Na.jsx)("p",{className:"text-sm",children:"Create your first tournament to get started."})]})]})]}),E&&(0,Na.jsx)("div",{className:"space-y-6",children:(0,Na.jsxs)("div",{className:"bg-white rounded-xl border border-neutral-200",children:[(0,Na.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4 border-b border-neutral-200 p-6 pb-0",children:[(0,Na.jsx)("button",{className:"py-2 px-4 font-medium ".concat("registration"===ie?"border-b-2 border-brand-neon-green text-brand-black":"text-neutral-600 hover:text-brand-black"),onClick:()=>ce("registration"),children:"Registration"}),Ce()&&(0,Na.jsx)("button",{className:"py-2 px-4 font-medium ".concat("checkin"===ie?"border-b-2 border-brand-neon-green text-brand-black":"text-neutral-600 hover:text-brand-black"),onClick:()=>ce("checkin"),children:"Players"}),(0,Na.jsx)("button",{className:"py-2 px-4 font-medium ".concat("matches"===ie?"border-b-2 border-brand-neon-green text-brand-black":"text-neutral-600 hover:text-brand-black"),onClick:()=>ce("matches"),children:"Matches"}),(0,Na.jsxs)("button",{className:"py-2 px-4 font-medium ".concat("tracking"===ie?"border-b-2 border-brand-neon-green text-brand-black":"text-neutral-600 hover:text-brand-black"),onClick:()=>ce("tracking"),children:[(0,Na.jsx)(Ea,{className:"w-4 h-4 mr-2 inline"}),"User Tracking"]})]}),(0,Na.jsxs)("div",{className:"p-6",children:["registration"===ie&&(0,Na.jsx)("div",{className:"space-y-6",children:(0,Na.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-neutral-200",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Na.jsx)("h4",{className:"text-lg font-semibold text-brand-black",children:"Registration Management"}),(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsxs)("span",{className:"text-sm text-neutral-600",children:[A.length," registered"]}),E.max_participants&&(0,Na.jsxs)("span",{className:"text-sm text-neutral-600",children:["/ ",E.max_participants," max"]})]})]}),E.club_restriction&&(0,Na.jsxs)("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)(Xe,{className:"w-4 h-4 text-blue-600 mr-2"}),(0,Na.jsxs)("span",{className:"text-sm font-medium text-blue-800",children:["Registration Access: ","open"===E.club_restriction?"Open to All Clubs":"Restricted to ".concat(E.club_restriction)]})]}),!k&&"open"!==E.club_restriction&&(0,Na.jsx)("p",{className:"text-xs text-blue-600 mt-1",children:"As a club admin, you can only manage users from your club for this tournament."})]}),(0,Na.jsxs)("div",{className:"flex flex-wrap gap-3 mb-6",children:[(0,Na.jsxs)("button",{onClick:()=>{xe(null),ue("")},className:"px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors flex items-center",children:[(0,Na.jsx)(Ze,{className:"w-4 h-4 mr-2"}),"View All Users"]}),(0,Na.jsxs)("button",{onClick:()=>{const e=ge();if(e.length>0){const t="Register all ".concat(e.length," available user(s)?");if(!window.confirm(t))return;pe(e.map(e=>e.member_id))}},className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center",disabled:0===ge().length,children:[(0,Na.jsx)(nt,{className:"w-4 h-4 mr-2"}),"Register All Available"]})]}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Search Users"}),(0,Na.jsxs)("div",{className:"relative",children:[(0,Na.jsx)(ul,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-neutral-400"}),(0,Na.jsx)("input",{type:"text",value:de,onChange:e=>ue(e.target.value),placeholder:"Search by name, email, or club...",className:"w-full pl-10 pr-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"})]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Filter by Club"}),(0,Na.jsxs)("select",{value:me||"",onChange:e=>xe(e.target.value||null),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,Na.jsx)("option",{value:"",children:"All Clubs"}),ke().filter(e=>"open"===E.club_restriction||E.club_restriction===e||!k&&e===(null===t||void 0===t?void 0:t.club)).map(e=>(0,Na.jsx)("option",{value:e,children:e},e))]})]})]}),(0,Na.jsxs)("div",{className:"mb-6",children:[(0,Na.jsx)("h5",{className:"text-sm font-medium text-neutral-700 mb-3",children:"Club Registration Progress"}),(0,Na.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,Na.jsxs)("div",{onClick:()=>xe(null),className:"cursor-pointer flex flex-col items-center px-4 py-3 rounded-lg border transition-all ".concat(null===me?"bg-brand-neon-green/80 border-brand-neon-green text-brand-black shadow-md":"bg-neutral-50 border-neutral-300 text-neutral-700 hover:bg-brand-neon-green/30 hover:border-brand-neon-green"),style:{minWidth:120},children:[(0,Na.jsx)("span",{className:"font-medium",children:"All Clubs"}),(0,Na.jsxs)("div",{className:"text-sm text-neutral-600 mt-1",children:[A.length," / ",r.length]})]}),ke().map(e=>{const t=function(e){return r.filter(t=>t.club===e).length}(e),s=function(e){return A.filter(t=>t.club===e).length}(e),a=t>0?Math.round(s/t*100):0;return(0,Na.jsxs)("div",{onClick:()=>xe(e),className:"cursor-pointer flex flex-col items-center px-4 py-3 rounded-lg border transition-all ".concat(me===e?"bg-brand-neon-green/80 border-brand-neon-green text-brand-black shadow-md":"bg-neutral-50 border-neutral-300 text-neutral-700 hover:bg-brand-neon-green/30 hover:border-brand-neon-green"),style:{minWidth:120},children:[(0,Na.jsx)("span",{className:"font-medium",children:e}),(0,Na.jsx)("div",{className:"w-full h-2 bg-neutral-200 rounded mt-2 mb-1",children:(0,Na.jsx)("div",{className:"h-2 rounded transition-all duration-300",style:{width:"".concat(a,"%"),background:100===a?"#22c55e":"#4ade80"}})}),(0,Na.jsxs)("div",{className:"text-sm text-neutral-600",children:[s,"/",t," (",a,"%)"]})]},e)})]})]}),(0,Na.jsx)("div",{className:"overflow-x-auto",children:(0,Na.jsxs)("table",{className:"w-full border-collapse border border-neutral-300 rounded-lg",children:[(0,Na.jsx)("thead",{className:"bg-neutral-50",children:(0,Na.jsxs)("tr",{children:[(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:(0,Na.jsx)("input",{type:"checkbox",checked:Se().length>0&&ae.length===Se().length,onChange:e=>{e.target.checked?ne(Se().map(e=>e.member_id)):ne([])}})}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Name"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Email"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Club"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Handicap"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Actions"})]})}),(0,Na.jsx)("tbody",{children:Se().map(e=>(0,Na.jsxs)("tr",{className:"hover:bg-neutral-50",children:[(0,Na.jsx)("td",{className:"border border-neutral-300 px-4 py-3",children:(0,Na.jsx)("input",{type:"checkbox",checked:ae.includes(e.member_id),onChange:t=>{t.target.checked?ne(t=>[...t,e.member_id]):ne(t=>t.filter(t=>t!==e.member_id))}})}),(0,Na.jsxs)("td",{className:"border border-neutral-300 px-4 py-3 font-medium",children:[e.first_name," ",e.last_name]}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-4 py-3 text-neutral-600",children:e.email_address}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-4 py-3",children:(0,Na.jsx)("span",{className:"px-2 py-1 bg-neutral-100 text-neutral-700 text-sm rounded",children:e.club})}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-4 py-3 text-neutral-600",children:e.handicap?e.handicap:"N/A"}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-4 py-3",children:(0,Na.jsx)("button",{onClick:()=>pe([e.member_id]),className:"px-3 py-1 bg-brand-neon-green text-brand-black text-sm rounded hover:bg-green-400 transition-colors",children:"Register"})})]},e.member_id))})]})}),0===Se().length&&(0,Na.jsxs)("div",{className:"text-center py-8 text-neutral-600",children:[(0,Na.jsx)(Ze,{className:"w-12 h-12 mx-auto mb-2 text-neutral-400"}),(0,Na.jsx)("p",{children:"No available users found."}),(0,Na.jsx)("p",{className:"text-sm",children:"Try adjusting your search or club filter."})]}),ae.length>0&&(0,Na.jsx)("div",{className:"flex justify-end mt-4",children:(0,Na.jsxs)("button",{onClick:()=>pe(ae),className:"px-6 py-3 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors flex items-center",children:[(0,Na.jsx)(nt,{className:"w-4 h-4 mr-2"}),"Register ",ae.length," Selected"]})})]})}),"checkin"===ie&&(0,Na.jsx)("div",{className:"space-y-6",children:(0,Na.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-neutral-200",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Na.jsx)("h4",{className:"text-lg font-semibold text-brand-black",children:"Payment Management"}),(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsxs)("span",{className:"text-sm text-neutral-600",children:[I.filter(e=>"checked_in"===e.status).length," checked in"]}),(0,Na.jsxs)("span",{className:"text-sm text-neutral-600",children:["/ ",A.length," registered"]})]})]}),!Ce()&&(0,Na.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:(0,Na.jsxs)("div",{className:"flex items-start",children:[(0,Na.jsx)("div",{className:"flex-shrink-0",children:(0,Na.jsx)("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Na.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),(0,Na.jsxs)("div",{className:"ml-3",children:[(0,Na.jsx)("h3",{className:"text-sm font-medium text-blue-800",children:"Simulator Tournament"}),(0,Na.jsx)("div",{className:"mt-2 text-sm text-blue-700",children:(0,Na.jsx)("p",{children:"This appears to be a simulator tournament. Payment tracking functionality is typically used for tournaments where entry fees need to be collected."})})]})]})}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,Na.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)(il,{className:"w-5 h-5 text-green-600 mr-2"}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("div",{className:"text-2xl font-bold text-green-600",children:I.filter(e=>"checked_in"===e.status).length}),(0,Na.jsx)("div",{className:"text-sm text-green-700",children:"Checked In"})]})]})}),(0,Na.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)(ol,{className:"w-5 h-5 text-yellow-600 mr-2"}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:A.length-I.filter(e=>"checked_in"===e.status).length}),(0,Na.jsx)("div",{className:"text-sm text-yellow-700",children:"Pending Payment"})]})]})}),(0,Na.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)(ol,{className:"w-5 h-5 text-blue-600 mr-2"}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:I.filter(e=>"checked_out"===e.status).length}),(0,Na.jsx)("div",{className:"text-sm text-blue-700",children:"Checked Out"})]})]})}),(0,Na.jsx)("div",{className:"bg-neutral-50 border border-neutral-200 rounded-lg p-4",children:(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)(Ze,{className:"w-5 h-5 text-neutral-600 mr-2"}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("div",{className:"text-2xl font-bold text-neutral-600",children:A.length}),(0,Na.jsx)("div",{className:"text-sm text-neutral-700",children:"Total Registered"})]})]})})]}),(0,Na.jsxs)("div",{className:"mb-6",children:[(0,Na.jsxs)("div",{className:"flex justify-between text-sm text-neutral-600 mb-2",children:[(0,Na.jsx)("span",{children:"Payment Progress"}),(0,Na.jsxs)("span",{children:[A.length>0?Math.round(I.filter(e=>"checked_in"===e.status).length/A.length*100):0,"%"]})]}),(0,Na.jsx)("div",{className:"w-full bg-neutral-200 rounded-full h-3",children:(0,Na.jsx)("div",{className:"h-3 rounded-full transition-all duration-300",style:{width:"".concat(A.length>0?I.filter(e=>"checked_in"===e.status).length/A.length*100:0,"%"),background:"#22c55e"}})})]}),(0,Na.jsxs)("div",{className:"flex flex-wrap gap-3 mb-6",children:[(0,Na.jsxs)("button",{onClick:()=>{const e=A.filter(e=>!I.find(t=>t.user_member_id===e.user_member_id&&"checked_in"===t.status));e.length>0&&fe(e.map(e=>e.user_member_id))},className:"px-4 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors flex items-center",disabled:0===A.filter(e=>!I.find(t=>t.user_member_id===e.user_member_id&&"checked_in"===t.status)).length,children:[(0,Na.jsx)(il,{className:"w-4 h-4 mr-2"}),"Mark All as Paid"]}),(0,Na.jsxs)("button",{onClick:()=>{const e=I.filter(e=>"checked_in"===e.status);e.length>0&&e.forEach(e=>be(e.user_member_id))},className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center",disabled:0===I.filter(e=>"checked_in"===e.status).length,children:[(0,Na.jsx)(ol,{className:"w-4 h-4 mr-2"}),"Mark All as Unpaid"]})]}),(0,Na.jsx)("div",{className:"overflow-x-auto",children:(0,Na.jsxs)("table",{className:"w-full border-collapse border border-neutral-300 rounded-lg",children:[(0,Na.jsx)("thead",{className:"bg-neutral-50",children:(0,Na.jsxs)("tr",{children:[(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Name"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Club"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Payment Status"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Score Submitted"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Payout"})]})}),(0,Na.jsx)("tbody",{children:A.map(e=>{const t=I.find(t=>t.user_member_id===e.user_member_id),r=t&&"checked_in"===t.status,s=t&&"checked_out"===t.status,a=F.find(t=>t.user_id===e.user_member_id),n=U.find(t=>t.user_member_id===e.user_member_id);return(0,Na.jsxs)("tr",{className:"hover:bg-neutral-50",children:[(0,Na.jsxs)("td",{className:"border border-neutral-300 px-4 py-3 font-medium",children:[e.first_name," ",e.last_name]}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-4 py-3",children:(0,Na.jsx)("span",{className:"px-2 py-1 bg-neutral-100 text-neutral-700 text-sm rounded",children:e.club})}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-4 py-3",children:(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[r?(0,Na.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(0,Na.jsx)(il,{className:"w-3 h-3 inline mr-1"}),"Paid"]}):s?(0,Na.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[(0,Na.jsx)(ol,{className:"w-3 h-3 inline mr-1"}),"Unpaid"]}):(0,Na.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[(0,Na.jsx)(ol,{className:"w-3 h-3 inline mr-1"}),"Unpaid"]}),(0,Na.jsxs)("div",{className:"flex space-x-1",children:[!r&&(0,Na.jsx)("button",{onClick:()=>fe([e.user_member_id]),className:"px-2 py-1 bg-green-600 text-white text-xs rounded hover:bg-green-700 transition-colors",title:"Mark as Paid",children:"\u2713"}),r&&(0,Na.jsx)("button",{onClick:()=>be(e.user_member_id),className:"px-2 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700 transition-colors",title:"Mark as Unpaid",children:"\u2717"})]})]})}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-4 py-3",children:a?(0,Na.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(0,Na.jsx)(il,{className:"w-3 h-3 inline mr-1"}),"Submitted"]}):(0,Na.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[(0,Na.jsx)(ol,{className:"w-3 h-3 inline mr-1"}),"Pending"]})}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-4 py-3",children:n?(0,Na.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(0,Na.jsx)(il,{className:"w-3 h-3 inline mr-1"}),"$",n.amount]}):(0,Na.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[(0,Na.jsx)(ol,{className:"w-3 h-3 inline mr-1"}),"TBD"]})})]},e.user_member_id)})})]})})]})}),"matches"===ie&&(0,Na.jsx)("div",{className:"space-y-6",children:(0,Na.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-neutral-200",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Na.jsx)("h4",{className:"text-lg font-semibold text-brand-black",children:"Match Management"}),(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsxs)("span",{className:"text-sm text-neutral-600",children:[X.filter(e=>"completed"===e.status).length," completed"]}),(0,Na.jsxs)("span",{className:"text-sm text-neutral-600",children:["/ ",X.length," total"]})]})]}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,Na.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)(il,{className:"w-5 h-5 text-green-600 mr-2"}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("div",{className:"text-2xl font-bold text-green-600",children:X.filter(e=>"completed"===e.status).length}),(0,Na.jsx)("div",{className:"text-sm text-green-700",children:"Completed"})]})]})}),(0,Na.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)(ol,{className:"w-5 h-5 text-yellow-600 mr-2"}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:X.filter(e=>"pending"===e.status).length}),(0,Na.jsx)("div",{className:"text-sm text-yellow-700",children:"Pending"})]})]})}),(0,Na.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)(Ze,{className:"w-5 h-5 text-blue-600 mr-2"}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:A.length}),(0,Na.jsx)("div",{className:"text-sm text-blue-700",children:"Participants"})]})]})}),(0,Na.jsx)("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)(Je,{className:"w-5 h-5 text-purple-600 mr-2"}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:Math.ceil(X.length/2)}),(0,Na.jsx)("div",{className:"text-sm text-purple-700",children:"Rounds"})]})]})})]}),0===X.length&&(0,Na.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-xl p-6 border border-purple-200 mb-6",children:[(0,Na.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Na.jsx)(Je,{className:"w-5 h-5 text-purple-600 mr-2"}),(0,Na.jsx)("h5",{className:"text-lg font-semibold text-purple-900",children:"Generate Tournament Matches"})]}),(0,Na.jsx)("p",{className:"text-purple-700 mb-4",children:"Create match pairings for your tournament. You can choose from different generation formats."}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-purple-700 mb-2",children:"Generation Format"}),(0,Na.jsxs)("select",{value:re.format,onChange:e=>se(Ue(Ue({},re),{},{format:e.target.value})),className:"w-full px-3 py-2 border border-purple-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[(0,Na.jsx)("option",{value:"optimized",children:"Optimized (Balanced)"}),(0,Na.jsx)("option",{value:"random",children:"Random"}),(0,Na.jsx)("option",{value:"seeded",children:"Seeded (by Handicap)"}),(0,Na.jsx)("option",{value:"round_robin",children:"Round Robin"})]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-purple-700 mb-2",children:"Min Matches Per Player"}),(0,Na.jsx)("input",{type:"number",min:"1",max:"10",value:re.minMatchesPerPlayer,onChange:e=>se(Ue(Ue({},re),{},{minMatchesPerPlayer:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-purple-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),(0,Na.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,Na.jsxs)("button",{onClick:ve,className:"px-6 py-3 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700 transition-colors flex items-center",disabled:A.length<2,children:[(0,Na.jsx)(Je,{className:"w-4 h-4 mr-2"}),"Generate Matches"]}),A.length<2&&(0,Na.jsxs)("div",{className:"flex items-center text-sm text-purple-600",children:[(0,Na.jsx)(ol,{className:"w-4 h-4 mr-2"}),"Need at least 2 participants to generate matches"]})]})]}),X.length>0&&(0,Na.jsxs)("div",{className:"mb-6",children:[(0,Na.jsxs)("div",{className:"flex justify-between text-sm text-neutral-600 mb-2",children:[(0,Na.jsx)("span",{children:"Match Progress"}),(0,Na.jsxs)("span",{children:[X.length>0?Math.round(X.filter(e=>"completed"===e.status).length/X.length*100):0,"%"]})]}),(0,Na.jsx)("div",{className:"w-full bg-neutral-200 rounded-full h-3",children:(0,Na.jsx)("div",{className:"h-3 rounded-full transition-all duration-300",style:{width:"".concat(X.length>0?X.filter(e=>"completed"===e.status).length/X.length*100:0,"%"),background:"#22c55e"}})})]}),X.length>0&&(0,Na.jsxs)("div",{className:"flex flex-wrap gap-3 mb-6",children:[(0,Na.jsxs)("button",{onClick:()=>te(!0),className:"px-4 py-2 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700 transition-colors flex items-center",children:[(0,Na.jsx)(Je,{className:"w-4 h-4 mr-2"}),"Regenerate Matches"]}),(0,Na.jsxs)("button",{onClick:()=>{const e=X.filter(e=>"pending"===e.status);e.length>0&&e.forEach(e=>{je(e.id,e.player1_id)})},className:"px-4 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors flex items-center",disabled:0===X.filter(e=>"pending"===e.status).length,children:[(0,Na.jsx)(il,{className:"w-4 h-4 mr-2"}),"Complete All Pending"]})]}),X.length>0?(0,Na.jsx)("div",{className:"overflow-x-auto",children:(0,Na.jsxs)("table",{className:"w-full border-collapse border border-neutral-300 rounded-lg",children:[(0,Na.jsx)("thead",{className:"bg-neutral-50",children:(0,Na.jsxs)("tr",{children:[(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Match #"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Player 1"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Player 2"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Status"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Winner"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Actions"})]})}),(0,Na.jsx)("tbody",{children:X.map(e=>(0,Na.jsxs)("tr",{className:"hover:bg-neutral-50",children:[(0,Na.jsxs)("td",{className:"border border-neutral-300 px-4 py-3 font-medium",children:["#",e.match_number]}),(0,Na.jsxs)("td",{className:"border border-neutral-300 px-4 py-3",children:[(0,Na.jsxs)("div",{className:"font-medium",children:[e.player1_first_name," ",e.player1_last_name]}),(0,Na.jsx)("div",{className:"text-sm text-neutral-600",children:e.player1_club})]}),(0,Na.jsxs)("td",{className:"border border-neutral-300 px-4 py-3",children:[(0,Na.jsxs)("div",{className:"font-medium",children:[e.player2_first_name," ",e.player2_last_name]}),(0,Na.jsx)("div",{className:"text-sm text-neutral-600",children:e.player2_club})]}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-4 py-3",children:"completed"===e.status?(0,Na.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(0,Na.jsx)(il,{className:"w-3 h-3 inline mr-1"}),"Completed"]}):(0,Na.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[(0,Na.jsx)(ol,{className:"w-3 h-3 inline mr-1"}),"Pending"]})}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-4 py-3",children:e.winner_first_name?(0,Na.jsxs)("div",{className:"font-medium text-green-600",children:[e.winner_first_name," ",e.winner_last_name]}):(0,Na.jsx)("span",{className:"text-neutral-500",children:"Not decided"})}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-4 py-3",children:"pending"===e.status?(0,Na.jsxs)("div",{className:"flex space-x-2",children:[(0,Na.jsxs)("button",{onClick:()=>je(e.id,e.player1_id),className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 transition-colors",children:[e.player1_first_name," Wins"]}),(0,Na.jsxs)("button",{onClick:()=>je(e.id,e.player2_id),className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 transition-colors",children:[e.player2_first_name," Wins"]})]}):(0,Na.jsx)("span",{className:"text-sm text-neutral-500",children:"Completed"})})]},e.id))})]})}):(0,Na.jsxs)("div",{className:"text-center py-8",children:[(0,Na.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-neutral-100 rounded-full flex items-center justify-center",children:(0,Na.jsx)(Je,{className:"w-8 h-8 text-neutral-400"})}),(0,Na.jsx)("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"No matches generated yet"}),(0,Na.jsx)("p",{className:"text-neutral-600 mb-4",children:"Generate matches to start the tournament competition."})]})]})}),"tracking"===ie&&(0,Na.jsx)("div",{className:"space-y-6",children:(0,Na.jsx)("div",{className:"bg-white rounded-xl p-6 border border-neutral-200",children:(0,Na.jsxs)("div",{className:"text-center py-8",children:[(0,Na.jsx)(Ea,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Na.jsx)("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"User Tracking Dashboard"}),(0,Na.jsx)("p",{className:"text-gray-600 mb-4",children:"View detailed user tracking statistics and analytics."}),(0,Na.jsxs)("a",{href:"/user-tracking",className:"inline-flex items-center px-6 py-3 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors",children:[(0,Na.jsx)(Ea,{className:"w-5 h-5 mr-2"}),"Open User Tracking Dashboard"]})]})})})]})]})}),!E&&(0,Na.jsx)("div",{className:"space-y-6",children:(0,Na.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-neutral-200",children:[(0,Na.jsx)("h4",{className:"text-lg font-semibold text-brand-black mb-4",children:"Tournament Overview"}),(0,Na.jsx)("p",{className:"text-neutral-600 mb-6",children:"Select a tournament from the dropdown above to manage it, or create a new tournament to get started."}),(0,Na.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:S.map(e=>{const t=_e[e.id]||{};return(0,Na.jsxs)("div",{className:"p-4 border border-neutral-200 rounded-lg hover:border-brand-neon-green transition-colors cursor-pointer",onClick:()=>T(e),children:[(0,Na.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,Na.jsx)("h5",{className:"font-medium text-brand-black",children:e.name}),(0,Na.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("active"===e.status?"bg-green-100 text-green-800":"open"===e.status?"bg-blue-100 text-blue-800":"completed"===e.status?"bg-gray-100 text-gray-800":"cancelled"===e.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:e.status||"draft"})]}),(0,Na.jsxs)("div",{className:"text-sm text-neutral-600 mb-3",children:[(0,Na.jsx)("div",{className:"capitalize",children:e.type}),(0,Na.jsx)("div",{className:"text-xs",children:e.tournament_format||"match_play"})]}),(0,Na.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"font-semibold text-brand-black",children:t.total_participants||0}),(0,Na.jsx)("div",{className:"text-neutral-500",children:"Participants"})]}),(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"font-semibold text-brand-black",children:t.checked_in_count||0}),(0,Na.jsx)("div",{className:"text-neutral-500",children:"Checked In"})]}),(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"font-semibold text-brand-black",children:t.total_matches||0}),(0,Na.jsx)("div",{className:"text-neutral-500",children:"Matches"})]})]}),(0,Na.jsxs)("div",{className:"mt-3 flex items-center justify-between",children:[(0,Na.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(e.registration_open?"bg-green-100 text-green-800":"bg-gray-200 text-gray-700"),children:e.registration_open?"Registration Open":"Registration Closed"}),(0,Na.jsx)("button",{onClick:t=>{t.stopPropagation(),he(e)},className:"text-xs text-blue-600 hover:text-blue-800",children:"Edit"})]})]},e.id)})}),0===S.length&&(0,Na.jsxs)("div",{className:"text-center py-8",children:[(0,Na.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-neutral-100 rounded-full flex items-center justify-center",children:(0,Na.jsx)(Je,{className:"w-8 h-8 text-neutral-400"})}),(0,Na.jsx)("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"No tournaments yet"}),(0,Na.jsx)("p",{className:"text-neutral-600 mb-4",children:"Create your first tournament to get started with tournament management."}),(0,Na.jsx)("button",{onClick:()=>g(!0),className:"px-6 py-3 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors",children:"Create Tournament"})]})]})})]})}),(0,Na.jsx)("div",{className:"space-y-6",children:(0,Na.jsx)("div",{className:"bg-white rounded-xl p-6 border border-neutral-200",children:(0,Na.jsxs)("div",{className:"text-center py-8",children:[(0,Na.jsx)(Ea,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Na.jsx)("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"User Tracking Dashboard"}),(0,Na.jsx)("p",{className:"text-gray-600 mb-4",children:"View detailed user tracking statistics and analytics."}),(0,Na.jsxs)("a",{href:"/user-tracking",className:"inline-flex items-center px-6 py-3 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors",children:[(0,Na.jsx)(Ea,{className:"w-5 h-5 mr-2"}),"Open User Tracking Dashboard"]})]})})})]})}),b&&(0,Na.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Na.jsxs)("div",{className:"bg-white rounded-2xl p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Na.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Na.jsx)("h3",{className:"text-2xl font-bold text-brand-black",children:"Create Tournament/League"}),(0,Na.jsx)("button",{onClick:()=>g(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:(0,Na.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Na.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};y.name.trim()||(e.name="Tournament name is required"),y.start_date&&y.end_date&&new Date(y.start_date)>new Date(y.end_date)&&(e.end_date="End date must be after start date"),y.registration_deadline&&y.start_date&&new Date(y.registration_deadline)>new Date(y.start_date)&&(e.registration_deadline="Registration deadline must be before start date"),y.min_participants&&y.max_participants&&parseInt(y.min_participants)>parseInt(y.max_participants)&&(e.max_participants="Max participants must be greater than min participants");return y.entry_fee&&parseFloat(y.entry_fee)<0&&(e.entry_fee="Entry fee cannot be negative"),N(e),0===Object.keys(e).length})()){_(!0);try{const e={name:y.name,description:y.description,start_date:y.start_date||void 0,end_date:y.end_date||void 0,registration_deadline:y.registration_deadline||void 0,max_participants:y.max_participants?parseInt(y.max_participants):void 0,min_participants:parseInt(y.min_participants),tournament_format:y.tournament_format,status:y.status,registration_open:y.registration_open,entry_fee:parseFloat(y.entry_fee),location:y.location,course:p?p.name:y.course,rules:y.rules,notes:y.notes,type:y.type,club_restriction:y.club_restriction,has_registration_form:y.has_registration_form,registration_form_template:y.registration_form_template,registration_form_data:y.registration_form_data,created_by:null===t||void 0===t?void 0:t.member_id};await Vs(e),In.success("Tournament created successfully!"),g(!1),v({name:"",description:"",start_date:"",end_date:"",registration_deadline:"",max_participants:"",min_participants:"2",tournament_format:"match_play",status:"draft",registration_open:!0,entry_fee:"0",location:"",course:"",rules:"",notes:"",type:"tournament",club_restriction:"open",has_registration_form:!1,registration_form_template:"",registration_form_data:null}),N({}),f(null),d("");const r=await Gs();C(r.data)}catch(r){console.error("Error creating tournament:",r),In.error("Failed to create tournament. Please try again.")}finally{_(!1)}}},className:"space-y-6",children:[(0,Na.jsxs)("div",{className:"bg-neutral-50 rounded-xl p-6",children:[(0,Na.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Na.jsx)(Je,{className:"w-5 h-5 text-brand-neon-green mr-2"}),(0,Na.jsx)("h4",{className:"text-lg font-semibold text-brand-black",children:"Basic Information"})]}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Tournament Name *"}),(0,Na.jsx)("input",{type:"text",value:y.name,onChange:e=>v(Ue(Ue({},y),{},{name:e.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent ".concat(j.name?"border-red-500":"border-neutral-300"),required:!0,placeholder:"e.g., Spring Championship 2024"}),j.name&&(0,Na.jsx)("p",{className:"text-red-500 text-sm mt-1",children:j.name})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Type"}),(0,Na.jsxs)("select",{value:y.type||"tournament",onChange:e=>v(Ue(Ue({},y),{},{type:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,Na.jsx)("option",{value:"tournament",children:"Tournament"}),(0,Na.jsx)("option",{value:"league",children:"League"})]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Status"}),(0,Na.jsxs)("select",{value:y.status,onChange:e=>v(Ue(Ue({},y),{},{status:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,Na.jsx)("option",{value:"draft",children:"Draft"}),(0,Na.jsx)("option",{value:"open",children:"Open for Registration"}),(0,Na.jsx)("option",{value:"closed",children:"Registration Closed"}),(0,Na.jsx)("option",{value:"active",children:"Active"}),(0,Na.jsx)("option",{value:"completed",children:"Completed"}),(0,Na.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Tournament Format"}),(0,Na.jsxs)("select",{value:y.tournament_format,onChange:e=>v(Ue(Ue({},y),{},{tournament_format:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,Na.jsx)("option",{value:"match_play",children:"Match Play"}),(0,Na.jsx)("option",{value:"stroke_play",children:"Stroke Play"}),(0,Na.jsx)("option",{value:"scramble",children:"Scramble"}),(0,Na.jsx)("option",{value:"best_ball",children:"Best Ball"}),(0,Na.jsx)("option",{value:"stableford",children:"Stableford"})]})]})]})]}),(0,Na.jsxs)("div",{className:"bg-neutral-50 rounded-xl p-6",children:[(0,Na.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Na.jsx)(Aa,{className:"w-5 h-5 text-brand-neon-green mr-2"}),(0,Na.jsx)("h4",{className:"text-lg font-semibold text-brand-black",children:"Dates & Schedule"})]}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Start Date"}),(0,Na.jsx)("input",{type:"date",value:y.start_date,onChange:e=>v(Ue(Ue({},y),{},{start_date:e.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent ".concat(j.start_date?"border-red-500":"border-neutral-300")}),j.start_date&&(0,Na.jsx)("p",{className:"text-red-500 text-sm mt-1",children:j.start_date})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"End Date"}),(0,Na.jsx)("input",{type:"date",value:y.end_date,onChange:e=>v(Ue(Ue({},y),{},{end_date:e.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent ".concat(j.end_date?"border-red-500":"border-neutral-300")}),j.end_date&&(0,Na.jsx)("p",{className:"text-red-500 text-sm mt-1",children:j.end_date})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Registration Deadline"}),(0,Na.jsx)("input",{type:"date",value:y.registration_deadline,onChange:e=>v(Ue(Ue({},y),{},{registration_deadline:e.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent ".concat(j.registration_deadline?"border-red-500":"border-neutral-300")}),j.registration_deadline&&(0,Na.jsx)("p",{className:"text-red-500 text-sm mt-1",children:j.registration_deadline})]})]})]}),(0,Na.jsxs)("div",{className:"bg-neutral-50 rounded-xl p-6",children:[(0,Na.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Na.jsx)(Xe,{className:"w-5 h-5 text-brand-neon-green mr-2"}),(0,Na.jsx)("h4",{className:"text-lg font-semibold text-brand-black",children:"Course & Location"})]}),(0,Na.jsxs)("div",{className:"space-y-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Simulator Course"}),(0,Na.jsxs)("div",{className:"relative course-dropdown-container",children:[(0,Na.jsxs)("div",{className:"relative",children:[(0,Na.jsx)("input",{type:"text",value:c,onChange:e=>{return t=e.target.value,d(t),m(!0),void(t.trim()||(f(null),v(e=>Ue(Ue({},e),{},{course:"",location:e.location}))));var t},onFocus:()=>m(!0),placeholder:"Search for a simulator course...",className:"w-full px-3 py-2 pr-10 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"}),(0,Na.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:(0,Na.jsx)(ul,{className:"h-4 w-4 text-neutral-400"})})]}),p&&(0,Na.jsx)("div",{className:"mt-2 p-3 bg-green-50 border border-green-200 rounded-lg",children:(0,Na.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("p",{className:"font-medium text-green-800",children:p.name}),p.location&&(0,Na.jsx)("p",{className:"text-sm text-green-600",children:p.location}),p.designer&&(0,Na.jsxs)("p",{className:"text-sm text-green-600",children:["Designed by ",p.designer]}),(0,Na.jsx)("div",{className:"flex gap-1 mt-1",children:p.platforms.map(e=>(0,Na.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded",children:e},e))})]}),(0,Na.jsx)("button",{type:"button",onClick:()=>{f(null),d(""),v(e=>Ue(Ue({},e),{},{course:""})),m(!1)},className:"text-green-600 hover:text-green-800",children:(0,Na.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),u&&x.length>0&&(0,Na.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-white border border-neutral-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:x.map(e=>(0,Na.jsxs)("div",{onClick:()=>(e=>{f(e),v(t=>Ue(Ue({},t),{},{course:e.name,location:e.location||t.location})),d(e.name),m(!1)})(e),className:"px-4 py-3 hover:bg-neutral-50 cursor-pointer border-b border-neutral-100 last:border-b-0",children:[(0,Na.jsx)("div",{className:"font-medium text-neutral-900",children:e.name}),e.location&&(0,Na.jsx)("div",{className:"text-sm text-neutral-600",children:e.location}),(0,Na.jsx)("div",{className:"flex gap-1 mt-1",children:e.platforms.map(e=>(0,Na.jsx)("span",{className:"px-2 py-1 bg-neutral-100 text-neutral-700 text-xs rounded",children:e},e))})]},e.id))})]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Location"}),(0,Na.jsx)("input",{type:"text",value:y.location,onChange:e=>v(Ue(Ue({},y),{},{location:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",placeholder:"e.g., Pine Valley Golf Club"})]})]})]}),(0,Na.jsxs)("div",{className:"bg-neutral-50 rounded-xl p-6",children:[(0,Na.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Na.jsx)(Ze,{className:"w-5 h-5 text-brand-neon-green mr-2"}),(0,Na.jsx)("h4",{className:"text-lg font-semibold text-brand-black",children:"Participants & Fees"})]}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Min Participants"}),(0,Na.jsx)("input",{type:"number",min:"2",value:y.min_participants,onChange:e=>v(Ue(Ue({},y),{},{min_participants:e.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent ".concat(j.min_participants?"border-red-500":"border-neutral-300")}),j.min_participants&&(0,Na.jsx)("p",{className:"text-red-500 text-sm mt-1",children:j.min_participants})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Max Participants"}),(0,Na.jsx)("input",{type:"number",min:"2",value:y.max_participants,onChange:e=>v(Ue(Ue({},y),{},{max_participants:e.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent ".concat(j.max_participants?"border-red-500":"border-neutral-300"),placeholder:"No limit"}),j.max_participants&&(0,Na.jsx)("p",{className:"text-red-500 text-sm mt-1",children:j.max_participants})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Entry Fee ($)"}),(0,Na.jsxs)("div",{className:"relative",children:[(0,Na.jsx)(ml,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-neutral-400"}),(0,Na.jsx)("input",{type:"number",min:"0",step:"0.01",value:y.entry_fee,onChange:e=>v(Ue(Ue({},y),{},{entry_fee:e.target.value})),className:"w-full pl-8 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent ".concat(j.entry_fee?"border-red-500":"border-neutral-300")})]}),j.entry_fee&&(0,Na.jsx)("p",{className:"text-red-500 text-sm mt-1",children:j.entry_fee})]})]}),(0,Na.jsx)("div",{className:"mt-4",children:(0,Na.jsxs)("label",{className:"flex items-center",children:[(0,Na.jsx)("input",{type:"checkbox",checked:y.registration_open,onChange:e=>v(Ue(Ue({},y),{},{registration_open:e.target.checked})),className:"rounded border-neutral-300 text-brand-neon-green focus:ring-brand-neon-green"}),(0,Na.jsx)("span",{className:"ml-2 text-sm text-neutral-600",children:"Registration is currently open"})]})})]}),(0,Na.jsxs)("div",{className:"bg-neutral-50 rounded-xl p-6",children:[(0,Na.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Na.jsx)(Xe,{className:"w-5 h-5 text-brand-neon-green mr-2"}),(0,Na.jsx)("h4",{className:"text-lg font-semibold text-brand-black",children:"Club Registration"})]}),(0,Na.jsxs)("div",{className:"space-y-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Registration Access"}),(0,Na.jsxs)("select",{value:y.club_restriction,onChange:e=>v(Ue(Ue({},y),{},{club_restriction:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,Na.jsx)("option",{value:"open",children:"Open to All Clubs"}),!k&&(0,Na.jsx)("option",{value:(null===t||void 0===t?void 0:t.club)||"club_specific",children:(null===t||void 0===t?void 0:t.club)||"My Club Only"}),k&&(0,Na.jsxs)(Na.Fragment,{children:[(0,Na.jsx)("option",{value:"club_specific",children:"Specific Club"}),ke().map(e=>(0,Na.jsx)("option",{value:e,children:e},e))]})]})]}),"club_specific"===y.club_restriction&&k&&(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Select Club"}),(0,Na.jsxs)("select",{value:y.club_restriction,onChange:e=>v(Ue(Ue({},y),{},{club_restriction:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,Na.jsx)("option",{value:"club_specific",children:"Choose a club..."}),ke().map(e=>(0,Na.jsx)("option",{value:e,children:e},e))]})]}),(0,Na.jsxs)("div",{className:"bg-blue-50 rounded-lg p-3",children:[(0,Na.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,Na.jsx)("strong",{children:"Current Setting:"})," ","open"===y.club_restriction?"Open to all clubs":"club_specific"===y.club_restriction?"Please select a specific club":"Restricted to ".concat(y.club_restriction)]}),!k&&(0,Na.jsx)("p",{className:"text-xs text-blue-600 mt-1",children:"As a club admin, you can only create tournaments for your club or open tournaments."})]})]})]}),(0,Na.jsxs)("div",{className:"bg-neutral-50 rounded-xl p-6",children:[(0,Na.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Na.jsx)(xl,{className:"w-5 h-5 text-brand-neon-green mr-2"}),(0,Na.jsx)("h4",{className:"text-lg font-semibold text-brand-black",children:"Additional Information"})]}),(0,Na.jsxs)("div",{className:"space-y-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Description"}),(0,Na.jsx)("textarea",{value:y.description,onChange:e=>v(Ue(Ue({},y),{},{description:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",rows:3,placeholder:"Brief description of the tournament..."})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Rules"}),(0,Na.jsx)("textarea",{value:y.rules,onChange:e=>v(Ue(Ue({},y),{},{rules:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",rows:4,placeholder:"Tournament rules and regulations..."})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Notes"}),(0,Na.jsx)("textarea",{value:y.notes,onChange:e=>v(Ue(Ue({},y),{},{notes:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",rows:2,placeholder:"Additional notes..."})]})]})]}),(0,Na.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4 pt-4",children:[(0,Na.jsx)("button",{type:"button",onClick:()=>g(!1),className:"px-6 py-3 border border-neutral-300 rounded-lg text-neutral-600 hover:bg-neutral-50 transition-colors",children:"Cancel"}),(0,Na.jsx)("button",{type:"submit",disabled:w,className:"px-6 py-3 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center",children:w?(0,Na.jsxs)(Na.Fragment,{children:[(0,Na.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-brand-black mr-2"}),"Creating..."]}):"Create Tournament"})]})]})]})}),P&&R&&(0,Na.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Na.jsxs)("div",{className:"bg-white rounded-2xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,Na.jsx)("h3",{className:"text-xl font-bold text-brand-black mb-4",children:"Edit Tournament/League"}),(0,Na.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=Ue(Ue({},R),{},{max_participants:R.max_participants?parseInt(R.max_participants):void 0,min_participants:parseInt(R.min_participants),entry_fee:parseFloat(R.entry_fee)});await Qs(R.id,e),L(!1),M(null);const t=await Gs();C(t.data),In.success("Tournament updated successfully!")}catch(t){In.error("Error updating tournament.")}},className:"space-y-4",children:[(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Name *"}),(0,Na.jsx)("input",{type:"text",value:R.name,onChange:e=>M(Ue(Ue({},R),{},{name:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",required:!0})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Type"}),(0,Na.jsxs)("select",{value:R.type||"tournament",onChange:e=>M(Ue(Ue({},R),{},{type:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,Na.jsx)("option",{value:"tournament",children:"Tournament"}),(0,Na.jsx)("option",{value:"league",children:"League"})]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Status"}),(0,Na.jsxs)("select",{value:R.status||"draft",onChange:e=>M(Ue(Ue({},R),{},{status:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,Na.jsx)("option",{value:"draft",children:"Draft"}),(0,Na.jsx)("option",{value:"open",children:"Open for Registration"}),(0,Na.jsx)("option",{value:"closed",children:"Registration Closed"}),(0,Na.jsx)("option",{value:"active",children:"Active"}),(0,Na.jsx)("option",{value:"completed",children:"Completed"}),(0,Na.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Tournament Format"}),(0,Na.jsxs)("select",{value:R.tournament_format||"match_play",onChange:e=>M(Ue(Ue({},R),{},{tournament_format:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,Na.jsx)("option",{value:"match_play",children:"Match Play"}),(0,Na.jsx)("option",{value:"stroke_play",children:"Stroke Play"}),(0,Na.jsx)("option",{value:"scramble",children:"Scramble"}),(0,Na.jsx)("option",{value:"best_ball",children:"Best Ball"}),(0,Na.jsx)("option",{value:"stableford",children:"Stableford"})]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Start Date"}),(0,Na.jsx)("input",{type:"date",value:R.start_date,onChange:e=>M(Ue(Ue({},R),{},{start_date:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"End Date"}),(0,Na.jsx)("input",{type:"date",value:R.end_date,onChange:e=>M(Ue(Ue({},R),{},{end_date:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Registration Deadline"}),(0,Na.jsx)("input",{type:"date",value:R.registration_deadline,onChange:e=>M(Ue(Ue({},R),{},{registration_deadline:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Min Participants"}),(0,Na.jsx)("input",{type:"number",min:"2",value:R.min_participants,onChange:e=>M(Ue(Ue({},R),{},{min_participants:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Max Participants"}),(0,Na.jsx)("input",{type:"number",min:"2",value:R.max_participants,onChange:e=>M(Ue(Ue({},R),{},{max_participants:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",placeholder:"No limit"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Entry Fee ($)"}),(0,Na.jsx)("input",{type:"number",min:"0",step:"0.01",value:R.entry_fee,onChange:e=>M(Ue(Ue({},R),{},{entry_fee:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Registration Open"}),(0,Na.jsxs)("select",{value:(null===(e=R.registration_open)||void 0===e?void 0:e.toString())||"true",onChange:e=>M(Ue(Ue({},R),{},{registration_open:"true"===e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,Na.jsx)("option",{value:"true",children:"Open"}),(0,Na.jsx)("option",{value:"false",children:"Closed"})]})]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Location"}),(0,Na.jsx)("input",{type:"text",value:R.location||"",onChange:e=>M(Ue(Ue({},R),{},{location:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",placeholder:"e.g., Pine Valley Golf Club"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Course"}),(0,Na.jsx)("input",{type:"text",value:R.course||"",onChange:e=>M(Ue(Ue({},R),{},{course:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",placeholder:"e.g., Championship Course"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Description"}),(0,Na.jsx)("textarea",{value:R.description||"",onChange:e=>M(Ue(Ue({},R),{},{description:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",rows:3,placeholder:"Brief description of the tournament..."})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Rules"}),(0,Na.jsx)("textarea",{value:R.rules||"",onChange:e=>M(Ue(Ue({},R),{},{rules:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",rows:4,placeholder:"Tournament rules and regulations..."})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Notes"}),(0,Na.jsx)("textarea",{value:R.notes||"",onChange:e=>M(Ue(Ue({},R),{},{notes:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",rows:2,placeholder:"Additional notes..."})]}),(0,Na.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4 pt-4",children:[(0,Na.jsx)("button",{type:"button",onClick:()=>L(!1),className:"px-4 py-2 border border-neutral-300 rounded-lg text-neutral-600 hover:bg-neutral-50",children:"Cancel"}),(0,Na.jsx)("button",{type:"submit",className:"px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400",children:"Save Changes"})]})]})]})}),G&&E&&(0,Na.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Na.jsxs)("div",{className:"bg-white rounded-2xl p-6 w-full max-w-2xl max-h-96 overflow-y-auto",children:[(0,Na.jsxs)("h3",{className:"text-xl font-bold text-brand-black mb-4",children:["Mark Players as Paid for ",E.name]}),(0,Na.jsxs)("div",{className:"space-y-4",children:[(0,Na.jsx)("div",{className:"overflow-x-auto",children:(0,Na.jsxs)("table",{className:"w-full border-collapse border border-neutral-300 rounded-lg",children:[(0,Na.jsx)("thead",{className:"bg-neutral-50",children:(0,Na.jsxs)("tr",{children:[(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-2 text-left",children:(0,Na.jsx)("input",{type:"checkbox",checked:ye().length>0&&le.length===ye().length,onChange:e=>{e.target.checked?oe(ye().map(e=>e.user_member_id)):oe([])}})}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-2 text-left",children:"Name"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-2 text-left",children:"Email"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-2 text-left",children:"Club"})]})}),(0,Na.jsx)("tbody",{children:ye().map(e=>(0,Na.jsxs)("tr",{children:[(0,Na.jsx)("td",{className:"border border-neutral-300 px-4 py-2",children:(0,Na.jsx)("input",{type:"checkbox",checked:le.includes(e.user_member_id),onChange:t=>{t.target.checked?oe(t=>[...t,e.user_member_id]):oe(t=>t.filter(t=>t!==e.user_member_id))}})}),(0,Na.jsxs)("td",{className:"border border-neutral-300 px-4 py-2",children:[e.first_name," ",e.last_name]}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-4 py-2",children:e.email}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-4 py-2",children:e.club})]},e.user_member_id))})]})}),0===ye().length&&(0,Na.jsx)("p",{className:"text-center text-neutral-600 py-4",children:"All registered players are already marked as paid."}),(0,Na.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4 pt-4",children:[(0,Na.jsx)("button",{onClick:()=>$(!1),className:"px-4 py-2 border border-neutral-300 rounded-lg text-neutral-600 hover:bg-neutral-50",children:"Cancel"}),(0,Na.jsx)("button",{onClick:()=>fe(le),className:"px-4 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700",disabled:0===le.length,children:"Mark Selected as Paid"})]})]})]})}),Y&&E&&(0,Na.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Na.jsxs)("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md",children:[(0,Na.jsxs)("h3",{className:"text-xl font-bold text-brand-black mb-4",children:["Mark ",Y.first_name," ",Y.last_name," as Paid"]}),(0,Na.jsxs)("div",{className:"space-y-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Notes (Optional)"}),(0,Na.jsx)("textarea",{value:K,onChange:e=>J(e.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",rows:3,placeholder:"Any special notes for this payment..."})]}),(0,Na.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4 pt-4",children:[(0,Na.jsx)("button",{onClick:()=>{Q(null),J("")},className:"px-4 py-2 border border-neutral-300 rounded-lg text-neutral-600 hover:bg-neutral-50",children:"Cancel"}),(0,Na.jsx)("button",{onClick:()=>fe(le),className:"px-4 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700",children:"Mark as Paid"})]})]})]})}),ee&&E&&(0,Na.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Na.jsxs)("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md",children:[(0,Na.jsxs)("h3",{className:"text-xl font-bold text-brand-black mb-4",children:["Generate Matches for ",E.name]}),(0,Na.jsxs)("div",{className:"space-y-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Format"}),(0,Na.jsxs)("select",{value:re.format,onChange:e=>se(Ue(Ue({},re),{},{format:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,Na.jsx)("option",{value:"optimized",children:"Optimized (Recommended)"}),(0,Na.jsx)("option",{value:"round_robin",children:"Round Robin"}),(0,Na.jsx)("option",{value:"single_elimination",children:"Single Elimination"}),(0,Na.jsx)("option",{value:"random_pairs",children:"Random Pairs"})]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Minimum Matches Per Player"}),(0,Na.jsx)("input",{type:"number",min:"1",max:"10",value:re.minMatchesPerPlayer,onChange:e=>se(Ue(Ue({},re),{},{minMatchesPerPlayer:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"}),(0,Na.jsx)("p",{className:"text-xs text-neutral-500 mt-1",children:"Note: This setting is only applicable for optimized format"})]}),(0,Na.jsxs)("div",{className:"bg-blue-50 rounded-lg p-3",children:[(0,Na.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,Na.jsx)("strong",{children:"Checked-in Players:"})," ",Ne()]}),(0,Na.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,Na.jsx)("strong",{children:"Format:"})," ",re.format.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase())]})]}),(0,Na.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4 pt-4",children:[(0,Na.jsx)("button",{onClick:()=>te(!1),className:"px-4 py-2 border border-neutral-300 rounded-lg text-neutral-600 hover:bg-neutral-50",children:"Cancel"}),(0,Na.jsx)("button",{onClick:ve,disabled:Ne()<2,className:"px-4 py-2 rounded-lg font-medium ".concat(Ne()>=2?"bg-purple-600 text-white hover:bg-purple-700":"bg-gray-400 text-gray-200 cursor-not-allowed"),children:"Generate Matches"})]})]})]})})]})},pl=Ye("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),fl=Ye("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),bl=e=>{let{tournamentId:t,isLeague:r,onSettingsChange:s,initialSettings:a}=e;const[l,o]=(0,n.useState)({name:(null===a||void 0===a?void 0:a.name)||"Weekly Golf League",description:(null===a||void 0===a?void 0:a.description)||"",season_start_date:(null===a||void 0===a?void 0:a.season_start_date)||"",season_end_date:(null===a||void 0===a?void 0:a.season_end_date)||"",auto_progression:(null===a||void 0===a?void 0:a.auto_progression)||!1,min_matches_per_week:(null===a||void 0===a?void 0:a.min_matches_per_week)||3,max_matches_per_week:(null===a||void 0===a?void 0:a.max_matches_per_week)||5,live_match_bonus:(null===a||void 0===a?void 0:a.live_match_bonus)||1,tie_break_rules:(null===a||void 0===a?void 0:a.tie_break_rules)||"total_points",max_participants:(null===a||void 0===a?void 0:a.max_participants)||50,min_participants:(null===a||void 0===a?void 0:a.min_participants)||8,registration_open:(null===a||void 0===a?void 0:a.registration_open)||!0,week_start_day:(null===a||void 0===a?void 0:a.week_start_day)||"monday",scoring_deadline_hours:(null===a||void 0===a?void 0:a.scoring_deadline_hours)||72,playoff_enabled:(null===a||void 0===a?void 0:a.playoff_enabled)||!1,playoff_weeks:(null===a||void 0===a?void 0:a.playoff_weeks)||2,drop_worst_weeks:(null===a||void 0===a?void 0:a.drop_worst_weeks)||0});(0,n.useEffect)(()=>{s(l)},[l,s]);const i=(e,t)=>{o(r=>Ue(Ue({},r),{},{[e]:t}))};return r?(0,Na.jsxs)("div",{className:"space-y-6",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-2 mb-6",children:[(0,Na.jsx)(Je,{className:"w-6 h-6 text-brand-neon-green"}),(0,Na.jsx)("h3",{className:"text-xl font-semibold text-brand-black",children:"League Configuration"})]}),(0,Na.jsxs)("div",{className:"bg-neutral-50 rounded-xl p-6",children:[(0,Na.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Na.jsx)(Aa,{className:"w-5 h-5 text-brand-neon-green mr-2"}),(0,Na.jsx)("h4",{className:"text-lg font-semibold text-brand-black",children:"Season Configuration"})]}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Season Start Date *"}),(0,Na.jsx)("input",{type:"date",value:l.season_start_date,onChange:e=>i("season_start_date",e.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",required:!0})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Season End Date *"}),(0,Na.jsx)("input",{type:"date",value:l.season_end_date,onChange:e=>i("season_end_date",e.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",required:!0})]})]}),(0,Na.jsxs)("div",{className:"mt-4",children:[(0,Na.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,Na.jsx)("input",{type:"checkbox",checked:l.auto_progression,onChange:e=>i("auto_progression",e.target.checked),className:"w-4 h-4 text-brand-neon-green border-neutral-300 rounded focus:ring-brand-neon-green focus:ring-2"}),(0,Na.jsx)("span",{className:"text-sm font-medium text-neutral-600",children:"Enable automatic week progression"})]}),(0,Na.jsx)("p",{className:"text-xs text-neutral-500 mt-1",children:"Automatically create new tournament weeks and advance the league"})]})]}),(0,Na.jsxs)("div",{className:"bg-neutral-50 rounded-xl p-6",children:[(0,Na.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Na.jsx)(Oa,{className:"w-5 h-5 text-brand-neon-green mr-2"}),(0,Na.jsx)("h4",{className:"text-lg font-semibold text-brand-black",children:"Scoring Configuration"})]}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Min Matches Per Week"}),(0,Na.jsx)("input",{type:"number",min:"1",max:"10",value:l.min_matches_per_week,onChange:e=>i("min_matches_per_week",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Max Matches Per Week"}),(0,Na.jsx)("input",{type:"number",min:"1",max:"10",value:l.max_matches_per_week,onChange:e=>i("max_matches_per_week",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Live Match Bonus Points"}),(0,Na.jsx)("input",{type:"number",min:"0",max:"5",step:"0.5",value:l.live_match_bonus,onChange:e=>i("live_match_bonus",parseFloat(e.target.value)),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Tie Break Rules"}),(0,Na.jsxs)("select",{value:l.tie_break_rules,onChange:e=>i("tie_break_rules",e.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,Na.jsx)("option",{value:"total_points",children:"Total Points"}),(0,Na.jsx)("option",{value:"head_to_head",children:"Head to Head Record"}),(0,Na.jsx)("option",{value:"lowest_total_score",children:"Lowest Total Score"}),(0,Na.jsx)("option",{value:"most_wins",children:"Most Wins"})]})]})]})]}),(0,Na.jsxs)("div",{className:"bg-neutral-50 rounded-xl p-6",children:[(0,Na.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Na.jsx)(ol,{className:"w-5 h-5 text-brand-neon-green mr-2"}),(0,Na.jsx)("h4",{className:"text-lg font-semibold text-brand-black",children:"Week Configuration"})]}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Week Start Day"}),(0,Na.jsxs)("select",{value:l.week_start_day,onChange:e=>i("week_start_day",e.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,Na.jsx)("option",{value:"monday",children:"Monday"}),(0,Na.jsx)("option",{value:"tuesday",children:"Tuesday"}),(0,Na.jsx)("option",{value:"wednesday",children:"Wednesday"}),(0,Na.jsx)("option",{value:"thursday",children:"Thursday"}),(0,Na.jsx)("option",{value:"friday",children:"Friday"}),(0,Na.jsx)("option",{value:"saturday",children:"Saturday"}),(0,Na.jsx)("option",{value:"sunday",children:"Sunday"})]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Scoring Deadline (hours after week ends)"}),(0,Na.jsx)("input",{type:"number",min:"24",max:"168",value:l.scoring_deadline_hours,onChange:e=>i("scoring_deadline_hours",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"})]})]})]}),(0,Na.jsxs)("div",{className:"bg-neutral-50 rounded-xl p-6",children:[(0,Na.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Na.jsx)(xl,{className:"w-5 h-5 text-brand-neon-green mr-2"}),(0,Na.jsx)("h4",{className:"text-lg font-semibold text-brand-black",children:"Advanced Settings"})]}),(0,Na.jsxs)("div",{className:"space-y-4",children:[(0,Na.jsx)("div",{children:(0,Na.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,Na.jsx)("input",{type:"checkbox",checked:l.playoff_enabled,onChange:e=>i("playoff_enabled",e.target.checked),className:"w-4 h-4 text-brand-neon-green border-neutral-300 rounded focus:ring-brand-neon-green focus:ring-2"}),(0,Na.jsx)("span",{className:"text-sm font-medium text-neutral-600",children:"Enable playoffs at end of season"})]})}),l.playoff_enabled&&(0,Na.jsxs)("div",{className:"ml-6",children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Number of Playoff Weeks"}),(0,Na.jsx)("input",{type:"number",min:"1",max:"4",value:l.playoff_weeks,onChange:e=>i("playoff_weeks",parseInt(e.target.value)),className:"w-24 px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Drop Worst Weeks"}),(0,Na.jsx)("input",{type:"number",min:"0",max:"4",value:l.drop_worst_weeks,onChange:e=>i("drop_worst_weeks",parseInt(e.target.value)),className:"w-24 px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"}),(0,Na.jsx)("p",{className:"text-xs text-neutral-500 mt-1",children:"Number of worst scoring weeks to exclude from final standings"})]})]})]})]}):null},gl=e=>{var t,r,s,a,l,o,i,c,d,u,m,x,h,p,f,b,g,y,v,j,N,w,_,k,S;let{mode:C,tournament:E,onSuccess:T,onCancel:P,currentUser:L}=e;const R=e=>{if(!e)return"";return new Date(e).toISOString().split("T")[0]},[M,A]=(0,n.useState)(!1),[D,I]=(0,n.useState)({name:(null===E||void 0===E?void 0:E.name)||"",description:(null===E||void 0===E?void 0:E.description)||"",start_date:R(null===E||void 0===E?void 0:E.start_date),end_date:R(null===E||void 0===E?void 0:E.end_date),registration_deadline:R(null===E||void 0===E?void 0:E.registration_deadline),max_participants:(null===E||void 0===E||null===(t=E.max_participants)||void 0===t?void 0:t.toString())||"",min_participants:(null===E||void 0===E||null===(r=E.min_participants)||void 0===r?void 0:r.toString())||"2",tournament_format:(null===E||void 0===E?void 0:E.tournament_format)||"match_play",status:(null===E||void 0===E?void 0:E.status)||"draft",registration_open:null===(s=null===E||void 0===E?void 0:E.registration_open)||void 0===s||s,entry_fee:(null===E||void 0===E||null===(a=E.entry_fee)||void 0===a?void 0:a.toString())||"0",location:(null===E||void 0===E?void 0:E.location)||"",course:(null===E||void 0===E?void 0:E.course)||"",course_id:(null===E||void 0===E?void 0:E.course_id)||"",gspro_course:(null===E||void 0===E?void 0:E.gspro_course)||"",gspro_course_id:(null===E||void 0===E?void 0:E.gspro_course_id)||"",trackman_course:(null===E||void 0===E?void 0:E.trackman_course)||"",trackman_course_id:(null===E||void 0===E?void 0:E.trackman_course_id)||"",rules:(null===E||void 0===E?void 0:E.rules)||"",notes:(null===E||void 0===E?void 0:E.notes)||"",type:(null===E||void 0===E?void 0:E.type)||"tournament",club_restriction:(null===E||void 0===E?void 0:E.club_restriction)||"open",team_size:(null===E||void 0===E||null===(l=E.team_size)||void 0===l?void 0:l.toString())||"4",hole_configuration:(null===E||void 0===E||null===(o=E.hole_configuration)||void 0===o?void 0:o.toString())||"18",payment_organizer:(null===E||void 0===E?void 0:E.payment_organizer)||"",payment_organizer_name:(null===E||void 0===E?void 0:E.payment_organizer_name)||"",payment_venmo_url:(null===E||void 0===E?void 0:E.payment_venmo_url)||"",tee:(null===E||void 0===E?void 0:E.tee)||"Red",pins:(null===E||void 0===E?void 0:E.pins)||"Friday",putting_gimme:(null===E||void 0===E?void 0:E.putting_gimme)||"8",elevation:(null===E||void 0===E?void 0:E.elevation)||"Course",stimp:(null===E||void 0===E?void 0:E.stimp)||"11",mulligan:(null===E||void 0===E?void 0:E.mulligan)||"No",game_play:(null===E||void 0===E?void 0:E.game_play)||"Force Realistic",firmness:(null===E||void 0===E?void 0:E.firmness)||"Normal",wind:(null===E||void 0===E?void 0:E.wind)||"None",handicap_enabled:(null===E||void 0===E?void 0:E.handicap_enabled)||!1,has_registration_form:(null===E||void 0===E?void 0:E.has_registration_form)||!1,registration_form_template:(null===E||void 0===E?void 0:E.registration_form_template)||"",registration_form_data:(null===E||void 0===E?void 0:E.registration_form_data)||null,tournament_series:(null===E||void 0===E?void 0:E.tournament_series)||"regular",is_club_championship:(null===E||void 0===E?void 0:E.is_club_championship)||!1,is_national_tournament:(null===E||void 0===E?void 0:E.is_national_tournament)||!1,championship_round:(null===E||void 0===E?void 0:E.championship_round)||1,championship_club:(null===E||void 0===E?void 0:E.championship_club)||"",parent_tournament_id:(null===E||void 0===E?void 0:E.parent_tournament_id)||"",championship_type:(null===E||void 0===E?void 0:E.championship_type)||"single_club",participating_clubs:(null===E||void 0===E?void 0:E.participating_clubs)||"",min_club_participants:(null===E||void 0===E?void 0:E.min_club_participants)||"4",auto_group_clubs:(null===E||void 0===E?void 0:E.auto_group_clubs)||!1,auto_seed_champions:(null===E||void 0===E?void 0:E.auto_seed_champions)||!1}),[O,F]=(0,n.useState)([]),[z,U]=(0,n.useState)(""),[H,B]=(0,n.useState)(!1),[W,q]=(0,n.useState)([]),[V,G]=(0,n.useState)(null),[$,Y]=(0,n.useState)(!1),[Q,K]=(0,n.useState)([]),[J,X]=(0,n.useState)([]),[Z,ee]=(0,n.useState)(""),[te,re]=(0,n.useState)(""),[se,ae]=(0,n.useState)(!1),[ne,le]=(0,n.useState)(!1),[oe,ie]=(0,n.useState)([]),[ce,de]=(0,n.useState)([]),[ue,me]=(0,n.useState)(null),[xe,he]=(0,n.useState)(null),[pe,fe]=(0,n.useState)(!1),[be,ge]=(0,n.useState)(!1),[ye,ve]=(0,n.useState)([]),[je,Ne]=(0,n.useState)([]),[we,_e]=(0,n.useState)(""),[ke,Se]=(0,n.useState)(!1),[Ce,Ee]=(0,n.useState)([]),[Te,Pe]=(0,n.useState)({name:(null===E||void 0===E||null===(i=E.league_config)||void 0===i?void 0:i.name)||"Weekly Golf League",description:(null===E||void 0===E||null===(c=E.league_config)||void 0===c?void 0:c.description)||"",season_start_date:(null===E||void 0===E||null===(d=E.league_config)||void 0===d?void 0:d.season_start_date)||"",season_end_date:(null===E||void 0===E||null===(u=E.league_config)||void 0===u?void 0:u.season_end_date)||"",auto_progression:(null===E||void 0===E||null===(m=E.league_config)||void 0===m?void 0:m.auto_progression)||!1,min_matches_per_week:(null===E||void 0===E||null===(x=E.league_config)||void 0===x?void 0:x.min_matches_per_week)||3,max_matches_per_week:(null===E||void 0===E||null===(h=E.league_config)||void 0===h?void 0:h.max_matches_per_week)||5,live_match_bonus:(null===E||void 0===E||null===(p=E.league_config)||void 0===p?void 0:p.live_match_bonus)||1,tie_break_rules:(null===E||void 0===E||null===(f=E.league_config)||void 0===f?void 0:f.tie_break_rules)||"total_points",max_participants:(null===E||void 0===E||null===(b=E.league_config)||void 0===b?void 0:b.max_participants)||50,min_participants:(null===E||void 0===E||null===(g=E.league_config)||void 0===g?void 0:g.min_participants)||8,registration_open:(null===E||void 0===E||null===(y=E.league_config)||void 0===y?void 0:y.registration_open)||!0,week_start_day:(null===E||void 0===E||null===(v=E.league_config)||void 0===v?void 0:v.week_start_day)||"monday",scoring_deadline_hours:(null===E||void 0===E||null===(j=E.league_config)||void 0===j?void 0:j.scoring_deadline_hours)||72,playoff_enabled:(null===E||void 0===E||null===(N=E.league_config)||void 0===N?void 0:N.playoff_enabled)||!1,playoff_weeks:(null===E||void 0===E||null===(w=E.league_config)||void 0===w?void 0:w.playoff_weeks)||2,drop_worst_weeks:(null===E||void 0===E||null===(_=E.league_config)||void 0===_?void 0:_.drop_worst_weeks)||0}),Le={live_rounds:{name:"Live Rounds",description:"Ask participants about their participation in live rounds and night availability",questions:[{id:"participation_type",type:"radio",question:"Are you planning to participate in Live rounds this week or will you be playing solo?",options:["Live","Solo"],required:!0},{id:"night_availability",type:"checkbox",question:"Choose which of the following nights absolutely work for you THIS week.",options:["Wednesday (7-10)","Thursday (7-10)","Friday (7-10)","Saturday (7-10)"],required:!0,conditional:{dependsOn:"participation_type",showWhen:"Live"}}]},night_availability:{name:"Night Availability",description:"Simple night availability selection",questions:[{id:"available_nights",type:"checkbox",question:"Which nights are you available this week?",options:["Monday (7-10)","Tuesday (7-10)","Wednesday (7-10)","Thursday (7-10)","Friday (7-10)","Saturday (7-10)","Sunday (7-10)"],required:!0}]}};(0,n.useEffect)(()=>{(async()=>{try{Y(!0);const e=await da(void 0,void 0,1e4);F(e.data.courses||[])}catch(e){console.error("Error fetching simulator courses:",e)}finally{Y(!1)}})(),(async()=>{try{const e=await(async()=>Rs.get("/clubs"))();ve(e.data||[]),Ee(e.data||[])}catch(e){console.error("Error fetching clubs:",e),In.error("Failed to load clubs")}})()},[]),(0,n.useEffect)(()=>{(async()=>{try{fe(!0);const e=await da(void 0,"gspro",1e4);K(e.data.courses||[]),fe(!1),ge(!0);const t=await da(void 0,"trackman",1e4);X(t.data.courses||[]),ge(!1)}catch(e){console.error("Error fetching platform courses:",e),fe(!1),ge(!1)}})()},[]),(0,n.useEffect)(()=>{if("edit"===C&&null!==E&&void 0!==E&&E.course_id&&O.length>0){const e=O.find(e=>e.id===E.course_id);e&&(G(e),U(e.name))}},[C,E,O]),(0,n.useEffect)(()=>{if("edit"===C&&null!==E&&void 0!==E&&E.gspro_course_id&&Q.length>0){console.log("Initializing GSPro course:",{tournament:E.gspro_course_id,gsproCourses:Q.length});const e=Q.find(e=>e.id===E.gspro_course_id);e?(console.log("Found GSPro course:",e),me(e),ee(e.name)):console.log("GSPro course not found in available courses")}},[C,E,Q]),(0,n.useEffect)(()=>{if("edit"===C&&null!==E&&void 0!==E&&E.trackman_course_id&&J.length>0){console.log("Initializing Trackman course:",{tournament:E.trackman_course_id,trackmanCourses:J.length});const e=J.find(e=>e.id===E.trackman_course_id);e?(console.log("Found Trackman course:",e),he(e),re(e.name)):console.log("Trackman course not found in available courses")}},[C,E,J]),(0,n.useEffect)(()=>{if(z.trim()){const e=O.filter(e=>e.name.toLowerCase().includes(z.toLowerCase())||e.location&&e.location.toLowerCase().includes(z.toLowerCase())||e.designer&&e.designer.toLowerCase().includes(z.toLowerCase())).slice(0,10);q(e)}else q([])},[z,O]),(0,n.useEffect)(()=>{if(Z.trim()){const e=Q.filter(e=>e.name.toLowerCase().includes(Z.toLowerCase())||e.location&&e.location.toLowerCase().includes(Z.toLowerCase())||e.designer&&e.designer.toLowerCase().includes(Z.toLowerCase())).slice(0,10);ie(e)}else ie([])},[Z,Q]),(0,n.useEffect)(()=>{if(te.trim()){const e=J.filter(e=>e.name.toLowerCase().includes(te.toLowerCase())||e.location&&e.location.toLowerCase().includes(te.toLowerCase())||e.designer&&e.designer.toLowerCase().includes(te.toLowerCase())).slice(0,10);de(e)}else de([])},[te,J]),(0,n.useEffect)(()=>{if(we.trim()){const e=ye.filter(e=>e.toLowerCase().includes(we.toLowerCase()));Ee(e)}else Ee(ye)},[we,ye]),(0,n.useEffect)(()=>{const e=e=>{const t=e.target;t.closest(".course-dropdown-container")||B(!1),t.closest(".gspro-dropdown-container")||ae(!1),t.closest(".trackman-dropdown-container")||le(!1),t.closest(".club-dropdown-container")||Se(!1)};return(H||se||ne||ke)&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[H,se,ne,ke]),(0,n.useEffect)(()=>{if(D.participating_clubs){const e=D.participating_clubs.split(",").map(e=>e.trim()).filter(e=>e.length>0);Ne(e)}},[D.participating_clubs]);const Re=e=>{Ne(t=>{const r=t.includes(e)?t.filter(t=>t!==e):[...t,e];return I(e=>Ue(Ue({},e),{},{participating_clubs:r.join(", ")})),r})},Me=()=>{me(null),ee(""),I(e=>Ue(Ue({},e),{},{gspro_course:"",gspro_course_id:""})),ae(!1)},Ae=()=>{he(null),re(""),I(e=>Ue(Ue({},e),{},{trackman_course:"",trackman_course_id:""})),le(!1)};return(0,Na.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Na.jsxs)("div",{className:"bg-white rounded-2xl p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Na.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Na.jsx)("h3",{className:"text-2xl font-bold text-brand-black",children:"create"===C?"Create New Tournament":"Edit Tournament"}),(0,Na.jsx)("button",{onClick:P,className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:(0,Na.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Na.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),A(!0);try{const e={name:D.name,description:D.description,start_date:D.start_date||void 0,end_date:D.end_date||void 0,registration_deadline:D.registration_deadline||void 0,max_participants:D.max_participants?parseInt(D.max_participants):void 0,min_participants:parseInt(D.min_participants),tournament_format:D.tournament_format,status:D.status,registration_open:D.registration_open,entry_fee:parseFloat(D.entry_fee),course:V?V.name:D.course||void 0,course_id:D.course_id?parseInt(D.course_id):void 0,gspro_course:ue?ue.name:D.gspro_course||void 0,gspro_course_id:D.gspro_course_id?parseInt(D.gspro_course_id):void 0,trackman_course:xe?xe.name:D.trackman_course||void 0,trackman_course_id:D.trackman_course_id?parseInt(D.trackman_course_id):void 0,rules:D.rules,notes:D.notes,type:D.type,club_restriction:D.club_restriction,team_size:D.team_size?parseInt(D.team_size):void 0,hole_configuration:D.hole_configuration,payment_organizer:D.payment_organizer||void 0,payment_organizer_name:D.payment_organizer_name||void 0,payment_venmo_url:D.payment_venmo_url||void 0,tee:D.tee,pins:D.pins,putting_gimme:D.putting_gimme,elevation:D.elevation,stimp:D.stimp,mulligan:D.mulligan,game_play:D.game_play,firmness:D.firmness,wind:D.wind,handicap_enabled:D.handicap_enabled,has_registration_form:D.has_registration_form,registration_form_template:D.registration_form_template,registration_form_data:D.registration_form_data,tournament_series:D.tournament_series,is_club_championship:D.is_club_championship,is_national_tournament:D.is_national_tournament,championship_round:D.championship_round,championship_club:D.championship_club||void 0,parent_tournament_id:D.parent_tournament_id?parseInt(D.parent_tournament_id):void 0,championship_type:D.championship_type,participating_clubs:D.participating_clubs||void 0,min_club_participants:D.min_club_participants?parseInt(D.min_club_participants):void 0,auto_group_clubs:D.auto_group_clubs,auto_seed_champions:D.auto_seed_champions,league_config:"league"===D.type?Te:void 0,created_by:null===L||void 0===L?void 0:L.member_id};console.log("Tournament data being saved:",e),"create"===C?(await Vs(e),In.success("Tournament created successfully!")):(await Qs(E.id,e),In.success("Tournament updated successfully!")),T()}catch(t){console.error("Error ".concat("create"===C?"creating":"updating"," tournament:"),t),In.error("Failed to ".concat("create"===C?"create":"update"," tournament. Please try again."))}finally{A(!1)}},className:"space-y-6",children:[(0,Na.jsxs)("div",{className:"bg-neutral-50 rounded-xl p-6",children:[(0,Na.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Na.jsx)(Je,{className:"w-5 h-5 text-brand-neon-green mr-2"}),(0,Na.jsx)("h4",{className:"text-lg font-semibold text-brand-black",children:"Basic Information"})]}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Tournament Name *"}),(0,Na.jsx)("input",{type:"text",value:D.name,onChange:e=>I(Ue(Ue({},D),{},{name:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",required:!0,placeholder:"e.g., Spring Championship 2024"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Type"}),(0,Na.jsxs)("select",{value:D.type||"tournament",onChange:e=>{return t=e.target.value,void I(e=>Ue(Ue({},e),{},{type:t,tournament_series:"club_championship"===t?"club_championship":"national_championship"===t?"national_championship":"regular",is_club_championship:"club_championship"===t,is_national_tournament:"national_championship"===t,tournament_format:"club_championship"===t||"national_championship"===t?"match_play":e.tournament_format}));var t},className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,Na.jsx)("option",{value:"tournament",children:"Regular Tournament"}),(0,Na.jsx)("option",{value:"league",children:"League"}),(0,Na.jsx)("option",{value:"club_championship",children:"Club Championship"}),(0,Na.jsx)("option",{value:"national_championship",children:"National Championship"})]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Status"}),(0,Na.jsxs)("select",{value:D.status,onChange:e=>I(Ue(Ue({},D),{},{status:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,Na.jsx)("option",{value:"draft",children:"Draft"}),(0,Na.jsx)("option",{value:"open",children:"Open for Registration"}),(0,Na.jsx)("option",{value:"closed",children:"Registration Closed"}),(0,Na.jsx)("option",{value:"active",children:"Active"}),(0,Na.jsx)("option",{value:"completed",children:"Completed"}),(0,Na.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Tournament Format"}),(0,Na.jsxs)("select",{value:D.tournament_format,onChange:e=>I(Ue(Ue({},D),{},{tournament_format:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,Na.jsx)("option",{value:"match_play",children:"Match Play"}),(0,Na.jsx)("option",{value:"par3_match_play",children:"3 Hole Matchplay"}),(0,Na.jsx)("option",{value:"stroke_play",children:"Stroke Play"}),(0,Na.jsx)("option",{value:"scramble",children:"Scramble"}),(0,Na.jsx)("option",{value:"best_ball",children:"Best Ball"}),(0,Na.jsx)("option",{value:"stableford",children:"Stableford"})]})]})]})]}),("club_championship"===D.type||"national_championship"===D.type)&&(0,Na.jsxs)("div",{className:"bg-blue-50 rounded-xl p-6",children:[(0,Na.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Na.jsx)(Je,{className:"w-5 h-5 text-blue-600 mr-2"}),(0,Na.jsx)("h4",{className:"text-lg font-semibold text-blue-900",children:"Championship Configuration"})]}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:["club_championship"===D.type&&(0,Na.jsxs)(Na.Fragment,{children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Championship Type"}),(0,Na.jsxs)("select",{value:D.championship_type||"single_club",onChange:e=>I(Ue(Ue({},D),{},{championship_type:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,Na.jsx)("option",{value:"single_club",children:"Single Club Championship"}),(0,Na.jsx)("option",{value:"multi_club",children:"Multi-Club Championship (Combined)"}),(0,Na.jsx)("option",{value:"regional",children:"Regional Championship"})]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Participating Clubs"}),(0,Na.jsxs)("div",{className:"relative club-dropdown-container",children:[(0,Na.jsx)("input",{type:"text",value:we,onChange:e=>{_e(e.target.value),Se(!0)},onFocus:()=>Se(!0),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",placeholder:"Search and select clubs..."}),ke&&(0,Na.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-white border border-neutral-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:Ce.length>0?Ce.map(e=>(0,Na.jsxs)("div",{className:"px-3 py-2 hover:bg-neutral-50 cursor-pointer flex items-center",onClick:()=>Re(e),children:[(0,Na.jsx)("input",{type:"checkbox",checked:je.includes(e),onChange:()=>Re(e),className:"mr-2"}),(0,Na.jsx)("span",{className:"text-sm",children:e})]},e)):(0,Na.jsx)("div",{className:"px-3 py-2 text-neutral-500 text-sm",children:"No clubs found"})})]}),je.length>0&&(0,Na.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:je.map(e=>(0,Na.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-brand-neon-green text-brand-black",children:[e,(0,Na.jsx)("button",{type:"button",onClick:()=>Re(e),className:"ml-1 hover:text-red-600",children:"\xd7"})]},e))})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Minimum Participants per Club"}),(0,Na.jsx)("input",{type:"number",min:"1",value:D.min_club_participants||"4",onChange:e=>I(Ue(Ue({},D),{},{min_club_participants:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Auto-Group Small Clubs"}),(0,Na.jsxs)("div",{className:"flex items-center mt-2",children:[(0,Na.jsx)("input",{type:"checkbox",id:"auto_group_clubs",checked:D.auto_group_clubs||!1,onChange:e=>I(Ue(Ue({},D),{},{auto_group_clubs:e.target.checked})),className:"w-4 h-4 text-brand-neon-green border-neutral-300 rounded focus:ring-brand-neon-green focus:ring-2"}),(0,Na.jsx)("label",{htmlFor:"auto_group_clubs",className:"ml-2 text-sm text-neutral-600",children:"Automatically combine small clubs"})]})]})]}),"national_championship"===D.type&&(0,Na.jsxs)(Na.Fragment,{children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Parent Championship ID"}),(0,Na.jsx)("input",{type:"number",value:D.parent_tournament_id,onChange:e=>I(Ue(Ue({},D),{},{parent_tournament_id:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",placeholder:"ID of the main championship tournament"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Auto-Seed from Club Champions"}),(0,Na.jsxs)("div",{className:"flex items-center mt-2",children:[(0,Na.jsx)("input",{type:"checkbox",id:"auto_seed_champions",checked:D.auto_seed_champions||!1,onChange:e=>I(Ue(Ue({},D),{},{auto_seed_champions:e.target.checked})),className:"w-4 h-4 text-brand-neon-green border-neutral-300 rounded focus:ring-brand-neon-green focus:ring-2"}),(0,Na.jsx)("label",{htmlFor:"auto_seed_champions",className:"ml-2 text-sm text-neutral-600",children:"Automatically seed club champions"})]})]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Championship Round"}),(0,Na.jsxs)("select",{value:D.championship_round,onChange:e=>I(Ue(Ue({},D),{},{championship_round:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,Na.jsx)("option",{value:1,children:"Round 1"}),(0,Na.jsx)("option",{value:2,children:"Round 2"}),(0,Na.jsx)("option",{value:3,children:"Round 3"}),(0,Na.jsx)("option",{value:4,children:"Round 4"}),(0,Na.jsx)("option",{value:5,children:"Round 5"})]})]})]}),(0,Na.jsx)("div",{className:"mt-4 p-3 bg-blue-100 rounded-lg",children:(0,Na.jsx)("p",{className:"text-sm text-blue-800",children:"club_championship"===D.type?"Club Championship: 3 match play matches per club group. Players are grouped by club, with small clubs combined automatically. Winner advances to National Championship.":"National Championship: Single-elimination tournament for club champions. Automatically seeded from completed club championships."})})]}),(0,Na.jsx)(bl,{tournamentId:null===E||void 0===E?void 0:E.id,isLeague:"league"===D.type,onSettingsChange:Pe,initialSettings:Te}),(0,Na.jsxs)("div",{className:"bg-neutral-50 rounded-xl p-6",children:[(0,Na.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Na.jsx)(Je,{className:"w-5 h-5 text-brand-neon-green mr-2"}),(0,Na.jsx)("h4",{className:"text-lg font-semibold text-brand-black",children:"Dates & Registration"})]}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Start Date"}),(0,Na.jsx)("input",{type:"date",value:D.start_date,onChange:e=>I(Ue(Ue({},D),{},{start_date:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"End Date"}),(0,Na.jsx)("input",{type:"date",value:D.end_date,onChange:e=>I(Ue(Ue({},D),{},{end_date:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Registration Deadline"}),(0,Na.jsx)("input",{type:"date",value:D.registration_deadline,onChange:e=>I(Ue(Ue({},D),{},{registration_deadline:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"})]})]})]}),(0,Na.jsxs)("div",{className:"bg-neutral-50 rounded-xl p-6",children:[(0,Na.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Na.jsx)(Ze,{className:"w-5 h-5 text-brand-neon-green mr-2"}),(0,Na.jsx)("h4",{className:"text-lg font-semibold text-brand-black",children:"Participants & Fees"})]}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Min Participants"}),(0,Na.jsx)("input",{type:"number",min:"2",value:D.min_participants,onChange:e=>I(Ue(Ue({},D),{},{min_participants:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Max Participants"}),(0,Na.jsx)("input",{type:"number",min:"2",value:D.max_participants,onChange:e=>I(Ue(Ue({},D),{},{max_participants:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",placeholder:"No limit"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Entry Fee ($)"}),(0,Na.jsx)("input",{type:"number",min:"0",step:"0.01",value:D.entry_fee,onChange:e=>I(Ue(Ue({},D),{},{entry_fee:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"})]})]}),parseFloat(D.entry_fee)>0&&(0,Na.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Payment Organizer"}),(0,Na.jsxs)("select",{value:D.payment_organizer,onChange:e=>I(Ue(Ue({},D),{},{payment_organizer:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,Na.jsx)("option",{value:"",children:"Select payment organizer..."}),(0,Na.jsx)("option",{value:"jeff",children:"Jeff Testa (Neighborhood National)"}),(0,Na.jsx)("option",{value:"adam",children:"Adam Christopher (No. 10)"}),(0,Na.jsx)("option",{value:"other",children:"Other (Custom)"})]})]}),"other"===D.payment_organizer&&(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Organizer Name *"}),(0,Na.jsx)("input",{type:"text",value:D.payment_organizer_name,onChange:e=>I(Ue(Ue({},D),{},{payment_organizer_name:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",placeholder:"Enter organizer name",required:!0})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Venmo URL *"}),(0,Na.jsx)("input",{type:"url",value:D.payment_venmo_url,onChange:e=>I(Ue(Ue({},D),{},{payment_venmo_url:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",placeholder:"https://venmo.com/u/...",required:!0})]})]})]}),("scramble"===D.tournament_format||"best_ball"===D.tournament_format)&&(0,Na.jsxs)("div",{className:"mt-4",children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Team Size"}),(0,Na.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Na.jsx)("input",{type:"number",min:"2",max:"6",value:D.team_size,onChange:e=>I(Ue(Ue({},D),{},{team_size:e.target.value})),className:"w-24 px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"}),(0,Na.jsx)("span",{className:"text-sm text-neutral-600",children:"players per team"})]}),(0,Na.jsx)("p",{className:"text-xs text-neutral-500 mt-1",children:"scramble"===D.tournament_format?"Recommended: 4 players for scramble format":"Recommended: 2 players for best ball format"})]})]}),(0,Na.jsxs)("div",{className:"bg-neutral-50 rounded-xl p-6",children:[(0,Na.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Na.jsx)(xl,{className:"w-5 h-5 text-brand-neon-green mr-2"}),(0,Na.jsx)("h4",{className:"text-lg font-semibold text-brand-black",children:"Course & Format"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Hole Count"}),(0,Na.jsxs)("select",{value:D.hole_configuration,onChange:e=>I(Ue(Ue({},D),{},{hole_configuration:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,Na.jsx)("option",{value:"3",children:"3 Holes"}),(0,Na.jsx)("option",{value:"9",children:"9 Holes (Any)"}),(0,Na.jsx)("option",{value:"9_front",children:"9 Holes Front"}),(0,Na.jsx)("option",{value:"9_back",children:"9 Holes Back"}),(0,Na.jsx)("option",{value:"18",children:"18 Holes"})]})]}),(0,Na.jsxs)("div",{className:"mt-4",children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-3",children:"Course Selection"}),(0,Na.jsxs)("div",{className:"mb-4",children:[(0,Na.jsxs)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:["GSPro Course ",(0,Na.jsx)("span",{className:"text-xs text-neutral-400",children:"(Optional)"})]}),(0,Na.jsxs)("div",{className:"relative gspro-dropdown-container",children:[(0,Na.jsx)("div",{className:"flex items-center space-x-2",children:(0,Na.jsxs)("div",{className:"flex-1 relative",children:[(0,Na.jsx)("input",{type:"text",value:Z,onChange:e=>{return t=e.target.value,ee(t),ae(!0),void(t.trim()||(me(null),I(e=>Ue(Ue({},e),{},{gspro_course:"",gspro_course_id:""}))));var t},onFocus:()=>ae(!0),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-10",placeholder:"Search for a GSPro course..."}),pe&&(0,Na.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:(0,Na.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"})}),!pe&&Z&&(0,Na.jsx)("button",{onClick:Me,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-neutral-400 hover:text-neutral-600",children:(0,Na.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),se&&(oe.length>0||Z)&&(0,Na.jsx)("div",{className:"absolute z-50 w-full mt-1 bg-white border border-neutral-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:oe.length>0?oe.map(e=>(0,Na.jsxs)("button",{onClick:()=>(e=>{me(e),I(t=>Ue(Ue({},t),{},{gspro_course:e.name,gspro_course_id:e.id.toString()})),ee(e.name),ae(!1)})(e),className:"w-full px-4 py-3 text-left hover:bg-blue-50 border-b border-neutral-100 last:border-b-0",children:[(0,Na.jsx)("div",{className:"font-medium text-brand-black",children:e.name}),(0,Na.jsxs)("div",{className:"text-sm text-neutral-600 flex items-center",children:[(0,Na.jsx)(Xe,{className:"w-3 h-3 mr-1"}),e.location||"Unknown location",e.designer&&(0,Na.jsxs)("span",{className:"ml-2",children:["\u2022 ",e.designer]})]}),(0,Na.jsx)("div",{className:"flex items-center mt-1",children:(0,Na.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"GSPro"})})]},e.id)):Z?(0,Na.jsxs)("div",{className:"px-4 py-3 text-neutral-500",children:['No GSPro courses found matching "',Z,'"']}):null})]}),ue&&(0,Na.jsx)("div",{className:"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("div",{className:"font-medium text-blue-800",children:ue.name}),(0,Na.jsx)("div",{className:"text-sm text-blue-600",children:ue.location&&(0,Na.jsxs)("span",{className:"flex items-center",children:[(0,Na.jsx)(Xe,{className:"w-3 h-3 mr-1"}),ue.location]})})]}),(0,Na.jsx)("button",{onClick:Me,className:"text-blue-600 hover:text-blue-800",children:(0,Na.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})]}),(0,Na.jsxs)("div",{className:"mb-4",children:[(0,Na.jsxs)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:["Trackman Course ",(0,Na.jsx)("span",{className:"text-xs text-neutral-400",children:"(Optional)"})]}),(0,Na.jsxs)("div",{className:"relative trackman-dropdown-container",children:[(0,Na.jsx)("div",{className:"flex items-center space-x-2",children:(0,Na.jsxs)("div",{className:"flex-1 relative",children:[(0,Na.jsx)("input",{type:"text",value:te,onChange:e=>{return t=e.target.value,re(t),le(!0),void(t.trim()||(he(null),I(e=>Ue(Ue({},e),{},{trackman_course:"",trackman_course_id:""}))));var t},onFocus:()=>le(!0),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent pr-10",placeholder:"Search for a Trackman course..."}),be&&(0,Na.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:(0,Na.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-purple-500"})}),!be&&te&&(0,Na.jsx)("button",{onClick:Ae,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-neutral-400 hover:text-neutral-600",children:(0,Na.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),ne&&(ce.length>0||te)&&(0,Na.jsx)("div",{className:"absolute z-50 w-full mt-1 bg-white border border-neutral-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:ce.length>0?ce.map(e=>(0,Na.jsxs)("button",{onClick:()=>(e=>{he(e),I(t=>Ue(Ue({},t),{},{trackman_course:e.name,trackman_course_id:e.id.toString()})),re(e.name),le(!1)})(e),className:"w-full px-4 py-3 text-left hover:bg-purple-50 border-b border-neutral-100 last:border-b-0",children:[(0,Na.jsx)("div",{className:"font-medium text-brand-black",children:e.name}),(0,Na.jsxs)("div",{className:"text-sm text-neutral-600 flex items-center",children:[(0,Na.jsx)(Xe,{className:"w-3 h-3 mr-1"}),e.location||"Unknown location",e.designer&&(0,Na.jsxs)("span",{className:"ml-2",children:["\u2022 ",e.designer]})]}),(0,Na.jsx)("div",{className:"flex items-center mt-1",children:(0,Na.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"Trackman"})})]},e.id)):te?(0,Na.jsxs)("div",{className:"px-4 py-3 text-neutral-500",children:['No Trackman courses found matching "',te,'"']}):null})]}),xe&&(0,Na.jsx)("div",{className:"mt-2 p-3 bg-purple-50 border border-purple-200 rounded-lg",children:(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("div",{className:"font-medium text-purple-800",children:xe.name}),(0,Na.jsx)("div",{className:"text-sm text-purple-600",children:xe.location&&(0,Na.jsxs)("span",{className:"flex items-center",children:[(0,Na.jsx)(Xe,{className:"w-3 h-3 mr-1"}),xe.location]})})]}),(0,Na.jsx)("button",{onClick:Ae,className:"text-purple-600 hover:text-purple-800",children:(0,Na.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})]}),(0,Na.jsx)("p",{className:"text-xs text-neutral-500 mt-2",children:"You can select courses for both platforms, one platform, or neither. This allows players to choose their preferred simulator platform."}),(0,Na.jsxs)("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,Na.jsx)("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"Course Assignment Rules"}),(0,Na.jsxs)("div",{className:"text-xs text-blue-700 space-y-1",children:[(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800 mr-2",children:"\ud83d\udcca Trackman"}),(0,Na.jsx)("span",{children:"Club No. 8 members will automatically use the Trackman course"})]}),(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 mr-2",children:"\ud83c\udfaf GSPro"}),(0,Na.jsx)("span",{children:"All other clubs will automatically use the GSPro course"})]})]})]})]})]}),(0,Na.jsxs)("div",{className:"bg-neutral-50 rounded-xl p-6",children:[(0,Na.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Na.jsx)(xl,{className:"w-5 h-5 text-brand-neon-green mr-2"}),(0,Na.jsx)("h4",{className:"text-lg font-semibold text-brand-black",children:"Simulator Settings"})]}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Tee"}),(0,Na.jsxs)("select",{value:D.tee,onChange:e=>I(Ue(Ue({},D),{},{tee:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,Na.jsx)("option",{value:"Par 3",children:"Par 3"}),(0,Na.jsx)("option",{value:"Red",children:"Red"}),(0,Na.jsx)("option",{value:"White",children:"White"}),(0,Na.jsx)("option",{value:"Blue",children:"Blue"}),(0,Na.jsx)("option",{value:"Black",children:"Black"}),(0,Na.jsx)("option",{value:"Gold",children:"Gold"})]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Pins"}),(0,Na.jsxs)("select",{value:D.pins,onChange:e=>I(Ue(Ue({},D),{},{pins:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,Na.jsx)("option",{value:"Friday",children:"Friday"}),(0,Na.jsx)("option",{value:"Saturday",children:"Saturday"}),(0,Na.jsx)("option",{value:"Sunday",children:"Sunday"}),(0,Na.jsx)("option",{value:"Easy",children:"Easy"}),(0,Na.jsx)("option",{value:"Hard",children:"Hard"})]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Putting Gimme"}),(0,Na.jsxs)("select",{value:D.putting_gimme,onChange:e=>I(Ue(Ue({},D),{},{putting_gimme:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,Na.jsx)("option",{value:"0",children:"No gimme"}),(0,Na.jsx)("option",{value:"3",children:"3' gimme"}),(0,Na.jsx)("option",{value:"5",children:"5' gimme"}),(0,Na.jsx)("option",{value:"8",children:"8' gimme"}),(0,Na.jsx)("option",{value:"10",children:"10' gimme"})]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Elevation"}),(0,Na.jsxs)("select",{value:D.elevation,onChange:e=>I(Ue(Ue({},D),{},{elevation:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,Na.jsx)("option",{value:"Course",children:"Course"}),(0,Na.jsx)("option",{value:"Off",children:"Off"}),(0,Na.jsx)("option",{value:"High",children:"High"}),(0,Na.jsx)("option",{value:"Low",children:"Low"})]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Stimp"}),(0,Na.jsxs)("select",{value:D.stimp,onChange:e=>I(Ue(Ue({},D),{},{stimp:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,Na.jsx)("option",{value:"8",children:"8"}),(0,Na.jsx)("option",{value:"9",children:"9"}),(0,Na.jsx)("option",{value:"10",children:"10"}),(0,Na.jsx)("option",{value:"11",children:"11"}),(0,Na.jsx)("option",{value:"12",children:"12"}),(0,Na.jsx)("option",{value:"13",children:"13"}),(0,Na.jsx)("option",{value:"14",children:"14"})]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Mulligan"}),(0,Na.jsxs)("select",{value:D.mulligan,onChange:e=>I(Ue(Ue({},D),{},{mulligan:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,Na.jsx)("option",{value:"No",children:"No"}),(0,Na.jsx)("option",{value:"Yes",children:"Yes"}),(0,Na.jsx)("option",{value:"1 per hole",children:"1 per hole"}),(0,Na.jsx)("option",{value:"2 per round",children:"2 per round"})]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Game Play"}),(0,Na.jsxs)("select",{value:D.game_play,onChange:e=>I(Ue(Ue({},D),{},{game_play:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,Na.jsx)("option",{value:"Force Realistic",children:"Force Realistic"}),(0,Na.jsx)("option",{value:"Allow Unrealistic",children:"Allow Unrealistic"}),(0,Na.jsx)("option",{value:"Tournament Mode",children:"Tournament Mode"})]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Firmness"}),(0,Na.jsxs)("select",{value:D.firmness,onChange:e=>I(Ue(Ue({},D),{},{firmness:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,Na.jsx)("option",{value:"Normal",children:"Normal"}),(0,Na.jsx)("option",{value:"Soft",children:"Soft"}),(0,Na.jsx)("option",{value:"Firm",children:"Firm"}),(0,Na.jsx)("option",{value:"Very Firm",children:"Very Firm"})]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Wind"}),(0,Na.jsxs)("select",{value:D.wind,onChange:e=>I(Ue(Ue({},D),{},{wind:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,Na.jsx)("option",{value:"None",children:"None"}),(0,Na.jsx)("option",{value:"Light",children:"Light"}),(0,Na.jsx)("option",{value:"Moderate",children:"Moderate"}),(0,Na.jsx)("option",{value:"Strong",children:"Strong"}),(0,Na.jsx)("option",{value:"Random",children:"Random"})]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Handicap"}),(0,Na.jsxs)("div",{className:"flex items-center mt-2",children:[(0,Na.jsx)("input",{type:"checkbox",id:"handicap_enabled",checked:D.handicap_enabled,onChange:e=>I(Ue(Ue({},D),{},{handicap_enabled:e.target.checked})),className:"w-4 h-4 text-brand-neon-green border-neutral-300 rounded focus:ring-brand-neon-green focus:ring-2"}),(0,Na.jsx)("label",{htmlFor:"handicap_enabled",className:"ml-2 text-sm text-neutral-600",children:"Enable handicap adjustments"})]})]})]})]}),(0,Na.jsxs)("div",{className:"bg-neutral-50 rounded-xl p-6",children:[(0,Na.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Na.jsx)(Ze,{className:"w-5 h-5 text-brand-neon-green mr-2"}),(0,Na.jsx)("h4",{className:"text-lg font-semibold text-brand-black",children:"Registration Form"})]}),(0,Na.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600",children:"Enable Registration Form"}),(0,Na.jsx)("input",{type:"checkbox",id:"has_registration_form",checked:D.has_registration_form,onChange:e=>I(Ue(Ue({},D),{},{has_registration_form:e.target.checked})),className:"w-4 h-4 text-brand-neon-green border-neutral-300 rounded focus:ring-brand-neon-green focus:ring-2"})]}),D.has_registration_form&&(0,Na.jsx)(Na.Fragment,{children:(0,Na.jsxs)("div",{className:"space-y-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-2",children:"Registration Form Template"}),(0,Na.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.entries(Le).map(e=>{let[t,r]=e;return(0,Na.jsxs)("button",{type:"button",onClick:()=>(e=>{const t=Le[e];t&&(I(r=>Ue(Ue({},r),{},{registration_form_template:e,registration_form_data:t})),In.success("Applied ".concat(t.name," template")))})(t),className:"p-4 rounded-lg border transition-all text-left ".concat(D.registration_form_template===t?"border-brand-neon-green bg-green-50":"border-neutral-200 hover:border-brand-neon-green"),children:[(0,Na.jsx)("h5",{className:"font-medium text-brand-black mb-1",children:r.name}),(0,Na.jsx)("p",{className:"text-sm text-neutral-600",children:r.description})]},t)})})]}),D.registration_form_template&&(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-2",children:"Selected Template Preview"}),(0,Na.jsxs)("div",{className:"bg-neutral-100 p-4 rounded-lg",children:[(0,Na.jsx)("h6",{className:"font-medium text-brand-black mb-2",children:null===(k=Le[D.registration_form_template])||void 0===k?void 0:k.name}),null===(S=Le[D.registration_form_template])||void 0===S?void 0:S.questions.map((e,t)=>(0,Na.jsxs)("div",{className:"mb-3",children:[(0,Na.jsx)("p",{className:"text-sm font-medium text-neutral-700 mb-1",children:e.question}),(0,Na.jsx)("div",{className:"ml-4",children:e.options.map((e,t)=>(0,Na.jsxs)("div",{className:"text-xs text-neutral-600",children:["\u2022 ",e]},t))})]},t))]})]})]})})]}),(0,Na.jsxs)("div",{className:"bg-neutral-50 rounded-xl p-6",children:[(0,Na.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Na.jsx)(xl,{className:"w-5 h-5 text-brand-neon-green mr-2"}),(0,Na.jsx)("h4",{className:"text-lg font-semibold text-brand-black",children:"Additional Information"})]}),(0,Na.jsxs)("div",{className:"space-y-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Description"}),(0,Na.jsx)("textarea",{value:D.description,onChange:e=>I(Ue(Ue({},D),{},{description:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",rows:3,placeholder:"Brief description of the tournament..."})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Rules"}),(0,Na.jsx)("textarea",{value:D.rules,onChange:e=>I(Ue(Ue({},D),{},{rules:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",rows:4,placeholder:"Tournament rules and regulations..."})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Notes"}),(0,Na.jsx)("textarea",{value:D.notes,onChange:e=>I(Ue(Ue({},D),{},{notes:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",rows:2,placeholder:"Additional notes..."})]})]})]}),(0,Na.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4 pt-4",children:[(0,Na.jsx)("button",{type:"button",onClick:P,className:"w-full sm:w-auto px-4 sm:px-6 py-3 border border-neutral-300 rounded-lg text-neutral-600 hover:bg-neutral-50 transition-colors text-sm sm:text-base",children:"Cancel"}),(0,Na.jsx)("button",{type:"submit",disabled:M,className:"w-full sm:w-auto px-4 sm:px-6 py-3 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center text-sm sm:text-base",children:M?(0,Na.jsxs)(Na.Fragment,{children:[(0,Na.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-brand-black mr-2"}),"create"===C?"Creating...":"Updating..."]}):"create"===C?"Create Tournament":"Save Changes"})]})]})]})})},yl=e=>{let{tournamentId:t,tournamentParticipants:r,onUserRegistered:s,onUserUnregistered:a,clubRestriction:l="open",isSuperAdmin:o=!1,currentUserClub:i}=e;const[c,d]=(0,n.useState)([]),[u,m]=(0,n.useState)(!0),[x,h]=(0,n.useState)(""),[p,f]=(0,n.useState)(null),[b,g]=(0,n.useState)([]);(0,n.useEffect)(()=>{(async()=>{try{const e=await Ms();d(e.data)}catch(e){console.error("Error fetching users:",e),In.error("Failed to load users")}finally{m(!1)}})()},[]);const y=async e=>{console.log("Attempting to register users:",e),console.log("Tournament ID:",t),console.log("Current participants:",r);try{const r=await Promise.allSettled(e.map(e=>Xs(t,e)));console.log("Registration results:",r);const a=r.filter(e=>"fulfilled"===e.status).length,n=r.filter(e=>"rejected"===e.status).length;if(a>0&&(In.success("Successfully registered ".concat(a," user(s)")),s()),n>0){const e=r.filter(e=>"rejected"===e.status).map(e=>{var t,r,s;return(null===(t=e.reason)||void 0===t||null===(r=t.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.error)||"Unknown error"}).filter((e,t,r)=>r.indexOf(e)===t);In.error("Failed to register ".concat(n," user(s): ").concat(e.join(", ")))}g([])}catch(l){var a,n;console.error("Error registering users:",l);const e=(null===(a=l.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.error)||"Failed to register users";In.error(e)}},v=()=>{const e=new Set(c.map(e=>e.club).filter(Boolean));return Array.from(e).sort()},j=()=>{const e=new Set(r.map(e=>e.user_member_id));return c.filter(t=>!e.has(t.member_id))},N=()=>{let e=j();const t=e.filter(e=>!e.club);if(t.length>0&&console.warn("Users with null/undefined club values:",t.map(e=>({id:e.member_id,name:"".concat(e.first_name," ").concat(e.last_name)}))),p&&(e=e.filter(e=>e.club&&e.club===p)),x){const t=x.toLowerCase();console.log("\ud83d\udd0d Applying search filter:",t),console.log("\ud83d\udd0d Available users before search:",e.length),e=e.filter(e=>{try{const r="".concat(e.first_name||""," ").concat(e.last_name||"").toLowerCase().includes(t),s=e.email_address&&e.email_address.toLowerCase().includes(t),a=e.club&&e.club.toLowerCase().includes(t);return r||s||a}catch(r){return console.error("\u274c Error filtering user:",e,r),!1}}),console.log("\ud83d\udd0d Available users after search:",e.length)}return"open"!==l&&(e="club_specific"===l?e.filter(e=>e.club&&e.club===i):e.filter(e=>e.club&&e.club===l)),e};return u?(0,Na.jsx)("div",{className:"flex items-center justify-center min-h-64",children:(0,Na.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-neon-green"})}):(0,Na.jsx)("div",{className:"space-y-6",children:(0,Na.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-neutral-200",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Na.jsx)("h4",{className:"text-lg font-semibold text-brand-black",children:"Registration Management"}),(0,Na.jsx)("div",{className:"flex items-center space-x-2",children:(0,Na.jsxs)("span",{className:"text-sm text-neutral-600",children:[r.length," registered"]})})]}),l&&(0,Na.jsxs)("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)(Xe,{className:"w-4 h-4 text-blue-600 mr-2"}),(0,Na.jsxs)("span",{className:"text-sm font-medium text-blue-800",children:["Registration Access: ","open"===l?"Open to All Clubs":"Restricted to ".concat(l)]})]}),!o&&"open"!==l&&(0,Na.jsx)("p",{className:"text-xs text-blue-600 mt-1",children:"As a club admin, you can only manage users from your club for this tournament."})]}),(0,Na.jsxs)("div",{className:"flex flex-wrap gap-3 mb-6",children:[(0,Na.jsxs)("button",{onClick:()=>{f(null),h("")},className:"px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors flex items-center",children:[(0,Na.jsx)(Ze,{className:"w-4 h-4 mr-2"}),"View All Users"]}),(0,Na.jsxs)("button",{onClick:()=>{const e=j();if(e.length>0){const t="Register all ".concat(e.length," available user(s)?");if(!window.confirm(t))return;y(e.map(e=>e.member_id))}},className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center",disabled:0===j().length,children:[(0,Na.jsx)(nt,{className:"w-4 h-4 mr-2"}),"Register All Available"]})]}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Search Users"}),(0,Na.jsxs)("div",{className:"relative",children:[(0,Na.jsx)(ul,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-neutral-400"}),(0,Na.jsx)("input",{type:"text",value:x,onChange:e=>h(e.target.value),placeholder:"Search by name, email, or club...",className:"w-full pl-10 pr-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"})]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Filter by Club"}),(0,Na.jsxs)("select",{value:p||"",onChange:e=>f(e.target.value||null),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,Na.jsx)("option",{value:"",children:"All Clubs"}),v().filter(e=>"open"===l||l===e||!o&&e===i).map(e=>(0,Na.jsx)("option",{value:e,children:e},e))]})]})]}),(0,Na.jsxs)("div",{className:"mb-6",children:[(0,Na.jsx)("h5",{className:"text-sm font-medium text-neutral-700 mb-3",children:"Club Registration Progress"}),(0,Na.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,Na.jsxs)("div",{onClick:()=>f(null),className:"cursor-pointer flex flex-col items-center px-4 py-3 rounded-lg border transition-all ".concat(null===p?"bg-brand-neon-green/80 border-brand-neon-green text-brand-black shadow-md":"bg-neutral-50 border-neutral-300 text-neutral-700 hover:bg-brand-neon-green/30 hover:border-brand-neon-green"),style:{minWidth:120},children:[(0,Na.jsx)("span",{className:"font-medium",children:"All Clubs"}),(0,Na.jsxs)("div",{className:"text-sm text-neutral-600 mt-1",children:[r.length," / ",c.length]})]}),v().map(e=>{const t=(e=>c.filter(t=>t.club&&t.club===e).length)(e),s=(e=>r.filter(t=>t.club&&t.club===e).length)(e),a=t>0?Math.round(s/t*100):0;return(0,Na.jsxs)("div",{onClick:()=>f(e),className:"cursor-pointer flex flex-col items-center px-4 py-3 rounded-lg border transition-all ".concat(p===e?"bg-brand-neon-green/80 border-brand-neon-green text-brand-black shadow-md":"bg-neutral-50 border-neutral-300 text-neutral-700 hover:bg-brand-neon-green/30 hover:border-brand-neon-green"),style:{minWidth:120},children:[(0,Na.jsx)("span",{className:"font-medium",children:e}),(0,Na.jsx)("div",{className:"w-full h-2 bg-neutral-200 rounded mt-2 mb-1",children:(0,Na.jsx)("div",{className:"h-2 rounded transition-all duration-300",style:{width:"".concat(a,"%"),background:100===a?"#22c55e":"#4ade80"}})}),(0,Na.jsxs)("div",{className:"text-sm text-neutral-600",children:[s,"/",t," (",a,"%)"]})]},e)})]})]}),(0,Na.jsx)("div",{className:"overflow-x-auto",children:(0,Na.jsxs)("table",{className:"w-full border-collapse border border-neutral-300 rounded-lg",children:[(0,Na.jsx)("thead",{className:"bg-neutral-50",children:(0,Na.jsxs)("tr",{children:[(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:(0,Na.jsx)("input",{type:"checkbox",checked:N().length>0&&b.length===N().length,onChange:e=>{e.target.checked?g(N().map(e=>e.member_id)):g([])}})}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Name"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Email"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Club"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Handicap"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Actions"})]})}),(0,Na.jsx)("tbody",{children:N().map(e=>(0,Na.jsxs)("tr",{className:"hover:bg-neutral-50",children:[(0,Na.jsx)("td",{className:"border border-neutral-300 px-4 py-3",children:(0,Na.jsx)("input",{type:"checkbox",checked:b.includes(e.member_id),onChange:t=>{t.target.checked?g(t=>[...t,e.member_id]):g(t=>t.filter(t=>t!==e.member_id))}})}),(0,Na.jsxs)("td",{className:"border border-neutral-300 px-4 py-3 font-medium",children:[e.first_name," ",e.last_name]}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-4 py-3 text-neutral-600",children:e.email_address}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-4 py-3",children:(0,Na.jsx)("span",{className:"px-2 py-1 bg-neutral-100 text-neutral-700 text-sm rounded",children:e.club||"N/A"})}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-4 py-3 text-neutral-600",children:e.handicap?e.handicap:"N/A"}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-4 py-3",children:(0,Na.jsx)("button",{onClick:()=>y([e.member_id]),className:"px-3 py-1 bg-brand-neon-green text-brand-black text-sm rounded hover:bg-green-400 transition-colors",children:"Register"})})]},e.member_id))})]})}),0===N().length&&(0,Na.jsxs)("div",{className:"text-center py-8 text-neutral-600",children:[(0,Na.jsx)(Ze,{className:"w-12 h-12 mx-auto mb-2 text-neutral-400"}),(0,Na.jsx)("p",{children:"No available users found."}),(0,Na.jsx)("p",{className:"text-sm",children:"Try adjusting your search or club filter."})]}),b.length>0&&(0,Na.jsx)("div",{className:"flex justify-end mt-4",children:(0,Na.jsxs)("button",{onClick:()=>y(b),className:"px-6 py-3 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors flex items-center",children:[(0,Na.jsx)(nt,{className:"w-4 h-4 mr-2"}),"Register ",b.length," Selected"]})})]})})},vl=e=>{let{tournamentId:t,tournamentMatches:r,tournamentParticipants:s,tournamentCheckIns:a,onMatchesGenerated:l,onMatchUpdated:o}=e;(0,n.useEffect)(()=>{console.log("MatchGenerator - participants updated:",s)},[s]);const[i,c]=(0,n.useState)(!1),[d,u]=(0,n.useState)({format:"optimized",minMatchesPerPlayer:3}),m=async()=>{try{await oa(t,d.format,d.minMatchesPerPlayer),In.success("Matches generated successfully"),c(!1),l()}catch(e){console.error("Error generating matches:",e),In.error("Failed to generate matches")}},x=["bg-purple-100 text-purple-800","bg-blue-100 text-blue-800","bg-green-100 text-green-800","bg-yellow-100 text-yellow-800","bg-pink-100 text-pink-800","bg-red-100 text-red-800","bg-indigo-100 text-indigo-800","bg-teal-100 text-teal-800"];return(0,Na.jsxs)("div",{className:"space-y-6",children:[(0,Na.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-neutral-200",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Na.jsx)("h4",{className:"text-lg font-semibold text-brand-black",children:"Match Management"}),(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsxs)("span",{className:"text-sm text-neutral-600",children:[r.filter(e=>"completed"===e.status).length," completed"]}),(0,Na.jsxs)("span",{className:"text-sm text-neutral-600",children:["/ ",r.length," total"]})]})]}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,Na.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)(il,{className:"w-5 h-5 text-green-600 mr-2"}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("div",{className:"text-2xl font-bold text-green-600",children:r.filter(e=>"completed"===e.status).length}),(0,Na.jsx)("div",{className:"text-sm text-green-700",children:"Completed"})]})]})}),(0,Na.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)(ol,{className:"w-5 h-5 text-yellow-600 mr-2"}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:r.filter(e=>"pending"===e.status).length}),(0,Na.jsx)("div",{className:"text-sm text-yellow-700",children:"Pending"})]})]})}),(0,Na.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)(Ze,{className:"w-5 h-5 text-blue-600 mr-2"}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:s.length}),(0,Na.jsx)("div",{className:"text-sm text-blue-700",children:"Participants"})]})]})}),(0,Na.jsx)("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)(Je,{className:"w-5 h-5 text-purple-600 mr-2"}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:Math.ceil(r.length/2)}),(0,Na.jsx)("div",{className:"text-sm text-purple-700",children:"Rounds"})]})]})})]}),0===r.length&&(0,Na.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-xl p-6 border border-purple-200 mb-6",children:[(0,Na.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Na.jsx)(Je,{className:"w-5 h-5 text-purple-600 mr-2"}),(0,Na.jsx)("h5",{className:"text-lg font-semibold text-purple-900",children:"Generate Tournament Matches"})]}),(0,Na.jsx)("p",{className:"text-purple-700 mb-4",children:"Create match pairings for your tournament. You can choose from different generation formats."}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-purple-700 mb-2",children:"Generation Format"}),(0,Na.jsxs)("select",{value:d.format,onChange:e=>u(Ue(Ue({},d),{},{format:e.target.value})),className:"w-full px-3 py-2 border border-purple-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[(0,Na.jsx)("option",{value:"optimized",children:"Optimized (Balanced)"}),(0,Na.jsx)("option",{value:"par3_match_play",children:"3 Hole Matchplay (4-player groups)"}),(0,Na.jsx)("option",{value:"round_robin",children:"Round Robin"}),(0,Na.jsx)("option",{value:"single_elimination",children:"Single Elimination"}),(0,Na.jsx)("option",{value:"random_pairs",children:"Random Pairs"})]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-purple-700 mb-2",children:"Min Matches Per Player"}),(0,Na.jsx)("input",{type:"number",min:"1",max:"10",value:d.minMatchesPerPlayer,onChange:e=>u(Ue(Ue({},d),{},{minMatchesPerPlayer:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-purple-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),(0,Na.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,Na.jsxs)("button",{onClick:m,className:"px-6 py-3 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700 transition-colors flex items-center",disabled:s.length<2,children:[(0,Na.jsx)(Je,{className:"w-4 h-4 mr-2"}),"Generate Matches"]}),s.length<2&&(0,Na.jsxs)("div",{className:"flex items-center text-sm text-purple-600",children:[(0,Na.jsx)(ol,{className:"w-4 h-4 mr-2"}),"Need at least 2 participants to generate matches"]})]})]}),r.length>0&&(0,Na.jsxs)("div",{className:"mb-6",children:[(0,Na.jsxs)("div",{className:"flex justify-between text-sm text-neutral-600 mb-2",children:[(0,Na.jsx)("span",{children:"Match Progress"}),(0,Na.jsxs)("span",{children:[r.length>0?Math.round(r.filter(e=>"completed"===e.status).length/r.length*100):0,"%"]})]}),(0,Na.jsx)("div",{className:"w-full bg-neutral-200 rounded-full h-3",children:(0,Na.jsx)("div",{className:"h-3 rounded-full transition-all duration-300",style:{width:"".concat(r.length>0?r.filter(e=>"completed"===e.status).length/r.length*100:0,"%"),background:"#22c55e"}})})]}),r.length>0&&(0,Na.jsxs)("div",{className:"flex flex-wrap gap-3 mb-6",children:[(0,Na.jsxs)("button",{onClick:()=>c(!0),className:"px-4 py-2 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700 transition-colors flex items-center",children:[(0,Na.jsx)(Je,{className:"w-4 h-4 mr-2"}),"Regenerate Matches"]}),(0,Na.jsxs)("button",{onClick:()=>{const e=r.filter(e=>"pending"===e.status);e.length>0&&e.forEach(e=>{(async(e,r,s)=>{try{await ia(t,e,{winner_id:r,scores:s}),In.success("Match result updated successfully"),o()}catch(a){console.error("Error updating match result:",a),In.error("Failed to update match result")}})(e.id,e.player1_id)})},className:"px-4 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors flex items-center",disabled:0===r.filter(e=>"pending"===e.status).length,children:[(0,Na.jsx)(il,{className:"w-4 h-4 mr-2"}),"Complete All Pending"]})]}),r.length>0?(0,Na.jsx)("div",{className:"overflow-x-auto",children:(0,Na.jsxs)("table",{className:"w-full border-collapse border border-neutral-300 rounded-lg",children:[(0,Na.jsx)("thead",{className:"bg-neutral-50",children:(0,Na.jsxs)("tr",{children:[(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Match #"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Group"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Player 1"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Player 2"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Status"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Winner"})]})}),(0,Na.jsx)("tbody",{children:r.map(e=>(0,Na.jsxs)("tr",{className:"hover:bg-neutral-50",children:[(0,Na.jsxs)("td",{className:"border border-neutral-300 px-4 py-3 font-medium",children:["#",e.match_number]}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-4 py-3",children:e.group_number?(0,Na.jsxs)("span",{className:"px-2 py-1 rounded-full text-sm font-medium ".concat(x[(e.group_number-1)%x.length]),children:["Group ",e.group_number]}):(0,Na.jsx)("span",{className:"text-neutral-400 text-sm",children:"-"})}),(0,Na.jsxs)("td",{className:"border border-neutral-300 px-4 py-3",children:[(0,Na.jsxs)("div",{className:"font-medium",children:[e.player1_first_name," ",e.player1_last_name]}),(0,Na.jsx)("div",{className:"text-sm text-neutral-600",children:e.player1_club})]}),(0,Na.jsxs)("td",{className:"border border-neutral-300 px-4 py-3",children:[(0,Na.jsxs)("div",{className:"font-medium",children:[e.player2_first_name," ",e.player2_last_name]}),(0,Na.jsx)("div",{className:"text-sm text-neutral-600",children:e.player2_club})]}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-4 py-3",children:"completed"===e.status?(0,Na.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(0,Na.jsx)(il,{className:"w-3 h-3 inline mr-1"}),"Completed"]}):(0,Na.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[(0,Na.jsx)(ol,{className:"w-3 h-3 inline mr-1"}),"Pending"]})}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-4 py-3",children:e.winner_first_name?(0,Na.jsxs)("div",{className:"font-medium text-green-600",children:[e.winner_first_name," ",e.winner_last_name]}):(0,Na.jsx)("span",{className:"text-neutral-500",children:"Not decided"})})]},e.id))})]})}):(0,Na.jsxs)("div",{className:"text-center py-8",children:[(0,Na.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-neutral-100 rounded-full flex items-center justify-center",children:(0,Na.jsx)(Je,{className:"w-8 h-8 text-neutral-400"})}),(0,Na.jsx)("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"No matches generated yet"}),(0,Na.jsx)("p",{className:"text-neutral-600 mb-4",children:"Generate matches to start the tournament competition."})]})]}),i&&(0,Na.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Na.jsxs)("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md",children:[(0,Na.jsx)("h3",{className:"text-xl font-bold text-brand-black mb-4",children:"Generate Matches"}),(0,Na.jsxs)("div",{className:"space-y-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Format"}),(0,Na.jsxs)("select",{value:d.format,onChange:e=>u(Ue(Ue({},d),{},{format:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,Na.jsx)("option",{value:"optimized",children:"Optimized (Recommended)"}),(0,Na.jsx)("option",{value:"par3_match_play",children:"3 Hole Matchplay (4-player groups)"}),(0,Na.jsx)("option",{value:"round_robin",children:"Round Robin"}),(0,Na.jsx)("option",{value:"single_elimination",children:"Single Elimination"}),(0,Na.jsx)("option",{value:"random_pairs",children:"Random Pairs"})]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Minimum Matches Per Player"}),(0,Na.jsx)("input",{type:"number",min:"1",max:"10",value:d.minMatchesPerPlayer,onChange:e=>u(Ue(Ue({},d),{},{minMatchesPerPlayer:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"}),(0,Na.jsx)("p",{className:"text-xs text-neutral-500 mt-1",children:"Note: This setting is only applicable for optimized format"})]}),(0,Na.jsxs)("div",{className:"bg-blue-50 rounded-lg p-3",children:[(0,Na.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,Na.jsx)("strong",{children:"Participants:"})," ",s.length]}),(0,Na.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,Na.jsx)("strong",{children:"Format:"})," ",d.format.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase())]})]}),(0,Na.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4 pt-4",children:[(0,Na.jsx)("button",{onClick:()=>c(!1),className:"px-4 py-2 border border-neutral-300 rounded-lg text-neutral-600 hover:bg-neutral-50",children:"Cancel"}),(0,Na.jsx)("button",{onClick:m,disabled:s.length<2,className:"px-4 py-2 rounded-lg font-medium ".concat(s.length>=2?"bg-purple-600 text-white hover:bg-purple-700":"bg-gray-400 text-gray-200 cursor-not-allowed"),children:"Generate Matches"})]})]})]})})]})},jl=Ye("pen-line",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]),Nl=e=>{let{tournamentId:t,tournamentParticipants:r,onTeamsCreated:s,tournamentFormat:a="scramble",tournamentSettings:l}=e;const[o,i]=(0,n.useState)([]),[c,d]=(0,n.useState)(!1),[u,m]=(0,n.useState)(!1),[x,h]=(0,n.useState)(null),[p,f]=(0,n.useState)({name:"",captainId:"",selectedPlayers:[]});(()=>{if(l)return{teamSize:l.teamSize||4,requiresCaptain:l.requiresCaptain||!0,description:l.description||"Team format - standard team competition.",maxPlayers:l.teamSize||4,holeConfiguration:l.holeConfiguration||"18",tee:l.tee||"Red",pins:l.pins||"Friday",puttingGimme:l.puttingGimme||"8",elevation:l.elevation||"Course",stimp:l.stimp||"11",mulligan:l.mulligan||"No",gamePlay:l.gamePlay||"Force Realistic",firmness:l.firmness||"Normal",wind:l.wind||"None",handicapEnabled:l.handicapEnabled||!1};switch(a){case"scramble":return{teamSize:4,requiresCaptain:!0,description:"Scramble format - teams of 4 players. All players hit, best shot is selected.",maxPlayers:4};case"best_ball":return{teamSize:2,requiresCaptain:!1,description:"Best ball format - teams of 2 players. Each player plays their own ball.",maxPlayers:2};default:;}})();(0,n.useEffect)(()=>{(async()=>{d(!0);try{const e=(await ca(t)).data.map(e=>({id:e.id.toString(),name:e.name,players:e.players||[],maxPlayers:4}));i(e)}catch(e){console.error("Error loading teams:",e),In.error("Failed to load teams")}finally{d(!1)}})()},[t]);const b=async e=>{const r=o.find(t=>t.id===e);if(r)try{await((e,t)=>Rs.delete("/tournaments/".concat(e,"/teams/").concat(t)))(t,parseInt(e)),i(o.filter(t=>t.id!==e)),In.success('Team "'.concat(r.name,'" deleted successfully')),s()}catch(a){console.error("Error deleting team:",a),In.error("Failed to delete team")}},g=(()=>{const e=o.flatMap(e=>e.players.map(e=>e.user_member_id));return r.filter(t=>!e.includes(t.user_member_id))})();return(0,Na.jsxs)("div",{className:"space-y-6",children:[(0,Na.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-neutral-200",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Na.jsx)("h5",{className:"text-lg font-semibold text-brand-black",children:o.length>0?"Formed Teams":"Team Formation"}),g.length>0&&(0,Na.jsxs)("button",{onClick:()=>m(!0),className:"px-6 py-3 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors flex items-center",disabled:0===g.length,children:[(0,Na.jsx)(nt,{className:"w-4 h-4 mr-2"}),"Create New Team"]})]}),o.length>0&&(0,Na.jsx)("div",{className:"space-y-4",children:(0,Na.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(e=>(0,Na.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-lg p-4 shadow-sm",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Na.jsx)("h6",{className:"font-semibold text-brand-black",children:e.name}),(0,Na.jsxs)("div",{className:"flex space-x-2",children:[(0,Na.jsx)("button",{onClick:()=>(e=>{var t;h(e),f({name:e.name,captainId:(null===(t=e.players.find(e=>e.is_captain))||void 0===t?void 0:t.user_member_id.toString())||"",selectedPlayers:e.players.filter(e=>!e.is_captain).map(e=>e.user_member_id)}),m(!0)})(e),className:"p-1 text-neutral-600 hover:text-blue-600 transition-colors",children:(0,Na.jsx)(jl,{className:"w-4 h-4"})}),(0,Na.jsx)("button",{onClick:()=>b(e.id),className:"p-1 text-neutral-600 hover:text-red-600 transition-colors",children:(0,Na.jsx)(fl,{className:"w-4 h-4"})})]})]}),(0,Na.jsx)("div",{className:"space-y-1",children:e.players.map(e=>(0,Na.jsxs)("div",{className:"text-sm text-neutral-700 flex items-center",children:[e.first_name," ",e.last_name,e.is_captain&&(0,Na.jsx)(Fa,{className:"w-4 h-4 text-yellow-600 ml-1"})]},e.user_member_id))})]},e.id))})}),g.length>0&&(0,Na.jsxs)("div",{className:"mt-6",children:[(0,Na.jsx)("h5",{className:"text-lg font-semibold text-brand-black mb-4",children:"Available Players"}),(0,Na.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(e=>(0,Na.jsxs)("div",{className:"bg-neutral-50 border border-neutral-200 rounded-lg p-3",children:[(0,Na.jsxs)("div",{className:"font-medium text-sm",children:[e.first_name," ",e.last_name]}),(0,Na.jsx)("div",{className:"text-xs text-neutral-600",children:e.club})]},e.user_member_id))})]}),0===o.length&&0===g.length&&(0,Na.jsxs)("div",{className:"text-center py-8",children:[(0,Na.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-neutral-100 rounded-full flex items-center justify-center",children:(0,Na.jsx)(Ze,{className:"w-8 h-8 text-neutral-400"})}),(0,Na.jsx)("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"No teams formed yet"}),(0,Na.jsx)("p",{className:"text-neutral-600 mb-4",children:"Create teams to organize players for the scramble tournament."})]})]}),u&&(0,Na.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Na.jsxs)("div",{className:"bg-white rounded-2xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,Na.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Na.jsx)("h3",{className:"text-2xl font-bold text-brand-black",children:x?"Edit Team":"Create New Team"}),(0,Na.jsx)("button",{onClick:()=>{m(!1),h(null),f({name:"",captainId:"",selectedPlayers:[]})},className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:(0,Na.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Na.jsxs)("div",{className:"space-y-6",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Team Name"}),(0,Na.jsx)("input",{type:"text",value:p.name,onChange:e=>f(Ue(Ue({},p),{},{name:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",placeholder:"Enter team name"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsxs)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:["Team Captain ",(0,Na.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Na.jsxs)("select",{value:p.captainId,onChange:e=>{return t=e.target.value,void f(e=>Ue(Ue({},e),{},{captainId:t,selectedPlayers:e.selectedPlayers.filter(e=>e!==parseInt(t))}));var t},className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,Na.jsx)("option",{value:"",children:"Select a captain"}),g.map(e=>(0,Na.jsxs)("option",{value:e.user_member_id,children:[e.first_name," ",e.last_name," (",e.club,")"]},e.user_member_id))]}),(0,Na.jsx)("p",{className:"text-xs text-neutral-500 mt-1",children:"The captain will be responsible for entering team scores."})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Team Members (Optional)"}),(0,Na.jsx)("div",{className:"max-h-48 overflow-y-auto border border-neutral-300 rounded-lg p-3",children:g.filter(e=>e.user_member_id!==parseInt(p.captainId)).map(e=>(0,Na.jsxs)("label",{className:"flex items-center space-x-2 py-1",children:[(0,Na.jsx)("input",{type:"checkbox",checked:p.selectedPlayers.includes(e.user_member_id),onChange:()=>{return t=e.user_member_id,void f(e=>Ue(Ue({},e),{},{selectedPlayers:e.selectedPlayers.includes(t)?e.selectedPlayers.filter(e=>e!==t):[...e.selectedPlayers,t]}));var t},className:"rounded border-neutral-300 text-brand-neon-green focus:ring-brand-neon-green"}),(0,Na.jsxs)("span",{className:"text-sm",children:[e.first_name," ",e.last_name," (",e.club,")"]})]},e.user_member_id))}),(0,Na.jsx)("p",{className:"text-xs text-neutral-500 mt-1",children:"Select additional team members (up to 4 total including captain)."})]}),(0,Na.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4 pt-4",children:[(0,Na.jsx)("button",{type:"button",onClick:()=>{m(!1),h(null),f({name:"",captainId:"",selectedPlayers:[]})},className:"px-6 py-3 border border-neutral-300 rounded-lg text-neutral-600 hover:bg-neutral-50 transition-colors",children:"Cancel"}),(0,Na.jsx)("button",{onClick:x?async()=>{if(!x||!p.name||!p.captainId)return void In.error("Please provide a team name and select a captain");if(!r.find(e=>e.user_member_id===parseInt(p.captainId)))return void In.error("Selected captain not found");const e=r.filter(e=>p.selectedPlayers.includes(e.user_member_id));try{await((e,t,r)=>Rs.put("/tournaments/".concat(e,"/teams/").concat(t),r))(t,parseInt(x.id),{name:p.name,captain_id:parseInt(p.captainId),player_ids:e.map(e=>e.user_member_id)});const r=(await ca(t)).data.map(e=>({id:e.id.toString(),name:e.name,players:e.players||[],maxPlayers:4}));i(r),m(!1),h(null),f({name:"",captainId:"",selectedPlayers:[]}),In.success('Team "'.concat(p.name,'" updated successfully')),s()}catch(a){console.error("Error updating team:",a),In.error("Failed to update team")}}:async()=>{if(!p.name||!p.captainId)return void In.error("Please provide a team name and select a captain");if(!r.find(e=>e.user_member_id===parseInt(p.captainId)))return void In.error("Selected captain not found");const e=r.filter(e=>p.selectedPlayers.includes(e.user_member_id));try{await((e,t)=>Rs.post("/tournaments/".concat(e,"/teams"),t))(t,{name:p.name,captain_id:parseInt(p.captainId),player_ids:e.map(e=>e.user_member_id)});const r=(await ca(t)).data.map(e=>({id:e.id.toString(),name:e.name,players:e.players||[],maxPlayers:4}));i(r),m(!1),f({name:"",captainId:"",selectedPlayers:[]}),In.success('Team "'.concat(p.name,'" created successfully')),s()}catch(a){console.error("Error creating team:",a),In.error("Failed to create team")}},disabled:!p.name||!p.captainId,className:"px-6 py-3 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:x?"Update Team":"Create Team"})]})]})]})})]})},wl=Ye("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),_l=Ye("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),kl=Ye("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),Sl=e=>{let{participants:t,checkIns:r,scores:s,payouts:a,tournamentId:l,onCheckIn:o,onCheckOut:i,onUnregister:c}=e;const[d,u]=(0,n.useState)("name"),[m,x]=(0,n.useState)("asc"),[h,p]=(0,n.useState)([]),[f,b]=(0,n.useState)(!1);(0,n.useEffect)(()=>{(async()=>{b(!0);try{const e=await((e,t)=>Rs.get("/tournaments/".concat(e,"/weekly-scorecards?week_start_date=").concat(Ls(t))))(l);p(e.data)}catch(e){console.error("Error fetching weekly scorecards:",e)}finally{b(!1)}})()},[l]);const g=e=>{d===e?x("asc"===m?"desc":"asc"):(u(e),x("asc"))},y=e=>d!==e?(0,Na.jsx)(wl,{className:"w-4 h-4"}):"asc"===m?(0,Na.jsx)(_l,{className:"w-4 h-4"}):(0,Na.jsx)(kl,{className:"w-4 h-4"}),v=e=>{if(!e.registration_form_data)return"No Response";try{return("string"===typeof e.registration_form_data?JSON.parse(e.registration_form_data):e.registration_form_data).participation_type||"No Response"}catch(t){return"No Response"}},j=e=>{if(!e.registration_form_data)return 0;try{const t="string"===typeof e.registration_form_data?JSON.parse(e.registration_form_data):e.registration_form_data;return(t.night_availability||t.available_nights||[]).length}catch(t){return 0}},N=e=>null!==e.sim_handicap&&void 0!==e.sim_handicap?parseFloat(e.sim_handicap.toString())||0:null!==e.handicap&&void 0!==e.handicap?parseFloat(e.handicap.toString())||0:null!==e.grass_handicap&&void 0!==e.grass_handicap&&parseFloat(e.grass_handicap.toString())||0,w=e=>{const t=N(e);return 0===t?"N/A":null!==e.sim_handicap&&void 0!==e.sim_handicap?"".concat(t.toFixed(1)," (Sim)"):null!==e.handicap&&void 0!==e.handicap?"".concat(t.toFixed(1)," (Reg)"):null!==e.grass_handicap&&void 0!==e.grass_handicap?"".concat(t.toFixed(1)," (Grass)"):"N/A"},_=(0,n.useMemo)(()=>[...t].sort((e,t)=>{var s,a;let n,l;switch(d){case"name":n="".concat(e.first_name," ").concat(e.last_name).toLowerCase(),l="".concat(t.first_name," ").concat(t.last_name).toLowerCase();break;case"club":n=(null===(s=e.club)||void 0===s?void 0:s.toLowerCase())||"",l=(null===(a=t.club)||void 0===a?void 0:a.toLowerCase())||"";break;case"handicap":n=N(e),l=N(t);break;case"participation_type":n=v(e),l=v(t);break;case"night_availability":n=j(e),l=j(t);break;case"payment_status":const o=r.find(t=>t.user_member_id===e.user_member_id),i=r.find(e=>e.user_member_id===t.user_member_id);n="checked_in"===(null===o||void 0===o?void 0:o.status)?1:0,l="checked_in"===(null===i||void 0===i?void 0:i.status)?1:0;break;default:n=e[d],l=t[d]}return n<l?"asc"===m?-1:1:n>l?"asc"===m?1:-1:0}),[t,r,d,m]);return(0,Na.jsx)("div",{className:"space-y-6",children:(0,Na.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-neutral-200",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Na.jsx)("h4",{className:"text-lg font-semibold text-brand-black",children:"Player Management"}),(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsxs)("span",{className:"text-sm text-neutral-600",children:[r.filter(e=>"checked_in"===e.status).length," paid"]}),(0,Na.jsxs)("span",{className:"text-sm text-neutral-600",children:["/ ",t.length," registered"]})]})]}),(0,Na.jsx)("div",{className:"flex flex-wrap gap-3 mb-6",children:(0,Na.jsxs)("button",{onClick:()=>{const e=t.filter(e=>!r.find(t=>t.user_member_id===e.user_member_id&&"checked_in"===t.status));e.length>0&&o(e.map(e=>e.user_member_id))},className:"px-4 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors flex items-center",disabled:0===t.filter(e=>!r.find(t=>t.user_member_id===e.user_member_id&&"checked_in"===t.status)).length,children:[(0,Na.jsx)(il,{className:"w-4 h-4 mr-2"}),"Mark All as Paid"]})}),(0,Na.jsx)("div",{className:"overflow-x-auto",children:(0,Na.jsxs)("table",{className:"w-full border-collapse border border-neutral-300 rounded-lg",children:[(0,Na.jsx)("thead",{className:"bg-neutral-50",children:(0,Na.jsxs)("tr",{children:[(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium cursor-pointer hover:bg-neutral-100",onClick:()=>g("name"),children:(0,Na.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Na.jsx)("span",{children:"Name"}),y("name")]})}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium cursor-pointer hover:bg-neutral-100",onClick:()=>g("club"),children:(0,Na.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Na.jsx)("span",{children:"Club"}),y("club")]})}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium cursor-pointer hover:bg-neutral-100",onClick:()=>g("handicap"),children:(0,Na.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Na.jsx)("span",{children:"Handicap"}),y("handicap")]})}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium cursor-pointer hover:bg-neutral-100",onClick:()=>g("participation_type"),children:(0,Na.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Na.jsx)("span",{children:"Participation Type"}),y("participation_type")]})}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium cursor-pointer hover:bg-neutral-100",onClick:()=>g("night_availability"),children:(0,Na.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Na.jsx)("span",{children:"Available Nights"}),y("night_availability")]})}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium cursor-pointer hover:bg-neutral-100",onClick:()=>g("payment_status"),children:(0,Na.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Na.jsx)("span",{children:"Payment Status"}),y("payment_status")]})}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Score Submitted"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Payout"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Actions"})]})}),(0,Na.jsx)("tbody",{children:_.map(e=>{const t=r.find(t=>t.user_member_id===e.user_member_id),n=t&&"checked_in"===t.status,l=(s.find(t=>t.user_id===e.user_member_id),h.find(t=>t.user_id===e.user_member_id)),d=a.find(t=>t.user_member_id===e.user_member_id),u=v(e),m=(e=>{if(!e.registration_form_data)return"No Response";try{const t="string"===typeof e.registration_form_data?JSON.parse(e.registration_form_data):e.registration_form_data,r=t.night_availability||t.available_nights||[];return r.length>0?r.join(", "):"No Response"}catch(t){return"No Response"}})(e);return(0,Na.jsxs)("tr",{className:"hover:bg-neutral-50",children:[(0,Na.jsxs)("td",{className:"border border-neutral-300 px-4 py-3 font-medium",children:[e.first_name," ",e.last_name]}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-4 py-3",children:(0,Na.jsx)("span",{className:"px-2 py-1 bg-neutral-100 text-neutral-700 text-sm rounded",children:e.club})}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-4 py-3",children:(0,Na.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-sm rounded font-medium",children:w(e)})}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-4 py-3",children:(0,Na.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat("Live"===u?"bg-green-100 text-green-800":"Solo"===u?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:u})}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-4 py-3 text-sm text-neutral-600",children:m}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-4 py-3",children:(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[n?(0,Na.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:["\u2713",(0,Na.jsx)("span",{className:"ml-1",children:"Paid"})]}):(0,Na.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:["\u2717",(0,Na.jsx)("span",{className:"ml-1",children:"Unpaid"})]}),(0,Na.jsxs)("div",{className:"flex space-x-1",children:[!n&&(0,Na.jsx)("button",{onClick:()=>o([e.user_member_id]),className:"px-2 py-1 bg-green-600 text-white text-xs rounded hover:bg-green-700 transition-colors",title:"Mark as Paid",children:"\u2713"}),n&&(0,Na.jsx)("button",{onClick:()=>i(e.user_member_id),className:"px-2 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700 transition-colors",title:"Mark as Unpaid",children:"\u2717"})]})]})}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-4 py-3",children:l?(0,Na.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"\u2713 Submitted"}):(0,Na.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Pending"})}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-4 py-3",children:d&&d.amount?(0,Na.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["$",d.amount]}):(0,Na.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"-"})}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-4 py-3 space-x-2",children:c&&(0,Na.jsx)("button",{onClick:()=>c(e.user_member_id),className:"px-3 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700 transition-colors",title:"Unregister from tournament",children:"Unregister"})})]},e.user_member_id)})})]})}),0===_.length&&(0,Na.jsxs)("div",{className:"text-center py-8 text-neutral-600",children:[(0,Na.jsx)(Ze,{className:"w-12 h-12 mx-auto mb-2 text-neutral-400"}),(0,Na.jsx)("p",{children:"No participants found."})]})]})})},Cl=Ye("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),El=e=>{let{tournamentId:t,tournamentName:r,weekStartDate:s,onScorecardUpdated:a}=e;const[l,o]=(0,n.useState)([]),[i,c]=(0,n.useState)(!0),[d,u]=(0,n.useState)(null),[m,x]=(0,n.useState)({hole_scores:[],total_score:0,notes:""}),[h,p]=(0,n.useState)(!1),[f,b]=(0,n.useState)(!1),[g,y]=(0,n.useState)(!1),v=async()=>{try{c(!0);const e=await((e,t)=>{const r=t?"?week_start_date=".concat(Ls(t)):"";return Rs.get("/tournaments/".concat(e,"/admin/scorecards").concat(r))})(t,s);o(e.data)}catch(e){console.error("Error fetching scorecards:",e),In.error("Failed to load scorecards")}finally{c(!1)}};(0,n.useEffect)(()=>{v()},[t,s]);const j=()=>{u(null),x({hole_scores:[],total_score:0,notes:""})},N=async()=>{if(d)try{p(!0),await((e,t,r)=>Rs.put("/tournaments/".concat(e,"/admin/scorecards/").concat(t),r))(t,d.id,{hole_scores:m.hole_scores,total_score:m.total_score}),In.success("Scorecard updated successfully"),u(null),v(),a()}catch(l){var e,r,s,n;console.error("Error updating scorecard:",l),console.error("Error details:",null===(e=l.response)||void 0===e?void 0:e.data),console.error("Error status:",null===(r=l.response)||void 0===r?void 0:r.status),In.error("Failed to update scorecard: ".concat((null===(s=l.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.error)||l.message))}finally{p(!1)}},w=async e=>{if(window.confirm("Are you sure you want to delete the scorecard for ".concat(e.first_name," ").concat(e.last_name,"? This action cannot be undone.")))try{b(!0),await((e,t)=>Rs.delete("/tournaments/".concat(e,"/admin/scorecards/").concat(t)))(t,e.id),In.success("Scorecard deleted successfully"),v(),a()}catch(r){console.error("Error deleting scorecard:",r),In.error("Failed to delete scorecard")}finally{b(!1)}};return i?(0,Na.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,Na.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-neon-green"})}):0===l.length?(0,Na.jsxs)("div",{className:"text-center py-8",children:[(0,Na.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-neutral-100 rounded-full flex items-center justify-center",children:(0,Na.jsx)(Da,{className:"w-8 h-8 text-neutral-400"})}),(0,Na.jsx)("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"No scorecards found"}),(0,Na.jsx)("p",{className:"text-neutral-600",children:"No scorecards have been submitted for this tournament yet."})]}):(0,Na.jsxs)("div",{className:"space-y-6",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h3",{className:"text-xl font-semibold text-brand-black",children:"Admin Scorecard Editor"}),(0,Na.jsxs)("p",{className:"text-sm text-neutral-600",children:["Edit or delete player scorecards for ",r,s&&" (Week of ".concat(new Date(s).toLocaleDateString(),")")]})]}),(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsx)("button",{onClick:v,className:"px-3 py-2 bg-neutral-100 text-neutral-700 rounded-lg hover:bg-neutral-200 transition-colors",title:"Refresh scorecards",children:(0,Na.jsx)(Xa,{className:"w-4 h-4"})}),(0,Na.jsx)("button",{onClick:()=>y(!g),className:"px-3 py-2 rounded-lg transition-colors ".concat(g?"bg-red-100 text-red-700 hover:bg-red-200":"bg-neutral-100 text-neutral-700 hover:bg-neutral-200"),title:g?"Hide deleted scorecards":"Show deleted scorecards",children:g?(0,Na.jsx)(Cl,{className:"w-4 h-4"}):(0,Na.jsx)(Da,{className:"w-4 h-4"})})]})]}),(0,Na.jsx)("div",{className:"space-y-4",children:l.map(e=>(0,Na.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsxs)("h4",{className:"font-medium text-brand-black",children:[e.first_name," ",e.last_name]}),(0,Na.jsx)("p",{className:"text-sm text-neutral-600",children:e.club}),(0,Na.jsx)("p",{className:"text-xs text-neutral-500",children:e.email_address})]}),(0,Na.jsxs)("div",{className:"text-right",children:[(0,Na.jsx)("div",{className:"text-2xl font-bold text-brand-neon-green",children:e.total_score}),(0,Na.jsx)("div",{className:"text-sm text-neutral-500",children:"Total Score"}),(0,Na.jsx)("div",{className:"text-xs text-neutral-400",children:new Date(e.updated_at||e.created_at).toLocaleDateString()})]})]}),(0,Na.jsxs)("div",{className:"mb-4",children:[(0,Na.jsx)("h5",{className:"text-sm font-medium text-neutral-700 mb-2",children:"Hole Scores:"}),(0,Na.jsx)("div",{className:"grid grid-cols-9 gap-1",children:e.hole_scores.map((e,t)=>(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsxs)("div",{className:"text-xs text-neutral-500 mb-1",children:["H",t+1]}),(0,Na.jsx)("div",{className:"text-sm font-medium text-neutral-700",children:e})]},t))})]}),e.notes&&(0,Na.jsxs)("div",{className:"mb-4",children:[(0,Na.jsx)("h5",{className:"text-sm font-medium text-neutral-700 mb-1",children:"Notes:"}),(0,Na.jsx)("p",{className:"text-sm text-neutral-600 bg-neutral-50 p-2 rounded",children:e.notes})]}),(0,Na.jsx)("div",{className:"flex items-center justify-end space-x-2",children:(null===d||void 0===d?void 0:d.id)===e.id?(0,Na.jsxs)(Na.Fragment,{children:[(0,Na.jsx)("button",{onClick:j,className:"px-3 py-2 border border-neutral-300 text-neutral-600 rounded hover:bg-neutral-50 transition-colors",children:"Cancel"}),(0,Na.jsxs)("button",{onClick:N,disabled:h,className:"px-3 py-2 bg-brand-neon-green text-brand-black rounded font-medium hover:bg-green-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center",children:[h?(0,Na.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-brand-black mr-2"}):(0,Na.jsx)(an,{className:"w-4 h-4 mr-2"}),"Save"]})]}):(0,Na.jsxs)(Na.Fragment,{children:[(0,Na.jsxs)("button",{onClick:()=>(e=>{u(e),x({hole_scores:[...e.hole_scores],total_score:e.total_score,notes:e.notes||""})})(e),className:"px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center",children:[(0,Na.jsx)(pl,{className:"w-4 h-4 mr-2"}),"Edit"]}),(0,Na.jsxs)("button",{onClick:()=>w(e),disabled:f,className:"px-3 py-2 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center",children:[f?(0,Na.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):(0,Na.jsx)(fl,{className:"w-4 h-4 mr-2"}),"Delete"]})]})}),(null===d||void 0===d?void 0:d.id)===e.id&&(0,Na.jsxs)("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,Na.jsx)("h5",{className:"font-medium text-blue-800 mb-3",children:"Editing Scorecard"}),(0,Na.jsxs)("div",{className:"mb-4",children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-blue-800 mb-2",children:"Hole Scores:"}),(0,Na.jsx)("div",{className:"grid grid-cols-9 gap-2",children:m.hole_scores.map((e,t)=>(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsxs)("label",{className:"block text-xs text-blue-700 mb-1",children:["H",t+1]}),(0,Na.jsx)("input",{type:"number",min:"1",max:"10",value:e||"",onChange:e=>((e,t)=>{const r=[...m.hole_scores],s=parseInt(t)||0;r[e]=s;const a=r.reduce((e,t)=>e+t,0);x(Ue(Ue({},m),{},{hole_scores:r,total_score:a}))})(t,e.target.value),className:"w-full px-2 py-1 text-sm border border-blue-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-transparent text-center"})]},t))})]}),(0,Na.jsxs)("div",{className:"mb-4",children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-blue-800 mb-2",children:"Total Score:"}),(0,Na.jsx)("input",{type:"number",min:"1",value:m.total_score,onChange:e=>(e=>{const t=parseInt(e)||0;x(Ue(Ue({},m),{},{total_score:t}))})(e.target.value),className:"w-full px-3 py-2 border border-blue-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-transparent"})]}),(0,Na.jsxs)("div",{className:"mb-4",children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-blue-800 mb-2",children:"Notes:"}),(0,Na.jsx)("textarea",{value:m.notes,onChange:e=>x(Ue(Ue({},m),{},{notes:e.target.value})),rows:3,className:"w-full px-3 py-2 border border-blue-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-transparent",placeholder:"Add any notes about this scorecard..."})]})]})]},e.id))}),(0,Na.jsx)("div",{className:"bg-neutral-50 border border-neutral-200 rounded-lg p-4",children:(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h4",{className:"font-medium text-neutral-700",children:"Summary"}),(0,Na.jsxs)("p",{className:"text-sm text-neutral-600",children:[l.length," scorecard",1!==l.length?"s":""," loaded"]})]}),(0,Na.jsxs)("div",{className:"text-right",children:[(0,Na.jsxs)("div",{className:"text-sm text-neutral-600",children:["Average Score: ",l.length>0?Math.round(l.reduce((e,t)=>e+t.total_score,0)/l.length):0]}),(0,Na.jsxs)("div",{className:"text-sm text-neutral-600",children:["Best Score: ",l.length>0?Math.min(...l.map(e=>e.total_score)):0]})]})]})})]})},Tl=e=>{let{tournamentId:t,tournamentName:r,onScorecardUpdated:s}=e;const[a,l]=(0,n.useState)([]),[o,i]=(0,n.useState)(!0),[c,d]=(0,n.useState)(null),[u,m]=(0,n.useState)({scores:[],total_strokes:0,notes:""}),[x,h]=(0,n.useState)(!1),[p,f]=(0,n.useState)(!1),[b,g]=(0,n.useState)(!1),y=async()=>{try{i(!0);const e=await(e=>Rs.get("/tournaments/".concat(e,"/admin/strokeplay-scorecards")))(t);l(e.data)}catch(e){console.error("Error fetching scorecards:",e),In.error("Failed to load scorecards")}finally{i(!1)}};(0,n.useEffect)(()=>{y()},[t]);const v=()=>{d(null),m({scores:[],total_strokes:0,notes:""})},j=async()=>{if(c)try{h(!0),await((e,t,r)=>Rs.put("/tournaments/".concat(e,"/admin/strokeplay-scorecards/").concat(t),r))(t,c.id,{hole_scores:u.scores,total_score:u.total_strokes}),In.success("Scorecard updated successfully"),d(null),y(),s()}catch(e){console.error("Error updating scorecard:",e),In.error("Failed to update scorecard")}finally{h(!1)}},N=async e=>{if(window.confirm("Are you sure you want to delete the scorecard for ".concat(e.first_name," ").concat(e.last_name,"? This action cannot be undone.")))try{f(!0),await((e,t)=>Rs.delete("/tournaments/".concat(e,"/admin/strokeplay-scorecards/").concat(t)))(t,e.id),In.success("Scorecard deleted successfully"),y(),s()}catch(r){console.error("Error deleting scorecard:",r),In.error("Failed to delete scorecard")}finally{f(!1)}};return o?(0,Na.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,Na.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-neon-green"})}):0===a.length?(0,Na.jsxs)("div",{className:"text-center py-8",children:[(0,Na.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-neutral-100 rounded-full flex items-center justify-center",children:(0,Na.jsx)(Ca,{className:"w-8 h-8 text-neutral-400"})}),(0,Na.jsx)("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"No strokeplay scorecards found"}),(0,Na.jsx)("p",{className:"text-neutral-600",children:"No strokeplay scorecards have been submitted for this tournament yet."})]}):(0,Na.jsxs)("div",{className:"space-y-6",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h3",{className:"text-xl font-semibold text-brand-black",children:"Admin Strokeplay Scorecard Editor"}),(0,Na.jsxs)("p",{className:"text-sm text-neutral-600",children:["Edit or delete player scorecards for ",r]})]}),(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsx)("button",{onClick:y,className:"px-3 py-2 bg-neutral-100 text-neutral-700 rounded-lg hover:bg-neutral-200 transition-colors",title:"Refresh scorecards",children:(0,Na.jsx)(Xa,{className:"w-4 h-4"})}),(0,Na.jsx)("button",{onClick:()=>g(!b),className:"px-3 py-2 rounded-lg transition-colors ".concat(b?"bg-red-100 text-red-700 hover:bg-red-200":"bg-neutral-100 text-neutral-700 hover:bg-neutral-200"),title:b?"Hide deleted scorecards":"Show deleted scorecards",children:b?(0,Na.jsx)(Cl,{className:"w-4 h-4"}):(0,Na.jsx)(Da,{className:"w-4 h-4"})})]})]}),(0,Na.jsx)("div",{className:"space-y-4",children:a.map(e=>(0,Na.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsxs)("h4",{className:"font-medium text-brand-black",children:[e.first_name," ",e.last_name]}),(0,Na.jsx)("p",{className:"text-sm text-neutral-600",children:e.club}),(0,Na.jsx)("p",{className:"text-xs text-neutral-500",children:e.email_address}),(0,Na.jsxs)("p",{className:"text-xs text-neutral-400",children:["Played: ",new Date(e.date_played).toLocaleDateString()]})]}),(0,Na.jsxs)("div",{className:"text-right",children:[(0,Na.jsx)("div",{className:"text-2xl font-bold text-brand-neon-green",children:e.total_strokes}),(0,Na.jsx)("div",{className:"text-sm text-neutral-500",children:"Total Strokes"}),(0,Na.jsx)("div",{className:"text-xs text-neutral-400",children:new Date(e.updated_at||e.created_at).toLocaleDateString()})]})]}),(0,Na.jsxs)("div",{className:"mb-4",children:[(0,Na.jsx)("h5",{className:"text-sm font-medium text-neutral-700 mb-2",children:"Hole Scores:"}),(0,Na.jsx)("div",{className:"grid grid-cols-9 gap-1",children:e.scores.map((e,t)=>(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsxs)("div",{className:"text-xs text-neutral-500 mb-1",children:["H",t+1]}),(0,Na.jsx)("div",{className:"text-sm font-medium text-neutral-700",children:e})]},t))})]}),e.notes&&(0,Na.jsxs)("div",{className:"mb-4",children:[(0,Na.jsx)("h5",{className:"text-sm font-medium text-neutral-700 mb-1",children:"Notes:"}),(0,Na.jsx)("p",{className:"text-sm text-neutral-600 bg-neutral-50 p-2 rounded",children:e.notes})]}),(0,Na.jsx)("div",{className:"flex items-center justify-end space-x-2",children:(null===c||void 0===c?void 0:c.id)===e.id?(0,Na.jsxs)(Na.Fragment,{children:[(0,Na.jsx)("button",{onClick:v,className:"px-3 py-2 border border-neutral-300 text-neutral-600 rounded hover:bg-neutral-50 transition-colors",children:"Cancel"}),(0,Na.jsxs)("button",{onClick:j,disabled:x,className:"px-3 py-2 bg-brand-neon-green text-brand-black rounded font-medium hover:bg-green-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center",children:[x?(0,Na.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-brand-black mr-2"}):(0,Na.jsx)(an,{className:"w-4 h-4 mr-2"}),"Save"]})]}):(0,Na.jsxs)(Na.Fragment,{children:[(0,Na.jsxs)("button",{onClick:()=>(e=>{d(e),m({scores:[...e.scores],total_strokes:e.total_strokes,notes:e.notes||""})})(e),className:"px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center",children:[(0,Na.jsx)(pl,{className:"w-4 h-4 mr-2"}),"Edit"]}),(0,Na.jsxs)("button",{onClick:()=>N(e),disabled:p,className:"px-3 py-2 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center",children:[p?(0,Na.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):(0,Na.jsx)(fl,{className:"w-4 h-4 mr-2"}),"Delete"]})]})}),(null===c||void 0===c?void 0:c.id)===e.id&&(0,Na.jsxs)("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,Na.jsx)("h5",{className:"font-medium text-blue-800 mb-3",children:"Editing Scorecard"}),(0,Na.jsxs)("div",{className:"mb-4",children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-blue-800 mb-2",children:"Hole Scores:"}),(0,Na.jsx)("div",{className:"grid grid-cols-9 gap-2",children:u.scores.map((e,t)=>(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsxs)("label",{className:"block text-xs text-blue-700 mb-1",children:["H",t+1]}),(0,Na.jsx)("input",{type:"number",min:"1",max:"10",value:e||"",onChange:e=>((e,t)=>{const r=[...u.scores],s=parseInt(t)||0;r[e]=s;const a=r.reduce((e,t)=>e+t,0);m(Ue(Ue({},u),{},{scores:r,total_strokes:a}))})(t,e.target.value),className:"w-full px-2 py-1 text-sm border border-blue-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-transparent text-center"})]},t))})]}),(0,Na.jsxs)("div",{className:"mb-4",children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-blue-800 mb-2",children:"Total Strokes:"}),(0,Na.jsx)("input",{type:"number",min:"1",value:u.total_strokes,onChange:e=>(e=>{const t=parseInt(e)||0;m(Ue(Ue({},u),{},{total_strokes:t}))})(e.target.value),className:"w-full px-3 py-2 border border-blue-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-transparent"})]}),(0,Na.jsxs)("div",{className:"mb-4",children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-blue-800 mb-2",children:"Notes:"}),(0,Na.jsx)("textarea",{value:u.notes,onChange:e=>m(Ue(Ue({},u),{},{notes:e.target.value})),rows:3,className:"w-full px-3 py-2 border border-blue-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-transparent",placeholder:"Add any notes about this scorecard..."})]})]})]},e.id))}),(0,Na.jsx)("div",{className:"bg-neutral-50 border border-neutral-200 rounded-lg p-4",children:(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h4",{className:"font-medium text-neutral-700",children:"Summary"}),(0,Na.jsxs)("p",{className:"text-sm text-neutral-600",children:[a.length," scorecard",1!==a.length?"s":""," loaded"]})]}),(0,Na.jsxs)("div",{className:"text-right",children:[(0,Na.jsxs)("div",{className:"text-sm text-neutral-600",children:["Average Score: ",a.length>0?Math.round(a.reduce((e,t)=>e+t.total_strokes,0)/a.length):0]}),(0,Na.jsxs)("div",{className:"text-sm text-neutral-600",children:["Best Score: ",a.length>0?Math.min(...a.map(e=>e.total_strokes)):0]})]})]})})]})},Pl=e=>{let{tournamentId:t,tournamentName:r,onMatchUpdated:s}=e;const[a,l]=(0,n.useState)([]),[o,i]=(0,n.useState)(!0),[c,d]=(0,n.useState)(null),[u,m]=(0,n.useState)({player1_score:0,player2_score:0,winner_id:null}),[x,h]=(0,n.useState)(!1),p=async()=>{try{i(!0);const e=await(e=>Rs.get("/tournaments/".concat(e,"/admin/matchplay-matches")))(t);l(e.data)}catch(e){console.error("Error fetching matches:",e),In.error("Failed to load matches")}finally{i(!1)}};(0,n.useEffect)(()=>{p()},[t]);const f=()=>{d(null),m({player1_score:0,player2_score:0,winner_id:null})},b=(e,t)=>{const r=parseInt(t)||0;m(Ue(Ue({},u),{},{["player1"===e?"player1_score":"player2_score"]:r}))},g=async()=>{if(c)try{h(!0),await((e,t,r)=>Rs.put("/tournaments/".concat(e,"/admin/matchplay-matches/").concat(t),r))(t,c.id,{player1_score:u.player1_score,player2_score:u.player2_score,winner_id:u.winner_id,scores:c.scores}),In.success("Match updated successfully"),d(null),p(),s()}catch(e){console.error("Error updating match:",e),In.error("Failed to update match")}finally{h(!1)}};return o?(0,Na.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,Na.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-neon-green"})}):0===a.length?(0,Na.jsxs)("div",{className:"text-center py-8",children:[(0,Na.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-neutral-100 rounded-full flex items-center justify-center",children:(0,Na.jsx)(Je,{className:"w-8 h-8 text-neutral-400"})}),(0,Na.jsx)("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"No matchplay matches found"}),(0,Na.jsx)("p",{className:"text-neutral-600",children:"No matchplay matches have been generated for this tournament yet."})]}):(0,Na.jsxs)("div",{className:"space-y-6",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h3",{className:"text-xl font-semibold text-brand-black",children:"Admin Matchplay Editor"}),(0,Na.jsxs)("p",{className:"text-sm text-neutral-600",children:["Edit matchplay matches for ",r]})]}),(0,Na.jsx)("div",{className:"flex items-center space-x-2",children:(0,Na.jsx)("button",{onClick:p,className:"px-3 py-2 bg-neutral-100 text-neutral-700 rounded-lg hover:bg-neutral-200 transition-colors",title:"Refresh matches",children:(0,Na.jsx)(Xa,{className:"w-4 h-4"})})})]}),(0,Na.jsx)("div",{className:"space-y-4",children:a.map(e=>(0,Na.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsxs)("h4",{className:"font-medium text-brand-black",children:["Match #",e.match_number]}),(0,Na.jsx)("p",{className:"text-sm text-neutral-500",children:"completed"===e.status?"Completed":"Pending"})]}),(0,Na.jsx)("div",{className:"text-right",children:e.winner_id&&(0,Na.jsxs)("div",{className:"text-sm text-green-600 font-medium",children:["Winner: ",e.winner_id===e.player1_id?"".concat(e.player1_first_name," ").concat(e.player1_last_name):"".concat(e.player2_first_name," ").concat(e.player2_last_name)]})})]}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,Na.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg",children:[(0,Na.jsx)("h5",{className:"font-medium text-blue-800 mb-2",children:"Player 1"}),(0,Na.jsxs)("p",{className:"text-sm font-medium text-blue-900",children:[e.player1_first_name," ",e.player1_last_name]}),(0,Na.jsx)("p",{className:"text-xs text-blue-700",children:e.player1_club}),(0,Na.jsxs)("p",{className:"text-lg font-bold text-blue-600 mt-1",children:["Score: ",e.player1_score||"-"]})]}),(0,Na.jsxs)("div",{className:"bg-green-50 p-3 rounded-lg",children:[(0,Na.jsx)("h5",{className:"font-medium text-green-800 mb-2",children:"Player 2"}),(0,Na.jsxs)("p",{className:"text-sm font-medium text-green-900",children:[e.player2_first_name," ",e.player2_last_name]}),(0,Na.jsx)("p",{className:"text-xs text-green-700",children:e.player2_club}),(0,Na.jsxs)("p",{className:"text-lg font-bold text-green-600 mt-1",children:["Score: ",e.player2_score||"-"]})]})]}),(0,Na.jsx)("div",{className:"flex items-center justify-end space-x-2",children:(null===c||void 0===c?void 0:c.id)===e.id?(0,Na.jsxs)(Na.Fragment,{children:[(0,Na.jsx)("button",{onClick:f,className:"px-3 py-2 border border-neutral-300 text-neutral-600 rounded hover:bg-neutral-50 transition-colors",children:"Cancel"}),(0,Na.jsxs)("button",{onClick:g,disabled:x,className:"px-3 py-2 bg-brand-neon-green text-brand-black rounded font-medium hover:bg-green-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center",children:[x?(0,Na.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-brand-black mr-2"}):(0,Na.jsx)(an,{className:"w-4 h-4 mr-2"}),"Save"]})]}):(0,Na.jsxs)("button",{onClick:()=>(e=>{d(e),m({player1_score:e.player1_score||0,player2_score:e.player2_score||0,winner_id:e.winner_id})})(e),className:"px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center",children:[(0,Na.jsx)(pl,{className:"w-4 h-4 mr-2"}),"Edit"]})}),(null===c||void 0===c?void 0:c.id)===e.id&&(0,Na.jsxs)("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,Na.jsx)("h5",{className:"font-medium text-blue-800 mb-3",children:"Editing Match"}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-blue-800 mb-2",children:"Player 1 Score:"}),(0,Na.jsx)("input",{type:"number",min:"0",value:u.player1_score,onChange:e=>b("player1",e.target.value),className:"w-full px-3 py-2 border border-blue-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-transparent"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-blue-800 mb-2",children:"Player 2 Score:"}),(0,Na.jsx)("input",{type:"number",min:"0",value:u.player2_score,onChange:e=>b("player2",e.target.value),className:"w-full px-3 py-2 border border-blue-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,Na.jsxs)("div",{className:"mb-4",children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-blue-800 mb-2",children:"Winner:"}),(0,Na.jsxs)("select",{value:u.winner_id||"null",onChange:e=>{return t=e.target.value,void m(Ue(Ue({},u),{},{winner_id:"null"===t?null:parseInt(t)}));var t},className:"w-full px-3 py-2 border border-blue-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-transparent",children:[(0,Na.jsx)("option",{value:"null",children:"No winner (tie)"}),(0,Na.jsxs)("option",{value:e.player1_id,children:[e.player1_first_name," ",e.player1_last_name]}),(0,Na.jsxs)("option",{value:e.player2_id,children:[e.player2_first_name," ",e.player2_last_name]})]})]})]})]},e.id))}),(0,Na.jsx)("div",{className:"bg-neutral-50 border border-neutral-200 rounded-lg p-4",children:(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h4",{className:"font-medium text-neutral-700",children:"Summary"}),(0,Na.jsxs)("p",{className:"text-sm text-neutral-600",children:[a.length," match",1!==a.length?"es":""," loaded"]})]}),(0,Na.jsxs)("div",{className:"text-right",children:[(0,Na.jsxs)("div",{className:"text-sm text-neutral-600",children:["Completed: ",a.filter(e=>"completed"===e.status).length]}),(0,Na.jsxs)("div",{className:"text-sm text-neutral-600",children:["Pending: ",a.filter(e=>"pending"===e.status).length]})]})]})})]})},Ll=Ye("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),Rl=e=>{let{tournamentId:t,tournamentName:r,tournamentParticipants:s,tournamentMatches:a,tournamentCourse:l,tournamentCourseId:o,tournament:i,onDataRefresh:c}=e;const[d,u]=(0,n.useState)([]),[m,x]=(0,n.useState)([]),[h,p]=(0,n.useState)([]),[f,b]=(0,n.useState)(!0),[g,y]=(0,n.useState)("overview"),[v,j]=(0,n.useState)(null),[N,w]=(0,n.useState)(null),[_,k]=(0,n.useState)(!1),[S,C]=(0,n.useState)(!1),[E,T]=(0,n.useState)(""),[P,L]=(0,n.useState)([]),[R,M]=(0,n.useState)([]),[A,D]=(0,n.useState)([]),[I,O]=(0,n.useState)(null),[F,z]=(0,n.useState)(null),[U,H]=(0,n.useState)(null),[B,W]=(0,n.useState)(!1),[q,V]=(0,n.useState)(null),[G,$]=(0,n.useState)(0),[Y,Q]=(0,n.useState)(0),[K,J]=(0,n.useState)(null),[X,Z]=(0,n.useState)(!1),[ee,te]=(0,n.useState)(new Array(18).fill(0)),[re,se]=(0,n.useState)(new Array(18).fill(0)),[ae,ne]=(0,n.useState)(new Array(18).fill(0)),[le,oe]=(0,n.useState)(new Array(18).fill(0)),[ie,ce]=(0,n.useState)(0),[de,ue]=(0,n.useState)(0),[me,xe]=(0,n.useState)(null),[he,pe]=(0,n.useState)(""),[fe,be]=(0,n.useState)([]),[ge,ye]=(0,n.useState)([]),[ve,je]=(0,n.useState)(!1),[Ne,we]=(0,n.useState)(null),[_e,ke]=(0,n.useState)(!1),[Se,Ce]=(0,n.useState)(""),[Ee,Te]=(0,n.useState)(""),{courseData:Pe,loading:Le,courseId:Re}=Kn(t,i);(0,n.useEffect)(()=>{console.log("ChampionshipAdminDashboard mounted with:",{tournamentId:t,tournamentCourse:l,tournamentCourseId:o,tournamentParticipants:null===s||void 0===s?void 0:s.length,userCourseId:Re,userCourseLoading:Le}),Me()},[t,s,a,Re,Le]);const Me=async()=>{try{b(!0);const r=new Map;s.forEach(e=>{e.club&&(r.has(e.club)||r.set(e.club,[]),r.get(e.club).push(e))});const n=Array.from(r.entries()).map(e=>{let[t,r]=e;return{club:t,participant_count:r.length,participants:r.map(e=>({user_id:e.user_member_id,first_name:e.first_name,last_name:e.last_name,email:e.email_address}))}});x(n);try{const e=await ja.get("/tournaments/".concat(t,"/club-groups"));u(e.data)}catch(e){console.error("Error loading club groups:",e)}try{const e=await ja.get("/tournaments/".concat(t,"/championship-matches"));p(e.data)}catch(e){console.error("Error loading championship matches:",e),p(a)}}catch(e){console.error("Error loading dashboard data:",e),In.error("Failed to load dashboard data")}finally{b(!1)}},Ae=()=>{const e=d.flatMap(e=>e.user_ids||[]);return s.filter(t=>!e.includes(t.user_member_id))},De=async e=>{console.log("Opening match play scoring for match:",e),V(e);const t=s.find(t=>t.user_member_id===e.player1_id),r=s.find(t=>t.user_member_id===e.player2_id);if(t){const e=Number(t.sim_handicap||t.handicap||0);console.log("Player 1 handicap:",e,"from fields:",{sim_handicap:t.sim_handicap,handicap:t.handicap}),ce(e)}if(r){const e=Number(r.sim_handicap||r.handicap||0);console.log("Player 2 handicap:",e,"from fields:",{sim_handicap:r.sim_handicap,handicap:r.handicap}),ue(e)}const a=((e,t)=>{const r=s.find(t=>t.user_member_id===e),a=s.find(e=>e.user_member_id===t);return"No. 8"===(null===r||void 0===r?void 0:r.club)||"No. 8"===(null===a||void 0===a?void 0:a.club)?{courseId:null===i||void 0===i?void 0:i.trackman_course_id,courseName:null===i||void 0===i?void 0:i.trackman_course,platform:"trackman",reason:"One or both players are from Club No. 8 (Trackman)"}:{courseId:null===i||void 0===i?void 0:i.gspro_course_id,courseName:null===i||void 0===i?void 0:i.gspro_course,platform:"gspro",reason:"Both players are from other clubs (GSPro)"}})(e.player1_id,e.player2_id);we(a),console.log("Match course assignment:",a),console.log("Player 1 club:",null===t||void 0===t?void 0:t.club,"Player 2 club:",null===r||void 0===r?void 0:r.club);const n=a.courseId||o;if(n){console.log("Loading course data for ID:",n,"matchCourseId:",a.courseId,"tournamentCourseId:",o);try{const e=await ja.get("/simulator-courses?id=".concat(n)),t=e.data.courses||e.data,r=Array.isArray(t)?t[0]:t;if(r&&r.id){if(console.log("Loaded course:",r.name,"for platform:",a.platform),xe(n),r.hole_indexes)try{let e;e=Array.isArray(r.hole_indexes)?r.hole_indexes:JSON.parse(r.hole_indexes),be(e),console.log("Loaded hole indexes:",e)}catch(To){console.error("Error parsing hole indexes:",To),be([1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18])}else console.log("No hole indexes found, using default"),be([1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18]);if(r.par_values)try{const e=Array.isArray(r.par_values)?r.par_values:JSON.parse(r.par_values);ye(e),console.log("Set par values:",e)}catch(To){console.error("Error parsing par values:",To),console.log("Using default par values"),ye(new Array(18).fill(4))}else console.log("No par values found, using default"),ye(new Array(18).fill(4))}else console.error("Course not found. Response:",e.data),In.error("Course (ID: ".concat(n,") not found"))}catch(x){console.error("Error loading course:",x),In.error("Failed to load course data")}}else console.log("No tournament course ID available"),In.error("No tournament course selected");const l=e=>{if(!e)return new Array(18).fill(0);try{if(Array.isArray(e))return 18===e.length?e:new Array(18).fill(0);if("string"===typeof e){const t=e.trim();if(t.startsWith("[")&&t.endsWith("]")){const e=JSON.parse(t);return Array.isArray(e)&&18===e.length?e:new Array(18).fill(0)}if(t.includes(",")){const e=t.split(",").map(e=>parseInt(e.trim())||0);return 18===e.length?e:new Array(18).fill(0)}}return new Array(18).fill(0)}catch(To){return console.error("Error parsing hole scores:",To,"Raw data:",e),new Array(18).fill(0)}};console.log("Loading existing scores - player1_hole_scores:",e.player1_hole_scores),console.log("Loading existing scores - player2_hole_scores:",e.player2_hole_scores),console.log("Loading existing scores - player1_net_hole_scores:",e.player1_net_hole_scores),console.log("Loading existing scores - player2_net_hole_scores:",e.player2_net_hole_scores);const c=l(e.player1_hole_scores),d=l(e.player2_hole_scores),u=l(e.player1_net_hole_scores),m=l(e.player2_net_hole_scores);console.log("Parsed player1 scores:",c),console.log("Parsed player2 scores:",d),console.log("Parsed player1 net scores:",u),console.log("Parsed player2 net scores:",m),te(c),se(d),ne(u),oe(m),je(!0)},Ie=function(e,t,r){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const a=r>0?r:1,n=Math.abs(t-s),l=Math.min(Math.round(n),8),o=Math.max(t,s),i=t===o;if(console.log("Admin calculateNetScore debug:",{grossScore:e,handicap:t,opponentHandicap:s,holeIndex:r,actualHoleIndex:a,rawDifferential:n,handicapDifferential:l,higherHandicap:o,isHigherHandicapPlayer:i}),i){const t=Math.floor(l/18)+(l%18>=a?1:0),r=Math.max(1,e-t);return console.log("Higher handicap player gets ".concat(t," strokes on hole ").concat(a,": ").concat(e," -> ").concat(r)),r}return console.log("Lower handicap player gets no strokes on hole ".concat(a,": ").concat(e)),e},Oe=()=>{let e=0,t=0;for(let a=0;a<18;a++){const r=ee[a],s=re[a];if(0===r||0===s)continue;const n=Ie(r,ie,fe[a]||0,de),l=Ie(s,de,fe[a]||0,ie);n<l?e++:l<n&&t++}const r=e-t;let s=null;return r>0?s=null===q||void 0===q?void 0:q.player1_id:r<0&&(s=null===q||void 0===q?void 0:q.player2_id),{player1HolesWon:e,player2HolesWon:t,player1HolesLost:t,player2HolesLost:e,player1NetHoles:r,player2NetHoles:-r,winner:s}},Fe=(e,t)=>{Ce(e),Te(t),ke(!0)},ze=()=>{ke(!1),Ce(""),Te("")},He=async()=>{try{const e=await ja.post("/tournaments/".concat(t,"/determine-champions"));In.success(e.data.message),Me(),c()}catch(e){console.error("Error determining champions:",e),In.error("Failed to determine champions")}};return f?(0,Na.jsxs)("div",{className:"flex items-center justify-center p-8",children:[(0,Na.jsx)(Xa,{className:"w-8 h-8 animate-spin text-blue-500"}),(0,Na.jsx)("span",{className:"ml-2 text-gray-600",children:"Loading championship data..."})]}):(0,Na.jsxs)("div",{className:"space-y-6",children:[(0,Na.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[(0,Na.jsx)(Je,{className:"w-8 h-8 text-yellow-500 mr-3"}),r," - Championship Management"]}),(0,Na.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage club groups, matches, and determine champions"})]}),(0,Na.jsxs)("button",{onClick:Me,className:"flex items-center px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[(0,Na.jsx)(Xa,{className:"w-4 h-4 mr-2"}),"Refresh Data"]})]})}),(0,Na.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,Na.jsx)("div",{className:"border-b border-gray-200",children:(0,Na.jsx)("nav",{className:"flex space-x-8 px-6",children:[{id:"overview",label:"Overview",icon:Ea},{id:"groups",label:"Groups",icon:Ze},{id:"matches",label:"Matches",icon:Ll},{id:"scoring",label:"Scoring",icon:il},{id:"standings",label:"Standings",icon:Je}].map(e=>{let{id:t,label:r,icon:s}=e;return(0,Na.jsxs)("button",{onClick:()=>y(t),className:"flex items-center py-4 px-1 border-b-2 font-medium text-sm ".concat(g===t?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,Na.jsx)(s,{className:"w-4 h-4 mr-2"}),r]},t)})})}),(0,Na.jsxs)("div",{className:"p-6",children:["overview"===g&&(0,Na.jsxs)("div",{className:"space-y-6",children:[(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Na.jsx)("div",{className:"bg-blue-50 rounded-lg p-6",children:(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)(Ze,{className:"w-8 h-8 text-blue-500"}),(0,Na.jsxs)("div",{className:"ml-4",children:[(0,Na.jsx)("p",{className:"text-sm font-medium text-blue-600",children:"Total Participants"}),(0,Na.jsx)("p",{className:"text-2xl font-bold text-blue-900",children:s.length})]})]})}),(0,Na.jsx)("div",{className:"bg-green-50 rounded-lg p-6",children:(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)(Je,{className:"w-8 h-8 text-green-500"}),(0,Na.jsxs)("div",{className:"ml-4",children:[(0,Na.jsx)("p",{className:"text-sm font-medium text-green-600",children:"Club Groups"}),(0,Na.jsx)("p",{className:"text-2xl font-bold text-green-900",children:d.length})]})]})}),(0,Na.jsx)("div",{className:"bg-purple-50 rounded-lg p-6",children:(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)(Ll,{className:"w-8 h-8 text-purple-500"}),(0,Na.jsxs)("div",{className:"ml-4",children:[(0,Na.jsx)("p",{className:"text-sm font-medium text-purple-600",children:"Total Matches"}),(0,Na.jsx)("p",{className:"text-2xl font-bold text-purple-900",children:h.length})]})]})})]}),(0,Na.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,Na.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Na.jsxs)("button",{onClick:async()=>{try{const e=await ja.post("/tournaments/".concat(t,"/auto-group-clubs"),{minParticipants:4});In.success(e.data.message),Me(),c()}catch(e){console.error("Error auto-grouping clubs:",e),In.error("Failed to auto-group clubs")}},className:"flex items-center justify-center px-4 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[(0,Na.jsx)(xl,{className:"w-4 h-4 mr-2"}),"Auto-Group Clubs"]}),(0,Na.jsxs)("button",{onClick:async()=>{try{const e=await ja.post("/tournaments/".concat(t,"/generate-championship-matches"));In.success(e.data.message),Me(),c()}catch(e){console.error("Error generating matches:",e),In.error("Failed to generate matches")}},className:"flex items-center justify-center px-4 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:[(0,Na.jsx)(Ll,{className:"w-4 h-4 mr-2"}),"Generate Matches"]}),(0,Na.jsxs)("button",{onClick:He,className:"flex items-center justify-center px-4 py-3 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors",children:[(0,Na.jsx)(Fa,{className:"w-4 h-4 mr-2"}),"Determine Champions"]})]})]})]}),"groups"===g&&(0,Na.jsxs)("div",{className:"space-y-6",children:[(0,Na.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Na.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Club Groups"}),(0,Na.jsxs)("button",{onClick:()=>k(!0),className:"flex items-center px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[(0,Na.jsx)(sn,{className:"w-4 h-4 mr-2"}),"Create Group"]})]}),_&&(0,Na.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Na.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,Na.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Create New Group"}),(0,Na.jsxs)("div",{className:"space-y-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Group Name"}),(0,Na.jsx)("input",{type:"text",value:E,onChange:e=>T(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter group name"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Participants"}),(0,Na.jsx)("div",{className:"max-h-40 overflow-y-auto border border-gray-300 rounded-lg p-2",children:0===Ae().length?(0,Na.jsx)("div",{className:"text-center py-4 text-gray-500",children:(0,Na.jsx)("p",{children:"All participants have been assigned to groups"})}):Ae().map(e=>(0,Na.jsxs)("label",{className:"flex items-center p-2 hover:bg-gray-50",children:[(0,Na.jsx)("input",{type:"checkbox",checked:R.includes(e.user_member_id),onChange:t=>{t.target.checked?M([...R,e.user_member_id]):M(R.filter(t=>t!==e.user_member_id))},className:"mr-3"}),(0,Na.jsxs)("span",{className:"text-sm",children:[e.first_name," ",e.last_name," (",e.club,")"]})]},e.user_member_id))})]}),(0,Na.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Na.jsx)("button",{onClick:()=>{k(!1),T(""),M([])},className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),(0,Na.jsx)("button",{onClick:async()=>{if(E.trim()&&0!==R.length)try{await ja.post("/tournaments/".concat(t,"/create-club-group"),{groupName:E,participantIds:R});In.success("Group created successfully"),k(!1),T(""),M([]),Me(),c()}catch(e){console.error("Error creating group:",e),In.error("Failed to create group")}else In.error("Please provide a group name and select participants")},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Create Group"})]})]})]})}),v&&(0,Na.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Na.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,Na.jsxs)("h4",{className:"text-lg font-semibold mb-4",children:["Edit Group: ",v.group_name]}),(0,Na.jsxs)("div",{className:"space-y-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Group Name"}),(0,Na.jsx)("input",{type:"text",value:v.group_name,onChange:e=>j(Ue(Ue({},v),{},{group_name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter group name"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Participants"}),(0,Na.jsx)("div",{className:"max-h-40 overflow-y-auto border border-gray-300 rounded-lg p-2",children:(()=>{const e=(e=>{const t=d.filter(t=>t.id!==e).flatMap(e=>e.user_ids||[]);return s.filter(e=>!t.includes(e.user_member_id))})(v.id),t=s.filter(e=>{var t;return null===(t=v.user_ids)||void 0===t?void 0:t.includes(e.user_member_id)}),r=new Map;t.forEach(e=>{r.set(e.user_member_id,Ue(Ue({},e),{},{isCurrentlyInGroup:!0,isAvailable:!0}))}),e.forEach(e=>{r.has(e.user_member_id)||r.set(e.user_member_id,Ue(Ue({},e),{},{isCurrentlyInGroup:!1,isAvailable:!0}))});const a=Array.from(r.values());return 0===a.length?(0,Na.jsx)("div",{className:"text-center py-4 text-gray-500",children:(0,Na.jsx)("p",{children:"No participants available"})}):a.map(e=>(0,Na.jsxs)("label",{className:"flex items-center p-2 hover:bg-gray-50 ".concat(e.isAvailable?"":"opacity-50"),children:[(0,Na.jsx)("input",{type:"checkbox",checked:R.includes(e.user_member_id),disabled:!e.isAvailable,onChange:t=>{t.target.checked?M([...R,e.user_member_id]):M(R.filter(t=>t!==e.user_member_id))},className:"mr-3"}),(0,Na.jsxs)("span",{className:"text-sm",children:[e.first_name," ",e.last_name," (",e.club,")",e.isCurrentlyInGroup&&(0,Na.jsx)("span",{className:"text-blue-600 text-xs ml-1",children:"(Current)"}),!e.isAvailable&&(0,Na.jsx)("span",{className:"text-gray-400 text-xs ml-1",children:"(Assigned to another group)"})]})]},e.user_member_id))})()})]}),(0,Na.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Na.jsx)("button",{onClick:()=>{j(null),M([])},className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),(0,Na.jsx)("button",{onClick:async()=>{if(v&&0!==R.length)if(v.group_name.trim())try{await ja.put("/tournaments/".concat(t,"/club-groups/").concat(v.id),{groupName:v.group_name,participantIds:R});In.success("Group updated successfully"),j(null),M([]),Me(),c()}catch(e){console.error("Error updating group:",e),In.error("Failed to update group")}else In.error("Please enter a group name");else In.error("Please select participants")},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Update Group"})]})]})]})}),(0,Na.jsx)("div",{className:"space-y-4",children:d&&d.length>0?d.map(e=>(0,Na.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:(0,Na.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Na.jsxs)("div",{className:"flex-1",children:[(0,Na.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:e.group_name}),(0,Na.jsxs)("p",{className:"text-sm text-gray-600",children:[e.participating_clubs&&e.participating_clubs.length>0?e.participating_clubs.join(", "):"No clubs"," \u2022 ",e.participant_count||0," participants"]}),(0,Na.jsxs)("div",{className:"mt-2",children:[(0,Na.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Participants:"}),(0,Na.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:e.user_ids&&e.user_ids.length>0?e.user_ids.map(e=>{const t=s.find(t=>t.user_member_id===e);return t?(0,Na.jsxs)("span",{className:"inline-flex items-center px-2 py-1 bg-gray-100 text-gray-800 text-xs rounded-full",children:[t.first_name," ",t.last_name]},e):null}):(0,Na.jsx)("span",{className:"text-gray-500 text-sm",children:"No participants assigned"})})]})]}),(0,Na.jsxs)("div",{className:"flex space-x-2",children:[(0,Na.jsx)("button",{onClick:()=>(e=>{j(e),M(e.user_ids)})(e),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",children:(0,Na.jsx)(pl,{className:"w-4 h-4"})}),(0,Na.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this group? This will also delete all associated matches."))try{await ja.delete("/tournaments/".concat(t,"/club-groups/").concat(e)),In.success("Group deleted successfully"),Me(),c()}catch(r){console.error("Error deleting group:",r),In.error("Failed to delete group")}})(e.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:(0,Na.jsx)(fl,{className:"w-4 h-4"})})]})]})},e.id)):(0,Na.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,Na.jsx)(Ze,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),(0,Na.jsx)("p",{children:"No groups created yet"}),(0,Na.jsx)("p",{className:"text-sm",children:'Click "Create Group" to get started'})]})})]}),"matches"===g&&(0,Na.jsxs)("div",{className:"space-y-6",children:[(0,Na.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Na.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Championship Matches"}),h.length>0&&(0,Na.jsxs)("label",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,Na.jsx)("input",{type:"checkbox",checked:A.length===h.length&&h.length>0,onChange:()=>{A.length===h.length?D([]):D(h.map(e=>e.id))},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,Na.jsxs)("span",{children:["Select All (",h.length,")"]})]})]}),(0,Na.jsxs)("div",{className:"flex space-x-2",children:[(0,Na.jsxs)("button",{onClick:()=>C(!0),className:"flex items-center px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[(0,Na.jsx)(sn,{className:"w-4 h-4 mr-2"}),"Create Match"]}),A.length>0&&(0,Na.jsxs)("button",{onClick:async()=>{if(0!==A.length){if(window.confirm("Are you sure you want to delete ".concat(A.length," selected matches?")))try{await Promise.all(A.map(e=>ja.delete("/tournaments/".concat(t,"/matches/").concat(e)))),In.success("".concat(A.length," matches deleted successfully")),D([]),Me(),c()}catch(e){console.error("Error deleting matches:",e),In.error("Failed to delete some matches")}}else In.error("No matches selected")},className:"flex items-center px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:[(0,Na.jsx)(fl,{className:"w-4 h-4 mr-2"}),"Delete Selected (",A.length,")"]})]})]}),d&&d.length>0?d.map(e=>{const r=h&&h.length>0?h.filter(t=>t.club_group===e.group_name):[];return(0,Na.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,Na.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Na.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:e.group_name}),(0,Na.jsxs)("button",{onClick:()=>{O(e.id),C(!0)},className:"flex items-center px-3 py-1 bg-blue-500 text-white text-sm rounded-lg hover:bg-blue-600",children:[(0,Na.jsx)(sn,{className:"w-4 h-4 mr-1"}),"Add Match"]})]}),r.length>0?(0,Na.jsx)("div",{className:"space-y-2",children:r.map(e=>(0,Na.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Na.jsx)("input",{type:"checkbox",checked:A.includes(e.id),onChange:()=>{return t=e.id,void D(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,Na.jsxs)("span",{className:"text-sm font-medium text-gray-600",children:["Match ",e.match_number]}),(0,Na.jsxs)("span",{className:"text-sm",children:[e.player1_name," vs ",e.player2_name]}),(0,Na.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat("completed"===e.match_status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.match_status})]}),(0,Na.jsxs)("div",{className:"flex space-x-2",children:[(0,Na.jsx)("button",{onClick:()=>(e=>{w(e),z(e.player1_id),H(e.player2_id),W(!0)})(e),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",title:"Edit Match",children:(0,Na.jsx)(pl,{className:"w-4 h-4"})}),(0,Na.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this match?"))try{await ja.delete("/tournaments/".concat(t,"/matches/").concat(e)),In.success("Match deleted successfully"),Me(),c()}catch(r){console.error("Error deleting match:",r),In.error("Failed to delete match")}})(e.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Delete Match",children:(0,Na.jsx)(fl,{className:"w-4 h-4"})})]})]},e.id))}):(0,Na.jsx)("p",{className:"text-gray-500 text-sm",children:"No matches created yet"})]},e.id)}):(0,Na.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,Na.jsx)(Ll,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),(0,Na.jsx)("p",{children:"No groups created yet"}),(0,Na.jsx)("p",{className:"text-sm",children:"Create groups first to manage matches"})]})]}),"scoring"===g&&(0,Na.jsxs)("div",{className:"space-y-6",children:[(0,Na.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Na.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Match Scoring"}),(0,Na.jsx)("p",{className:"text-sm text-gray-600",children:"Enter scores for completed matches"})]}),d&&d.length>0?d.map(e=>{const t=h&&h.length>0?h.filter(t=>t.club_group===e.group_name):[];return(0,Na.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,Na.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:e.group_name}),t.length>0?(0,Na.jsx)("div",{className:"space-y-3",children:t.map(e=>(0,Na.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Na.jsxs)("span",{className:"text-sm font-medium text-gray-600",children:["Match ",e.match_number]}),(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsx)("span",{className:"font-medium",children:e.player1_name}),(0,Na.jsx)("span",{className:"text-gray-500",children:"vs"}),(0,Na.jsx)("span",{className:"font-medium",children:e.player2_name})]}),(0,Na.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat("completed"===e.match_status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.match_status}),"completed"===e.match_status&&(0,Na.jsxs)("span",{className:"text-sm text-gray-600",children:[e.player1_score," - ",e.player2_score,e.winner_id&&(0,Na.jsxs)("span",{className:"ml-2 font-medium",children:["Winner: ",e.winner_id===e.player1_id?e.player1_name:e.player2_name]})]}),(console.log("Match scorecard photos:",{matchId:e.id,player1Photo:e.player1_scorecard_photo_url,player2Photo:e.player2_scorecard_photo_url,hasPhotos:!(!e.player1_scorecard_photo_url&&!e.player2_scorecard_photo_url)}),null),(e.player1_scorecard_photo_url||e.player2_scorecard_photo_url)&&(0,Na.jsxs)("div",{className:"flex items-center space-x-2 mt-2",children:[(0,Na.jsx)("span",{className:"text-xs text-gray-500",children:"Scorecard Photos:"}),e.player1_scorecard_photo_url&&(0,Na.jsxs)("button",{onClick:()=>Fe(e.player1_scorecard_photo_url,e.player1_name),className:"flex items-center space-x-1 px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded hover:bg-blue-200 transition-colors",title:"".concat(e.player1_name,"'s scorecard"),children:[(0,Na.jsxs)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,Na.jsx)("span",{children:e.player1_name})]}),e.player2_scorecard_photo_url&&(0,Na.jsxs)("button",{onClick:()=>Fe(e.player2_scorecard_photo_url,e.player2_name),className:"flex items-center space-x-1 px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded hover:bg-blue-200 transition-colors",title:"".concat(e.player2_name,"'s scorecard"),children:[(0,Na.jsxs)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,Na.jsx)("span",{children:e.player2_name})]})]})]}),(0,Na.jsx)("div",{className:"flex space-x-2",children:(0,Na.jsx)("button",{onClick:()=>De(e),className:"px-3 py-1 bg-green-500 text-white text-sm rounded-lg hover:bg-green-600",children:"completed"===e.match_status?"Edit Match Play":"Enter Match Play"})})]},e.id))}):(0,Na.jsx)("p",{className:"text-gray-500 text-sm",children:"No matches created yet"})]},e.id)}):(0,Na.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,Na.jsx)(il,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),(0,Na.jsx)("p",{children:"No groups created yet"}),(0,Na.jsx)("p",{className:"text-sm",children:"Create groups and matches first to enter scores"})]})]}),"standings"===g&&(0,Na.jsxs)("div",{className:"space-y-6",children:[(0,Na.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Na.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Group Standings"}),(0,Na.jsxs)("button",{onClick:He,className:"flex items-center px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors",children:[(0,Na.jsx)(Fa,{className:"w-4 h-4 mr-2"}),"Determine Champions"]})]}),d&&d.length>0?d.map(e=>{const t=h&&h.length>0?h.filter(t=>t.club_group===e.group_name):[],r=e.user_ids&&e.user_ids.length>0?e.user_ids.map(e=>s.find(t=>t.user_member_id===e)).filter(Boolean):[];return(0,Na.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,Na.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:e.group_name}),(0,Na.jsx)("div",{className:"overflow-x-auto",children:(0,Na.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Na.jsx)("thead",{className:"bg-gray-50",children:(0,Na.jsxs)("tr",{children:[(0,Na.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player"}),(0,Na.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wins"}),(0,Na.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Losses"}),(0,Na.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ties"}),(0,Na.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Holes Won"}),(0,Na.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Holes Lost"}),(0,Na.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tiebreaker Points"})]})}),(0,Na.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(e=>{const r=t.filter(t=>t.player1_id===e.user_member_id||t.player2_id===e.user_member_id),s=r.filter(t=>t.winner_id===e.user_member_id).length,a=r.filter(t=>t.winner_id&&t.winner_id!==e.user_member_id).length,n=r.filter(e=>!e.winner_id&&"completed"===e.match_status).length,l=0;return(0,Na.jsxs)("tr",{children:[(0,Na.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[e.first_name," ",e.last_name]}),(0,Na.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s}),(0,Na.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a}),(0,Na.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:n}),(0,Na.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:0}),(0,Na.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:0}),(0,Na.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:l.toFixed(1)})]},e.user_member_id)})})]})})]},e.id)}):(0,Na.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,Na.jsx)(Je,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),(0,Na.jsx)("p",{children:"No groups created yet"}),(0,Na.jsx)("p",{className:"text-sm",children:"Create groups first to view standings"})]})]})]})]}),X&&q&&(0,Na.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Na.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,Na.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Enter Match Score"}),(0,Na.jsxs)("div",{className:"space-y-4",children:[(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:["Match ",q.match_number]}),(0,Na.jsxs)("p",{className:"font-medium",children:[q.player1_name," vs ",q.player2_name]})]}),(0,Na.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[q.player1_name," Score"]}),(0,Na.jsx)("input",{type:"number",min:"0",value:G,onChange:e=>$(parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[q.player2_name," Score"]}),(0,Na.jsx)("input",{type:"number",min:"0",value:Y,onChange:e=>Q(parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Winner (Optional)"}),(0,Na.jsxs)("select",{value:K||"",onChange:e=>J(e.target.value?parseInt(e.target.value):null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Na.jsx)("option",{value:"",children:"Auto-determine from scores"}),(0,Na.jsx)("option",{value:q.player1_id,children:q.player1_name}),(0,Na.jsx)("option",{value:q.player2_id,children:q.player2_name})]})]}),(0,Na.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Na.jsx)("button",{onClick:()=>{Z(!1),V(null),$(0),Q(0),J(null)},className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),(0,Na.jsx)("button",{onClick:async()=>{if(!q)return;let e=K;e||(G>Y?e=q.player1_id:Y>G&&(e=q.player2_id));try{await(async(e,r)=>{try{await ja.put("/tournaments/".concat(t,"/matches/").concat(e,"/result"),r),In.success("Match result updated successfully"),w(null),Me(),c()}catch(s){console.error("Error updating match result:",s),In.error("Failed to update match result")}})(q.id,{player1_score:G,player2_score:Y,winner_id:e||0}),Z(!1),V(null),$(0),Q(0),J(null)}catch(r){console.error("Error submitting score:",r),In.error("Failed to submit score")}},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Submit Score"})]})]})]})}),ve&&q&&(0,Na.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Na.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:[(0,Na.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Match Play Scoring"}),(0,Na.jsxs)("div",{className:"space-y-6",children:[(0,Na.jsxs)("div",{className:"text-center border-b pb-4",children:[(0,Na.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:["Match ",q.match_number]}),(0,Na.jsxs)("p",{className:"font-medium text-lg",children:[q.player1_name," vs ",q.player2_name]})]}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course"}),(0,Na.jsx)("div",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-800 font-medium",children:(null===Ne||void 0===Ne?void 0:Ne.courseName)||l||"No course selected"}),(0,Na.jsxs)("div",{className:"text-xs text-green-600 mt-1 font-medium",children:["\u2705 ",Ne?"Assigned course (".concat(Ne.platform.toUpperCase(),")"):"Tournament course automatically loaded"]}),Ne&&(0,Na.jsx)("div",{className:"text-xs text-blue-600 mt-1",children:Ne.reason})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Teebox"}),(0,Na.jsx)("input",{type:"text",value:he,onChange:e=>pe(e.target.value),placeholder:"e.g., Blue, White, Red",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]})]}),(0,Na.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[q.player1_name," Handicap"]}),(0,Na.jsx)("input",{type:"number",step:"0.1",value:ie,onChange:e=>ce(parseFloat(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[q.player2_name," Handicap"]}),(0,Na.jsx)("input",{type:"number",step:"0.1",value:de,onChange:e=>ue(parseFloat(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]})]}),0!==ie&&0!==de&&(0,Na.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,Na.jsx)("h4",{className:"text-sm font-semibold text-blue-800 mb-2",children:"Handicap Differential"}),(0,Na.jsxs)("div",{className:"text-sm text-blue-700",children:[(0,Na.jsxs)("p",{children:["Raw differential: ",Math.abs(ie-de).toFixed(1)," strokes"]}),(0,Na.jsxs)("p",{className:"font-medium",children:["Applied differential: ",Math.min(Math.abs(ie-de),8).toFixed(1)," strokes (max 8)"]}),(0,Na.jsx)("p",{className:"text-xs text-blue-600 mt-1",children:ie>de?"".concat(q.player1_name," gets strokes on the ").concat(Math.round(Math.min(Math.abs(ie-de),8))," hardest holes"):de>ie?"".concat(q.player2_name," gets strokes on the ").concat(Math.round(Math.min(Math.abs(ie-de),8))," hardest holes"):"No strokes given - handicaps are equal"}),(ie<0||de<0)&&(0,Na.jsx)("p",{className:"text-xs text-purple-600 mt-2 font-medium",children:"\ud83d\udca1 Negative handicaps (better than scratch) don't receive strokes - their opponents do"})]}),(0,Na.jsxs)("div",{className:"mt-3 p-2 bg-yellow-50 border border-yellow-200 rounded text-xs",children:[(0,Na.jsx)("p",{className:"font-semibold text-yellow-800",children:"Debug Info:"}),(0,Na.jsxs)("p",{children:["Player 1 (",q.player1_name,"): ",ie]}),(0,Na.jsxs)("p",{children:["Player 2 (",q.player2_name,"): ",de]}),(0,Na.jsxs)("p",{children:["Higher handicap: ",ie>de?q.player1_name:q.player2_name]}),(0,Na.jsxs)("p",{children:["Strokes to give: ",Math.round(Math.min(Math.abs(ie-de),8))]})]})]}),(0,Na.jsxs)("div",{className:"space-y-4",children:[(0,Na.jsx)("h5",{className:"text-md font-semibold",children:"Hole-by-Hole Scoring"}),(0,Na.jsx)("div",{className:"overflow-x-auto",children:(0,Na.jsxs)("table",{className:"w-full border-collapse border border-gray-300",children:[(0,Na.jsx)("thead",{children:(0,Na.jsxs)("tr",{className:"bg-gray-50",children:[(0,Na.jsx)("th",{className:"border border-gray-300 px-2 py-1 text-xs",children:"Hole"}),(0,Na.jsx)("th",{className:"border border-gray-300 px-2 py-1 text-xs",children:"Index"}),(0,Na.jsx)("th",{className:"border border-gray-300 px-2 py-1 text-xs",children:"Par"}),(0,Na.jsxs)("th",{className:"border border-gray-300 px-2 py-1 text-xs",children:[q.player1_name," Gross"]}),(0,Na.jsxs)("th",{className:"border border-gray-300 px-2 py-1 text-xs",children:[q.player1_name," Net"]}),(0,Na.jsxs)("th",{className:"border border-gray-300 px-2 py-1 text-xs",children:[q.player2_name," Gross"]}),(0,Na.jsxs)("th",{className:"border border-gray-300 px-2 py-1 text-xs",children:[q.player2_name," Net"]}),(0,Na.jsx)("th",{className:"border border-gray-300 px-2 py-1 text-xs",children:"Winner"})]})}),(0,Na.jsx)("tbody",{children:Array.from({length:18},(e,t)=>{const r=fe[t]||t+1,s=ge[t]||4,a=ee[t]||0,n=re[t]||0,l=ae[t]||(a>0?Ie(a,ie,r,de):0),o=le[t]||(n>0?Ie(n,de,r,ie):0),i=a>0&&n>0?l<o?"P1":o<l?"P2":"H":"",c=Math.abs(ie-de),d=Math.min(Math.round(c),8),u=ie>de&&d%18>=r,m=de>ie&&d%18>=r;return t<3&&console.log("Hole ".concat(t+1," stroke calculation:"),{holeIndex:r,player1Handicap:ie,player2Handicap:de,rawDifferential:c,handicapDifferential:d,p1GetsStrokes:u,p2GetsStrokes:m,condition:"".concat(d," % 18 >= ").concat(r," = ").concat(d%18>=r)}),(0,Na.jsxs)("tr",{className:"".concat(t%2===0?"bg-white":"bg-gray-50"," ").concat(u?"bg-green-50":""," ").concat(m?"bg-orange-50":""),children:[(0,Na.jsx)("td",{className:"border border-gray-300 px-2 py-1 text-center text-xs font-medium",children:(0,Na.jsxs)("div",{className:"flex items-center justify-center",children:[t+1,u&&(0,Na.jsx)("span",{className:"ml-1 text-xs bg-green-100 text-green-800 px-1 py-0.5 rounded",children:"P1"}),m&&(0,Na.jsx)("span",{className:"ml-1 text-xs bg-orange-100 text-orange-800 px-1 py-0.5 rounded",children:"P2"})]})}),(0,Na.jsx)("td",{className:"border border-gray-300 px-2 py-1 text-center text-xs",children:r}),(0,Na.jsx)("td",{className:"border border-gray-300 px-2 py-1 text-center text-xs",children:s}),(0,Na.jsx)("td",{className:"border border-gray-300 px-2 py-1",children:(0,Na.jsx)("input",{type:"number",min:"1",max:"15",value:a||"",onChange:e=>{const s=[...ee];s[t]=parseInt(e.target.value)||0,te(s);const a=[...ae];a[t]=s[t]>0?Ie(s[t],ie,r,de):0,ne(a)},className:"w-full px-1 py-1 text-xs border border-gray-300 rounded text-center"})}),(0,Na.jsx)("td",{className:"border border-gray-300 px-2 py-1 text-center text-xs bg-gray-100",children:l||""}),(0,Na.jsx)("td",{className:"border border-gray-300 px-2 py-1",children:(0,Na.jsx)("input",{type:"number",min:"1",max:"15",value:n||"",onChange:e=>{const s=[...re];s[t]=parseInt(e.target.value)||0,se(s);const a=[...le];a[t]=s[t]>0?Ie(s[t],de,r,ie):0,oe(a)},className:"w-full px-1 py-1 text-xs border border-gray-300 rounded text-center"})}),(0,Na.jsx)("td",{className:"border border-gray-300 px-2 py-1 text-center text-xs bg-gray-100",children:o||""}),(0,Na.jsx)("td",{className:"border border-gray-300 px-2 py-1 text-center text-xs font-medium",children:"P1"===i?"P1":"P2"===i?"P2":"H"===i?"H":""})]},t)})})]})})]}),(0,Na.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Na.jsx)("h5",{className:"text-md font-semibold mb-2",children:"Match Result"}),(0,Na.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsxs)("p",{children:[(0,Na.jsxs)("strong",{children:[q.player1_name,":"]})," ",Oe().player1HolesWon," holes won"]}),(0,Na.jsxs)("p",{children:[(0,Na.jsx)("strong",{children:"Net Holes:"})," ",Oe().player1NetHoles>0?"+":"",Oe().player1NetHoles]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsxs)("p",{children:[(0,Na.jsxs)("strong",{children:[q.player2_name,":"]})," ",Oe().player2HolesWon," holes won"]}),(0,Na.jsxs)("p",{children:[(0,Na.jsx)("strong",{children:"Net Holes:"})," ",Oe().player2NetHoles>0?"+":"",Oe().player2NetHoles]})]})]}),(0,Na.jsx)("div",{className:"mt-2 text-center",children:(0,Na.jsx)("p",{className:"font-semibold",children:Oe().winner?"Winner: ".concat(Oe().winner===q.player1_id?q.player1_name:q.player2_name):"Match Tied"})})]}),(0,Na.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Na.jsx)("button",{onClick:()=>{je(!1),V(null),te(new Array(18).fill(0)),se(new Array(18).fill(0)),ce(0),ue(0),xe(null),pe(""),be([])},className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),(0,Na.jsx)("button",{onClick:async()=>{if(!q||!me)return void In.error("Please select a course");const e=Oe();try{await ja.put("/tournaments/".concat(t,"/championship-matches/").concat(q.id,"/result"),{player1_hole_scores:JSON.stringify(ee),player2_hole_scores:JSON.stringify(re),player1_net_hole_scores:JSON.stringify(ae),player2_net_hole_scores:JSON.stringify(le),player1_holes_won:e.player1HolesWon,player2_holes_won:e.player2HolesWon,player1_holes_lost:e.player1HolesLost,player2_holes_lost:e.player2HolesLost,player1_net_holes:e.player1NetHoles,player2_net_holes:e.player2NetHoles,winner_id:e.winner,course_id:me,teebox:he,match_status:"completed"});In.success("Match play score submitted successfully"),je(!1),V(null),te(new Array(18).fill(0)),se(new Array(18).fill(0)),ce(0),ue(0),xe(null),pe(""),be([1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18]),Me(),c()}catch(r){console.error("Error submitting match play score:",r),In.error("Failed to submit match play score")}},className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600",children:"Submit Match Play Score"})]})]})]})}),S&&(0,Na.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Na.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,Na.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Create New Match"}),(0,Na.jsxs)("div",{className:"space-y-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Group"}),(0,Na.jsxs)("select",{value:I||"",onChange:e=>O(parseInt(e.target.value)||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Na.jsx)("option",{value:"",children:"Select a group"}),d.map(e=>(0,Na.jsx)("option",{value:e.id,children:e.group_name},e.id))]})]}),I&&(0,Na.jsxs)(Na.Fragment,{children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Player 1"}),(0,Na.jsxs)("select",{value:F||"",onChange:e=>z(parseInt(e.target.value)||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Na.jsx)("option",{value:"",children:"Select Player 1"}),(e=>{const t=d.find(e=>e.id===I);return null===t||void 0===t||null===(e=t.user_ids)||void 0===e?void 0:e.map(e=>{const t=s.find(t=>t.user_member_id===e);return t?(0,Na.jsxs)("option",{value:e,children:[t.first_name," ",t.last_name]},e):null}).filter(Boolean)})()]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Player 2"}),(0,Na.jsxs)("select",{value:U||"",onChange:e=>H(parseInt(e.target.value)||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Na.jsx)("option",{value:"",children:"Select Player 2"}),(e=>{const t=d.find(e=>e.id===I);return null===t||void 0===t||null===(e=t.user_ids)||void 0===e?void 0:e.map(e=>{const t=s.find(t=>t.user_member_id===e);return t?(0,Na.jsxs)("option",{value:e,children:[t.first_name," ",t.last_name]},e):null}).filter(Boolean)})()]})]})]}),(0,Na.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Na.jsx)("button",{onClick:()=>{C(!1),O(null),z(null),H(null)},className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),(0,Na.jsx)("button",{onClick:async()=>{if(I&&F&&U)if(F!==U)try{await ja.post("/tournaments/".concat(t,"/create-match"),{groupId:I,player1Id:F,player2Id:U});In.success("Match created successfully"),C(!1),O(null),z(null),H(null),Me(),c()}catch(e){console.error("Error creating match:",e),In.error("Failed to create match")}else In.error("Players must be different");else In.error("Please select a group and both players")},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Create Match"})]})]})]})}),B&&N&&(0,Na.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Na.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,Na.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Edit Match"}),(0,Na.jsxs)("div",{className:"space-y-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Player 1"}),(0,Na.jsxs)("select",{value:F||"",onChange:e=>z(parseInt(e.target.value)||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Na.jsx)("option",{value:"",children:"Select Player 1"}),(e=>{const t=d.find(e=>e.group_name===N.club_group);return null===t||void 0===t||null===(e=t.user_ids)||void 0===e?void 0:e.map(e=>{const t=s.find(t=>t.user_member_id===e);return t?(0,Na.jsxs)("option",{value:e,children:[t.first_name," ",t.last_name]},e):null}).filter(Boolean)})()]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Player 2"}),(0,Na.jsxs)("select",{value:U||"",onChange:e=>H(parseInt(e.target.value)||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Na.jsx)("option",{value:"",children:"Select Player 2"}),(e=>{const t=d.find(e=>e.group_name===N.club_group);return null===t||void 0===t||null===(e=t.user_ids)||void 0===e?void 0:e.map(e=>{const t=s.find(t=>t.user_member_id===e);return t?(0,Na.jsxs)("option",{value:e,children:[t.first_name," ",t.last_name]},e):null}).filter(Boolean)})()]})]}),(0,Na.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Na.jsx)("button",{onClick:()=>{W(!1),w(null),z(null),H(null)},className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),(0,Na.jsx)("button",{onClick:async()=>{if(N&&F&&U)try{await ja.put("/tournaments/".concat(t,"/championship-matches/").concat(N.id),{player1Id:F,player2Id:U});In.success("Match updated successfully"),W(!1),w(null),z(null),H(null),Me(),c()}catch(e){console.error("Error updating match:",e),In.error("Failed to update match")}else In.error("Please select both players")},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Update Match"})]})]})]})}),_e&&(0,Na.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Na.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl max-h-[90vh] w-full overflow-hidden",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,Na.jsxs)("h3",{className:"text-lg font-semibold",children:[Ee,"'s Scorecard"]}),(0,Na.jsx)("button",{onClick:ze,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Na.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Na.jsx)("div",{className:"p-4 overflow-y-auto max-h-[80vh]",children:(0,Na.jsx)("img",{src:Se,alt:"".concat(Ee,"'s scorecard"),className:"w-full h-auto rounded-lg border border-gray-200"})}),(0,Na.jsxs)("div",{className:"flex justify-end p-4 border-t bg-gray-50",children:[(0,Na.jsx)("button",{onClick:()=>window.open(Se,"_blank"),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Open in New Tab"}),(0,Na.jsx)("button",{onClick:ze,className:"ml-2 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Close"})]})]})})]})},Ml=()=>{const{user:e}=ka(),[t,r]=(0,n.useState)([]),[s,a]=(0,n.useState)(null),[l,o]=(0,n.useState)([]),[i,c]=(0,n.useState)([]),[d,u]=(0,n.useState)([]),[m,x]=(0,n.useState)([]),[h,p]=(0,n.useState)([]),[f,b]=(0,n.useState)([]),[g,y]=(0,n.useState)(!0),[v,j]=(0,n.useState)("registration"),[N,w]=(0,n.useState)(!1),[_,k]=(0,n.useState)(null),[S,C]=(0,n.useState)(!1),[E,T]=(0,n.useState)(null),[P,L]=(0,n.useState)({player1Holes:["","",""],player2Holes:["","",""],player1Total:"",player2Total:"",winner:null}),[R,M]=(0,n.useState)(!1),[A,D]=(0,n.useState)(null),[I,O]=(0,n.useState)(""),[F,z]=(0,n.useState)(""),U=e=>"match_play"===e||"par3_match_play"===e,H=e=>"scramble"===e||"best_ball"===e,B=e=>{const t={format:e.tournament_format,teamSize:e.team_size||4,holeConfiguration:e.hole_configuration||"18",tee:e.tee||"Red",pins:e.pins||"Friday",puttingGimme:e.putting_gimme||"8",elevation:e.elevation||"Course",stimp:e.stimp||"11",mulligan:e.mulligan||"No",gamePlay:e.game_play||"Force Realistic",firmness:e.firmness||"Normal",wind:e.wind||"None",handicapEnabled:e.handicap_enabled||!1};switch(e.tournament_format){case"scramble":t.requiresCaptain=!0,t.scoringMethod="team_total",t.description="Scramble format - teams of 4 players. All players hit, best shot is selected. Team captain submits final score.";break;case"best_ball":t.requiresCaptain=!1,t.scoringMethod="best_ball",t.description="Best ball format - teams of 2 players. Each player plays their own ball, best score on each hole counts.";break;case"match_play":t.requiresMatches=!0,t.matchFormat="head_to_head",t.description="Match play format - head-to-head competition. Win holes to win matches.";break;case"par3_match_play":t.requiresMatches=!0,t.matchFormat="group_play",t.description="3-hole match play format - 4-player groups. Each player plays 3 matches against their group members.";break;case"stroke_play":t.requiresMatches=!1,t.scoringMethod="individual_total",t.description="Stroke play format - individual competition. Lowest total score wins.";break;case"stableford":t.requiresMatches=!1,t.scoringMethod="stableford_points",t.description="Stableford format - points-based scoring. Points awarded based on score relative to par.";break;default:t.description="Custom tournament format."}return t},W=(e,t)=>{const r=(e=>{const t=["registration"];return t.push("checkin"),H(e)&&t.push("teams"),U(e)&&t.push("matches"),t.push("scoring"),t.push("leaderboard"),t})(t);return r.includes(e)?e:r[0]},q="Andrew"===(null===e||void 0===e?void 0:e.first_name)&&"George"===(null===e||void 0===e?void 0:e.last_name);(0,n.useEffect)(()=>{(async()=>{try{const e=await Gs();r(e.data)}catch(e){console.error("Error fetching tournaments:",e),In.error("Failed to load tournaments")}finally{y(!1)}})()},[]),(0,n.useEffect)(()=>{if(s){(async()=>{try{const[t,r,a,n]=await Promise.all([Js(s.id),la(s.id),ea(s.id),Bs(s.id)]);if(o(t.data),c(r.data),u(a.data),p(n.data||[]),"scramble"===s.tournament_format)try{const e=(await ca(s.id)).data.map(e=>({id:e.id.toString(),name:e.name,captain:{user_member_id:e.captain_id,first_name:e.captain_first_name,last_name:e.captain_last_name,club:e.captain_club,email:""},players:e.players||[],maxPlayers:4}));x(e)}catch(e){console.error("Error loading teams:",e)}}catch(t){console.error("Error loading tournament data:",t),In.error("Failed to load tournament data")}})();const e=W(v,s.tournament_format||"match_play");e!==v&&j(e)}},[s]),(0,n.useEffect)(()=>{if(t.length>0&&!s){const e=window.location.hash;if(e.startsWith("#/tournament-management")){const r=new URLSearchParams(e.split("?")[1]||"").get("tournament");if(r){const e=parseInt(r),s=t.find(t=>t.id===e);s&&a(s)}}}},[t]);const V=e=>{a(e),window.location.hash="/tournament-management?tournament=".concat(e.id),"club_championship"===e.type||"national_championship"===e.type?j("championship"):j("registration")},G=()=>{s&&la(s.id).then(e=>c(e.data)),s&&"scramble"===s.tournament_format&&ca(s.id).then(e=>{const t=e.data.map(e=>({id:e.id.toString(),name:e.name,captain:{user_member_id:e.captain_id,first_name:e.captain_first_name,last_name:e.captain_last_name,club:e.captain_club,email:""},players:e.players||[],maxPlayers:4}));x(t)}).catch(e=>{console.error("Error refreshing teams after score submission:",e)})},$=async()=>{if(s){M(!0),D(null);try{const e=await((e,t)=>{const r=t?"?override_week=".concat(t):"";return Rs.post("/tournaments/".concat(e,"/calculate-matches").concat(r))})(s.id,I||void 0);D({type:"success",message:e.data.message||"Matches calculated successfully!"}),In.success("Matches calculated successfully!"),la(s.id).then(e=>c(e.data))}catch(r){var e,t;const s=(null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to calculate matches";D({type:"error",message:s}),In.error(s)}finally{M(!1)}}},Y=async()=>{if(s){M(!0),D(null);try{const e=await((e,t)=>{const r=t?"?override_week=".concat(t):"";return Rs.post("/tournaments/".concat(e,"/update-leaderboard").concat(r))})(s.id,I||void 0);D({type:"success",message:e.data.message||"Leaderboard updated successfully!"}),In.success("Leaderboard updated successfully!")}catch(r){var e,t;const s=(null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to update leaderboard";D({type:"error",message:s}),In.error(s)}finally{M(!1)}}},Q=async()=>{if(s&&window.confirm("Are you sure you want to cleanup duplicate matches? This action cannot be undone.")){M(!0),D(null);try{const e=await(r=s.id,Rs.post("/tournaments/".concat(r,"/cleanup-duplicates")));D({type:"success",message:e.data.message||"Duplicate matches cleaned up successfully!"}),In.success("Duplicate matches cleaned up successfully!"),la(s.id).then(e=>c(e.data))}catch(a){var e,t;const r=(null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to cleanup duplicate matches";D({type:"error",message:r}),In.error(r)}finally{M(!1)}var r}},K=async()=>{if(s&&window.confirm("Are you sure you want to fix the tournament week start date? This will update the tournament configuration.")){M(!0),D(null);try{const e=await(r=s.id,Rs.post("/tournaments/".concat(r,"/fix-week-date")));D({type:"success",message:e.data.message||"Tournament week date fixed successfully!"}),In.success("Tournament week date fixed successfully!");const t=Ue(Ue({},s),{},{week_start_date:e.data.current});a(t)}catch(n){var e,t;const r=(null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to fix tournament week date";D({type:"error",message:r}),In.error(r)}finally{M(!1)}var r}},J=async()=>{w(!1),k(null);const e=await Gs();r(e.data)},X=(e,t,r)=>{const s=Ue({},P);if("player1"===t){s.player1Holes[e]=r;const t=s.player1Holes.reduce((e,t)=>e+(parseInt(t)||0),0);s.player1Total=t.toString()}else{s.player2Holes[e]=r;const t=s.player2Holes.reduce((e,t)=>e+(parseInt(t)||0),0);s.player2Total=t.toString()}L(s)};return g?(0,Na.jsx)("div",{className:"flex items-center justify-center min-h-64",children:(0,Na.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-neon-green"})}):(0,Na.jsxs)("div",{className:"space-y-8",children:[(0,Na.jsx)("div",{className:"bg-white/95 rounded-2xl shadow-lg",children:(0,Na.jsx)("div",{className:"p-6",children:(0,Na.jsx)("div",{className:"space-y-6",children:(0,Na.jsxs)("div",{className:"space-y-6",children:[!s&&(0,Na.jsxs)("div",{className:"space-y-4",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsx)("h4",{className:"text-lg font-semibold text-brand-black",children:"All Tournaments"}),(0,Na.jsxs)("button",{onClick:()=>w(!0),className:"flex items-center justify-center w-10 h-10 sm:w-auto sm:h-auto sm:px-4 sm:py-2 bg-brand-neon-green text-brand-black rounded-full sm:rounded-lg font-medium hover:bg-green-400 transition-colors text-sm sm:text-base",children:[(0,Na.jsx)(sn,{className:"w-5 h-5 sm:w-4 sm:h-4 sm:mr-2"}),(0,Na.jsx)("span",{className:"hidden sm:inline",children:"Create Tournament"})]})]}),(0,Na.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(e=>(0,Na.jsxs)("div",{className:"p-4 bg-white border border-neutral-200 rounded-lg hover:border-brand-neon-green hover:shadow-md transition-all group",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Na.jsx)("h5",{className:"font-medium text-brand-black group-hover:text-brand-neon-green transition-colors cursor-pointer",onClick:()=>V(e),children:e.name}),(0,Na.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Na.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("active"===e.status?"bg-green-100 text-green-800":"open"===e.status?"bg-blue-100 text-blue-800":"completed"===e.status?"bg-gray-100 text-gray-800":"cancelled"===e.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:e.status||"draft"}),(0,Na.jsx)("button",{onClick:t=>{t.stopPropagation(),(e=>{k(e)})(e)},className:"p-1 text-neutral-400 hover:text-blue-600 transition-colors",title:"Edit tournament",children:(0,Na.jsx)(pl,{className:"w-4 h-4"})}),(0,Na.jsx)("button",{onClick:t=>{t.stopPropagation(),(async e=>{if(window.confirm("Are you sure you want to delete this tournament?"))try{await Ks(e);const t=await Gs();r(t.data),In.success("Tournament deleted successfully!"),s&&s.id===e&&a(null)}catch(t){In.error("Error deleting tournament.")}})(e.id)},className:"p-1 text-neutral-400 hover:text-red-600 transition-colors",title:"Delete tournament",children:(0,Na.jsx)(fl,{className:"w-4 h-4"})})]})]}),(0,Na.jsxs)("div",{className:"text-sm text-neutral-600 mb-2 cursor-pointer",onClick:()=>V(e),children:[e.tournament_format||"match_play"," \u2022 ",e.type||"tournament"]}),e.start_date&&(0,Na.jsx)("div",{className:"text-xs text-neutral-500 cursor-pointer",onClick:()=>V(e),children:new Date(e.start_date).toLocaleDateString()})]},e.id))}),0===t.length&&(0,Na.jsxs)("div",{className:"text-center py-8 text-neutral-600",children:[(0,Na.jsx)(Je,{className:"w-12 h-12 mx-auto mb-2 text-neutral-400"}),(0,Na.jsx)("p",{children:"No tournaments found."}),(0,Na.jsx)("p",{className:"text-sm",children:"Create your first tournament to get started."})]})]}),s&&(0,Na.jsxs)("div",{className:"space-y-6",children:[(0,Na.jsxs)("div",{className:"bg-white rounded-xl border border-neutral-200 p-6",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Na.jsxs)("button",{onClick:()=>{a(null),window.location.hash="/tournament-management"},className:"flex items-center px-3 py-1 text-neutral-600 hover:text-neutral-800 transition-colors",children:[(0,Na.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to List"]}),(0,Na.jsx)("div",{children:(0,Na.jsx)("h3",{className:"text-2xl font-bold text-brand-black",children:s.name})})]}),(0,Na.jsx)("div",{className:"text-right",children:(0,Na.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat("active"===s.status?"bg-green-100 text-green-800":"open"===s.status?"bg-blue-100 text-blue-800":"completed"===s.status?"bg-gray-100 text-gray-800":"cancelled"===s.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:s.status||"draft"})})]}),("admin"===(null===e||void 0===e?void 0:e.role)||q)&&(0,Na.jsxs)("div",{className:"mb-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[(0,Na.jsxs)("h4",{className:"text-lg font-semibold text-yellow-800 mb-3 flex items-center",children:[(0,Na.jsxs)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Admin Controls"]}),("par3_match_play"===s.tournament_format||"weekly"===s.tournament_format)&&(0,Na.jsxs)("div",{className:"mb-3",children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-yellow-800 mb-1",children:"Week Override (YYYY-MM-DD, optional):"}),(0,Na.jsxs)("div",{className:"flex space-x-2",children:[(0,Na.jsx)("input",{type:"date",value:I||"",onChange:e=>O(e.target.value),className:"flex-1 px-3 py-2 border border-yellow-300 rounded-md text-sm focus:ring-2 focus:ring-yellow-500 focus:border-transparent",placeholder:"Leave empty for current week"}),I&&(0,Na.jsx)("button",{onClick:()=>O(""),className:"px-3 py-2 bg-yellow-600 text-white text-sm rounded hover:bg-yellow-700 transition-colors",title:"Clear week override",children:"Clear"})]}),(0,Na.jsx)("p",{className:"text-xs text-yellow-700 mt-1",children:"Use this to force calculations for a specific week"}),I&&(0,Na.jsxs)("div",{className:"mt-2 p-2 bg-yellow-100 border border-yellow-300 rounded text-xs text-yellow-800",children:[(0,Na.jsx)("strong",{children:"Active Override:"})," Will calculate for week starting ",I]})]}),(0,Na.jsxs)("div",{className:"mb-3",children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-yellow-800 mb-1",children:"Scorecard Editor Week (YYYY-MM-DD, optional):"}),(0,Na.jsxs)("div",{className:"flex space-x-2",children:[(0,Na.jsx)("input",{type:"date",value:F||"",onChange:e=>z(e.target.value),className:"flex-1 px-3 py-2 border border-yellow-300 rounded-md text-sm focus:ring-2 focus:ring-yellow-500 focus:border-transparent",placeholder:"Leave empty for current week"}),F&&(0,Na.jsx)("button",{onClick:()=>z(""),className:"px-3 py-2 bg-yellow-600 text-white text-sm rounded hover:bg-yellow-700 transition-colors",title:"Clear scorecard week",children:"Clear"})]}),(0,Na.jsx)("p",{className:"text-xs text-yellow-700 mt-1",children:"Use this to view and edit scorecards from a specific week"}),F&&(0,Na.jsxs)("div",{className:"mt-2 p-2 bg-yellow-100 border border-yellow-300 rounded text-xs text-yellow-800",children:[(0,Na.jsx)("strong",{children:"Active Week:"})," Will show scorecards from week starting ",F]})]}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[("par3_match_play"===s.tournament_format||"weekly"===s.tournament_format)&&(0,Na.jsxs)("button",{onClick:()=>$(),disabled:R,className:"px-3 py-2 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",title:"Force recalculation of all matches for this tournament",children:[(0,Na.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Force Calculate Matches"]}),(0,Na.jsxs)("button",{onClick:()=>Y(),disabled:R,className:"px-3 py-2 bg-green-600 text-white text-sm rounded hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",title:"Force update of the tournament leaderboard",children:[(0,Na.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Force Update Leaderboard"]}),("par3_match_play"===s.tournament_format||"weekly"===s.tournament_format)&&(0,Na.jsxs)("button",{onClick:()=>Q(),disabled:R,className:"px-3 py-2 bg-orange-600 text-white text-sm rounded hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",title:"Remove duplicate matches that may have been created",children:[(0,Na.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Cleanup Duplicates"]}),("par3_match_play"===s.tournament_format||"weekly"===s.tournament_format)&&(0,Na.jsxs)("button",{onClick:()=>K(),disabled:R,className:"px-3 py-2 bg-purple-600 text-white text-sm rounded hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",title:"Fix incorrect tournament week start date",children:[(0,Na.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Fix Week Date"]})]}),A&&(0,Na.jsx)("div",{className:"mt-3 p-2 rounded text-sm ".concat("success"===A.type?"bg-green-100 text-green-800":"error"===A.type?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"),children:A.message})]}),(0,Na.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 border border-blue-200 rounded-xl p-4",children:[(0,Na.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,Na.jsx)("div",{children:(0,Na.jsx)("h4",{className:"text-lg font-semibold text-brand-black",children:"Simulator Settings"})})}),(0,Na.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3 text-sm",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("span",{className:"text-neutral-600",children:"Holes:"}),(0,Na.jsx)("span",{className:"ml-1 font-medium",children:B(s).holeConfiguration})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("span",{className:"text-neutral-600",children:"Tee:"}),(0,Na.jsx)("span",{className:"ml-1 font-medium",children:B(s).tee})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("span",{className:"text-neutral-600",children:"Pins:"}),(0,Na.jsx)("span",{className:"ml-1 font-medium",children:B(s).pins})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("span",{className:"text-neutral-600",children:"Gimme:"}),(0,Na.jsxs)("span",{className:"ml-1 font-medium",children:[B(s).puttingGimme,"'"]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("span",{className:"text-neutral-600",children:"Elevation:"}),(0,Na.jsx)("span",{className:"ml-1 font-medium",children:B(s).elevation})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("span",{className:"text-neutral-600",children:"Stimp:"}),(0,Na.jsx)("span",{className:"ml-1 font-medium",children:B(s).stimp})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("span",{className:"text-neutral-600",children:"Mulligan:"}),(0,Na.jsx)("span",{className:"ml-1 font-medium",children:B(s).mulligan})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("span",{className:"text-neutral-600",children:"Game Play:"}),(0,Na.jsx)("span",{className:"ml-1 font-medium",children:B(s).gamePlay})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("span",{className:"text-neutral-600",children:"Firmness:"}),(0,Na.jsx)("span",{className:"ml-1 font-medium",children:B(s).firmness})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("span",{className:"text-neutral-600",children:"Wind:"}),(0,Na.jsx)("span",{className:"ml-1 font-medium",children:B(s).wind})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("span",{className:"text-neutral-600",children:"Handicap:"}),(0,Na.jsx)("span",{className:"ml-1 font-medium",children:B(s).handicapEnabled?"Enabled":"Disabled"})]})]})]})]}),(0,Na.jsxs)("div",{className:"bg-white rounded-xl border border-neutral-200",children:[(0,Na.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4 border-b border-neutral-200 p-6 pb-0",children:[(0,Na.jsxs)("button",{className:"py-2 px-4 font-medium ".concat("registration"===v?"border-b-2 border-brand-neon-green text-brand-black":"text-neutral-600 hover:text-brand-black"),onClick:()=>j("registration"),children:[(0,Na.jsx)(Ze,{className:"w-4 h-4 mr-2 inline"}),"Registration"]}),(s.tournament_format,(0,Na.jsxs)("button",{className:"py-2 px-4 font-medium ".concat("checkin"===v?"border-b-2 border-brand-neon-green text-brand-black":"text-neutral-600 hover:text-brand-black"),onClick:()=>j("checkin"),children:[(0,Na.jsx)(Ze,{className:"w-4 h-4 mr-2 inline"}),"Players"]})),H(s.tournament_format||"match_play")&&(0,Na.jsxs)("button",{className:"py-2 px-4 font-medium ".concat("teams"===v?"border-b-2 border-brand-neon-green text-brand-black":"text-neutral-600 hover:text-brand-black"),onClick:()=>j("teams"),children:[(0,Na.jsx)(Ze,{className:"w-4 h-4 mr-2 inline"}),"Teams"]}),U(s.tournament_format||"match_play")&&!("club_championship"===s.type||"national_championship"===s.type)&&(0,Na.jsxs)("button",{className:"py-2 px-4 font-medium ".concat("matches"===v?"border-b-2 border-brand-neon-green text-brand-black":"text-neutral-600 hover:text-brand-black"),onClick:()=>j("matches"),children:[(0,Na.jsx)(Je,{className:"w-4 h-4 mr-2 inline"}),"Matches"]}),!("club_championship"===s.type||"national_championship"===s.type)&&(0,Na.jsxs)("button",{className:"py-2 px-4 font-medium ".concat("scoring"===v?"border-b-2 border-brand-neon-green text-brand-black":"text-neutral-600 hover:text-brand-black"),onClick:()=>j("scoring"),children:[(0,Na.jsx)(Ea,{className:"w-4 h-4 mr-2 inline"}),"Scoring"]}),!("club_championship"===s.type||"national_championship"===s.type)&&(0,Na.jsxs)("button",{className:"py-2 px-4 font-medium ".concat("leaderboard"===v?"border-b-2 border-brand-neon-green text-brand-black":"text-neutral-600 hover:text-brand-black"),onClick:()=>j("leaderboard"),children:[(0,Na.jsx)(Je,{className:"w-4 h-4 mr-2 inline"}),"Leaderboard"]}),("club_championship"===s.type||"national_championship"===s.type)&&(0,Na.jsxs)("button",{className:"py-2 px-4 font-medium ".concat("championship"===v?"border-b-2 border-brand-neon-green text-brand-black":"text-neutral-600 hover:text-brand-black"),onClick:()=>j("championship"),children:[(0,Na.jsx)(Oa,{className:"w-4 h-4 mr-2 inline"}),"Championship Management"]})]}),(0,Na.jsxs)("div",{className:"p-6",children:["registration"===v&&(0,Na.jsx)(yl,{tournamentId:s.id,tournamentParticipants:l,onUserRegistered:()=>{s&&Js(s.id).then(e=>{console.log("Participants updated:",e.data),o(e.data)})},onUserUnregistered:()=>{s&&Js(s.id).then(e=>o(e.data))},clubRestriction:s.club_restriction,isSuperAdmin:q,currentUserClub:null===e||void 0===e?void 0:e.club}),"teams"===v&&H(s.tournament_format||"match_play")&&(0,Na.jsx)(Nl,{tournamentId:s.id,tournamentParticipants:l,onTeamsCreated:()=>{s&&"scramble"===s.tournament_format&&ca(s.id).then(e=>{const t=e.data.map(e=>({id:e.id.toString(),name:e.name,captain:{user_member_id:e.captain_id,first_name:e.captain_first_name,last_name:e.captain_last_name,club:e.captain_club,email:""},players:e.players||[],maxPlayers:4}));x(t)}).catch(e=>{console.error("Error refreshing teams:",e)})},tournamentFormat:s.tournament_format,tournamentSettings:B(s)}),"checkin"===v&&(s.tournament_format,!0)&&(0,Na.jsx)(Sl,{participants:l,checkIns:d,scores:h,payouts:f,tournamentId:s.id,onCheckIn:async e=>{try{await Promise.all(e.map(e=>ta(s.id,e))),In.success("Successfully marked ".concat(e.length," user(s) as paid")),s&&ea(s.id).then(e=>u(e.data))}catch(t){console.error("Error marking users as paid:",t),In.error("Failed to mark users as paid")}},onCheckOut:async e=>{try{await ra(s.id,e),In.success("User marked as unpaid successfully"),s&&ea(s.id).then(e=>u(e.data))}catch(t){console.error("Error marking user as unpaid:",t),In.error("Failed to mark user as unpaid")}},onUnregister:async e=>{if(window.confirm("Are you sure you want to unregister this user from the tournament?"))try{await Zs(s.id,e),In.success("User unregistered successfully"),s&&Js(s.id).then(e=>o(e.data))}catch(t){console.error("Error unregistering user:",t),In.error("Failed to unregister user")}}}),"matches"===v&&U(s.tournament_format||"match_play")&&!("club_championship"===s.type||"national_championship"===s.type)&&(0,Na.jsx)(vl,{tournamentId:s.id,tournamentMatches:i,tournamentParticipants:l,tournamentCheckIns:d,onMatchesGenerated:()=>{s&&la(s.id).then(e=>c(e.data))},onMatchUpdated:()=>{s&&la(s.id).then(e=>c(e.data))}}),"scoring"===v&&!("club_championship"===s.type||"national_championship"===s.type)&&(0,Na.jsxs)("div",{className:"space-y-6",children:["match_play"===s.tournament_format&&"3"===s.hole_configuration&&(0,Na.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-neutral-200",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsx)(Ca,{className:"w-6 h-6 text-brand-neon-green"}),(0,Na.jsx)("h4",{className:"text-xl font-semibold text-brand-black",children:"3-Hole Matchplay Scoring"})]}),(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsxs)("span",{className:"text-sm text-neutral-600",children:[i.filter(e=>"completed"===e.status).length," completed"]}),(0,Na.jsxs)("span",{className:"text-sm text-neutral-600",children:["/ ",i.length," total"]})]})]}),(0,Na.jsxs)("div",{className:"mb-6",children:[(0,Na.jsxs)("div",{className:"flex justify-between text-sm text-neutral-600 mb-2",children:[(0,Na.jsx)("span",{children:"Match Completion Progress"}),(0,Na.jsxs)("span",{children:[i.length>0?Math.round(i.filter(e=>"completed"===e.status).length/i.length*100):0,"%"]})]}),(0,Na.jsx)("div",{className:"w-full bg-neutral-200 rounded-full h-3",children:(0,Na.jsx)("div",{className:"h-3 rounded-full transition-all duration-300",style:{width:"".concat(i.length>0?i.filter(e=>"completed"===e.status).length/i.length*100:0,"%"),background:"#22c55e"}})})]}),i.filter(e=>"pending"===e.status).length>0&&(0,Na.jsxs)("div",{className:"mb-6",children:[(0,Na.jsx)("h5",{className:"text-lg font-semibold text-brand-black mb-4",children:"Pending Matches"}),(0,Na.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.filter(e=>"pending"===e.status).map(e=>(0,Na.jsxs)("div",{className:"p-4 border border-neutral-200 rounded-lg hover:border-brand-neon-green transition-colors cursor-pointer bg-gradient-to-r from-blue-50 to-green-50",onClick:()=>(e=>{T(e),L({player1Holes:["","",""],player2Holes:["","",""],player1Total:"",player2Total:"",winner:null}),C(!0)})(e),children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Na.jsxs)("span",{className:"text-sm font-medium text-neutral-600",children:["Match #",e.match_number]}),(0,Na.jsx)("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full",children:"Pending"})]}),(0,Na.jsxs)("div",{className:"space-y-2",children:[(0,Na.jsxs)("div",{className:"text-sm",children:[(0,Na.jsxs)("span",{className:"font-medium",children:[e.player1_first_name," ",e.player1_last_name]}),(0,Na.jsx)("span",{className:"text-neutral-500 ml-2",children:"vs"})]}),(0,Na.jsx)("div",{className:"text-sm",children:(0,Na.jsxs)("span",{className:"font-medium",children:[e.player2_first_name," ",e.player2_last_name]})})]}),(0,Na.jsx)("div",{className:"mt-3",children:(0,Na.jsx)("button",{className:"w-full px-3 py-2 bg-brand-neon-green text-brand-black text-sm rounded hover:bg-green-400 transition-colors",children:"Enter Scores"})})]},e.id))})]}),i.filter(e=>"completed"===e.status).length>0&&(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h5",{className:"text-lg font-semibold text-brand-black mb-4",children:"Completed Matches"}),(0,Na.jsx)("div",{className:"overflow-x-auto",children:(0,Na.jsxs)("table",{className:"w-full border-collapse border border-neutral-300 rounded-lg",children:[(0,Na.jsx)("thead",{className:"bg-neutral-50",children:(0,Na.jsxs)("tr",{children:[(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Match #"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Player 1"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Player 2"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Winner"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Status"})]})}),(0,Na.jsx)("tbody",{children:i.filter(e=>"completed"===e.status).map(e=>(0,Na.jsxs)("tr",{className:"hover:bg-neutral-50",children:[(0,Na.jsxs)("td",{className:"border border-neutral-300 px-4 py-3 font-medium",children:["#",e.match_number]}),(0,Na.jsxs)("td",{className:"border border-neutral-300 px-4 py-3",children:[(0,Na.jsxs)("div",{className:"font-medium",children:[e.player1_first_name," ",e.player1_last_name]}),(0,Na.jsx)("div",{className:"text-sm text-neutral-600",children:e.player1_club})]}),(0,Na.jsxs)("td",{className:"border border-neutral-300 px-4 py-3",children:[(0,Na.jsxs)("div",{className:"font-medium",children:[e.player2_first_name," ",e.player2_last_name]}),(0,Na.jsx)("div",{className:"text-sm text-neutral-600",children:e.player2_club})]}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-4 py-3",children:e.winner_first_name?(0,Na.jsxs)("div",{className:"font-medium text-green-600",children:[e.winner_first_name," ",e.winner_last_name]}):(0,Na.jsx)("span",{className:"text-neutral-500",children:"Not available"})}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-4 py-3",children:(0,Na.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(0,Na.jsx)(Oa,{className:"w-3 h-3 inline mr-1"}),"Completed"]})})]},e.id))})]})})]}),0===i.length&&(0,Na.jsxs)("div",{className:"text-center py-8",children:[(0,Na.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-neutral-100 rounded-full flex items-center justify-center",children:(0,Na.jsx)(Je,{className:"w-8 h-8 text-neutral-400"})}),(0,Na.jsx)("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"No matches available"}),(0,Na.jsx)("p",{className:"text-neutral-600 mb-4",children:"Generate matches first to submit scores."})]})]}),"stroke_play"===s.tournament_format&&(0,Na.jsx)(Jn,{tournamentId:s.id,tournamentFormat:s.tournament_format,tournamentSettings:B(s),onScoreSubmitted:G,courseId:s.course_id}),"stroke_play"===s.tournament_format&&("admin"===(null===e||void 0===e?void 0:e.role)||q)&&(0,Na.jsx)("div",{className:"mt-8",children:(0,Na.jsx)("div",{className:"border-t border-neutral-200 pt-6",children:(0,Na.jsx)(Tl,{tournamentId:s.id,tournamentName:s.name,onScorecardUpdated:G})})}),"par3_match_play"===s.tournament_format&&(0,Na.jsx)(ll,{tournamentId:s.id,tournamentName:s.name,onScoreSubmitted:G}),(!s.tournament_format||"match_play"!==s.tournament_format&&"stroke_play"!==s.tournament_format&&"par3_match_play"!==s.tournament_format||"3"!==s.hole_configuration)&&(0,Na.jsx)(Xn,{tournamentId:s.id,tournamentMatches:i,tournamentFormat:s.tournament_format||"match_play",onScoreSubmitted:G,requiresMatches:U(s.tournament_format||"match_play"),teams:m,tournamentSettings:B(s),courseId:s.course_id}),("admin"===(null===e||void 0===e?void 0:e.role)||q)&&(0,Na.jsx)("div",{className:"mt-8",children:(0,Na.jsx)("div",{className:"border-t border-neutral-200 pt-6",children:(0,Na.jsx)(El,{tournamentId:s.id,tournamentName:s.name,weekStartDate:F||s.week_start_date,onScorecardUpdated:G})})}),("admin"===(null===e||void 0===e?void 0:e.role)||q)&&"match_play"===s.tournament_format&&"3"!==s.hole_configuration&&(0,Na.jsx)("div",{className:"mt-8",children:(0,Na.jsx)("div",{className:"border-t border-neutral-200 pt-6",children:(0,Na.jsx)(Pl,{tournamentId:s.id,tournamentName:s.name,onMatchUpdated:G})})})]}),"leaderboard"===v&&!("club_championship"===s.type||"national_championship"===s.type)&&(0,Na.jsxs)("div",{className:"space-y-6",children:["match_play"===s.tournament_format&&"3"===s.hole_configuration&&(0,Na.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-neutral-200",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsx)(Je,{className:"w-6 h-6 text-brand-neon-green"}),(0,Na.jsx)("h4",{className:"text-xl font-semibold text-brand-black",children:"3-Hole Matchplay Leaderboard"})]}),(0,Na.jsx)("button",{onClick:G,className:"px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors",children:"Refresh"})]}),(0,Na.jsx)("div",{className:"space-y-4",children:(()=>{const e=i.filter(e=>"completed"===e.status),t=new Map;l.forEach(e=>{t.set(e.user_member_id,{player_id:e.user_member_id,first_name:e.first_name,last_name:e.last_name,club:e.club,matches_played:0,wins:0,losses:0,ties:0,points:0,total_score:0,avg_score:0})}),e.forEach(e=>{const r=t.get(e.player1_id),s=t.get(e.player2_id);r&&s&&(r.matches_played++,s.matches_played++,e.winner_id===e.player1_id?(r.wins++,r.points+=3,s.losses++,s.points+=0):e.winner_id===e.player2_id?(s.wins++,s.points+=3,r.losses++,r.points+=0):(r.ties++,r.points+=1,s.ties++,s.points+=1))});const r=Array.from(t.values()).filter(e=>e.matches_played>0).sort((e,t)=>{if(t.points!==e.points)return t.points-e.points;if(t.wins!==e.wins)return t.wins-e.wins;const r=e.matches_played>0?e.wins/e.matches_played:0;return(t.matches_played>0?t.wins/t.matches_played:0)-r});return 0===r.length?(0,Na.jsxs)("div",{className:"text-center py-8",children:[(0,Na.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-neutral-100 rounded-full flex items-center justify-center",children:(0,Na.jsx)(Je,{className:"w-8 h-8 text-neutral-400"})}),(0,Na.jsx)("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"No matches completed yet"}),(0,Na.jsx)("p",{className:"text-neutral-600",children:"Complete some matches to see the leaderboard."})]}):(0,Na.jsx)("div",{className:"overflow-x-auto",children:(0,Na.jsxs)("table",{className:"w-full border-collapse border border-neutral-300 rounded-lg",children:[(0,Na.jsx)("thead",{className:"bg-neutral-50",children:(0,Na.jsxs)("tr",{children:[(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Position"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-left font-medium",children:"Player"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-center font-medium",children:"Points"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-center font-medium",children:"W"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-center font-medium",children:"L"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-center font-medium",children:"T"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-center font-medium",children:"Matches"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-4 py-3 text-center font-medium",children:"Win %"})]})}),(0,Na.jsx)("tbody",{children:r.map((e,t)=>{const r=e.matches_played>0?(e.wins/e.matches_played*100).toFixed(1):"0.0",s=0===t;return(0,Na.jsxs)("tr",{className:"hover:bg-neutral-50 ".concat(s?"bg-yellow-50":""),children:[(0,Na.jsx)("td",{className:"border border-neutral-300 px-4 py-3",children:(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[0===t&&(0,Na.jsx)(Je,{className:"w-5 h-5 text-yellow-500"}),1===t&&(0,Na.jsx)(Oa,{className:"w-5 h-5 text-gray-400"}),2===t&&(0,Na.jsx)(Oa,{className:"w-5 h-5 text-amber-600"}),(0,Na.jsx)("span",{className:"font-medium text-neutral-600",children:t+1})]})}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-4 py-3",children:(0,Na.jsxs)("div",{children:[(0,Na.jsxs)("div",{className:"font-medium text-brand-black",children:[e.first_name," ",e.last_name]}),(0,Na.jsx)("div",{className:"text-sm text-neutral-600",children:e.club})]})}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-4 py-3 text-center",children:(0,Na.jsx)("span",{className:"font-bold text-lg text-brand-black",children:e.points})}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-4 py-3 text-center",children:(0,Na.jsx)("span",{className:"font-medium text-green-600",children:e.wins})}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-4 py-3 text-center",children:(0,Na.jsx)("span",{className:"font-medium text-red-600",children:e.losses})}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-4 py-3 text-center",children:(0,Na.jsx)("span",{className:"font-medium text-blue-600",children:e.ties})}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-4 py-3 text-center",children:(0,Na.jsx)("span",{className:"font-medium text-neutral-600",children:e.matches_played})}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-4 py-3 text-center",children:(0,Na.jsxs)("span",{className:"font-medium text-neutral-600",children:[r,"%"]})})]},e.player_id)})})]})})})()}),(()=>{const e=i.filter(e=>"completed"===e.status);return 0===e.length?null:(0,Na.jsxs)("div",{className:"mt-8",children:[(0,Na.jsx)("h5",{className:"text-lg font-semibold text-brand-black mb-4",children:"Recent Match Results"}),(0,Na.jsx)("div",{className:"space-y-4",children:e.slice(-6).reverse().map(e=>{var t,r;let s=[];if(e.scores)if(console.log("Match scores structure:",e.scores),e.scores.holes)if("string"===typeof e.scores.holes)try{s=JSON.parse(e.scores.holes)}catch(To){console.error("Error parsing holes data:",To)}else Array.isArray(e.scores.holes)&&(s=e.scores.holes);else e.scores.player1_score&&e.scores.player2_score&&(s=[{hole:"Total",player1:e.scores.player1_score,player2:e.scores.player2_score}]);return(0,Na.jsxs)("div",{className:"border border-neutral-200 rounded-lg overflow-hidden",children:[(0,Na.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 px-4 py-3 border-b border-neutral-200",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Na.jsxs)("span",{className:"text-sm font-medium text-neutral-600",children:["Match #",e.match_number]}),(0,Na.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:"Completed"})]}),(0,Na.jsx)("div",{className:"text-sm text-neutral-500",children:e.updated_at?new Date(e.updated_at).toLocaleDateString():e.created_at?new Date(e.created_at).toLocaleDateString():"Date not available"})]}),(0,Na.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,Na.jsxs)("div",{className:"text-sm",children:[(0,Na.jsxs)("span",{className:"font-medium",children:[e.player1_first_name," ",e.player1_last_name]}),(0,Na.jsx)("span",{className:"text-neutral-500 ml-2",children:"vs"}),(0,Na.jsxs)("span",{className:"font-medium",children:[e.player2_first_name," ",e.player2_last_name]})]}),e.winner_first_name&&(0,Na.jsxs)("div",{className:"text-sm font-medium text-green-600",children:["Winner: ",e.winner_first_name," ",e.winner_last_name]}),(0,Na.jsxs)("div",{className:"text-sm text-neutral-600",children:["Final Score: ",(null===(t=e.scores)||void 0===t?void 0:t.player1_score)||e.player1_score," - ",(null===(r=e.scores)||void 0===r?void 0:r.player2_score)||e.player2_score]})]})]}),s.length>0&&(0,Na.jsxs)("div",{className:"p-4 bg-white",children:[(0,Na.jsx)("div",{className:"text-sm font-medium text-neutral-700 mb-3",children:"Hole-by-Hole Scores:"}),(0,Na.jsx)("div",{className:"overflow-x-auto",children:(0,Na.jsxs)("table",{className:"w-full text-xs border border-neutral-200 rounded",children:[(0,Na.jsx)("thead",{className:"bg-neutral-50",children:(0,Na.jsxs)("tr",{children:[(0,Na.jsx)("th",{className:"px-2 py-1 text-center font-medium text-neutral-600 border-b",children:"Hole"}),(0,Na.jsx)("th",{className:"px-2 py-1 text-center font-medium text-neutral-600 border-b",children:e.player1_first_name}),(0,Na.jsx)("th",{className:"px-2 py-1 text-center font-medium text-neutral-600 border-b",children:e.player2_first_name}),(0,Na.jsx)("th",{className:"px-2 py-1 text-center font-medium text-neutral-600 border-b",children:"Winner"}),(0,Na.jsx)("th",{className:"px-2 py-1 text-center font-medium text-neutral-600 border-b",children:"Score"})]})}),(0,Na.jsx)("tbody",{children:s.map((t,r)=>{const s=t.player1||t.player1_score||0,a=t.player2||t.player2_score||0,n=s<a?e.player1_first_name:s>a?e.player2_first_name:"Tie",l=Math.abs(s-a);return(0,Na.jsxs)("tr",{className:"border-b border-neutral-100",children:[(0,Na.jsx)("td",{className:"px-2 py-1 text-center font-medium text-neutral-600",children:t.hole||r+1}),(0,Na.jsx)("td",{className:"px-2 py-1 text-center ".concat(s<a?"text-green-600 font-semibold":""),children:s||"-"}),(0,Na.jsx)("td",{className:"px-2 py-1 text-center ".concat(a<s?"text-green-600 font-semibold":""),children:a||"-"}),(0,Na.jsx)("td",{className:"px-2 py-1 text-center text-xs ".concat("Tie"===n?"text-neutral-500":"text-green-600 font-medium"),children:n}),(0,Na.jsx)("td",{className:"px-2 py-1 text-center text-xs text-neutral-500",children:l>0?"+".concat(l):"AS"})]},r)})})]})})]}),0===s.length&&(0,Na.jsxs)("div",{className:"p-4 bg-white text-sm text-neutral-500",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,Na.jsx)("span",{children:"\ud83d\udcca"}),(0,Na.jsx)("span",{children:"Hole-by-hole scores not available for this match"})]}),(0,Na.jsx)("div",{className:"text-xs text-neutral-400 mt-1 text-center",children:"Only total scores are recorded for this match"})]})]},e.id)})})]})})()]}),"par3_match_play"===s.tournament_format&&(0,Na.jsx)(Ja,{tournamentId:s.id,tournamentName:s.name,weekStartDate:s.week_start_date,tournamentStartDate:s.start_date,tournamentEndDate:s.end_date}),(!s.tournament_format||"match_play"!==s.tournament_format||"3"!==s.hole_configuration)&&"par3_match_play"!==s.tournament_format&&("stroke_play"===s.tournament_format?(0,Na.jsx)(Ga,{tournamentId:s.id,tournamentFormat:s.tournament_format,courseId:s.course_id,onRefresh:G,tournamentInfo:{name:s.name,description:s.description,start_date:s.start_date,course_name:s.course},tournamentSettings:B(s)}):(0,Na.jsx)(Ha,{tournamentId:s.id,tournamentFormat:s.tournament_format||"match_play",onRefresh:G,courseId:s.course_id,tournamentSettings:B(s)}))]}),"championship"===v&&(0,Na.jsx)(Rl,{tournamentId:s.id,tournamentName:s.name,tournamentParticipants:l,tournamentMatches:i,tournamentCourse:s.course,tournamentCourseId:s.course_id,onDataRefresh:()=>{s&&(Js(s.id).then(e=>o(e.data)),la(s.id).then(e=>c(e.data)))}})]})]})]})]})})})}),N&&(0,Na.jsx)(gl,{mode:"create",onSuccess:J,onCancel:()=>w(!1),currentUser:e}),_&&(0,Na.jsx)(gl,{mode:"edit",tournament:_,onSuccess:J,onCancel:()=>k(null),currentUser:e}),S&&E&&(0,Na.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Na.jsxs)("div",{className:"bg-white rounded-2xl p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Na.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Na.jsxs)("h3",{className:"text-2xl font-bold text-brand-black",children:["3-Hole Matchplay Scoring - Match #",E.match_number]}),(0,Na.jsx)("button",{onClick:()=>C(!1),className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:(0,Na.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Na.jsxs)("div",{className:"space-y-6",children:[(0,Na.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 border border-blue-200 rounded-xl p-6",children:[(0,Na.jsx)("h4",{className:"text-lg font-semibold text-brand-black mb-4 text-center",children:"Match Information"}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Na.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:[(0,Na.jsxs)("h5",{className:"font-medium text-neutral-700 mb-3 flex items-center",children:[(0,Na.jsx)(Ca,{className:"w-5 h-5 text-blue-600 mr-2"}),"Player 1"]}),(0,Na.jsxs)("p",{className:"text-sm text-neutral-600 font-medium",children:[E.player1_first_name," ",E.player1_last_name]}),(0,Na.jsx)("p",{className:"text-xs text-neutral-500",children:E.player1_club})]}),(0,Na.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-green-200",children:[(0,Na.jsxs)("h5",{className:"font-medium text-neutral-700 mb-3 flex items-center",children:[(0,Na.jsx)(Ca,{className:"w-5 h-5 text-green-600 mr-2"}),"Player 2"]}),(0,Na.jsxs)("p",{className:"text-sm text-neutral-600 font-medium",children:[E.player2_first_name," ",E.player2_last_name]}),(0,Na.jsx)("p",{className:"text-xs text-neutral-500",children:E.player2_club})]})]})]}),(0,Na.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-xl p-6",children:[(0,Na.jsx)("h4",{className:"text-lg font-semibold text-brand-black mb-4",children:"Hole-by-Hole Scores"}),(0,Na.jsx)("div",{className:"overflow-x-auto",children:(0,Na.jsxs)("table",{className:"w-full border-collapse border border-neutral-300 rounded-lg",children:[(0,Na.jsx)("thead",{className:"bg-neutral-50",children:(0,Na.jsxs)("tr",{children:[(0,Na.jsx)("th",{className:"border border-neutral-300 px-3 py-2 text-center text-sm font-medium text-neutral-600",children:"Hole"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-3 py-2 text-center text-sm font-medium text-neutral-600",children:"Par"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-3 py-2 text-center text-sm font-medium text-neutral-600",children:E.player1_first_name}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-3 py-2 text-center text-sm font-medium text-neutral-600",children:E.player2_first_name})]})}),(0,Na.jsxs)("tbody",{children:[[1,2,3].map((e,t)=>(0,Na.jsxs)("tr",{className:"hover:bg-neutral-50",children:[(0,Na.jsx)("td",{className:"border border-neutral-300 px-3 py-2 text-center text-sm font-medium text-neutral-600",children:e}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-3 py-2 text-center text-sm font-medium text-neutral-500",children:"Par 3"===s.tee?"3":"4"}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-3 py-2",children:(0,Na.jsx)("input",{type:"number",min:"1",max:"10",value:P.player1Holes[t],onChange:e=>X(t,"player1",e.target.value),className:"w-full px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-brand-neon-green focus:border-transparent text-center",placeholder:"-"})}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-3 py-2",children:(0,Na.jsx)("input",{type:"number",min:"1",max:"10",value:P.player2Holes[t],onChange:e=>X(t,"player2",e.target.value),className:"w-full px-2 py-1 text-sm border border-neutral-300 rounded focus:ring-1 focus:ring-brand-neon-green focus:border-transparent text-center",placeholder:"-"})})]},e)),(0,Na.jsxs)("tr",{className:"bg-neutral-100 font-semibold",children:[(0,Na.jsx)("td",{className:"border border-neutral-300 px-3 py-2 text-center text-sm font-medium text-neutral-600",children:"Total"}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-3 py-2 text-center text-sm font-medium text-neutral-600",children:"Par 3"===s.tee?"9":"12"}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-3 py-2 text-center text-sm font-medium text-brand-black",children:P.player1Total||"0"}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-3 py-2 text-center text-sm font-medium text-brand-black",children:P.player2Total||"0"})]})]})]})})]}),P.player1Total&&P.player2Total&&(0,Na.jsxs)("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-xl p-6",children:[(0,Na.jsx)("h4",{className:"text-lg font-semibold text-brand-black mb-4 text-center",children:"Match Result"}),(0,Na.jsx)("div",{className:"text-center",children:parseInt(P.player1Total)<parseInt(P.player2Total)?(0,Na.jsxs)("div",{className:"text-green-600 font-semibold",children:[(0,Na.jsx)(Oa,{className:"w-8 h-8 mx-auto mb-2"}),E.player1_first_name," ",E.player1_last_name," wins!"]}):parseInt(P.player1Total)>parseInt(P.player2Total)?(0,Na.jsxs)("div",{className:"text-green-600 font-semibold",children:[(0,Na.jsx)(Oa,{className:"w-8 h-8 mx-auto mb-2"}),E.player2_first_name," ",E.player2_last_name," wins!"]}):(0,Na.jsxs)("div",{className:"text-blue-600 font-semibold",children:[(0,Na.jsx)(Ca,{className:"w-8 h-8 mx-auto mb-2"}),"Match tied!"]})})]}),(0,Na.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4 pt-4",children:[(0,Na.jsx)("button",{type:"button",onClick:()=>C(!1),className:"px-6 py-3 border border-neutral-300 rounded-lg text-neutral-600 hover:bg-neutral-50 transition-colors",children:"Cancel"}),(0,Na.jsx)("button",{onClick:async()=>{if(E)try{const e=parseInt(P.player1Total),t=parseInt(P.player2Total);let r=null;r=e<t?E.player1_id:t<e?E.player2_id:null,await ia(s.id,E.id,{winner_id:r,scores:{player1_score:e,player2_score:t,holes:[{hole:1,player1:P.player1Holes[0],player2:P.player2Holes[0]},{hole:2,player1:P.player1Holes[1],player2:P.player2Holes[1]},{hole:3,player1:P.player1Holes[2],player2:P.player2Holes[2]}]}}),In.success("Matchplay score submitted successfully"),C(!1),T(null),L({player1Holes:["","",""],player2Holes:["","",""],player1Total:"",player2Total:"",winner:null}),G()}catch(e){console.error("Error submitting matchplay score:",e),In.error("Failed to submit matchplay score")}},disabled:!P.player1Total||!P.player2Total,className:"px-6 py-3 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Submit Match Score"})]})]})]})})]})},Al=Ye("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),Dl=Ye("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Il=Ye("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Ol=Ye("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Fl=Ye("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),zl=e=>{let{isOpen:t,onClose:r,onSelectRoundType:s}=e;const[a,l]=(0,n.useState)("holes"),[o,i]=(0,n.useState)(null),[c,d]=(0,n.useState)(null),[u,m]=(0,n.useState)(null),[x,h]=(0,n.useState)([]),[p,f]=(0,n.useState)([]),[b,g]=(0,n.useState)(""),[y,v]=(0,n.useState)(!1),[j,N]=(0,n.useState)(!1),[w,_]=(0,n.useState)(null),[k,S]=(0,n.useState)([]),[C,E]=(0,n.useState)(!1),T=["Black","Blue","White","Green","Yellow","Red","Junior","PAR3"],P={Black:"bg-gray-800 text-white border-gray-700",Blue:"bg-blue-200 text-blue-900 border-blue-300",White:"bg-white text-gray-900 border-gray-300",Green:"bg-green-200 text-green-900 border-green-300",Yellow:"bg-yellow-200 text-yellow-900 border-yellow-300",Red:"bg-red-200 text-red-900 border-red-300",Junior:"bg-cyan-200 text-cyan-900 border-cyan-300",PAR3:"bg-purple-200 text-purple-900 border-purple-300"};(0,n.useEffect)(()=>{t&&L()},[t]),(0,n.useEffect)(()=>{if(b.trim()){const e=x.filter(e=>e.name.toLowerCase().includes(b.toLowerCase())||e.location&&e.location.toLowerCase().includes(b.toLowerCase())||e.designer&&e.designer.toLowerCase().includes(b.toLowerCase())).slice(0,20);f(e)}else f(x.slice(0,30))},[b,x]);const L=async()=>{v(!0);try{const e=await da(void 0,"all",1e4);h(e.data.courses||[])}catch(e){console.error("Error fetching courses:",e)}finally{v(!1)}},R=()=>{l("holes"),i(null),m(null),g(""),N(!1),_(null),S([]),r()},M=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;i(e),d(t),l("course")},A=async()=>{if(o&&u&&null!==w&&void 0!==w&&w.teebox&&null!==w.courseRating&&null!==w.courseSlope){try{console.log("Saving teebox data before starting round:",{courseId:u.id,teebox:w.teebox,rating:w.courseRating,slope:w.courseSlope}),await xa(u.id,w.teebox,w.courseRating,w.courseSlope),console.log("Teebox data saved successfully")}catch(e){console.error("Error saving teebox data:",e)}s("sim",o,u,c,w)}};return t?(0,Na.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Na.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full flex flex-col ".concat("course"===a?"max-w-7xl max-h-[95vh]":"max-w-2xl max-h-[90vh]"),children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-3",children:[("course"===a||"teebox"===a)&&(0,Na.jsx)("button",{onClick:"course"===a?()=>{l("holes"),m(null),g(""),_(null),S([])}:()=>{l("course"),_(null),S([])},className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Na.jsx)(Yn,{className:"w-5 h-5"})}),(0,Na.jsx)("h2",{className:"text-xl font-bold text-brand-black",children:"holes"===a?"Track a Simulator Round":"course"===a?"Change number of holes":"Change Course Selection"})]}),(0,Na.jsx)("button",{onClick:R,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Na.jsx)(tt,{className:"w-6 h-6"})})]}),(0,Na.jsx)("div",{className:"p-6 flex-1 overflow-y-auto ".concat("course"===a?"min-h-[60vh]":""),children:"holes"===a?(0,Na.jsxs)(Na.Fragment,{children:[(0,Na.jsx)("p",{className:"text-gray-600 mb-6",children:"How many holes are you playing today?"}),(0,Na.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,Na.jsx)("button",{onClick:()=>M(18,null),className:"w-full py-4 px-6 border-2 border-gray-200 rounded-lg hover:border-brand-neon-green hover:bg-brand-neon-green/5 transition-all duration-200 group",children:(0,Na.jsxs)("div",{className:"flex items-center justify-center space-x-3",children:[(0,Na.jsx)("div",{className:"rounded-full p-3 bg-purple-100 group-hover:bg-purple-200 transition-colors",children:(0,Na.jsx)("span",{className:"text-purple-600 font-bold text-lg",children:"18"})}),(0,Na.jsxs)("div",{className:"text-left",children:[(0,Na.jsx)("div",{className:"font-semibold text-gray-900 text-lg",children:"Full Round"}),(0,Na.jsx)("div",{className:"text-sm text-gray-600",children:"Complete 18-hole round"})]})]})}),(0,Na.jsxs)("div",{className:"flex space-x-3",children:[(0,Na.jsx)("button",{onClick:()=>M(9,"front"),className:"flex-1 py-3 px-4 border-2 border-gray-200 rounded-lg hover:border-brand-neon-green hover:bg-brand-neon-green/5 transition-all duration-200 group",children:(0,Na.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,Na.jsx)("div",{className:"rounded-full p-2 bg-orange-100 group-hover:bg-orange-200 transition-colors",children:(0,Na.jsx)("span",{className:"text-orange-600 font-bold text-sm",children:"F9"})}),(0,Na.jsx)("span",{className:"font-medium text-gray-900",children:"Front 9"})]})}),(0,Na.jsx)("button",{onClick:()=>M(9,"back"),className:"flex-1 py-3 px-4 border-2 border-gray-200 rounded-lg hover:border-brand-neon-green hover:bg-brand-neon-green/5 transition-all duration-200 group",children:(0,Na.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,Na.jsx)("div",{className:"rounded-full p-2 bg-blue-100 group-hover:bg-blue-200 transition-colors",children:(0,Na.jsx)("span",{className:"text-blue-600 font-bold text-sm",children:"B9"})}),(0,Na.jsx)("span",{className:"font-medium text-gray-900",children:"Back 9"})]})})]})]})]}):"course"===a?(0,Na.jsxs)(Na.Fragment,{children:[(0,Na.jsxs)("div",{className:"mb-6",children:[(0,Na.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Select Your Course"}),(0,Na.jsxs)("p",{className:"text-gray-600",children:[o," holes \u2022 Search from ",x.length.toLocaleString()," available courses"]})]}),(0,Na.jsxs)("div",{className:"relative mb-8",children:[(0,Na.jsxs)("div",{className:"relative",children:[(0,Na.jsx)(ul,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Na.jsx)("input",{type:"text",placeholder:"Search courses by name, location, or designer...",value:b,onChange:e=>{g(e.target.value),N(!0)},onFocus:()=>N(!0),className:"w-full pl-12 pr-4 py-4 text-lg border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"}),y&&(0,Na.jsx)(Ol,{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 animate-spin"})]}),j&&(0,Na.jsx)("div",{className:"absolute z-10 w-full mt-2 bg-white border border-gray-300 rounded-lg shadow-xl max-h-[60vh] overflow-y-auto",children:p.length>0?(0,Na.jsx)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-0",children:p.map(e=>(0,Na.jsxs)("div",{onClick:()=>(async e=>{if(m(e),N(!1),g(e.name),_({teebox:"",courseRating:null,courseSlope:null}),l("teebox"),e.id){E(!0);try{const t=await ha(e.id);S(t.data.teeboxData||[])}catch(t){console.error("Error fetching teebox data:",t),S([])}finally{E(!1)}}})(e),className:"px-6 py-4 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0 transition-colors",children:[(0,Na.jsx)("div",{className:"font-semibold text-gray-900 text-base mb-1 truncate",children:e.name}),(0,Na.jsxs)("div",{className:"text-xs text-gray-600 flex items-center space-x-2 mb-2",children:[e.location&&(0,Na.jsxs)("span",{className:"flex items-center truncate",children:[(0,Na.jsx)(Xe,{className:"w-3 h-3 mr-1 flex-shrink-0"}),(0,Na.jsx)("span",{className:"truncate",children:e.location})]}),e.designer&&(0,Na.jsxs)("span",{className:"text-gray-500 truncate",children:["by ",e.designer]})]}),(0,Na.jsx)("div",{className:"flex space-x-1",children:e.platforms.map(e=>(0,Na.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("GSPro"===e?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"),children:e},e))})]},e.id))}):b.trim()?(0,Na.jsxs)("div",{className:"px-6 py-8 text-center text-gray-500",children:[(0,Na.jsx)(ul,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),(0,Na.jsxs)("p",{className:"text-lg",children:['No courses found matching "',b,'"']}),(0,Na.jsx)("p",{className:"text-sm mt-1",children:"Try a different search term"})]}):(0,Na.jsxs)("div",{className:"px-6 py-8 text-center text-gray-500",children:[(0,Na.jsx)(Ol,{className:"w-8 h-8 mx-auto mb-2 animate-spin text-gray-300"}),(0,Na.jsx)("p",{className:"text-lg",children:"Loading courses..."})]})})]}),u&&(0,Na.jsx)("div",{className:"mb-6 p-6 bg-gradient-to-r from-brand-green/10 to-brand-blue/10 rounded-lg border border-brand-green/20",children:(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("div",{className:"font-bold text-gray-900 text-xl mb-2",children:u.name}),(0,Na.jsxs)("div",{className:"text-sm text-gray-600 flex items-center space-x-4",children:[u.location&&(0,Na.jsxs)("span",{className:"flex items-center",children:[(0,Na.jsx)(Xe,{className:"w-4 h-4 mr-1"}),u.location]}),u.designer&&(0,Na.jsxs)("span",{className:"text-gray-500",children:["by ",u.designer]})]})]}),(0,Na.jsx)("div",{className:"flex space-x-2",children:u.platforms.map(e=>(0,Na.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ".concat("GSPro"===e?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"),children:e},e))})]})})]}):"teebox"===a&&u?(0,Na.jsxs)(Na.Fragment,{children:[(0,Na.jsxs)("div",{className:"mb-4",children:[(0,Na.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:k.length>0?"Choose a Teebox":"Add a Teebox"}),C?(0,Na.jsxs)("div",{className:"flex items-center justify-center py-4",children:[(0,Na.jsx)(Ol,{className:"w-5 h-5 animate-spin text-gray-400 mr-2"}),(0,Na.jsx)("span",{className:"text-gray-600",children:"Loading teeboxes..."})]}):k.length>0?(0,Na.jsxs)(Na.Fragment,{children:[(0,Na.jsx)("div",{className:"mb-3",children:(0,Na.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:k.slice().sort((e,t)=>T.indexOf(e.teebox)-T.indexOf(t.teebox)).map((e,t)=>(0,Na.jsxs)("button",{onClick:()=>_({teebox:e.teebox,courseRating:e.course_rating,courseSlope:e.course_slope}),className:"px-3 py-2 border-2 rounded-lg text-center text-sm font-medium transition-colors ".concat((null===w||void 0===w?void 0:w.teebox)===e.teebox&&(null===w||void 0===w?void 0:w.courseRating)===e.course_rating&&(null===w||void 0===w?void 0:w.courseSlope)===e.course_slope?"border-brand-neon-green bg-brand-neon-green/10 text-brand-black":"".concat(P[e.teebox]||"bg-gray-50 border-gray-200"," hover:border-gray-400'")),children:[(0,Na.jsx)("div",{className:"font-medium",children:e.teebox}),(0,Na.jsxs)("div",{className:"text-xs text-gray-500",children:[e.course_rating,"/",e.course_slope]})]},t))})}),(0,Na.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mt-3",children:(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsx)(Il,{className:"w-4 h-4 text-blue-600 flex-shrink-0"}),(0,Na.jsxs)("div",{className:"text-xs text-blue-800",children:[(0,Na.jsx)("span",{children:"Need help finding ratings? "}),(0,Na.jsxs)("a",{href:"https://simulatorgolftour.com/courses",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium",children:[(0,Na.jsx)(Fl,{className:"w-3 h-3 mr-1"}),"Visit SGT Course Database"]})]})]})})]}):(0,Na.jsxs)("div",{className:"text-center text-gray-500 py-4",children:[(0,Na.jsx)("p",{children:"No teeboxes found for this course. Please enter the teebox, rating, and slope manually."}),(0,Na.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mt-3 inline-block",children:(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsx)(Il,{className:"w-4 h-4 text-yellow-600 flex-shrink-0"}),(0,Na.jsxs)("div",{className:"text-xs text-yellow-800",children:[(0,Na.jsx)("span",{children:"Need help finding ratings? "}),(0,Na.jsxs)("a",{href:"https://simulatorgolftour.com/courses",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium",children:[(0,Na.jsx)(Fl,{className:"w-3 h-3 mr-1"}),"Visit SGT Course Database"]})]})]})})]}),(!(null!==w&&void 0!==w&&w.teebox)||!k.some(e=>e.teebox===w.teebox))&&(0,Na.jsxs)("div",{className:"mt-2",children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:k.length>0?"Add Another Teebox":"Select Teebox"}),(0,Na.jsxs)("select",{value:(null===w||void 0===w?void 0:w.teebox)||"",onChange:e=>_(t=>({teebox:e.target.value,courseRating:(null===t||void 0===t?void 0:t.courseRating)||null,courseSlope:(null===t||void 0===t?void 0:t.courseSlope)||null})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,Na.jsx)("option",{value:"",children:"Select a teebox..."}),T.map(e=>(0,Na.jsx)("option",{value:e,children:e},e))]})]})]}),!k.some(e=>e.teebox===(null===w||void 0===w?void 0:w.teebox))&&(null===w||void 0===w?void 0:w.teebox)&&(0,Na.jsxs)("div",{className:"mb-4",children:[(0,Na.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Course Rating & Slope"}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course Rating"}),(0,Na.jsx)("input",{type:"number",step:"0.1",min:"60",max:"80",value:(null===w||void 0===w?void 0:w.courseRating)||"",onChange:e=>{const t=e.target.value,r=""===t?null:parseFloat(t);_(e=>({teebox:(null===e||void 0===e?void 0:e.teebox)||"",courseRating:r,courseSlope:(null===e||void 0===e?void 0:e.courseSlope)||null}))},placeholder:"72.0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-neon-green focus:border-transparent text-center text-lg font-semibold"}),(0,Na.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"The expected score for a scratch golfer (typically 60-80)"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course Slope"}),(0,Na.jsx)("input",{type:"number",step:"0.1",min:"55",max:"155",value:(null===w||void 0===w?void 0:w.courseSlope)||"",onChange:e=>{const t=e.target.value,r=""===t?null:parseFloat(t);_(e=>({teebox:(null===e||void 0===e?void 0:e.teebox)||"",courseRating:(null===e||void 0===e?void 0:e.courseRating)||null,courseSlope:r}))},placeholder:"113",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-neon-green focus:border-transparent text-center text-lg font-semibold"}),(0,Na.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Difficulty rating relative to scratch (typically 55-155)"})]})]})]})]}):null}),(0,Na.jsxs)("div",{className:"flex justify-between p-6 border-t border-gray-200 flex-shrink-0",children:[(0,Na.jsx)("button",{onClick:R,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),"course"===a&&u&&(0,Na.jsx)("button",{onClick:A,className:"px-6 py-2 bg-brand-neon-green text-brand-black rounded-lg hover:bg-green-400 transition-colors font-medium",children:"Continue"}),"teebox"===a&&u&&(null===w||void 0===w?void 0:w.teebox)&&(k.some(e=>e.teebox===w.teebox)||null!==w.courseRating&&null!==w.courseSlope)&&(0,Na.jsx)("button",{onClick:A,className:"px-6 py-2 bg-brand-neon-green text-brand-black rounded-lg hover:bg-green-400 transition-colors font-medium",children:"Start Round"})]})]})}):null},Ul=Ye("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),Hl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:18;const[t,r]=(0,n.useState)({playerInfo:{name:"",date:(new Date).toISOString().split("T")[0],handicap:0},holes:Array.from({length:e},(e,t)=>({hole:t+1,strokes:0,mulligans:0,total:0})),totalStrokes:0,totalMulligans:0,finalScore:0}),s=(0,n.useCallback)((e,t)=>{r(r=>Ue(Ue({},r),{},{playerInfo:Ue(Ue({},r.playerInfo),{},{[e]:t})}))},[]),a=(0,n.useCallback)((e,t,s)=>{r(r=>{const a=r.holes.map(r=>{if(r.hole===e){const e=Ue(Ue({},r),{},{[t]:Math.max(0,s)});return e.total=e.strokes+e.mulligans,e}return r}),n=a.reduce((e,t)=>e+t.strokes,0),l=a.reduce((e,t)=>e+t.mulligans,0),o=n+l;return Ue(Ue({},r),{},{holes:a,totalStrokes:n,totalMulligans:l,finalScore:o})})},[]),l=(0,n.useCallback)(e=>{r(t=>{if(t.holes.reduce((e,t)=>e+t.mulligans,0)>=3)return t;const r=t.holes.map(t=>{if(t.hole===e){const e=Ue(Ue({},t),{},{mulligans:t.mulligans+1});return e.total=e.strokes+e.mulligans,e}return t}),s=r.reduce((e,t)=>e+t.strokes,0),a=r.reduce((e,t)=>e+t.mulligans,0),n=s+a;return Ue(Ue({},t),{},{holes:r,totalStrokes:s,totalMulligans:a,finalScore:n})})},[]),o=(0,n.useCallback)(e=>{r(t=>{var r;if(((null===(r=t.holes.find(t=>t.hole===e))||void 0===r?void 0:r.mulligans)||0)<=0)return t;const s=t.holes.map(t=>{if(t.hole===e){const e=Ue(Ue({},t),{},{mulligans:t.mulligans-1});return e.total=e.strokes+e.mulligans,e}return t}),a=s.reduce((e,t)=>e+t.strokes,0),n=s.reduce((e,t)=>e+t.mulligans,0),l=a+n;return Ue(Ue({},t),{},{holes:s,totalStrokes:a,totalMulligans:n,finalScore:l})})},[]),i=(0,n.useCallback)(()=>3-t.holes.reduce((e,t)=>e+t.mulligans,0),[t.holes]),c=(0,n.useCallback)(()=>{const e=[];t.playerInfo.name.trim()||e.push("Player name is required"),t.playerInfo.date||e.push("Date is required");t.holes.reduce((e,t)=>e+t.mulligans,0)>3&&e.push("Cannot use more than ".concat(3," mulligans"));return 0===t.holes.filter(e=>e.strokes>0).length&&e.push("At least one hole must have a score"),e},[t]),d=(0,n.useCallback)(()=>{r({playerInfo:{name:"",date:(new Date).toISOString().split("T")[0],handicap:0},holes:Array.from({length:e},(e,t)=>({hole:t+1,strokes:0,mulligans:0,total:0})),totalStrokes:0,totalMulligans:0,finalScore:0})},[e]),u=(0,n.useCallback)(()=>{const e=t.holes.filter(e=>e.strokes>0),r=e.length;if(0===r)return null;const s=r>0?t.totalStrokes/r:0,a=e.reduce((e,t)=>t.strokes<e.strokes?t:e),n=e.reduce((e,t)=>t.strokes>e.strokes?t:e);return{totalHoles:r,averageScore:Math.round(10*s)/10,bestHole:a,worstHole:n,mulliganEfficiency:t.totalMulligans>0?Math.round(t.totalMulligans/3*100):0}},[t]);return{scoreCard:t,updatePlayerInfo:s,updateHoleScore:a,applyMulligan:l,revokeMulligan:o,getRemainingMulligans:i,validateScoreCard:c,resetScoreCard:d,getScoreStats:u,TOTAL_MULLIGANS:3,HOLES:e}},Bl=e=>{let{playerInfo:t,onUpdate:r,errors:s=[],userInfo:a}=e;return(0,n.useEffect)(()=>{a&&(!t.name&&a.name&&r("name",a.name),0===t.handicap&&a.handicap&&r("handicap",a.handicap))},[a,t.name,t.handicap,r]),(0,Na.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[(0,Na.jsxs)("h2",{className:"text-xl font-bold text-brand-black mb-4 flex items-center",children:[(0,Na.jsx)(et,{className:"w-5 h-5 mr-2"}),"Player Information"]}),s.length>0&&(0,Na.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:(0,Na.jsx)("ul",{className:"list-disc list-inside",children:s.map((e,t)=>(0,Na.jsx)("li",{children:e},t))})}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Player Name *"}),(0,Na.jsxs)("div",{className:"relative",children:[(0,Na.jsx)("input",{type:"text",value:t.name,onChange:e=>r("name",e.target.value),placeholder:"Enter your name",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"}),(0,Na.jsx)(et,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"})]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date *"}),(0,Na.jsxs)("div",{className:"relative",children:[(0,Na.jsx)("input",{type:"date",value:t.date,onChange:e=>r("date",e.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"}),(0,Na.jsx)(Aa,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"})]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Handicap"}),(0,Na.jsxs)("div",{className:"relative",children:[(0,Na.jsx)("input",{type:"number",value:t.handicap,onChange:e=>r("handicap",parseInt(e.target.value)||0),placeholder:"0",min:"0",max:"54",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"}),(0,Na.jsx)(Ca,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"})]})]})]})]})},Wl=Ye("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),ql=e=>{let{hole:t,onUpdateStrokes:r,onUseMulligan:s,onRemoveMulligan:a,remainingMulligans:n,isPar:l}=e;const o=(e,t)=>t&&0!==e?e===t-2?"EAGLE":e===t-1?"BIRDIE":e===t?"PAR":e===t+1?"BOGEY":e===t+2?"DOUBLE":"+".concat(e-t):"";return(0,Na.jsxs)("div",{className:"grid grid-cols-12 gap-2 items-center py-3 border-b border-gray-100 hover:bg-gray-50 transition-colors",children:[(0,Na.jsxs)("div",{className:"col-span-1 text-center",children:[(0,Na.jsx)("span",{className:"font-semibold text-gray-700",children:t.hole}),l&&(0,Na.jsxs)("div",{className:"text-xs text-gray-500",children:["Par ",l]})]}),(0,Na.jsx)("div",{className:"col-span-3",children:(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsx)("button",{onClick:()=>r(Math.max(0,t.strokes-1)),className:"w-8 h-8 bg-gray-200 hover:bg-gray-300 rounded-full flex items-center justify-center transition-colors",children:(0,Na.jsx)(Wl,{className:"w-4 h-4 text-gray-600"})}),(0,Na.jsx)("input",{type:"number",value:t.strokes||"",onChange:e=>r(Math.max(0,parseInt(e.target.value)||0)),className:"w-16 text-center border border-gray-300 rounded-lg py-1 focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",min:"0",max:"20"}),(0,Na.jsx)("button",{onClick:()=>r(t.strokes+1),className:"w-8 h-8 bg-gray-200 hover:bg-gray-300 rounded-full flex items-center justify-center transition-colors",children:(0,Na.jsx)(sn,{className:"w-4 h-4 text-gray-600"})})]})}),(0,Na.jsx)("div",{className:"col-span-2 text-center",children:t.strokes>0&&(0,Na.jsxs)("div",{className:"font-bold ".concat((i=t.strokes,c=l,c?i===c?"text-green-600":i===c-1?"text-blue-600":i===c-2?"text-purple-600":i===c+1?"text-orange-600":i>=c+2?"text-red-600":"text-gray-900":"text-gray-900")),children:[t.strokes,o(t.strokes,l)&&(0,Na.jsx)("div",{className:"text-xs font-normal",children:o(t.strokes,l)})]})}),(0,Na.jsx)("div",{className:"col-span-3",children:(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsx)("button",{onClick:a,disabled:t.mulligans<=0,className:"w-8 h-8 bg-red-200 hover:bg-red-300 disabled:bg-gray-100 disabled:cursor-not-allowed rounded-full flex items-center justify-center transition-colors",children:(0,Na.jsx)(Wl,{className:"w-4 h-4 text-red-600"})}),(0,Na.jsx)("div",{className:"flex items-center space-x-1",children:Array.from({length:t.mulligans},(e,t)=>(0,Na.jsx)(Dl,{className:"w-4 h-4 text-green-600"},t))}),(0,Na.jsx)("button",{onClick:s,disabled:n<=0,className:"w-8 h-8 bg-green-200 hover:bg-green-300 disabled:bg-gray-100 disabled:cursor-not-allowed rounded-full flex items-center justify-center transition-colors",children:(0,Na.jsx)(sn,{className:"w-4 h-4 text-green-600"})})]})}),(0,Na.jsx)("div",{className:"col-span-1 text-center",children:t.mulligans>0&&(0,Na.jsx)("span",{className:"text-sm font-medium text-green-600",children:t.mulligans})}),(0,Na.jsx)("div",{className:"col-span-2 text-center",children:t.total>0&&(0,Na.jsxs)("div",{className:"font-bold text-gray-900",children:[t.total,t.mulligans>0&&(0,Na.jsxs)("div",{className:"text-xs text-green-600",children:["+",t.mulligans," mully"]})]})})]});var i,c},Vl=Ye("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Gl=e=>{let{isOpen:t,onClose:r}=e;return t?(0,Na.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Na.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,Na.jsxs)("h2",{className:"text-xl font-bold text-brand-black flex items-center",children:[(0,Na.jsx)(Il,{className:"w-5 h-5 mr-2"}),"Mully Golf Rules"]}),(0,Na.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Na.jsx)(tt,{className:"w-6 h-6"})})]}),(0,Na.jsx)("div",{className:"p-6",children:(0,Na.jsxs)("div",{className:"space-y-6",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[(0,Na.jsx)(Dl,{className:"w-5 h-5 mr-2 text-green-600"}),"What is Mully Golf?"]}),(0,Na.jsx)("p",{className:"text-gray-700 leading-relaxed",children:"Mully Golf is a fun variation of golf where players get a limited number of mulligans (do-over shots) to use strategically throughout their round. The goal is to complete the course with the lowest total score, including any mulligans used."})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[(0,Na.jsx)(Ca,{className:"w-5 h-5 mr-2 text-blue-600"}),"Basic Rules"]}),(0,Na.jsxs)("ul",{className:"space-y-2 text-gray-700",children:[(0,Na.jsxs)("li",{className:"flex items-start",children:[(0,Na.jsx)("span",{className:"w-2 h-2 bg-brand-neon-green rounded-full mt-2 mr-3 flex-shrink-0"}),(0,Na.jsxs)("span",{children:["Each player gets ",(0,Na.jsx)("strong",{children:"3 mulligans"})," per round"]})]}),(0,Na.jsxs)("li",{className:"flex items-start",children:[(0,Na.jsx)("span",{className:"w-2 h-2 bg-brand-neon-green rounded-full mt-2 mr-3 flex-shrink-0"}),(0,Na.jsx)("span",{children:"Mulligans can be used on any shot, including putts"})]}),(0,Na.jsxs)("li",{className:"flex items-start",children:[(0,Na.jsx)("span",{className:"w-2 h-2 bg-brand-neon-green rounded-full mt-2 mr-3 flex-shrink-0"}),(0,Na.jsx)("span",{children:"You can use multiple mulligans on the same hole"})]}),(0,Na.jsxs)("li",{className:"flex items-start",children:[(0,Na.jsx)("span",{className:"w-2 h-2 bg-brand-neon-green rounded-full mt-2 mr-3 flex-shrink-0"}),(0,Na.jsx)("span",{children:"Final score = Total strokes + Total mulligans used"})]}),(0,Na.jsxs)("li",{className:"flex items-start",children:[(0,Na.jsx)("span",{className:"w-2 h-2 bg-brand-neon-green rounded-full mt-2 mr-3 flex-shrink-0"}),(0,Na.jsx)("span",{children:"Lowest total score wins"})]})]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Strategy Tips"}),(0,Na.jsxs)("ul",{className:"space-y-2 text-gray-700",children:[(0,Na.jsxs)("li",{className:"flex items-start",children:[(0,Na.jsx)("span",{className:"w-2 h-2 bg-yellow-400 rounded-full mt-2 mr-3 flex-shrink-0"}),(0,Na.jsx)("span",{children:"Save mulligans for difficult holes or crucial putts"})]}),(0,Na.jsxs)("li",{className:"flex items-start",children:[(0,Na.jsx)("span",{className:"w-2 h-2 bg-yellow-400 rounded-full mt-2 mr-3 flex-shrink-0"}),(0,Na.jsx)("span",{children:"Consider using mulligans on approach shots to set up easier putts"})]}),(0,Na.jsxs)("li",{className:"flex items-start",children:[(0,Na.jsx)("span",{className:"w-2 h-2 bg-yellow-400 rounded-full mt-2 mr-3 flex-shrink-0"}),(0,Na.jsx)("span",{children:"Don't waste mulligans on shots that are already good"})]}),(0,Na.jsxs)("li",{className:"flex items-start",children:[(0,Na.jsx)("span",{className:"w-2 h-2 bg-yellow-400 rounded-full mt-2 mr-3 flex-shrink-0"}),(0,Na.jsx)("span",{children:"Plan your mulligan usage based on the course layout"})]})]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Scoring Example"}),(0,Na.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,Na.jsx)("p",{className:"text-gray-700 mb-3",children:(0,Na.jsx)("strong",{children:"Example Round:"})}),(0,Na.jsxs)("ul",{className:"space-y-1 text-sm text-gray-600",children:[(0,Na.jsx)("li",{children:"\u2022 Hole 1: 4 strokes + 1 mulligan = 5 total"}),(0,Na.jsx)("li",{children:"\u2022 Hole 2: 3 strokes + 0 mulligans = 3 total"}),(0,Na.jsx)("li",{children:"\u2022 Hole 3: 5 strokes + 1 mulligan = 6 total"}),(0,Na.jsx)("li",{children:"\u2022 ... (remaining holes)"}),(0,Na.jsx)("li",{className:"font-semibold text-gray-900 mt-2",children:"Final Score: 72 strokes + 3 mulligans = 75 total"})]})]})]}),(0,Na.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,Na.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[(0,Na.jsx)(Vl,{className:"w-5 h-5 mr-2 text-yellow-600"}),"Important Notes"]}),(0,Na.jsxs)("ul",{className:"space-y-2 text-gray-700",children:[(0,Na.jsxs)("li",{className:"flex items-start",children:[(0,Na.jsx)("span",{className:"w-2 h-2 bg-yellow-600 rounded-full mt-2 mr-3 flex-shrink-0"}),(0,Na.jsx)("span",{children:"Mulligans must be declared before taking the shot"})]}),(0,Na.jsxs)("li",{className:"flex items-start",children:[(0,Na.jsx)("span",{className:"w-2 h-2 bg-yellow-600 rounded-full mt-2 mr-3 flex-shrink-0"}),(0,Na.jsx)("span",{children:'Once a mulligan is used, it cannot be "unused"'})]}),(0,Na.jsxs)("li",{className:"flex items-start",children:[(0,Na.jsx)("span",{className:"w-2 h-2 bg-yellow-600 rounded-full mt-2 mr-3 flex-shrink-0"}),(0,Na.jsx)("span",{children:"All standard golf rules apply except for mulligan usage"})]}),(0,Na.jsxs)("li",{className:"flex items-start",children:[(0,Na.jsx)("span",{className:"w-2 h-2 bg-yellow-600 rounded-full mt-2 mr-3 flex-shrink-0"}),(0,Na.jsx)("span",{children:"Have fun and be honest about your mulligan usage!"})]})]})]})]})}),(0,Na.jsx)("div",{className:"flex justify-end p-6 border-t border-gray-200",children:(0,Na.jsx)("button",{onClick:r,className:"px-6 py-2 bg-brand-neon-green text-brand-black rounded-lg hover:bg-brand-neon-green/90 transition-colors",children:"Got it!"})})]})}):null},$l=e=>{let{isOpen:t,onClose:r,onSave:s,courseName:a,holes:l}=e;const[o,i]=(0,n.useState)(Array.from({length:l},()=>4)),[c,d]=(0,n.useState)([]);return t?(0,Na.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:r,children:(0,Na.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Set Par Values"}),(0,Na.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Help the community by setting par values for ",a]})]}),(0,Na.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Na.jsx)(tt,{className:"w-6 h-6"})})]}),(0,Na.jsxs)("div",{className:"p-6",children:[(0,Na.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:(0,Na.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Na.jsx)(Il,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),(0,Na.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,Na.jsx)("p",{className:"font-medium mb-1",children:"You're the first to submit a score for this course!"}),(0,Na.jsx)("p",{children:"You're helping the community by setting the par values. Once saved, all future players will see the correct par for each hole."})]})]})}),(0,Na.jsxs)("div",{className:"mb-6",children:[(0,Na.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Hole-by-Hole Par Values"}),(0,Na.jsx)("div",{className:"grid ".concat("grid-cols-9"," gap-3"),children:o.map((e,t)=>(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Hole ",t+1]}),(0,Na.jsx)("input",{type:"number",min:"3",max:"6",value:e,onChange:e=>((e,t)=>{const r=[...o];r[e]=Math.max(3,Math.min(6,t)),i(r)})(t,parseInt(e.target.value)||4),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-center text-lg font-semibold"})]},t))})]}),(0,Na.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:(0,Na.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Total Par:"}),(0,Na.jsx)("span",{className:"text-xl font-bold text-gray-900 ml-2",children:o.reduce((e,t)=>e+t,0)})]}),(0,Na.jsxs)("div",{className:"text-sm text-gray-600",children:[l," holes \u2022 ",o.filter(e=>3===e).length," par 3s \u2022 ",o.filter(e=>4===e).length," par 4s \u2022 ",o.filter(e=>5===e).length," par 5s"]})]})}),c.length>0&&(0,Na.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:(0,Na.jsx)("ul",{className:"list-disc list-inside text-sm text-red-800",children:c.map((e,t)=>(0,Na.jsx)("li",{children:e},t))})})]}),(0,Na.jsxs)("div",{className:"flex justify-between p-6 border-t border-gray-200",children:[(0,Na.jsx)("button",{onClick:r,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),(0,Na.jsxs)("button",{onClick:()=>{const e=[];o.some(e=>e<3||e>6)&&e.push("Par values must be between 3 and 6");const t=o.reduce((e,t)=>e+t,0),r=18===l?[70,74]:[35,37];(t<r[0]||t>r[1])&&e.push("Total par should typically be between ".concat(r[0]," and ").concat(r[1]," for ").concat(l," holes")),e.length>0?d(e):s(o)},className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium flex items-center space-x-2",children:[(0,Na.jsx)(an,{className:"w-4 h-4"}),(0,Na.jsx)("span",{children:"Save Par Values"})]})]})]})}):null},Yl=e=>{let{onClose:t,onSave:r,userInfo:s,holes:a=18,course:l,nineType:o}=e;const{user:i}=ka(),{scoreCard:c,updatePlayerInfo:d,updateHoleScore:u,applyMulligan:m,revokeMulligan:x,getRemainingMulligans:h,validateScoreCard:p,resetScoreCard:f,getScoreStats:b,TOTAL_MULLIGANS:g,HOLES:y}=Hl(a),[v,j]=(0,n.useState)(!1),[N,w]=(0,n.useState)([]),[_,k]=(0,n.useState)(!1),[S,C]=(0,n.useState)(!1),E=(0,n.useRef)(!1),T=h(),P=b(),L=(()=>{const e=(()=>{if(null!==l&&void 0!==l&&l.par_values)return l.par_values;const e=[4,3,4,5,4,3,4,4,4,4,3,4,5,4,3,4,4,4];return 9===a?e.slice(0,9):e})();return"front"===o?e.slice(0,9):"back"===o?e.slice(9,18):e})();return(0,n.useEffect)(()=>{!l||l.par_values||E.current||(i?(C(!0),E.current=!0):(alert("You need to be logged in to set par values for this course. Please log in and try again."),E.current=!0))},[l,i]),(0,Na.jsxs)("div",{className:"max-w-6xl mx-auto p-4",children:[(0,Na.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Na.jsx)("div",{className:"bg-green-100 rounded-full p-3",children:(0,Na.jsx)(Dl,{className:"w-8 h-8 text-green-600"})}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h1",{className:"text-3xl font-bold text-brand-black",children:"Mully Golf Scorecard"}),(0,Na.jsx)("p",{className:"text-brand-muted-green",children:"Track your round with strategic mulligan usage"}),l&&(0,Na.jsxs)("div",{className:"mt-2 text-sm text-gray-600",children:[(0,Na.jsx)("div",{className:"font-medium",children:l.name}),(l.location||l.designer)&&(0,Na.jsxs)("div",{className:"text-gray-500",children:[l.location&&(0,Na.jsx)("span",{children:l.location}),l.location&&l.designer&&(0,Na.jsx)("span",{children:" \u2022 "}),l.designer&&(0,Na.jsxs)("span",{children:["by ",l.designer]})]})]})]})]}),(0,Na.jsxs)("div",{className:"flex space-x-2",children:[(0,Na.jsxs)("button",{onClick:()=>j(!0),className:"flex items-center px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[(0,Na.jsx)(Il,{className:"w-4 h-4 mr-2"}),"Rules"]}),(0,Na.jsxs)("button",{onClick:()=>{window.confirm("Are you sure you want to reset the scorecard? This will clear all scores.")&&(f(),w([]))},className:"flex items-center px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:[(0,Na.jsx)(Ul,{className:"w-4 h-4 mr-2"}),"Reset"]}),(0,Na.jsxs)("button",{onClick:async()=>{console.log("Starting save process..."),console.log("Current scoreCard state:",c);const e=p();if(console.log("Validation errors:",e),e.length>0)return w(e),void console.log("Validation failed, not saving");k(!0);try{if(console.log("Calling onSave with scoreCard data..."),r){var t,s,a;const e=Ue(Ue({},c),{},{teebox:null===l||void 0===l||null===(t=l.teeboxData)||void 0===t?void 0:t.teebox,course_rating:null===l||void 0===l||null===(s=l.teeboxData)||void 0===s?void 0:s.courseRating,course_slope:null===l||void 0===l||null===(a=l.teeboxData)||void 0===a?void 0:a.courseSlope});await r(e)}w([]),console.log("Save completed successfully")}catch(n){console.error("Save failed with error:",n),w(["Failed to save scorecard"])}finally{k(!1)}},disabled:_,className:"flex items-center px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg hover:bg-brand-neon-green/90 transition-colors disabled:opacity-50",children:[(0,Na.jsx)(an,{className:"w-4 h-4 mr-2"}),_?"Saving...":"Save Round"]}),t&&(0,Na.jsx)("button",{onClick:t,className:"flex items-center px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"Close"})]})]}),(0,Na.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsx)("div",{className:"flex items-center space-x-4",children:(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsx)(Dl,{className:"w-5 h-5 text-green-600"}),(0,Na.jsx)("span",{className:"font-semibold text-green-800",children:"Mulligans Remaining:"}),(0,Na.jsx)("span",{className:"text-2xl font-bold ".concat(T>0?"text-green-600":"text-red-600"),children:T}),(0,Na.jsxs)("span",{className:"text-green-600",children:["/ ",g]})]})}),(0,Na.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"text-sm text-gray-600",children:"Total Strokes"}),(0,Na.jsx)("div",{className:"text-xl font-bold text-gray-900",children:c.totalStrokes})]}),(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"text-sm text-gray-600",children:"Mulligans Used"}),(0,Na.jsx)("div",{className:"text-xl font-bold text-green-600",children:c.totalMulligans})]}),(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"text-sm text-gray-600",children:"Final Score"}),(0,Na.jsx)("div",{className:"text-2xl font-bold text-brand-black",children:c.finalScore})]})]})]})})]}),(0,Na.jsx)(Bl,{playerInfo:c.playerInfo,onUpdate:d,errors:N,userInfo:s}),(0,Na.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[(0,Na.jsxs)("h2",{className:"text-xl font-bold text-brand-black mb-4 flex items-center",children:[(0,Na.jsx)(Ca,{className:"w-5 h-5 mr-2"}),"Scorecard"]}),(0,Na.jsxs)("div",{className:"grid grid-cols-12 gap-2 items-center py-3 border-b-2 border-gray-200 font-semibold text-gray-700",children:[(0,Na.jsx)("div",{className:"col-span-1 text-center",children:"Hole"}),(0,Na.jsx)("div",{className:"col-span-3 text-center",children:"Strokes"}),(0,Na.jsx)("div",{className:"col-span-2 text-center",children:"Score"}),(0,Na.jsx)("div",{className:"col-span-3 text-center",children:"Mulligans"}),(0,Na.jsx)("div",{className:"col-span-1 text-center",children:"Count"}),(0,Na.jsx)("div",{className:"col-span-2 text-center",children:"Total"})]}),(0,Na.jsx)("div",{className:"space-y-1",children:c.holes.map(e=>(0,Na.jsx)(ql,{hole:e,onUpdateStrokes:t=>u(e.hole,"strokes",t),onUseMulligan:()=>m(e.hole),onRemoveMulligan:()=>x(e.hole),remainingMulligans:T,isPar:L[e.hole-1]},e.hole))})]}),P&&(0,Na.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[(0,Na.jsxs)("h2",{className:"text-xl font-bold text-brand-black mb-4 flex items-center",children:[(0,Na.jsx)(at,{className:"w-5 h-5 mr-2"}),"Round Statistics"]}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:P.totalHoles}),(0,Na.jsx)("div",{className:"text-sm text-gray-600",children:"Holes Played"})]}),(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"text-3xl font-bold text-green-600 mb-2",children:P.averageScore}),(0,Na.jsx)("div",{className:"text-sm text-gray-600",children:"Average Score"})]}),(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:P.bestHole.strokes}),(0,Na.jsxs)("div",{className:"text-sm text-gray-600",children:["Best Hole (#",P.bestHole.hole,")"]})]}),(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsxs)("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:[P.mulliganEfficiency,"%"]}),(0,Na.jsx)("div",{className:"text-sm text-gray-600",children:"Mulligan Usage"})]})]})]}),(0,Na.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,Na.jsxs)("h2",{className:"text-xl font-bold text-brand-black mb-4 flex items-center",children:[(0,Na.jsx)(Oa,{className:"w-5 h-5 mr-2"}),"Final Score Summary"]}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Na.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[(0,Na.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:c.totalStrokes}),(0,Na.jsx)("div",{className:"text-sm text-gray-600",children:"Total Strokes"})]}),(0,Na.jsxs)("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[(0,Na.jsx)("div",{className:"text-2xl font-bold text-green-600",children:c.totalMulligans}),(0,Na.jsx)("div",{className:"text-sm text-gray-600",children:"Mulligans Used"})]}),(0,Na.jsxs)("div",{className:"bg-brand-neon-green/10 rounded-lg p-4 text-center",children:[(0,Na.jsx)("div",{className:"text-3xl font-bold text-brand-black",children:c.finalScore}),(0,Na.jsx)("div",{className:"text-sm text-gray-600",children:"Final Score"})]})]})]}),(0,Na.jsx)(Gl,{isOpen:v,onClose:()=>j(!1)}),(0,Na.jsx)($l,{isOpen:S,onClose:()=>C(!1),onSave:async e=>{try{null!==l&&void 0!==l&&l.id&&(console.log("Saving par values:",{courseId:l.id,parValues:e}),await ma(l.id,e),l&&(l.par_values=e)),C(!1)}catch(n){var t,r,s,a;console.error("Error saving par values:",n),console.error("Error response:",n.response),401===(null===(t=n.response)||void 0===t?void 0:t.status)?alert("You need to be logged in to save par values. Please log in and try again."):403===(null===(r=n.response)||void 0===r?void 0:r.status)?alert("You do not have permission to save par values for this course."):null!==(s=n.response)&&void 0!==s&&null!==(a=s.data)&&void 0!==a&&a.error?alert("Error: ".concat(n.response.data.error)):alert("Failed to save par values. Please try again.")}},courseName:(null===l||void 0===l?void 0:l.name)||"Unknown Course",holes:a})]})},Ql=e=>{var t,r,s,a,l;let{onClose:o,onSave:i,userInfo:c,holes:d=18,course:u,nineType:m}=e;const{user:x}=ka(),[h,p]=(0,n.useState)({name:"",date:(new Date).toISOString().split("T")[0],handicap:0});(0,n.useEffect)(()=>{c&&p(e=>Ue(Ue({},e),{},{name:c.name||e.name,handicap:c.handicap||e.handicap}))},[c]);const[f,b]=(0,n.useState)(Array.from({length:d},(e,t)=>({hole:t+1,strokes:0}))),[g,y]=(0,n.useState)("hole-by-hole"),[v,j]=(0,n.useState)(0),[N,w]=(0,n.useState)([]),[_,k]=(0,n.useState)(!1),[S,C]=(0,n.useState)(!1),E=(0,n.useRef)(!1),T=(()=>{const e=(()=>{if(null!==u&&void 0!==u&&u.par_values)return u.par_values;const e=[4,3,4,5,4,3,4,4,4,4,3,4,5,4,3,4,4,4];return 9===d?e.slice(0,9):e})();return"front"===m?e.slice(0,9):"back"===m?e.slice(9,18):e})();(0,n.useEffect)(()=>{!u||u.par_values||E.current||(x?(C(!0),E.current=!0):(alert("You need to be logged in to set par values for this course. Please log in and try again."),E.current=!0))},[u,x]);const P="total-score"===g?v:f.reduce((e,t)=>e+t.strokes,0),L=T.reduce((e,t)=>e+t,0),R=P-L,M=function(e,t,r){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:18;if(e<=0||!t||!r||r<=0||isNaN(e)||isNaN(t)||isNaN(r))return null;let a,n=t,l=r;return 9===s?(n/=2,l/=2,a=113*(e-n)/l,a*=2):a=113*(e-n)/l,Math.round(1e6*a)/1e6}(P,(null===u||void 0===u||null===(t=u.teeboxData)||void 0===t?void 0:t.courseRating)||0,(null===u||void 0===u||null===(r=u.teeboxData)||void 0===r?void 0:r.courseSlope)||0,d),A=(e,t)=>{p(r=>Ue(Ue({},r),{},{[e]:t}))},D=(e,t)=>0===e?"text-gray-400":e===t?"text-green-600":e===t-1?"text-blue-600":e===t-2?"text-purple-600":e===t+1?"text-orange-600":e>=t+2?"text-red-600":"text-gray-900",I=(e,t)=>0===e?"":e===t-2?"EAGLE":e===t-1?"BIRDIE":e===t?"PAR":e===t+1?"BOGEY":e===t+2?"DOUBLE":"+".concat(e-t);return(0,Na.jsxs)("div",{className:"max-w-6xl mx-auto p-4",children:[(0,Na.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:(0,Na.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,Na.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Na.jsx)("div",{className:"bg-blue-100 rounded-full p-3",children:(0,Na.jsx)(Ca,{className:"w-8 h-8 text-blue-600"})}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h1",{className:"text-3xl font-bold text-brand-black",children:"Stroke Play Scorecard"}),(0,Na.jsx)("p",{className:"text-brand-muted-green",children:"Traditional golf scoring"}),u&&(0,Na.jsxs)("div",{className:"mt-2 text-sm text-gray-600",children:[(0,Na.jsx)("div",{className:"font-medium",children:u.name}),(u.location||u.designer)&&(0,Na.jsxs)("div",{className:"text-gray-500",children:[u.location&&(0,Na.jsx)("span",{children:u.location}),u.location&&u.designer&&(0,Na.jsx)("span",{children:" \u2022 "}),u.designer&&(0,Na.jsxs)("span",{children:["by ",u.designer]})]})]})]})]})})}),(0,Na.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[(0,Na.jsx)("h2",{className:"text-xl font-bold text-brand-black mb-4",children:"Player Information"}),N.length>0&&(0,Na.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:(0,Na.jsx)("ul",{className:"list-disc list-inside",children:N.map((e,t)=>(0,Na.jsx)("li",{children:e},t))})}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Player Name *"}),(0,Na.jsx)("input",{type:"text",value:h.name,onChange:e=>A("name",e.target.value),placeholder:"Enter your name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date *"}),(0,Na.jsx)("input",{type:"date",value:h.date,onChange:e=>A("date",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Handicap"}),(0,Na.jsx)("input",{type:"number",value:h.handicap,onChange:e=>A("handicap",parseInt(e.target.value)||0),placeholder:"0",min:"0",max:"54",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"})]})]})]}),(0,Na.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[(0,Na.jsx)("h2",{className:"text-xl font-bold text-brand-black mb-4",children:"Scoring Method"}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Na.jsx)("button",{onClick:()=>y("hole-by-hole"),className:"p-4 rounded-lg border-2 transition-all ".concat("hole-by-hole"===g?"border-brand-neon-green bg-green-50 text-brand-black":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"),children:(0,Na.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Na.jsx)("div",{className:"w-4 h-4 rounded-full border-2 ".concat("hole-by-hole"===g?"border-brand-neon-green bg-brand-neon-green":"border-gray-300"),children:"hole-by-hole"===g&&(0,Na.jsx)("div",{className:"w-2 h-2 bg-white rounded-full m-0.5"})}),(0,Na.jsxs)("div",{className:"text-left",children:[(0,Na.jsx)("div",{className:"font-semibold",children:"Hole-by-Hole Scoring"}),(0,Na.jsx)("div",{className:"text-sm text-gray-600",children:"Enter individual scores for each hole"})]})]})}),(0,Na.jsx)("button",{onClick:()=>y("total-score"),className:"p-4 rounded-lg border-2 transition-all ".concat("total-score"===g?"border-brand-neon-green bg-green-50 text-brand-black":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"),children:(0,Na.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Na.jsx)("div",{className:"w-4 h-4 rounded-full border-2 ".concat("total-score"===g?"border-brand-neon-green bg-brand-neon-green":"border-gray-300"),children:"total-score"===g&&(0,Na.jsx)("div",{className:"w-2 h-2 bg-white rounded-full m-0.5"})}),(0,Na.jsxs)("div",{className:"text-left",children:[(0,Na.jsx)("div",{className:"font-semibold",children:"Total Score"}),(0,Na.jsx)("div",{className:"text-sm text-gray-600",children:"Enter your total score for the round"})]})]})})]}),"total-score"===g&&(0,Na.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Score *"}),(0,Na.jsx)("input",{type:"number",value:v||"",onChange:e=>j(parseInt(e.target.value)||0),placeholder:"Enter your total score",min:"1",max:"200",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent text-center text-lg font-semibold"})]})]}),(0,Na.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[(0,Na.jsx)("div",{className:"flex items-center justify-between",children:(0,Na.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"text-sm text-gray-600",children:"Total Strokes"}),(0,Na.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:P})]}),(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"text-sm text-gray-600",children:"Total Par"}),(0,Na.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:L})]}),(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"text-sm text-gray-600",children:"Score to Par"}),(0,Na.jsx)("div",{className:"text-2xl font-bold ".concat(R>0?"text-red-600":R<0?"text-green-600":"text-gray-900"),children:R>0?"+".concat(R):R})]}),null!==M&&(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"text-sm text-gray-600",children:"Handicap Differential"}),(0,Na.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:M.toFixed(1)})]})]})}),null===M&&P>0&&(null===u||void 0===u?void 0:u.teeboxData)&&(0,Na.jsxs)("div",{className:"mt-3 text-sm text-gray-600",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,Na.jsxs)("span",{children:["Course Rating: ",u.teeboxData.courseRating]}),(0,Na.jsxs)("span",{children:["Slope: ",u.teeboxData.courseSlope]}),(0,Na.jsxs)("span",{children:["Teebox: ",u.teeboxData.teebox]})]}),(0,Na.jsx)("div",{className:"mt-2 text-center",children:(0,Na.jsx)("span",{className:"text-orange-600 font-medium",children:"\u2713 Handicap differential will be calculated on submission"})})]}),null===M&&P>0&&!(null!==u&&void 0!==u&&u.teeboxData)&&(0,Na.jsx)("div",{className:"mt-3 text-sm text-red-600 text-center",children:(0,Na.jsx)("span",{className:"font-medium",children:"\u26a0\ufe0f Handicap differential cannot be calculated - missing course rating and slope data"})})]}),"hole-by-hole"===g&&(0,Na.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[(0,Na.jsxs)("h2",{className:"text-xl font-bold text-brand-black mb-4 flex items-center",children:[(0,Na.jsx)(Ca,{className:"w-5 h-5 mr-2"}),"Scorecard"]}),(0,Na.jsxs)("div",{className:"grid grid-cols-6 gap-2 items-center py-3 border-b-2 border-gray-200 font-semibold text-gray-700",children:[(0,Na.jsx)("div",{className:"text-center",children:"Hole"}),(0,Na.jsx)("div",{className:"text-center",children:"Par"}),(0,Na.jsx)("div",{className:"text-center",children:"Strokes"}),(0,Na.jsx)("div",{className:"text-center",children:"Score"}),(0,Na.jsx)("div",{className:"text-center",children:"To Par"}),(0,Na.jsx)("div",{className:"text-center",children:"Running Total"})]}),(0,Na.jsx)("div",{className:"space-y-1",children:f.map((e,t)=>{const r=T[e.hole-1],s=f.slice(0,t+1).reduce((e,t)=>e+t.strokes,0);f.slice(0,t+1).reduce((e,t,r)=>e+(t.strokes-T[r]),0);return(0,Na.jsxs)("div",{className:"grid grid-cols-6 gap-2 items-center py-3 border-b border-gray-100 hover:bg-gray-50 transition-colors",children:[(0,Na.jsx)("div",{className:"text-center font-semibold text-gray-700",children:e.hole}),(0,Na.jsx)("div",{className:"text-center text-gray-600",children:r}),(0,Na.jsx)("div",{className:"text-center",children:(0,Na.jsx)("input",{type:"number",value:e.strokes||"",onChange:t=>{return r=e.hole,s=parseInt(t.target.value)||0,void b(e=>e.map(e=>e.hole===r?Ue(Ue({},e),{},{strokes:Math.max(0,s)}):e));var r,s},className:"w-16 text-center border border-gray-300 rounded-lg py-1 focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",min:"0",max:"20"})}),(0,Na.jsx)("div",{className:"text-center",children:e.strokes>0&&(0,Na.jsxs)("div",{className:"font-bold ".concat(D(e.strokes,r)),children:[e.strokes,I(e.strokes,r)&&(0,Na.jsx)("div",{className:"text-xs font-normal",children:I(e.strokes,r)})]})}),(0,Na.jsx)("div",{className:"text-center",children:e.strokes>0&&(0,Na.jsx)("span",{className:"font-semibold ".concat(e.strokes>r?"text-red-600":e.strokes<r?"text-green-600":"text-gray-900"),children:e.strokes>r?"+".concat(e.strokes-r):e.strokes<r?"-".concat(r-e.strokes):"E"})}),(0,Na.jsx)("div",{className:"text-center",children:e.strokes>0&&(0,Na.jsx)("span",{className:"font-semibold text-gray-900",children:s})})]},e.hole)})})]}),"hole-by-hole"===g&&(0,Na.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,Na.jsxs)("h2",{className:"text-xl font-bold text-brand-black mb-4 flex items-center",children:[(0,Na.jsx)(Oa,{className:"w-5 h-5 mr-2"}),"Final Summary"]}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Na.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[(0,Na.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:P}),(0,Na.jsx)("div",{className:"text-sm text-gray-600",children:"Total Strokes"})]}),(0,Na.jsxs)("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[(0,Na.jsx)("div",{className:"text-2xl font-bold text-green-600",children:L}),(0,Na.jsx)("div",{className:"text-sm text-gray-600",children:"Total Par"})]}),(0,Na.jsxs)("div",{className:"bg-brand-neon-green/10 rounded-lg p-4 text-center",children:[(0,Na.jsx)("div",{className:"text-3xl font-bold ".concat(R>0?"text-red-600":R<0?"text-green-600":"text-brand-black"),children:R>0?"+".concat(R):R}),(0,Na.jsx)("div",{className:"text-sm text-gray-600",children:"Score to Par"})]}),null!==M&&(0,Na.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4 text-center",children:[(0,Na.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:M.toFixed(1)}),(0,Na.jsx)("div",{className:"text-sm text-gray-600",children:"Handicap Differential"})]})]}),null!==M&&(0,Na.jsx)("div",{className:"mt-4 p-3 bg-purple-50 border border-purple-200 rounded-lg",children:(0,Na.jsxs)("div",{className:"text-sm text-purple-700",children:[(0,Na.jsx)("div",{className:"font-medium mb-1",children:"Handicap Differential Details:"}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 text-xs",children:[(0,Na.jsxs)("div",{children:["Course Rating: ",(0,Na.jsx)("span",{className:"font-semibold",children:null===u||void 0===u||null===(s=u.teeboxData)||void 0===s?void 0:s.courseRating})]}),(0,Na.jsxs)("div",{children:["Course Slope: ",(0,Na.jsx)("span",{className:"font-semibold",children:null===u||void 0===u||null===(a=u.teeboxData)||void 0===a?void 0:a.courseSlope})]}),(0,Na.jsxs)("div",{children:["Teebox: ",(0,Na.jsx)("span",{className:"font-semibold",children:null===u||void 0===u||null===(l=u.teeboxData)||void 0===l?void 0:l.teebox})]})]})]})})]}),(0,Na.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:(0,Na.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-2",children:[(0,Na.jsxs)("button",{onClick:()=>{window.confirm("Are you sure you want to reset the scorecard? This will clear all scores.")&&(b(Array.from({length:d},(e,t)=>({hole:t+1,strokes:0}))),j(0),w([]))},className:"flex items-center justify-center px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm font-medium",children:[(0,Na.jsx)(Ul,{className:"w-4 h-4 mr-2"}),"Reset"]}),(0,Na.jsxs)("button",{onClick:async()=>{console.log("Starting StrokePlay save process..."),console.log("Current data:",{playerInfo:h,holes:f,totalStrokes:P,totalPar:L,scoreToPar:R,handicapDifferential:M,scoringMode:g});const e=(()=>{const e=[];h.name.trim()||e.push("Player name is required"),h.date||e.push("Date is required"),"hole-by-hole"===g?0===f.filter(e=>e.strokes>0).length&&e.push("At least one hole must have a score"):v<=0&&e.push("Total score must be greater than 0");return P>0&&null===M&&e.push("Handicap differential cannot be calculated. Please ensure course rating and slope are available."),e})();if(console.log("Validation errors:",e),e.length>0)return w(e),void console.log("Validation failed, not saving");k(!0);try{if(console.log("Calling onSave with stroke play data..."),i){var t,r,s;const e={playerInfo:h,holes:"total-score"===g?[]:f,totalStrokes:P,totalPar:L,scoreToPar:R,type:"stroke_play",teebox:null===u||void 0===u||null===(t=u.teeboxData)||void 0===t?void 0:t.teebox,course_rating:null===u||void 0===u||null===(r=u.teeboxData)||void 0===r?void 0:r.courseRating,course_slope:null===u||void 0===u||null===(s=u.teeboxData)||void 0===s?void 0:s.courseSlope,handicap_differential:M,scoringMode:g};console.log("Scorecard data being sent:",e),await i(e)}w([]),console.log("StrokePlay save completed successfully")}catch(a){console.error("StrokePlay save failed with error:",a),w(["Failed to save scorecard"])}finally{k(!1)}},disabled:_,className:"flex items-center justify-center px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg hover:bg-brand-neon-green/90 transition-colors disabled:opacity-50 text-sm font-medium",children:[(0,Na.jsx)(an,{className:"w-4 h-4 mr-2"}),_?"Saving...":"Save Round"]}),o&&(0,Na.jsx)("button",{onClick:o,className:"flex items-center justify-center px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors text-sm font-medium",children:"Close"})]})}),(0,Na.jsx)($l,{isOpen:S,onClose:()=>C(!1),onSave:async e=>{try{null!==u&&void 0!==u&&u.id&&(console.log("Saving par values:",{courseId:u.id,parValues:e}),await ma(u.id,e),u&&(u.par_values=e)),C(!1)}catch(n){var t,r,s,a;console.error("Error saving par values:",n),console.error("Error response:",n.response),401===(null===(t=n.response)||void 0===t?void 0:t.status)?alert("You need to be logged in to save par values. Please log in and try again."):403===(null===(r=n.response)||void 0===r?void 0:r.status)?alert("You do not have permission to save par values for this course."):null!==(s=n.response)&&void 0!==s&&null!==(a=s.data)&&void 0!==a&&a.error?alert("Error: ".concat(n.response.data.error)):alert("Failed to save par values. Please try again.")}},courseName:(null===u||void 0===u?void 0:u.name)||"Unknown Course",holes:d})]})},Kl=e=>{let{className:t=""}=e;const{user:r,viewAsMode:s,enterViewAsMode:a,exitViewAsMode:l,isAdmin:o}=ka(),[i,c]=(0,n.useState)(!1),[d,u]=(0,n.useState)(""),[m,x]=(0,n.useState)(""),[h,p]=(0,n.useState)([]),[f,b]=(0,n.useState)([]),[g,y]=(0,n.useState)(!1),[v,j]=(0,n.useState)(!0);(0,n.useEffect)(()=>{(async()=>{if(o)try{j(!0);const e=await ja.get("/admin/view-as-data");p(e.data.roles),b(e.data.clubs),null!==r&&void 0!==r&&r.club&&""===m&&x(r.club)}catch(e){console.error("Error fetching view-as data:",e),p([{value:"Member",label:"Member"},{value:"Club Pro",label:"Club Pro"},{value:"Ambassador",label:"Ambassador"}]),b(["No. 1","No. 2","No. 3","No. 4","No. 5","No. 6","No. 7","No. 8","No. 9","No. 10","No. 11","No. 12"])}finally{j(!1)}})()},[o,r,m]);return o?(0,Na.jsxs)("div",{className:"relative ".concat(t),children:[!s.isActive&&(0,Na.jsx)("button",{onClick:()=>{c(!0),u(""),x((null===r||void 0===r?void 0:r.club)||"")},className:"flex items-center justify-center p-1.5 sm:p-2 bg-white/10 backdrop-blur-sm text-white rounded-full hover:bg-white/20 transition-all duration-200 border border-white/20 hover:border-white/30 shadow-lg hover:shadow-xl",title:"Enter view-as mode",children:(0,Na.jsx)(Da,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),i&&(0,Na.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Na.jsx)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:(0,Na.jsxs)("div",{className:"p-6",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsx)(Da,{className:"w-5 h-5 text-blue-600"}),(0,Na.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"View As Mode"})]}),(0,Na.jsx)("button",{onClick:()=>c(!1),className:"p-1 hover:bg-gray-100 rounded transition-colors",children:(0,Na.jsx)(tt,{className:"w-5 h-5"})})]}),(0,Na.jsx)("div",{className:"mb-6 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,Na.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,Na.jsx)("strong",{children:"Admin View-As Mode:"})," Experience the platform from a different user's perspective. This helps with testing, debugging, and user support."]})}),(0,Na.jsxs)("div",{className:"mb-4",children:[(0,Na.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,Na.jsx)(et,{className:"w-4 h-4 inline mr-1"}),"Select Role"]}),(0,Na.jsxs)("select",{value:d,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 bg-white",disabled:v,children:[(0,Na.jsx)("option",{value:"",children:"Select a role..."}),h.map(e=>(0,Na.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,Na.jsxs)("div",{className:"mb-6",children:[(0,Na.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,Na.jsx)(Xe,{className:"w-4 h-4 inline mr-1"}),"Select Club"]}),(0,Na.jsxs)("select",{value:m,onChange:e=>x(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 bg-white",disabled:v,children:[(0,Na.jsx)("option",{value:"",children:"Select a club..."}),f.map(e=>(0,Na.jsx)("option",{value:e,children:e},e))]})]}),d&&m&&(0,Na.jsx)("div",{className:"mb-6 p-3 bg-gray-50 border border-gray-200 rounded-lg",children:(0,Na.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-700",children:[(0,Na.jsx)(il,{className:"w-4 h-4 text-green-600"}),(0,Na.jsxs)("span",{children:["You will view the platform as a ",(0,Na.jsx)("strong",{children:d})," from ",(0,Na.jsx)("strong",{children:m})]})]})}),(0,Na.jsxs)("div",{className:"flex space-x-3",children:[(0,Na.jsx)("button",{onClick:()=>c(!1),className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 text-sm",children:"Cancel"}),(0,Na.jsx)("button",{onClick:()=>{if(d&&m){y(!0);try{a(d,m),c(!1)}catch(e){console.error("Error entering view-as mode:",e),alert("Failed to enter view-as mode")}finally{y(!1)}}else alert("Please select both a role and club")},disabled:!d||!m||g,className:"flex-1 px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center space-x-2 text-sm shadow-sm hover:shadow-md",children:g?(0,Na.jsxs)(Na.Fragment,{children:[(0,Na.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,Na.jsx)("span",{children:"Entering..."})]}):(0,Na.jsxs)(Na.Fragment,{children:[(0,Na.jsx)(Da,{className:"w-4 h-4"}),(0,Na.jsx)("span",{children:"Activate View As"})]})})]}),(0,Na.jsx)("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,Na.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Na.jsx)(Vl,{className:"w-4 h-4 text-yellow-600 mt-0.5"}),(0,Na.jsxs)("div",{className:"text-sm text-yellow-800",children:[(0,Na.jsx)("p",{className:"font-medium",children:"Important:"}),(0,Na.jsxs)("ul",{className:"mt-1 space-y-1 text-xs",children:[(0,Na.jsx)("li",{children:"\u2022 Your admin privileges are preserved"}),(0,Na.jsx)("li",{children:"\u2022 You can exit view-as mode anytime"}),(0,Na.jsx)("li",{children:"\u2022 Changes made in view-as mode affect the actual user experience"})]})]})]})})]})})})]}):null},Jl=()=>{var e,t,r,s,a,l,o,i;const{user:c,token:d,logout:u,refreshUser:m}=ka(),x=te(),[h,p]=(0,n.useState)(null),[f,b]=(0,n.useState)([]),[g,y]=(0,n.useState)(!1),[v,j]=(0,n.useState)(!0),[N,w]=(0,n.useState)(null),[_,k]=(0,n.useState)(null),[S,C]=(0,n.useState)(null),[E,T]=(0,n.useState)([]),[P,L]=(0,n.useState)([]),[R,M]=(0,n.useState)(!1),[A,D]=(0,n.useState)("overview"),[I,O]=(0,n.useState)({first_name:(null===c||void 0===c?void 0:c.first_name)||"",last_name:(null===c||void 0===c?void 0:c.last_name)||"",email:(null===c||void 0===c?void 0:c.email)||"",club:(null===c||void 0===c?void 0:c.club)||"",handicap:(null===c||void 0===c?void 0:c.handicap)||0,sim_handicap:(null===c||void 0===c?void 0:c.sim_handicap)||0}),[F,z]=(0,n.useState)(!1),[U,H]=(0,n.useState)(!1),[B,W]=(0,n.useState)(null),[q,V]=(0,n.useState)(null),[G,$]=(0,n.useState)(null),[Y,Q]=(0,n.useState)(null),[K,J]=(0,n.useState)(null),X=(0,n.useRef)(null),[Z,ee]=(0,n.useState)(!1),[re,se]=(0,n.useState)(!1),[ae,ne]=(0,n.useState)(null),[le,oe]=(0,n.useState)(!1),[ie,ce]=(0,n.useState)(null),de=async()=>{if(null!==c&&void 0!==c&&c.member_id)try{j(!0),console.log("Fetching data for user ID:",c.member_id),console.log("User data:",c);const[r,s,a,n,l,o]=await Promise.all([(t=c.member_id,Rs.get("/user-profiles/".concat(t))),Rs.get("/matches"),(e=c.member_id,Rs.get("/users/".concat(e,"/sim-stats"))),Ds(c.member_id),Is(c.member_id),$s(c.member_id)]);console.log("Sim stats response:",a.data),console.log("Combined stats response:",n.data);null===c||void 0===c||c.sim_handicap,null===c||void 0===c||c.grass_handicap;p(r.data),b(s.data),k(a.data),C(n.data),T(l.data),L(o.data),console.log("User tournaments with score submission status:",o.data)}catch(r){w("Failed to load profile data"),console.error("Error fetching profile:",r)}finally{j(!1)}var e,t};(0,n.useEffect)(()=>{de()},[null===c||void 0===c?void 0:c.member_id]);const ue=()=>{z(!0)},me=()=>{H(!1),W(null),V(null),$(null),Q(null),J(null)},xe=async e=>{try{var t,r,s,a,n,l;console.log("ScoreCard data received:",e);try{const e=await ja.get("/health");console.log("API health check:",e.status)}catch(u){console.error("API health check failed:",u)}const o={type:e.type||("mully"===B?"mully_golf":"stroke_play"),player_name:(null===(t=e.playerInfo)||void 0===t?void 0:t.name)||e.player_name||"",date_played:(null===(r=e.playerInfo)||void 0===r?void 0:r.date)||e.date_played||(new Date).toISOString().split("T")[0],handicap:(null===(s=e.playerInfo)||void 0===s?void 0:s.handicap)||e.handicap||0,scores:e.holes||e.scores||[],total_strokes:e.totalStrokes||e.total_strokes||0,total_mulligans:e.totalMulligans||e.total_mulligans||0,final_score:e.finalScore||e.final_score||e.totalStrokes||0,round_type:q||"sim",course_name:(null===Y||void 0===Y?void 0:Y.name)||e.course_name||"",teebox:(null===Y||void 0===Y||null===(a=Y.teeboxData)||void 0===a?void 0:a.teebox)||e.teebox||null,course_rating:(null===Y||void 0===Y||null===(n=Y.teeboxData)||void 0===n?void 0:n.courseRating)||e.course_rating||null,course_slope:(null===Y||void 0===Y||null===(l=Y.teeboxData)||void 0===l?void 0:l.courseSlope)||e.course_slope||null,holes_played:G||18,nine_type:K||null};console.log("Selected course teebox data:",null===Y||void 0===Y?void 0:Y.teeboxData),console.log("API data being sent:",o);const i=await zs(o);if(console.log("Save response:",i),!i||!i.data)throw new Error("Invalid response from server");{console.log("Scorecard saved with ID:",i.data.id);const e=c;await m(),await de();try{const t=(await qs(d)).data.user;ge(e,t)}catch(N){console.error("Error getting updated user data:",N)}me()}}catch(u){var o,i;console.error("Error saving scorecard:",u);const e=(null===(o=u.response)||void 0===o||null===(i=o.data)||void 0===i?void 0:i.error)||u.message||"Failed to save scorecard";alert("Failed to save scorecard: ".concat(e))}},he=f.filter(e=>e.player1_id===(null===c||void 0===c?void 0:c.member_id)||e.player2_id===(null===c||void 0===c?void 0:c.member_id)).slice(0,5),pe=e=>{switch(e){case"Won":return"text-green-600";case"Lost":return"text-red-600";case"Tied":return"text-yellow-600";default:return"text-gray-600"}},fe=e=>("open"===e.status||"active"===e.status)&&!e.has_submitted_score,be=e=>{const t=e.filter(e=>null!==e.differential).sort((e,t)=>new Date(t.date_played).getTime()-new Date(e.date_played).getTime());if(console.log("Handicap calculation debug:",{totalRounds:e.length,roundsWithDifferentials:t.length,roundsWithoutDifferentials:e.length-t.length,roundsWithoutDifferentialsList:e.filter(e=>null===e.differential).map(e=>({id:e.id,course:e.course_name,date:e.date_played}))}),0===t.length)return[];let r=[];return t.length>=20?(r=t.slice(0,20).sort((e,t)=>(e.differential||0)-(t.differential||0)).slice(0,8),console.log("Using best 8 out of last 20 (20+ rounds available)")):t.length>=15?(r=t.slice(0,15).sort((e,t)=>(e.differential||0)-(t.differential||0)).slice(0,7),console.log("Using best 7 out of last 15 (15-19 rounds available)")):t.length>=10?(r=t.slice(0,10).sort((e,t)=>(e.differential||0)-(t.differential||0)).slice(0,6),console.log("Using best 6 out of last 10 (10-14 rounds available)")):t.length>=5?(r=t.slice(0,5).sort((e,t)=>(e.differential||0)-(t.differential||0)).slice(0,5),console.log("Using best 5 out of last 5 (5-9 rounds available)")):t.length>=3?(r=t.slice(0,3).sort((e,t)=>(e.differential||0)-(t.differential||0)).slice(0,3),console.log("Using best 3 out of last 3 (3-4 rounds available)")):t.length>=1&&(r=t.slice(0,1).sort((e,t)=>(e.differential||0)-(t.differential||0)).slice(0,1),console.log("Using best 1 out of last 1 (1-2 rounds available)")),console.log("Rounds being used for handicap:",r.map(e=>({id:e.id,course:e.course_name,differential:e.differential}))),r.map(e=>e.id)},ge=(e,t)=>{if(console.log("checkHandicapChanges called with:",{oldUser:e,newUser:t}),!e||!t)return void console.log("Missing user data, returning early");const r=e.sim_handicap||0,s=e.grass_handicap||0,a=t.sim_handicap||0,n=t.grass_handicap||0;if(console.log("Handicap comparison:",{oldSimHandicap:r,newSimHandicap:a,oldGrassHandicap:s,newGrassHandicap:n}),Math.abs(a-r)>.01){const e=a>r?"up":"down";console.log("Sim handicap changed:",{direction:e,oldValue:r,newValue:a}),ne(e),se(!0)}if(Math.abs(n-s)>.01){const e=n>s?"up":"down";console.log("Grass handicap changed:",{direction:e,oldValue:s,newValue:n}),ce(e),oe(!0)}},ye=e=>{let{value:t,isAnimating:r,direction:s,onAnimationComplete:a}=e;const[l,o]=(0,n.useState)(t),[i,c]=(0,n.useState)("text-blue-300"),[d,u]=(0,n.useState)("text-lg");return(0,n.useEffect)(()=>{r&&s&&setTimeout(()=>{c("down"===s?"text-green-400":"text-red-400"),u("text-2xl");const e="down"===s?t+.7:t-.7,r=(t-e)/7;let n=0;const l=()=>{n++;if(o(e+r*n),n>=7)return void setTimeout(()=>{u("text-lg"),setTimeout(()=>{c("text-blue-300"),a()},300)},500);let t;t=n<=2||n>=5?150:80,setTimeout(l,t)};setTimeout(l,200)},300)},[r,s,t,a]),(0,Na.jsx)("span",{className:"font-bold transition-all duration-300 ".concat(i," ").concat(d),children:l.toFixed(1)})};if(v)return(0,Na.jsx)("div",{className:"flex items-center justify-center min-h-64",children:(0,Na.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-neon-green"})});if(U&&B){const e={name:"".concat(null===c||void 0===c?void 0:c.first_name," ").concat(null===c||void 0===c?void 0:c.last_name).trim(),handicap:(null===c||void 0===c?void 0:c.sim_handicap)||(null===c||void 0===c?void 0:c.handicap)||0};return"mully"===B?(0,Na.jsx)(Yl,{onClose:me,onSave:xe,userInfo:e,holes:G||18,course:Y,nineType:K}):(0,Na.jsx)(Ql,{onClose:me,onSave:xe,userInfo:e,holes:G||18,course:Y,nineType:K})}return(0,Na.jsxs)("div",{className:"max-w-6xl mx-auto relative pb-16 sm:pb-6",children:[(0,Na.jsxs)("div",{className:"bg-gradient-to-br from-brand-dark-green to-brand-muted-green rounded-2xl shadow-xl p-4 sm:p-6 mb-6 sm:mb-8 text-white",children:[(0,Na.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[(0,Na.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-4 sm:space-y-0 sm:space-x-6 mb-6 lg:mb-0",children:[(0,Na.jsxs)("div",{className:"relative",children:[(0,Na.jsx)("div",{className:"bg-white/20 backdrop-blur-sm rounded-full w-16 h-16 sm:w-20 sm:h-20 flex items-center justify-center",children:null!==c&&void 0!==c&&c.profile_photo_url?(0,Na.jsx)("img",{src:c.profile_photo_url,alt:"Profile",className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full object-cover"}):(0,Na.jsx)(et,{className:"w-8 h-8 sm:w-12 sm:h-12 text-white"})}),g&&(0,Na.jsx)("button",{onClick:()=>{var e;null===(e=X.current)||void 0===e||e.click()},disabled:Z,className:"absolute -bottom-1 -right-1 bg-brand-neon-green text-brand-black rounded-full p-1.5 sm:p-2 hover:bg-green-400 transition-colors disabled:opacity-50",title:"Upload profile photo",children:Z?(0,Na.jsx)("div",{className:"animate-spin rounded-full h-3 w-3 sm:h-4 sm:w-4 border-b-2 border-brand-black"}):(0,Na.jsx)(Wa,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]}),(0,Na.jsx)("input",{ref:X,type:"file",accept:"image/*",onChange:async e=>{var t;const r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(r)if(r.type.startsWith("image/"))if(r.size>5242880)alert("File size must be less than 5MB");else{ee(!0);try{const e=await(e=>{const t=new FormData;return t.append("profilePhoto",e),Rs.post("/users/profile-photo",t,{headers:{"Content-Type":"multipart/form-data"}})})(r);e.data.success&&window.location.reload()}catch(s){console.error("Error uploading photo:",s),alert("Failed to upload photo. Please try again.")}finally{ee(!1)}}else alert("Please select an image file")},className:"hidden"}),(0,Na.jsxs)("div",{children:[(0,Na.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-3 mb-2",children:[(0,Na.jsxs)("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold flex items-center",children:[null===c||void 0===c?void 0:c.first_name," ",null===c||void 0===c?void 0:c.last_name,!g&&(0,Na.jsx)("button",{onClick:()=>y(!0),className:"ml-2 sm:ml-3 flex items-center justify-center p-1.5 sm:p-2 bg-white/10 backdrop-blur-sm text-white rounded-full hover:bg-white/20 transition-all duration-200 border border-white/20 hover:border-white/30 shadow-lg hover:shadow-xl",title:"Edit Profile",children:(0,Na.jsx)(jl,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),"admin"===(null===c||void 0===c||null===(e=c.role)||void 0===e?void 0:e.toLowerCase())&&!g&&(0,Na.jsx)("div",{className:"ml-2 sm:ml-3",children:(0,Na.jsx)(Kl,{})})]}),(0,Na.jsx)("div",{className:"bg-white/20 backdrop-blur-sm rounded-full px-2 sm:px-3 py-1 text-xs sm:text-sm font-medium",children:"admin"===(null===c||void 0===c||null===(t=c.role)||void 0===t?void 0:t.toLowerCase())?"Admin":"club pro"===(null===c||void 0===c||null===(r=c.role)||void 0===r?void 0:r.toLowerCase())?"Club Pro":"ambassador"===(null===c||void 0===c||null===(s=c.role)||void 0===s?void 0:s.toLowerCase())?"Ambassador":"Member"})]}),(0,Na.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-1 sm:space-y-0 sm:space-x-4 text-white/90 text-sm sm:text-base",children:[(0,Na.jsxs)("span",{className:"flex items-center",children:[(0,Na.jsx)(Xe,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),(null===c||void 0===c?void 0:c.club)||"No club specified"]}),(0,Na.jsxs)("span",{className:"flex items-center",children:[(0,Na.jsx)(ol,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"Member since ",null!==c&&void 0!==c&&c.created_at?new Date(c.created_at).toLocaleDateString():"N/A"]})]})]})]}),(0,Na.jsx)("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2"})]}),null!==(null===c||void 0===c?void 0:c.sim_handicap)&&void 0!==(null===c||void 0===c?void 0:c.sim_handicap)&&(0,Na.jsx)("div",{className:"mt-4 sm:mt-6 pt-4 sm:pt-6 border-t border-white/20",children:(0,Na.jsxs)("div",{className:"flex flex-col sm:flex-row sm:flex-wrap gap-3 sm:gap-4 items-start sm:items-center",children:[(0,Na.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-full px-3 sm:px-4 py-2 border border-white/20 flex items-center space-x-2 sm:space-x-3",children:[(0,Na.jsx)("div",{className:"bg-blue-500/20 rounded-full p-1",children:(0,Na.jsx)(at,{className:"w-3 h-3 sm:w-4 sm:h-4 text-blue-300"})}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("span",{className:"text-xs sm:text-sm font-medium text-white",children:"NN Handicap"}),(0,Na.jsx)("span",{className:"text-base sm:text-lg font-bold text-blue-300 ml-1 sm:ml-2",children:(0,Na.jsx)(ye,{value:parseFloat(c.sim_handicap),isAnimating:re,direction:ae,onAnimationComplete:()=>{se(!1),ne(null)}})})]}),(0,Na.jsx)("div",{className:"text-xs text-white/60 ml-1 sm:ml-2",children:"App Tracked"})]}),"admin"===(null===c||void 0===c||null===(a=c.role)||void 0===a?void 0:a.toLowerCase())&&(0,Na.jsxs)("div",{className:"flex flex-col gap-2 w-full sm:w-auto",children:[(0,Na.jsxs)("button",{onClick:()=>x("/user-tracking"),className:"bg-brand-neon-green/90 hover:bg-brand-neon-green text-brand-black rounded-full px-3 sm:px-4 py-2 border border-brand-neon-green/40 flex items-center justify-center space-x-2 shadow-sm transition-colors font-medium text-sm sm:text-base",children:[(0,Na.jsx)(Ea,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,Na.jsx)("span",{className:"hidden sm:inline",children:"User Tracking Dashboard"}),(0,Na.jsx)("span",{className:"sm:hidden",children:"User Tracking"})]}),(0,Na.jsxs)("button",{onClick:()=>x("/tournament-management"),className:"bg-brand-neon-green/90 hover:bg-brand-neon-green text-brand-black rounded-full px-3 sm:px-4 py-2 border border-brand-neon-green/40 flex items-center justify-center space-x-2 shadow-sm transition-colors font-medium text-sm sm:text-base",children:[(0,Na.jsx)(xl,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,Na.jsx)("span",{className:"hidden sm:inline",children:"Tournament Management"}),(0,Na.jsx)("span",{className:"sm:hidden",children:"Tournaments"})]}),(0,Na.jsxs)("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLSdgJYkNMW4RzG8wZFVt8zS1sfe_m8Ejtvg23OSUUggOVtQOSw/viewform",target:"_blank",rel:"noopener noreferrer",className:"bg-brand-neon-green/90 hover:bg-brand-neon-green text-brand-black rounded-full px-3 sm:px-4 py-2 border border-brand-neon-green/40 flex items-center justify-center space-x-2 shadow-sm transition-colors font-medium text-sm sm:text-base",children:[(0,Na.jsx)(Al,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,Na.jsx)("span",{className:"hidden sm:inline",children:"Platform Feedback"}),(0,Na.jsx)("span",{className:"sm:hidden",children:"Feedback"})]})]}),("club pro"===(null===c||void 0===c||null===(l=c.role)||void 0===l?void 0:l.toLowerCase())||"admin"===(null===c||void 0===c||null===(o=c.role)||void 0===o?void 0:o.toLowerCase()))&&(0,Na.jsx)("div",{className:"flex flex-col gap-2 w-full sm:w-auto",children:(0,Na.jsxs)("button",{onClick:()=>x("/club-pro"),className:"bg-brand-neon-green/90 hover:bg-brand-neon-green text-brand-black rounded-full px-3 sm:px-4 py-2 border border-brand-neon-green/40 flex items-center justify-center space-x-2 shadow-sm transition-colors font-medium text-sm sm:text-base",children:[(0,Na.jsx)(Ea,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,Na.jsx)("span",{className:"hidden sm:inline",children:"Club Pro Dashboard"}),(0,Na.jsx)("span",{className:"sm:hidden",children:"Club Dashboard"})]})}),"ambassador"===(null===c||void 0===c||null===(i=c.role)||void 0===i?void 0:i.toLowerCase())&&(0,Na.jsx)("div",{className:"flex flex-col gap-2 w-full sm:w-auto",children:(0,Na.jsxs)("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLSdgJYkNMW4RzG8wZFVt8zS1sfe_m8Ejtvg23OSUUggOVtQOSw/viewform",target:"_blank",rel:"noopener noreferrer",className:"bg-brand-neon-green/90 hover:bg-brand-neon-green text-brand-black rounded-full px-3 sm:px-4 py-2 border border-brand-neon-green/40 flex items-center justify-center space-x-2 shadow-sm transition-colors font-medium text-sm sm:text-base",children:[(0,Na.jsx)(Al,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,Na.jsx)("span",{className:"hidden sm:inline",children:"Platform Feedback"}),(0,Na.jsx)("span",{className:"sm:hidden",children:"Feedback"})]})})]})}),g&&(0,Na.jsxs)("div",{className:"mt-4 sm:mt-6 pt-4 sm:pt-6 border-t border-white/20",children:[N&&(0,Na.jsx)("div",{className:"bg-red-500/20 border border-red-400/50 text-white px-3 sm:px-4 py-2 sm:py-3 rounded mb-3 sm:mb-4 text-sm sm:text-base",children:N}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-xs sm:text-sm font-medium text-white/90 mb-1 sm:mb-2",children:"First Name"}),(0,Na.jsx)("input",{type:"text",value:I.first_name,onChange:e=>O(Ue(Ue({},I),{},{first_name:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg focus:ring-2 focus:ring-white/50 focus:border-white/50 text-white placeholder-white/50 text-sm sm:text-base",placeholder:"First Name"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-xs sm:text-sm font-medium text-white/90 mb-1 sm:mb-2",children:"Last Name"}),(0,Na.jsx)("input",{type:"text",value:I.last_name,onChange:e=>O(Ue(Ue({},I),{},{last_name:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg focus:ring-2 focus:ring-white/50 focus:border-white/50 text-white placeholder-white/50 text-sm sm:text-base",placeholder:"Last Name"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-xs sm:text-sm font-medium text-white/90 mb-1 sm:mb-2",children:"Email"}),(0,Na.jsx)("input",{type:"email",value:I.email,onChange:e=>O(Ue(Ue({},I),{},{email:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg focus:ring-2 focus:ring-white/50 focus:border-white/50 text-white placeholder-white/50 text-sm sm:text-base",placeholder:"Email"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-xs sm:text-sm font-medium text-white/90 mb-1 sm:mb-2",children:"Club"}),(0,Na.jsx)("input",{type:"text",value:I.club,onChange:e=>O(Ue(Ue({},I),{},{club:e.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg focus:ring-2 focus:ring-white/50 focus:border-white/50 text-white placeholder-white/50",placeholder:"Club"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Official GHIN Handicap"}),(0,Na.jsx)("input",{type:"number",step:"0.1",value:I.handicap,onChange:e=>O(Ue(Ue({},I),{},{handicap:Number(e.target.value)})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg focus:ring-2 focus:ring-white/50 focus:border-white/50 text-white placeholder-white/50",placeholder:"GHIN Handicap"})]})]})]})]}),(0,Na.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-8 relative",children:[!g&&(0,Na.jsxs)("button",{onClick:ue,className:" fixed bottom-6 left-1/2 -translate-x-1/2 w-[90vw] max-w-xs rounded-full px-6 py-4 z-50 flex items-center justify-center bg-brand-neon-green text-brand-black shadow-2xl hover:bg-green-400 transition-all font-bold text-lg focus:outline-none focus:ring-4 focus:ring-brand-neon-green/40 group sm:absolute sm:top-6 sm:right-6 sm:left-auto sm:bottom-auto sm:translate-x-0 sm:w-auto sm:max-w-none sm:px-6 sm:py-2 sm:rounded-full ",title:"Track your golf round and update your stats!",children:[(0,Na.jsx)(Dl,{className:"w-7 h-7 mr-3"}),(0,Na.jsx)("span",{children:"Track Round"})]}),(0,Na.jsxs)("div",{className:"flex flex-wrap gap-2 mb-6",children:[(0,Na.jsxs)("button",{onClick:()=>D("overview"),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("overview"===A?"bg-brand-neon-green text-brand-black":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,Na.jsx)(Ea,{className:"w-4 h-4 inline mr-2"}),"Overview"]}),(0,Na.jsxs)("button",{onClick:()=>D("sim"),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("sim"===A?"bg-brand-neon-green text-brand-black":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,Na.jsx)(Ca,{className:"w-4 h-4 inline mr-2"}),"Simulator"]}),(0,Na.jsxs)("button",{onClick:()=>D("records"),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("records"===A?"bg-brand-neon-green text-brand-black":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,Na.jsx)(Oa,{className:"w-4 h-4 inline mr-2"}),"Course Records"]})]}),"overview"===A&&(0,Na.jsxs)("div",{children:[(0,Na.jsxs)("h2",{className:"text-2xl font-bold text-brand-black mb-6 flex items-center",children:[(0,Na.jsx)(Ea,{className:"w-6 h-6 mr-3"}),"Overall Performance"]}),_&&_.total_rounds>0?(0,Na.jsxs)("div",{children:[(0,Na.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-8",children:[(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:_.total_rounds}),(0,Na.jsx)("div",{className:"text-sm text-gray-600",children:"Total Rounds"})]}),(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"text-3xl font-bold text-green-600 mb-2",children:_.unique_courses}),(0,Na.jsx)("div",{className:"text-sm text-gray-600",children:"Courses Played"})]}),(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:_.avg_differential?Number(_.avg_differential).toFixed(1):"N/A"}),(0,Na.jsx)("div",{className:"text-sm text-gray-600",children:"Avg Differential"})]}),(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:_.best_differential?Number(_.best_differential).toFixed(1):"N/A"}),(0,Na.jsx)("div",{className:"text-sm text-gray-600",children:"Best Differential"})]})]}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Na.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,Na.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Na.jsx)(Ca,{className:"w-5 h-5 text-blue-600 mr-2"}),(0,Na.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Performance"})]}),_&&_.total_rounds>0?(0,Na.jsxs)("div",{className:"space-y-3",children:[(0,Na.jsxs)("div",{className:"flex justify-between",children:[(0,Na.jsx)("span",{className:"text-gray-600",children:"Avg Differential:"}),(0,Na.jsx)("span",{className:"font-semibold",children:_.avg_differential?Number(_.avg_differential).toFixed(1):"N/A"})]}),(0,Na.jsxs)("div",{className:"flex justify-between",children:[(0,Na.jsx)("span",{className:"text-gray-600",children:"Best Differential:"}),(0,Na.jsx)("span",{className:"font-semibold",children:_.best_differential?Number(_.best_differential).toFixed(1):"N/A"})]}),(0,Na.jsxs)("div",{className:"flex justify-between",children:[(0,Na.jsx)("span",{className:"text-gray-600",children:"Courses Played:"}),(0,Na.jsx)("span",{className:"font-semibold",children:_.unique_courses})]})]}):(0,Na.jsx)("p",{className:"text-gray-500 text-sm",children:"No simulator rounds yet"})]}),(0,Na.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,Na.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Na.jsx)(ol,{className:"w-5 h-5 text-green-600 mr-2"}),(0,Na.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Activity"})]}),_&&_.total_rounds>0?(0,Na.jsxs)("div",{className:"space-y-3",children:[(0,Na.jsxs)("div",{className:"flex justify-between",children:[(0,Na.jsx)("span",{className:"text-gray-600",children:"Days Played:"}),(0,Na.jsx)("span",{className:"font-semibold",children:_.unique_dates})]}),(0,Na.jsxs)("div",{className:"flex justify-between",children:[(0,Na.jsx)("span",{className:"text-gray-600",children:"First Round:"}),(0,Na.jsx)("span",{className:"font-semibold",children:_.first_round?new Date(_.first_round).toLocaleDateString():"N/A"})]}),(0,Na.jsxs)("div",{className:"flex justify-between",children:[(0,Na.jsx)("span",{className:"text-gray-600",children:"Last Round:"}),(0,Na.jsx)("span",{className:"font-semibold",children:_.last_round?new Date(_.last_round).toLocaleDateString():"N/A"})]})]}):(0,Na.jsx)("p",{className:"text-gray-500 text-sm",children:"No activity data yet"})]})]})]}):(0,Na.jsxs)("div",{className:"text-center py-8",children:[(0,Na.jsx)(Ca,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Na.jsx)("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"No Rounds Tracked Yet"}),(0,Na.jsx)("p",{className:"text-gray-600 mb-6",children:"Start tracking your simulator rounds to see your performance statistics here."}),(0,Na.jsxs)("button",{onClick:ue,className:"inline-flex items-center px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg hover:bg-green-400 transition-colors font-medium",children:[(0,Na.jsx)(Dl,{className:"w-4 h-4 mr-2"}),"Track Your First Round"]})]})]}),"sim"===A&&(0,Na.jsxs)("div",{children:[(0,Na.jsxs)("h2",{className:"text-2xl font-bold text-brand-black mb-6 flex items-center",children:[(0,Na.jsx)(Ca,{className:"w-6 h-6 mr-3"}),"Simulator Performance"]}),_&&_.total_rounds>0?(0,Na.jsxs)("div",{children:[(0,Na.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-8",children:[(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:_.total_rounds}),(0,Na.jsx)("div",{className:"text-sm text-gray-600",children:"Total Rounds"})]}),(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"text-3xl font-bold text-green-600 mb-2",children:_.avg_differential?Number(_.avg_differential).toFixed(1):"N/A"}),(0,Na.jsx)("div",{className:"text-sm text-gray-600",children:"Avg Differential"})]}),(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:_.best_differential?Number(_.best_differential).toFixed(1):"N/A"}),(0,Na.jsx)("div",{className:"text-sm text-gray-600",children:"Best Differential"})]}),(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:_.unique_courses}),(0,Na.jsx)("div",{className:"text-sm text-gray-600",children:"Courses Played"})]})]}),(0,Na.jsxs)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[(0,Na.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,Na.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Scoring"}),(0,Na.jsxs)("div",{className:"text-lg font-semibold text-gray-800",children:[_.avg_strokes&&_.avg_strokes>0?Number(_.avg_strokes).toFixed(1):_.avg_differential?Number(_.avg_differential).toFixed(1):"N/A"," avg"]}),(0,Na.jsx)("div",{className:"text-sm text-gray-500",children:_.avg_strokes&&_.avg_strokes>0?"Best: ".concat(_.best_strokes||"N/A"," \u2022 Worst: ").concat(_.worst_strokes||"N/A"):"Best: ".concat(_.best_differential?Number(_.best_differential).toFixed(1):"N/A"," \u2022 Worst: ").concat(_.worst_differential?Number(_.worst_differential).toFixed(1):"N/A")}),(0,Na.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:_.avg_strokes&&_.avg_strokes>0?"Strokes":"Differential"})]}),(0,Na.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,Na.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Activity"}),(0,Na.jsxs)("div",{className:"text-lg font-semibold text-gray-800",children:[_.unique_dates," days"]}),(0,Na.jsx)("div",{className:"text-sm text-gray-500",children:_.first_round&&_.last_round?"".concat(new Date(_.first_round).toLocaleDateString()," - ").concat(new Date(_.last_round).toLocaleDateString()):"No date range"})]}),(0,Na.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,Na.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Recent Activity"}),(0,Na.jsxs)("div",{className:"text-lg font-semibold text-gray-800",children:[_.recent_rounds.length," rounds"]}),(0,Na.jsxs)("div",{className:"text-sm text-gray-500",children:["Last: ",_.last_round?new Date(_.last_round).toLocaleDateString():"N/A"]})]})]}),_.recent_rounds.length>0&&(0,Na.jsxs)("div",{children:[(0,Na.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[(0,Na.jsx)(ol,{className:"w-5 h-5 mr-2"}),"Recent Simulator Rounds (",_.recent_rounds.slice(0,20).length," of ",_.total_rounds,")"]}),(0,Na.jsx)("div",{className:"max-h-96 overflow-y-auto space-y-3 pr-2",children:(()=>{const e=be(_.recent_rounds);return _.recent_rounds.slice(0,20).map((t,r)=>{const s=e.includes(t.id);return(0,Na.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg ".concat(s?"bg-green-50 border border-green-200":"bg-gray-50"),children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("div",{className:"font-medium text-gray-900",children:t.course_name}),(0,Na.jsxs)("div",{className:"text-sm text-gray-600",children:[new Date(t.date_played).toLocaleDateString()," \u2022 ",t.round_type]})]}),(0,Na.jsxs)("div",{className:"flex items-center space-x-1",children:[s&&(0,Na.jsxs)(Na.Fragment,{children:[(0,Na.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,Na.jsx)("span",{className:"text-xs text-green-700 font-medium",children:"Handicap"})]}),!t.differential&&(0,Na.jsxs)(Na.Fragment,{children:[(0,Na.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full"}),(0,Na.jsx)("span",{className:"text-xs text-gray-600",children:"No Differential"})]})]})]}),(0,Na.jsxs)("div",{className:"text-right",children:[(0,Na.jsxs)("div",{className:"font-semibold text-gray-900",children:[t.total_strokes," strokes"]}),t.differential&&(0,Na.jsxs)("div",{className:"text-sm ".concat(s?"text-green-700 font-medium":"text-gray-600"),children:[Number(t.differential).toFixed(1)," differential"]})]})]},r)})})()}),(()=>{const e=be(_.recent_rounds).length,t=_.recent_rounds.length,r=_.recent_rounds.filter(e=>null!==e.differential).length,s=t-r;return e>0?(0,Na.jsx)("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,Na.jsxs)("div",{className:"text-sm text-blue-800 space-y-1",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("strong",{children:"Handicap Calculation:"})," Using ",e," best differential",1!==e?"s":""," from your recent rounds"]}),(0,Na.jsxs)("div",{className:"text-xs text-blue-600",children:[r," of ",t," rounds have differentials",s>0&&" \u2022 ".concat(s," rounds missing course rating/slope data")]})]})}):null})()]})]}):(0,Na.jsxs)("div",{className:"text-center py-8",children:[(0,Na.jsx)(Ca,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Na.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Simulator Rounds Yet"}),(0,Na.jsx)("p",{className:"text-gray-600 mb-4",children:"Start tracking your simulator rounds to see your performance statistics here."}),(0,Na.jsxs)("button",{onClick:ue,className:"inline-flex items-center px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg hover:bg-green-400 transition-colors font-medium",children:[(0,Na.jsx)(Dl,{className:"w-4 h-4 mr-2"}),"Track Your First Round"]})]})]}),"records"===A&&(0,Na.jsxs)("div",{children:[(0,Na.jsxs)("h2",{className:"text-2xl font-bold text-brand-black mb-6 flex items-center",children:[(0,Na.jsx)(Oa,{className:"w-6 h-6 mr-3"}),"Course Records"]}),(()=>{const e={};E.forEach(t=>{e[t.course_id]||(e[t.course_id]={}),null===t.record_club?e[t.course_id].community=t:e[t.course_id].club=t});const t=Object.values(e);return t.length>0?(0,Na.jsxs)("div",{children:[(0,Na.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-8",children:[(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:t.length}),(0,Na.jsx)("div",{className:"text-sm text-gray-600",children:"Unique Courses"})]}),(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"text-3xl font-bold text-green-600 mb-2",children:c&&E.filter(e=>e.record_club===c.club).length}),(0,Na.jsx)("div",{className:"text-sm text-gray-600",children:"No5 Records"})]}),(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:E.filter(e=>null===e.record_club).length}),(0,Na.jsx)("div",{className:"text-sm text-gray-600",children:"Community Records"})]}),(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:E.length>0?Math.max(...E.map(e=>e.days_standing)):0}),(0,Na.jsx)("div",{className:"text-sm text-gray-600",children:"Longest Standing (Days)"})]})]}),(0,Na.jsx)("div",{className:"space-y-4",children:t.map(e=>{let{club:t,community:r}=e;const s=t&&r?t.best_score<=r.best_score?t:r:t||r;return s?(0,Na.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,Na.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between space-y-3 sm:space-y-0",children:[(0,Na.jsxs)("div",{className:"flex-1",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Na.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:s.course_name}),t&&(0,Na.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs font-medium rounded-full",children:"No5 Record"}),r&&(0,Na.jsx)("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 text-xs font-medium rounded-full",children:"Community Record"})]}),(0,Na.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-1 sm:space-y-0 sm:space-x-4 text-sm text-gray-600",children:[s.location&&(0,Na.jsxs)("span",{className:"flex items-center",children:[(0,Na.jsx)(Xe,{className:"w-4 h-4 mr-1"}),s.location]}),s.designer&&(0,Na.jsxs)("span",{className:"flex items-center",children:[(0,Na.jsx)(et,{className:"w-4 h-4 mr-1"}),s.designer]}),(0,Na.jsxs)("span",{className:"flex items-center",children:[(0,Na.jsx)(ol,{className:"w-4 h-4 mr-1"}),new Date(s.date_played).toLocaleDateString()]})]})]}),(0,Na.jsxs)("div",{className:"text-right",children:[(0,Na.jsxs)("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:[s.best_score," strokes"]}),(0,Na.jsxs)("div",{className:"text-sm text-gray-600",children:[s.days_standing," days standing"]})]})]})},s.course_id):null})})]}):(0,Na.jsxs)("div",{className:"text-center py-8",children:[(0,Na.jsx)(Oa,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Na.jsx)("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"No Course Records Yet"}),(0,Na.jsx)("p",{className:"text-gray-600 mb-6",children:"Start playing simulator rounds to set course records for your club and the community."}),(0,Na.jsxs)("button",{onClick:ue,className:"inline-flex items-center px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg hover:bg-green-400 transition-colors font-medium",children:[(0,Na.jsx)(Dl,{className:"w-4 h-4 mr-2"}),"Track Your First Round"]})]})})()]})]}),he.length>0&&(0,Na.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-8",children:[(0,Na.jsxs)("h2",{className:"text-2xl font-bold text-brand-black mb-6 flex items-center",children:[(0,Na.jsx)(ol,{className:"w-6 h-6 mr-3"}),"Recent Matches"]}),(0,Na.jsx)("div",{className:"space-y-4",children:he.slice(0,5).map(e=>{const t=(e=>"player1"===e.winner&&e.player1_id===(null===c||void 0===c?void 0:c.member_id)||"player2"===e.winner&&e.player2_id===(null===c||void 0===c?void 0:c.member_id)?"Won":"tie"===e.winner?"Tied":"Lost")(e);return(0,Na.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-4 bg-gray-50 rounded-lg space-y-2 sm:space-y-0",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Na.jsx)(et,{className:"w-5 h-5 text-gray-500"}),(0,Na.jsxs)("div",{children:[(0,Na.jsxs)("p",{className:"font-medium text-gray-900",children:["Match #",e.id]}),(0,Na.jsx)("p",{className:"text-sm text-gray-600",children:new Date(e.match_date).toLocaleDateString()})]})]}),(0,Na.jsxs)("div",{className:"text-left sm:text-right",children:[(0,Na.jsx)("span",{className:"font-bold ".concat(pe(t)),children:t}),e.scores&&(0,Na.jsxs)("p",{className:"text-sm text-gray-600",children:["Score: ",JSON.stringify(e.scores)]})]})]},e.id)})})]}),c&&(0,Na.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-8",children:[(0,Na.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-4",children:[(0,Na.jsxs)("h2",{className:"text-2xl font-bold text-brand-black flex items-center",children:[(0,Na.jsx)(Je,{className:"w-6 h-6 mr-3"}),"My Tournaments"]}),(0,Na.jsxs)(Re,{to:"/tournaments",className:"flex items-center justify-center px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors w-full sm:w-auto",children:[(0,Na.jsx)(Oa,{className:"w-4 h-4 mr-2"}),"Browse All Tournaments"]})]}),P.length>0&&(0,Na.jsx)("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:(0,Na.jsxs)("div",{className:"flex items-center text-sm text-blue-800",children:[(0,Na.jsx)(Il,{className:"w-4 h-4 mr-2"}),(0,Na.jsxs)("span",{children:[P.filter(e=>fe(e)).length," tournament(s) open for score submission"]})]})}),P.length>0?(0,Na.jsxs)(Na.Fragment,{children:[(0,Na.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(()=>{const e=(t=P,[...t].sort((e,t)=>{const r=fe(e),s=fe(t);return r&&!s?-1:!r&&s?1:e.start_date&&t.start_date?new Date(t.start_date).getTime()-new Date(e.start_date).getTime():0}));var t;return R?e:e.slice(0,3)})().map(e=>(0,Na.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200 hover:border-brand-neon-green transition-all group",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Na.jsx)("h3",{className:"font-semibold text-brand-black group-hover:text-brand-neon-green transition-colors",children:e.name}),(0,Na.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("active"===e.status?"bg-green-100 text-green-800":"open"===e.status?"bg-blue-100 text-blue-800":"completed"===e.status?"bg-gray-100 text-gray-800":"cancelled"===e.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:"active"===e.status?"Active":"open"===e.status?"Open":"completed"===e.status?"Completed":"cancelled"===e.status?"Cancelled":e.status||"Draft"})]}),(0,Na.jsxs)("div",{className:"text-sm text-neutral-600 mb-2",children:[e.tournament_format||"match_play"," \u2022 ",e.type||"tournament"]}),e.start_date&&(0,Na.jsxs)("div",{className:"text-xs text-neutral-500 mb-2",children:[(0,Na.jsx)(Aa,{className:"inline w-4 h-4 mr-1"}),new Date(e.start_date).toLocaleDateString()]}),e.location&&(0,Na.jsxs)("div",{className:"text-xs text-neutral-500 mb-2",children:[(0,Na.jsx)(Xe,{className:"inline w-4 h-4 mr-1"}),e.location]}),e.entry_fee&&e.entry_fee>0&&(0,Na.jsxs)("div",{className:"text-xs text-neutral-500 mb-2",children:[(0,Na.jsx)(ml,{className:"inline w-4 h-4 mr-1"}),"$",e.entry_fee," entry fee"]}),(0,Na.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-200 space-y-2",children:[fe(e)?(0,Na.jsxs)("button",{onClick:()=>{return t=e.id,void x("/tournament-scoring?tournament=".concat(t));var t},className:"flex items-center justify-center w-full px-3 py-2 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors text-sm",children:[(0,Na.jsx)(Je,{className:"w-4 h-4 mr-2"}),"club_championship"===e.type?"My Matches":"Submit Score"]}):e.has_submitted_score?(0,Na.jsxs)("div",{className:"flex flex-col items-center justify-center w-full px-3 py-2 bg-green-50 text-green-700 rounded-lg text-sm border border-green-200",children:[(0,Na.jsxs)("div",{className:"flex items-center font-medium",children:[(0,Na.jsx)(Dl,{className:"w-4 h-4 mr-2"}),"Score Submitted"]}),e.last_score_date&&(0,Na.jsx)("div",{className:"text-xs text-green-600 mt-1",children:new Date(e.last_score_date).toLocaleDateString()})]}):(0,Na.jsxs)("div",{className:"flex items-center justify-center w-full px-3 py-2 bg-gray-100 text-gray-600 rounded-lg font-medium text-sm",children:[(0,Na.jsx)(ol,{className:"w-4 h-4 mr-2"}),"Tournament Closed"]}),(0,Na.jsxs)("button",{onClick:()=>{return t=e.id,void x("/leaderboard/tournament/".concat(t));var t},className:"flex items-center justify-center w-full px-3 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors text-sm",children:[(0,Na.jsx)(Da,{className:"w-4 h-4 mr-2"}),"View Leaderboard"]})]})]},e.id))}),P.length>3&&!R&&(0,Na.jsx)("div",{className:"mt-6 text-center",children:(0,Na.jsxs)("button",{onClick:()=>M(!0),className:"inline-flex items-center px-6 py-3 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:[(0,Na.jsx)(Je,{className:"w-4 h-4 mr-2"}),"Load More Tournaments (",P.length-3," more)"]})}),R&&P.length>3&&(0,Na.jsx)("div",{className:"mt-6 text-center",children:(0,Na.jsx)("button",{onClick:()=>M(!1),className:"inline-flex items-center px-6 py-3 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Show Less"})})]}):(0,Na.jsxs)("div",{className:"text-center py-8",children:[(0,Na.jsx)(Je,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Na.jsx)("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"No Tournaments Yet"}),(0,Na.jsx)("p",{className:"text-gray-600 mb-6",children:"You haven't registered for any tournaments yet. Browse available tournaments to get started!"}),(0,Na.jsxs)(Re,{to:"/tournaments",className:"inline-flex items-center px-6 py-3 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors",children:[(0,Na.jsx)(Oa,{className:"w-4 h-4 mr-2"}),"Browse Tournaments"]})]})]}),(0,Na.jsx)(zl,{isOpen:F,onClose:()=>z(!1),onSelectRoundType:(e,t,r,s,a)=>function(e,t,r){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4?arguments[4]:void 0;console.log("handleSelectRoundType called with:",{roundType:e,holes:t,course:r,nineType:s,teeboxData:a}),W("stroke"),V(e),$(t),J(s),z(!1),H(!0),Q(r),a?(console.log("Setting teebox data:",a),Q(e=>Ue(Ue({},e),{},{teeboxData:a}))):console.log("No teebox data provided")}(e,t,r,s,a)})]})},Xl=Ye("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Zl=Ye("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),eo=e=>{let{isOpen:t,onClose:r,course:s}=e;const{user:a}=ka(),[l,o]=(0,n.useState)("par"),[i,c]=(0,n.useState)([]),[d,u]=(0,n.useState)([]),[m,x]=(0,n.useState)([]),[h,p]=(0,n.useState)(!1),[f,b]=(0,n.useState)(!1),[g,y]=(0,n.useState)(null),[v,j]=(0,n.useState)(null),[N,w]=(0,n.useState)({}),[_,k]=(0,n.useState)(new Set),[S,C]=(0,n.useState)(new Set),E=["Black","Blue","White","Green","Yellow","Red","Junior","PAR3"],T={Black:"bg-gray-800 text-white border-gray-700",Blue:"bg-blue-200 text-blue-900 border-blue-300",White:"bg-white text-gray-900 border-gray-300",Green:"bg-green-200 text-green-900 border-green-300",Yellow:"bg-yellow-200 text-yellow-900 border-yellow-300",Red:"bg-red-200 text-red-900 border-red-300",Junior:"bg-cyan-200 text-cyan-900 border-cyan-300",PAR3:"bg-purple-200 text-purple-900 border-purple-300"};(0,n.useEffect)(()=>{t&&s&&P()},[t,s]);const P=async()=>{if(s){p(!0),y(null);try{s.par_values?c([...s.par_values]):c([4,3,4,5,4,3,4,4,4,4,3,4,5,4,3,4,4,4]),s.hole_indexes?u([...s.hole_indexes]):u([1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18]);const e=(await ha(s.id)).data.teeboxData||[];x(e);const t={};E.forEach(r=>{const s=e.find(e=>e.teebox===r);t[r]={rating:s?s.course_rating.toString():"",slope:s?s.course_slope.toString():""}}),w(t)}catch(e){console.error("Error loading course data:",e),y("Failed to load course data")}finally{p(!1)}}},L=(e,t,r)=>{w(s=>Ue(Ue({},s),{},{[e]:Ue(Ue({},s[e]),{},{[t]:r})}))},R=()=>{var e;if(!a)return!1;const t=null===(e=a.role)||void 0===e?void 0:e.toLowerCase();return"admin"===t||"ambassador"===t||"club pro"===t};return t&&s?(0,Na.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Na.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Edit Course"}),(0,Na.jsx)("p",{className:"text-sm text-gray-600",children:s.name})]}),(0,Na.jsx)("button",{onClick:()=>{o("par"),c([]),u([]),x([]),w({}),k(new Set),C(new Set),y(null),j(null),r()},className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Na.jsx)(tt,{className:"w-6 h-6"})})]}),(0,Na.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:h?(0,Na.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,Na.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"}),(0,Na.jsx)("span",{className:"ml-3 text-gray-600",children:"Loading course data..."})]}):(0,Na.jsxs)(Na.Fragment,{children:[(0,Na.jsxs)("div",{className:"flex space-x-1 mb-6 bg-gray-100 rounded-lg p-1",children:[(0,Na.jsxs)("button",{onClick:()=>o("par"),className:"flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ".concat("par"===l?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[(0,Na.jsx)(Ca,{className:"w-4 h-4 inline mr-2"}),"Par Values"]}),(0,Na.jsxs)("button",{onClick:()=>o("holeindex"),className:"flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ".concat("holeindex"===l?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[(0,Na.jsx)(Il,{className:"w-4 h-4 inline mr-2"}),"Hole Indexes"]}),(0,Na.jsxs)("button",{onClick:()=>o("teebox"),className:"flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ".concat("teebox"===l?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[(0,Na.jsx)(jl,{className:"w-4 h-4 inline mr-2"}),"Teeboxes"]})]}),g&&(0,Na.jsxs)("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center",children:[(0,Na.jsx)(Xl,{className:"w-5 h-5 text-red-600 mr-3"}),(0,Na.jsx)("span",{className:"text-red-800",children:g})]}),v&&(0,Na.jsxs)("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg flex items-center",children:[(0,Na.jsx)(il,{className:"w-5 h-5 text-green-600 mr-3"}),(0,Na.jsx)("span",{className:"text-green-800",children:v})]}),"par"===l&&(0,Na.jsxs)("div",{children:[(0,Na.jsxs)("div",{className:"mb-4",children:[(0,Na.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Par Values"}),(0,Na.jsx)("p",{className:"text-sm text-gray-600",children:"Set the par value for each hole. This affects handicap calculations."})]}),(0,Na.jsx)("div",{className:"grid grid-cols-6 md:grid-cols-9 lg:grid-cols-18 gap-2 mb-6",children:i.map((e,t)=>(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsxs)("label",{className:"block text-xs text-gray-600 mb-1",children:["Hole ",t+1]}),(0,Na.jsx)("input",{type:"number",min:"3",max:"6",value:e,onChange:e=>{const r=[...i];r[t]=parseInt(e.target.value)||4,c(r)},disabled:!R(),className:"w-full px-2 py-1 text-center border rounded focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent ".concat(R()?"border-gray-300":"border-gray-200 bg-gray-100 text-gray-600 cursor-not-allowed")})]},t))}),R()&&(0,Na.jsx)("div",{className:"flex justify-end",children:(0,Na.jsxs)("button",{onClick:async()=>{if(s){b(!0),y(null),j(null);try{await ma(s.id,i),j("Par values updated successfully"),setTimeout(()=>j(null),3e3)}catch(e){console.error("Error saving par values:",e),y("Failed to save par values")}finally{b(!1)}}},disabled:f,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[f?(0,Na.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):(0,Na.jsx)(an,{className:"w-4 h-4 mr-2"}),"Save Par Values"]})})]}),"holeindex"===l&&(0,Na.jsxs)("div",{children:[(0,Na.jsxs)("div",{className:"mb-4",children:[(0,Na.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Hole Indexes"}),(0,Na.jsx)("p",{className:"text-sm text-gray-600",children:"Set the handicap index for each hole. This determines which holes receive handicap strokes during match play."})]}),(0,Na.jsx)("div",{className:"grid grid-cols-6 md:grid-cols-9 lg:grid-cols-18 gap-2 mb-6",children:d.map((e,t)=>(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsxs)("label",{className:"block text-xs text-gray-600 mb-1",children:["Hole ",t+1]}),(0,Na.jsx)("input",{type:"number",min:"1",max:"18",value:e,onChange:e=>{const r=[...d];r[t]=parseInt(e.target.value)||1,u(r)},disabled:!R(),className:"w-full px-2 py-1 text-center border rounded focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent ".concat(R()?"border-gray-300":"border-gray-200 bg-gray-100 text-gray-600 cursor-not-allowed")})]},t))}),R()&&(0,Na.jsx)("div",{className:"flex justify-end",children:(0,Na.jsxs)("button",{onClick:async()=>{if(s){b(!0),y(null),j(null);try{await((e,t)=>Rs.put("/simulator-courses/".concat(e,"/hole-indexes"),{hole_indexes:t}))(s.id,d),j("Hole indexes updated successfully"),setTimeout(()=>j(null),3e3)}catch(e){console.error("Error saving hole indexes:",e),y("Failed to save hole indexes")}finally{b(!1)}}},disabled:f,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[f?(0,Na.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):(0,Na.jsx)(an,{className:"w-4 h-4 mr-2"}),"Save Hole Indexes"]})})]}),"teebox"===l&&(0,Na.jsxs)("div",{children:[(0,Na.jsxs)("div",{className:"mb-4",children:[(0,Na.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Teeboxes"}),(0,Na.jsx)("p",{className:"text-sm text-gray-600",children:"Set course rating and slope for each teebox. Leave fields empty for teeboxes you don't want to configure."})]}),(0,Na.jsx)("div",{className:"mb-6",children:(0,Na.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:E.map(e=>{const t=m.find(t=>t.teebox===e),r=N[e]||{rating:"",slope:""},s=r.rating&&r.slope,a=S.has(e);return(0,Na.jsxs)("div",{className:"p-4 rounded-lg border-2 relative ".concat(a?"bg-gray-100 border-gray-300 opacity-60":t?T[e]||"bg-green-50 border-green-200":s?"bg-blue-50 border-blue-200":"bg-gray-50 border-gray-200"),children:[t&&!a&&R()&&(0,Na.jsx)("button",{onClick:()=>(e=>{if(_.has(e)){const t=m.find(t=>t.teebox===e);t&&w(r=>Ue(Ue({},r),{},{[e]:{rating:t.course_rating.toString(),slope:t.course_slope.toString()}})),k(t=>{const r=new Set(t);return r.delete(e),r})}else k(t=>{const r=new Set(t);return r.add(e),r})})(e),className:"absolute top-2 right-2 p-1 rounded-full transition-colors ".concat(_.has(e)?"bg-red-100 text-red-600 hover:bg-red-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"),title:_.has(e)?"Cancel Edit":"Edit Teebox",children:_.has(e)?(0,Na.jsx)(tt,{className:"w-3 h-3"}):(0,Na.jsx)(Zl,{className:"w-3 h-3"})}),!t&&R()&&(0,Na.jsx)("button",{onClick:()=>{return t=e,void(S.has(t)?(C(e=>{const r=new Set(e);return r.delete(t),r}),w(e=>{const r=Ue({},e);return delete r[t],r})):(C(e=>{const r=new Set(e);return r.add(t),r}),w(e=>{const r=Ue({},e);return delete r[t],r})));var t},className:"absolute top-2 right-2 p-1 rounded-full transition-colors ".concat(a?"bg-red-100 text-red-600 hover:bg-red-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"),title:a?"Mark as Available":"Mark as Not Available",children:(0,Na.jsx)(tt,{className:"w-3 h-3"})}),(0,Na.jsxs)("div",{className:"font-medium text-center mb-3 text-gray-900",children:[e,a&&(0,Na.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Not available"}),!a&&t&&(0,Na.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Used ",t.usage_count," times"]}),!a&&!t&&s&&(0,Na.jsx)("div",{className:"text-xs text-blue-600 mt-1",children:"New teebox"}),!a&&!t&&!s&&(0,Na.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:"No data"})]}),a?(0,Na.jsx)("div",{className:"space-y-2",children:(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"text-lg font-semibold text-gray-500",children:"Not Available"}),(0,Na.jsx)("div",{className:"text-xs text-gray-400",children:"This teebox doesn't exist at this course"})]})}):t&&!_.has(e)?(0,Na.jsx)("div",{className:"space-y-2",children:(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsxs)("div",{className:"text-lg font-semibold text-gray-900",children:[t.course_rating,"/",t.course_slope]}),(0,Na.jsx)("div",{className:"text-xs text-gray-500",children:"Current Rating/Slope"})]})}):(0,Na.jsxs)("div",{className:"space-y-3",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Course Rating"}),(0,Na.jsx)("input",{type:"number",step:"0.1",min:"60",max:"80",value:r.rating,onChange:t=>L(e,"rating",t.target.value),placeholder:"72.0",disabled:!R(),className:"w-full px-2 py-1 text-sm border rounded focus:outline-none focus:ring-2 focus:ring-green-500 ".concat(R()?"border-gray-300":"border-gray-200 bg-gray-100 text-gray-600 cursor-not-allowed")})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Course Slope"}),(0,Na.jsx)("input",{type:"number",step:"0.1",min:"55",max:"155",value:r.slope,onChange:t=>L(e,"slope",t.target.value),placeholder:"113",disabled:!R(),className:"w-full px-2 py-1 text-sm border rounded focus:outline-none focus:ring-2 focus:ring-green-500 ".concat(R()?"border-gray-300":"border-gray-200 bg-gray-100 text-gray-600 cursor-not-allowed")})]})]}),t&&_.has(e)&&r.rating&&r.slope&&(r.rating!==t.course_rating.toString()||r.slope!==t.course_slope.toString())&&(0,Na.jsxs)("div",{className:"mt-2 text-xs text-blue-600 text-center",children:["\u2192 New: ",r.rating,"/",r.slope]}),!t&&s&&(0,Na.jsxs)("div",{className:"mt-2 text-xs text-blue-600 text-center",children:["New teebox: ",r.rating,"/",r.slope]})]},e)})})}),(0,Na.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Na.jsx)("div",{className:"text-sm text-gray-600",children:(()=>{const e=(()=>{let e=0,t=0,r=0,s=0;return E.forEach(a=>{const n=m.find(e=>e.teebox===a),l=N[a]||{rating:"",slope:""};S.has(a)?s++:l.rating&&l.slope&&(n?l.rating!==n.course_rating.toString()||l.slope!==n.course_slope.toString()?r++:e++:t++)}),{existingCount:e,newCount:t,modifiedCount:r,unavailableCount:s}})(),t={editingCount:_.size,totalExisting:m.length},r=e.existingCount+e.newCount+e.modifiedCount,s=[];e.newCount>0&&s.push("".concat(e.newCount," new")),e.modifiedCount>0&&s.push("".concat(e.modifiedCount," modified")),e.existingCount>0&&s.push("".concat(e.existingCount," unchanged")),e.unavailableCount>0&&s.push("".concat(e.unavailableCount," unavailable"));let a="".concat(r," of ").concat(E.length," teeboxes configured (").concat(s.join(", "),")");return t.editingCount>0&&(a+=" \u2022 ".concat(t.editingCount," being edited")),a})()}),R()?(0,Na.jsxs)("div",{className:"flex space-x-2",children:[(0,Na.jsx)("button",{onClick:()=>{window.confirm("Are you sure you want to clear all teebox inputs?")&&(w({}),C(new Set))},className:"px-4 py-2 text-gray-600 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"Clear All"}),(0,Na.jsxs)("button",{onClick:async()=>{if(!s)return;const e=[];for(const[r,s]of Object.entries(N))if(s.rating&&s.slope){const t=parseFloat(s.rating),a=parseFloat(s.slope);if(t<60||t>80)return void y("Course rating for ".concat(r," must be between 60 and 80"));if(a<55||a>155)return void y("Course slope for ".concat(r," must be between 55 and 155"));e.push({teebox:r,rating:t,slope:a})}if(0!==e.length){b(!0),y(null),j(null);try{for(const{teebox:r,rating:a,slope:n}of e)await xa(s.id,r,a,n);const t=await ha(s.id);x(t.data.teeboxData||[]),j("Successfully saved ".concat(e.length," teebox").concat(e.length>1?"es":"")),setTimeout(()=>j(null),3e3)}catch(t){console.error("Error saving teeboxes:",t),y("Failed to save teebox data")}finally{b(!1)}}else y("Please fill in at least one teebox with rating and slope")},disabled:f||0===Object.values(N).filter(e=>e.rating&&e.slope).length,className:"flex items-center px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:[f?(0,Na.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):(0,Na.jsx)(an,{className:"w-4 h-4 mr-2"}),"Save All Teeboxes"]})]}):(0,Na.jsx)("div",{className:"text-sm text-gray-500 text-center",children:"Only Club Pro, Admin, and Ambassador users can edit course data"})]}),(0,Na.jsx)("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,Na.jsxs)("div",{className:"flex items-start",children:[(0,Na.jsx)(Il,{className:"w-5 h-5 text-blue-600 mr-3 mt-0.5 flex-shrink-0"}),(0,Na.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,Na.jsx)("p",{className:"font-medium mb-1",children:"Need help finding ratings?"}),(0,Na.jsx)("p",{className:"mb-2",children:"Course rating and slope values can be found on the course's official scorecard or through golf course databases."}),(0,Na.jsx)("a",{href:"https://simulatorgolftour.com/courses",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 font-medium underline",children:"Visit SGT Course Database \u2192"})]})]})})]})]})})]})}):null},to=()=>{const{user:e}=ka(),[t,r]=(0,n.useState)([]),[s,a]=(0,n.useState)(null),[l,o]=(0,n.useState)(!0),[i,c]=(0,n.useState)(""),[d,u]=(0,n.useState)("all"),[m,x]=(0,n.useState)(""),[h,p]=(0,n.useState)(""),[f,b]=(0,n.useState)(""),[g,y]=(0,n.useState)(""),[v,j]=(0,n.useState)(1),[N,w]=(0,n.useState)(1),[_,k]=(0,n.useState)(0),[S,C]=(0,n.useState)(!0),[E,T]=(0,n.useState)([]),[P,L]=(0,n.useState)([]),[R,M]=(0,n.useState)([]),[A,D]=(0,n.useState)(!1),[I,O]=(0,n.useState)(!1),[F,z]=(0,n.useState)(!1),[U,H]=(0,n.useState)(null),B=[{key:"par3",label:"Par 3",icon:"\ud83c\udfcc\ufe0f"},{key:"beginner",label:"Beginner",icon:"\ud83c\udfaf"},{key:"coastal",label:"Coastal",icon:"\ud83c\udf0a"},{key:"desert",label:"Desert",icon:"\ud83c\udfdc\ufe0f"},{key:"fantasy",label:"Fantasy",icon:"\u2728"},{key:"heathland",label:"Heathland",icon:"\ud83c\udf3f"},{key:"historic",label:"Historic",icon:"\ud83c\udfdb\ufe0f"},{key:"links",label:"Links",icon:"\ud83c\udfd6\ufe0f"},{key:"major_venue",label:"Major Venue",icon:"\ud83c\udfc6"},{key:"mountain",label:"Mountain",icon:"\u26f0\ufe0f"},{key:"parkland",label:"Parkland",icon:"\ud83c\udf33"},{key:"tour_stop",label:"Tour Stop",icon:"\ud83c\udfaa"},{key:"training",label:"Training",icon:"\ud83c\udf93"},{key:"tropical",label:"Tropical",icon:"\ud83c\udf34"}];(0,n.useEffect)(()=>{W(),q()},[]),(0,n.useEffect)(()=>{const e=setTimeout(()=>{V()},300);return()=>clearTimeout(e)},[i,d,m,h,f,g,v]);const W=async()=>{try{C(!0);const e=await ja.get("/simulator-courses/stats");console.log("Stats response:",e.data),a(e.data)}catch(e){console.error("Error fetching stats:",e);try{const e=await ja.get("/simulator-courses?limit=1");e.data&&e.data.total&&a({total_courses:e.data.total,gspro_courses:0,trackman_courses:0,shared_courses:0,unique_gspro:0,unique_trackman:0})}catch(t){console.error("Fallback stats fetch also failed:",t)}}finally{C(!1)}},q=async()=>{try{const e=(await ja.get("/gspro-courses/filters")).data;T(e.servers||[]),L(e.designers||[]),M(e.locations||[])}catch(e){console.error("Error fetching filters:",e)}},V=async()=>{O(!0);try{const e=new URLSearchParams({limit:24..toString(),offset:(24*(v-1)).toString()});i&&e.append("search",i),"all"!==d&&("both"===d?e.append("platform","shared"):e.append("platform",d)),m&&e.append("server",m),h&&e.append("designer",h),f&&e.append("location",f),g&&e.append("courseType",g);const t=(await ja.get("/simulator-courses?".concat(e))).data;r(t.courses),k(t.total),w(t.totalPages)}catch(e){console.error("Error fetching courses:",e)}finally{o(!1),O(!1)}},G=()=>{c(""),u("all"),x(""),p(""),b(""),y(""),j(1)},$=()=>{var t;if(!e)return!1;const r=null===(t=e.role)||void 0===t?void 0:t.toLowerCase();return"admin"===r||"club pro"===r||"ambassador"===r},Y=()=>"all"===d||"gspro"===d||"both"===d,Q=()=>{let e=0;return"all"!==d&&e++,m&&e++,h&&e++,f&&e++,g&&e++,e},K=e=>"GSPro"===e?"\ud83c\udfae":"\ud83d\udcca";return l&&0===t.length?(0,Na.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 py-8",children:(0,Na.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-green-600 border-t-transparent mx-auto"}),(0,Na.jsx)("p",{className:"mt-6 text-lg text-gray-600",children:"Loading simulator courses..."}),(0,Na.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Discovering amazing golf courses"})]})})}):(0,Na.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 py-4 sm:py-8",children:(0,Na.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Na.jsxs)("div",{className:"mb-6 sm:mb-8 text-center",children:[(0,Na.jsx)("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-gray-900 mb-2 sm:mb-3",children:"Simulator Courses"}),(0,Na.jsx)("p",{className:"text-base sm:text-lg text-gray-600 max-w-2xl mx-auto px-4",children:S?"Loading course statistics...":s?"Explore ".concat(s.total_courses.toLocaleString()," golf courses available on GSPro and Trackman simulators"):"Course statistics unavailable"})]}),S?(0,Na.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[1,2,3,4].map(e=>(0,Na.jsxs)("div",{className:"p-3 sm:p-6 rounded-xl bg-white shadow-md animate-pulse",children:[(0,Na.jsx)("div",{className:"h-8 bg-gray-200 rounded mb-2"}),(0,Na.jsx)("div",{className:"h-4 bg-gray-200 rounded"})]},e))}):s?(0,Na.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[(0,Na.jsxs)("div",{className:"relative p-3 sm:p-6 rounded-xl cursor-pointer stats-card ".concat("all"===d?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-lg active":"bg-white text-gray-700 shadow-md hover:shadow-lg"),onClick:()=>u("all"),children:[(0,Na.jsx)("div",{className:"text-lg sm:text-2xl md:text-3xl font-bold",children:s.total_courses.toLocaleString()}),(0,Na.jsx)("div",{className:"text-xs sm:text-sm opacity-90",children:"All Courses"}),"all"===d&&(0,Na.jsx)("div",{className:"absolute top-2 right-2 w-3 h-3 bg-white rounded-full"})]}),(0,Na.jsxs)("div",{className:"relative p-3 sm:p-6 rounded-xl cursor-pointer stats-card ".concat("gspro"===d?"bg-gradient-to-r from-green-500 to-green-600 text-white shadow-lg active":"bg-white text-gray-700 shadow-md hover:shadow-lg"),onClick:()=>u("gspro"),children:[(0,Na.jsx)("div",{className:"text-lg sm:text-2xl md:text-3xl font-bold",children:s.gspro_courses.toLocaleString()}),(0,Na.jsx)("div",{className:"text-xs sm:text-sm opacity-90",children:"GSPro"}),"gspro"===d&&(0,Na.jsx)("div",{className:"absolute top-2 right-2 w-3 h-3 bg-white rounded-full"})]}),(0,Na.jsxs)("div",{className:"relative p-3 sm:p-6 rounded-xl cursor-pointer stats-card ".concat("trackman"===d?"bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-lg active":"bg-white text-gray-700 shadow-md hover:shadow-lg"),onClick:()=>u("trackman"),children:[(0,Na.jsx)("div",{className:"text-lg sm:text-2xl md:text-3xl font-bold",children:s.trackman_courses.toLocaleString()}),(0,Na.jsx)("div",{className:"text-xs sm:text-sm opacity-90",children:"Trackman"}),"trackman"===d&&(0,Na.jsx)("div",{className:"absolute top-2 right-2 w-3 h-3 bg-white rounded-full"})]}),(0,Na.jsxs)("div",{className:"relative p-3 sm:p-6 rounded-xl cursor-pointer stats-card ".concat("both"===d?"bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-lg active":"bg-white text-gray-700 shadow-md hover:shadow-lg"),onClick:()=>u("both"),children:[(0,Na.jsx)("div",{className:"text-lg sm:text-2xl md:text-3xl font-bold",children:s.shared_courses.toLocaleString()}),(0,Na.jsx)("div",{className:"text-xs sm:text-sm opacity-90",children:"Both"}),"both"===d&&(0,Na.jsx)("div",{className:"absolute top-2 right-2 w-3 h-3 bg-white rounded-full"})]})]}):null,(0,Na.jsxs)("div",{className:"bg-white rounded-xl shadow-lg mb-6 sm:mb-8 overflow-hidden",children:[(0,Na.jsx)("div",{className:"p-4 sm:p-6 border-b border-gray-100",children:(0,Na.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center space-y-3 sm:space-y-0 sm:space-x-4",children:[(0,Na.jsxs)("div",{className:"flex-1 relative",children:[(0,Na.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Na.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,Na.jsx)("input",{type:"text",value:i,onChange:e=>c(e.target.value),placeholder:"Search courses by name, location, or designer...",className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent focus-ring"})]}),(0,Na.jsxs)("div",{className:"flex space-x-2",children:[(0,Na.jsx)("button",{onClick:()=>D(!A),className:"flex-1 sm:flex-none px-3 sm:px-4 py-3 rounded-lg font-medium transition-colors focus-ring btn-hover-effect ".concat(A?"bg-green-100 text-green-700 border border-green-200":"bg-gray-100 text-gray-700 border border-gray-200 hover:bg-gray-200"),children:(0,Na.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,Na.jsx)("svg",{className:"h-4 w-4 sm:h-5 sm:w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),(0,Na.jsx)("span",{className:"hidden sm:inline",children:"Filters"}),(0,Na.jsx)("span",{className:"sm:hidden",children:"Filter"}),Q()>0&&(0,Na.jsx)("span",{className:"bg-red-500 text-white text-xs rounded-full px-1.5 sm:px-2 py-0.5 sm:py-1 min-w-[16px] sm:min-w-[20px]",children:Q()})]})}),(0,Na.jsx)("button",{onClick:G,className:"px-3 sm:px-4 py-3 text-gray-600 bg-gray-100 border border-gray-200 rounded-lg hover:bg-gray-200 transition-colors focus-ring btn-hover-effect",children:"Clear"})]})]})}),A&&(0,Na.jsx)("div",{className:"p-4 sm:p-6 bg-gray-50",children:(0,Na.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[Y()&&(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Server"}),(0,Na.jsxs)("select",{value:m,onChange:e=>x(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[(0,Na.jsx)("option",{value:"",children:"All Servers"}),E.map(e=>(0,Na.jsx)("option",{value:e,children:e},e))]})]}),Y()&&(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Designer"}),(0,Na.jsxs)("select",{value:h,onChange:e=>p(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[(0,Na.jsx)("option",{value:"",children:"All Designers"}),P.slice(0,50).map(e=>(0,Na.jsx)("option",{value:e,children:e},e))]})]}),Y()&&(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),(0,Na.jsxs)("select",{value:f,onChange:e=>b(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[(0,Na.jsx)("option",{value:"",children:"All Locations"}),R.slice(0,50).map(e=>(0,Na.jsx)("option",{value:e,children:e},e))]})]}),Y()&&(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course Type"}),(0,Na.jsxs)("select",{value:g,onChange:e=>y(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[(0,Na.jsx)("option",{value:"",children:"All Types"}),B.map(e=>(0,Na.jsxs)("option",{value:e.key,children:[e.icon," ",e.label]},e.key))]})]})]})}),(0,Na.jsx)("div",{className:"px-4 sm:px-6 py-3 sm:py-4 bg-gray-50 border-t border-gray-100",children:(0,Na.jsx)("div",{className:"flex justify-between items-center",children:(0,Na.jsx)("div",{className:"text-xs sm:text-sm text-gray-600",children:I?(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsx)("div",{className:"animate-spin rounded-full h-3 w-3 sm:h-4 sm:w-4 border-2 border-green-500 border-t-transparent"}),(0,Na.jsx)("span",{children:"Searching..."})]}):(0,Na.jsxs)("span",{children:["Showing ",t.length," of ",_.toLocaleString()," courses",i&&' matching "'.concat(i,'"')]})})})})]}),I?(0,Na.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:Array.from({length:8},(e,t)=>(0,Na.jsx)("div",{className:"bg-white rounded-xl shadow-md overflow-hidden animate-pulse skeleton-pulse",children:(0,Na.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,Na.jsx)("div",{className:"h-6 bg-gray-200 rounded mb-4"}),(0,Na.jsxs)("div",{className:"space-y-2",children:[(0,Na.jsx)("div",{className:"h-4 bg-gray-200 rounded"}),(0,Na.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]})]})},t))}):(0,Na.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(e=>(0,Na.jsx)("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl course-card overflow-hidden group fade-in",children:(0,Na.jsxs)("div",{className:"p-6",children:[(0,Na.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Na.jsx)("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-2 group-hover:text-green-600 transition-colors",children:e.name}),(0,Na.jsx)("div",{className:"flex flex-col gap-1 ml-2",children:e.platforms.map(e=>(0,Na.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium platform-badge ".concat("GSPro"===e?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"),children:[(0,Na.jsx)("span",{className:"mr-1",children:K(e)}),e]},e))})]}),(0,Na.jsxs)("div",{className:"space-y-3 text-sm text-gray-600",children:[e.location&&(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsxs)("svg",{className:"h-4 w-4 text-gray-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,Na.jsx)("span",{className:"truncate",children:e.location})]}),e.designer&&(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)("svg",{className:"h-4 w-4 text-gray-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),(0,Na.jsx)("span",{className:"truncate",children:e.designer})]}),e.elevation&&(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)("svg",{className:"h-4 w-4 text-gray-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})}),(0,Na.jsxs)("span",{children:[e.elevation.toLocaleString()," ft"]})]})]}),e.course_types&&e.course_types.length>0&&(0,Na.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-100",children:(0,Na.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.course_types.slice(0,3).map((e,t)=>{const r=B.find(t=>t.key===e.replace(" ","_"));return(0,Na.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[(null===r||void 0===r?void 0:r.icon)&&(0,Na.jsx)("span",{className:"mr-1",children:r.icon}),e]},t)}),e.course_types.length>3&&(0,Na.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:["+",e.course_types.length-3," more"]})]})}),$()&&(0,Na.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-100",children:(0,Na.jsxs)("button",{onClick:()=>(e=>{H(e),z(!0)})(e),className:"w-full flex items-center justify-center px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium",children:[(0,Na.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit Course"]})})]})},e.id))}),N>1&&(0,Na.jsx)("div",{className:"mt-8 flex justify-center",children:(0,Na.jsxs)("nav",{className:"flex items-center space-x-2 bg-white rounded-lg shadow-md p-2",children:[(0,Na.jsx)("button",{onClick:()=>j(Math.max(1,v-1)),disabled:1===v,className:"px-4 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors focus-ring",children:"Previous"}),Array.from({length:Math.min(5,N)},(e,t)=>{const r=Math.max(1,Math.min(N-4,v-2))+t;return(0,Na.jsx)("button",{onClick:()=>j(r),className:"px-4 py-2 text-sm font-medium rounded-md transition-colors focus-ring ".concat(v===r?"bg-green-600 text-white":"text-gray-500 bg-white border border-gray-300 hover:bg-gray-50"),children:r},r)}),(0,Na.jsx)("button",{onClick:()=>j(Math.min(N,v+1)),disabled:v===N,className:"px-4 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors focus-ring",children:"Next"})]})}),0===t.length&&!l&&!I&&(0,Na.jsxs)("div",{className:"text-center py-16",children:[(0,Na.jsx)("div",{className:"w-24 h-24 mx-auto mb-6 bg-gray-100 rounded-full flex items-center justify-center",children:(0,Na.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 12h6m-6-4h6m2 5.291A7.962 7.962 0 0112 15c-2.34 0-4.47-.881-6.08-2.33"})})}),(0,Na.jsx)("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"No courses found"}),(0,Na.jsx)("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Try adjusting your search terms or filters to find what you're looking for."}),(0,Na.jsx)("button",{onClick:G,className:"px-6 py-3 text-sm font-medium text-green-600 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 transition-colors",children:"Clear all filters"})]}),(0,Na.jsx)(eo,{isOpen:F,onClose:()=>{z(!1),H(null)},course:U})]})})},ro=Ye("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),so=Ye("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),ao=e=>{let{isOpen:t,onClose:r,onUserAdded:s}=e;const[a,l]=(0,n.useState)({member_id:"",first_name:"",last_name:"",email_address:"",club:"",role:"Member",handicap:"0"}),[o,i]=(0,n.useState)(!1),[c,d]=(0,n.useState)({}),u=()=>{l({member_id:"",first_name:"",last_name:"",email_address:"",club:"",role:"Member",handicap:"0"}),d({}),i(!1),r()},m=(e,t)=>{l(r=>Ue(Ue({},r),{},{[e]:t})),c[e]&&d(t=>Ue(Ue({},t),{},{[e]:void 0}))};return t?(0,Na.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Na.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)(nt,{className:"w-6 h-6 text-brand-neon-green mr-3"}),(0,Na.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Add New User"})]}),(0,Na.jsx)("button",{onClick:u,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Na.jsx)(tt,{className:"w-6 h-6"})})]}),(0,Na.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return a.member_id.trim()?/^\d+$/.test(a.member_id)||(e.member_id="Member ID must be a number"):e.member_id="Member ID is required",a.first_name.trim()||(e.first_name="First name is required"),a.last_name.trim()||(e.last_name="Last name is required"),a.email_address.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email_address)||(e.email_address="Please enter a valid email address"):e.email_address="Email is required",a.club.trim()||(e.club="Club is required"),a.handicap&&!/^-?\d+(\.\d+)?$/.test(a.handicap)&&(e.handicap="Handicap must be a valid number"),d(e),0===Object.keys(e).length})()){i(!0);try{await(n={member_id:parseInt(a.member_id),first_name:a.first_name.trim(),last_name:a.last_name.trim(),email_address:a.email_address.trim(),club:a.club,role:a.role,handicap:a.handicap?parseFloat(a.handicap):0},Rs.post("/users",n)),In.success("User created successfully!"),s(),u()}catch(l){var t,r;console.error("Error creating user:",l);const e=(null===(t=l.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error)||"Failed to create user";In.error(e)}finally{i(!1)}var n}},className:"p-6 space-y-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{htmlFor:"member_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Member ID *"}),(0,Na.jsx)("input",{type:"text",id:"member_id",value:a.member_id,onChange:e=>m("member_id",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-brand-neon-green ".concat(c.member_id?"border-red-500":"border-gray-300"),placeholder:"Enter member ID"}),c.member_id&&(0,Na.jsxs)("p",{className:"text-red-500 text-sm mt-1 flex items-center",children:[(0,Na.jsx)(Xl,{className:"w-4 h-4 mr-1"}),c.member_id]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{htmlFor:"first_name",className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),(0,Na.jsx)("input",{type:"text",id:"first_name",value:a.first_name,onChange:e=>m("first_name",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-brand-neon-green ".concat(c.first_name?"border-red-500":"border-gray-300"),placeholder:"Enter first name"}),c.first_name&&(0,Na.jsxs)("p",{className:"text-red-500 text-sm mt-1 flex items-center",children:[(0,Na.jsx)(Xl,{className:"w-4 h-4 mr-1"}),c.first_name]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{htmlFor:"last_name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"}),(0,Na.jsx)("input",{type:"text",id:"last_name",value:a.last_name,onChange:e=>m("last_name",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-brand-neon-green ".concat(c.last_name?"border-red-500":"border-gray-300"),placeholder:"Enter last name"}),c.last_name&&(0,Na.jsxs)("p",{className:"text-red-500 text-sm mt-1 flex items-center",children:[(0,Na.jsx)(Xl,{className:"w-4 h-4 mr-1"}),c.last_name]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{htmlFor:"email_address",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),(0,Na.jsx)("input",{type:"email",id:"email_address",value:a.email_address,onChange:e=>m("email_address",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-brand-neon-green ".concat(c.email_address?"border-red-500":"border-gray-300"),placeholder:"Enter email address"}),c.email_address&&(0,Na.jsxs)("p",{className:"text-red-500 text-sm mt-1 flex items-center",children:[(0,Na.jsx)(Xl,{className:"w-4 h-4 mr-1"}),c.email_address]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{htmlFor:"club",className:"block text-sm font-medium text-gray-700 mb-1",children:"Club *"}),(0,Na.jsxs)("select",{id:"club",value:a.club,onChange:e=>m("club",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-brand-neon-green ".concat(c.club?"border-red-500":"border-gray-300"),children:[(0,Na.jsx)("option",{value:"",children:"Select a club"}),["No. 1","No. 2","No. 3","No. 4","No. 5","No. 6","No. 7","No. 8","No. 9","No. 10","No. 11","No. 12"].map(e=>(0,Na.jsx)("option",{value:e,children:e},e))]}),c.club&&(0,Na.jsxs)("p",{className:"text-red-500 text-sm mt-1 flex items-center",children:[(0,Na.jsx)(Xl,{className:"w-4 h-4 mr-1"}),c.club]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),(0,Na.jsx)("select",{id:"role",value:a.role,onChange:e=>m("role",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-brand-neon-green",children:[{value:"Member",label:"Member"},{value:"Admin",label:"Admin"},{value:"Deactivated",label:"Deactivated"}].map(e=>(0,Na.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{htmlFor:"handicap",className:"block text-sm font-medium text-gray-700 mb-1",children:"Handicap"}),(0,Na.jsx)("input",{type:"number",id:"handicap",value:a.handicap,onChange:e=>m("handicap",e.target.value),step:"0.1",className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-brand-neon-green ".concat(c.handicap?"border-red-500":"border-gray-300"),placeholder:"Enter handicap (optional)"}),c.handicap&&(0,Na.jsxs)("p",{className:"text-red-500 text-sm mt-1 flex items-center",children:[(0,Na.jsx)(Xl,{className:"w-4 h-4 mr-1"}),c.handicap]})]}),(0,Na.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,Na.jsx)("button",{type:"button",onClick:u,className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,Na.jsx)("button",{type:"submit",disabled:o,className:"flex-1 px-4 py-2 bg-brand-neon-green text-brand-black rounded-md font-medium hover:bg-green-400 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:o?(0,Na.jsxs)(Na.Fragment,{children:[(0,Na.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-brand-black mr-2"}),"Creating..."]}):(0,Na.jsxs)(Na.Fragment,{children:[(0,Na.jsx)(an,{className:"w-4 h-4 mr-2"}),"Create User"]})})]})]})]})}):null},no=e=>{let{onRoundsAdded:t}=e;const[r,s]=(0,n.useState)([]),[a,l]=(0,n.useState)([]),[o,i]=(0,n.useState)(!0),[c,d]=(0,n.useState)(!1),[u,m]=(0,n.useState)(""),[x,h]=(0,n.useState)(!1),[p,f]=(0,n.useState)(""),[b,g]=(0,n.useState)(!1),[y,v]=(0,n.useState)([]),[j,N]=(0,n.useState)(!1),[w,_]=(0,n.useState)(null),[k,S]=(0,n.useState)(""),[C,E]=(0,n.useState)(9),[T,P]=(0,n.useState)(""),[L,R]=(0,n.useState)("sim"),[M,A]=(0,n.useState)(null),[D,I]=(0,n.useState)(""),[O,F]=(0,n.useState)(""),[z,U]=(0,n.useState)(""),[H,B]=(0,n.useState)(""),[W,q]=(0,n.useState)((new Date).toISOString().split("T")[0]),V=e=>{if(Array.isArray(e))return e;if(e&&"object"===typeof e){if(e.courses&&Array.isArray(e.courses))return e.courses;if(e.data&&Array.isArray(e.data))return e.data}return[]},G=V(r).filter(e=>{var t,r,s,a;return((null===(t=e.first_name)||void 0===t?void 0:t.toLowerCase())||"").includes(u.toLowerCase())||((null===(r=e.last_name)||void 0===r?void 0:r.toLowerCase())||"").includes(u.toLowerCase())||((null===(s=e.email_address)||void 0===s?void 0:s.toLowerCase())||"").includes(u.toLowerCase())||((null===(a=e.club)||void 0===a?void 0:a.toLowerCase())||"").includes(u.toLowerCase())});(0,n.useEffect)(()=>{const e=setTimeout(()=>{(async e=>{if(e.length<2)v([]);else try{N(!0);const t=await da(e,void 0,50);v(V(t.data.courses))}catch(t){console.error("Error searching courses:",t),v([])}finally{N(!1)}})(p)},300);return()=>clearTimeout(e)},[p]),(0,n.useEffect)(()=>{const e=e=>{const t=e.target;t.closest(".user-dropdown-container")||h(!1),t.closest(".course-dropdown-container")||g(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,n.useEffect)(()=>{(async()=>{try{i(!0);const[e,t]=await Promise.all([Ms(),da(void 0,void 0,50)]);s(V(e.data)),l(V(t.data.courses))}catch(e){console.error("Error fetching data:",e),In.error("Failed to load data")}finally{i(!1)}})()},[]);return o?(0,Na.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,Na.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-neon-green"})}):(0,Na.jsxs)("div",{className:"space-y-6",children:[(0,Na.jsx)("div",{className:"flex items-center justify-between",children:(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h3",{className:"text-xl font-semibold text-brand-black",children:"Admin Scorecard Adder"}),(0,Na.jsx)("p",{className:"text-sm text-neutral-600",children:"Add scorecards for handicap tracking"})]})}),(0,Na.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-lg p-6",children:[(0,Na.jsx)("h4",{className:"text-lg font-medium text-brand-black mb-4",children:"Add Scorecard"}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Na.jsxs)("div",{className:"relative user-dropdown-container",children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Select User *"}),(0,Na.jsx)("input",{type:"text",value:u,onChange:e=>{return t=e.target.value,m(t),h(!0),void(t||_(null));var t},onFocus:()=>h(!0),placeholder:"Search by name, club, or email...",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-1 focus:ring-brand-neon-green focus:border-transparent"}),x&&(0,Na.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-white border border-neutral-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:G.length>0?G.slice(0,50).map(e=>(0,Na.jsxs)("div",{onClick:()=>(e=>{_(e.member_id),m("".concat(e.first_name||""," ").concat(e.last_name||"").trim()),h(!1)})(e),className:"px-3 py-2 hover:bg-neutral-100 cursor-pointer border-b border-neutral-100 last:border-b-0",children:[(0,Na.jsxs)("div",{className:"font-medium text-neutral-900",children:[e.first_name||""," ",e.last_name||""]}),(0,Na.jsxs)("div",{className:"text-sm text-neutral-600",children:[e.club||"No club"," \u2022 ",e.email_address||"No email"]})]},e.member_id)):(0,Na.jsx)("div",{className:"px-3 py-2 text-neutral-500 text-sm",children:"No users found"})})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Date Played"}),(0,Na.jsx)("input",{type:"date",value:W,onChange:e=>q(e.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-1 focus:ring-brand-neon-green focus:border-transparent"})]}),(0,Na.jsxs)("div",{className:"relative course-dropdown-container",children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Course"}),(0,Na.jsx)("input",{type:"text",value:p,onChange:e=>f(e.target.value),onFocus:()=>g(!0),placeholder:"Search courses by name, location, or designer...",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-1 focus:ring-brand-neon-green focus:border-transparent"}),b&&(0,Na.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-white border border-neutral-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:j?(0,Na.jsxs)("div",{className:"px-3 py-2 text-neutral-500 flex items-center",children:[(0,Na.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-brand-neon-green mr-2"}),"Searching courses..."]}):y.length>0?y.map(e=>{var t;return(0,Na.jsxs)("div",{onClick:()=>(e=>{A(e),f(e.name),g(!1),F(""),U(""),I("")})(e),className:"px-3 py-2 hover:bg-neutral-100 cursor-pointer border-b border-neutral-100 last:border-b-0",children:[(0,Na.jsx)("div",{className:"font-medium text-neutral-900",children:e.name}),(0,Na.jsxs)("div",{className:"text-sm text-neutral-600",children:[e.location&&"".concat(e.location," \u2022 "),e.designer&&"".concat(e.designer," \u2022 "),null===(t=e.platforms)||void 0===t?void 0:t.join(", ")]})]},e.id)}):p.length>=2?(0,Na.jsx)("div",{className:"px-3 py-2 text-neutral-500",children:"No courses found"}):(0,Na.jsx)("div",{className:"px-3 py-2 text-neutral-500",children:"Type at least 2 characters to search"})})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Round Type"}),(0,Na.jsxs)("select",{value:L,onChange:e=>R(e.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-1 focus:ring-brand-neon-green focus:border-transparent",children:[(0,Na.jsx)("option",{value:"sim",children:"Simulator"}),(0,Na.jsx)("option",{value:"grass",children:"Grass"})]})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Teebox"}),(0,Na.jsx)("input",{type:"text",value:D,onChange:e=>I(e.target.value),placeholder:"e.g., Blue, White, Red",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-1 focus:ring-brand-neon-green focus:border-transparent"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Handicap"}),(0,Na.jsx)("input",{type:"number",step:"0.1",value:H,onChange:e=>B(Number(e.target.value)||""),placeholder:"0.0",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-1 focus:ring-brand-neon-green focus:border-transparent"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Course Rating"}),(0,Na.jsx)("input",{type:"number",step:"0.1",value:O,onChange:e=>F(Number(e.target.value)||""),placeholder:"72.0",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-1 focus:ring-brand-neon-green focus:border-transparent"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Course Slope"}),(0,Na.jsx)("input",{type:"number",value:z,onChange:e=>U(Number(e.target.value)||""),placeholder:"113",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-1 focus:ring-brand-neon-green focus:border-transparent"})]})]}),(0,Na.jsx)("div",{className:"mt-6",children:(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Total Score *"}),(0,Na.jsx)("input",{type:"number",min:"1",value:k||"",onChange:e=>(e=>{const t=parseInt(e)||"";S(t)})(e.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-1 focus:ring-brand-neon-green focus:border-transparent",placeholder:"Enter total score"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Holes Played"}),(0,Na.jsxs)("select",{value:C,onChange:e=>E(Number(e.target.value)),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-1 focus:ring-brand-neon-green focus:border-transparent",children:[(0,Na.jsx)("option",{value:9,children:"9 Holes"}),(0,Na.jsx)("option",{value:18,children:"18 Holes"})]})]})]})}),(0,Na.jsxs)("div",{className:"mt-6",children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Notes"}),(0,Na.jsx)("textarea",{value:T,onChange:e=>P(e.target.value),rows:3,placeholder:"Optional notes about the round...",className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-1 focus:ring-brand-neon-green focus:border-transparent"})]}),(0,Na.jsx)("div",{className:"mt-6 flex justify-end",children:(0,Na.jsxs)("button",{onClick:async()=>{if(w)if(!k||k<=0)In.error("Please enter a valid total score");else try{d(!0);const e={user_id:w,hole_scores:Array(C).fill(0),total_score:Number(k),notes:T,round_type:L,course_id:null===M||void 0===M?void 0:M.id,course_name:(null===M||void 0===M?void 0:M.name)||"",teebox:D,course_rating:O?Number(O):void 0,course_slope:z?Number(z):void 0,handicap:H?Number(H):0,date_played:W};await(e=>Rs.post("/admin/scorecards",e))(e),In.success("Scorecard added successfully"),_(null),m(""),S(""),E(9),P(""),A(null),f(""),I(""),F(""),U(""),B(""),q((new Date).toISOString().split("T")[0]),t()}catch(s){var e,r;console.error("Error adding scorecard:",s),In.error("Failed to add scorecard: ".concat((null===(e=s.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.error)||s.message))}finally{d(!1)}else In.error("Please select a user")},disabled:c||!w||!k,className:"px-6 py-3 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center",children:[c?(0,Na.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-brand-black mr-2"}):(0,Na.jsx)(an,{className:"w-4 h-4 mr-2"}),"Add Scorecard"]})})]})]})},lo=e=>{let{className:t=""}=e;const{user:r}=ka(),s=te(),[a,l]=(0,n.useState)(null),[o,i]=(0,n.useState)([]),[c,d]=(0,n.useState)(!0),[u,m]=(0,n.useState)(!1),[x,h]=(0,n.useState)({startDate:"",endDate:""}),[p,f]=(0,n.useState)(""),[b,g]=(0,n.useState)(null),[y,v]=(0,n.useState)(""),[j,N]=(0,n.useState)(null),[w,_]=(0,n.useState)(!1),[k,S]=(0,n.useState)(!1),C=["Member","Admin","Club Pro","Ambassador","Deactivated"];(0,n.useEffect)(()=>{if(console.log("Current user:",r),console.log("User role:",null===r||void 0===r?void 0:r.role),console.log("User object keys:",r?Object.keys(r):"No user"),r){const e="admin"===r.role||"super_admin"===r.role||"Admin"===r.role||"Super Admin"===r.role;console.log("Is admin?",e),e?E():(console.log("User does not have admin privileges. Role:",r.role),d(!1))}else console.log("No user loaded yet")},[r]);const E=async()=>{try{d(!0),console.log("Fetching user tracking stats...");const e=await Rs.get("/admin/user-tracking-stats");console.log("User tracking stats response:",e),l(e.data)}catch(s){var e,t,r;console.error("Error fetching user tracking stats:",s),console.error("Error details:",null===(e=s.response)||void 0===e?void 0:e.data),In.error("Failed to load user tracking statistics: ".concat((null===(t=s.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error)||s.message))}finally{d(!1)}},T=async()=>{try{d(!0);const e={};x.startDate&&(e.startDate=x.startDate),x.endDate&&(e.endDate=x.endDate),p&&(e.club=p);const t=await(e=>Rs.get("/admin/user-tracking-details",{params:e}))(e);console.log("User tracking details response:",t.data),i(t.data)}catch(e){console.error("Error fetching user tracking details:",e),In.error("Failed to load detailed user data")}finally{d(!1)}},P=()=>{g(null),v("")},L=e=>{switch(e.toLowerCase()){case"admin":return"bg-red-100 text-red-800";case"ambassador":return"bg-purple-100 text-purple-800";case"club pro":return"bg-blue-100 text-blue-800";case"deactivated":return"bg-gray-100 text-gray-500";default:return"bg-neutral-100 text-neutral-700"}};return c&&!a?(0,Na.jsx)("div",{className:"bg-white rounded-xl p-6 border border-neutral-200 ".concat(t),children:(0,Na.jsxs)("div",{className:"animate-pulse",children:[(0,Na.jsx)("div",{className:"h-6 bg-neutral-200 rounded w-1/3 mb-4"}),(0,Na.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[...Array(4)].map((e,t)=>(0,Na.jsx)("div",{className:"h-20 bg-neutral-200 rounded"},t))})]})}):r?"admin"!==r.role&&"super_admin"!==r.role&&"Admin"!==r.role&&"Super Admin"!==r.role?(0,Na.jsx)("div",{className:"bg-white rounded-xl p-6 border border-neutral-200 ".concat(t),children:(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)(Ze,{className:"w-12 h-12 text-neutral-400 mx-auto mb-4"}),(0,Na.jsx)("h3",{className:"text-lg font-semibold text-neutral-600 mb-2",children:"Access Denied"}),(0,Na.jsxs)("p",{className:"text-neutral-500",children:["You need admin privileges to view user tracking statistics.",(0,Na.jsx)("br",{}),"Current role: ",r.role||"No role assigned"]})]})}):(0,Na.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-neutral-200 ".concat(t),children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"User Management"}),(0,Na.jsx)("p",{className:"text-sm text-gray-600",children:"Track and manage user accounts across all clubs"})]}),(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsxs)("button",{onClick:()=>_(!0),className:"px-4 py-2 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700 transition-colors flex items-center",children:[(0,Na.jsx)(nt,{className:"w-4 h-4 mr-2"}),"Add New User"]}),(0,Na.jsxs)("button",{onClick:()=>S(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center",children:[(0,Na.jsx)(sn,{className:"w-4 h-4 mr-2"}),"Add Rounds"]}),(0,Na.jsxs)("button",{onClick:()=>{m(!0),T()},className:"px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors flex items-center",children:[(0,Na.jsx)(Ea,{className:"w-4 h-4 mr-2"}),"View Details"]})]})]}),u?(0,Na.jsxs)("div",{className:"space-y-6",children:[(0,Na.jsxs)("div",{className:"bg-neutral-50 rounded-lg p-4",children:[(0,Na.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Na.jsx)(so,{className:"w-5 h-5 text-neutral-500 mr-2"}),(0,Na.jsx)("h4",{className:"text-lg font-semibold text-brand-black",children:"Filters"})]}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Start Date"}),(0,Na.jsx)("input",{type:"date",value:x.startDate,onChange:e=>h(Ue(Ue({},x),{},{startDate:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"End Date"}),(0,Na.jsx)("input",{type:"date",value:x.endDate,onChange:e=>h(Ue(Ue({},x),{},{endDate:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Club"}),(0,Na.jsxs)("select",{value:p,onChange:e=>f(e.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,Na.jsx)("option",{value:"",children:"All Clubs"}),null===a||void 0===a?void 0:a.clubStats.map(e=>(0,Na.jsx)("option",{value:e.club,children:e.club},e.club))]})]}),(0,Na.jsx)("div",{className:"flex items-end",children:(0,Na.jsx)("button",{onClick:T,className:"w-full px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors",children:"Apply Filters"})})]})]}),(0,Na.jsxs)("div",{className:"bg-neutral-50 rounded-lg p-4",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Na.jsxs)("h4",{className:"text-lg font-semibold text-brand-black",children:["User Details (",o.length," users)"]}),(0,Na.jsx)("div",{className:"flex items-center space-x-2",children:(0,Na.jsx)("button",{onClick:()=>m(!1),className:"px-4 py-2 bg-neutral-600 text-white rounded-lg font-medium hover:bg-neutral-700 transition-colors",children:"Back to Overview"})})]}),c?(0,Na.jsxs)("div",{className:"text-center py-8",children:[(0,Na.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-neon-green mx-auto"}),(0,Na.jsx)("p",{className:"text-neutral-600 mt-2",children:"Loading user details..."})]}):(0,Na.jsx)("div",{className:"overflow-x-auto border border-neutral-300 rounded-lg",children:(0,Na.jsxs)("table",{className:"w-full min-w-[1000px] border-collapse",children:[(0,Na.jsx)("thead",{className:"bg-neutral-100",children:(0,Na.jsxs)("tr",{children:[(0,Na.jsx)("th",{className:"border border-neutral-300 px-3 py-3 text-left font-medium text-sm w-[30%]",children:"Name"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-3 py-3 text-left font-medium text-sm w-[10%]",children:"Club"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-3 py-3 text-center font-medium text-sm w-[8%]",children:"Scorecards"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-3 py-3 text-left font-medium text-sm w-[15%]",children:"Role"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-3 py-3 text-left font-medium text-sm w-[10%]",children:"Claimed"}),(0,Na.jsx)("th",{className:"border border-neutral-300 px-3 py-3 text-left font-medium text-sm w-[27%]",children:"Actions"})]})}),(0,Na.jsx)("tbody",{children:o.map(e=>(console.log("Rendering user:",e.first_name,e.last_name,"with role:",e.role),console.log("Will render edit button for user:",e.first_name,e.last_name),(0,Na.jsxs)("tr",{className:"hover:bg-neutral-50",children:[(0,Na.jsx)("td",{className:"border border-neutral-300 px-3 py-3",children:(0,Na.jsxs)("div",{children:[(0,Na.jsxs)("div",{className:"font-medium text-sm",children:[e.first_name," ",e.last_name]}),(0,Na.jsx)("div",{className:"text-xs text-neutral-500 mt-1",children:e.email_address})]})}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-3 py-3",children:(0,Na.jsx)("span",{className:"px-2 py-1 bg-neutral-100 text-neutral-700 text-xs rounded font-medium",children:e.club})}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-3 py-3 text-center",children:(0,Na.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Na.jsx)("span",{className:"inline-flex items-center px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:e.total_rounds||0}),(e.sim_rounds>0||e.grass_rounds>0)&&(0,Na.jsxs)("div",{className:"text-xs text-neutral-500 mt-1",children:[e.sim_rounds>0&&"".concat(e.sim_rounds," sim"),e.sim_rounds>0&&e.grass_rounds>0&&" \u2022 ",e.grass_rounds>0&&"".concat(e.grass_rounds," grass")]})]})}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-3 py-3 text-neutral-600",children:b===e.member_id?(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsx)("select",{value:y,onChange:e=>v(e.target.value),className:"w-full px-2 py-1 border border-neutral-300 rounded-md text-xs focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:C.map(e=>(0,Na.jsx)("option",{value:e,children:e},e))}),(0,Na.jsx)("button",{onClick:()=>(async e=>{const t=o.find(t=>t.member_id===e),r=t?"".concat(t.first_name," ").concat(t.last_name):"User";if(window.confirm("Are you sure you want to change ".concat(r,"'s role to \"").concat(y,'"?'))){N(e);try{if(!t)throw new Error("User not found");await As(e,{first_name:t.first_name,last_name:t.last_name,email_address:t.email_address,club:t.club,role:y}),In.success("Role updated successfully for ".concat(r)),i(t=>t.map(t=>t.member_id===e?Ue(Ue({},t),{},{role:y}):t)),g(null),v("")}catch(n){var s,a;console.error("Error updating user role:",n),In.error("Failed to update role: ".concat((null===(s=n.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.error)||n.message))}finally{N(null)}}})(e.member_id),className:"p-1 text-green-600 hover:text-green-800 transition-colors disabled:opacity-50",title:"Save Role",disabled:j===e.member_id,children:j===e.member_id?(0,Na.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-green-600"}):(0,Na.jsx)(an,{className:"w-4 h-4"})}),(0,Na.jsx)("button",{onClick:P,className:"p-1 text-neutral-600 hover:text-neutral-800 transition-colors",title:"Cancel Edit",children:(0,Na.jsx)(tt,{className:"w-4 h-4"})})]}):(0,Na.jsx)("span",{className:"px-2 py-1 text-xs rounded font-medium ".concat(L(e.role)),children:e.role})}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-3 py-3",children:(0,Na.jsx)("span",{className:"px-2 py-1 text-xs rounded font-medium ".concat(e.has_claimed_account?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.has_claimed_account?"Yes":"No"})}),(0,Na.jsx)("td",{className:"border border-neutral-300 px-3 py-3 text-neutral-600",children:(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Na.jsxs)("button",{onClick:()=>s("/admin/users/".concat(e.member_id)),className:"px-3 py-1 bg-green-600 text-white hover:bg-green-700 transition-colors rounded text-xs font-medium shadow-sm flex items-center",title:"View Profile",children:[(0,Na.jsx)(Da,{className:"w-3 h-3 mr-1"}),"Profile"]}),(0,Na.jsx)("button",{onClick:()=>{return t=e.member_id,r=e.role,console.log("Edit role clicked for user ID:",t,"current role:",r),g(t),void v(r);var t,r},className:"px-3 py-1 bg-blue-600 text-white hover:bg-blue-700 transition-colors rounded text-xs font-medium shadow-sm",title:"Edit Role",children:"Edit"}),(0,Na.jsx)("button",{onClick:()=>(async(e,t)=>{if(window.confirm("Are you sure you want to deactivate ".concat(t,"? They will no longer be able to log in, but their data will be preserved.")))try{await As(e,{first_name:t.split(" ")[0],last_name:t.split(" ")[1]||"",email_address:"",club:"",role:"Deactivated"}),In.success("User deactivated successfully!"),await E(),u&&await T()}catch(a){var r,s;console.error("Error deactivating user:",a);const e=(null===(r=a.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.error)||"Failed to deactivate user";In.error(e)}})(e.member_id,"".concat(e.first_name," ").concat(e.last_name)),className:"px-3 py-1 bg-red-600 text-white hover:bg-red-700 transition-colors rounded text-xs font-medium shadow-sm",title:"Deactivate User",children:"Deactivate"})]})})]},e.member_id)))})]})})]})]}):(0,Na.jsxs)("div",{className:"space-y-6",children:[(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Na.jsx)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-lg border border-blue-200",children:(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("p",{className:"text-sm font-medium text-blue-600",children:"Total Users"}),(0,Na.jsx)("p",{className:"text-2xl font-bold text-blue-800",children:(null===a||void 0===a?void 0:a.userStats.total_users)||0})]}),(0,Na.jsx)(Ze,{className:"w-8 h-8 text-blue-600"})]})}),(0,Na.jsx)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-lg border border-green-200",children:(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("p",{className:"text-sm font-medium text-green-600",children:"Claimed Accounts"}),(0,Na.jsx)("p",{className:"text-2xl font-bold text-green-800",children:(null===a||void 0===a?void 0:a.userStats.claimed_accounts)||0}),(0,Na.jsxs)("p",{className:"text-xs text-green-600",children:[null!==a&&void 0!==a&&a.userStats?(parseInt(a.userStats.claimed_accounts)/parseInt(a.userStats.total_users)*100).toFixed(1):0,"% claim rate"]})]}),(0,Na.jsx)(ro,{className:"w-8 h-8 text-green-600"})]})}),(0,Na.jsx)("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 p-4 rounded-lg border border-yellow-200",children:(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("p",{className:"text-sm font-medium text-yellow-600",children:"Unclaimed Accounts"}),(0,Na.jsx)("p",{className:"text-2xl font-bold text-yellow-800",children:(null===a||void 0===a?void 0:a.userStats.unclaimed_accounts)||0})]}),(0,Na.jsx)(ol,{className:"w-8 h-8 text-yellow-600"})]})}),(0,Na.jsx)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-4 rounded-lg border border-purple-200",children:(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("p",{className:"text-sm font-medium text-purple-600",children:"Recent Activity"}),(0,Na.jsx)("p",{className:"text-2xl font-bold text-purple-800",children:(null===a||void 0===a?void 0:a.recentRoundsByDay.reduce((e,t)=>e+parseInt(t.rounds_count||"0"),0))||0}),(0,Na.jsx)("p",{className:"text-xs text-purple-600",children:"Last 7 days"})]}),(0,Na.jsx)(at,{className:"w-8 h-8 text-purple-600"})]})})]}),(0,Na.jsxs)("div",{className:"bg-neutral-50 rounded-lg p-4",children:[(0,Na.jsx)("h4",{className:"text-lg font-semibold text-brand-black mb-4",children:"Recent Rounds by Day"}),(0,Na.jsx)("div",{className:"space-y-2",children:null===a||void 0===a?void 0:a.recentRoundsByDay.slice(0,7).map((e,t)=>{return(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsx)(Aa,{className:"w-4 h-4 text-neutral-500 mr-2"}),(0,Na.jsx)("span",{className:"text-sm font-medium text-neutral-700",children:(r=e.date,new Date(r).toLocaleDateString())})]}),(0,Na.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Na.jsxs)("span",{className:"text-sm text-neutral-600",children:[e.sim_rounds," sim"]}),(0,Na.jsxs)("span",{className:"text-sm text-neutral-600",children:[e.grass_rounds," grass"]}),(0,Na.jsxs)("span",{className:"text-sm font-semibold text-brand-black",children:[e.rounds_count," total"]})]})]},e.date);var r})})]}),(null===a||void 0===a?void 0:a.topUsers)&&a.topUsers.length>0&&(0,Na.jsxs)("div",{className:"bg-neutral-50 rounded-lg p-4",children:[(0,Na.jsx)("h4",{className:"text-lg font-semibold text-brand-black mb-4",children:"Top Active Users (Last 30 Days)"}),(0,Na.jsx)("div",{className:"space-y-2",children:a.topUsers.slice(0,5).map((e,t)=>(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsxs)("span",{className:"text-sm font-medium text-neutral-500 mr-2",children:["#",t+1]}),(0,Na.jsxs)("span",{className:"text-sm font-medium text-neutral-700",children:[e.first_name," ",e.last_name]}),(0,Na.jsxs)("span",{className:"text-xs text-neutral-500 ml-2",children:["(",e.club,")"]})]}),(0,Na.jsxs)("span",{className:"text-sm font-semibold text-brand-black",children:[e.rounds_count," rounds"]})]},"".concat(e.first_name,"-").concat(e.last_name)))})]}),(null===a||void 0===a?void 0:a.clubStats)&&a.clubStats.length>0&&(0,Na.jsxs)("div",{className:"bg-neutral-50 rounded-lg p-4",children:[(0,Na.jsx)("h4",{className:"text-lg font-semibold text-brand-black mb-4",children:"Club Statistics"}),(0,Na.jsx)("div",{className:"space-y-3",children:a.clubStats.map(e=>(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("span",{className:"text-sm font-medium text-neutral-700",children:e.club}),(0,Na.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-neutral-500",children:[(0,Na.jsxs)("span",{children:[e.total_users," users"]}),(0,Na.jsxs)("span",{children:[e.claimed_accounts," claimed"]}),(0,Na.jsxs)("span",{children:[e.unclaimed_accounts," unclaimed"]})]})]}),(0,Na.jsxs)("div",{className:"text-sm font-semibold text-brand-black",children:[(parseInt(e.claimed_accounts)/parseInt(e.total_users)*100).toFixed(1),"% claimed"]})]},e.club))})]})]}),(0,Na.jsx)(ao,{isOpen:w,onClose:()=>_(!1),onUserAdded:async()=>{try{await E(),u&&await T(),In.success("User added successfully!")}catch(e){In.error("Error refreshing data after user creation")}}}),k&&(0,Na.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Na.jsx)("div",{className:"bg-white rounded-lg max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:(0,Na.jsxs)("div",{className:"p-6",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Na.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Add Rounds for Users"}),(0,Na.jsx)("button",{onClick:()=>S(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Na.jsx)(tt,{className:"w-6 h-6"})})]}),(0,Na.jsx)(no,{onRoundsAdded:()=>{S(!1),E(),In.success("Scorecard added successfully")}})]})})})]}):(0,Na.jsx)("div",{className:"bg-white rounded-xl p-6 border border-neutral-200 ".concat(t),children:(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)(Ze,{className:"w-12 h-12 text-neutral-400 mx-auto mb-4"}),(0,Na.jsx)("h3",{className:"text-lg font-semibold text-neutral-600 mb-2",children:"Loading..."}),(0,Na.jsx)("p",{className:"text-neutral-500",children:"Please wait while we load your user information."})]})})},oo=()=>{const e=te(),{user:t,isAdmin:r}=ka();return n.useEffect(()=>{t&&r||e("/profile",{replace:!0})},[t,e,r]),t&&r?(0,Na.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Na.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,Na.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Na.jsx)("div",{className:"flex items-center justify-between h-16",children:(0,Na.jsxs)("div",{className:"flex items-center",children:[(0,Na.jsxs)("button",{onClick:()=>e(-1),className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors mr-4",children:[(0,Na.jsx)(Yn,{className:"w-5 h-5 mr-2"}),"Back"]}),(0,Na.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"User Tracking Dashboard"})]})})})}),(0,Na.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Na.jsx)(lo,{})})]}):null},io=()=>{const{user:e}=ka(),{userId:t}=re(),r=te(),[s,a]=(0,n.useState)(null),[l,o]=(0,n.useState)(null),[i,c]=(0,n.useState)([]),[d,u]=(0,n.useState)([]),[m,x]=(0,n.useState)(!0),[h,p]=(0,n.useState)(null);return(0,n.useEffect)(()=>{var t;e&&"admin"===(null===(t=e.role)||void 0===t?void 0:t.toLowerCase())||r("/profile",{replace:!0})},[e,r]),(0,n.useEffect)(()=>{const e=Number(t);if(!e||Number.isNaN(e))return p("Invalid user id"),void x(!1);(async()=>{try{x(!0);const[t,r,s,n]=await Promise.all([Ms(),Ds(e),Os(e),$s(e)]),l=(t.data||[]).find(t=>t.member_id===e)||null;a(l),o(r.data),c(s.data||[]),u(n.data||[])}catch(To){p("Failed to load player profile"),console.error(To)}finally{x(!1)}})()},[t]),m?(0,Na.jsx)("div",{className:"flex items-center justify-center min-h-64",children:(0,Na.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-neon-green"})}):h?(0,Na.jsx)("div",{className:"p-4 bg-red-50 text-red-700 rounded-lg border border-red-200",children:h}):(0,Na.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,Na.jsx)("div",{className:"bg-gradient-to-br from-brand-dark-green to-brand-muted-green rounded-2xl shadow-xl p-6 mb-6 text-white",children:(0,Na.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold",children:s?"".concat(s.first_name," ").concat(s.last_name):"User #".concat(t)}),(0,Na.jsxs)("div",{className:"mt-2 flex items-center gap-4 text-white/90",children:[(0,Na.jsxs)("span",{className:"flex items-center",children:[(0,Na.jsx)(Xe,{className:"w-4 h-4 mr-1"}),(null===s||void 0===s?void 0:s.club)||"No club"]}),(0,Na.jsxs)("span",{className:"flex items-center",children:[(0,Na.jsx)(ol,{className:"w-4 h-4 mr-1"}),"Member ID ",t]})]})]}),(0,Na.jsx)("button",{onClick:()=>r(-1),className:"px-4 py-2 bg-white/15 hover:bg-white/25 border border-white/30 rounded-lg font-medium",children:"Back"})]})}),(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Na.jsxs)("div",{className:"md:col-span-2 space-y-6",children:[(0,Na.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-neutral-200",children:[(0,Na.jsxs)("h2",{className:"text-xl font-bold text-brand-black mb-4 flex items-center",children:[(0,Na.jsx)(Ea,{className:"w-5 h-5 mr-2"}),"Overall Performance"]}),l&&l.total_rounds>0?(0,Na.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:l.total_rounds}),(0,Na.jsx)("div",{className:"text-sm text-neutral-600",children:"Total Rounds"})]}),(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"text-2xl font-bold text-green-600",children:l.unique_courses}),(0,Na.jsx)("div",{className:"text-sm text-neutral-600",children:"Courses Played"})]}),(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:l.avg_differential?Number(l.avg_differential).toFixed(1):"N/A"}),(0,Na.jsx)("div",{className:"text-sm text-neutral-600",children:"Avg Differential"})]}),(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:l.best_differential?Number(l.best_differential).toFixed(1):"N/A"}),(0,Na.jsx)("div",{className:"text-sm text-neutral-600",children:"Best Differential"})]})]}):(0,Na.jsx)("div",{className:"text-neutral-600",children:"No rounds yet."})]}),(0,Na.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-neutral-200",children:[(0,Na.jsxs)("h2",{className:"text-xl font-bold text-brand-black mb-4 flex items-center",children:[(0,Na.jsx)(Aa,{className:"w-5 h-5 mr-2"}),"Recent Simulator Rounds"]}),i.length>0?(0,Na.jsx)("div",{className:"space-y-3",children:i.map(e=>(0,Na.jsxs)("div",{className:"flex items-center justify-between p-3 bg-neutral-50 rounded-lg",children:[(0,Na.jsxs)("div",{className:"flex-1",children:[(0,Na.jsx)("div",{className:"font-medium text-brand-black",children:e.course_name}),(0,Na.jsxs)("div",{className:"text-sm text-neutral-600",children:[new Date(e.date_played).toLocaleDateString()," \u2022 ",e.total_strokes," strokes",e.differential&&" \u2022 ".concat(Number(e.differential).toFixed(1)," differential")]})]}),(0,Na.jsxs)("div",{className:"text-right",children:[(0,Na.jsx)("div",{className:"text-sm font-semibold ".concat(e.handicap_status_color),children:e.handicap_status}),(0,Na.jsxs)("div",{className:"text-xs text-neutral-500",children:["Handicap: ",e.handicap||"N/A"]})]})]},e.id))}):(0,Na.jsx)("div",{className:"text-neutral-600",children:"No simulator rounds yet."})]})]}),(0,Na.jsx)("div",{className:"space-y-6",children:(0,Na.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-neutral-200",children:[(0,Na.jsx)("h3",{className:"text-lg font-semibold text-brand-black mb-3",children:"Tournaments"}),d.length>0?(0,Na.jsx)("div",{className:"space-y-2",children:d.slice(0,8).map(e=>(0,Na.jsxs)("div",{className:"flex items-center justify-between p-3 bg-neutral-50 rounded-lg",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("div",{className:"font-medium text-brand-black",children:e.name}),(0,Na.jsxs)("div",{className:"text-xs text-neutral-600",children:[e.status," \u2022 ",e.start_date?new Date(e.start_date).toLocaleDateString():"TBD"]})]}),(0,Na.jsxs)("button",{onClick:()=>r("/leaderboard/tournament/".concat(e.id)),className:"px-3 py-1 bg-blue-600 text-white rounded text-xs flex items-center",children:[(0,Na.jsx)(Da,{className:"w-3 h-3 mr-1"})," View Leaderboard"]})]},e.id))}):(0,Na.jsx)("div",{className:"text-neutral-600",children:"No tournaments."})]})})]})]})},co=e=>{let{tournamentId:t,onClose:r}=e;const{user:s}=ka(),a=te(),[l,o]=De(),[i,c]=(0,n.useState)(null),[d,u]=(0,n.useState)(!0),[m,x]=(0,n.useState)([]),[h,p]=(0,n.useState)([]),[f,b]=(0,n.useState)({}),[g,y]=(0,n.useState)(!1),[v,j]=(0,n.useState)({}),[N,w]=(0,n.useState)(!1),[_,k]=(0,n.useState)(!1),S=new Set(m.map(e=>e.id)),C={live_rounds:{name:"Live Rounds",description:"Ask participants about their participation in live rounds and night availability",questions:[{id:"participation_type",type:"radio",question:"Are you planning to participate in Live rounds this week or will you be playing solo?",options:["Live","Solo"],required:!0},{id:"night_availability",type:"checkbox",question:"Choose which of the following nights absolutely work for you THIS week.",options:["Wednesday (7-10)","Thursday (7-10)","Friday (7-10)","Saturday (7-10)"],required:!0,conditional:{dependsOn:"participation_type",showWhen:"Live"}}]},night_availability:{name:"Night Availability",description:"Simple night availability selection",questions:[{id:"available_nights",type:"checkbox",question:"Which nights are you available this week?",options:["Monday (7-10)","Tuesday (7-10)","Wednesday (7-10)","Thursday (7-10)","Friday (7-10)","Saturday (7-10)","Sunday (7-10)"],required:!0}]}},E=e=>{if(console.log("Getting registration form template for tournament:",e.id),console.log("has_registration_form:",e.has_registration_form),console.log("registration_form_template:",e.registration_form_template),!e.registration_form_template)return console.log("No registration form template found"),null;if("string"===typeof e.registration_form_template){const r=e.registration_form_template.trim();if(C[r])return console.log("Found predefined template:",r),C[r];if(r.startsWith("{")||r.startsWith("["))try{const t=JSON.parse(e.registration_form_template);return console.log("Parsed registration form template:",t),t}catch(t){return console.error("Error parsing registration form template:",t),null}return console.log("Unknown template format:",r),null}return console.log("Using registration form template as object:",e.registration_form_template),e.registration_form_template};(0,n.useEffect)(()=>{(async()=>{if(t){u(!0);try{const[a,n,l]=await Promise.all([Ys(),$s((null===s||void 0===s?void 0:s.member_id)||0),aa((null===s||void 0===s?void 0:s.member_id)||0)]),o=a.data.find(e=>e.id===t);o?c(o):(In.error("Tournament not found"),r()),x(n.data),p(l.data);const i={};for(const t of n.data)try{const e=await sa(t.id,(null===s||void 0===s?void 0:s.member_id)||0);i[t.id]=e.data.payment_submitted||!1}catch(e){i[t.id]=!1}b(i)}catch(a){console.error("Error fetching tournament data:",a),In.error("Failed to load tournament data")}finally{u(!1)}}})()},[t,null===s||void 0===s?void 0:s.member_id,r]),(0,n.useEffect)(()=>{"Solo"===v.participation_type&&j(e=>{const t=Ue({},e);return delete t.night_availability,t})},[v.participation_type]);const T=async e=>{try{await Xs(e,(null===s||void 0===s?void 0:s.member_id)||0),In.success("Successfully registered for tournament!");const t=await $s((null===s||void 0===s?void 0:s.member_id)||0);x(t.data);const r=(await Ys()).data.find(t=>t.id===e);r&&c(r)}catch(a){var t,r;console.error("Registration error:",a),In.error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error)||"Failed to register for tournament")}},P=e=>{const t=v[e];return!!t&&("string"===typeof t?""!==t.trim():!!Array.isArray(t)&&t.length>0)},L=e=>{if(e.conditional){if(v[e.conditional.dependsOn]!==e.conditional.showWhen)return!1}return e.required},R=e=>S.has(e),M=e=>{a("/leaderboard/tournament/".concat(e)),r()},A=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"TBD",D=async e=>{try{await navigator.clipboard.writeText((e=>"".concat(window.location.origin,"/#/tournaments?tournament=").concat(e))(e)),In.success("Tournament link copied to clipboard!")}catch(t){console.error("Failed to copy link:",t),In.error("Failed to copy link")}};if(d)return(0,Na.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Na.jsx)("div",{className:"bg-white rounded-lg p-8 max-w-2xl w-full mx-4",children:(0,Na.jsxs)("div",{className:"text-center",children:[(0,Na.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-neon-green mx-auto"}),(0,Na.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading tournament details..."})]})})});if(!i)return null;const I=E(i);return console.log("Rendering tournament modal for tournament:",i.id),console.log("showRegistrationForm:",g),console.log("registrationFormTemplate:",I),(0,Na.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Na.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Na.jsx)(Je,{className:"w-8 h-8 text-brand-neon-green"}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:i.name}),(0,Na.jsx)("p",{className:"text-sm text-gray-500",children:i.status&&(0,Na.jsx)("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium ".concat((e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"active":case"open":return"text-green-600";case"draft":default:return"text-gray-600";case"closed":return"text-red-600"}})(i.status)),children:i.status})})]})]}),(0,Na.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Na.jsx)(tt,{className:"w-6 h-6"})})]}),(0,Na.jsxs)("div",{className:"p-6",children:[(0,Na.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,Na.jsxs)("div",{className:"space-y-4",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Na.jsx)(Aa,{className:"w-5 h-5 text-gray-400"}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("p",{className:"text-sm text-gray-500",children:"Start Date"}),(0,Na.jsx)("p",{className:"font-medium",children:A(i.start_date||"")})]})]}),i.end_date&&(0,Na.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Na.jsx)(Aa,{className:"w-5 h-5 text-gray-400"}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("p",{className:"text-sm text-gray-500",children:"End Date"}),(0,Na.jsx)("p",{className:"font-medium",children:A(i.end_date)})]})]}),i.location&&(0,Na.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Na.jsx)(Xe,{className:"w-5 h-5 text-gray-400"}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("p",{className:"text-sm text-gray-500",children:"Location"}),(0,Na.jsx)("p",{className:"font-medium",children:i.location})]})]}),i.course&&(0,Na.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Na.jsx)(Xe,{className:"w-5 h-5 text-gray-400"}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("p",{className:"text-sm text-gray-500",children:"Course"}),(0,Na.jsx)("p",{className:"font-medium",children:i.course})]})]})]}),(0,Na.jsxs)("div",{className:"space-y-4",children:[(0,Na.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Na.jsx)(Ze,{className:"w-5 h-5 text-gray-400"}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("p",{className:"text-sm text-gray-500",children:"Format"}),(0,Na.jsx)("p",{className:"font-medium",children:(e=>{switch(e){case"match_play":return"Match Play";case"stroke_play":return"Stroke Play";case"team_match_play":return"Team Match Play";case"team_stroke_play":return"Team Stroke Play";default:return(null===e||void 0===e?void 0:e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()))||"Unknown"}})(i.tournament_format||"")})]})]}),i.entry_fee&&i.entry_fee>0&&(0,Na.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Na.jsx)(ml,{className:"w-5 h-5 text-gray-400"}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("p",{className:"text-sm text-gray-500",children:"Entry Fee"}),(0,Na.jsxs)("p",{className:"font-medium",children:["$",i.entry_fee]})]})]}),i.registration_deadline&&(0,Na.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Na.jsx)(ol,{className:"w-5 h-5 text-gray-400"}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("p",{className:"text-sm text-gray-500",children:"Registration Deadline"}),(0,Na.jsx)("p",{className:"font-medium",children:(O=i.registration_deadline,O?new Date(O).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"TBD")})]})]}),i.max_participants&&(0,Na.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Na.jsx)(Ze,{className:"w-5 h-5 text-gray-400"}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("p",{className:"text-sm text-gray-500",children:"Max Participants"}),(0,Na.jsx)("p",{className:"font-medium",children:i.max_participants})]})]})]})]}),i.description&&(0,Na.jsxs)("div",{className:"mb-6",children:[(0,Na.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Description"}),(0,Na.jsx)("p",{className:"text-gray-700",children:i.description})]}),i.rules&&(0,Na.jsxs)("div",{className:"mb-6",children:[(0,Na.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Rules"}),(0,Na.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:i.rules})]}),i.notes&&(0,Na.jsxs)("div",{className:"mb-6",children:[(0,Na.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Notes"}),(0,Na.jsx)("p",{className:"text-gray-700",children:i.notes})]}),(0,Na.jsxs)("div",{className:"flex flex-wrap gap-3 pt-6 border-t border-gray-200",children:[R(i.id)?(0,Na.jsxs)(Na.Fragment,{children:[(0,Na.jsxs)("button",{onClick:()=>(async e=>{if(s)try{await Zs(e,s.member_id),In.success("Successfully unregistered from tournament");const[t,r]=await Promise.all([Ys(),$s(s.member_id)]),a=t.data.find(t=>t.id===e);a&&c(a),x(r.data)}catch(a){var t,r;console.error("Unregistration error:",a),In.error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error)||"Failed to unregister from tournament")}})(i.id),className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:[(0,Na.jsx)(nt,{className:"w-4 h-4 mr-2"}),"Unregister"]}),(0,Na.jsxs)("button",{onClick:()=>M(i.id),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[(0,Na.jsx)(Da,{className:"w-4 h-4 mr-2"}),"View Leaderboard"]})]}):(0,Na.jsxs)(Na.Fragment,{children:[i.registration_open&&(0,Na.jsxs)("button",{onClick:()=>(async e=>{s?i&&i.has_registration_form?(console.log("Tournament has registration form, showing form modal"),y(!0)):(console.log("Tournament does not have registration form, performing direct registration"),await T(e)):In.error("Please log in to register for tournaments")})(i.id),className:"flex items-center px-4 py-2 bg-brand-neon-green text-brand-black rounded-md hover:bg-green-400 transition-colors",children:[(0,Na.jsx)(nt,{className:"w-4 h-4 mr-2"}),"Register"]}),(0,Na.jsxs)("button",{onClick:()=>M(i.id),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[(0,Na.jsx)(Da,{className:"w-4 h-4 mr-2"}),"View Leaderboard"]})]}),R(i.id)&&i.entry_fee&&i.entry_fee>0&&!(e=>f[e]||!1)(i.id)&&(0,Na.jsxs)("button",{onClick:()=>{k(!0)},className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:[(0,Na.jsx)(ml,{className:"w-4 h-4 mr-2"}),"Submit Payment"]}),(0,Na.jsxs)("button",{onClick:()=>D(i.id),className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:[(0,Na.jsx)(Ma,{className:"w-4 h-4 mr-2"}),"Share"]})]})]}),g&&i&&(0,Na.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60",children:(0,Na.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 max-h-[80vh] overflow-y-auto",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Na.jsx)("h3",{className:"text-lg font-semibold",children:"Tournament Registration"}),(0,Na.jsx)("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-gray-600",children:(0,Na.jsx)(tt,{className:"w-5 h-5"})})]}),I&&I.questions&&I.questions.length>0?(0,Na.jsx)("div",{className:"space-y-4",children:I.questions.filter(e=>{if(!e.conditional)return!0;return v[e.conditional.dependsOn]===e.conditional.showWhen}).map(e=>(0,Na.jsxs)("div",{className:"p-3 rounded-lg border ".concat(L(e)&&!P(e.id)?"border-red-200 bg-red-50":P(e.id)?"border-green-200 bg-green-50":"border-gray-200 bg-gray-50"),children:[(0,Na.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.question,L(e)&&(0,Na.jsx)("span",{className:"text-red-500 ml-1",children:"*"}),P(e.id)&&(0,Na.jsx)("span",{className:"text-green-600 ml-2 text-xs",children:"\u2713 Answered"})]}),"text"===e.type&&(0,Na.jsx)("input",{type:"text",value:v[e.id]||"",onChange:t=>j(Ue(Ue({},v),{},{[e.id]:t.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-brand-neon-green",placeholder:e.placeholder||""}),"radio"===e.type&&e.options&&e.options.length>0&&(0,Na.jsx)("div",{className:"space-y-2",children:e.options.map(t=>(0,Na.jsxs)("label",{className:"flex items-center",children:[(0,Na.jsx)("input",{type:"radio",value:t,checked:v[e.id]===t,onChange:t=>j(Ue(Ue({},v),{},{[e.id]:t.target.value})),className:"mr-2"}),t]},t))}),"checkbox"===e.type&&e.options&&e.options.length>0&&(0,Na.jsx)("div",{className:"space-y-2",children:e.options.map(t=>{var r;return(0,Na.jsxs)("label",{className:"flex items-center",children:[(0,Na.jsx)("input",{type:"checkbox",value:t,checked:(null===(r=v[e.id])||void 0===r?void 0:r.includes(t))||!1,onChange:r=>{const s=v[e.id]||[];r.target.checked?j(Ue(Ue({},v),{},{[e.id]:[...s,t]})):j(Ue(Ue({},v),{},{[e.id]:s.filter(e=>e!==t)}))},className:"mr-2"}),t]},t)})})]},e.id))}):(0,Na.jsxs)("div",{className:"text-center py-8",children:[(0,Na.jsx)("p",{className:"text-gray-600",children:"No registration form questions found."}),(0,Na.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Click submit to register without additional questions."})]}),(0,Na.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,Na.jsx)("button",{onClick:()=>y(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),(0,Na.jsx)("button",{onClick:async()=>{if(i&&s){w(!0);try{await((e,t,r)=>Rs.post("/tournaments/".concat(e,"/register-with-form"),{user_id:t,form_data:r}))(i.id,s.member_id,v),In.success("Successfully registered for tournament!"),y(!1),j({});const[e,t]=await Promise.all([Ys(),$s(s.member_id)]),r=e.data.find(e=>e.id===i.id);r&&c(r),x(t.data)}catch(r){var e,t;console.error("Registration form error:",r),In.error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to register for tournament")}finally{w(!1)}}},disabled:!(()=>{if(!i)return!0;const e=E(i);if(!e)return!0;const t=e.questions||[];for(const r of t)if((!r.conditional||v[r.conditional.dependsOn]===r.conditional.showWhen)&&r.required){const e=v[r.id];if("radio"===r.type){if(!e||""===e.trim())return!1}else if("checkbox"===r.type){if(!e||!Array.isArray(e)||0===e.length)return!1}else if("text"===r.type&&(!e||""===e.trim()))return!1}return!0})()||N,className:"px-4 py-2 bg-brand-neon-green text-brand-black rounded-md hover:bg-green-400 disabled:opacity-50",children:N?"Submitting...":"Submit Registration"})]})]})}),_&&i&&(0,Na.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60",children:(0,Na.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[(0,Na.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Na.jsx)("h3",{className:"text-lg font-semibold",children:"Submit Payment"}),(0,Na.jsx)("button",{onClick:()=>k(!1),className:"text-gray-400 hover:text-gray-600",children:(0,Na.jsx)(tt,{className:"w-5 h-5"})})]}),(0,Na.jsxs)("div",{className:"space-y-4",children:[(0,Na.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[(0,Na.jsx)("p",{className:"text-blue-800 text-sm font-medium mb-1",children:"Payment Instructions:"}),(0,Na.jsxs)("ol",{className:"text-blue-700 text-sm space-y-1",children:[(0,Na.jsx)("li",{children:"1. Click the Venmo link below"}),(0,Na.jsxs)("li",{children:["2. Send $",i.entry_fee," to the organizer"]}),(0,Na.jsx)("li",{children:"3. Include your name in the payment note"}),(0,Na.jsx)("li",{children:"4. The organizer will mark you as paid once they confirm payment"})]})]}),i.payment_organizer&&"other"!==i.payment_organizer&&(0,Na.jsxs)("div",{className:"border rounded-lg p-3 ".concat("jeff"===i.payment_organizer?"bg-green-50 border-green-200":"bg-blue-50 border-blue-200"),children:[(0,Na.jsx)("p",{className:"text-sm mb-2 ".concat("jeff"===i.payment_organizer?"text-green-700":"text-blue-700"),children:"jeff"===i.payment_organizer?"Jeff Testa":"Adam Christopher"}),(0,Na.jsxs)("a",{href:"jeff"===i.payment_organizer?"https://venmo.com/u/JeffTesta":"https://venmo.com/u/NN_No10",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-2 text-white rounded-lg text-sm font-medium transition-colors ".concat("jeff"===i.payment_organizer?"bg-green-600 hover:bg-green-700":"bg-blue-600 hover:bg-blue-700"),children:[(0,Na.jsx)(ml,{className:"w-4 h-4 mr-2"}),"Pay $",i.entry_fee," on Venmo"]})]}),"other"===i.payment_organizer&&i.payment_organizer_name&&(0,Na.jsxs)("div",{className:"border rounded-lg p-3 bg-purple-50 border-purple-200",children:[(0,Na.jsx)("p",{className:"text-sm mb-2 text-purple-700",children:i.payment_organizer_name}),i.payment_venmo_url&&(0,Na.jsxs)("a",{href:i.payment_venmo_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-2 bg-purple-600 text-white rounded-lg text-sm font-medium hover:bg-purple-700 transition-colors",children:[(0,Na.jsx)(ml,{className:"w-4 h-4 mr-2"}),"Pay $",i.entry_fee," on Venmo"]})]})]}),(0,Na.jsx)("div",{className:"flex justify-end mt-6",children:(0,Na.jsx)("button",{onClick:()=>k(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Close"})})]})})]})});var O},uo=()=>{const{user:e}=ka(),[t,r]=(te(),De()),[s,a]=(0,n.useState)([]),[l,o]=(0,n.useState)([]),[i,c]=(0,n.useState)(!0),[d,u]=(0,n.useState)(""),[m,x]=(0,n.useState)("all"),[h,p]=(0,n.useState)(null),[f,b]=(0,n.useState)(!1),g=new Set(l.map(e=>e.id));(0,n.useEffect)(()=>{(async()=>{c(!0);try{const[s,n,l]=await Promise.all([Ys(),$s((null===e||void 0===e?void 0:e.member_id)||0),aa((null===e||void 0===e?void 0:e.member_id)||0)]);a(s.data),o(n.data);const i=t.get("tournament");if(i){s.data.find(e=>e.id===parseInt(i))&&(p(parseInt(i)),b(!0),r({}))}}catch(s){console.error("Error fetching tournaments:",s),In.error("Failed to load tournaments")}finally{c(!1)}})()},[null===e||void 0===e?void 0:e.member_id,t,r]);const y=e=>{p(e),b(!0)},v=s.filter(e=>{var t,r,s;const a=e.name.toLowerCase().includes(d.toLowerCase())||(null===(t=e.description)||void 0===t?void 0:t.toLowerCase().includes(d.toLowerCase()))||(null===(r=e.location)||void 0===r?void 0:r.toLowerCase().includes(d.toLowerCase()))||(null===(s=e.course)||void 0===s?void 0:s.toLowerCase().includes(d.toLowerCase())),n="all"===m||e.tournament_format===m;return a&&n}),j=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"active":case"open":return"text-green-600";case"draft":default:return"text-gray-600";case"closed":return"text-red-600"}},N=e=>{switch(e){case"match_play":return"Match Play";case"stroke_play":return"Stroke Play";case"team_match_play":return"Team Match Play";case"team_stroke_play":return"Team Stroke Play";default:return(null===e||void 0===e?void 0:e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()))||"Unknown"}};return i?(0,Na.jsxs)("div",{className:"text-center py-8",children:[(0,Na.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-neon-green mx-auto"}),(0,Na.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading tournaments..."})]}):(0,Na.jsxs)("div",{className:"space-y-6",children:[(0,Na.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Available Tournaments"}),(0,Na.jsx)("p",{className:"mt-1 text-white",children:"Register for upcoming tournaments and events"})]}),!e&&(0,Na.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,Na.jsxs)("p",{className:"text-blue-800 text-sm",children:[(0,Na.jsx)(Il,{className:"w-4 h-4 inline mr-1"}),"Please log in to register for tournaments"]})})]}),(0,Na.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,Na.jsx)("div",{className:"flex-1",children:(0,Na.jsxs)("div",{className:"relative",children:[(0,Na.jsx)(ul,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Na.jsx)("input",{type:"text",placeholder:"Search tournaments...",value:d,onChange:e=>u(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-neon-green focus:border-transparent"})]})}),(0,Na.jsx)("div",{className:"sm:w-48",children:(0,Na.jsxs)("select",{value:m,onChange:e=>x(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",children:[(0,Na.jsx)("option",{value:"all",children:"All Formats"}),(0,Na.jsx)("option",{value:"match_play",children:"Match Play"}),(0,Na.jsx)("option",{value:"stroke_play",children:"Stroke Play"}),(0,Na.jsx)("option",{value:"team_match_play",children:"Team Match Play"}),(0,Na.jsx)("option",{value:"team_stroke_play",children:"Team Stroke Play"})]})})]}),0===v.length?(0,Na.jsxs)("div",{className:"text-center py-12",children:[(0,Na.jsx)(Je,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Na.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No tournaments found"}),(0,Na.jsx)("p",{className:"text-gray-600",children:d||"all"!==m?"Try adjusting your search or filter criteria":"Check back later for new tournaments"})]}):(0,Na.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(e=>{return(0,Na.jsx)("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer border border-gray-200",onClick:()=>y(e.id),children:(0,Na.jsxs)("div",{className:"p-6",children:[(0,Na.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Na.jsxs)("div",{className:"flex-1",children:[(0,Na.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:e.name}),(0,Na.jsxs)("div",{className:"flex items-center space-x-2",children:[e.status&&(0,Na.jsx)("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium ".concat(j(e.status)),children:e.status}),(0,Na.jsx)("span",{className:"text-sm text-gray-500",children:N(e.tournament_format||"")})]})]}),(0,Na.jsx)(Je,{className:"w-6 h-6 text-brand-neon-green flex-shrink-0"})]}),(0,Na.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,Na.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Na.jsx)(Aa,{className:"w-4 h-4 mr-2"}),(0,Na.jsx)("span",{children:(r=e.start_date||"",r?new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"TBD")})]}),e.location&&(0,Na.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Na.jsx)(Xe,{className:"w-4 h-4 mr-2"}),(0,Na.jsx)("span",{children:e.location})]}),e.course&&(0,Na.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Na.jsx)(Xe,{className:"w-4 h-4 mr-2"}),(0,Na.jsx)("span",{children:e.course})]}),e.entry_fee&&e.entry_fee>0&&(0,Na.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Na.jsx)(ml,{className:"w-4 h-4 mr-2"}),(0,Na.jsxs)("span",{children:["$",e.entry_fee," entry fee"]})]})]}),e.description&&(0,Na.jsx)("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:e.description}),(0,Na.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Na.jsx)("div",{className:"flex items-center space-x-2",children:(t=e.id,g.has(t)?(0,Na.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(0,Na.jsx)(nt,{className:"w-3 h-3 mr-1"}),"Registered"]}):(0,Na.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[(0,Na.jsx)(Ze,{className:"w-3 h-3 mr-1"}),"Available"]}))}),(0,Na.jsx)("button",{onClick:t=>{t.stopPropagation(),y(e.id)},className:"text-brand-neon-green hover:text-brand-dark-green text-sm font-medium",children:"View Details \u2192"})]})]})},e.id);var t,r})}),f&&h&&(0,Na.jsx)(co,{tournamentId:h,onClose:()=>{b(!1),p(null);(async()=>{try{const[t,r]=await Promise.all([Ys(),$s((null===e||void 0===e?void 0:e.member_id)||0)]);a(t.data),o(r.data)}catch(t){console.error("Error refreshing tournaments:",t)}})()}})]})},mo=()=>{const{user:e,viewAsMode:t}=ka(),[r,s]=(0,n.useState)(!1),[a,l]=(0,n.useState)(null),[o,i]=(0,n.useState)(new Set),[c,d]=(0,n.useState)(null);(0,n.useEffect)(()=>{e&&(async()=>{try{s(!0),l(null);const r=t.isActive?t.viewAsClub:null===e||void 0===e?void 0:e.club;console.log("Loading club pro data...",{user:null===e||void 0===e?void 0:e.member_id,role:null===e||void 0===e?void 0:e.role,targetClub:r,viewAsMode:t.isActive});const[a,n]=await Promise.all([ya(r),va(r)]);console.log("Handicaps response:",a.data),console.log("Tournaments response:",n.data);const o={club:a.data.club,members:a.data.players.map(e=>{const t=n.data.players.find(t=>t.member_id===e.member_id);return{member_id:e.member_id,first_name:e.first_name,last_name:e.last_name,sim_handicap:e.sim_handicap,total_rounds:e.total_rounds,tournaments:(null===t||void 0===t?void 0:t.tournaments)||[]}})};d(o)}catch(To){console.error("Failed to load club pro data",To),l(To instanceof Error?To.message:"Failed to load data")}finally{s(!1)}})()},[e,t]);return e?(0,Na.jsxs)("div",{className:"space-y-6",children:[a&&(0,Na.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,Na.jsx)("div",{className:"flex",children:(0,Na.jsxs)("div",{className:"ml-3",children:[(0,Na.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),(0,Na.jsx)("div",{className:"mt-2 text-sm text-red-700",children:(0,Na.jsx)("p",{children:a})})]})})}),(0,Na.jsxs)("div",{className:"bg-white/95 backdrop-blur-sm shadow rounded-lg p-4",children:[(0,Na.jsxs)("h2",{className:"text-lg font-semibold mb-3",children:["Member Summary ",null!==c&&void 0!==c&&c.club?"- ".concat(c.club):""]}),r&&(0,Na.jsx)("div",{children:"Loading..."}),!r&&c&&(0,Na.jsx)("div",{className:"overflow-x-auto",children:(0,Na.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Na.jsx)("thead",{className:"bg-gray-50",children:(0,Na.jsxs)("tr",{children:[(0,Na.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member"}),(0,Na.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SIM HCP"}),(0,Na.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rounds"}),(0,Na.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tournaments"}),(0,Na.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Na.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"})]})}),(0,Na.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:c.members.map(e=>{var t;const r=o.has(e.member_id),s=e.tournaments.filter(e=>"active"===e.participation_status).length,a=e.tournaments.filter(e=>"completed"===e.participation_status).length,l=e.tournaments.filter(e=>"registered"===e.participation_status).length;return(0,Na.jsxs)(n.Fragment,{children:[(0,Na.jsxs)("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>(e=>{const t=new Set(o);t.has(e)?t.delete(e):t.add(e),i(t)})(e.member_id),children:[(0,Na.jsxs)("td",{className:"px-3 py-2 whitespace-nowrap font-medium text-gray-900",children:[e.first_name," ",e.last_name]}),(0,Na.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-gray-900",children:null!==(t=e.sim_handicap)&&void 0!==t?t:"-"}),(0,Na.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-gray-900",children:e.total_rounds}),(0,Na.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-gray-900",children:e.tournaments.length}),(0,Na.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,Na.jsxs)("div",{className:"flex gap-1",children:[s>0&&(0,Na.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[s," active"]}),a>0&&(0,Na.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[a," completed"]}),l>0&&(0,Na.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[l," registered"]}),0===e.tournaments.length&&(0,Na.jsx)("span",{className:"text-gray-400 text-xs",children:"No tournaments"})]})}),(0,Na.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-gray-400",children:(0,Na.jsx)("svg",{className:"w-4 h-4 transform transition-transform ".concat(r?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Na.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),r&&(0,Na.jsx)("tr",{children:(0,Na.jsx)("td",{colSpan:6,className:"px-3 py-2 bg-gray-50",children:(0,Na.jsxs)("div",{className:"ml-4",children:[(0,Na.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Tournament Details"}),e.tournaments.length>0?(0,Na.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:e.tournaments.map(e=>(0,Na.jsxs)("div",{className:"bg-white rounded p-2 text-sm border",children:[(0,Na.jsx)("div",{className:"font-medium text-gray-900",children:e.tournament_name}),(0,Na.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,Na.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("completed"===e.participation_status?"bg-green-100 text-green-800":"active"===e.participation_status?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"),children:e.participation_status}),e.start_date&&(0,Na.jsx)("span",{className:"text-gray-500 text-xs",children:new Date(e.start_date).toLocaleDateString()})]})]},e.tournament_id))}):(0,Na.jsx)("div",{className:"text-gray-500 text-sm",children:"No tournament participation"})]})})})]},e.member_id)})})]})})]})]}):null},xo=()=>{const{login:e,loading:t}=ka(),[r,s]=(0,n.useState)(""),[a,l]=(0,n.useState)(""),[o,i]=(0,n.useState)(""),c=te(),d=Z();return(0,Na.jsxs)("div",{className:"max-w-md mx-auto bg-white/95 rounded-2xl p-4 sm:p-8 shadow-lg mt-8 sm:mt-16 mx-4 sm:mx-auto",children:[(0,Na.jsxs)("div",{className:"text-center mb-4 sm:mb-6",children:[(0,Na.jsx)("img",{src:"/logo-color.svg",alt:"Golf League Logo",className:"h-12 sm:h-16 w-auto mx-auto mb-3 sm:mb-4"}),(0,Na.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-brand-black",children:"Login"}),(0,Na.jsx)("p",{className:"text-neutral-600 mt-2 text-sm sm:text-base",children:"Welcome back to the golf league"})]}),(0,Na.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),i("");try{var s;await e(r,a);const t=(null===(s=d.state)||void 0===s?void 0:s.from)||"/profile";c(t)}catch(n){i("Invalid email or password")}},className:"space-y-4 sm:space-y-6",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Email"}),(0,Na.jsx)("input",{type:"email",value:r,onChange:e=>s(e.target.value),className:"w-full px-3 py-3 sm:py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent text-base",required:!0,placeholder:"Enter your email"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Password"}),(0,Na.jsx)("input",{type:"password",value:a,onChange:e=>l(e.target.value),className:"w-full px-3 py-3 sm:py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent text-base",required:!0,placeholder:"Enter your password"}),(0,Na.jsx)("div",{className:"text-right mt-1",children:(0,Na.jsx)(Re,{to:"/reset-password",className:"text-sm text-brand-neon-green hover:text-green-400",children:"Forgot password?"})})]}),o&&(0,Na.jsx)("div",{className:"text-red-600 text-sm text-center",children:o}),(0,Na.jsx)("button",{type:"submit",className:"w-full px-4 py-3 sm:py-2 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors disabled:opacity-50 text-base",disabled:t,children:t?"Logging in...":"Login"})]}),(0,Na.jsx)("div",{className:"mt-4 sm:mt-6 text-center",children:(0,Na.jsxs)("p",{className:"text-neutral-600 text-sm",children:["New member?"," ",(0,Na.jsx)(Re,{to:"/claim-account",className:"text-brand-neon-green hover:text-green-400 font-medium",children:"Claim your account"})]})})]})},ho=()=>{const{user:e}=ka(),t=te(),[r,s]=(0,n.useState)({password:"",confirmPassword:""}),[a,l]=(0,n.useState)(""),[o,i]=(0,n.useState)(!1),c=e=>{s(Ue(Ue({},r),{},{[e.target.name]:e.target.value}))};return e?(0,Na.jsxs)("div",{className:"max-w-md mx-auto bg-white/95 rounded-2xl p-8 shadow-lg mt-16",children:[(0,Na.jsxs)("div",{className:"text-center mb-6",children:[(0,Na.jsx)("img",{src:"/logo-color.svg",alt:"Golf League Logo",className:"h-16 w-auto mx-auto mb-4"}),(0,Na.jsx)("h1",{className:"text-3xl font-bold text-brand-black",children:"Set Your Password"}),(0,Na.jsxs)("p",{className:"text-neutral-600 mt-2",children:["Welcome, ",e.first_name,"! Please set a password for your account."]})]}),(0,Na.jsxs)("form",{onSubmit:async e=>{var s;if(e.preventDefault(),l(""),r.password===r.confirmPassword)if(r.password.length<6)l("Password must be at least 6 characters long");else try{i(!0),await(s=r.password,Rs.post("/auth/setup-password",{password:s})),t("/profile")}catch(o){var a,n;l((null===(a=o.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.error)||"Failed to set password")}finally{i(!1)}else l("Passwords do not match")},className:"space-y-6",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"New Password"}),(0,Na.jsx)("input",{type:"password",name:"password",value:r.password,onChange:c,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",required:!0,minLength:6})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Confirm Password"}),(0,Na.jsx)("input",{type:"password",name:"confirmPassword",value:r.confirmPassword,onChange:c,className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",required:!0})]}),a&&(0,Na.jsx)("div",{className:"text-red-600 text-sm text-center",children:a}),(0,Na.jsx)("button",{type:"submit",className:"w-full px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors disabled:opacity-50",disabled:o,children:o?"Setting Password...":"Set Password"})]})]}):(0,Na.jsx)(be,{to:"/login"})},po=()=>{const{login:e}=ka(),t=te(),[r,s]=(0,n.useState)("email"),[a,l]=(0,n.useState)(""),[o,i]=(0,n.useState)(""),[c,d]=(0,n.useState)(""),[u,m]=(0,n.useState)(null),[x,h]=(0,n.useState)(""),[p,f]=(0,n.useState)(!1),b=async r=>{if(r.preventDefault(),h(""),o===c)if(o.length<6)h("Password must be at least 6 characters long");else{f(!0);try{await((e,t)=>Rs.post("/auth/claim-account",{email:e,password:t}))(a,o),await e(a,o),t("/profile")}catch(l){var s,n;h((null===(s=l.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.error)||"Failed to claim account")}finally{f(!1)}}else h("Passwords do not match")},g=()=>{s("email"),h(""),m(null)};return"password"===r&&u?(0,Na.jsxs)("div",{className:"max-w-md mx-auto bg-white/95 rounded-2xl p-8 shadow-lg mt-16",children:[(0,Na.jsxs)("div",{className:"text-center mb-6",children:[(0,Na.jsx)("img",{src:"/logo-color.svg",alt:"Golf League Logo",className:"h-16 w-auto mx-auto mb-4"}),(0,Na.jsx)("h1",{className:"text-3xl font-bold text-brand-black",children:"Set Your Password"}),(0,Na.jsxs)("p",{className:"text-neutral-600 mt-2",children:["Welcome, ",u.first_name," ",u.last_name,"!"]}),(0,Na.jsx)("p",{className:"text-neutral-600 text-sm",children:"Please set a password to claim your account"})]}),(0,Na.jsxs)("form",{onSubmit:b,className:"space-y-6",children:[(0,Na.jsx)("div",{className:"bg-neutral-50 p-4 rounded-lg",children:(0,Na.jsxs)("p",{className:"text-sm text-neutral-600",children:[(0,Na.jsx)("strong",{children:"Account Details:"}),(0,Na.jsx)("br",{}),"Name: ",u.first_name," ",u.last_name,(0,Na.jsx)("br",{}),"Email: ",u.email_address,(0,Na.jsx)("br",{}),"Club: ",u.club||"Not specified"]})}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Password"}),(0,Na.jsx)("input",{type:"password",value:o,onChange:e=>i(e.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",required:!0,minLength:6,placeholder:"Enter your password"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Confirm Password"}),(0,Na.jsx)("input",{type:"password",value:c,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",required:!0,placeholder:"Confirm your password"})]}),x&&(0,Na.jsx)("div",{className:"text-red-600 text-sm text-center",children:x}),(0,Na.jsxs)("div",{className:"flex gap-3",children:[(0,Na.jsx)("button",{type:"button",onClick:g,className:"flex-1 px-4 py-2 border border-neutral-300 text-neutral-600 rounded-lg font-medium hover:bg-neutral-50 transition-colors",children:"Back"}),(0,Na.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors disabled:opacity-50",disabled:p,children:p?"Claiming Account...":"Claim Account"})]})]})]}):(0,Na.jsxs)("div",{className:"max-w-md mx-auto bg-white/95 rounded-2xl p-8 shadow-lg mt-16",children:[(0,Na.jsxs)("div",{className:"text-center mb-6",children:[(0,Na.jsx)("img",{src:"/logo-color.svg",alt:"Golf League Logo",className:"h-16 w-auto mx-auto mb-4"}),(0,Na.jsx)("h1",{className:"text-3xl font-bold text-brand-black",children:"Claim Your Account"}),(0,Na.jsx)("p",{className:"text-neutral-600 mt-2",children:"Enter your Mighty Network email to access your golf league account"})]}),(0,Na.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),h(""),f(!0);try{const e=await Ws(a),{user:t,hasPassword:r}=e.data;if(r)return void h("This account already has a password set. Please use the login page instead.");m(t),s("password")}catch(n){var t,r;h((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error)||"Failed to verify email")}finally{f(!1)}},className:"space-y-6",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Email Address"}),(0,Na.jsx)("input",{type:"email",value:a,onChange:e=>l(e.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",required:!0,placeholder:"Enter your email address"})]}),x&&(0,Na.jsx)("div",{className:"text-red-600 text-sm text-center",children:x}),(0,Na.jsx)("button",{type:"submit",className:"w-full px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors disabled:opacity-50",disabled:p,children:p?"Checking Email...":"Continue"})]}),(0,Na.jsx)("div",{className:"mt-6 text-center",children:(0,Na.jsxs)("p",{className:"text-neutral-600 text-sm",children:["Already have a password?"," ",(0,Na.jsx)("button",{onClick:()=>t("/login"),className:"text-brand-neon-green hover:text-green-400 font-medium",children:"Sign in here"})]})})]})},fo=()=>{const{login:e}=ka(),t=te(),[r,s]=(0,n.useState)("email"),[a,l]=(0,n.useState)(""),[o,i]=(0,n.useState)(""),[c,d]=(0,n.useState)(""),[u,m]=(0,n.useState)(null),[x,h]=(0,n.useState)(""),[p,f]=(0,n.useState)(!1),b=async r=>{if(r.preventDefault(),h(""),o===c)if(o.length<6)h("Password must be at least 6 characters long");else{f(!0);try{await((e,t)=>Rs.post("/auth/reset-password",{email:e,password:t}))(a,o),await e(a,o),t("/profile")}catch(l){var s,n;h((null===(s=l.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.error)||"Failed to reset password")}finally{f(!1)}}else h("Passwords do not match")},g=()=>{s("email"),h(""),m(null)};return"password"===r&&u?(0,Na.jsxs)("div",{className:"max-w-md mx-auto bg-white/95 rounded-2xl p-8 shadow-lg mt-16",children:[(0,Na.jsxs)("div",{className:"text-center mb-6",children:[(0,Na.jsx)("img",{src:"/logo-color.svg",alt:"Golf League Logo",className:"h-16 w-auto mx-auto mb-4"}),(0,Na.jsx)("h1",{className:"text-3xl font-bold text-brand-black",children:"Reset Your Password"}),(0,Na.jsxs)("p",{className:"text-neutral-600 mt-2",children:["Welcome back, ",u.first_name," ",u.last_name,"!"]}),(0,Na.jsx)("p",{className:"text-neutral-600 text-sm",children:"Please enter your new password"})]}),(0,Na.jsxs)("form",{onSubmit:b,className:"space-y-6",children:[(0,Na.jsx)("div",{className:"bg-neutral-50 p-4 rounded-lg",children:(0,Na.jsxs)("p",{className:"text-sm text-neutral-600",children:[(0,Na.jsx)("strong",{children:"Account Details:"}),(0,Na.jsx)("br",{}),"Name: ",u.first_name," ",u.last_name,(0,Na.jsx)("br",{}),"Email: ",u.email_address,(0,Na.jsx)("br",{}),"Club: ",u.club||"Not specified"]})}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"New Password"}),(0,Na.jsx)("input",{type:"password",value:o,onChange:e=>i(e.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",required:!0,minLength:6,placeholder:"Enter your new password"})]}),(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Confirm New Password"}),(0,Na.jsx)("input",{type:"password",value:c,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",required:!0,placeholder:"Confirm your new password"})]}),x&&(0,Na.jsx)("div",{className:"text-red-600 text-sm text-center",children:x}),(0,Na.jsxs)("div",{className:"flex gap-3",children:[(0,Na.jsx)("button",{type:"button",onClick:g,className:"flex-1 px-4 py-2 border border-neutral-300 text-neutral-600 rounded-lg font-medium hover:bg-neutral-50 transition-colors",children:"Back"}),(0,Na.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors disabled:opacity-50",disabled:p,children:p?"Resetting Password...":"Reset Password"})]})]})]}):(0,Na.jsxs)("div",{className:"max-w-md mx-auto bg-white/95 rounded-2xl p-8 shadow-lg mt-16",children:[(0,Na.jsxs)("div",{className:"text-center mb-6",children:[(0,Na.jsx)("img",{src:"/logo-color.svg",alt:"Golf League Logo",className:"h-16 w-auto mx-auto mb-4"}),(0,Na.jsx)("h1",{className:"text-3xl font-bold text-brand-black",children:"Reset Password"}),(0,Na.jsx)("p",{className:"text-neutral-600 mt-2",children:"Enter your Mighty Network email to reset your password"})]}),(0,Na.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),h(""),f(!0);try{const e=await Ws(a),{user:t,hasPassword:r}=e.data;if(!r)return void h('This account has not been claimed yet. Please use "Claim Account" instead.');m(t),s("password")}catch(n){var t,r;h((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error)||"Failed to verify email")}finally{f(!1)}},className:"space-y-6",children:[(0,Na.jsxs)("div",{children:[(0,Na.jsx)("label",{className:"block text-sm font-medium text-neutral-600 mb-1",children:"Email Address"}),(0,Na.jsx)("input",{type:"email",value:a,onChange:e=>l(e.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-neon-green focus:border-transparent",required:!0,placeholder:"Enter your email address"})]}),x&&(0,Na.jsx)("div",{className:"text-red-600 text-sm text-center",children:x}),(0,Na.jsx)("button",{type:"submit",className:"w-full px-4 py-2 bg-brand-neon-green text-brand-black rounded-lg font-medium hover:bg-green-400 transition-colors disabled:opacity-50",disabled:p,children:p?"Checking Email...":"Continue"})]}),(0,Na.jsx)("div",{className:"mt-6 text-center",children:(0,Na.jsxs)("p",{className:"text-neutral-600 text-sm",children:["Remember your password?"," ",(0,Na.jsx)("button",{onClick:()=>t("/login"),className:"text-brand-neon-green hover:text-green-400 font-medium",children:"Sign in here"})]})})]})},bo=()=>{const{viewAsMode:e,exitViewAsMode:t}=ka();return e.isActive?(0,Na.jsxs)("div",{className:"fixed top-20 right-4 z-40 bg-yellow-500 text-black px-4 py-2 rounded-lg shadow-lg border-2 border-yellow-600 flex items-center space-x-2",children:[(0,Na.jsx)(Vl,{className:"w-4 h-4"}),(0,Na.jsx)("span",{className:"font-semibold",children:"Viewing as:"}),(0,Na.jsx)("span",{className:"font-bold",children:e.viewAsRole}),(0,Na.jsx)("span",{className:"text-yellow-800",children:"from"}),(0,Na.jsx)("span",{className:"font-bold",children:e.viewAsClub}),(0,Na.jsx)("button",{onClick:t,className:"ml-2 p-1 hover:bg-yellow-600 rounded transition-colors",title:"Exit view-as mode",children:(0,Na.jsx)(tt,{className:"w-4 h-4"})})]}):null},go=()=>{const{tournamentId:e}=re();return(0,Na.jsx)(ll,{tournamentId:parseInt(e||"1"),tournamentName:"Weekly Tournament"})},yo=()=>{const{tournamentId:e}=re();return(0,Na.jsx)(Ja,{tournamentId:parseInt(e||"1"),tournamentName:"Weekly Tournament"})},vo=()=>{const e=Z(),t=new URLSearchParams(e.search).get("tournament");return console.log("AvailableTournamentsWrapper: tournamentId from query params:",t),(0,Na.jsx)(uo,{})};function jo(e){let{children:t}=e;const{user:r,loading:s}=ka(),a=Z(),l=te();return console.log("ProtectedRoute: loading=",s,"user=",r?"exists":"none","pathname=",a.pathname),(0,n.useEffect)(()=>{s||r||(console.log("ProtectedRoute: Redirecting to login from",a.pathname),l("/login",{state:{from:a.pathname+a.search}}))},[s,r,l,a]),s?(console.log("ProtectedRoute: Showing loading state"),(0,Na.jsx)("div",{className:"p-4 text-center",children:"Loading..."})):r?(console.log("ProtectedRoute: Rendering protected content for",a.pathname),(0,Na.jsx)(Na.Fragment,{children:t})):(console.log("ProtectedRoute: No user, showing loading while redirecting"),(0,Na.jsx)("div",{className:"p-4 text-center",children:"Redirecting to login..."}))}function No(e){let{children:t}=e;const{user:r,loading:s,isAdmin:a}=ka(),l=te(),o=Z();return console.log("AdminProtectedRoute: loading=",s,"user=",r?"exists":"none","role=",null===r||void 0===r?void 0:r.role,"isAdmin=",a,"pathname=",o.pathname),(0,n.useEffect)(()=>{s||(r?a||(console.log("AdminProtectedRoute: User is not admin, redirecting to home"),l("/")):(console.log("AdminProtectedRoute: No user, redirecting to login"),l("/login")))},[s,r,l,a]),s?(console.log("AdminProtectedRoute: Showing loading state"),(0,Na.jsx)("div",{className:"p-4 text-center",children:"Loading..."})):r?a?(console.log("AdminProtectedRoute: Rendering admin content for",o.pathname),(0,Na.jsx)(Na.Fragment,{children:t})):(console.log("AdminProtectedRoute: User is not admin, showing loading while redirecting"),(0,Na.jsx)("div",{className:"p-4 text-center",children:"Redirecting..."})):(console.log("AdminProtectedRoute: No user, showing loading while redirecting"),(0,Na.jsx)("div",{className:"p-4 text-center",children:"Redirecting to login..."}))}function wo(e){let{children:t}=e;const{user:r,loading:s,isAdmin:a}=ka(),l=te(),o=Z();if(console.log("ClubProProtectedRoute: loading=",s,"user=",r?"exists":"none","role=",null===r||void 0===r?void 0:r.role,"isAdmin=",a,"pathname=",o.pathname),(0,n.useEffect)(()=>{if(!s)if(r){const e=(r.role||"").toLowerCase();"club pro"===e||"clubpro"===e||a||l("/")}else l("/login")},[s,r,l,a]),s)return(0,Na.jsx)("div",{className:"p-4 text-center",children:"Loading..."});if(!r)return(0,Na.jsx)("div",{className:"p-4 text-center",children:"Redirecting to login..."});const i=(r.role||"").toLowerCase();return"club pro"===i||"clubpro"===i||a?(0,Na.jsx)(Na.Fragment,{children:t}):(0,Na.jsx)("div",{className:"p-4 text-center",children:"Redirecting..."})}function _o(){const{user:e,loading:t}=ka(),r=te(),s=Z();return console.log("HomeRoute: loading=",t,"user=",e?"exists":"none","pathname=",s.pathname),(0,n.useEffect)(()=>{!t&&e&&(console.log("HomeRoute: User is logged in, redirecting to profile"),r("/profile",{replace:!0}))},[t,e,r]),t?(console.log("HomeRoute: Showing loading state"),(0,Na.jsx)("div",{className:"p-4 text-center",children:"Loading..."})):e?(console.log("HomeRoute: User is logged in, showing loading while redirecting"),(0,Na.jsx)("div",{className:"p-4 text-center",children:"Redirecting to profile..."})):(console.log("HomeRoute: Rendering dashboard for non-authenticated user"),(0,Na.jsx)(Sa,{}))}function ko(){const[e,t]=(0,n.useState)(!1),{user:r,logout:s}=ka(),a=Z();console.log("Navigation: user=",r?"exists":"none","current pathname=",a.pathname);const l=[...r?[]:[{to:"/",icon:Qe,label:"Home"}],{to:"/leaderboard",icon:Ke,label:"Leaderboard"},{to:"/tournaments",icon:Je,label:"Tournaments"},{to:"/simulator-courses",icon:Xe,label:"Neighborhood Courses"},{to:"https://neighborhood-national.mn.co/",icon:Ze,label:"Community",external:!0},...r?[{to:"/profile",icon:et,label:"Profile"}]:[]];return(0,Na.jsxs)("nav",{className:"bg-white/95 backdrop-blur-sm shadow-lg relative z-50",children:[(0,Na.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Na.jsxs)("div",{className:"flex justify-between h-16",children:[(0,Na.jsx)("div",{className:"flex items-center",children:(0,Na.jsx)("div",{className:"flex-shrink-0",children:(0,Na.jsx)(Re,{to:"/",className:"flex items-center",children:(0,Na.jsx)("img",{src:"/Logo_N_Dark.png",alt:"NN Logo",className:"h-8 w-auto sm:h-10"})})})}),(0,Na.jsxs)("div",{className:"hidden md:flex items-center space-x-4",children:[l.map(e=>e.external?(0,Na.jsxs)("a",{href:e.to,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-3 py-2 rounded-md text-sm font-medium text-brand-black hover:bg-brand-neon-green hover:text-brand-black transition-colors",children:[(0,Na.jsx)(e.icon,{className:"w-5 h-5 mr-2"}),e.label]},e.to):(0,Na.jsxs)(Re,{to:e.to,className:"flex items-center px-3 py-2 rounded-md text-sm font-medium text-brand-black hover:bg-brand-neon-green hover:text-brand-black transition-colors",children:[(0,Na.jsx)(e.icon,{className:"w-5 h-5 mr-2"}),e.label]},e.to)),(0,Na.jsx)("div",{className:"ml-4 flex items-center space-x-2",children:r?(0,Na.jsx)(Na.Fragment,{children:(0,Na.jsx)("button",{onClick:s,className:"flex items-center px-3 py-2 rounded-md text-sm font-medium text-red-600 hover:bg-red-50 transition-colors",children:"Logout"})}):(0,Na.jsx)(Na.Fragment,{children:(0,Na.jsx)(Re,{to:"/login",className:"flex items-center px-3 py-2 rounded-md text-sm font-medium text-brand-black hover:bg-brand-neon-green hover:text-brand-black transition-colors",children:"Login"})})})]}),(0,Na.jsx)("div",{className:"md:hidden flex items-center",children:(0,Na.jsxs)("button",{onClick:()=>t(!e),className:"inline-flex items-center justify-center p-3 rounded-md text-brand-black hover:bg-brand-neon-green hover:text-brand-black transition-colors focus:outline-none focus:ring-2 focus:ring-brand-neon-green focus:ring-offset-2","aria-expanded":"false","aria-label":"Toggle navigation menu",children:[(0,Na.jsx)("span",{className:"sr-only",children:"Open main menu"}),e?(0,Na.jsx)(tt,{className:"block h-6 w-6","aria-hidden":"true"}):(0,Na.jsx)(rt,{className:"block h-6 w-6","aria-hidden":"true"})]})})]})}),(0,Na.jsx)("div",{className:"md:hidden ".concat(e?"block":"hidden"),children:(0,Na.jsxs)("div",{className:"px-4 pt-2 pb-4 space-y-2 bg-white/95 backdrop-blur-sm border-t border-gray-200",children:[l.map(e=>e.external?(0,Na.jsxs)("a",{href:e.to,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-3 rounded-lg text-base font-medium text-brand-black hover:bg-brand-neon-green hover:text-brand-black transition-colors",onClick:()=>t(!1),children:[(0,Na.jsx)(e.icon,{className:"w-6 h-6 mr-3"}),e.label]},e.to):(0,Na.jsxs)(Re,{to:e.to,className:"flex items-center px-4 py-3 rounded-lg text-base font-medium text-brand-black hover:bg-brand-neon-green hover:text-brand-black transition-colors",onClick:()=>t(!1),children:[(0,Na.jsx)(e.icon,{className:"w-6 h-6 mr-3"}),e.label]},e.to)),(0,Na.jsx)("div",{className:"border-t border-gray-200 pt-3 mt-3",children:r?(0,Na.jsx)(Na.Fragment,{children:(0,Na.jsx)("button",{onClick:()=>{s(),t(!1)},className:"flex items-center w-full px-4 py-3 rounded-lg text-base font-medium text-red-600 hover:bg-red-50 transition-colors",children:"Logout"})}):(0,Na.jsx)(Na.Fragment,{children:(0,Na.jsx)(Re,{to:"/login",className:"flex items-center px-4 py-3 rounded-lg text-base font-medium text-brand-black hover:bg-brand-neon-green hover:text-brand-black transition-colors",onClick:()=>t(!1),children:"Login"})})})]})})]})}function So(){return(0,Na.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-brand-dark-green to-brand-muted-green",children:[(0,Na.jsx)(bo,{}),(0,Na.jsx)(ko,{}),(0,Na.jsxs)(ve,{children:[(0,Na.jsx)(ge,{path:"/weekly-scoring/:tournamentId",element:(0,Na.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,Na.jsx)(jo,{children:(0,Na.jsx)(go,{})})})}),(0,Na.jsx)(ge,{path:"/weekly-leaderboard/:tournamentId",element:(0,Na.jsx)(yo,{})}),(0,Na.jsx)(ge,{path:"/",element:(0,Na.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,Na.jsx)(_o,{})})}),(0,Na.jsx)(ge,{path:"/leaderboard",element:(0,Na.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,Na.jsx)(rn,{})})}),(0,Na.jsx)(ge,{path:"/leaderboard/tournament/:tournamentId",element:(0,Na.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,Na.jsx)(rn,{})})}),(0,Na.jsx)(ge,{path:"/tournaments",element:(0,Na.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,Na.jsx)(jo,{children:(0,Na.jsx)(vo,{})})})}),(0,Na.jsx)(ge,{path:"/club-pro",element:(0,Na.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,Na.jsx)(wo,{children:(0,Na.jsx)(mo,{})})})}),(0,Na.jsx)(ge,{path:"/scoring",element:(0,Na.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,Na.jsx)($n,{})})}),(0,Na.jsx)(ge,{path:"/tournament-scoring",element:(0,Na.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,Na.jsx)(jo,{children:(0,Na.jsx)(dl,{})})})}),(0,Na.jsx)(ge,{path:"/simulator-courses",element:(0,Na.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,Na.jsx)(to,{})})}),(0,Na.jsx)(ge,{path:"/profile",element:(0,Na.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,Na.jsx)(jo,{children:(0,Na.jsx)(Jl,{})})})}),(0,Na.jsx)(ge,{path:"/admin",element:(0,Na.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,Na.jsx)(jo,{children:(0,Na.jsx)(hl,{})})})}),(0,Na.jsx)(ge,{path:"/tournament-management",element:(0,Na.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,Na.jsx)(jo,{children:(0,Na.jsx)(Ml,{})})})}),(0,Na.jsx)(ge,{path:"/user-tracking",element:(0,Na.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,Na.jsx)(No,{children:(0,Na.jsx)(oo,{})})})}),(0,Na.jsx)(ge,{path:"/admin/users/:userId",element:(0,Na.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,Na.jsx)(No,{children:(0,Na.jsx)(io,{})})})}),(0,Na.jsx)(ge,{path:"/login",element:(0,Na.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,Na.jsx)(xo,{})})}),(0,Na.jsx)(ge,{path:"/claim-account",element:(0,Na.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,Na.jsx)(po,{})})}),(0,Na.jsx)(ge,{path:"/reset-password",element:(0,Na.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,Na.jsx)(fo,{})})}),(0,Na.jsx)(ge,{path:"/password-setup",element:(0,Na.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:(0,Na.jsx)(jo,{children:(0,Na.jsx)(ho,{})})})})]})]})}const Co=function(){return(0,Na.jsx)(_a,{children:(0,Na.jsxs)(Te,{children:[(0,Na.jsx)(So,{}),(0,Na.jsx)(Gn,{})]})})},Eo=e=>{e&&e instanceof Function&&r.e(453).then(r.bind(r,453)).then(t=>{let{getCLS:r,getFID:s,getFCP:a,getLCP:n,getTTFB:l}=t;r(e),s(e),a(e),n(e),l(e)})};o.createRoot(document.getElementById("root")).render((0,Na.jsx)(n.StrictMode,{children:(0,Na.jsx)(Co,{})})),Eo()})();
//# sourceMappingURL=main.6a05e380.js.map